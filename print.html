<!DOCTYPE HTML>
<html lang="fa" class="light" dir="rtl">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Rust Programming Language</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="ferris.css">
        <link rel="stylesheet" href="theme/2018-edition.css">
        <link rel="stylesheet" href="theme/semantic-notes.css">
        <link rel="stylesheet" href="theme/listing.css">
        <link rel="stylesheet" href="theme/custom.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title-page.html">ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุช</a></li><li class="chapter-item expanded affix "><a href="foreword.html">ูพุดโฺฏูุชุงุฑ</a></li><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">ููุฏูู</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> ุดุฑูุน ฺฉุงุฑ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> ูุตุจ</a></li><li class="chapter-item expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.2.</strong> ุณูุงูุ ุฏูุง!</a></li><li class="chapter-item expanded "><a href="ch01-03-hello-cargo.html"><strong aria-hidden="true">1.3.</strong> ุณูุงูุ Cargo!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-guessing-game-tutorial.html"><strong aria-hidden="true">2.</strong> ุจุฑูุงููโููุณ ฺฉ ุจุงุฒ ุญุฏุณ ุฒุฏู</a></li><li class="chapter-item expanded "><a href="ch03-00-common-programming-concepts.html"><strong aria-hidden="true">3.</strong> ููุงูู ุฑุงุฌ ุจุฑูุงููโููุณ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-variables-and-mutability.html"><strong aria-hidden="true">3.1.</strong> ูุชุบุฑูุง ู ุชุบุฑูพุฐุฑ</a></li><li class="chapter-item expanded "><a href="ch03-02-data-types.html"><strong aria-hidden="true">3.2.</strong> ุงููุงุน ุฏุงุฏู</a></li><li class="chapter-item expanded "><a href="ch03-03-how-functions-work.html"><strong aria-hidden="true">3.3.</strong> ุชูุงุจุน</a></li><li class="chapter-item expanded "><a href="ch03-04-comments.html"><strong aria-hidden="true">3.4.</strong> ฺฉุงููุชโูุง</a></li><li class="chapter-item expanded "><a href="ch03-05-control-flow.html"><strong aria-hidden="true">3.5.</strong> ฺฉูุชุฑู ุฌุฑุงู</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-understanding-ownership.html"><strong aria-hidden="true">4.</strong> ุฏุฑฺฉ ูุงูฺฉุช</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-what-is-ownership.html"><strong aria-hidden="true">4.1.</strong> ูุงูฺฉุช ฺุณุชุ</a></li><li class="chapter-item expanded "><a href="ch04-02-references-and-borrowing.html"><strong aria-hidden="true">4.2.</strong> ุงุฑุฌุงุนุงุช ู ูุฑุถ ฺฏุฑูุชู</a></li><li class="chapter-item expanded "><a href="ch04-03-slices.html"><strong aria-hidden="true">4.3.</strong> ููุน Slice</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-structs.html"><strong aria-hidden="true">5.</strong> ุงุณุชูุงุฏู ุงุฒ Structูุง ุจุฑุง ุณุงุฒูุงูุฏู ุฏุงุฏูโูุง ูุฑุชุจุท</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-defining-structs.html"><strong aria-hidden="true">5.1.</strong> ุชุนุฑู ู ูููููโุณุงุฒ Structูุง</a></li><li class="chapter-item expanded "><a href="ch05-02-example-structs.html"><strong aria-hidden="true">5.2.</strong> ฺฉ ุจุฑูุงูู ููููู ุจุง ุงุณุชูุงุฏู ุงุฒ Structูุง</a></li><li class="chapter-item expanded "><a href="ch05-03-method-syntax.html"><strong aria-hidden="true">5.3.</strong> ูุชุฏ</a></li></ol></li><li class="chapter-item expanded "><a href="ch06-00-enums.html"><strong aria-hidden="true">6.</strong> ุดูุงุฑูุฏูโูุง ู ุชุทุงุจู ุงูฺฏู</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch06-01-defining-an-enum.html"><strong aria-hidden="true">6.1.</strong> ุชุนุฑู ฺฉ Enum</a></li><li class="chapter-item expanded "><a href="ch06-02-match.html"><strong aria-hidden="true">6.2.</strong> ุณุงุฎุชุงุฑ ุฌุฑุงู ฺฉูุชุฑู match</a></li><li class="chapter-item expanded "><a href="ch06-03-if-let.html"><strong aria-hidden="true">6.3.</strong> ุฌุฑุงู ฺฉูุชุฑู ูุฎุชุตุฑ ุจุง if let ู let else</a></li></ol></li><li class="chapter-item expanded "><a href="ch07-00-managing-growing-projects-with-packages-crates-and-modules.html"><strong aria-hidden="true">7.</strong> ูุฏุฑุช ูพุฑูฺูโูุง ุฏุฑ ุญุงู ุฑุดุฏ ุจุง ูพฺฉุฌโูุงุ ุฌุนุจูโูุง (crates)ุ ู ูุงฺููโูุง</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch07-01-packages-and-crates.html"><strong aria-hidden="true">7.1.</strong> ูพฺฉุฌโูุง ู ุฌุนุจูโูุง (crates)</a></li><li class="chapter-item expanded "><a href="ch07-02-defining-modules-to-control-scope-and-privacy.html"><strong aria-hidden="true">7.2.</strong> ุชุนุฑู ูุงฺููโูุง ุจุฑุง ฺฉูุชุฑู ุฏุงููู ู ุญุฑู ุฎุตูุต</a></li><li class="chapter-item expanded "><a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html"><strong aria-hidden="true">7.3.</strong> ูุณุฑูุง ุจุฑุง ุงุฑุฌุงุน ุจู ฺฉ ุขุชู ุฏุฑ ุฏุฑุฎุช ูุงฺูู</a></li><li class="chapter-item expanded "><a href="ch07-04-bringing-paths-into-scope-with-the-use-keyword.html"><strong aria-hidden="true">7.4.</strong> ูุงุฑุฏ ฺฉุฑุฏู ูุณุฑูุง ุจุง ฺฉููู ฺฉูุฏ use</a></li><li class="chapter-item expanded "><a href="ch07-05-separating-modules-into-different-files.html"><strong aria-hidden="true">7.5.</strong> ุฌุฏุงุณุงุฒ ูุงฺููโูุง ุจู ูุงูโูุง ูุฎุชูู</a></li></ol></li><li class="chapter-item expanded "><a href="ch08-00-common-collections.html"><strong aria-hidden="true">8.</strong> ูุฌููุนูโูุง ุฑุงุฌ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch08-01-vectors.html"><strong aria-hidden="true">8.1.</strong> ุฐุฎุฑู ูุณุช ููุงุฏุฑ ุจุง ุจุฑุฏุงุฑูุง</a></li><li class="chapter-item expanded "><a href="ch08-02-strings.html"><strong aria-hidden="true">8.2.</strong> ุฐุฎุฑู ูุชู ุฑูุฒฺฏุฐุงุฑโุดุฏู UTF-8 ุจุง ุฑุดุชูโูุง</a></li><li class="chapter-item expanded "><a href="ch08-03-hash-maps.html"><strong aria-hidden="true">8.3.</strong> ุฐุฎุฑู ฺฉูุฏูุง ุจุง ููุงุฏุฑ ูุฑุชุจุท ุฏุฑ ููุดูโูุง ูุด</a></li></ol></li><li class="chapter-item expanded "><a href="ch09-00-error-handling.html"><strong aria-hidden="true">9.</strong> ูุฏุฑุช ุฎุทุงูุง</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch09-01-unrecoverable-errors-with-panic.html"><strong aria-hidden="true">9.1.</strong> ุฎุทุงูุง ุบุฑูุงุจู ุจุงุฒุงุจ ุจุง panic!</a></li><li class="chapter-item expanded "><a href="ch09-02-recoverable-errors-with-result.html"><strong aria-hidden="true">9.2.</strong> ุฎุทุงูุง ูุงุจู ุจุงุฒุงุจ ุจุง Result</a></li><li class="chapter-item expanded "><a href="ch09-03-to-panic-or-not-to-panic.html"><strong aria-hidden="true">9.3.</strong> ุขุง ุงุฒ panic! ุงุณุชูุงุฏู ฺฉูู ุง ููุ</a></li></ol></li><li class="chapter-item expanded "><a href="ch10-00-generics.html"><strong aria-hidden="true">10.</strong> ุงููุงุน ุฌูุฑฺฉุ ุตูุชโูุงุ ู ุทูู ุนูุฑูุง</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch10-01-syntax.html"><strong aria-hidden="true">10.1.</strong> ุงููุงุน ุฏุงุฏู ุฌูุฑฺฉ</a></li><li class="chapter-item expanded "><a href="ch10-02-traits.html"><strong aria-hidden="true">10.2.</strong> ุตูุชโูุง: ุชุนุฑู ุฑูุชุงุฑูุง ูุดุชุฑฺฉ</a></li><li class="chapter-item expanded "><a href="ch10-03-lifetime-syntax.html"><strong aria-hidden="true">10.3.</strong> ุงุนุชุจุงุฑุณูุฌ ุงุฑุฌุงุนุงุช ุจุง ุทูู ุนูุฑูุง</a></li></ol></li><li class="chapter-item expanded "><a href="ch11-00-testing.html"><strong aria-hidden="true">11.</strong> ููุดุชู ุชุณุชโูุง ุฎูุฏฺฉุงุฑ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch11-01-writing-tests.html"><strong aria-hidden="true">11.1.</strong> ฺฺฏููู ุชุณุช ุจููุณู</a></li><li class="chapter-item expanded "><a href="ch11-02-running-tests.html"><strong aria-hidden="true">11.2.</strong> ฺฉูุชุฑู ูุญูู ุงุฌุฑุง ุชุณุชโูุง</a></li><li class="chapter-item expanded "><a href="ch11-03-test-organization.html"><strong aria-hidden="true">11.3.</strong> ุณุงุฒูุงูุฏู ุชุณุชโูุง</a></li></ol></li><li class="chapter-item expanded "><a href="ch12-00-an-io-project.html"><strong aria-hidden="true">12.</strong> ฺฉ ูพุฑูฺู I/O: ุณุงุฎุช ฺฉ ุจุฑูุงูู ุฎุท ูุฑูุงู</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch12-01-accepting-command-line-arguments.html"><strong aria-hidden="true">12.1.</strong> ูพุฐุฑุด ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู</a></li><li class="chapter-item expanded "><a href="ch12-02-reading-a-file.html"><strong aria-hidden="true">12.2.</strong> ุฎูุงูุฏู ฺฉ ูุงู</a></li><li class="chapter-item expanded "><a href="ch12-03-improving-error-handling-and-modularity.html"><strong aria-hidden="true">12.3.</strong> ุจุงุฒุณุงุฒ ุจุฑุง ุจูุจูุฏ ูุงฺููุงุฑุช ู ูุฏุฑุช ุฎุทุง</a></li><li class="chapter-item expanded "><a href="ch12-04-testing-the-librarys-functionality.html"><strong aria-hidden="true">12.4.</strong> ุชูุณุนู ูุงุจูุชโูุง ฺฉุชุงุจุฎุงูู ุจุง ุชูุณุนู ูุจุชู ุจุฑ ุชุณุช</a></li><li class="chapter-item expanded "><a href="ch12-05-working-with-environment-variables.html"><strong aria-hidden="true">12.5.</strong> ฺฉุงุฑ ุจุง ูุชุบุฑูุง ูุญุท</a></li><li class="chapter-item expanded "><a href="ch12-06-writing-to-stderr-instead-of-stdout.html"><strong aria-hidden="true">12.6.</strong> ููุดุชู ูพุงูโูุง ุฎุทุง ุจู ุฎุฑูุฌ ุฎุทุง ุจู ุฌุง ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ</a></li></ol></li><li class="chapter-item expanded "><a href="ch13-00-functional-features.html"><strong aria-hidden="true">13.</strong> ูฺฺฏโูุง ุฒุจุงูโูุง ุชุงุจุน: Iteratorูุง ู Closureูุง</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch13-01-closures.html"><strong aria-hidden="true">13.1.</strong> Closureูุง: ุชูุงุจุน ูุงุดูุงุฎุชู ฺฉู ูุญุท ุฎูุฏ ุฑุง ูโฺฏุฑูุฏ</a></li><li class="chapter-item expanded "><a href="ch13-02-iterators.html"><strong aria-hidden="true">13.2.</strong> ูพุฑุฏุงุฒุด ฺฉ ุณุฑ ุขุชู ุจุง Iteratorูุง</a></li><li class="chapter-item expanded "><a href="ch13-03-improving-our-io-project.html"><strong aria-hidden="true">13.3.</strong> ุจูุจูุฏ ูพุฑูฺู I/O ูุง</a></li><li class="chapter-item expanded "><a href="ch13-04-performance.html"><strong aria-hidden="true">13.4.</strong> ููุงุณู ุนููฺฉุฑุฏ: ุญูููโูุง ุฏุฑ ููุงุจู Iteratorูุง</a></li></ol></li><li class="chapter-item expanded "><a href="ch14-00-more-about-cargo.html"><strong aria-hidden="true">14.</strong> ุจุดุชุฑ ุฏุฑุจุงุฑู Cargo ู Crates.io</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch14-01-release-profiles.html"><strong aria-hidden="true">14.1.</strong> ุณูุงุฑุดโุณุงุฒ ุจูุฏูุง ุจุง ูพุฑููุงูโูุง ุงูุชุดุงุฑ</a></li><li class="chapter-item expanded "><a href="ch14-02-publishing-to-crates-io.html"><strong aria-hidden="true">14.2.</strong> ููุชุดุฑ ฺฉุฑุฏู ฺฉ crate ุฏุฑ Crates.io</a></li><li class="chapter-item expanded "><a href="ch14-03-cargo-workspaces.html"><strong aria-hidden="true">14.3.</strong> ูุญุทโูุง ฺฉุงุฑ Cargo</a></li><li class="chapter-item expanded "><a href="ch14-04-installing-binaries.html"><strong aria-hidden="true">14.4.</strong> ูุตุจ ุจุงูุฑโูุง ุงุฒ Crates.io ุจุง cargo install</a></li><li class="chapter-item expanded "><a href="ch14-05-extending-cargo.html"><strong aria-hidden="true">14.5.</strong> ฺฏุณุชุฑุด Cargo ุจุง ุฏุณุชูุฑุงุช ุณูุงุฑุด</a></li></ol></li><li class="chapter-item expanded "><a href="ch15-00-smart-pointers.html"><strong aria-hidden="true">15.</strong> ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch15-01-box.html"><strong aria-hidden="true">15.1.</strong> ุงุณุชูุงุฏู ุงุฒ Box&lt;T&gt; ุจุฑุง ุงุดุงุฑู ุจู ุฏุงุฏูโูุง ุฏุฑ Heap</a></li><li class="chapter-item expanded "><a href="ch15-02-deref.html"><strong aria-hidden="true">15.2.</strong> ุฑูุชุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ูุงููุฏ ุงุฑุฌุงุนุงุช ูุนููู ุจุง ุตูุช Deref</a></li><li class="chapter-item expanded "><a href="ch15-03-drop.html"><strong aria-hidden="true">15.3.</strong> ุงุฌุฑุง ฺฉุฏ ููฺฏุงู ูพุงฺฉโุณุงุฒ ุจุง ุตูุช Drop</a></li><li class="chapter-item expanded "><a href="ch15-04-rc.html"><strong aria-hidden="true">15.4.</strong> Rc&lt;T&gt;ุ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุจุง ุดูุงุฑุด ุงุฑุฌุงุนุงุช</a></li><li class="chapter-item expanded "><a href="ch15-05-interior-mutability.html"><strong aria-hidden="true">15.5.</strong> RefCell&lt;T&gt; ู ุงูฺฏู ุชุบุฑูพุฐุฑ ุฏุงุฎู</a></li><li class="chapter-item expanded "><a href="ch15-06-reference-cycles.html"><strong aria-hidden="true">15.6.</strong> ฺุฑุฎูโูุง ุงุฑุฌุงุน ูโุชูุงููุฏ ุจุงุนุซ ูุดุช ุญุงูุธู ุดููุฏ</a></li></ol></li><li class="chapter-item expanded "><a href="ch16-00-concurrency.html"><strong aria-hidden="true">16.</strong> ููุฒูุงู ุจุฏูู ุชุฑุณ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch16-01-threads.html"><strong aria-hidden="true">16.1.</strong> ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง ุจุฑุง ุงุฌุฑุง ููุฒูุงู ฺฉุฏ</a></li><li class="chapter-item expanded "><a href="ch16-02-message-passing.html"><strong aria-hidden="true">16.2.</strong> ุงุณุชูุงุฏู ุงุฒ ูพุงูโุฑุณุงู ุจุฑุง ุงูุชูุงู ุฏุงุฏู ุจู ูุฎโูุง</a></li><li class="chapter-item expanded "><a href="ch16-03-shared-state.html"><strong aria-hidden="true">16.3.</strong> ููุฒูุงู ุจุง ูุถุนุช ูุดุชุฑฺฉ</a></li><li class="chapter-item expanded "><a href="ch16-04-extensible-concurrency-sync-and-send.html"><strong aria-hidden="true">16.4.</strong> ููุฒูุงู ูุงุจู ฺฏุณุชุฑุด ุจุง ุตูุชโูุง Sync ู Send</a></li></ol></li><li class="chapter-item expanded "><a href="ch17-00-async-await.html"><strong aria-hidden="true">17.</strong> Async ู Await</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch17-01-futures-and-syntax.html"><strong aria-hidden="true">17.1.</strong> Futures ู ูุญู Async</a></li><li class="chapter-item expanded "><a href="ch17-02-concurrency-with-async.html"><strong aria-hidden="true">17.2.</strong> ููุฒูุงู ุจุง Async</a></li><li class="chapter-item expanded "><a href="ch17-03-more-futures.html"><strong aria-hidden="true">17.3.</strong> ฺฉุงุฑ ุจุง ุชุนุฏุงุฏ ุฏูุฎูุงู ุงุฒ Futures</a></li><li class="chapter-item expanded "><a href="ch17-04-streams.html"><strong aria-hidden="true">17.4.</strong> Streams</a></li><li class="chapter-item expanded "><a href="ch17-05-traits-for-async.html"><strong aria-hidden="true">17.5.</strong> ุจุฑุฑุณ ุนูู ุตูุชโูุง ุจุฑุง Async</a></li><li class="chapter-item expanded "><a href="ch17-06-futures-tasks-threads.html"><strong aria-hidden="true">17.6.</strong> Futuresุ Tasksุ ู Threads</a></li></ol></li><li class="chapter-item expanded "><a href="ch18-00-oop.html"><strong aria-hidden="true">18.</strong> ูฺฺฏโูุง ุจุฑูุงููโููุณ ุดโฺฏุฑุง ุฏุฑ Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch18-01-what-is-oo.html"><strong aria-hidden="true">18.1.</strong> ูฺฺฏโูุง ุฒุจุงูโูุง ุดโฺฏุฑุง</a></li><li class="chapter-item expanded "><a href="ch18-02-trait-objects.html"><strong aria-hidden="true">18.2.</strong> ุงุณุชูุงุฏู ุงุฒ ุตูุชโูุง ุดโฺฏุฑุง ุจุฑุง ููุงุฏุฑ ุงุฒ ุชุงูพโูุง ูุฎุชูู</a></li><li class="chapter-item expanded "><a href="ch18-03-oo-design-patterns.html"><strong aria-hidden="true">18.3.</strong> ูพุงุฏูโุณุงุฒ ฺฉ ุงูฺฏู ุทุฑุงุญ ุดโฺฏุฑุง</a></li></ol></li><li class="chapter-item expanded "><a href="ch19-00-patterns.html"><strong aria-hidden="true">19.</strong> ุงูฺฏููุง ู ุชุทุจู</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch19-01-all-the-places-for-patterns.html"><strong aria-hidden="true">19.1.</strong> ุชูุงู ูฺฉุงูโูุง ฺฉู ูโุชูุงู ุงุฒ ุงูฺฏููุง ุงุณุชูุงุฏู ฺฉุฑุฏ</a></li><li class="chapter-item expanded "><a href="ch19-02-refutability.html"><strong aria-hidden="true">19.2.</strong> ูุงุจูุช ุฑุฏ: ุขุง ููฺฉู ุงุณุช ฺฉ ุงูฺฏู ุจุง ููุฏุงุฑ ูุทุงุจูุช ูุฏุงุดุชู ุจุงุดุฏุ</a></li><li class="chapter-item expanded "><a href="ch19-03-pattern-syntax.html"><strong aria-hidden="true">19.3.</strong> ูุญู ุงูฺฏููุง</a></li></ol></li><li class="chapter-item expanded "><a href="ch20-00-advanced-features.html"><strong aria-hidden="true">20.</strong> ูฺฺฏโูุง ูพุดุฑูุชู</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch20-01-unsafe-rust.html"><strong aria-hidden="true">20.1.</strong> Rust ูุงุงูู</a></li><li class="chapter-item expanded "><a href="ch20-02-advanced-traits.html"><strong aria-hidden="true">20.2.</strong> Traits ูพุดุฑูุชู</a></li><li class="chapter-item expanded "><a href="ch20-03-advanced-types.html"><strong aria-hidden="true">20.3.</strong> ุชุงูพโูุง ูพุดุฑูุชู</a></li><li class="chapter-item expanded "><a href="ch20-04-advanced-functions-and-closures.html"><strong aria-hidden="true">20.4.</strong> ุชูุงุจุน ู Closures ูพุดุฑูุชู</a></li><li class="chapter-item expanded "><a href="ch20-05-macros.html"><strong aria-hidden="true">20.5.</strong> ูุงฺฉุฑููุง</a></li></ol></li><li class="chapter-item expanded "><a href="ch21-00-final-project-a-web-server.html"><strong aria-hidden="true">21.</strong> ูพุฑูฺู ููุง: ุณุงุฎุช ฺฉ ูุจโุณุฑูุฑ ฺูุฏูุฎ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch21-01-single-threaded.html"><strong aria-hidden="true">21.1.</strong> ุณุงุฎุช ฺฉ ูุจโุณุฑูุฑ single-threaded</a></li><li class="chapter-item expanded "><a href="ch21-02-multithreaded.html"><strong aria-hidden="true">21.2.</strong> ุชุจุฏู ูุจโุณุฑูุฑ ุชฺฉโูุฎ ุจู ูุจโุณุฑูุฑ ฺูุฏูุฎ</a></li><li class="chapter-item expanded "><a href="ch21-03-graceful-shutdown-and-cleanup.html"><strong aria-hidden="true">21.3.</strong> ุฎุงููุด ููุงู ู ูพุงฺฉโุณุงุฒ</a></li></ol></li><li class="chapter-item expanded "><a href="appendix-00.html"><strong aria-hidden="true">22.</strong> ุถููู</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-01-keywords.html"><strong aria-hidden="true">22.1.</strong> ุงูู - ฺฉููุงุช ฺฉูุฏ</a></li><li class="chapter-item expanded "><a href="appendix-02-operators.html"><strong aria-hidden="true">22.2.</strong> ุจ - ุนููฺฏุฑูุง ู ููุงุฏูุง</a></li><li class="chapter-item expanded "><a href="appendix-03-derivable-traits.html"><strong aria-hidden="true">22.3.</strong> ุฌ - ุตูุชโูุง ูุงุจู ุงุดุชูุงู</a></li><li class="chapter-item expanded "><a href="appendix-04-useful-development-tools.html"><strong aria-hidden="true">22.4.</strong> ุฏ - ุงุจุฒุงุฑูุง ุชูุณุนู ููุฏ</a></li><li class="chapter-item expanded "><a href="appendix-05-editions.html"><strong aria-hidden="true">22.5.</strong> ู - ูุณุฎูโูุง</a></li><li class="chapter-item expanded "><a href="appendix-06-translation.html"><strong aria-hidden="true">22.6.</strong> ู - ุชุฑุฌููโูุง ฺฉุชุงุจ</a></li><li class="chapter-item expanded "><a href="appendix-07-nightly-rust.html"><strong aria-hidden="true">22.7.</strong>  - ฺฺฏููู Rust ุณุงุฎุชู ูโุดูุฏ ู "Nightly Rust"</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/persian-rust/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ุฒุจุงู-ุจุฑูุงููููุณ-ุฑุงุณุช"><a class="header" href="#ุฒุจุงู-ุจุฑูุงููููุณ-ุฑุงุณุช">ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุช</a></h1>
<p><em>ููุดุชู ุงุณุชู ฺฉูุงุจูฺฉุ ฺฉุงุฑูู ูฺฉููุฒุ ู ฺฉุฑุณ ฺฉุฑฺูุ ุจุง ูุดุงุฑฺฉุช ุงุนุถุง ุฌุงูุนู ุฑุงุณุช</em></p>
<p>ุงู ูุณุฎู ุงุฒ ูุชู ูุฑุถ ูโฺฉูุฏ ฺฉู ุดูุง ุงุฒ ุฑุงุณุช ูุณุฎู 1.82.0 (ููุชุดุฑ ุดุฏู ุฏุฑ ุชุงุฑุฎ 17-10-2024) ุง ูุณุฎูโูุง ุฌุฏุฏุชุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจุฑุง ูุตุจ ุง ุจูโุฑูุฒุฑุณุงู ุฑุงุณุช ุจู <a href="ch01-01-installation.html">ุจุฎุด โูุตุจโ ุงุฒ ูุตู 1</a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ูุฑูุช HTML ุจูโุตูุฑุช ุขููุงู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช ุฏุฑ
<a href="https://doc.rust-lang.org/stable/book/">https://doc.rust-lang.org/stable/book/</a>
ู ุจูโุตูุฑุช ุขููุงู ุจุง ูุตุจโูุง ุฑุงุณุช ฺฉู ุจุง <code>rustup</code> ุงูุฌุงู ุดุฏูโุงูุฏุ ุฏุณุชูุฑ <code>rustup doc --book</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุจุงุฒ ุดูุฏ.</p>
<p>ฺูุฏู [ุชุฑุฌูู] ุฌุงูุนู ูุฒ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<p>ุงู ูุชู ุฏุฑ <a href="https://nostarch.com/rust-programming-language-2nd-edition">ูุฑูุช ฺฉุงุบุฐ ู ุงูฺฉุชุฑููฺฉ ุงุฒ ุงูุชุดุงุฑุงุช No Starch Press</a> ูุฒ ููุฌูุฏ ุงุณุช.</p>
<blockquote>
<p><strong>๐จ ูโุฎูุงูุฏ ุชุฌุฑุจู ุงุฏฺฏุฑ ุชุนุงููโุชุฑ ุฏุงุดุชู ุจุงุดุฏุ ูุณุฎู ุฏฺฏุฑ ุงุฒ ฺฉุชุงุจ ุฑุงุณุช ุฑุง ุงูุชุญุงู ฺฉูุฏ ฺฉู ุดุงูู: ุขุฒูููโูุงุ ุจุฑุฌุณุชูโุณุงุฒโูุงุ ุชุฌุณูโูุงุ ู ููุงุฑุฏ ุฏฺฏุฑ ุงุณุช</strong>: <a href="https://rust-book.cs.brown.edu">https://rust-book.cs.brown.edu</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูพุดฺฏูุชุงุฑ"><a class="header" href="#ูพุดฺฏูุชุงุฑ">ูพุดโฺฏูุชุงุฑ</a></h1>
<p>ููุดู ุงูโูุฏุฑ ูุงุถุญ ูุจูุฏุ ุงูุง ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุช ุงุณุงุณุงู ุฏุฑุจุงุฑู <em>ุชูุงูููุฏุณุงุฒ</em> ุงุณุช: ูุฑู ููโฺฉูุฏ ฺู ููุน ฺฉุฏ ุงฺฉููู ูโููุณุฏุ ุฑุงุณุช ุจู ุดูุง ุงู ูุฏุฑุช ุฑุง ูโุฏูุฏ ฺฉู ูุฑุงุชุฑ ุจุฑูุฏุ ุจุง ุงุนุชูุงุฏุจูโููุณ ุฏุฑ ุทู ูุณุนโุชุฑ ุงุฒ ุญูุฒูโูุง ุจุฑูุงููโููุณ ฺฉูุฏ.</p>
<p>ุจูโุนููุงู ูุซุงูุ ฺฉุงุฑูุง โุฏุฑ ุณุทุญ ุณุณุชูโ ฺฉู ุจุง ุฌุฒุฆุงุช ุณุทุญ ูพุงู ูุฏุฑุช ุญุงูุธูุ ููุงุด ุฏุงุฏูโูุง ู ููุฑููุฏ ุณุฑ ู ฺฉุงุฑ ุฏุงุฑูุฏ. ุจู ุทูุฑ ุณูุชุ ุงู ุญูุฒู ุงุฒ ุจุฑูุงููโููุณ ูพฺุฏู ู ููุท ุจุฑุง ุนุฏู ูุนุฏูุฏ ูุงุจู ุฏุณุชุฑุณ ุงุณุช ฺฉู ุณุงูโูุง ูุงุฒู ุฑุง ุจุฑุง ุงุฌุชูุงุจ ุงุฒ ูุดฺฉูุงุช ูุนุฑูู ุขู ุตุฑู ฺฉุฑุฏูโุงูุฏ. ุญุช ฺฉุณุงู ฺฉู ุฏุฑ ุงู ุฒููู ูุนุงูุช ูโฺฉููุฏ ูุฒ ุจุง ุงุญุชุงุท ุนูู ูโฺฉููุฏ ุชุง ฺฉุฏ ุขูโูุง ุฏุฑ ูุนุฑุถ ุจูุฑูโุจุฑุฏุงุฑุ ุฎุฑุงุจ ุง ุฎุฑุงุจ ุฏุงุฏูโูุง ูุฑุงุฑ ูฺฏุฑุฏ.</p>
<p>ุฑุงุณุช ุงู ููุงูุน ุฑุง ุงุฒ ุจู ูโุจุฑุฏ ู ุจุง ุญุฐู ูุดฺฉูุงุช ูุฏู ู ุงุฑุงุฆู ูุฌููุนูโุง ุฏูุณุชุงูู ู ุตููโุฎูุฑุฏู ุงุฒ ุงุจุฒุงุฑูุง ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ. ุจุฑูุงููโููุณุงู ฺฉู ูุงุฒ ุฏุงุฑูุฏ ุจู ฺฉูุชุฑูโูุง ุณุทุญ ูพุงูโุชุฑ โูุฑู ุฑููุฏโุ ูโุชูุงููุฏ ุงู ฺฉุงุฑ ุฑุง ุจุง ุฑุงุณุช ุงูุฌุงู ุฏููุฏุ ุจุฏูู ูพุฐุฑุด ุฎุทุฑ ูุนููู ุฎุฑุงุจโูุง ุง ูุดฺฉูุงุช ุงููุช ู ุจุฏูู ูุงุฒ ุจู ุงุฏฺฏุฑ ุฌุฒุฆุงุช ุงุจุฒุงุฑูุง ูพฺุฏู. ุจูุชุฑ ุงุฒ ุขูุ ุงู ุฒุจุงู ุทูุฑ ุทุฑุงุญ ุดุฏู ุงุณุช ฺฉู ุดูุง ุฑุง ุจูโุตูุฑุช ุทุจุน ุจู ุณูุช ฺฉุฏ ูุงุจูโุงุทููุงู ู ฺฉุงุฑุขูุฏ ุงุฒ ูุธุฑ ุณุฑุนุช ู ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู ูุฏุงุช ูโฺฉูุฏ.</p>
<p>ุจุฑูุงููโููุณุงู ฺฉู ูุจูุงู ุจุง ฺฉุฏ ุณุทุญ ูพุงู ฺฉุงุฑ ูโฺฉููุฏุ ูโุชูุงููุฏ ุจุง ุฑุงุณุช ุฌุงูโุทูุจโูุง ุฎูุฏ ุฑุง ุงูุฒุงุด ุฏููุฏ. ุจูโุนููุงู ูุซุงูุ ูุนุฑู ููุฑููุฏ ุฏุฑ ุฑุงุณุช ุนูู ูุณุจุชุงู ฺฉูโุฎุทุฑ ุงุณุช: ฺฉุงููพุงูุฑ ุงุดุชุจุงูุงุช ฺฉูุงุณฺฉ ุฑุง ุจุฑุง ุดูุง ูโฺฏุฑุฏ. ู ุดูุง ูโุชูุงูุฏ ุจุง ุงุทููุงู ุจู ุงู ฺฉู ุจูโุทูุฑ ุชุตุงุฏู ุฎุฑุงุจโูุง ุง ุขุณุจโูพุฐุฑโูุง ุฑุง ูุนุฑู ููโฺฉูุฏุ ุจูููโุณุงุฒโูุง ุฌุณูุฑุงููโุชุฑ ุฑุง ุฏุฑ ฺฉุฏ ุฎูุฏ ูพุงุฏู ฺฉูุฏ.</p>
<p>ุงูุง ุฑุงุณุช ูุญุฏูุฏ ุจู ุจุฑูุงููโููุณ ุณุณุชูโูุง ุณุทุญ ูพุงู ูุณุช. ุงู ุฒุจุงู ุจู ูุฏุฑ ุจุงูฺฏุฑ ู ุฑุงุญุช ุงุณุช ฺฉู ููุดุชู ุจุฑูุงููโูุง ุฎุท ูุฑูุงู (CLI)ุ ุณุฑูุฑูุง ูุจ ู ุจุณุงุฑ ุงุฒ ุงููุงุน ุฏฺฏุฑ ฺฉุฏูุง ุฑุง ุฏููพุฐุฑ ูโฺฉูุฏ โ ูููููโูุง ุณุงุฏูโุง ุงุฒ ูุฑ ุฏู ุฑุง ุฏุฑ ุจุฎุดโูุง ุจุนุฏ ฺฉุชุงุจ ุฎูุงูุฏ ุงูุช. ฺฉุงุฑ ุจุง ุฑุงุณุช ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ููุงุฑุชโูุง ุจุณุงุฒุฏ ฺฉู ุงุฒ ฺฉ ุญูุฒู ุจู ุญูุฒู ุฏฺฏุฑ ูุงุจูโุงูุชูุงู ุจุงุดูุฏุ ูโุชูุงูุฏ ุฑุงุณุช ุฑุง ุจุง ููุดุชู ฺฉ ุจุฑูุงูู ูุจ ุงุฏ ุจฺฏุฑุฏ ู ุณูพุณ ููุงู ููุงุฑุชโูุง ุฑุง ุจุฑุง ูุฏู ูุฑุงุฑ ุฏุงุฏู ุฑุฒุจุฑ ูพุง ุฎูุฏ ุจู ฺฉุงุฑ ุจุจุฑุฏ.</p>
<p>ุงู ฺฉุชุงุจ ูพุชุงูุณู ุฑุงุณุช ุจุฑุง ุชูุงูููุฏุณุงุฒ ฺฉุงุฑุจุฑุงูุด ุฑุง ุจู ุทูุฑ ฺฉุงูู ุฏุฑ ุขุบูุด ูโฺฏุฑุฏ. ุงู ูุชู ุฏูุณุชุงูู ู ูุงุจูโุฏุณุชุฑุณ ุงุณุช ฺฉู ูุตุฏ ุฏุงุฑุฏ ูู ุชููุง ุฏุงูุด ุดูุง ุฏุฑ ููุฑุฏ ุฑุงุณุชุ ุจูฺฉู ุฏุงููู ู ุงุนุชูุงุฏุจูโููุณ ุดูุง ุฑุง ุจูโุนููุงู ฺฉ ุจุฑูุงููโููุณ ุจู ุทูุฑ ฺฉู ุงุฑุชูุง ุฏูุฏ. ูพุณ ูุงุฑุฏ ุดูุฏุ ุขูุงุฏู ุงุฏฺฏุฑ ุจุงุดุฏ โ ู ุจู ุฌุงูุนู ุฑุงุณุช ุฎูุด ุขูุฏุฏ!</p>
<p>โ ูฺฉููุงุณ ูุงุชุณุงฺฉุณ ู ุขุฑูู ุชูุฑูู</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ููุฏูู"><a class="header" href="#ููุฏูู">ููุฏูู</a></h1>
<blockquote>
<p>ุชูุฌู: ุงู ูุณุฎู ุงุฒ ฺฉุชุงุจ ููุงู <a href="https://nostarch.com/rust-programming-language-2nd-edition">The Rust Programming Language</a> ุงุณุช ฺฉู ุจู ุตูุฑุช ฺุงูพ ู ุงูฺฉุชุฑููฺฉ ุงุฒ <a href="https://nostarch.com/">No Starch Press</a> ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
</blockquote>
<p>ุจู <em>ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุช</em> ุฎูุด ุขูุฏุฏุ ฺฉ ฺฉุชุงุจ ููุฏูุงุช ุฏุฑุจุงุฑู ุฑุงุณุช. ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุช ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ูุฑูโุงูุฒุงุฑ ุณุฑุนโุชุฑ ู ูุงุจูโุงุนุชูุงุฏุชุฑ ุจููุณุฏ. ุฏุฑ ุทุฑุงุญ ุฒุจุงูโูุง ุจุฑูุงููโููุณุ ุฑุงุญุช ุฏุฑ ุณุทุญ ุจุงูุง ู ฺฉูุชุฑู ุฏุฑ ุณุทุญ ูพุงู ุงุบูุจ ุฏุฑ ุชุถุงุฏ ูุณุชูุฏุ ุฑุงุณุช ุงู ุชูุงูุถ ุฑุง ุจู ฺุงูุด ูโฺฉุดุฏ. ุจุง ุงุฌุงุฏ ุชุนุงุฏู ุจู ุชูุงูุงโูุง ูู ูุฏุฑุชููุฏ ู ุชุฌุฑุจู ุนุงู ุจุฑูุงููโููุณุ ุฑุงุณุช ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุฌุฒุฆุงุช ุณุทุญ ูพุงู (ูุงููุฏ ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู) ุฑุง ุจุฏูู ุฏุฑุฏุณุฑูุง ุณูุช ูุฑุชุจุท ุจุง ฺูู ฺฉูุชุฑู ูุฏุฑุช ฺฉูุฏ.</p>
<h2 id="ุฑุงุณุช-ุจุฑุง-ฺู-ฺฉุณุงู-ุงุณุช"><a class="header" href="#ุฑุงุณุช-ุจุฑุง-ฺู-ฺฉุณุงู-ุงุณุช">ุฑุงุณุช ุจุฑุง ฺู ฺฉุณุงู ุงุณุช</a></h2>
<p>ุฑุงุณุช ุจุฑุง ุงูุฑุงุฏ ูุฎุชูู ุจุง ุฏูุงู ูุชููุน ุงุฏูโุขู ุงุณุช. ุจุงุฏ ุจู ุจุฑุฎ ุงุฒ ูููโุชุฑู ฺฏุฑููโูุง ูฺฏุงู ุจูุฏุงุฒู.</p>
<h3 id="ุชููุง-ุจุฑูุงููููุณ"><a class="header" href="#ุชููุง-ุจุฑูุงููููุณ">ุชูโูุง ุจุฑูุงููโููุณ</a></h3>
<p>ุฑุงุณุช ุงุจุฒุงุฑ ุงุซุจุงุช ุดุฏู ุจุฑุง ููฺฉุงุฑ ูุงู ุชูโูุง ุจุฒุฑฺฏ ุจุฑูุงููโููุณุงู ุจุง ุณุทูุญ ูุฎุชูู ุฏุงูุด ุจุฑูุงููโููุณ ุณุณุชู ุงุณุช. ฺฉุฏ ุณุทุญ ูพุงู ูุณุชุนุฏ ุงุดฺฉุงูุงุช ุธุฑู ูุชุนุฏุฏ ุงุณุช ฺฉู ุฏุฑ ุจุดุชุฑ ุฒุจุงูโูุง ุฏฺฏุฑ ุชููุง ุงุฒ ุทุฑู ุชุณุช ฺฏุณุชุฑุฏู ู ุจุงุฒุจู ุฏูู ฺฉุฏ ุชูุณุท ุจุฑูุงููโููุณุงู ุจุง ุชุฌุฑุจู ูุงุจู ุดูุงุณุง ูุณุชูุฏ. ุฏุฑ ุฑุงุณุชุ ฺฉุงููพุงูุฑ ููุด ูฺฏูุจุงู ุฑุง ุงูุง ูโฺฉูุฏ ู ุงุฒ ฺฉุงููพุงู ฺฉุฑุฏู ฺฉุฏูุง ุจุง ุงู ุงุดฺฉุงูุงุช ฺฏุฑุฒุงูุ ุงุฒ ุฌููู ุงุดฺฉุงูุงุช ููุฑููุฏุ ุฌููฺฏุฑ ูโฺฉูุฏ. ุจุง ฺฉุงุฑ ฺฉุฑุฏู ุฏุฑ ฺฉูุงุฑ ฺฉุงููพุงูุฑุ ุชู ูโุชูุงูุฏ ุฒูุงู ุฎูุฏ ุฑุง ุจุฑ ุฑู ููุทู ุจุฑูุงูู ุจู ุฌุง ุฑูุน ุงุดฺฉุงูุงุช ุตุฑู ฺฉูุฏ.</p>
<p>ุฑุงุณุช ููฺูู ุงุจุฒุงุฑูุง ูุฏุฑู ุจุฑูุงููโููุณ ุฑุง ุจู ุฏูุง ุจุฑูุงููโููุณ ุณุณุชูโูุง ูโุขูุฑุฏ:</p>
<ul>
<li>Cargoุ ูุฏุฑ ูุงุจุณุชฺฏ ู ุงุจุฒุงุฑ ุณุงุฎุชุ ุงุถุงูู ฺฉุฑุฏูุ ฺฉุงููพุงู ฺฉุฑุฏูุ ู ูุฏุฑุช ูุงุจุณุชฺฏโูุง ุฑุง ุฏุฑ ุณุฑุงุณุฑ ุงฺฉูุณุณุชู ุฑุงุณุช ุณุงุฏู ู ฺฉูพุงุฑฺู ูโฺฉูุฏ.</li>
<li>ุงุจุฒุงุฑ ูุงูุจโุจูุฏ Rustfmtุ ฺฉ ุณุจฺฉ ฺฉุฏููุณ ุซุงุจุช ุฑุง ุฏุฑ ุจู ุจุฑูุงููโููุณุงู ุชุถูู ูโฺฉูุฏ.</li>
<li>rust-analyzer ฺฉูพุงุฑฺฺฏ ูุญุท ุชูุณุนู ฺฉูพุงุฑฺู (IDE) ุฑุง ุจุฑุง ุชฺฉูู ฺฉุฏ ู ูพุงูโูุง ุฎุทุง ุฏุฑููโุฎุท ูุฑุงูู ูโฺฉูุฏ.</li>
</ul>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงุจุฒุงุฑูุง ู ุฏฺฏุฑ ุงุจุฒุงุฑูุง ุงฺฉูุณุณุชู ุฑุงุณุชุ ุจุฑูุงููโููุณุงู ูโุชูุงููุฏ ุฏุฑ ููฺฏุงู ููุดุชู ฺฉุฏ ุณุทุญ ุณุณุชูโูุง ุจูุฑูโูุฑ ุจุงุดูุฏ.</p>
<h3 id="ุฏุงูุดุฌูุงู"><a class="header" href="#ุฏุงูุดุฌูุงู">ุฏุงูุดุฌูุงู</a></h3>
<p>ุฑุงุณุช ุจุฑุง ุฏุงูุดุฌูุงู ู ฺฉุณุงู ุงุณุช ฺฉู ุจู ุงุฏฺฏุฑ ููุงูู ุณุณุชูโูุง ุนูุงููโููุฏ ูุณุชูุฏ. ุจุณุงุฑ ุงุฒ ุงูุฑุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑุงุณุช ููุถูุนุงุช ูุงููุฏ ุชูุณุนู ุณุณุชูโุนุงูู ุฑุง ุขููุฎุชูโุงูุฏ. ุฌุงูุนู ุฑุงุณุช ุจุณุงุฑ ูพุฐุฑูุฏู ุงุณุช ู ุจุง ุฎูุดุญุงู ุจู ุณูุงูุงุช ุฏุงูุดุฌูุงู ูพุงุณุฎ ูโุฏูุฏ. ุงุฒ ุทุฑู ุชูุงุดโูุง ูุงููุฏ ุงู ฺฉุชุงุจุ ุชูโูุง ุฑุงุณุช ูโุฎูุงููุฏ ููุงูู ุณุณุชูโูุง ุฑุง ุจุฑุง ุงูุฑุงุฏ ุจุดุชุฑุ ุจู ูฺู ฺฉุณุงู ฺฉู ุชุงุฒู ูุงุฑุฏ ุจุฑูุงููโููุณ ูุณุชูุฏุ ูุงุจู ุฏุณุชุฑุณโุชุฑ ฺฉููุฏ.</p>
<h3 id="ุดุฑฺฉุชูุง"><a class="header" href="#ุดุฑฺฉุชูุง">ุดุฑฺฉุชโูุง</a></h3>
<p>ุตุฏูุง ุดุฑฺฉุชุ ุจุฒุฑฺฏ ู ฺฉูฺฺฉุ ุงุฒ ุฑุงุณุช ุฏุฑ ุชููุฏ ุจุฑุง ูุธุงู ูุชููุน ุงุณุชูุงุฏู ูโฺฉููุฏุ ุงุฒ ุฌููู ุงุจุฒุงุฑูุง ุฎุท ูุฑูุงูุ ุฎุฏูุงุช ูุจุ ุงุจุฒุงุฑูุง DevOpsุ ุฏุณุชฺฏุงูโูุง ุชุนุจูโุดุฏูุ ุชุญูู ู ุฑูุฒฺฏุฐุงุฑ ุตุฏุง ู ุชุตูุฑุ ุงุฑุฒูุง ุฏุฌุชุงูุ ุฒุณุชโุงุทูุงุนุงุชุ ููุชูุฑูุง ุฌุณุชุฌูุ ุจุฑูุงููโูุง ุงูุชุฑูุช ุงุดุงุกุ ุงุฏฺฏุฑ ูุงุดู ู ุญุช ุจุฎุดโูุง ุงุตู ูุฑูุฑฺฏุฑ ูุจ ูุงุฑูุงฺฉุณ.</p>
<h3 id="ุชูุณุนูุฏููุฏฺฏุงู-ูุชูุจุงุฒ"><a class="header" href="#ุชูุณุนูุฏููุฏฺฏุงู-ูุชูุจุงุฒ">ุชูุณุนูโุฏููุฏฺฏุงู ูุชูโุจุงุฒ</a></h3>
<p>ุฑุงุณุช ุจุฑุง ฺฉุณุงู ุงุณุช ฺฉู ูโุฎูุงููุฏ ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุชุ ุฌุงูุนูุ ุงุจุฒุงุฑูุง ุชูุณุนูโุฏููุฏู ู ฺฉุชุงุจุฎุงููโูุง ุฑุง ุจุณุงุฒูุฏ. ูุง ุฏูุณุช ุฏุงุฑู ุดูุง ุฏุฑ ุชูุณุนู ุฒุจุงู ุฑุงุณุช ูุดุงุฑฺฉุช ฺฉูุฏ.</p>
<h3 id="ุงูุฑุงุฏ-ฺฉู-ุณุฑุนุช-ู-ูพุงุฏุงุฑ-ุฑุง-ุงุฑุฒุดููุฏ-ูุฏุงููุฏ"><a class="header" href="#ุงูุฑุงุฏ-ฺฉู-ุณุฑุนุช-ู-ูพุงุฏุงุฑ-ุฑุง-ุงุฑุฒุดููุฏ-ูุฏุงููุฏ">ุงูุฑุงุฏ ฺฉู ุณุฑุนุช ู ูพุงุฏุงุฑ ุฑุง ุงุฑุฒุดููุฏ ูโุฏุงููุฏ</a></h3>
<p>ุฑุงุณุช ุจุฑุง ุงูุฑุงุฏ ุงุณุช ฺฉู ุจู ุณุฑุนุช ู ูพุงุฏุงุฑ ุฏุฑ ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุนูุงูู ุฏุงุฑูุฏ. ููุธูุฑ ุงุฒ ุณุฑุนุชุ ูู ุณุฑุนุช ุงุฌุฑุง ฺฉุฏูุง ุฑุงุณุช ู ูู ุณุฑุนุช ุงุณุช ฺฉู ุฑุงุณุช ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุจุฑูุงููโูุง ุฑุง ุจููุณุฏ. ุจุฑุฑุณโูุง ฺฉุงููพุงูุฑ ุฑุงุณุช ูพุงุฏุงุฑ ุฑุง ุงุฒ ุทุฑู ุงูุฒูุฏู ูฺฺฏโูุง ู ุจุงุฒุณุงุฒ ุชุถูู ูโฺฉูุฏ. ุงู ุฏุฑ ุชุถุงุฏ ุจุง ฺฉุฏูุง ูุฏู ุดฺฉููุฏู ุฏุฑ ุฒุจุงูโูุง ุงุณุช ฺฉู ูุงูุฏ ุงู ุจุฑุฑุณโูุง ูุณุชูุฏ ู ุชูุณุนูโุฏููุฏฺฏุงู ุงุบูุจ ุงุฒ ุชุบุฑ ุขูโูุง ูโุชุฑุณูุฏ. ุจุง ุชูุงุด ุจุฑุง ุงุฑุงุฆู ุงูุชุฒุงุนุงุช ุจุฏูู ูุฒููุ ูฺฺฏโูุง ุณุทุญ ุจุงูุง ฺฉู ุจู ฺฉุฏูุง ุณุทุญ ูพุงู ุจุง ุณุฑุนุช ูุนุงุฏู ฺฉุฏูุง ููุดุชู ุดุฏู ุฏุณุช ฺฉุงููพุงู ูโุดููุฏุ ุฑุงุณุช ูโฺฉูุดุฏ ฺฉุฏ ุงูู ุฑุง ุจู ฺฉุฏ ุณุฑุน ุชุจุฏู ฺฉูุฏ.</p>
<p>ุฒุจุงู ุฑุงุณุช ุงูุฏูุงุฑ ุงุณุช ุงุฒ ุจุณุงุฑ ุงุฒ ฺฉุงุฑุจุฑุงู ุฏฺฏุฑ ูุฒ ูพุดุชุจุงู ฺฉูุฏุ ุงูุฑุงุฏ ฺฉู ุฏุฑ ุงูุฌุง ุฐฺฉุฑ ุดุฏูุฏ ุชููุง ุจุฑุฎ ุงุฒ ุจุฒุฑฺฏโุชุฑู ุฐููุนุงู ูุณุชูุฏ. ุฏุฑ ฺฉูุ ุจุฒุฑฺฏโุชุฑู ุฌุงูโุทูุจ ุฑุงุณุช ุงู ุงุณุช ฺฉู ุจุง ุงุฑุงุฆู ุงูู <em>ู</em> ุจูุฑูโูุฑุ ุณุฑุนุช <em>ู</em> ุฑุงุญุชุ ูุตุงูุญูโูุง ฺฉู ุจุฑูุงููโููุณุงู ุฏููโูุง ูพุฐุฑูุชูโุงูุฏ ุฑุง ุญุฐู ฺฉูุฏ. ุฑุงุณุช ุฑุง ุงูุชุญุงู ฺฉูุฏ ู ุจุจูุฏ ุขุง ุงูุชุฎุงุจโูุง ุขู ุจุฑุง ุดูุง ููุงุณุจ ุงุณุช ุง ุฎุฑ.</p>
<h2 id="ุงู-ฺฉุชุงุจ-ุจุฑุง-ฺู-ฺฉุณุงู-ุงุณุช"><a class="header" href="#ุงู-ฺฉุชุงุจ-ุจุฑุง-ฺู-ฺฉุณุงู-ุงุณุช">ุงู ฺฉุชุงุจ ุจุฑุง ฺู ฺฉุณุงู ุงุณุช</a></h2>
<p>ุงู ฺฉุชุงุจ ูุฑุถ ูโฺฉูุฏ ฺฉู ุดูุง ูุจูุงู ุฏุฑ ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุฏฺฏุฑ ฺฉุฏููุณ ฺฉุฑุฏูโุงุฏ ุงูุง ูฺ ูุฑุถ ุฏุฑ ููุฑุฏ ุงูฺฉู ฺฉุฏุงู ุฒุจุงู ุงุณุชุ ูุฏุงุฑุฏ. ูุง ุณุน ฺฉุฑุฏูโุงู ูุทุงูุจ ุฑุง ุจู ฺฏูููโุง ุงุฑุงุฆู ุฏูู ฺฉู ุจุฑุง ุงูุฑุงุฏ ุจุง ุฒูููโูุง ุจุฑูุงููโููุณ ูุชููุน ูุงุจู ุฏุณุชุฑุณ ุจุงุดุฏ. ูุง ุฒูุงู ุฒุงุฏ ุฑุง ุตุฑู ุตุญุจุช ุฏุฑุจุงุฑู ุงูฺฉู ุจุฑูุงููโููุณ <em>ฺุณุช</em> ุง ฺฺฏููู ุจุงุฏ ุจู ุขู ูฺฉุฑ ฺฉูุฏุ ููโฺฉูู. ุงฺฏุฑ ฺฉุงููุงู ุชุงุฒูโูุงุฑุฏ ุจุฑูุงููโููุณ ูุณุชุฏุ ุจูุชุฑ ุงุณุช ฺฉุชุงุจ ุฑุง ุจุฎูุงูุฏ ฺฉู ุจู ุทูุฑ ุฎุงุต ููุฏููโุง ุจุฑ ุจุฑูุงููโููุณ ุงุฑุงุฆู ูโุฏูุฏ.</p>
<h2 id="ูุญูู-ุงุณุชูุงุฏู-ุงุฒ-ุงู-ฺฉุชุงุจ"><a class="header" href="#ูุญูู-ุงุณุชูุงุฏู-ุงุฒ-ุงู-ฺฉุชุงุจ">ูุญูู ุงุณุชูุงุฏู ุงุฒ ุงู ฺฉุชุงุจ</a></h2>
<p>ุจู ุทูุฑ ฺฉูุ ุงู ฺฉุชุงุจ ูุฑุถ ูโฺฉูุฏ ฺฉู ุดูุง ุขู ุฑุง ุจู ุชุฑุชุจ ุงุฒ ุงุจุชุฏุง ุชุง ุงูุชูุง ูโุฎูุงูุฏ. ูุตูโูุง ุจุนุฏ ุจุฑ ููุงูู ูุตูโูุง ูุจู ุจูุง ุดุฏูโุงูุฏ ู ูุตูโูุง ุงููู ููฺฉู ุงุณุช ุจู ุฌุฒุฆุงุช ุฎุงุต ูุงุฑุฏ ูุดููุฏ ุงูุง ุฏุฑ ูุตูู ุจุนุฏ ุจู ุขู ููุถูุนุงุช ุจุงุฒูโฺฏุฑุฏูุฏ.</p>
<p>ุฏุฑ ุงู ฺฉุชุงุจุ ุฏู ููุน ูุตู ูุฌูุฏ ุฏุงุฑุฏ: ูุตูโูุง ููููู ู ูุตูโูุง ูพุฑูฺูโุง. ุฏุฑ ูุตูโูุง ูููููุ ุฏุฑุจุงุฑู ฺฉ ุฌูุจู ุงุฒ ุฑุงุณุช ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช. ุฏุฑ ูุตูโูุง ูพุฑูฺูโุงุ ุจุฑูุงููโูุง ฺฉูฺฺฉ ุฑุง ุจุง ูู ูโุณุงุฒู ู ุขูฺู ุฑุง ฺฉู ุชุงฺฉููู ุขููุฎุชูโุงุฏ ุจู ฺฉุงุฑ ูโฺฏุฑู. ูุตูโูุง ฒุ ฑฒ ู ฒฑ ูุตูโูุง ูพุฑูฺูโุง ูุณุชูุฏุ ุจูู ูุตูโูุง ููููู ูุณุชูุฏ.</p>
<p>ูุตู ฑ ูุญูู ูุตุจ ุฑุงุณุชุ ููุดุชู ฺฉ ุจุฑูุงูู โุณูุงู ุฏูุง!โ ู ุงุณุชูุงุฏู ุงุฒ Cargoุ ูุฏุฑ ุจุณุชู ู ุงุจุฒุงุฑ ุณุงุฎุช ุฑุงุณุช ุฑุง ุชูุถุญ ูโุฏูุฏ. ูุตู ฒ ููุฏููโุง ุนูู ุจุฑุง ููุดุชู ุจุฑูุงููโุง ุฏุฑ ุฑุงุณุช ุงุณุช ู ุดูุง ุฑุง ุจู ุณุงุฎุช ฺฉ ุจุงุฒ ุญุฏุณ ุนุฏุฏ ูโุจุฑุฏ. ุฏุฑ ุงูุฌุง ููุงูู ุฑุง ุจู ุทูุฑ ฺฉู ูพูุดุด ูโุฏูู ู ุฌุฒุฆุงุช ุจุดุชุฑ ุฑุง ุฏุฑ ูุตูู ุจุนุฏ ุงุฑุงุฆู ุฎูุงูู ฺฉุฑุฏ. ุงฺฏุฑ ูโุฎูุงูุฏ ุจูุงูุงุตูู ฺฉุงุฑ ุนูู ุงูุฌุงู ุฏูุฏุ ูุตู ฒ ููุงุณุจ ุดูุงุณุช. ูุตู ณ ูฺฺฏโูุง ุฑุงุณุช ุฑุง ฺฉู ูุดุงุจู ูฺฺฏโูุง ุณุงุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุงุณุช ูพูุดุด ูโุฏูุฏ ู ุฏุฑ ูุตู ด ุฏุฑุจุงุฑู ุณุณุชู ูุงูฺฉุช ุฑุงุณุช ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช. ุงฺฏุฑ ุดูุง ฺฉ ุงุฏฺฏุฑูุฏู ุฏูู ูุณุชุฏ ฺฉู ุชุฑุฌุญ ูโุฏูุฏ ูุจู ุงุฒ ุงุฏุงููุ ููู ุฌุฒุฆุงุช ุฑุง ุจุงููุฒุฏุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ูุตู ฒ ุฑุง ุฑุฏ ฺฉูุฏ ู ูุณุชููุงู ุจู ูุตู ณ ุจุฑูุฏ ู ูพุณ ุงุฒ ุงุฏฺฏุฑ ุฌุฒุฆุงุช ุจู ูุตู ฒ ุจุงุฒฺฏุฑุฏุฏ ุชุง ุฑู ูพุฑูฺูโุง ฺฉุงุฑ ฺฉูุฏ.</p>
<p>ูุตู ต ุจู ุณุงุฎุชุงุฑูุง (structs) ู ูุชุฏูุง ูโูพุฑุฏุงุฒุฏ ู ูุตู ถ ุดุงูู enumerations (enums)ุ ุนุจุงุฑุงุช <code>match</code> ู ุณุงุฒู ฺฉูุชุฑู <code>if let</code> ุงุณุช. ุงุฒ ุณุงุฎุชุงุฑูุง ู enumโูุง ุจุฑุง ุงุฌุงุฏ ุงููุงุน ุณูุงุฑุด ุฏุฑ ุฑุงุณุช ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุฏุฑ ูุตู ทุ ุฏุฑุจุงุฑู ุณุณุชู ูุงฺูู ุฑุงุณุช ู ููุงูู ุญุฑู ุฎุตูุต ุจุฑุง ุณุงุฒูุงูโุฏู ฺฉุฏ ู ุฑุงุจุท ุจุฑูุงููโููุณ ุนููู (API) ุขู ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช. ูุตู ธ ุจู ุจุฑุฑุณ ุจุฑุฎ ุงุฒ ุณุงุฎุชุงุฑูุง ุฏุงุฏู ูุฌููุนู ุฑุงุฌ ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ูโุฏูุฏุ ูุงููุฏ vectorsุ strings ู hash maps ูโูพุฑุฏุงุฒุฏ. ูุตู น ููุณูู ู ุชฺฉูฺฉโูุง ูุฏุฑุช ุฎุทุง ุฏุฑ ุฑุงุณุช ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ.</p>
<p>ูุตู ฑฐ ุจู ููุงูู ุฌูุฑฺฉโูุงุ traits ู lifetimes ูโูพุฑุฏุงุฒุฏ ฺฉู ุจู ุดูุง ุงู ูุฏุฑุช ุฑุง ูโุฏูุฏ ุชุง ฺฉุฏ ุจููุณุฏ ฺฉู ุจู ุงููุงุน ูุฎุชูู ุงุนูุงู ุดูุฏ. ูุตู ฑฑ ฺฉุงููุงู ุฏุฑุจุงุฑู ุชุณุช ุงุณุช ฺฉู ุญุช ุจุง ุชุถููโูุง ุงูู ุฑุงุณุชุ ุจุฑุง ุงุทููุงู ุงุฒ ุฏุฑุณุช ููุทู ุจุฑูุงูู ุดูุง ุถุฑูุฑ ุงุณุช. ุฏุฑ ูุตู ฑฒุ ูพุงุฏูโุณุงุฒ ุจุฎุด ุงุฒ ุงุจุฒุงุฑ ุฎุท ูุฑูุงู <code>grep</code> ฺฉู ูุชู ุฑุง ุฏุฑ ูุงูโูุง ุฌุณุชุฌู ูโฺฉูุฏุ ุฎูุงูู ุณุงุฎุช. ุจุฑุง ุงู ฺฉุงุฑุ ุงุฒ ุจุณุงุฑ ุงุฒ ููุงูู ฺฉู ุฏุฑ ูุตูโูุง ูุจู ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชูุฏ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ูุตู ฑณ ุจู ุจุฑุฑุณ closures ู iterators ูโูพุฑุฏุงุฒุฏ: ูฺฺฏโูุง ุงุฒ ุฑุงุณุช ฺฉู ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุชุงุจุน ุขูุฏูโุงูุฏ. ุฏุฑ ูุตู ฑดุ Cargo ุฑุง ุจู ุทูุฑ ุนููโุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ู ุฏุฑุจุงุฑู ุจูุชุฑู ุฑูุดโูุง ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุชุงุจุฎุงููโูุง ุฎูุฏ ุจุง ุฏฺฏุฑุงู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ูุตู ฑต ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ (smart pointers) ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ู traits ฺฉู ูุงุจูุชโูุง ุขูโูุง ุฑุง ุงูฺฉุงูโูพุฐุฑ ูโุณุงุฒุฏ ุจุฑุฑุณ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ูุตู ฑถุ ูุฏูโูุง ูุฎุชูู ุจุฑูุงููโููุณ ููโุฒูุงู ุฑุง ุจุฑุฑุณ ูโฺฉูู ู ุฏุฑุจุงุฑู ุงูฺฉู ฺฺฏููู ุฑุงุณุช ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุจุฏูู ุชุฑุณ ุจุง ฺูุฏู ุฑุดุชู (string) ฺฉุงุฑ ฺฉูุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ูุตู ฑทุ ุงู ููุถูุน ุฑุง ุจุง ุจุฑุฑุณ syntax async ู await ู ูุฏู ููโุฒูุงู ุณุจฺฉโูุฒู ฺฉู ูพุดุชุจุงู ูโฺฉููุฏุ ฺฏุณุชุฑุด ุฎูุงูู ุฏุงุฏ.</p>
<p>ูุตู ฑธ ูฺฏุงู ุจู ฺฺฏููฺฏ ููุงุณู ุงุตุทูุงุญุงุช ุฑุงุณุช ุจุง ุงุตูู ุจุฑูุงููโููุณ ุดุกฺฏุฑุง ูโุงูุฏุงุฒุฏ ฺฉู ููฺฉู ุงุณุช ุจุง ุขูโูุง ุขุดูุง ุจุงุดุฏ.</p>
<p>ูุตู ฑน ูุฑุฌุน ุฏุฑุจุงุฑู ุงูฺฏููุง ู ุงูฺฏูุงุจ (pattern matching) ุงุณุช ฺฉู ุฑุงูโูุง ูุฏุฑุชููุฏ ุจุฑุง ุจุงู ุงุฏูโูุง ุฏุฑ ุณุฑุงุณุฑ ุจุฑูุงููโูุง ุฑุงุณุช ุงุฑุงุฆู ูโุฏูุฏ. ูุตู ฒฐ ุดุงูู ูุฌููุนูโุง ุงุฒ ููุถูุนุงุช ูพุดุฑูุชู ุฌุงูุจุ ุงุฒ ุฌููู ุฑุงุณุช ูุงุงููุ ูุงฺฉุฑููุงุ ู ูุจุงุญุซ ุจุดุชุฑ ุฏุฑุจุงุฑู lifetimesุ traitsุ ุงููุงุนุ ุชูุงุจุน ู closures ุงุณุช.</p>
<p>ุฏุฑ ูุตู ฒฑุ ูพุฑูฺูโุง ุฑุง ุชฺฉูู ูโฺฉูู ฺฉู ุฏุฑ ุขู ฺฉ ุณุฑูุฑ ูุจ ฺูุฏุฑุดุชูโุง ุณุทุญ ูพุงู ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ!</p>
<p>ุฏุฑ ููุงุชุ ูพูุณุชโูุง ุดุงูู ุงุทูุงุนุงุช ููุฏ ุฏุฑุจุงุฑู ุฒุจุงู ุจู ุดฺฉู ูุฑุฌุนโฺฏููู ุงุฑุงุฆู ูโุดููุฏ. ุถููู ุงูู ฺฉููุงุช ฺฉูุฏ ุฑุงุณุชุ ุถููู ุจ ุนููฺฏุฑูุง ู ููุงุฏูุง ุฑุงุณุชุ ุถููู ุฌ traits ูุงุจู ุงุดุชูุงู ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏุ ุถููู ุฏ ุจุฑุฎ ุงุฒ ุงุจุฒุงุฑูุง ุชูุณุนู ููุฏุ ู ุถููู ู ูุณุฎูโูุง ุฑุงุณุช ุฑุง ุชูุถุญ ูโุฏูุฏ. ุฏุฑ ุถููู ู ูโุชูุงูุฏ ุชุฑุฌููโูุง ฺฉุชุงุจ ุฑุง ูพุฏุง ฺฉูุฏ ู ุฏุฑ ุถููู  ุฏุฑุจุงุฑู ฺฺฏููฺฏ ุณุงุฎุช ุฑุงุณุช ู ุฑุงุณุช nightly ุงุทูุงุนุงุช ฺฉุณุจ ฺฉูุฏ.</p>
<p>ูฺ ุฑูุด ูุงุฏุฑุณุช ุจุฑุง ุฎูุงูุฏู ุงู ฺฉุชุงุจ ูุฌูุฏ ูุฏุงุฑุฏ: ุงฺฏุฑ ูโุฎูุงูุฏ ุจู ุฌูู ุจุฑูุฏุ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ! ููฺฉู ุงุณุช ูุฌุจูุฑ ุดูุฏ ุจู ูุตูโูุง ูุจู ุจุงุฒฺฏุฑุฏุฏ ุงฺฏุฑ ุจุง ุณุฑุฏุฑฺฏู ุฑูุจูโุฑู ุดุฏุฏ. ุงูุง ูุฑฺู ุจุฑุง ุดูุง ููุงุณุจ ุงุณุช ุงูุฌุงู ุฏูุฏ.</p>
<p><span id="ferris"></span></p>
<p>ุจุฎุด ููู ุงุฒ ูุฑุขูุฏ ุงุฏฺฏุฑ ุฑุงุณุชุ ุงุฏฺฏุฑ ูุญูู ุฎูุงูุฏู ูพุงูโูุง ุฎุทุง ฺฉุงููพุงูุฑ ุงุณุช: ุงู ูพุงูโูุง ุดูุง ุฑุง ุจู ุณูุช ฺฉุฏ ฺฉู ฺฉุงุฑ ูโฺฉูุฏ ูุฏุงุช ูโฺฉููุฏ. ุจู ููู ุฏููุ ูุซุงูโูุง ุฒุงุฏ ุฑุง ุงุฑุงุฆู ูโุฏูู ฺฉู ฺฉุงููพุงู ููโุดููุฏุ ููุฑุงู ุจุง ูพุงู ุฎุทุง ฺฉู ฺฉุงููพุงูุฑ ุฏุฑ ูุฑ ูุถุนุช ููุงุด ูโุฏูุฏ. ุจุฏุงูุฏ ฺฉู ุงฺฏุฑ ฺฉ ูุซุงู ุชุตุงุฏู ุฑุง ูุงุฑุฏ ฺฉูุฏ ู ุงุฌุฑุง ฺฉูุฏุ ููฺฉู ุงุณุช ฺฉุงููพุงู ูุดูุฏ! ูุทูุฆู ุดูุฏ ฺฉู ูุชู ุงุทุฑุงู ุฑุง ุจุฎูุงูุฏ ุชุง ุจุจูุฏ ุขุง ูุซุงู ฺฉู ูโุฎูุงูุฏ ุงุฌุฑุง ฺฉูุฏ ูุฑุงุฑ ุงุณุช ุฎุทุง ุจุฏูุฏ ุง ุฎุฑ. Ferris ููฺูู ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ฺฉุฏ ฺฉู ูุฑุงุฑ ูุณุช ฺฉุงุฑ ฺฉูุฏ ุฑุง ุชุดุฎุต ุฏูุฏ:</p>
<div class="table-wrapper"><table><thead><tr><th>Ferris</th><th>ูุนู</th></tr></thead><tbody>
<tr><td><img src="img/ferris/does_not_compile.svg" class="ferris-explain" alt="Ferris with a question mark"/></td><td>ุงู ฺฉุฏ ฺฉุงููพุงู ููโุดูุฏ!</td></tr>
<tr><td><img src="img/ferris/panics.svg" class="ferris-explain" alt="Ferris throwing up their hands"/></td><td>ุงู ฺฉุฏ ูุญุดุช ูโฺฉูุฏ!</td></tr>
<tr><td><img src="img/ferris/not_desired_behavior.svg" class="ferris-explain" alt="Ferris with one claw up, shrugging"/></td><td>ุงู ฺฉุฏ ุฑูุชุงุฑ ููุฑุฏ ุงูุชุธุงุฑ ุฑุง ุชููุฏ ููโฺฉูุฏ.</td></tr>
</tbody></table>
</div>
<p>ุฏุฑ ุจุดุชุฑ ููุงุฑุฏุ ุดูุง ุฑุง ุจู ูุณุฎู ุตุญุญ ูุฑ ฺฉุฏ ฺฉู ฺฉุงููพุงู ููโุดูุฏ ูุฏุงุช ุฎูุงูู ฺฉุฑุฏ.</p>
<h2 id="ฺฉุฏ-ููุจุน"><a class="header" href="#ฺฉุฏ-ููุจุน">ฺฉุฏ ููุจุน</a></h2>
<p>ูุงูโูุง ููุจุน ฺฉู ุงู ฺฉุชุงุจ ุงุฒ ุขูโูุง ุชููุฏ ูโุดูุฏ ุฑุง ูโุชูุงูุฏ ุฏุฑ <a href="https://github.com/persian-rust/book/tree/main/src">GitHub</a> ูพุฏุง ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุดุฑูุน-ุจู-ฺฉุงุฑ"><a class="header" href="#ุดุฑูุน-ุจู-ฺฉุงุฑ">ุดุฑูุน ุจู ฺฉุงุฑ</a></h1>
<p>ุจุงุฏ ุณูุฑ ุฎูุฏ ุจู ุฏูุง ุฑุงุณุช ุฑุง ุขุบุงุฒ ฺฉูู! ฺุฒูุง ุฒุงุฏ ุจุฑุง ุงุฏฺฏุฑ ูุฌูุฏ ุฏุงุฑุฏุ ุงูุง ูุฑ ุณูุฑ ุงุฒ ุฌุง ุดุฑูุน ูโุดูุฏ. ุฏุฑ ุงู ูุตูุ ุฏุฑุจุงุฑู ููุงุฑุฏ ุฒุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ:</p>
<ul>
<li>ูุตุจ ุฑุงุณุช ุจุฑ ุฑู ูููฺฉุณุ macOSุ ู ููุฏูุฒ</li>
<li>ููุดุชู ุจุฑูุงููโุง ฺฉู <code>ุณูุงู ุฏูุง!</code> ุฑุง ฺุงูพ ูโฺฉูุฏ</li>
<li>ุงุณุชูุงุฏู ุงุฒ <code>cargo</code>ุ ูุฏุฑ ุจุณุชู ู ุณุณุชู ุณุงุฎุช ุฑุงุณุช</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุตุจ"><a class="header" href="#ูุตุจ">ูุตุจ</a></h2>
<p>ุงููู ูุฏู ูุตุจ ุฑุงุณุช ุงุณุช. ูุง ุฑุงุณุช ุฑุง ุงุฒ ุทุฑู <code>rustup</code> ุฏุงูููุฏ ูโฺฉููุ ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ุจุฑุง ูุฏุฑุช ูุณุฎูโูุง ุฑุงุณุช ู ุงุจุฒุงุฑูุง ูุฑุจูุทู. ุจุฑุง ุฏุงูููุฏ ุจู ุงุชุตุงู ุงูุชุฑูุช ูุงุฒ ุฏุงุฑุฏ.</p>
<blockquote>
<p>ุชูุฌู: ุงฺฏุฑ ุจู ูุฑ ุฏูู ุชุฑุฌุญ ูโุฏูุฏ ุงุฒ <code>rustup</code> ุงุณุชูุงุฏู ูฺฉูุฏุ ูุทูุงู ุตูุญู <a href="https://forge.rust-lang.org/infra/other-installation-methods.html">ุฑูุดโูุง ูุตุจ ุฏฺฏุฑ ุฑุงุณุช</a> ุฑุง ุจุฑุง ฺฏุฒููโูุง ุจุดุชุฑ ูุดุงูุฏู ฺฉูุฏ.</p>
</blockquote>
<p>ูุฑุงุญู ุฒุฑ ูุณุฎู ูพุงุฏุงุฑ ุฌุฏุฏุชุฑู ฺฉุงููพุงูุฑ ุฑุงุณุช ุฑุง ูุตุจ ูโฺฉููุฏ. ุชุถููโูุง ูพุงุฏุงุฑ ุฑุงุณุช ุงุทููุงู ูโุฏููุฏ ฺฉู ุชูุงู ูุซุงูโูุง ฺฉุชุงุจ ฺฉู ฺฉุงููพุงู ูโุดููุฏุ ุจุง ูุณุฎูโูุง ุฌุฏุฏุชุฑ ุฑุงุณุช ูุฒ ฺฉุงููพุงู ุฎูุงููุฏ ุดุฏ. ุฎุฑูุฌ ููฺฉู ุงุณุช ฺฉู ูุชูุงูุช ุจุงุดุฏุ ุฒุฑุง ุฑุงุณุช ุจู ุทูุฑ ูุฑุชุจ ูพุบุงูโูุง ุฎุทุง ู ูุดุฏุงุฑูุง ุฑุง ุจูุจูุฏ ูโุจุฎุดุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูุฑ ูุณุฎู ูพุงุฏุงุฑ ุฌุฏุฏ ฺฉู ุจุง ุงู ูุฑุงุญู ูุตุจ ฺฉูุฏุ ุจุงุฏ ุจุง ูุญุชูุง ุงู ฺฉุชุงุจ ุจู ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ.</p>
<section class="note" aria-role="note">
<h3 id="ุงุฏุฏุงุดุช-ุฏุณุชูุฑุงุช-ุฎุท-ูุฑูุงู"><a class="header" href="#ุงุฏุฏุงุดุช-ุฏุณุชูุฑุงุช-ุฎุท-ูุฑูุงู">ุงุฏุฏุงุดุช ุฏุณุชูุฑุงุช ุฎุท ูุฑูุงู</a></h3>
<p>ุฏุฑ ุงู ูุตู ู throughout the bookุ ูุง ุจุฑุฎ ุงุฒ ุฏุณุชูุฑุงุช ุงุณุชูุงุฏู ุดุฏู ุฏุฑ ุชุฑููุงู ุฑุง ููุงุด ุฎูุงูู ุฏุงุฏ. ุฎุทูุท ฺฉู ุจุงุฏ ุฏุฑ ุชุฑููุงู ูุงุฑุฏ ฺฉูุฏุ ููฺฏ ุจุง <code>$</code> ุดุฑูุน ูโุดููุฏ. ุดูุง ูุงุฒ ุจู ูุงุฑุฏ ฺฉุฑุฏู ููุงุฏ <code>$</code> ูุฏุงุฑุฏุ ุงู ููุงุฏ ูุดุงูโุฏููุฏู ุดุฑูุน ูุฑ ุฏุณุชูุฑ ุงุณุช. ุฎุทูุท ฺฉู ุจุง <code>$</code> ุดุฑูุน ููโุดููุฏ ูุนูููุงู ุฎุฑูุฌ ุฏุณุชูุฑ ูุจู ุฑุง ูุดุงู ูโุฏููุฏ. ุนูุงูู ุจุฑ ุงูุ ูุซุงูโูุง ุฎุงุต PowerShell ุงุฒ <code>&gt;</code> ุจู ุฌุง <code>$</code> ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
</section>
<h3 id="ูุตุจ-rustup-ุฏุฑ-ูููฺฉุณ-ุง-macos"><a class="header" href="#ูุตุจ-rustup-ุฏุฑ-ูููฺฉุณ-ุง-macos">ูุตุจ <code>rustup</code> ุฏุฑ ูููฺฉุณ ุง macOS</a></h3>
<p>ุงฺฏุฑ ุงุฒ ูููฺฉุณ ุง macOS ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉ ุชุฑููุงู ุจุงุฒ ฺฉุฑุฏู ู ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
</code></pre>
<p>ุงู ุฏุณุชูุฑ ฺฉ ุงุณฺฉุฑูพุช ุฏุงูููุฏ ฺฉุฑุฏู ู ูุตุจ ุงุจุฒุงุฑ <code>rustup</code> ุฑุง ุขุบุงุฒ ูโฺฉูุฏ ฺฉู ูุณุฎู ูพุงุฏุงุฑ ุฌุฏุฏ ุฑุงุณุช ุฑุง ูุตุจ ูโฺฉูุฏ. ููฺฉู ุงุณุช ุงุฒ ุดูุง ุฎูุงุณุชู ุดูุฏ ุชุง ุฑูุฒ ุนุจูุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ. ุงฺฏุฑ ูุตุจ ููููุชโุขูุฒ ุจูุฏุ ุฎุท ุฒุฑ ุธุงูุฑ ูโุดูุฏ:</p>
<pre><code class="language-text">Rust is installed now. Great!
</code></pre>
<p>ููฺูู ุจู ฺฉ <em>ููฺฉุฑ</em> ูุงุฒ ุฎูุงูุฏ ุฏุงุดุช ฺฉู ุจุฑูุงููโุง ุงุณุช ฺฉู ุฑุงุณุช ุงุฒ ุขู ุจุฑุง ุชุฑฺฉุจ ุฎุฑูุฌโูุง ฺฉุงููพุงู ุดุฏู ุฎูุฏ ุจู ฺฉ ูุงู ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงุญุชูุงูุงู ุดูุง ฺฉ ููฺฉุฑ ุฏุงุฑุฏ. ุงฺฏุฑ ุจุง ุงุฑูุฑูุง ููฺฉุฑ ุฑูุจูโุฑู ุดุฏุฏุ ุจุงุฏ ฺฉ ฺฉุงููพุงูุฑ C ูุตุจ ฺฉูุฏ ฺฉู ูุนูููุงู ููฺฉุฑ ุฑุง ูุฒ ุดุงูู ูโุดูุฏ. ฺฉ ฺฉุงููพุงูุฑ C ููฺูู ููุฏ ุงุณุช ุฒุฑุง ุจุฑุฎ ุงุฒ ูพฺฉุฌโูุง ุฑุงุฌ ุฑุงุณุช ุจู ฺฉุฏ C ูุงุจุณุชูโุงูุฏ ู ุจู ฺฉ ฺฉุงููพุงูุฑ C ูุงุฒ ุฏุงุฑูุฏ.</p>
<p>ุจุฑุง ูุตุจ ฺฉุงููพุงูุฑ C ุฏุฑ macOSุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ xcode-select --install
</code></pre>
<p>ฺฉุงุฑุจุฑุงู ูููฺฉุณ ูุนูููุงู ุจุงุฏ GCC ุง Clang ุฑุง ุทุจู ูุณุชูุฏุงุช ุชูุฒุน ุฎูุฏ ูุตุจ ฺฉููุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุงุฒ ุงูุจููุชู ุงุณุชูุงุฏู ูโฺฉูุฏุ ูโุชูุงูุฏ ูพฺฉุฌ <code>build-essential</code> ุฑุง ูุตุจ ฺฉูุฏ.</p>
<h3 id="ูุตุจ-rustup-ุฏุฑ-ููุฏูุฒ"><a class="header" href="#ูุตุจ-rustup-ุฏุฑ-ููุฏูุฒ">ูุตุจ <code>rustup</code> ุฏุฑ ููุฏูุฒ</a></h3>
<p>ุฏุฑ ููุฏูุฒุ ุจู <a href="https://www.rust-lang.org/tools/install">https://www.rust-lang.org/tools/install</a> ุจุฑูุฏ ู ุฏุณุชูุฑุงูุนููโูุง ูุตุจ ุฑุงุณุช ุฑุง ุฏูุจุงู ฺฉูุฏ. ุฏุฑ ฺฉ ูุฑุญูู ุงุฒ ูุตุจุ ุงุฒ ุดูุง ุฎูุงุณุชู ูโุดูุฏ ุชุง Visual Studio ุฑุง ูุตุจ ฺฉูุฏ. ุงู ุงุจุฒุงุฑ ฺฉ ููฺฉุฑ ู ฺฉุชุงุจุฎุงููโูุง ุจูู ูุงุฒู ุจุฑุง ฺฉุงููพุงู ุจุฑูุงููโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงฺฏุฑ ุจู ฺฉูฺฉ ุจุดุชุฑ ูุงุฒ ุฏุงุฑุฏุ ุงู ุตูุญู ุฑุง ูุดุงูุฏู ฺฉูุฏ <a href="https://rust-lang.github.io/rustup/installation/windows-msvc.html">https://rust-lang.github.io/rustup/installation/windows-msvc.html</a></p>
<p>ุจูู ฺฉุชุงุจ ุงุฒ ุฏุณุชูุฑุงุช ุงุณุชูุงุฏู ุดุฏู ุฏุฑ <em>cmd.exe</em> ู PowerShell ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงฺฏุฑ ุชูุงูุชโูุง ุฎุงุต ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุชูุถุญ ุฎูุงูู ุฏุงุฏ ฺฉู ฺฉุฏุงู ุฑุง ุจุงุฏ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h3 id="ุนุจุงุจ"><a class="header" href="#ุนุจุงุจ">ุนุจโุงุจ</a></h3>
<p>ุจุฑุง ุจุฑุฑุณ ุงูฺฉู ุฑุงุณุช ุจู ุฏุฑุณุช ูุตุจ ุดุฏู ุงุณุช ุง ุฎุฑุ ฺฉ ุดู ุจุงุฒ ฺฉุฑุฏู ู ุงู ุฏุณุชูุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ rustc --version
</code></pre>
<p>ุจุงุฏ ุดูุงุฑู ูุณุฎูุ ูุด ฺฉููุช ู ุชุงุฑุฎ ฺฉููุช ุจุฑุง ุฌุฏุฏุชุฑู ูุณุฎู ูพุงุฏุงุฑ ููุชุดุฑ ุดุฏู ุฑุง ุจู ุตูุฑุช ุฒุฑ ุจุจูุฏ:</p>
<pre><code class="language-text">rustc x.y.z (abcabcabc yyyy-mm-dd)
</code></pre>
<p>ุงฺฏุฑ ุงู ุงุทูุงุนุงุช ุฑุง ูุดุงูุฏู ฺฉุฑุฏุฏุ ุฑุงุณุช ุจู ุฏุฑุณุช ูุตุจ ุดุฏู ุงุณุช! ุงฺฏุฑ ุงู ุงุทูุงุนุงุช ุฑุง ูุดุงูุฏู ูฺฉุฑุฏุฏุ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุฑุงุณุช ุฏุฑ ูุชุบุฑ ุณุณุชู <code>%PATH%</code> ุดูุง ูุฑุงุฑ ุฏุงุฑุฏ.</p>
<p>ุฏุฑ CMD ููุฏูุฒุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">&gt; echo %PATH%
</code></pre>
<p>ุฏุฑ PowerShellุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-powershell">&gt; echo $env:Path
</code></pre>
<p>ุฏุฑ ูููฺฉุณ ู macOSุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ echo $PATH
</code></pre>
<p>ุงฺฏุฑ ููู ฺุฒ ุฏุฑุณุช ุจุงุดุฏ ู ุฑุงุณุช ููฺูุงู ฺฉุงุฑ ูฺฉูุฏุ ููุงุจุน ุฒุงุฏ ุจุฑุง ฺฉูฺฉ ูุฌูุฏ ุฏุงุฑุฏ. ุจุฑุง ุชูุงุณ ุจุง ุณุงุฑ ุฑุงุณุชโููุณุงู (ููุจ ุฎูุฏูโุฏุงุฑ ฺฉู ุฎูุฏูุงู ุจู ฺฉุงุฑ ูโุจุฑู)ุ ุจู ุตูุญู <a href="https://www.rust-lang.org/community">ุงุฌุชูุงุน</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<h3 id="ุจุฑูุฒุฑุณุงู-ู-ุญุฐู-ูุตุจ"><a class="header" href="#ุจุฑูุฒุฑุณุงู-ู-ุญุฐู-ูุตุจ">ุจุฑูุฒุฑุณุงู ู ุญุฐู ูุตุจ</a></h3>
<p>ุจุนุฏ ุงุฒ ูุตุจ ุฑุงุณุช ุงุฒ ุทุฑู <code>rustup</code>ุ ุจุฑูุฒุฑุณุงู ุจู ูุณุฎู ุฌุฏุฏ ุจุณุงุฑ ุขุณุงู ุงุณุช. ุงุฒ ุดู ุฎูุฏ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ rustup update
</code></pre>
<p>ุจุฑุง ุญุฐู ูุตุจ ุฑุงุณุช ู <code>rustup</code>ุ ุงุณฺฉุฑูพุช ุญุฐู ุฒุฑ ุฑุง ุงุฒ ุดู ุฎูุฏ ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ rustup self uninstall
</code></pre>
<h3 id="ูุณุชูุฏุงุช-ูุญู"><a class="header" href="#ูุณุชูุฏุงุช-ูุญู">ูุณุชูุฏุงุช ูุญู</a></h3>
<p>ูุตุจ ุฑุงุณุช ููฺูู ุดุงูู ฺฉ ูุณุฎู ูุญู ุงุฒ ูุณุชูุฏุงุช ุงุณุช ุชุง ุจุชูุงูุฏ ุขู ุฑุง ุจู ุตูุฑุช ุขููุงู ูุทุงูุนู ฺฉูุฏ. ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ูุณุชูุฏุงุช ูุญู ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏุ ุฏุณุชูุฑ <code>rustup doc</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ.</p>
<p>ูุฑ ุฒูุงู ฺฉู ุงุฒ ฺฉ ููุน ุง ุชุงุจุน ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ ู ูุทูุฆู ูุณุชุฏ ฺฉู ฺู ฺฉุงุฑ ูโฺฉูุฏ ุง ฺฺฏููู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูุฏุ ุงุฒ ูุณุชูุฏุงุช ุฑุงุจุท ุจุฑูุงููโููุณ (API) ุจุฑุง ุงูุชู ุขู ุงุณุชูุงุฏู ฺฉูุฏ!</p>
<h3 id="ูุฑุงุดฺฏุฑูุง-ูุชู-ู-ูุญุทูุง-ุชูุณุนู-ฺฉูพุงุฑฺู"><a class="header" href="#ูุฑุงุดฺฏุฑูุง-ูุชู-ู-ูุญุทูุง-ุชูุณุนู-ฺฉูพุงุฑฺู">ูุฑุงุดฺฏุฑูุง ูุชู ู ูุญุทโูุง ุชูุณุนู ฺฉูพุงุฑฺู</a></h3>
<p>ุงู ฺฉุชุงุจ ูฺ ูุฑุถ ุฏุฑุจุงุฑู ุงุจุฒุงุฑูุง ฺฉู ุจุฑุง ููุดุชู ฺฉุฏ ุฑุงุณุช ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุฏุงุฑุฏ. ุชูุฑุจุงู ูุฑ ูุฑุงุดฺฏุฑ ูุชู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ! ุจุง ุงู ุญุงูุ ุจุณุงุฑ ุงุฒ ูุฑุงุดฺฏุฑูุง ู ูุญุทโูุง ุชูุณุนู ฺฉูพุงุฑฺู (IDE) ูพุดุชุจุงู ุฏุงุฎู ุจุฑุง ุฑุงุณุช ุฏุงุฑูุฏ. ููุดู ูโุชูุงูุฏ ููุฑุณุช ูุณุจุชุงู ุฌุฏุฏ ุงุฒ ุจุณุงุฑ ุงุฒ ูุฑุงุดฺฏุฑูุง ู IDEูุง ุฑุง ุฏุฑ <a href="https://www.rust-lang.org/tools">ุตูุญู ุงุจุฒุงุฑูุง</a> ุฏุฑ ูุจโุณุงุช ุฑุงุณุช ูพุฏุง ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุณูุงู-ุฏูุง"><a class="header" href="#ุณูุงู-ุฏูุง">ุณูุงูุ ุฏูุง!</a></h2>
<p>ุญุงูุง ฺฉู Rust ุฑุง ูุตุจ ฺฉุฑุฏูโุงุฏุ ููุช ุขู ุงุณุช ฺฉู ุงููู ุจุฑูุงููโ Rust ุฎูุฏ ุฑุง ุจููุณุฏ.
ููุช ุฒุจุงู ุฌุฏุฏ ุฑุง ุงุฏ ูโฺฏุฑุฏุ ูุนูููุงู ฺฉ ุจุฑูุงูู ฺฉูฺฺฉ ูโููุณุฏ ฺฉู ูุชู <code>Hello, world!</code> ุฑุง ุจู ุตูุญู ููุงุด ฺุงูพ ฺฉูุฏุ ูพุณ ูุง ูู ููู ฺฉุงุฑ ุฑุง ุฎูุงูู ฺฉุฑุฏ!</p>
<blockquote>
<p>ูฺฉุชู: ุงู ฺฉุชุงุจ ูุฑุถ ูโฺฉูุฏ ฺฉู ุดูุง ุจุง ุฎุท ูุฑูุงู ุขุดูุง ูพุงูโุง ุฏุงุฑุฏ. Rust ูฺโฺฏููู ุงูุฒุงู ุฏุฑ ููุฑุฏ ูุฑุงุด ุง ุงุจุฒุงุฑูุง ุดูุง ุง ุฌุง ฺฉู ฺฉุฏ ุดูุง ูุฑุงุฑ ุฏุงุฑุฏ ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ุชุฑุฌุญ ูโุฏูุฏ ุงุฒ ฺฉ ูุญุท ุชูุณุนู ฺฉูพุงุฑฺู (IDE) ุจู ุฌุง ุฎุท ูุฑูุงู ุงุณุชูุงุฏู ฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ IDE ููุฑุฏ ุนูุงูู ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุจุณุงุฑ ุงุฒ IDEโูุง ุงฺฉููู ุงุฒ Rust ูพุดุชุจุงู ูโฺฉููุฏุ ุจุฑุง ุฌุฒุฆุงุชุ ูุณุชูุฏุงุช IDE ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ุชู Rust ุชูุฑฺฉุฒ ุฎูุฏ ุฑุง ุจุฑ enabling ูพุดุชุจุงู ุฎูุจ ุงุฒ IDE ุงุฒ ุทุฑู <code>rust-analyzer</code> ฺฏุฐุงุดุชู ุงุณุช. ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑุ ุจู <a href="appendix-04-useful-development-tools.html">ุถููู ุฏ</a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏ.</p>
</blockquote>
<h3 id="ุงุฌุงุฏ-ฺฉ-ุฏุงุฑฺฉุชูุฑ-ูพุฑูฺู"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ุฏุงุฑฺฉุชูุฑ-ูพุฑูฺู">ุงุฌุงุฏ ฺฉ ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู</a></h3>
<p>ุดูุง ุจุง ุงุฌุงุฏ ฺฉ ุฏุงุฑฺฉุชูุฑ ุจุฑุง ุฐุฎุฑู ฺฉุฏูุง Rust ุฎูุฏ ุดุฑูุน ุฎูุงูุฏ ฺฉุฑุฏ. ุจุฑุง Rust ููู ูุณุช ฺฉู ฺฉุฏ ุดูุง ฺฉุฌุง ูุฑุงุฑ ุฏุงุฑุฏุ ุงูุง ุจุฑุง ุชูุฑูโูุง ู ูพุฑูฺูโูุง ุงู ฺฉุชุงุจุ ูพุดููุงุฏ ูโฺฉูู ฺฉ ุฏุงุฑฺฉุชูุฑ <em>projects</em> ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุฎุงููโุชุงู ุจุณุงุฒุฏ ู ุชูุงู ูพุฑูฺูโูุงุชุงู ุฑุง ุฏุฑ ุขู ูฺฏูุฏุงุฑุฏ.</p>
<p>ฺฉ ุชุฑููุงู ุจุงุฒ ฺฉูุฏ ู ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ฺฉ ุฏุงุฑฺฉุชูุฑ <em>projects</em> ู ฺฉ ุฏุงุฑฺฉุชูุฑ ุจุฑุง ูพุฑูฺูโ โHello, world!โ ุฏุฑ ุฏุงุฎู ุฏุงุฑฺฉุชูุฑ <em>projects</em> ุงุฌุงุฏ ฺฉูุฏ.</p>
<p>ุจุฑุง ูููฺฉุณุ macOSุ ู PowerShell ุฏุฑ ููุฏูุฒุ ุงู ุฏุณุชูุฑุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ mkdir ~/projects
$ cd ~/projects
$ mkdir hello_world
$ cd hello_world
</code></pre>
<p>ุจุฑุง CMD ููุฏูุฒุ ุงู ุฏุณุชูุฑุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-cmd">&gt; mkdir "%USERPROFILE%\projects"
&gt; cd /d "%USERPROFILE%\projects"
&gt; mkdir hello_world
&gt; cd hello_world
</code></pre>
<h3 id="ููุดุชู-ู-ุงุฌุฑุง-ฺฉ-ุจุฑูุงูู-rust"><a class="header" href="#ููุดุชู-ู-ุงุฌุฑุง-ฺฉ-ุจุฑูุงูู-rust">ููุดุชู ู ุงุฌุฑุง ฺฉ ุจุฑูุงูู Rust</a></h3>
<p>ุญุงูุง ฺฉ ูุงู ุณูุฑุณ ุฌุฏุฏ ุจุณุงุฒุฏ ู ุขู ุฑุง <em>main.rs</em> ูุงูโฺฏุฐุงุฑ ฺฉูุฏ. ูุงูโูุง Rust ููุดู ุจุง ูพุณููุฏ <em>.rs</em> ุชูุงู ูโุดููุฏ. ุงฺฏุฑ ุงุฒ ุจุด ุงุฒ ฺฉ ฺฉููู ุฏุฑ ูุงู ูุงู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุณูุช ูุนููู ุงู ุงุณุช ฺฉู ุงุฒ ุฎุท ุชุฑู ุฒุฑ ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุขููุง ุงุณุชูุงุฏู ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุงุฒ <em>hello_world.rs</em> ุจู ุฌุง <em>helloworld.rs</em> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุญุงูุง ูุงู <em>main.rs</em> ฺฉู ุชุงุฒู ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏ ุฑุง ุจุงุฒ ฺฉูุฏ ู ฺฉุฏ ููุฌูุฏ ุฏุฑ ููุฑุณุช 1-1 ุฑุง ูุงุฑุฏ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    println!("Hello, world!");
}</code></pre></pre>
<figcaption>Listing 1-1: ฺฉ ุจุฑูุงูู ฺฉู <code>Hello, world!</code> ุฑุง ฺุงูพ ูโฺฉูุฏ</figcaption>
</figure>
<p>ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ ู ุจู ูพูุฌุฑู ุชุฑููุงู ุฎูุฏ ุฏุฑ ุฏุงุฑฺฉุชูุฑ
<em>~/projects/hello_world</em> ุจุฑฺฏุฑุฏุฏ. ุฏุฑ ูููฺฉุณ ุง macOSุ ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ูุงู ุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ู ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ rustc main.rs
$ ./main
Hello, world!
</code></pre>
<p>ุฏุฑ ููุฏูุฒุ ุจู ุฌุง <code>./main</code> ุฏุณุชูุฑ <code>.\main.exe</code> ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-powershell">&gt; rustc main.rs
&gt; .\main.exe
Hello, world!
</code></pre>
<p>ุตุฑูโูุธุฑ ุงุฒ ุณุณุชูโุนุงูู ุดูุงุ ุฑุดุชู <code>Hello, world!</code> ุจุงุฏ ุฏุฑ ุชุฑููุงู ฺุงูพ ุดูุฏ. ุงฺฏุฑ ุงู ุฎุฑูุฌ ุฑุง ูุดุงูุฏู ูฺฉุฑุฏุฏุ ุจู ุจุฎุด <a href="ch01-01-installation.html#troubleshooting">โุฑูุน ูุดฺฉูุงุชโ</a><!-- ignore --> ุฏุฑ ูุณูุช ูุตุจ ูุฑุงุฌุนู ฺฉูุฏ ุชุง ุฑูุดโูุง ุฏุฑุงูุช ฺฉูฺฉ ุฑุง ุจุงุจุฏ.</p>
<p>ุงฺฏุฑ <code>Hello, world!</code> ฺุงูพ ุดุฏุ ุชุจุฑฺฉ ูโฺฏูู! ุดูุง ุจู ุทูุฑ ุฑุณู ฺฉ ุจุฑูุงูู ููุณ Rust ุดุฏูโุงุฏโุฎูุด ุขูุฏุฏ!</p>
<h3 id="ุขูุงุชูู-ฺฉ-ุจุฑูุงูู-rust"><a class="header" href="#ุขูุงุชูู-ฺฉ-ุจุฑูุงูู-rust">ุขูุงุชูู ฺฉ ุจุฑูุงูู Rust</a></h3>
<p>ุจุงุฏ ุงู ุจุฑูุงูู โHello, world!โ ุฑุง ุจู ุทูุฑ ุฏูู ุจุฑุฑุณ ฺฉูู. ุงู ุงููู ุจุฎุด ูุนูุง ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {

}</code></pre></pre>
<p>ุงู ุฎุทูุท ฺฉ ุชุงุจุน ุจู ูุงู <code>main</code> ุชุนุฑู ูโฺฉููุฏ. ุชุงุจุน <code>main</code> ุฎุงุต ุงุณุช: ููุดู ุงููู ฺฉุฏ ุงุณุช ฺฉู ุฏุฑ ูุฑ ุจุฑูุงูู Rust ุงุฌุฑุง ุงุฌุฑุง ูโุดูุฏ. ุฏุฑ ุงูุฌุงุ ุฎุท ุงูู ฺฉ ุชุงุจุน ุจู ูุงู <code>main</code> ุงุนูุงู ูโฺฉูุฏ ฺฉู ูฺ ูพุงุฑุงูุชุฑ ูุฏุงุฑุฏ ู ูฺ ฺุฒ ุฑุง ุจุฑููโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ูพุงุฑุงูุชุฑูุง ูุฌูุฏ ุฏุงุดุชูุฏุ ุขูโูุง ุฏุงุฎู ูพุฑุงูุชุฒูุง <code>()</code> ูุฑุงุฑ ูโฺฏุฑูุชูุฏ.</p>
<p>ุจุฏู ุชุงุจุน ุฏุฑ <code>{}</code> ูุฑุงุฑ ุฏุงุฑุฏ. Rust ุงุฒ ุขฺฉููุงุฏูุง ุจุฑุง ุงุญุงุทู ฺฉุฑุฏู ุชูุงู ุจุฏููโูุง ุชูุงุจุน ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ฺฉ ุณุจฺฉ ุฎูุจ ุงุณุช ฺฉู ุขฺฉููุงุฏ ุจุงุฒ ุฑุง ุฏุฑ ููุงู ุฎุท ุงุนูุงู ุชุงุจุน ูุฑุงุฑ ุฏูุฏ ู ฺฉ ูุถุง ุฎุงู ุจู ุขูโูุง ุงุถุงูู ฺฉูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุงฺฏุฑ ูโุฎูุงูุฏ ุฏุฑ ูพุฑูฺูโูุง Rust ุฎูุฏ ุงุฒ ฺฉ ุณุจฺฉ ุงุณุชุงูุฏุงุฑุฏ ูพุฑู ฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ ุงุจุฒุงุฑ ุจู ูุงู <code>rustfmt</code> ุจุฑุง ูุฑูุช ฺฉุฑุฏู ฺฉุฏ ุฎูุฏ ุฏุฑ ฺฉ ุณุจฺฉ ุฎุงุต ุงุณุชูุงุฏู ฺฉูุฏ (ุจุดุชุฑ ุฏุฑ ููุฑุฏ <code>rustfmt</code> ุฏุฑ <a href="appendix-04-useful-development-tools.html">ุถููู ุฏ</a><!-- ignore -->). ุชู Rust ุงู ุงุจุฒุงุฑ ุฑุง ููุฑุงู ุจุง ุชูุฒุน ุงุณุชุงูุฏุงุฑุฏ Rust ุดุงูู ฺฉุฑุฏู ุงุณุชุ ููุงูุทูุฑ ฺฉู <code>rustc</code> ุงุณุชุ ุจูุงุจุฑุงู ุจุงุฏ ูุจูุงู ุฑู ฺฉุงููพูุชุฑ ุดูุง ูุตุจ ุดุฏู ุจุงุดุฏ!</p>
</blockquote>
<p>ุจุฏู ุชุงุจุน <code>main</code> ุดุงูู ฺฉุฏ ุฒุฑ ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!("Hello, world!");
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุฎุท ุชูุงู ฺฉุงุฑ ุฑุง ุฏุฑ ุงู ุจุฑูุงูู ฺฉูฺฺฉ ุงูุฌุงู ูโุฏูุฏ: ุขู ูุชู ุฑุง ุจู ุตูุญู ููุงุด ฺุงูพ ูโฺฉูุฏ. ฺูุงุฑ ูฺฉุชู ููู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจุงุฏ ุจู ุขูโูุง ุชูุฌู ฺฉูุฏ.</p>
<p>ุงููุ <code>println!</code> ฺฉ ูุงฺฉุฑู Rust ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงฺฏุฑ ุจู ุฌุง ุขู ฺฉ ุชุงุจุน ูุฑุงุฎูุงู ูโุดุฏุ ุจุงุฏ ุจู ุตูุฑุช <code>println</code> (ุจุฏูู <code>!</code>) ูุงุฑุฏ ูโุดุฏ. ูุงฺฉุฑููุง Rust ุฑุง ุฏุฑ ูุตู 20 ุจู ุทูุฑ ููุตูโุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ุดูุง ููุท ุจุงุฏ ุจุฏุงูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ <code>!</code> ุจู ุงู ูุนู ุงุณุช ฺฉู ุดูุง ฺฉ ูุงฺฉุฑู ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ูู ฺฉ ุชุงุจุน ูุนููู ู ุงูฺฉู ูุงฺฉุฑููุง ููุดู ุงุฒ ููุงู ููุงูู ุชูุงุจุน ูพุฑู ููโฺฉููุฏ.</p>
<p>ุฏููุ ุดูุง ุฑุดุชู <code>"Hello, world!"</code> ุฑุง ูุดุงูุฏู ูโฺฉูุฏ. ุงู ุฑุดุชู ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจู <code>println!</code> ูโุฏูู ู ุงู ุฑุดุชู ุจู ุตูุญู ููุงุด ฺุงูพ ูโุดูุฏ.</p>
<p>ุณููุ ุฎุท ุฑุง ุจุง ฺฉ ููุทูโูุฑฺฏูู (<code>;</code>) ุชูุงู ูโฺฉูู ฺฉู ูุดุงู ูโุฏูุฏ ุงู ุนุจุงุฑุช ุชูุงู ุดุฏู ู ุนุจุงุฑุช ุจุนุฏ ุขูุงุฏู ุดุฑูุน ุงุณุช. ุจุดุชุฑ ุฎุทูุท ฺฉุฏ Rust ุจุง ููุทูโูุฑฺฏูู ุชูุงู ูโุดููุฏ.</p>
<h3 id="ฺฉุงููพุงู-ฺฉุฑุฏู-ู-ุงุฌุฑุง-ฺฉุฑุฏู-ูุฑุงุญู-ุฌุฏุงฺฏุงูู-ูุณุชูุฏ"><a class="header" href="#ฺฉุงููพุงู-ฺฉุฑุฏู-ู-ุงุฌุฑุง-ฺฉุฑุฏู-ูุฑุงุญู-ุฌุฏุงฺฏุงูู-ูุณุชูุฏ">ฺฉุงููพุงู ฺฉุฑุฏู ู ุงุฌุฑุง ฺฉุฑุฏู ูุฑุงุญู ุฌุฏุงฺฏุงูู ูุณุชูุฏ</a></h3>
<p>ุดูุง ุจู ุชุงุฒฺฏ ฺฉ ุจุฑูุงูู ุฌุฏุฏ ุงุฌุงุฏ ุดุฏู ุฑุง ุงุฌุฑุง ฺฉุฑุฏูโุงุฏุ ุจูุงุจุฑุงู ุจุงุฏ ูุฑ ูุฑุญูู ุงุฒ ูุฑุขูุฏ ุฑุง ุจุฑุฑุณ ฺฉูู.</p>
<p>ูุจู ุงุฒ ุงุฌุฑุง ฺฉ ุจุฑูุงูู Rustุ ุจุงุฏ ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุงููพุงูุฑ Rust ฺฉุงููพุงู ฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑ ุจุงุฏ ุฏุณุชูุฑ <code>rustc</code> ุฑุง ูุงุฑุฏ ฺฉุฑุฏู ู ูุงู ูุงู ุณูุฑุณ ุฎูุฏ ุฑุง ุจู ุขู ุจุฏูุฏุ ูุงููุฏ ุงู:</p>
<pre><code class="language-console">$ rustc main.rs
</code></pre>
<p>ุงฺฏุฑ ูพุดโุฒูููโุง ุงุฒ C ุง C++ ุฏุงุฑุฏุ ูุชูุฌู ุฎูุงูุฏ ุดุฏ ฺฉู ุงู ูุดุงุจู ุฏุณุชูุฑ <code>gcc</code> ุง <code>clang</code> ุงุณุช. ูพุณ ุงุฒ ฺฉุงููพุงู ููููุ Rust ฺฉ ูุงู ุงุฌุฑุง ุจุงูุฑ ุชููุฏ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ูููฺฉุณุ macOS ู PowerShell ุฏุฑ ููุฏูุฒุ ูโุชูุงูุฏ ูุงู ุงุฌุฑุง ุฑุง ุจุง ูุงุฑุฏ ฺฉุฑุฏู ุฏุณุชูุฑ <code>ls</code> ุฏุฑ ุดู ุฎูุฏ ูุดุงูุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ ls
main  main.rs
</code></pre>
<p>ุฏุฑ ูููฺฉุณ ู macOSุ ุดูุง ุฏู ูุงู ุฎูุงูุฏ ุฏุฏ. ุฏุฑ PowerShell ุฏุฑ ููุฏูุฒุ ููุงู ุณู ูุงู ุฑุง ฺฉู ุจุง CMD ูโุจูุฏ ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ. ุฏุฑ CMD ุฏุฑ ููุฏูุฒุ ุจุงุฏ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-cmd">&gt; dir /B %= ฺฏุฒูู /B ูโฺฏูุฏ ฺฉู ููุท ูุงู ูุงูโูุง ููุงุด ุฏุงุฏู ุดูุฏ =%
main.exe
main.pdb
main.rs
</code></pre>
<p>ุงู ูุณุช ูุงู ุณูุฑุณ ุจุง ูพุณููุฏ <em>.rs</em>ุ ูุงู ุงุฌุฑุง (<em>main.exe</em> ุฏุฑ ููุฏูุฒุ ุงูุง <em>main</em> ุฏุฑ ุณุงุฑ ูพูุชูุฑูโูุง)ุ ู ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ ููุฏูุฒุ ฺฉ ูุงู ุดุงูู ุงุทูุงุนุงุช ุฏุจุงฺฏ ุจุง ูพุณููุฏ <em>.pdb</em> ุฑุง ูุดุงู ูโุฏูุฏ. ุงุฒ ุงูุฌุงุ ุดูุง ูุงู <em>main</em> ุง <em>main.exe</em> ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ูุงููุฏ ุงู:</p>
<pre><code class="language-console">$ ./main # ุง .\main.exe ุฏุฑ ููุฏูุฒ
</code></pre>
<p>ุงฺฏุฑ ูุงู <em>main.rs</em> ุดูุง ุจุฑูุงูู โHello, world!โ ุจุงุดุฏุ ุงู ุฎุท <code>Hello, world!</code> ุฑุง ุฏุฑ ุชุฑููุงู ุดูุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุจุง ุฒุจุงูโูุง ุฏุงูุงูฺฉ ูุงููุฏ Rubyุ Python ุง JavaScript ุขุดูุง ุจุดุชุฑ ุฏุงุฑุฏุ ููฺฉู ุงุณุช ุนุงุฏุช ูุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉุงููพุงู ู ุงุฌุฑุง ฺฉ ุจุฑูุงูู ุฑุง ุจู ุนููุงู ูุฑุงุญู ุฌุฏุงฺฏุงูู ุงูุฌุงู ุฏูุฏ. Rust ฺฉ ุฒุจุงู <em>ฺฉุงููพุงู ุดุฏู ูพุด ุงุฒ ุฒูุงู</em> ุงุณุชุ ุจู ุงู ูุนู ฺฉู ุดูุง ูโุชูุงูุฏ ฺฉ ุจุฑูุงูู ุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ู ูุงู ุงุฌุฑุง ุฑุง ุจู ุดุฎุต ุฏฺฏุฑ ุจุฏูุฏ ุชุง ุขู ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุญุช ุจุฏูู ุงูฺฉู Rust ุฑู ุณุณุชู ุขู ุดุฎุต ูุตุจ ุดุฏู ุจุงุดุฏ. ุงฺฏุฑ ุจู ฺฉุณ ูุงู <em>.rb</em>ุ <em>.py</em> ุง <em>.js</em> ุจุฏูุฏุ ุขูโูุง ูุงุฒ ุจู ูุตุจ ูพุงุฏูโุณุงุฒ Rubyุ Python ุง JavaScript (ุจู ุชุฑุชุจ) ุฏุงุฑูุฏ. ุงูุง ุฏุฑ ุงู ุฒุจุงูโูุงุ ุดูุง ููุท ุจู ฺฉ ุฏุณุชูุฑ ูุงุฒ ุฏุงุฑุฏ ุชุง ุจุฑูุงูู ุฎูุฏ ุฑุง ฺฉุงููพุงู ู ุงุฌุฑุง ฺฉูุฏ. ููู ฺุฒ ุฏุฑ ุทุฑุงุญ ุฒุจุงูโูุง ฺฉ ุชุนุงุฏู ุงุณุช.</p>
<p>ููุท ุจุง ฺฉุงููพุงู ฺฉุฑุฏู ุจุง <code>rustc</code> ุจุฑุง ุจุฑูุงููโูุง ุณุงุฏู ฺฉุงู ุงุณุชุ ุงูุง ุจุง ุฑุดุฏ ูพุฑูฺู ุดูุงุ ูโุฎูุงูุฏ ุชูุงู ฺฏุฒููโูุง ุฑุง ูุฏุฑุช ฺฉุฑุฏู ู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุฏ ุฎูุฏ ุฑุง ุขุณุงู ฺฉูุฏ. ุฏุฑ ุงุฏุงููุ ูุง ุงุจุฒุงุฑ Cargo ุฑุง ูุนุฑู ุฎูุงูู ฺฉุฑุฏ ฺฉู ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุจุฑูุงููโูุง ูุงูุน Rust ุจููุณุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุณูุงู-cargo"><a class="header" href="#ุณูุงู-cargo">ุณูุงูุ Cargo!</a></h2>
<p>Cargo ุณุณุชู ุณุงุฎุช ู ูุฏุฑ ุจุณุชูโูุง Rust ุงุณุช. ุจุดุชุฑ Rustacean ูุง ุงุฒ ุงู ุงุจุฒุงุฑ ุจุฑุง ูุฏุฑุช ูพุฑูฺูโูุง Rust ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ ุฒุฑุง Cargo ุจุณุงุฑ ุงุฒ ูุธุงู ุฑุง ุจุฑุง ุดูุง ุงูุฌุงู ูโุฏูุฏุ ูุงููุฏ ุณุงุฎุชู ฺฉุฏ ุดูุงุ ุฏุงูููุฏ ฺฉุชุงุจุฎุงููโูุง ฺฉู ฺฉุฏ ุดูุง ุจู ุขูโูุง ูุงุจุณุชู ุงุณุชุ ู ุณุงุฎุชู ุขู ฺฉุชุงุจุฎุงููโูุง. (ูุง ุจู ฺฉุชุงุจุฎุงููโูุง ฺฉู ฺฉุฏ ุดูุง ุจู ุขูโูุง ูุงุฒ ุฏุงุฑุฏ <em>ูุงุจุณุชฺฏโูุง</em> ูโฺฏูู.)</p>
<p>ุณุงุฏูโุชุฑู ุจุฑูุงููโูุง Rustุ ูุงููุฏ ุจุฑูุงููโุง ฺฉู ุชุง ฺฉููู ููุดุชูโุงูุ ูฺ ูุงุจุณุชฺฏโุง ูุฏุงุฑูุฏ. ุงฺฏุฑ ูพุฑูฺู โHello, world!โ ุฑุง ุจุง Cargo ูโุณุงุฎุชูุ ููุท ุงุฒ ุจุฎุด ุงุฒ Cargo ุงุณุชูุงุฏู ูโฺฉุฑุฏ ฺฉู ูุณุฆูู ุณุงุฎุชู ฺฉุฏ ุดูุง ุงุณุช. ููฺฏุงู ฺฉู ุจุฑูุงููโูุง ูพฺุฏูโุชุฑ ุฏุฑ Rust ุจููุณุฏุ ูุงุจุณุชฺฏโูุง ุฑุง ุงุถุงูู ุฎูุงูุฏ ฺฉุฑุฏ ู ุงฺฏุฑ ูพุฑูฺูโุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ Cargo ุดุฑูุน ฺฉูุฏุ ุงุถุงูู ฺฉุฑุฏู ูุงุจุณุชฺฏโูุง ุจุณุงุฑ ุฑุงุญุชโุชุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุจู ุฏูู ุงูฺฉู ุงฺฉุซุฑุช ุนุธู ูพุฑูฺูโูุง Rust ุงุฒ Cargo ุงุณุชูุงุฏู ูโฺฉููุฏุ ุจูู ุงู ฺฉุชุงุจ ูุฑุถ ูโฺฉูุฏ ฺฉู ุดูุง ูุฒ ุงุฒ Cargo ุงุณุชูุงุฏู ูโฺฉูุฏ. Cargo ุจุง Rust ูุตุจ ูโุดูุฏ ุงฺฏุฑ ุงุฒ ูุตุจโฺฉููุฏูโูุง ุฑุณู ฺฉู ุฏุฑ ุจุฎุด
[โูุตุจโ][installation]<!-- ignore --> ุจุญุซ ุดุฏูโุงูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู ุจุงุดุฏ. ุงฺฏุฑ Rust ุฑุง ุงุฒ ุทุฑู ุฑูุดโูุง ุฏฺฏุฑ ูุตุจ ฺฉุฑุฏูโุงุฏุ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง Cargo ูุตุจ ุดุฏู ุงุณุช ุง ูู ุจุง ูุงุฑุฏ ฺฉุฑุฏู ุฏุณุชูุฑ ุฒุฑ ุฏุฑ ุชุฑููุงู ุฎูุฏ:</p>
<pre><code class="language-console">$ cargo --version
</code></pre>
<p>ุงฺฏุฑ ุดูุงุฑู ูุณุฎูโุง ูุดุงูุฏู ฺฉุฑุฏุฏุ ุขู ุฑุง ุฏุงุฑุฏ! ุงฺฏุฑ ุฎุทุง <code>command not found</code> ุฑุง ุฏุฏุฏุ ุจู ูุณุชูุฏุงุช ุฑูุด ูุตุจ ุฎูุฏ ูุฑุงุฌุนู ฺฉูุฏ ุชุง ูุญูู ูุตุจ ุฌุฏุงฺฏุงูู Cargo ุฑุง ูพุฏุง ฺฉูุฏ.</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-ูพุฑูฺู-ุจุง-cargo"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ูพุฑูฺู-ุจุง-cargo">ุงุฌุงุฏ ฺฉ ูพุฑูฺู ุจุง Cargo</a></h3>
<p>ุจุงุฏ ฺฉ ูพุฑูฺู ุฌุฏุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ Cargo ุจุณุงุฒู ู ุจุจูู ฺฺฏููู ุงุฒ ูพุฑูฺู ุงููู โHello, world!โ ูุง ูุชูุงูุช ุงุณุช. ุจู ุฏุงุฑฺฉุชูุฑ <em>projects</em> ุฎูุฏ ุจุฑูุฏ (ุง ูุฑ ุฌุง ฺฉู ุชุตูู ฺฏุฑูุชูโุงุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุฐุฎุฑู ฺฉูุฏ). ุณูพุณุ ุฏุฑ ูุฑ ุณุณุชูโุนุงููุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo new hello_cargo
$ cd hello_cargo
</code></pre>
<p>ุฏุณุชูุฑ ุงูู ฺฉ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ุจู ูุงู <em>hello_cargo</em> ุงุฌุงุฏ ูโฺฉูุฏ ู ูพุฑูฺูโุง ุจู ููู ูุงู ุงุฌุงุฏ ูโฺฉูุฏ. ูุง ูพุฑูฺู ุฎูุฏ ุฑุง <em>hello_cargo</em> ูุงูโฺฏุฐุงุฑ ฺฉุฑุฏูโุงู ู Cargo ูุงูโูุง ุฎูุฏ ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุจู ููู ูุงู ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ุจู ุฏุงุฑฺฉุชูุฑ <em>hello_cargo</em> ุจุฑูุฏ ู ูุงูโูุง ุฑุง ูุณุช ฺฉูุฏ. ุฎูุงูุฏ ุฏุฏ ฺฉู Cargo ุฏู ูุงู ู ฺฉ ุฏุงุฑฺฉุชูุฑ ุจุฑุง ูุง ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุช: ฺฉ ูุงู <em>Cargo.toml</em> ู ฺฉ ุฏุงุฑฺฉุชูุฑ <em>src</em> ฺฉู ุฏุงุฎู ุขู ฺฉ ูุงู <em>main.rs</em> ุงุณุช.</p>
<p>ููฺูู ฺฉ ูุฎุฒู Git ุฌุฏุฏ ุจู ููุฑุงู ฺฉ ูุงู <em>.gitignore</em> ุงุฌุงุฏ ุดุฏู ุงุณุช. ูุงูโูุง Git ุฏุฑ ุตูุฑุช ฺฉู ุฏุณุชูุฑ <code>cargo new</code> ุฑุง ุฏุฑ ฺฉ ูุฎุฒู Git ููุฌูุฏ ุงุฌุฑุง ฺฉูุฏุ ุงุฌุงุฏ ููโุดููุฏุ ูโุชูุงูุฏ ุงู ุฑูุชุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo new --vcs=git</code> ูุบู ฺฉูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: Git ฺฉ ุณุณุชู ฺฉูุชุฑู ูุณุฎู ุฑุงุฌ ุงุณุช. ุดูุง ูโุชูุงูุฏ ุฏุณุชูุฑ <code>cargo new</code> ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ุงุฒ ุณุณุชู ฺฉูุชุฑู ูุณุฎูโุง ูุชูุงูุช ุง ูฺ ุณุณุชู ฺฉูุชุฑู ูุณุฎูโุง ุงุณุชูุงุฏู ฺฉูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุฑฺู <code>--vcs</code>. ุจุฑุง ุฏุฏู ฺฏุฒููโูุง ููุฌูุฏุ ุฏุณุชูุฑ <code>cargo new --help</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ.</p>
</blockquote>
<p>ูุงู <em>Cargo.toml</em> ุฑุง ุฏุฑ ูุฑุงุดฺฏุฑ ูุชู ุฏูุฎูุงู ุฎูุฏ ุจุงุฒ ฺฉูุฏ. ุงู ูุงู ุจุงุฏ ูุดุงุจู ฺฉุฏ ุจุงุดุฏ ฺฉู ุฏุฑ ููุฑุณุช 1-2 ุขูุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: Cargo.toml</span>
<pre><code class="language-toml">[package]
name = "hello_cargo"
version = "0.1.0"
edition = "2021"

# ุจุฑุง ูุดุงูุฏู ฺฉูุฏูุง ู ุชุนุงุฑู ุจุดุชุฑ ุจู https://doc.rust-lang.org/cargo/reference/manifest.html ูุฑุงุฌุนู ฺฉูุฏ

[dependencies]
</code></pre>
<figcaption>Listing 1-2: ูุญุชูุงุช <em>Cargo.toml</em> ฺฉู ุชูุณุท <code>cargo new</code> ุงุฌุงุฏ ุดุฏู ุงุณุช</figcaption>
</figure>
<p>ุงู ูุงู ุฏุฑ ูุฑูุช [<em>TOML</em>][toml]<!-- ignore --> (<em>ุฒุจุงู ุณุงุฏู ู ุขุดฺฉุงุฑ ุชุงู</em>) ุงุณุช ฺฉู ูุฑูุช ูพฺฉุฑุจูุฏ Cargo ุงุณุช.</p>
<p>ุฎุท ุงููุ <code>[package]</code>ุ ฺฉ ุนููุงู ุจุฎุด ุงุณุช ฺฉู ูุดุงู ูโุฏูุฏ ุจุงููโูุง ุจุนุฏ ุฏุฑ ุญุงู ูพฺฉุฑุจูุฏ ฺฉ ุจุณุชู ูุณุชูุฏ. ููุงูุทูุฑ ฺฉู ุงุทูุงุนุงุช ุจุดุชุฑ ุจู ุงู ูุงู ุงุถุงูู ูโฺฉููุ ุจุฎุดโูุง ุฏฺฏุฑ ุฑุง ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุณู ุฎุท ุจุนุฏ ุงุทูุงุนุงุช ูพฺฉุฑุจูุฏโุง ุฑุง ุชูุธู ูโฺฉููุฏ ฺฉู Cargo ุจุฑุง ฺฉุงููพุงู ุจุฑูุงูู ุดูุง ุจู ุขูโูุง ูุงุฒ ุฏุงุฑุฏ: ูุงูุ ูุณุฎู ู ูุณุฎูโุง ุงุฒ Rust ฺฉู ุจุงุฏ ุงุณุชูุงุฏู ุดูุฏ. ุฏุฑ ููุฑุฏ ฺฉูุฏ <code>edition</code> ุฏุฑ [ุถููู ู][appendix-e]<!-- ignore --> ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุขุฎุฑู ุฎุทุ <code>[dependencies]</code>ุ ุดุฑูุน ฺฉ ุจุฎุด ุงุณุช ฺฉู ุดูุง ุจุงุฏ ูุงุจุณุชฺฏโูุง ูพุฑูฺู ุฎูุฏ ุฑุง ุฏุฑ ุขู ุฐฺฉุฑ ฺฉูุฏ. ุฏุฑ Rustุ ุจุณุชูโูุง ฺฉุฏ ุจู ูุงู <em>ฺฉุฑูุชโูุง</em> ุดูุงุฎุชู ูโุดููุฏ. ุจุฑุง ุงู ูพุฑูฺู ูุงุฒ ุจู ฺฉุฑูุชโูุง ุฏฺฏุฑ ูุฏุงุฑูุ ุงูุง ุฏุฑ ูพุฑูฺู ุงูู ูุตู 2 ุจู ุขูโูุง ูุงุฒ ุฎูุงูู ุฏุงุดุชุ ุจูุงุจุฑุงู ุฏุฑ ุขู ุฒูุงู ุงุฒ ุงู ุจุฎุด ูุงุจุณุชฺฏโูุง ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุญุงูุง ูุงู <em>src/main.rs</em> ุฑุง ุจุงุฒ ฺฉูุฏ ู ูฺฏุงู ุจูุฏุงุฒุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    println!("Hello, world!");
}</code></pre></pre>
<p>Cargo ฺฉ ุจุฑูุงูู โHello, world!โ ุจุฑุง ุดูุง ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุชุ ุฏุฑุณุช ูุงููุฏ ุจุฑูุงููโุง ฺฉู ุฏุฑ ููุฑุณุช 1-1 ููุดุชู! ุชุง ฺฉูููุ ุชูุงูุชโูุง ุจู ูพุฑูฺู ูุง ู ูพุฑูฺูโุง ฺฉู Cargo ุงุฌุงุฏ ฺฉุฑุฏู ุงู ุงุณุช ฺฉู Cargo ฺฉุฏ ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>src</em> ูุฑุงุฑ ุฏุงุฏู ู ูุง ฺฉ ูุงู ูพฺฉุฑุจูุฏ <em>Cargo.toml</em> ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุจุงูุง ูพุฑูฺู ุฏุงุฑู.</p>
<p>Cargo ุงูุชุธุงุฑ ุฏุงุฑุฏ ฺฉู ูุงูโูุง ููุจุน ุดูุง ุฏุงุฎู ุฏุงุฑฺฉุชูุฑ <em>src</em> ูุฑุงุฑ ุฏุงุดุชู ุจุงุดูุฏ. ุฏุงุฑฺฉุชูุฑ ุจุงูุง ูพุฑูฺู ููุท ุจุฑุง ูุงูโูุง READMEุ ุงุทูุงุนุงุช ูุฌูุฒุ ูุงูโูุง ูพฺฉุฑุจูุฏ ู ูุฑ ฺุฒ ุฏฺฏุฑ ฺฉู ูุฑุจูุท ุจู ฺฉุฏ ุดูุง ูุจุงุดุฏุ ุงุณุชูุงุฏู ูโุดูุฏ. ุงุณุชูุงุฏู ุงุฒ Cargo ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ูพุฑูฺูโูุงุชุงู ุฑุง ุณุงุฒูุงูุฏู ฺฉูุฏ. ุจุฑุง ูุฑ ฺุฒ ุฌุง ูุฌูุฏ ุฏุงุฑุฏ ู ููู ฺุฒ ุฏุฑ ุฌุง ุฎูุฏ ูุฑุงุฑ ุฏุงุฑุฏ.</p>
<p>ุงฺฏุฑ ูพุฑูฺูโุง ุดุฑูุน ฺฉุฑุฏูโุงุฏ ฺฉู ุงุฒ Cargo ุงุณุชูุงุฏู ููโฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูพุฑูฺู โHello, world!โ ุงูุฌุงู ุฏุงุฏูุ ูโุชูุงูุฏ ุขู ุฑุง ุจู ูพุฑูฺูโุง ฺฉู ุงุฒ Cargo ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุจุฏู ฺฉูุฏ. ฺฉุฏ ูพุฑูฺู ุฑุง ุจู ุฏุงุฑฺฉุชูุฑ <em>src</em> ููุชูู ฺฉุฑุฏู ู ฺฉ ูุงู <em>Cargo.toml</em> ููุงุณุจ ุงุฌุงุฏ ฺฉูุฏ. ฺฉ ุงุฒ ุฑุงูโูุง ุขุณุงู ุจุฑุง ุจูโุฏุณุช ุขูุฑุฏู ุขู ูุงู <em>Cargo.toml</em> ุงู ุงุณุช ฺฉู ุฏุณุชูุฑ <code>cargo init</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ฺฉู ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุขู ุฑุง ุจุฑุง ุดูุง ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<h3 id="ุณุงุฎุช-ู-ุงุฌุฑุง-ูพุฑูฺู-ุจุง-cargo"><a class="header" href="#ุณุงุฎุช-ู-ุงุฌุฑุง-ูพุฑูฺู-ุจุง-cargo">ุณุงุฎุช ู ุงุฌุฑุง ูพุฑูฺู ุจุง Cargo</a></h3>
<p>ุญุงูุง ุจุงุฏ ุจุจูู ฺฉู ฺู ุชูุงูุช ุฏุฑ ุฒูุงู ฺฉู ุจุฑูุงูู โHello, world!โ ุฑุง ุจุง Cargo ูโุณุงุฒู ู ุงุฌุฑุง ูโฺฉูู ูุฌูุฏ ุฏุงุฑุฏ! ุงุฒ ุฏุงุฑฺฉุชูุฑ <em>hello_cargo</em> ุฎูุฏุ ูพุฑูฺู ุฑุง ุจุง ูุงุฑุฏ ฺฉุฑุฏู ุฏุณุชูุฑ ุฒุฑ ุจุณุงุฒุฏ:</p>
<pre><code class="language-console">$ cargo build
   Compiling hello_cargo v0.1.0 (file:///projects/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 2.85 secs
</code></pre>
<p>ุงู ุฏุณุชูุฑ ฺฉ ูุงู ุงุฌุฑุง ุฏุฑ <em>target/debug/hello_cargo</em> (ุง <em>target\debug\hello_cargo.exe</em> ุฏุฑ ููุฏูุฒ) ุงุฌุงุฏ ูโฺฉูุฏ ุจู ุฌุง ุงู ฺฉู ุขู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูุนู ุดูุง ูุฑุงุฑ ุฏูุฏ. ุฒุฑุง ุณุงุฎุช ูพุดโูุฑุถ ฺฉ ุณุงุฎุช ุฏุจุงฺฏ ุงุณุชุ Cargo ูุงู ุจุงูุฑ ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุจู ูุงู <em>debug</em> ูุฑุงุฑ ูโุฏูุฏ. ุดูุง ูโุชูุงูุฏ ูุงู ุงุฌุฑุง ุฑุง ุจุง ุงู ุฏุณุชูุฑ ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ ./target/debug/hello_cargo # ุง .\target\debug\hello_cargo.exe ุฏุฑ ููุฏูุฒ
Hello, world!
</code></pre>
<p>ุงฺฏุฑ ููู ฺุฒ ุฏุฑุณุช ูพุด ุฑูุชู ุจุงุดุฏุ <code>Hello, world!</code> ุจุงุฏ ุฏุฑ ุชุฑููุงู ฺุงูพ ุดูุฏ. ุงุฌุฑุง <code>cargo build</code> ุจุฑุง ุงููู ุจุงุฑ ููฺูู ุจุงุนุซ ูโุดูุฏ ฺฉู Cargo ฺฉ ูุงู ุฌุฏุฏ ุฏุฑ ุจุงูุง ุฏุงุฑฺฉุชูุฑ ุงุฌุงุฏ ฺฉูุฏ: <em>Cargo.lock</em>. ุงู ูุงู ูุณุฎูโูุง ุฏูู ูุงุจุณุชฺฏโูุง ูพุฑูฺู ุดูุง ุฑุง ูพฺฏุฑ ูโฺฉูุฏ. ฺูู ุงู ูพุฑูฺู ูุงุจุณุชฺฏ ูุฏุงุฑุฏุ ุงู ูุงู ฺฉู ุฎุงู ุงุณุช. ุดูุง ูฺโฺฏุงู ูุงุฒ ุจู ุชุบุฑ ุฏุณุช ุงู ูุงู ูุฎูุงูุฏ ุฏุงุดุชุ Cargo ูุญุชูุงุช ุขู ุฑุง ุจุฑุง ุดูุง ูุฏุฑุช ูโฺฉูุฏ.</p>
<p>ูุง ููู ุญุงูุง ูพุฑูฺู ุฑุง ุจุง ุฏุณุชูุฑ <code>cargo build</code> ุณุงุฎุชู ู ุจุง <code>./target/debug/hello_cargo</code> ุงุฌุฑุง ฺฉุฑุฏูุ ุงูุง ููฺูู ูโุชูุงูู ุงุฒ <code>cargo run</code> ุจุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ฺฉุฏ ู ุณูพุณ ุงุฌุฑุง ุจุงูุฑ ุญุงุตู ุฏุฑ ฺฉ ุฏุณุชูุฑ ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><code class="language-console">$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs
     Running `target/debug/hello_cargo`
Hello, world!
</code></pre>
<p>ุงุณุชูุงุฏู ุงุฒ <code>cargo run</code> ุฑุงุญุชโุชุฑ ุงุฒ ุงู ุงุณุช ฺฉู ุจุฎูุงูุฏ ุฏุณุชูุฑ <code>cargo build</code> ุฑุง ุงุฌุฑุง ฺฉุฑุฏู ู ุณูพุณ ูุณุฑ ฺฉุงูู ุจู ุจุงูุฑ ุฑุง ุงุณุชูุงุฏู ฺฉูุฏุ ุจูุงุจุฑุงู ุจุดุชุฑ ุชูุณุนูโุฏููุฏฺฏุงู ุงุฒ <code>cargo run</code> ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุงู ุจุงุฑุ ุฎุฑูุฌโุง ฺฉู ูุดุงู ุฏูุฏ Cargo ุฏุฑ ุญุงู ฺฉุงููพุงู ฺฉุฑุฏู <code>hello_cargo</code> ุงุณุชุ ูุดุงูุฏู ูฺฉุฑุฏู. Cargo ูุชูุฌู ุดุฏ ฺฉู ูุงูโูุง ุชุบุฑ ูฺฉุฑุฏูโุงูุฏุ ุจูุงุจุฑุงู ุจุงุฒุณุงุฒ ูฺฉุฑุฏ ู ููุท ุจุงูุฑ ุฑุง ุงุฌุฑุง ฺฉุฑุฏ. ุงฺฏุฑ ฺฉุฏ ููุจุน ุฎูุฏ ุฑุง ุชุบุฑ ุฏุงุฏู ุจูุฏุฏุ Cargo ุงุจุชุฏุง ูพุฑูฺู ุฑุง ุจุงุฒุณุงุฒ ูโฺฉุฑุฏ ู ุณูพุณ ุขู ุฑุง ุงุฌุฑุง ูโฺฉุฑุฏุ ู ุดูุง ุงู ุฎุฑูุฌ ุฑุง ูโุฏุฏุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling hello_cargo v0.1.0 (file:///projects/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 0.33 secs
     Running `target/debug/hello_cargo`
Hello, world!
</code></pre>
<p>Cargo ููฺูู ฺฉ ุฏุณุชูุฑ ุจู ูุงู <code>cargo check</code> ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงู ุฏุณุชูุฑ ฺฉุฏ ุดูุง ุฑุง ุจู ุณุฑุนุช ุจุฑุฑุณ ูโฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ฺฉุงููพุงู ูโุดูุฏ ุงูุง ูฺ ุงุฌุฑุง ุชููุฏ ููโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo check
   Checking hello_cargo v0.1.0 (file:///projects/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 0.32 secs
</code></pre>
<p>ฺุฑุง ุดูุง ุจู ฺฉ ูุงู ุงุฌุฑุง ูุงุฒ ูุฏุงุฑุฏุ ุงุบูุจุ <code>cargo check</code> ุจุณุงุฑ ุณุฑุนโุชุฑ ุงุฒ <code>cargo build</code> ุงุณุช ุฒุฑุง ูุฑุญูู ุชููุฏ ฺฉ ูุงู ุงุฌุฑุง ุฑุง ุฑุฏ ูโฺฉูุฏ. ุงฺฏุฑ ุดูุง ุจู ุทูุฑ ูุฏุงูู ุฏุฑ ุญุงู ุจุฑุฑุณ ฺฉุฏ ุฎูุฏ ูุณุชุฏุ ุงุณุชูุงุฏู ุงุฒ <code>cargo check</code> ุณุฑุนุช ูุฑุงูุฏ ุงุทูุงุน ุฏุงุฏู ุจู ุดูุง ุงุฒ ุงู ฺฉู ูพุฑูฺู ูููุฒ ฺฉุงููพุงู ูโุดูุฏ ุฑุง ุงูุฒุงุด ูโุฏูุฏ! ุจู ููู ุฏููุ ุจุณุงุฑ ุงุฒ Rustaceans ุจู ุทูุฑ ุฏูุฑูโุง <code>cargo check</code> ุฑุง ุฏุฑ ุญู ููุดุชู ฺฉุฏ ุฎูุฏ ุงุฌุฑุง ูโฺฉููุฏ ุชุง ูุทูุฆู ุดููุฏ ฺฉู ูพุฑูฺูโุดุงู ฺฉุงููพุงู ูโุดูุฏ. ุณูพุณ ุฒูุงู ฺฉู ุขูุงุฏู ุงุณุชูุงุฏู ุงุฒ ุจุงูุฑ ุดุฏูุฏุ ุงุฒ ุฏุณุชูุฑ <code>cargo build</code> ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p>ุจุงุฏ ุฎูุงุตูโุง ุงุฒ ุขูฺู ฺฉู ุชุง ุจู ุญุงู ุฏุฑ ููุฑุฏ Cargo ุขููุฎุชูโุงู ูุฑูุฑ ฺฉูู:</p>
<ul>
<li>ูุง ูโุชูุงูู ฺฉ ูพุฑูฺู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo new</code> ุจุณุงุฒู.</li>
<li>ูุง ูโุชูุงูู ฺฉ ูพุฑูฺู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo build</code> ุจุณุงุฒู.</li>
<li>ูุง ูโุชูุงูู ฺฉ ูพุฑูฺู ุฑุง ุจุง ฺฉ ูุฑุญูู ุงุฒ ุณุงุฎุช ู ุงุฌุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo run</code> ุจุณุงุฒู ู ุงุฌุฑุง ฺฉูู.</li>
<li>ูุง ูโุชูุงูู ฺฉ ูพุฑูฺู ุฑุง ุจุฏูู ุชููุฏ ุจุงูุฑ ุจุฑุง ุจุฑุฑุณ ุฎุทุงูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo check</code> ุจุณุงุฒู.</li>
<li>ุจู ุฌุง ุฐุฎุฑู ูุชุฌู ุณุงุฎุช ุฏุฑ ููุงู ุฏุงุฑฺฉุชูุฑ ฺฉู ฺฉุฏ ูุง ูุฑุงุฑ ุฏุงุฑุฏุ Cargo ุขู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>target/debug</em> ุฐุฎุฑู ูโฺฉูุฏ.</li>
</ul>
<p>ฺฉ ูุฒุช ุงุถุงู ุงุณุชูุงุฏู ุงุฒ Cargo ุงู ุงุณุช ฺฉู ุฏุณุชูุฑุงุช ุขู ุฏุฑ ููู ุณุณุชูโุนุงููโูุง ฺฉุณุงู ุงุณุช. ุจูุงุจุฑุงูุ ุงุฒ ุงู ูพุณุ ุฏฺฏุฑ ุฏุณุชูุฑุงูุนููโูุง ุฎุงุต ุจุฑุง ูููฺฉุณ ู macOS ุฏุฑ ููุงุจู ููุฏูุฒ ุงุฑุงุฆู ูุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุณุงุฎุช-ุจุฑุง-ุงูุชุดุงุฑ"><a class="header" href="#ุณุงุฎุช-ุจุฑุง-ุงูุชุดุงุฑ">ุณุงุฎุช ุจุฑุง ุงูุชุดุงุฑ</a></h3>
<p>ููุช ูพุฑูฺู ุดูุง ุขูุงุฏู ุงูุชุดุงุฑ ุงุณุชุ ูโุชูุงูุฏ ุงุฒ ุฏุณุชูุฑ <code>cargo build --release</code> ุจุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ุขู ุจุง ุจูููโุณุงุฒโูุง ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุฏุณุชูุฑ ฺฉ ูุงู ุงุฌุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>target/release</em> ุจู ุฌุง <em>target/debug</em> ุงุฌุงุฏ ูโฺฉูุฏ. ุจูููโุณุงุฒโูุง ุจุงุนุซ ูโุดููุฏ ฺฉู ฺฉุฏ Rust ุดูุง ุณุฑุนโุชุฑ ุงุฌุฑุง ุดูุฏุ ุงูุง ูุนุงู ฺฉุฑุฏู ุขูโูุง ุฒูุงู ฺฉุงููพุงู ุจุฑูุงูู ุฑุง ุทููุงูโุชุฑ ูโฺฉูุฏ. ุจู ููู ุฏููุ ุฏู ูพุฑููุงู ูุฎุชูู ูุฌูุฏ ุฏุงุฑุฏ: ฺฉ ุจุฑุง ุชูุณุนู ฺฉู ุดูุง ูโุฎูุงูุฏ ุณุฑุนุงู ู ุจู ุฏูุนุงุช ูพุฑูฺู ุฑุง ุจุงุฒุณุงุฒ ฺฉูุฏุ ู ุฏฺฏุฑ ุจุฑุง ุณุงุฎุชู ุจุฑูุงูู ููุง ฺฉู ุจู ฺฉุงุฑุจุฑ ุชุญูู ุฎูุงูุฏ ุฏุงุฏุ ฺฉู ุจู ุฏูุนุงุช ุจุงุฒุณุงุฒ ููโุดูุฏ ู ุจุงุฏ ุณุฑุนโุชุฑู ุงุฌุฑุง ุฑุง ุฏุงุดุชู ุจุงุดุฏ. ุงฺฏุฑ ุฏุฑ ุญุงู ุงูุฏุงุฒูโฺฏุฑ ุฒูุงู ุงุฌุฑุง ฺฉุฏ ุฎูุฏ ูุณุชุฏุ ุญุชูุงู ุงุฒ ุฏุณุชูุฑ <code>cargo build --release</code> ุงุณุชูุงุฏู ฺฉูุฏ ู ุจุง ูุงู ุงุฌุฑุง ุฏุฑ <em>target/release</em> ุงูุฏุงุฒูโฺฏุฑ ฺฉูุฏ.</p>
<h3 id="cargo-ุจู-ุนููุงู-ฺฉ-ฺฉููุงูุณูู"><a class="header" href="#cargo-ุจู-ุนููุงู-ฺฉ-ฺฉููุงูุณูู">Cargo ุจู ุนููุงู ฺฉ ฺฉููุงูุณูู</a></h3>
<p>ุฏุฑ ูพุฑูฺูโูุง ุณุงุฏูุ Cargo ูุณุจุช ุจู ุงุณุชูุงุฏู ุงุฒ <code>rustc</code> ูุฒุช ุฒุงุฏ ูุฏุงุฑุฏุ ุงูุง ุจุง ูพฺุฏูโุชุฑ ุดุฏู ุจุฑูุงููโูุงุ ุงุฑุฒุด ุฎูุฏ ุฑุง ูุดุงู ูโุฏูุฏ. ุฒูุงู ฺฉู ุจุฑูุงููโูุง ุจู ฺูุฏู ูุงู ูุงุฒ ูพุฏุง ูโฺฉููุฏ ุง ูุงุจุณุชฺฏ ุฏุงุฑูุฏุ ุงุณุชูุงุฏู ุงุฒ Cargo ุจุฑุง ููุงููฺฏ ฺฉุฑุฏู ูุฑุงูุฏ ุณุงุฎุช ุจุณุงุฑ ุฑุงุญุชโุชุฑ ูโุดูุฏ.</p>
<p>ุญุช ุงฺฏุฑ ูพุฑูฺู <code>hello_cargo</code> ุณุงุฏู ุจุงุดุฏุ ุงฺฉููู ุงุฒ ุจุณุงุฑ ุงุฒ ุงุจุฒุงุฑูุง ูุงูุน ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุฏุฑ ุทูู ูุณุฑ Rust ุฎูุฏ ุจู ุขูโูุง ูุงุฒ ุฎูุงูุฏ ุฏุงุดุช. ุฏุฑ ูุงูุนุ ุจุฑุง ฺฉุงุฑ ุจุฑ ุฑู ูุฑ ูพุฑูฺู ููุฌูุฏุ ูโุชูุงูุฏ ุงุฒ ุฏุณุชูุฑุงุช ุฒุฑ ุจุฑุง ุจุฑุฑุณ ฺฉุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ Gitุ ุชุบุฑ ุจู ุฏุงุฑฺฉุชูุฑ ุขู ูพุฑูฺู ู ุณุงุฎุช ุขู ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ git clone example.org/someproject
$ cd someproject
$ cargo build
</code></pre>
<p>ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ Cargoุ ูโุชูุงูุฏ ุจู <a href="https://doc.rust-lang.org/cargo/">ูุณุชูุฏุงุช ุขู</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<h2 id="ุฎูุงุตู"><a class="header" href="#ุฎูุงุตู">ุฎูุงุตู</a></h2>
<p>ุดูุง ุฏุฑ ุญุงู ุญุงุถุฑ ุดุฑูุน ุจุณุงุฑ ุฎูุจ ุจุฑุง ุณูุฑ ุฎูุฏ ุฏุฑ Rust ุฏุงุฑุฏ! ุฏุฑ ุงู ูุตูุ ุดูุง ุงุฏ ฺฏุฑูุชูโุงุฏ ฺฉู ฺฺฏููู:</p>
<ul>
<li>ุขุฎุฑู ูุณุฎู ูพุงุฏุงุฑ Rust ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>rustup</code> ูุตุจ ฺฉูุฏ.</li>
<li>ุจู ูุณุฎู ุฌุฏุฏุชุฑ Rust ุจุฑูุฒุฑุณุงู ฺฉูุฏ.</li>
<li>ูุณุชูุฏุงุช ูุญู ูุตุจโุดุฏู ุฑุง ุจุงุฒ ฺฉูุฏ.</li>
<li>ฺฉ ุจุฑูุงูู โHello, world!โ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>rustc</code> ูุณุชููุงู ุจููุณุฏ ู ุงุฌุฑุง ฺฉูุฏ.</li>
<li>ฺฉ ูพุฑูฺู ุฌุฏุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููุงูุณููโูุง Cargo ุจุณุงุฒุฏ ู ุงุฌุฑุง ฺฉูุฏ.</li>
</ul>
<p>ุงู ุฒูุงู ุจุณุงุฑ ุฎูุจ ุงุณุช ฺฉู ุจุฑูุงููโุง ุจุฒุฑฺฏุชุฑ ุจุณุงุฒุฏ ุชุง ุจุง ุฎูุงูุฏู ู ููุดุชู ฺฉุฏ Rust ุจุดุชุฑ ุขุดูุง ุดูุฏ. ุจูุงุจุฑุงูุ ุฏุฑ ูุตู 2ุ ฺฉ ุจุฑูุงูู ุจุงุฒ ุญุฏุณ ุฒุฏู ุฎูุงูู ุณุงุฎุช. ุงฺฏุฑ ุชุฑุฌุญ ูโุฏูุฏ ุงุจุชุฏุง ุงุฏ ุจฺฏุฑุฏ ฺฉู ููุงูู ุจุฑูุงููโููุณ ุฑุงุฌ ุฏุฑ Rust ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏุ ูุตู 3 ุฑุง ูุทุงูุนู ฺฉูุฏ ู ุณูพุณ ุจู ูุตู 2 ุจุงุฒฺฏุฑุฏุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุจุฑูุงููููุณ-ฺฉ-ุจุงุฒ-ุญุฏุณ-ุฒุฏู"><a class="header" href="#ุจุฑูุงููููุณ-ฺฉ-ุจุงุฒ-ุญุฏุณ-ุฒุฏู">ุจุฑูุงููโููุณ ฺฉ ุจุงุฒ ุญุฏุณ ุฒุฏู</a></h1>
<p>ุจุงุฏ ุจุง ฺฉุงุฑ ุฑู ฺฉ ูพุฑูฺู ุนูู ุจุง ูู ุจู ุฏูุง Rust ูุงุฑุฏ ุดูู! ุงู ูุตู ุจุง ูุดุงู ุฏุงุฏู ูุญูู ุงุณุชูุงุฏู ุงุฒ ููุงูู ุฑุงุฌ Rust ุฏุฑ ฺฉ ุจุฑูุงูู ูุงูุนุ ุดูุง ุฑุง ุจุง ุขูโูุง ุขุดูุง ูโฺฉูุฏ. ุฏุฑุจุงุฑู <code>let</code>ุ <code>match</code>ุ ูุชุฏูุงุ ุชูุงุจุน ูุฑุชุจุท (associated functions)ุ ุฌุนุจูโูุง (crates) ุฎุงุฑุฌ ู ููุงุฑุฏ ุฏฺฏุฑ ุฎูุงูุฏ ุขููุฎุช! ุฏุฑ ูุตูโูุง ุจุนุฏุ ุงู ุงุฏูโูุง ุฑุง ุจู ุทูุฑ ููุตู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุงู ูุตูุ ููุท ุงุตูู ุงููู ุฑุง ุชูุฑู ูโฺฉูุฏ.</p>
<p>ูุง ฺฉ ูุณุฆูู ฺฉูุงุณฺฉ ุจุฑูุงููโููุณ ุจุฑุง ูุจุชุฏุงู ุฑุง ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ: ฺฉ ุจุงุฒ ุญุฏุณ ุฒุฏู. ุงู ุจุงุฒ ุจู ุงู ุตูุฑุช ุนูู ูโฺฉูุฏ: ุจุฑูุงูู ฺฉ ุนุฏุฏ ุตุญุญ ุชุตุงุฏู ุจู 1 ุชุง 100 ุชููุฏ ูโฺฉูุฏ. ุณูพุณ ุงุฒ ุจุงุฒฺฉู ูโุฎูุงูุฏ ฺฉู ฺฉ ุญุฏุณ ูุงุฑุฏ ฺฉูุฏ. ูพุณ ุงุฒ ูุงุฑุฏ ฺฉุฑุฏู ุญุฏุณุ ุจุฑูุงูู ูุดุฎุต ูโฺฉูุฏ ฺฉู ุขุง ุญุฏุณ ุฎู ูพุงู ุงุณุช ุง ุฎู ุจุงูุง. ุงฺฏุฑ ุญุฏุณ ุฏุฑุณุช ุจุงุดุฏุ ุจุฑูุงูู ฺฉ ูพุงู ุชุจุฑฺฉ ฺุงูพ ูโฺฉูุฏ ู ุงุฒ ุจุงุฒ ุฎุงุฑุฌ ูโุดูุฏ.</p>
<h2 id="ุฑุงูุงูุฏุงุฒ-ฺฉ-ูพุฑูฺู-ุฌุฏุฏ"><a class="header" href="#ุฑุงูุงูุฏุงุฒ-ฺฉ-ูพุฑูฺู-ุฌุฏุฏ">ุฑุงูโุงูุฏุงุฒ ฺฉ ูพุฑูฺู ุฌุฏุฏ</a></h2>
<p>ุจุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉ ูพุฑูฺู ุฌุฏุฏุ ุจู ุฏุงุฑฺฉุชูุฑ <em>projects</em> ฺฉู ุฏุฑ ูุตู 1 ุงุฌุงุฏ ฺฉุฑุฏุฏ ุจุฑูุฏ ู ฺฉ ูพุฑูฺู ุฌุฏุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ Cargo ุงุฌุงุฏ ฺฉูุฏุ ุจู ุงู ุตูุฑุช:</p>
<pre><code class="language-console">$ cargo new guessing_game
$ cd guessing_game
</code></pre>
<p>ุฏุณุชูุฑ ุงููุ <code>cargo new</code>ุ ูุงู ูพุฑูฺู (<code>guessing_game</code>) ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุงูู ูโฺฏุฑุฏ. ุฏุณุชูุฑ ุฏูู ุจู ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู ุฌุฏุฏ ููุชูู ูโุดูุฏ.</p>
<p>ูุงู <em>Cargo.toml</em> ุชููุฏุดุฏู ุฑุง ูุดุงูุฏู ฺฉูุฏ:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[package]
name = "guessing_game"
version = "0.1.0"
edition = "2021"

[dependencies]
</code></pre>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 1 ุฏุฏุฏุ <code>cargo new</code> ฺฉ ุจุฑูุงูู โHello, world!โ ุจุฑุง ุดูุง ุชููุฏ ูโฺฉูุฏ. ูุงู <em>src/main.rs</em> ุฑุง ุจุฑุฑุณ ฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    println!("Hello, world!");
}</code></pre></pre>
<p>ุญุงูุง ุงู ุจุฑูุงูู โHello, world!โ ุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ู ุฏุฑ ููุงู ูุฑุญูู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.20s
     Running `target/debug/guessing_game`
Hello, world!
</code></pre>
<p>ุฏุณุชูุฑ <code>run</code> ุฒูุงู ฺฉู ูุงุฒ ุฏุงุฑุฏ ุจู ุณุฑุนุช ุฑู ฺฉ ูพุฑูฺู ุชฺฉุฑุงุฑ ฺฉูุฏ ููุฏ ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงู ุจุงุฒ ุงูุฌุงู ุฎูุงูู ุฏุงุฏุ ู ุจู ุณุฑุนุช ูุฑ ูุฑุญูู ุฑุง ูุจู ุงุฒ ุงุฏุงูู ุจู ูุฑุญูู ุจุนุฏ ุขุฒูุงุด ูโฺฉูู.</p>
<p>ูุงู <em>src/main.rs</em> ุฑุง ุฏูุจุงุฑู ุจุงุฒ ฺฉูุฏ. ุดูุง ุชูุงู ฺฉุฏ ุฑุง ุฏุฑ ุงู ูุงู ุฎูุงูุฏ ููุดุช.</p>
<h2 id="ูพุฑุฏุงุฒุด-ฺฉ-ุญุฏุณ"><a class="header" href="#ูพุฑุฏุงุฒุด-ฺฉ-ุญุฏุณ">ูพุฑุฏุงุฒุด ฺฉ ุญุฏุณ</a></h2>
<p>ุงููู ุจุฎุด ุงุฒ ุจุฑูุงูู ุจุงุฒ ุญุฏุณ ุฒุฏู ุงุฒ ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุช ูุฑูุฏ ูโฺฉูุฏุ ุขู ูุฑูุฏ ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏ ู ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ูุฑูุฏ ุฏุฑ ูุงูุจ ููุฑุฏ ุงูุชุธุงุฑ ุจุงุดุฏ. ุจุฑุง ุดุฑูุนุ ุจู ุจุงุฒฺฉู ุงุฌุงุฒู ูโุฏูู ฺฉ ุญุฏุณ ูุงุฑุฏ ฺฉูุฏ. ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 2-1 ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ูุงุฑุฏ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use std::io;

fn main() {
    println!("Guess the number!");

    println!("Please input your guess.");

    let mut guess = String::new();

    io::stdin()
        .read_line(&amp;mut guess)
        .expect("Failed to read line");

    println!("You guessed: {}", guess);
}</code></pre>
<figcaption>Listing 2-1: ฺฉุฏ ฺฉู ฺฉ ุญุฏุณ ุงุฒ ฺฉุงุฑุจุฑ ุฏุฑุงูุช ฺฉุฑุฏู ู ุขู ุฑุง ฺุงูพ ูโฺฉูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุงุทูุงุนุงุช ุฒุงุฏ ุฏุงุฑุฏุ ูพุณ ุจุงุฏ ุฎุท ุจู ุฎุท ุขู ุฑุง ุจุฑุฑุณ ฺฉูู. ุจุฑุง ฺฏุฑูุชู ูุฑูุฏ ฺฉุงุฑุจุฑ ู ุณูพุณ ฺุงูพ ูุชุฌู ุจูโุนููุงู ุฎุฑูุฌุ ูุงุฒ ุฏุงุฑู ฺฉู ฺฉุชุงุจุฎุงูู ูุฑูุฏ/ุฎุฑูุฌ <code>io</code> ุฑุง ุจู ุฏุงููู ุจุงูุฑู. ฺฉุชุงุจุฎุงูู <code>io</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฉู ุจุง ูุงู <code>std</code> ุดูุงุฎุชู ูโุดูุฏุ ูโุขุฏ:</p>
<pre><code class="language-rust ignore">use std::io;
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {}", guess);
</span><span class="boring">}</span></code></pre>
<p>ุจูโุทูุฑ ูพุดโูุฑุถุ Rust ูุฌููุนูโุง ุงุฒ ุขุชูโูุง ุฑุง ฺฉู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏูโุงูุฏ ุจู ุฏุงููู ูุฑ ุจุฑูุงูู ูุงุฑุฏ ูโฺฉูุฏ. ุงู ูุฌููุนู <em>prelude</em> ูุงูุฏู ูโุดูุฏ ู ูโุชูุงูุฏ ููู ฺุฒ ุฏุฑ ุขู ุฑุง <a href="https://doc.rust-lang.org/std/prelude/index.html">ุฏุฑ ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ</a> ุจุจูุฏ.</p>
<p>ุงฺฏุฑ ููุน ฺฉู ูโุฎูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุฏุฑ prelude ูุจุงุดุฏุ ุจุงุฏ ุขู ููุน ุฑุง ุจูโุทูุฑ ุตุฑุญ ุจุง ฺฉ ุฏุณุชูุฑ <code>use</code> ุจู ุฏุงููู ุจุงูุฑุฏ. ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู <code>std::io</code> ุจู ุดูุง ูฺฺฏโูุง ููุฏ ูุงููุฏ ุงูฺฉุงู ูพุฐุฑุด ูุฑูุฏ ฺฉุงุฑุจุฑ ูโุฏูุฏ.</p>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 1 ุฏุฏุฏุ ุชุงุจุน <code>main</code> ููุทู ูุฑูุฏ ุจู ุจุฑูุงูู ุงุณุช:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span><span class="boring">
</span>fn main() {
<span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {}", guess);
</span><span class="boring">}</span></code></pre>
<p>ูุญู <code>fn</code> ฺฉ ุชุงุจุน ุฌุฏุฏ ุฑุง ุงุนูุงู ูโฺฉูุฏุ ูพุฑุงูุชุฒูุง <code>()</code> ูุดุงู ูโุฏููุฏ ฺฉู ูฺ ูพุงุฑุงูุชุฑ ูุฌูุฏ ูุฏุงุฑุฏ ู ฺฉุฑูุดู ุจุงุฒ <code>{</code> ุจุฏูู ุชุงุจุน ุฑุง ุดุฑูุน ูโฺฉูุฏ.</p>
<p>ููฺูู ุฏุฑ ูุตู 1 ุขููุฎุชุฏ ฺฉู <code>println!</code> ฺฉ ูุงฺฉุฑู ุงุณุช ฺฉู ฺฉ ุฑุดุชู ุฑุง ุจู ุตูุญู ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span>    println!("Guess the number!");

    println!("Please input your guess.");
<span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {}", guess);
</span><span class="boring">}</span></code></pre>
<p>ุงู ฺฉุฏ ฺฉ ูพุบุงู ุงุนูุงู ูโฺฉูุฏ ฺฉู ุจุงุฒ ฺุณุช ู ุงุฒ ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุช ูุฑูุฏ ูโฺฉูุฏ.</p>
<h3 id="ุฐุฎุฑู-ููุงุฏุฑ-ุจุง-ูุชุบุฑูุง"><a class="header" href="#ุฐุฎุฑู-ููุงุฏุฑ-ุจุง-ูุชุบุฑูุง">ุฐุฎุฑู ููุงุฏุฑ ุจุง ูุชุบุฑูุง</a></h3>
<p>ุณูพุณุ ฺฉ <em>ูุชุบุฑ</em> ุงุฌุงุฏ ูโฺฉูู ุชุง ูุฑูุฏ ฺฉุงุฑุจุฑ ุฑุง ุฐุฎุฑู ฺฉูุฏุ ูุงููุฏ ุงู:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span>    let mut guess = String::new();
<span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {}", guess);
</span><span class="boring">}</span></code></pre>
<p>ุญุงูุง ุจุฑูุงูู ุฌุงูุจโุชุฑ ูโุดูุฏ! ุฏุฑ ุงู ุฎุท ฺฉูฺฺฉ ฺุฒูุง ุฒุงุฏ ุฏุฑ ุญุงู ุงุชูุงู ุงุณุช. ูุง ุงุฒ ุฏุณุชูุฑ <code>let</code> ุจุฑุง ุงุฌุงุฏ ูุชุบุฑ ุงุณุชูุงุฏู ูโฺฉูู. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุฏฺฏุฑ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-rust ignore">let apples = 5;</code></pre>
<p>ุงู ุฎุท ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจู ูุงู <code>apples</code> ุงุฌุงุฏ ูโฺฉูุฏ ู ุขู ุฑุง ุจู ููุฏุงุฑ 5 ูุชุตู ูโฺฉูุฏ. ุฏุฑ Rustุ ูุชุบุฑูุง ุจูโุทูุฑ ูพุดโูุฑุถ ุบุฑูุงุจูโุชุบุฑ ูุณุชูุฏุ ุจู ุงู ูุนูุง ฺฉู ูพุณ ุงุฒ ุงุฎุชุตุงุต ููุฏุงุฑ ุจู ูุชุบุฑุ ููุฏุงุฑ ุชุบุฑ ูุฎูุงูุฏ ฺฉุฑุฏ. ุงู ููููู ุฑุง ุจูโุทูุฑ ููุตู ุฏุฑ ุจุฎุด <a href="ch03-01-variables-and-mutability.html#variables-and-mutability">โูุชุบุฑูุง ู ุชุบุฑูพุฐุฑโ</a><!-- ignore --> ุฏุฑ ูุตู 3 ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุจุฑุง ูุชุบุฑ ฺฉู ุชุบุฑูพุฐุฑ ุจุงุดุฏุ <code>mut</code> ุฑุง ูุจู ุงุฒ ูุงู ูุชุบุฑ ุงุถุงูู ูโฺฉูู:</p>
<pre><code class="language-rust ignore">let apples = 5; // immutable
let mut bananas = 5; // mutable</code></pre>
<blockquote>
<p>ูฺฉุชู: ูุญู <code>//</code> ฺฉ ูุธุฑ (comment) ุฑุง ุขุบุงุฒ ูโฺฉูุฏ ฺฉู ุชุง ุงูุชูุง ุฎุท ุงุฏุงูู ุฏุงุฑุฏ. Rust ููู ฺุฒ ุฏุฑ ูุธุฑุงุช ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ. ูุธุฑุงุช ุฑุง ุฏุฑ <a href="ch03-04-comments.html">ูุตู 3</a><!-- ignore --> ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
</blockquote>
<p>ุจุงุฒฺฏุดุช ุจู ุจุฑูุงูู ุจุงุฒ ุญุฏุณ ุฒุฏู: ุงฺฉููู ูโุฏุงูุฏ ฺฉู <code>let mut guess</code> ฺฉ ูุชุบุฑ ุชุบุฑูพุฐุฑ ุจู ูุงู <code>guess</code> ูุนุฑู ูโฺฉูุฏ. ุนูุงูุช ูุณุงู (<code>=</code>) ุจู Rust ูโฺฏูุฏ ฺฉู ูโุฎูุงูู ฺุฒ ุฑุง ุจู ุงู ูุชุบุฑ ูุชุตู ฺฉูู. ุฏุฑ ุณูุช ุฑุงุณุช ุนูุงูุช ูุณุงูุ ููุฏุงุฑ ูุฑุงุฑ ุฏุงุฑุฏ ฺฉู <code>guess</code> ุจู ุขู ูุชุตู ูโุดูุฏุ ฺฉู ูุชุฌู ูุฑุงุฎูุงู <code>String::new</code> ุงุณุชุ ฺฉ ุชุงุจุน ฺฉู ฺฉ ููููู ุฌุฏุฏ ุงุฒ ููุน <code>String</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. <a href="https://doc.rust-lang.org/std/string/struct.String.html"><code>String</code></a><!-- ignore --> ฺฉ ููุน ุฑุดุชูโุง ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุณุช ฺฉู ุจุฎุด ุงุฒ ูุชู ูุงุจู ุฑุดุฏ ู ุจุง ุฑูุฒฺฏุฐุงุฑ UTF-8 ุงุณุช.</p>
<p>ูุญู <code>::</code> ุฏุฑ ุฎุท <code>::new</code> ูุดุงู ูโุฏูุฏ ฺฉู <code>new</code> ฺฉ ุชุงุจุน ูุฑุชุจุท ุจุง ููุน <code>String</code> ุงุณุช. ฺฉ <em>ุชุงุจุน ูุฑุชุจุท</em> ุชุงุจุน ุงุณุช ฺฉู ุฑู ฺฉ ููุน ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ุฏุฑ ุงูุฌุง <code>String</code>. ุงู ุชุงุจุน <code>new</code> ฺฉ ุฑุดุชู ุฌุฏุฏ ู ุฎุงู ุงุฌุงุฏ ูโฺฉูุฏ. ุดูุง ุฏุฑ ุจุณุงุฑ ุงุฒ ุงููุงุน ฺฉ ุชุงุจุน <code>new</code> ูพุฏุง ุฎูุงูุฏ ฺฉุฑุฏุ ุฒุฑุง ุงู ูุงู ูุนูููุงู ุจุฑุง ุชุงุจุน ฺฉู ฺฉ ููุฏุงุฑ ุฌุฏุฏ ุงุฒ ฺฉ ููุน ุฎุงุต ุงุฌุงุฏ ูโฺฉูุฏ ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<p>ุฏุฑ ูุฌููุนุ ุฎุท <code>let mut guess = String::new();</code> ฺฉ ูุชุบุฑ ุชุบุฑูพุฐุฑ ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุช ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุจู ฺฉ ููููู ุฌุฏุฏ ู ุฎุงู ุงุฒ <code>String</code> ูุชุตู ุดุฏู ุงุณุช. ุฎูุจ!</p>
<h3 id="ุฏุฑุงูุช-ูุฑูุฏ-ฺฉุงุฑุจุฑ"><a class="header" href="#ุฏุฑุงูุช-ูุฑูุฏ-ฺฉุงุฑุจุฑ">ุฏุฑุงูุช ูุฑูุฏ ฺฉุงุฑุจุฑ</a></h3>
<p>ุจู ุงุฏ ุขูุฑุฏ ฺฉู ุจุง <code>use std::io;</code> ุฏุฑ ุงููู ุฎุท ุจุฑูุงููุ ูุงุจูุช ูุฑูุฏ/ุฎุฑูุฌ ุฑุง ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุถุงูู ฺฉุฑุฏู. ุงฺฉููู ุชุงุจุน <code>stdin</code> ุฑุง ุงุฒ ูุงฺูู <code>io</code> ูุฑุงุฎูุงู ูโฺฉูู ฺฉู ุจู ูุง ุงูฺฉุงู ูุฏุฑุช ูุฑูุฏ ฺฉุงุฑุจุฑ ุฑุง ูโุฏูุฏ:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span>    io::stdin()
        .read_line(&amp;mut guess)
<span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {}", guess);
</span><span class="boring">}</span></code></pre>
<p>ุงฺฏุฑ ฺฉุชุงุจุฎุงูู <code>io</code> ุฑุง ุจุง <code>use std::io;</code> ุฏุฑ ุงุจุชุฏุง ุจุฑูุงูู ูุงุฑุฏ ูฺฉุฑุฏู ุจูุฏูุ ููฺูุงู ูโุชูุงูุณุชู ุชุงุจุน ุฑุง ุจุง ููุดุชู <code>std::io::stdin</code> ูุฑุงุฎูุงู ฺฉูู. ุชุงุจุน <code>stdin</code> ฺฉ ููููู ุงุฒ ููุน <a href="https://doc.rust-lang.org/std/io/struct.Stdin.html"><code>std::io::Stdin</code></a><!-- ignore --> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ฺฉ ููุน ุจุฑุง ูุฏุฑุช ูุฑูุฏ ุงุณุชุงูุฏุงุฑุฏ ุชุฑููุงู ุดูุง ุงุณุช.</p>
<p>ุฏุฑ ุฎุท ุจุนุฏุ ูุชุฏ <code>.read_line(&amp;mut guess)</code> ุฑุง ุฑู handle ูุฑูุฏ ุงุณุชุงูุฏุงุฑุฏ ูุฑุงุฎูุงู ูโฺฉูู ุชุง ูุฑูุฏ ฺฉุงุฑุจุฑ ุฑุง ุฏุฑุงูุช ฺฉูู. ููฺูู <code>&amp;mut guess</code> ุฑุง ุจูโุนููุงู ุขุฑฺฏููุงู ุจู <code>read_line</code> ุงุฑุณุงู ูโฺฉูู ุชุง ุจู ุขู ุจฺฏูู ูุฑูุฏ ฺฉุงุฑุจุฑ ุฑุง ุฏุฑ ฺู ุฑุดุชูโุง ุฐุฎุฑู ฺฉูุฏ. ูุธูู ฺฉุงูู <code>read_line</code> ุงู ุงุณุช ฺฉู ูุฑ ฺุฒ ุฑุง ฺฉู ฺฉุงุฑุจุฑ ุฏุฑ ูุฑูุฏ ุงุณุชุงูุฏุงุฑุฏ ุชุงูพ ูโฺฉูุฏ ุจู ุฑุดุชูโุง ุงุถุงูู ฺฉูุฏ (ุจุฏูู ุจุงุฒููุณ ูุญุชูุง ุขู)ุ ุจูุงุจุฑุงู ุงู ุฑุดุชู ุฑุง ุจูโุนููุงู ุขุฑฺฏููุงู ุงุฑุณุงู ูโฺฉูู. ุขุฑฺฏููุงู ุฑุดุชู ุจุงุฏ ุชุบุฑูพุฐุฑ ุจุงุดุฏ ุชุง ูุชุฏ ุจุชูุงูุฏ ูุญุชูุง ุฑุดุชู ุฑุง ุชุบุฑ ุฏูุฏ.</p>
<p>ุนูุงูุช <code>&amp;</code> ูุดุงู ูโุฏูุฏ ฺฉู ุงู ุขุฑฺฏููุงู ฺฉ <em>ุงุฑุฌุงุน</em> ุงุณุชุ ฺฉู ุจู ุดูุง ุฑุงู ูโุฏูุฏ ุชุง ุจู ฺูุฏู ุจุฎุด ุงุฒ ฺฉุฏ ุงุฌุงุฒู ุฏูุฏ ุจู ฺฉ ูุทุนู ุฏุงุฏู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏ ุจุฏูู ุงูฺฉู ูุงุฒ ุจู ฺฉูพ ฺฉุฑุฏู ุขู ุฏุงุฏู ุฏุฑ ุญุงูุธู ฺูุฏู ุจุงุฑ ุฏุงุดุชู ุจุงุดุฏ. ุงุฑุฌุงุนุงุช ฺฉ ูฺฺฏ ูพฺุฏู ูุณุชูุฏ ู ฺฉ ุงุฒ ูุฒุงุง ุงุตู Rust ุงู ุงุณุช ฺฉู ุงุณุชูุงุฏู ุงุฒ ุงุฑุฌุงุนุงุช ุงูู ู ุขุณุงู ุงุณุช. ูุงุฒ ูุณุช ุฌุฒุฆุงุช ุฒุงุฏ ุฏุฑุจุงุฑู ุขู ุจุฏุงูุฏ ุชุง ุงู ุจุฑูุงูู ุฑุง ฺฉุงูู ฺฉูุฏ. ูุนูุงูุ ุชููุง ฺุฒ ฺฉู ุจุงุฏ ุจุฏุงูุฏ ุงู ุงุณุช ฺฉูุ ูุงููุฏ ูุชุบุฑูุงุ ุงุฑุฌุงุนุงุช ุจูโุทูุฑ ูพุดโูุฑุถ ุบุฑูุงุจู ุชุบุฑ ูุณุชูุฏ. ุจูุงุจุฑุงูุ ุจุงุฏ <code>&amp;mut guess</code> ุจููุณุฏ ุจูโุฌุง <code>&amp;guess</code> ุชุง ุขู ุฑุง ุชุบุฑูพุฐุฑ ฺฉูุฏ. (ูุตู 4 ุงุฑุฌุงุนุงุช ุฑุง ุจูโุทูุฑ ฺฉุงูู ุชูุถุญ ุฎูุงูุฏ ุฏุงุฏ.)</p>
<h3 id="ูุฏุฑุช-ุฎุทุง-ุงุญุชูุงู-ุจุง-result"><a class="header" href="#ูุฏุฑุช-ุฎุทุง-ุงุญุชูุงู-ุจุง-result">ูุฏุฑุช ุฎุทุง ุงุญุชูุงู ุจุง <code>Result</code></a></h3>
<p>ูุง ููฺูุงู ุฑู ููู ุฎุท ฺฉุฏ ฺฉุงุฑ ูโฺฉูู. ุงฺฉููู ุฏุฑ ุญุงู ุจุญุซ ุฏุฑุจุงุฑู ุฎุท ุณูู ูุณุชูุ ุงูุง ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ูููุฒ ุจุฎุด ุงุฒ ฺฉ ุฎุท ููุทู ุงุฒ ฺฉุฏ ุงุณุช. ูุณูุช ุจุนุฏ ุงู ูุชุฏ ุงุณุช:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span>        .expect("Failed to read line");
<span class="boring">
</span><span class="boring">    println!("You guessed: {}", guess);
</span><span class="boring">}</span></code></pre>
<p>ูุง ูโุชูุงูุณุชู ุงู ฺฉุฏ ุฑุง ุจู ุงู ุตูุฑุช ุจููุณู:</p>
<pre><code class="language-rust ignore">io::stdin().read_line(&amp;mut guess).expect("Failed to read line");</code></pre>
<p>ุจุง ุงู ุญุงูุ ฺฉ ุฎุท ุทููุงู ุฎูุงูุฏู ุขู ุฑุง ุฏุดูุงุฑ ูโฺฉูุฏุ ุจูุงุจุฑุงู ุจูุชุฑ ุงุณุช ุขู ุฑุง ุชูุณู ฺฉูู. ุงุบูุจ ุชูุตู ูโุดูุฏ ฺฉ ุฎุท ุฌุฏุฏ ู ูุถุง ุณูุฏ ูุนุฑู ฺฉูุฏ ุชุง ุฎุทูุท ุทููุงู ุฑุง ููฺฏุงู ูุฑุงุฎูุงู ูุชุฏ ุจุง ูุญู <code>.method_name()</code> ุชูุณู ฺฉูุฏ. ุญุงูุง ุจุงุฏ ุจุจูู ุงู ุฎุท ฺู ูโฺฉูุฏ.</p>
<p>ููุงูโุทูุฑ ฺฉู ูุจูุงู ุฐฺฉุฑ ุดุฏุ <code>read_line</code> ูุฑ ฺุฒ ฺฉู ฺฉุงุฑุจุฑ ูุงุฑุฏ ูโฺฉูุฏ ุฑุง ุฏุฑ ุฑุดุชูโุง ฺฉู ุจู ุขู ุงุฑุณุงู ูโฺฉูู ูุฑุงุฑ ูโุฏูุฏุ ุงูุง ููฺูู ฺฉ ููุฏุงุฑ <code>Result</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. <a href="https://doc.rust-lang.org/std/result/enum.Result.html"><code>Result</code></a><!-- ignore --> ฺฉ <a href="ch06-00-enums.html"><em>enumeration</em></a><!-- ignore --> ุงุณุช ฺฉู ุงุบูุจ ุจู ุนููุงู <em>enum</em> ูุงูุฏู ูโุดูุฏ ู ููุน ุงุณุช ฺฉู ูโุชูุงูุฏ ุฏุฑ ฺฉ ุงุฒ ฺูุฏู ุญุงูุช ููฺฉู ุจุงุดุฏ. ูุง ูุฑ ุญุงูุช ููฺฉู ุฑุง ฺฉ <em>ูุชุบุฑ</em> (variant) ูโูุงูู.</p>
<p><a href="ch06-00-enums.html">ูุตู 6</a><!-- ignore --> ุจู ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ enumูุง ุฎูุงูุฏ ูพุฑุฏุงุฎุช. ูุฏู ุงุฒ ุงููุงุน <code>Result</code> ุฑูุฒฺฏุฐุงุฑ ุงุทูุงุนุงุช ูุฏุฑุช ุฎุทุง ุงุณุช.</p>
<p>ูุชุบุฑูุง <code>Result</code> ุดุงูู <code>Ok</code> ู <code>Err</code> ูุณุชูุฏ. ูุชุบุฑ <code>Ok</code> ูุดุงู ูโุฏูุฏ ฺฉู ุนููุงุช ููููุชโุขูุฒ ุจูุฏู ู ููุฏุงุฑ ฺฉู ุจุง ููููุช ุชููุฏ ุดุฏู ุงุณุช ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ. ูุชุบุฑ <code>Err</code> ุจู ูุนูุง ุงู ุงุณุช ฺฉู ุนููุงุช ุดฺฉุณุช ุฎูุฑุฏู ู ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ฺฺฏููฺฏ ุง ุฏูู ุดฺฉุณุช ุนููุงุช ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ.</p>
<p>ููุงุฏุฑ ููุน <code>Result</code>ุ ูุงููุฏ ููุงุฏุฑ ูุฑ ููุน ุฏฺฏุฑุ ูุชุฏูุง ุชุนุฑูโุดุฏู ุจุฑ ุฑู ุฎูุฏ ุฏุงุฑูุฏ. ฺฉ ููููู ุงุฒ <code>Result</code> ฺฉ <a href="https://doc.rust-lang.org/std/result/enum.Result.html#method.expect">ูุชุฏ <code>expect</code></a><!-- ignore --> ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ุงฺฏุฑ ุงู ููููู ุงุฒ <code>Result</code> ฺฉ ููุฏุงุฑ <code>Err</code> ุจุงุดุฏุ <code>expect</code> ุจุงุนุซ ูโุดูุฏ ุจุฑูุงูู ูุชููู ุดุฏู ู ูพุบุงู ุฎุทุง ฺฉู ุจูโุนููุงู ุขุฑฺฏููุงู ุจู <code>expect</code> ูพุงุณ ุฏุงุฏูโุงุฏ ุฑุง ููุงุด ุฏูุฏ. ุงฺฏุฑ ูุชุฏ <code>read_line</code> ฺฉ <code>Err</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุงุญุชูุงูุงู ุจู ุฏูู ุฎุทุง ุงุฒ ุณุณุชูโุนุงูู ุฒุฑุจูุง ุงุณุช. ุงฺฏุฑ ุงู ููููู ุงุฒ <code>Result</code> ฺฉ ููุฏุงุฑ <code>Ok</code> ุจุงุดุฏุ <code>expect</code> ููุฏุงุฑ ุจุงุฒฺฏุดุช ฺฉู <code>Ok</code> ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ ุฑุง ูโฺฏุฑุฏ ู ููุท ุขู ููุฏุงุฑ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูุฏ. ุฏุฑ ุงู ููุฑุฏุ ุขู ููุฏุงุฑ ุชุนุฏุงุฏ ุจุงุชโูุง ูุฑูุฏ ฺฉุงุฑุจุฑ ุงุณุช.</p>
<p>ุงฺฏุฑ <code>expect</code> ุฑุง ูุฑุงุฎูุงู ูฺฉูุฏุ ุจุฑูุงูู ฺฉุงููพุงู ูโุดูุฏุ ุงูุง ูุดุฏุงุฑ ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo build
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
warning: unused `Result` that must be used
  --&gt; src/main.rs:10:5
   |
10 |     io::stdin().read_line(&amp;mut guess);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: this `Result` may be an `Err` variant, which should be handled
   = note: `#[warn(unused_must_use)]` on by default
help: use `let _ = ...` to ignore the resulting value
   |
10 |     let _ = io::stdin().read_line(&amp;mut guess);
   |     +++++++

warning: `guessing_game` (bin "guessing_game") generated 1 warning
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.59s
</code></pre>
<p>Rust ูุดุฏุงุฑ ูโุฏูุฏ ฺฉู ุงุฒ ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุดุช ุงุฒ <code>read_line</code> ุงุณุชูุงุฏู ูฺฉุฑุฏูโุงุฏุ ฺฉู ูุดุงู ูโุฏูุฏ ุจุฑูุงูู ฺฉ ุฎุทุง ููฺฉู ุฑุง ูุฏุฑุช ูฺฉุฑุฏู ุงุณุช.</p>
<p>ุฑูุด ุฏุฑุณุช ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุดุฏุงุฑ ุงู ุงุณุช ฺฉู ูุงูุนุงู ฺฉุฏ ูุฏุฑุช ุฎุทุง ุจููุณุฏุ ุงูุง ุฏุฑ ููุฑุฏ ูุง ููุท ูโุฎูุงูู ููุช ูุดฺฉู ูพุด ุขูุฏ ุงู ุจุฑูุงูู ูุชููู ุดูุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุงุฒ <code>expect</code> ุงุณุชูุงุฏู ฺฉูู. ุฏุฑุจุงุฑู ุจุงุฒุงุจ ุงุฒ ุฎุทุงูุง ุฏุฑ <a href="ch09-02-recoverable-errors-with-result.html">ูุตู 9</a><!-- ignore --> ุฎูุงูุฏ ุขููุฎุช.</p>
<h3 id="ฺุงูพ-ููุงุฏุฑ-ุจุง-ุฌุงูฺฏูุฏุงุฑูุง-println"><a class="header" href="#ฺุงูพ-ููุงุฏุฑ-ุจุง-ุฌุงูฺฏูุฏุงุฑูุง-println">ฺุงูพ ููุงุฏุฑ ุจุง ุฌุงโูฺฏูุฏุงุฑูุง <code>println!</code></a></h3>
<p>ุนูุงูู ุจุฑ ฺฉุฑูุดู ุจุณุชูุ ููุท ฺฉ ุฎุท ุฏฺฏุฑ ุจุฑุง ุจุญุซ ุฏุฑ ฺฉุฏ ฺฉู ุชุงฺฉููู ููุดุชูโุงู ุจุงู ูุงูุฏู ุงุณุช:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span>    println!("You guessed: {}", guess);
<span class="boring">}</span></code></pre>
<p>ุงู ุฎุท ุฑุดุชูโุง ุฑุง ฺฉู ุงฺฉููู ูุฑูุฏ ฺฉุงุฑุจุฑ ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ ฺุงูพ ูโฺฉูุฏ. ูุฌููุนู <code>{}</code> ุงุฒ ฺฉุฑูุดูโูุง ุจุงุฒ ู ุจุณุชู ฺฉ ุฌุงโูฺฏูุฏุงุฑ ุงุณุช: ุจู <code>{}</code> ุจูโุนููุงู ูพูุฌูโูุง ฺฉูฺฺฉ ุฎุฑฺูฺฏ ูฺฉุฑ ฺฉูุฏ ฺฉู ฺฉ ููุฏุงุฑ ุฑุง ุฏุฑ ุฌุง ุฎูุฏ ูฺฏู ูโุฏุงุฑูุฏ. ููฺฏุงู ฺุงูพ ููุฏุงุฑ ฺฉ ูุชุบุฑุ ูุงู ูุชุบุฑ ูโุชูุงูุฏ ุฏุงุฎู ฺฉุฑูุดูโูุง ูุฑุงุฑ ฺฏุฑุฏ. ููฺฏุงู ฺุงูพ ูุชุฌู ุงุฑุฒุงุจ ฺฉ ุนุจุงุฑุชุ ฺฉุฑูุดูโูุง ุจุงุฒ ู ุจุณุชู ุฎุงู ุฑุง ุฏุฑ ุฑุดุชู ูุฑูุช ูุฑุงุฑ ุฏูุฏุ ุณูพุณ ุฑุดุชู ูุฑูุช ุฑุง ุจุง ูุณุช ุงุฒ ุนุจุงุฑุงุช ุฌุฏุงุดุฏู ุจุง ฺฉุงูุง ุฏูุจุงู ฺฉูุฏ ุชุง ุฏุฑ ูุฑ ุฌุงโูฺฏูุฏุงุฑ ุฎุงู ุจู ููุงู ุชุฑุชุจ ฺุงูพ ุดููุฏ. ฺุงูพ ฺฉ ูุชุบุฑ ู ูุชุฌู ฺฉ ุนุจุงุฑุช ุฏุฑ ฺฉ ูุฑุงุฎูุงู <code>println!</code> ุจู ุงู ุตูุฑุช ุฎูุงูุฏ ุจูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 5;
let y = 10;

println!("x = {x} and y + 2 = {}", y + 2);
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ <code>x = 5 and y + 2 = 12</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<h3 id="ุขุฒูุงุด-ุจุฎุด-ุงูู"><a class="header" href="#ุขุฒูุงุด-ุจุฎุด-ุงูู">ุขุฒูุงุด ุจุฎุด ุงูู</a></h3>
<p>ุจุงุฏ ุจุฎุด ุงูู ุจุงุฒ ุญุฏุณ ุฒุฏู ุฑุง ุขุฒูุงุด ฺฉูู. ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>cargo run</code> ุขู ุฑุง ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 6.44s
     Running `target/debug/guessing_game`
Guess the number!
Please input your guess.
6
You guessed: 6
</code></pre>
<p>ุฏุฑ ุงู ูุฑุญููุ ุจุฎุด ุงูู ุจุงุฒ ุชูุงู ุดุฏู ุงุณุช: ูุง ูุฑูุฏ ุฑุง ุงุฒ ุตูุญูโฺฉูุฏ ูโฺฏุฑู ู ุณูพุณ ุขู ุฑุง ฺุงูพ ูโฺฉูู.</p>
<h2 id="ุชููุฏ-ฺฉ-ุนุฏุฏ-ูุฎู"><a class="header" href="#ุชููุฏ-ฺฉ-ุนุฏุฏ-ูุฎู">ุชููุฏ ฺฉ ุนุฏุฏ ูุฎู</a></h2>
<p>ุฏุฑ ูุฑุญูู ุจุนุฏุ ุจุงุฏ ฺฉ ุนุฏุฏ ูุฎู ุชููุฏ ฺฉูู ฺฉู ฺฉุงุฑุจุฑ ุณุน ุฎูุงูุฏ ฺฉุฑุฏ ุขู ุฑุง ุญุฏุณ ุจุฒูุฏ. ุนุฏุฏ ูุฎู ุจุงุฏ ูุฑ ุจุงุฑ ูุชูุงูุช ุจุงุดุฏ ุชุง ุจุงุฒ ุจุงุฑูุง ูุงุจู ุจุงุฒ ู ูุฐุชโุจุฎุด ุจุงุดุฏ. ุงุฒ ฺฉ ุนุฏุฏ ุชุตุงุฏู ุจู 1 ุชุง 100 ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุงุฒ ุฎู ุณุฎุช ูุจุงุดุฏ. Rust ูููุฒ ูุงุจูุช ุชููุฏ ุงุนุฏุงุฏ ุชุตุงุฏู ุฑุง ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฎูุฏ ูุฏุงุฑุฏ. ุจุง ุงู ุญุงูุ ุชู Rust ฺฉ <a href="https://crates.io/crates/rand">crate <code>rand</code></a> ุจุง ุงู ูุงุจูุช ุงุฑุงุฆู ูโุฏูุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ฺฉ-crate-ุจุฑุง-ุฏุณุชุฑุณ-ุจู-ูุงุจูุชูุง-ุจุดุชุฑ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ฺฉ-crate-ุจุฑุง-ุฏุณุชุฑุณ-ุจู-ูุงุจูุชูุง-ุจุดุชุฑ">ุงุณุชูุงุฏู ุงุฒ ฺฉ crate ุจุฑุง ุฏุณุชุฑุณ ุจู ูุงุจูุชโูุง ุจุดุชุฑ</a></h3>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉ crate ูุฌููุนูโุง ุงุฒ ูุงูโูุง ฺฉุฏ ููุจุน Rust ุงุณุช. ูพุฑูฺูโุง ฺฉู ูุง ุฏุฑ ุญุงู ุณุงุฎุช ุขู ูุณุชู ฺฉ <em>crate ุฏูุฏู</em> ุงุณุช ฺฉู ฺฉ ูุงู ุงุฌุฑุง ุงุณุช. crate <code>rand</code> ฺฉ <em>crate ฺฉุชุงุจุฎุงููโุง</em> ุงุณุช ฺฉู ุญุงู ฺฉุฏ ุงุณุช ฺฉู ูุฑุงุฑ ุงุณุช ุฏุฑ ุจุฑูุงููโูุง ุฏฺฏุฑ ุงุณุชูุงุฏู ุดูุฏ ู ุจู ุชููุง ูุงุจู ุงุฌุฑุง ูุณุช.</p>
<p>ููุงููฺฏ Cargo ุจุง ุฌุนุจูโูุง (crates) ุฎุงุฑุฌ ฺฉ ุงุฒ ููุงุท ููุช ุขู ุงุณุช. ูุจู ุงุฒ ุงูฺฉู ุจุชูุงูู ฺฉุฏ ุจููุณู ฺฉู ุงุฒ <code>rand</code> ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ูุงู <em>Cargo.toml</em> ุฑุง ุชุบุฑ ุฏูู ุชุง crate <code>rand</code> ุฑุง ุจู ุนููุงู ูุงุจุณุชฺฏ ุงุถุงูู ฺฉูู. ุงฺฉููู ุขู ูุงู ุฑุง ุจุงุฒ ฺฉูุฏ ู ุฎุท ุฒุฑ ุฑุง ุจู ุงูุชูุง ุขูุ ุฒุฑ ุจุฎุด <code>[dependencies]</code> ฺฉู Cargo ุจุฑุง ุดูุง ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุชุ ุงุถุงูู ฺฉูุฏ. ูุทูุฆู ุดูุฏ ฺฉู <code>rand</code> ุฑุง ุฏููุงู ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ุขูุฏู ุงุณุช ุจุง ุงู ุดูุงุฑู ูุณุฎู ูุดุฎุต ฺฉูุฏุ ูฺฏุฑูู ูุซุงูโูุง ฺฉุฏ ุฏุฑ ุงู ุขููุฒุด ููฺฉู ุงุณุช ฺฉุงุฑ ูฺฉููุฏ:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[dependencies]
rand = "0.8.5"
</code></pre>
<p>ุฏุฑ ูุงู <em>Cargo.toml</em>ุ ูุฑ ฺุฒ ฺฉู ุจุนุฏ ุงุฒ ฺฉ ุณุฑุขูุฏ ุจุงุฏ ุจุฎุด ุงุฒ ุขู ุจุฎุด ุงุณุช ู ุชุง ุฒูุงู ฺฉู ุจุฎุด ุฏฺฏุฑ ุดุฑูุน ูุดูุฏ ุงุฏุงูู ูโุงุจุฏ. ุฏุฑ <code>[dependencies]</code> ุจู Cargo ูโฺฏูุฏ ูพุฑูฺู ุดูุง ุจู ฺฉุฏุงู ุฌุนุจูโูุง (crates) ุฎุงุฑุฌ ูุงุจุณุชู ุงุณุช ู ฺฉุฏุงู ูุณุฎู ุงุฒ ุขู ุฌุนุจูโูุง (crates) ุฑุง ูุงุฒ ุฏุงุฑุฏ. ุฏุฑ ุงู ููุฑุฏุ ูุง crate <code>rand</code> ุฑุง ุจุง ูุดุฎุตโฺฉููุฏู ูุณุฎู <code>0.8.5</code> ูุดุฎุต ูโฺฉูู. Cargo <a href="http://semver.org">ูุณุฎูโุจูุฏ ูุนูุง</a><!-- ignore --> (ฺฏุงู ุงููุงุช <em>SemVer</em> ูุงูุฏู ูโุดูุฏ) ุฑุง ุฏุฑฺฉ ูโฺฉูุฏุ ฺฉู ฺฉ ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ููุดุชู ุดูุงุฑู ูุณุฎูโูุง ุงุณุช. ูุดุฎุตโฺฉููุฏู <code>0.8.5</code> ุฏุฑ ูุงูุน ูุฎูู <code>^0.8.5</code> ุงุณุช ฺฉู ุจู ุงู ูุนูุงุณุช ฺฉู ูุฑ ูุณุฎูโุง ฺฉู ุญุฏุงูู 0.8.5 ุจุงุดุฏ ูู ฺฉูุชุฑ ุงุฒ 0.9.0 ุจุงุดุฏ.</p>
<p>Cargo ุงู ูุณุฎูโูุง ุฑุง ุฏุงุฑุง API ุนููู ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎู 0.8.5 ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ ู ุงู ูุดุฎุตู ุชุถูู ูโฺฉูุฏ ฺฉู ุขุฎุฑู ูุณุฎู patch ุฑุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ููฺูุงู ุจุง ฺฉุฏ ููุฌูุฏ ุฏุฑ ุงู ูุตู ฺฉุงููพุงู ูโุดูุฏ. ูฺ ุชุถูู ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ูุณุฎู 0.9.0 ุง ุจุงูุงุชุฑ ููุงู API ุฑุง ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุซุงูโูุง ุฒุฑ ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p>ุงฺฉูููุ ุจุฏูู ุชุบุฑ ูฺ ฺฉุฏุ ุจุงุฏ ูพุฑูฺู ุฑุง ุจุณุงุฒูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 2-2 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<!-- manual-regeneration
cd listings/ch02-guessing-game-tutorial/listing-02-02/
rm Cargo.lock
cargo clean
cargo build -->
<figure class="listing">
<pre><code class="language-console">$ cargo build
    Updating crates.io index
     Locking 16 packages to latest compatible versions
      Adding wasi v0.11.0+wasi-snapshot-preview1 (latest: v0.13.3+wasi-0.2.2)
      Adding zerocopy v0.7.35 (latest: v0.8.9)
      Adding zerocopy-derive v0.7.35 (latest: v0.8.9)
  Downloaded syn v2.0.87
  Downloaded 1 crate (278.1 KB) in 0.16s
   Compiling proc-macro2 v1.0.89
   Compiling unicode-ident v1.0.13
   Compiling libc v0.2.161
   Compiling cfg-if v1.0.0
   Compiling byteorder v1.5.0
   Compiling getrandom v0.2.15
   Compiling rand_core v0.6.4
   Compiling quote v1.0.37
   Compiling syn v2.0.87
   Compiling zerocopy-derive v0.7.35
   Compiling zerocopy v0.7.35
   Compiling ppv-lite86 v0.2.20
   Compiling rand_chacha v0.3.1
   Compiling rand v0.8.5
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 3.69s
</code></pre>
<figcaption>Listing 2-2: ุฎุฑูุฌ ุงุฌุฑุง <code>cargo build</code> ูพุณ ุงุฒ ุงูุฒูุฏู crate rand ุจู ุนููุงู ูุงุจุณุชฺฏ</figcaption>
</figure>
<p>ููฺฉู ุงุณุช ูุณุฎูโูุง ูุชูุงูุช ุฑุง ุจุจูุฏ (ุงูุง ููู ุขูโูุง ุจุง ฺฉุฏ ุณุงุฒฺฏุงุฑ ุฎูุงููุฏ ุจูุฏุ ุจู ูุทู SemVer!) ู ุฎุทูุท ูุชูุงูุช (ุจุณุชู ุจู ุณุณุชูโุนุงูู) ุฏุงุดุชู ุจุงุดุฏุ ู ุงู ุฎุทูุท ููฺฉู ุงุณุช ุจู ุชุฑุชุจ ูุชูุงูุช ุธุงูุฑ ุดููุฏ.</p>
<p>ููุช ฺฉ ูุงุจุณุชฺฏ ุฎุงุฑุฌ ุงุถุงูู ูโฺฉููุ Cargo ุฌุฏุฏุชุฑู ูุณุฎูโูุง ูุฑ ฺุฒ ฺฉู ุขู ูุงุจุณุชฺฏ ูุงุฒ ุฏุงุฑุฏ ุฑุง ุงุฒ <em>ุฑุฌุณุชุฑ</em> ุฏุฑุงูุช ูโฺฉูุฏุ ฺฉู ฺฉ ฺฉูพ ุงุฒ ุฏุงุฏูโูุง <a href="https://crates.io/">Crates.io</a> ุงุณุช. Crates.io ุฌุง ุงุณุช ฺฉู ุงูุฑุงุฏ ุฏุฑ ุงฺฉูุณุณุชู Rust ูพุฑูฺูโูุง ููุจุนโุจุงุฒ Rust ุฎูุฏ ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุฏฺฏุฑุงู ุงุฑุณุงู ูโฺฉููุฏ.</p>
<p>ูพุณ ุงุฒ ุจูโุฑูุฒุฑุณุงู ุฑุฌุณุชุฑุ Cargo ุจุฎุด <code>[dependencies]</code> ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ูุฑ crate ุฑุง ฺฉู ุฏุฑ ูุณุช ูุณุช ู ูููุฒ ุฏุงูููุฏ ูุดุฏู ุงุณุช ุฏุงูููุฏ ูโฺฉูุฏ. ุฏุฑ ุงู ููุฑุฏุ ุงฺฏุฑฺู ูุง ููุท <code>rand</code> ุฑุง ุจูโุนููุงู ฺฉ ูุงุจุณุชฺฏ ูุณุช ฺฉุฑุฏูโุงูุ Cargo ุณุงุฑ ุฌุนุจูโูุง (crates) ุฑุง ฺฉู <code>rand</code> ุจุฑุง ฺฉุงุฑฺฉุฑุฏู ุจู ุขูโูุง ูุงุจุณุชู ุงุณุช ูุฒ ุฏุฑุงูุช ฺฉุฑุฏู ุงุณุช. ูพุณ ุงุฒ ุฏุงูููุฏ ุฌุนุจูโูุง (crates)ุ Rust ุขูโูุง ุฑุง ฺฉุงููพุงู ูโฺฉูุฏ ู ุณูพุณ ูพุฑูฺู ุฑุง ุจุง ูุงุจุณุชฺฏโูุง ููุฌูุฏ ฺฉุงููพุงู ูโฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุจูุงูุงุตูู ุฏูุจุงุฑู ุฏุณุชูุฑ <code>cargo build</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ุจุฏูู ุงูฺฉู ูฺ ุชุบุฑ ุงุฌุงุฏ ฺฉุฑุฏู ุจุงุดุฏุ ุฎุฑูุฌโุง ุจูโุฌุฒ ุฎุท <code>Finished</code> ุฏุฑุงูุช ูุฎูุงูุฏ ฺฉุฑุฏ. Cargo ูโุฏุงูุฏ ฺฉู ูุจูุงู ูุงุจุณุชฺฏโูุง ุฑุง ุฏุงูููุฏ ู ฺฉุงููพุงู ฺฉุฑุฏู ุงุณุชุ ู ุดูุง ูฺ ุชุบุฑ ุฏุฑ ูุงู <em>Cargo.toml</em> ุฎูุฏ ูุฏุงุฏูโุงุฏ. Cargo ููฺูู ูโุฏุงูุฏ ฺฉู ุดูุง ูฺ ุชุบุฑ ุฏุฑ ฺฉุฏ ุฎูุฏ ูุฏุงุฏูโุงุฏุ ุจูุงุจุฑุงู ุขู ุฑุง ูู ุฏูุจุงุฑู ฺฉุงููพุงู ููโฺฉูุฏ. ููุช ฺฉุงุฑ ุจุฑุง ุงูุฌุงู ุฏุงุฏู ูุฌูุฏ ูุฏุงุฑุฏุ ููุท ุฎุงุฑุฌ ูโุดูุฏ.</p>
<p>ุงฺฏุฑ ูุงู <em>src/main.rs</em> ุฑุง ุจุงุฒ ฺฉูุฏุ ฺฉ ุชุบุฑ ุฌุฒุฆ ุฏุฑ ุขู ุงุฌุงุฏ ฺฉูุฏุ ู ุณูพุณ ุขู ุฑุง ุฐุฎุฑู ฺฉุฑุฏู ู ุฏูุจุงุฑู ุจุณุงุฒุฏุ ููุท ุฏู ุฎุท ุฎุฑูุฌ ุฎูุงูุฏ ุฏุฏ:</p>
<pre><code class="language-console">$ cargo build
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.13s
</code></pre>
<p>ุงู ุฎุทูุท ูุดุงู ูโุฏููุฏ ฺฉู Cargo ููุท ุจุง ุชุบุฑ ฺฉูฺฺฉ ุดูุง ุฏุฑ ูุงู <em>src/main.rs</em> ุจูุฏ ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉุฑุฏู ุงุณุช. ูุงุจุณุชฺฏโูุง ุดูุง ุชุบุฑ ูฺฉุฑุฏูโุงูุฏุ ุจูุงุจุฑุงู Cargo ูโุฏุงูุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุขูฺู ูุจูุงู ุฏุงูููุฏ ู ฺฉุงููพุงู ฺฉุฑุฏู ุงุณุช ุงุณุชูุงุฏู ูุฌุฏุฏ ฺฉูุฏ.</p>
<h4 id="ุงุทููุงู-ุงุฒ-ุจูุฏูุง-ูุงุจู-ุจุงุฒุชููุฏ-ุจุง-ูุงู-cargolock"><a class="header" href="#ุงุทููุงู-ุงุฒ-ุจูุฏูุง-ูุงุจู-ุจุงุฒุชููุฏ-ุจุง-ูุงู-cargolock">ุงุทููุงู ุงุฒ ุจูุฏูุง ูุงุจู ุจุงุฒุชููุฏ ุจุง ูุงู <em>Cargo.lock</em></a></h4>
<p>Cargo ูฺฉุงูุฒู ุฏุงุฑุฏ ฺฉู ุงุทููุงู ูโุฏูุฏ ุดูุง ุง ูุฑ ฺฉุณ ุฏฺฏุฑ ุจุชูุงูุฏ ูุฑ ุจุงุฑ ฺฉู ฺฉุฏ ุฎูุฏ ุฑุง ุจูุฏ ูโฺฉูุฏุ ููุงู ูุชุฌู ุฑุง ุฏุฑุงูุช ฺฉูุฏ: Cargo ุชููุง ุงุฒ ูุณุฎูโูุง ุงุฒ ูุงุจุณุชฺฏโูุง ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงุฏ ุงุณุชูุงุฏู ูโฺฉูุฏุ ูฺฏุฑ ุงูฺฉู ุฎูุงู ุขู ุฑุง ุงุนูุงู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ููุชู ุขูุฏู ูุณุฎู 0.8.6 ุงุฒ crate <code>rand</code> ููุชุดุฑ ูโุดูุฏ ู ุขู ูุณุฎู ุดุงูู ฺฉ ุฑูุน ุจุงฺฏ ููู ุงุณุชุ ุงูุง ููฺูู ุดุงูู ฺฉ ุจุฑฺฏุดุช (regression) ุงุณุช ฺฉู ฺฉุฏ ุดูุง ุฑุง ุฎุฑุงุจ ูโฺฉูุฏ. ุจุฑุง ูุฏุฑุช ุงู ููุถูุนุ Rust ูุงู <em>Cargo.lock</em> ุฑุง ุฏุฑ ุงููู ุจุงุฑ ฺฉู <code>cargo build</code> ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ุงุฌุงุฏ ูโฺฉูุฏุ ุจูุงุจุฑุงู ุงฺฉููู ุงู ูุงู ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>guessing_game</em> ูุฌูุฏ ุฏุงุฑุฏ.</p>
<p>ููุช ุจุฑุง ุงููู ุจุงุฑ ูพุฑูฺูโุง ุฑุง ุจูุฏ ูโฺฉูุฏุ Cargo ููู ูุณุฎูโูุง ูุงุจุณุชฺฏโูุง ฺฉู ุจุง ูุนุงุฑูุง ุชุทุงุจู ุฏุงุฑูุฏ ุฑุง ูพุฏุง ูโฺฉูุฏ ู ุณูพุณ ุขูโูุง ุฑุง ุจู ูุงู <em>Cargo.lock</em> ูโููุณุฏ. ููุช ุฏุฑ ุขูุฏู ูพุฑูฺู ุฎูุฏ ุฑุง ุจูุฏ ูโฺฉูุฏุ Cargo ูโุจูุฏ ฺฉู ูุงู <em>Cargo.lock</em> ูุฌูุฏ ุฏุงุฑุฏ ู ุงุฒ ูุณุฎูโูุง ูุดุฎุตโุดุฏู ุฏุฑ ุขู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจู ุฌุง ุงูฺฉู ุชูุงู ฺฉุงุฑ ูพุฏุง ฺฉุฑุฏู ูุณุฎูโูุง ุฑุง ุฏูุจุงุฑู ุงูุฌุงู ุฏูุฏ. ุงู ฺฉุงุฑ ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ฺฉ ุจูุฏ ูุงุจู ุจุงุฒุชููุฏ ุฏุงุดุชู ุจุงุดุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูพุฑูฺู ุดูุง ุฏุฑ ูุณุฎู 0.8.5 ุจุงู ุฎูุงูุฏ ูุงูุฏ ุชุง ุฒูุงู ฺฉู ุจู ุตูุฑุช ุตุฑุญ ุขู ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏุ ุจู ูุทู ูุงู <em>Cargo.lock</em>. ฺูู ูุงู <em>Cargo.lock</em> ุจุฑุง ุจูุฏูุง ูุงุจู ุจุงุฒุชููุฏ ููู ุงุณุชุ ูุนูููุงู ููุฑุงู ุจุง ุจูู ฺฉุฏ ูพุฑูฺู ุฏุฑ ุณุณุชู ฺฉูุชุฑู ูุณุฎู (source control) ุฐุฎุฑู ูโุดูุฏ.</p>
<h4 id="ุจูุฑูุฒุฑุณุงู-ฺฉ-crate-ุจุฑุง-ุฏุฑุงูุช-ูุณุฎู-ุฌุฏุฏ"><a class="header" href="#ุจูุฑูุฒุฑุณุงู-ฺฉ-crate-ุจุฑุง-ุฏุฑุงูุช-ูุณุฎู-ุฌุฏุฏ">ุจูโุฑูุฒุฑุณุงู ฺฉ crate ุจุฑุง ุฏุฑุงูุช ูุณุฎู ุฌุฏุฏ</a></h4>
<p>ููุช <em>ูโุฎูุงูุฏ</em> ฺฉ crate ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏุ Cargo ุฏุณุชูุฑ <code>update</code> ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ูุงู <em>Cargo.lock</em> ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ ู ุชูุงู ูุณุฎูโูุง ุฌุฏุฏ ฺฉู ุจุง ูุดุฎุตุงุช ุดูุง ุฏุฑ ูุงู <em>Cargo.toml</em> ุณุงุฒฺฏุงุฑ ูุณุชูุฏ ุฑุง ูพุฏุง ูโฺฉูุฏ. ุณูพุณ Cargo ุขู ูุณุฎูโูุง ุฑุง ุจู ูุงู <em>Cargo.lock</em> ูโููุณุฏ. ุฏุฑ ุงู ููุฑุฏุ Cargo ุชููุง ุจู ุฏูุจุงู ูุณุฎูโูุง ูโฺฏุฑุฏุฏ ฺฉู ุจุงูุงุชุฑ ุงุฒ 0.8.5 ู ฺฉูุชุฑ ุงุฒ 0.9.0 ุจุงุดูุฏ. ุงฺฏุฑ crate <code>rand</code> ุฏู ูุณุฎู ุฌุฏุฏ 0.8.6 ู 0.9.0 ุฑุง ููุชุดุฑ ฺฉุฑุฏู ุจุงุดุฏุ ุจุง ุงุฌุฑุง <code>cargo update</code> ฺูู ฺุฒ ุฑุง ุฎูุงูุฏ ุฏุฏ:</p>
<pre><code class="language-console">$ cargo update
    Updating crates.io index
    Updating rand v0.8.5 -&gt; v0.8.6
</code></pre>
<p>Cargo ูุณุฎู 0.9.0 ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ. ุฏุฑ ุงู ูุฑุญููุ ุดูุง ููฺูู ุชุบุฑ ุฏุฑ ูุงู <em>Cargo.lock</em> ูุดุงูุฏู ูโฺฉูุฏ ฺฉู ูุดุงู ูโุฏูุฏ ูุณุฎู crate <code>rand</code> ฺฉู ุงฺฉููู ุงุณุชูุงุฏู ูโฺฉูุฏ 0.8.6 ุงุณุช. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุณุฎู 0.9.0 <code>rand</code> ุง ูุฑ ูุณุฎูโุง ุฏุฑ ุณุฑ 0.9.<em>x</em>ุ ุจุงุฏ ูุงู <em>Cargo.toml</em> ุฑุง ุจู ุงู ุดฺฉู ุชุบุฑ ุฏูุฏ:</p>
<pre><code class="language-toml">[dependencies]
rand = "0.9.0"
</code></pre>
<p>ุฏูุนู ุจุนุฏ ฺฉู <code>cargo build</code> ุฑุง ุงุฌุฑุง ฺฉูุฏุ Cargo ุฑุฌุณุชุฑ ุฌุนุจูโูุง (crates) ููุฌูุฏ ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ ู ูุงุฒููุฏโูุง ุดูุง ุจุฑุง <code>rand</code> ุฑุง ุจุฑ ุงุณุงุณ ูุณุฎู ุฌุฏุฏ ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงุฏ ุงุฑุฒุงุจ ูโฺฉูุฏ.</p>
<p>ฺุฒูุง ุจุดุชุฑ ุฏุฑุจุงุฑู <a href="https://doc.rust-lang.org/cargo/">Cargo</a><!-- ignore --> ู <a href="https://doc.rust-lang.org/cargo/reference/publishing.html">ุงฺฉูุณุณุชู ุขู</a><!-- ignore --> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ูุตู 14 ุจุญุซ ุฎูุงูู ฺฉุฑุฏุ ุงูุง ูุนูุงู ุงู ุชูุงู ฺุฒ ุงุณุช ฺฉู ุจุงุฏ ุจุฏุงูุฏ. Cargo ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุฑุง ุจุณุงุฑ ุขุณุงู ูโฺฉูุฏุ ุจูุงุจุฑุงู Rustaceans ูโุชูุงููุฏ ูพุฑูฺูโูุง ฺฉูฺฺฉโุชุฑ ุจููุณูุฏ ฺฉู ุงุฒ ุชุนุฏุงุฏ ุจุณุชู ุชุดฺฉู ุดุฏูโุงูุฏ.</p>
<h3 id="ุชููุฏ-ฺฉ-ุนุฏุฏ-ุชุตุงุฏู"><a class="header" href="#ุชููุฏ-ฺฉ-ุนุฏุฏ-ุชุตุงุฏู">ุชููุฏ ฺฉ ุนุฏุฏ ุชุตุงุฏู</a></h3>
<p>ุจุงุฏ ุงุณุชูุงุฏู ุงุฒ <code>rand</code> ุฑุง ุจุฑุง ุชููุฏ ฺฉ ุนุฏุฏ ุจุฑุง ุญุฏุณ ุฒุฏู ุดุฑูุน ฺฉูู. ูุฑุญูู ุจุนุฏ ุจูโุฑูุฒุฑุณุงู ูุงู <em>src/main.rs</em> ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 2-3 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use std::io;
use rand::Rng;

fn main() {
    println!("Guess the number!");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("The secret number is: {secret_number}");

    println!("Please input your guess.");

    let mut guess = String::new();

    io::stdin()
        .read_line(&amp;mut guess)
        .expect("Failed to read line");

    println!("You guessed: {guess}");
}</code></pre>
<figcaption>Listing 2-3: ุงุถุงูู ฺฉุฑุฏู ฺฉุฏ ุจุฑุง ุชููุฏ ฺฉ ุนุฏุฏ ุชุตุงุฏู</figcaption>
</figure>
<p>ุงุจุชุฏุง ุฎุท <code>use rand::Rng;</code> ุฑุง ุงุถุงูู ูโฺฉูู. ุตูุช (trait) <code>Rng</code> ูุชุฏูุง ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ุชููุฏฺฉููุฏฺฏุงู ุงุนุฏุงุฏ ุชุตุงุฏู ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ู ุงู ุตูุช ุจุงุฏ ุฏุฑ ุฏุงููู ุจุงุดุฏ ุชุง ุจุชูุงูู ุงุฒ ุขู ูุชุฏูุง ุงุณุชูุงุฏู ฺฉูู. ูุตู 10 ุจูโุทูุฑ ููุตู ุจู ุจุฑุฑุณ ุตูุชโูุง ุฎูุงูุฏ ูพุฑุฏุงุฎุช.</p>
<p>ุณูพุณ ุฏู ุฎุท ุฏุฑ ูุณุท ุงุถุงูู ูโฺฉูู. ุฏุฑ ุฎุท ุงููุ ุชุงุจุน <code>rand::thread_rng</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ฺฉู ุชููุฏฺฉููุฏู ุงุนุฏุงุฏ ุชุตุงุฏู ุฎุงุต ุฑุง ฺฉู ูโุฎูุงูู ุงุณุชูุงุฏู ฺฉูู ุจู ูุง ูโุฏูุฏ: ุชููุฏฺฉููุฏูโุง ฺฉู ูุญู ุจุฑุง ูุฎ ูุนู ุงุฌุฑุง ุงุณุช ู ุชูุณุท ุณุณุชูโุนุงูู seed ูโุดูุฏ. ุณูพุณ ูุชุฏ <code>gen_range</code> ุฑุง ุฑู ุชููุฏฺฉููุฏู ุงุนุฏุงุฏ ุชุตุงุฏู ูุฑุงุฎูุงู ูโฺฉูู. ุงู ูุชุฏ ุชูุณุท ุตูุช <code>Rng</code> ฺฉู ุจุง ุฏุณุชูุฑ <code>use rand::Rng;</code> ูุงุฑุฏ ุฏุงููู ฺฉุฑุฏูุ ุชุนุฑู ุดุฏู ุงุณุช. ูุชุฏ <code>gen_range</code> ฺฉ ุนุจุงุฑุช ุจุงุฒูโุง ุฑุง ุจูโุนููุงู ุขุฑฺฏููุงู ูโฺฏุฑุฏ ู ฺฉ ุนุฏุฏ ุชุตุงุฏู ุฏุฑ ุขู ุจุงุฒู ุชููุฏ ูโฺฉูุฏ. ููุน ุนุจุงุฑุช ุจุงุฒูโุง ฺฉู ุฏุฑ ุงูุฌุง ุงุณุชูุงุฏู ูโฺฉูู ุจู ุตูุฑุช <code>start..=end</code> ุงุณุช ู ุดุงูู ุญุฏ ูพุงู ู ุจุงูุง ูโุดูุฏุ ุจูุงุจุฑุงู ุจุงุฏ <code>1..=100</code> ุฑุง ูุดุฎุต ฺฉูู ุชุง ุนุฏุฏ ุจู 1 ุชุง 100 ุฏุฑุฎูุงุณุช ฺฉูู.</p>
<blockquote>
<p>ูฺฉุชู: ุดูุง ููโุชูุงูุฏ ุจูโุทูุฑ ูพุดโูุฑุถ ุจุฏุงูุฏ ฺฉู ฺฉุฏุงู ุตูุชโูุง ุฑุง ุจุงุฏ ุงุณุชูุงุฏู ฺฉูุฏ ู ฺฉุฏุงู ูุชุฏูุง ู ุชูุงุจุน ุฑุง ุงุฒ ฺฉ crate ูุฑุงุฎูุงู ฺฉูุฏุ ุจูุงุจุฑุงู ูุฑ crate ุฏุงุฑุง ูุณุชูุฏุงุช ุจุง ุฏุณุชูุฑุงูุนููโูุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุขู ุงุณุช. ูฺฺฏ ุฌุงูุจ ุฏฺฏุฑ Cargo ุงู ุงุณุช ฺฉู ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo doc --open</code> ูุณุชูุฏุงุช ุงุฑุงุฆูโุดุฏู ุชูุณุท ุชูุงู ูุงุจุณุชฺฏโูุง ุดูุง ุฑุง ุจูโุตูุฑุช ูุญู ูโุณุงุฒุฏ ู ุฏุฑ ูุฑูุฑฺฏุฑ ุดูุง ุจุงุฒ ูโฺฉูุฏ. ุงฺฏุฑ ุจู ุฏฺฏุฑ ูุงุจูุชโูุง crate <code>rand</code> ุนูุงููโููุฏ ูุณุชุฏุ ุจุฑุง ูุซุงู ุฏุณุชูุฑ <code>cargo doc --open</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฑู <code>rand</code> ุฏุฑ ููุงุฑ ฺฉูุงุฑ ุณูุช ฺูพ ฺฉูฺฉ ฺฉูุฏ.</p>
</blockquote>
<p>ุฎุท ุฌุฏุฏ ุฏูู ุนุฏุฏ ูุฎู ุฑุง ฺุงูพ ูโฺฉูุฏ. ุงู ุฎุท ุฏุฑ ุญู ุชูุณุนู ุจุฑูุงูู ุจุฑุง ุขุฒูุงุด ุขู ููุฏ ุงุณุชุ ุงูุง ุฏุฑ ูุณุฎู ููุง ุขู ุฑุง ุญุฐู ุฎูุงูู ฺฉุฑุฏ. ุงฺฏุฑ ุจุฑูุงูู ุจู ูุญุถ ุดุฑูุน ูพุงุณุฎ ุฑุง ฺุงูพ ฺฉูุฏุ ุฎู ุจุงุฒ ูุฌุงูโุงูฺฏุฒ ูุฎูุงูุฏ ุจูุฏ!</p>
<p>ุจุฑูุงูู ุฑุง ฺูุฏ ุจุงุฑ ุงุฌุฑุง ฺฉูุฏ:</p>
<!-- manual-regeneration
cd listings/ch02-guessing-game-tutorial/listing-02-03/
cargo run
4
cargo run
5
-->
<pre><code class="language-console">$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.02s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is: 7
Please input your guess.
4
You guessed: 4

$ cargo run
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.02s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is: 83
Please input your guess.
5
You guessed: 5
</code></pre>
<p>ุดูุง ุจุงุฏ ุงุนุฏุงุฏ ุชุตุงุฏู ูุชูุงูุช ุฏุฑุงูุช ฺฉูุฏ ู ุชูุงู ุขูโูุง ุจุงุฏ ุจู 1 ุชุง 100 ุจุงุดูุฏ. ุนุงู!</p>
<h2 id="ููุงุณู-ุญุฏุณ-ุจุง-ุนุฏุฏ-ูุฎู"><a class="header" href="#ููุงุณู-ุญุฏุณ-ุจุง-ุนุฏุฏ-ูุฎู">ููุงุณู ุญุฏุณ ุจุง ุนุฏุฏ ูุฎู</a></h2>
<p>ุญุงูุง ฺฉู ูุฑูุฏ ฺฉุงุฑุจุฑ ู ฺฉ ุนุฏุฏ ุชุตุงุฏู ุฏุงุฑูุ ูโุชูุงูู ุขูโูุง ุฑุง ููุงุณู ฺฉูู. ุงู ูุฑุญูู ุฏุฑ ูุณุชูฺฏ 2-4 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏุ ููุงูโุทูุฑ ฺฉู ุชูุถุญ ุฎูุงูู ุฏุงุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    // --snip--
<span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span>
    println!("You guessed: {guess}");

    match guess.cmp(&amp;secret_number) {
        Ordering::Less =&gt; println!("Too small!"),
        Ordering::Greater =&gt; println!("Too big!"),
        Ordering::Equal =&gt; println!("You win!"),
    }
}</code></pre>
<figcaption>Listing 2-4: ูุฏุฑุช ููุงุฏุฑ ุจุงุฒฺฏุดุช ููฺฉู ุงุฒ ููุงุณู ุฏู ุนุฏุฏ</figcaption>
</figure>
<p>ุงุจุชุฏุง ฺฉ ุฏุณุชูุฑ <code>use</code> ุฏฺฏุฑ ุงุถุงูู ูโฺฉูู ุชุง ููุน ุจู ูุงู <code>std::cmp::Ordering</code> ุฑุง ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุงุฑุฏ ุฏุงููู ฺฉูู. ููุน <code>Ordering</code> ฺฉ enum ุฏฺฏุฑ ุงุณุช ู ุฏุงุฑุง ูุชุบุฑูุง <code>Less</code>ุ <code>Greater</code> ู <code>Equal</code> ุงุณุช. ุงูโูุง ุณู ูุชุฌู ููฺฉู ููฺฏุงู ููุงุณู ุฏู ููุฏุงุฑ ูุณุชูุฏ.</p>
<p>ุณูพุณ ูพูุฌ ุฎุท ุฌุฏุฏ ุฏุฑ ุงูุชูุง ฺฉุฏ ุงุถุงูู ูโฺฉูู ฺฉู ุงุฒ ููุน <code>Ordering</code> ุงุณุชูุงุฏู ูโฺฉููุฏ. ูุชุฏ <code>cmp</code> ุฏู ููุฏุงุฑ ุฑุง ููุงุณู ูโฺฉูุฏ ู ูโุชูุงูุฏ ุฑู ูุฑ ฺุฒ ฺฉู ูุงุจู ููุงุณู ุจุงุดุฏ ูุฑุงุฎูุงู ุดูุฏ. ุงู ูุชุฏ ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑ ฺฉู ูโุฎูุงูุฏ ููุงุณู ฺฉูุฏ ูโฺฏุฑุฏ: ุฏุฑ ุงูุฌุง ููุงุณู ุจู <code>guess</code> ู <code>secret_number</code> ุงุณุช. ุณูพุณ ฺฉ ุงุฒ ูุชุบุฑูุง enum <code>Ordering</code> ฺฉู ุจุง ุฏุณุชูุฑ <code>use</code> ุจู ุฏุงููู ุขูุฑุฏู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงุฒ ฺฉ ุนุจุงุฑุช <a href="ch06-02-match.html"><code>match</code></a><!-- ignore --> ุจุฑุง ุชุตููโฺฏุฑ ุฏุฑ ููุฑุฏ ุงูุฏุงู ุจุนุฏ ุจุฑ ุงุณุงุณ ุงูฺฉู ฺฉุฏุงู ูุชุบุฑ <code>Ordering</code> ุงุฒ ูุฑุงุฎูุงู <code>cmp</code> ุจุง ููุงุฏุฑ <code>guess</code> ู <code>secret_number</code> ุจุงุฒฺฏุดุชู ุงุณุช ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ฺฉ ุนุจุงุฑุช <code>match</code> ุงุฒ <em>ุดุงุฎูโูุง (arms)</em> ุชุดฺฉู ุดุฏู ุงุณุช. ฺฉ ุดุงุฎู ุดุงูู ฺฉ <em>ุงูฺฏู</em> ุจุฑุง ูุทุงุจูุช ุงุณุช ู ฺฉุฏ ฺฉู ุจุงุฏ ุงุฌุฑุง ุดูุฏ ุงฺฏุฑ ููุฏุงุฑ ุฏุงุฏูโุดุฏู ุจู <code>match</code> ุจุง ุงูฺฏู ุขู ุดุงุฎู ุชุทุงุจู ุฏุงุดุชู ุจุงุดุฏ. Rust ููุฏุงุฑ ุฏุงุฏูโุดุฏู ุจู <code>match</code> ุฑุง ฺฏุฑูุชู ู ุจู ุชุฑุชุจ ูุฑ ุงูฺฏู ุดุงุฎู ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ. ุงูฺฏููุง ู ุณุงุฒู <code>match</code> ุงุฒ ูฺฺฏโูุง ูุฏุฑุชููุฏ Rust ูุณุชูุฏ: ุขูโูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ูููุนุชโูุง ูุฎุชูู ฺฉู ฺฉุฏ ุดูุง ููฺฉู ุงุณุช ุจุง ุขูโูุง ุฑูุจุฑู ุดูุฏ ุฑุง ุจุงู ฺฉูุฏ ู ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ููู ุขูโูุง ุฑุง ูุฏุฑุช ูโฺฉูุฏ. ุงู ูฺฺฏโูุง ุจูโุทูุฑ ููุตู ุฏุฑ ูุตู 6 ู ูุตู 19 ูพูุดุด ุฏุงุฏู ุฎูุงููุฏ ุดุฏ.</p>
<p>ุจุงุฏ ุจุง ฺฉ ูุซุงู ุงุฒ ุนุจุงุฑุช <code>match</code> ฺฉู ุฏุฑ ุงูุฌุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุขู ุฑุง ุจุฑุฑุณ ฺฉูู. ูุฑุถ ฺฉูุฏ ฺฉุงุฑุจุฑ 50 ุฑุง ุญุฏุณ ุฒุฏู ู ุนุฏุฏ ูุฎู ฺฉู ุงู ุจุงุฑ ุจูโุทูุฑ ุชุตุงุฏู ุชููุฏ ุดุฏู 38 ุงุณุช.</p>
<p>ููุช ฺฉุฏ 50 ุฑุง ุจุง 38 ููุงุณู ูโฺฉูุฏุ ูุชุฏ <code>cmp</code> ููุฏุงุฑ <code>Ordering::Greater</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุฒุฑุง 50 ุจุฒุฑฺฏโุชุฑ ุงุฒ 38 ุงุณุช. ุนุจุงุฑุช <code>match</code> ููุฏุงุฑ <code>Ordering::Greater</code> ุฑุง ฺฏุฑูุชู ู ุดุฑูุน ุจู ุจุฑุฑุณ ูุฑ ุงูฺฏู ุดุงุฎู ูโฺฉูุฏ. ุจู ุงูฺฏู ุดุงุฎู ุงููุ <code>Ordering::Less</code> ูฺฏุงู ูโฺฉูุฏ ู ูโุจูุฏ ฺฉู ููุฏุงุฑ <code>Ordering::Greater</code> ุจุง <code>Ordering::Less</code> ุชุทุงุจู ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ฺฉุฏ ููุฌูุฏ ุฏุฑ ุขู ุดุงุฎู ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ ู ุจู ุดุงุฎู ุจุนุฏ ูโุฑูุฏ. ุงูฺฏู ุดุงุฎู ุจุนุฏ <code>Ordering::Greater</code> ุงุณุช ฺฉู ุจุง <code>Ordering::Greater</code> ุชุทุงุจู ุฏุงุฑุฏ! ฺฉุฏ ูุฑุชุจุท ุจุง ุขู ุดุงุฎู ุงุฌุฑุง ุดุฏู ู ุนุจุงุฑุช <code>Too big!</code> ุฑุง ุฑู ุตูุญู ฺุงูพ ูโฺฉูุฏ. ุนุจุงุฑุช <code>match</code> ูพุณ ุงุฒ ุงููู ุชุทุงุจู ููููุชโุขูุฒ ูพุงุงู ูโุงุจุฏุ ุจูุงุจุฑุงู ุฏุฑ ุงู ุณูุงุฑู ุจู ุดุงุฎู ุขุฎุฑ ูฺฏุงู ููโฺฉูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 2-4 ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ุจุงุฏ ุขู ุฑุง ุงูุชุญุงู ฺฉูู:</p>
<!--
The error numbers in this output should be that of the code **WITHOUT** the
anchor or snip comments
-->
<pre><code class="language-console">$ cargo build
   Compiling libc v0.2.86
   Compiling getrandom v0.2.2
   Compiling cfg-if v1.0.0
   Compiling ppv-lite86 v0.2.10
   Compiling rand_core v0.6.2
   Compiling rand_chacha v0.3.0
   Compiling rand v0.8.5
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
error[E0308]: mismatched types
   --&gt; src/main.rs:22:21
    |
22  |     match guess.cmp(&amp;secret_number) {
    |                 --- ^^^^^^^^^^^^^^ expected `&amp;String`, found `&amp;{integer}`
    |                 |
    |                 arguments to this method are incorrect
    |
    = note: expected reference `&amp;String`
               found reference `&amp;{integer}`
note: method defined here
   --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/core/src/cmp.rs:838:8
    |
838 |     fn cmp(&amp;self, other: &amp;Self) -&gt; Ordering;
    |        ^^^

For more information about this error, try `rustc --explain E0308`.
error: could not compile `guessing_game` (bin "guessing_game") due to 1 previous error
</code></pre>
<p>ูุณุชู ุฎุทุง ุจุงู ูโฺฉูุฏ ฺฉู <em>ุงููุงุน ูุงุณุงุฒฺฏุงุฑ</em> ูุฌูุฏ ุฏุงุฑูุฏ. Rust ุฏุงุฑุง ฺฉ ุณุณุชู ููุน ูู ู ุงุณุชุง ุงุณุช. ุจุง ุงู ุญุงูุ ููฺูู ุฏุงุฑุง ุงุณุชูุจุงุท ููุน ุงุณุช. ููุช <code>let mut guess = String::new()</code> ููุดุชูุ Rust ุชูุงูุณุช ุงุณุชูุจุงุท ฺฉูุฏ ฺฉู <code>guess</code> ุจุงุฏ ฺฉ <code>String</code> ุจุงุดุฏ ู ูุงุฒ ูุจูุฏ ฺฉู ููุน ุฑุง ุจูโุตูุฑุช ุตุฑุญ ุจููุณู. ุงุฒ ุทุฑู ุฏฺฏุฑุ <code>secret_number</code> ฺฉ ููุน ุนุฏุฏ ุงุณุช. ฺูุฏ ููุน ุนุฏุฏ ุฏุฑ Rust ูโุชูุงููุฏ ููุฏุงุฑ ุจู 1 ู 100 ุฏุงุดุชู ุจุงุดูุฏ: <code>i32</code>ุ ฺฉ ุนุฏุฏ 32 ุจุชุ <code>u32</code>ุ ฺฉ ุนุฏุฏ ุจุฏูู ุนูุงูุช 32 ุจุชุ <code>i64</code>ุ ฺฉ ุนุฏุฏ 64 ุจุชุ ู ุฏฺฏุฑุงู. ูฺฏุฑ ุงูฺฉู ุฎูุงู ุขู ูุดุฎุต ุดุฏู ุจุงุดุฏุ Rust ุจูโุทูุฑ ูพุดโูุฑุถ ุงุฒ <code>i32</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉู ููุน <code>secret_number</code> ุงุณุช ูฺฏุฑ ุงูฺฉู ุงุทูุงุนุงุช ููุน ุฏฺฏุฑ ุงุถุงูู ฺฉูุฏ ฺฉู ุจุงุนุซ ุดูุฏ Rust ููุน ุนุฏุฏ ุฏฺฏุฑ ุฑุง ุงุณุชูุจุงุท ฺฉูุฏ. ุฏูู ุฎุทุง ุงู ุงุณุช ฺฉู Rust ููโุชูุงูุฏ ฺฉ ุฑุดุชู ู ฺฉ ููุน ุนุฏุฏ ุฑุง ููุงุณู ฺฉูุฏ.</p>
<p>ุฏุฑ ููุงุชุ ูโุฎูุงูู <code>String</code> ฺฉู ุจุฑูุงูู ุจูโุนููุงู ูุฑูุฏ ูโุฎูุงูุฏ ุฑุง ุจู ฺฉ ููุน ุนุฏุฏ ุชุจุฏู ฺฉูู ุชุง ุจุชูุงูู ุขู ุฑุง ุจูโุตูุฑุช ุนุฏุฏ ุจุง ุนุฏุฏ ูุฎู ููุงุณู ฺฉูู. ุงู ฺฉุงุฑ ุฑุง ุจุง ุงุถุงูู ฺฉุฑุฏู ุงู ุฎุท ุจู ุจุฏูู ุชุงุจุน <code>main</code> ุงูุฌุงู ูโุฏูู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span><span class="boring">use std::cmp::Ordering;
</span><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span>    // --snip--

    let mut guess = String::new();

    io::stdin()
        .read_line(&amp;mut guess)
        .expect("Failed to read line");

    let guess: u32 = guess.trim().parse().expect("Please type a number!");

    println!("You guessed: {guess}");

    match guess.cmp(&amp;secret_number) {
        Ordering::Less =&gt; println!("Too small!"),
        Ordering::Greater =&gt; println!("Too big!"),
        Ordering::Equal =&gt; println!("You win!"),
    }
<span class="boring">}</span></code></pre>
<p>ุฎุท ููุฑุฏูุธุฑ ุงู ุงุณุช:</p>
<pre><code class="language-rust ignore">let guess: u32 = guess.trim().parse().expect("Please type a number!");</code></pre>
<p>ูุง ฺฉ ูุชุบุฑ ุจู ูุงู <code>guess</code> ุงุฌุงุฏ ูโฺฉูู. ุงูุง ุตุจุฑ ฺฉูุฏุ ุขุง ุจุฑูุงูู ูุจูุงู ฺฉ ูุชุบุฑ ุจู ูุงู <code>guess</code> ูุฏุงุฑุฏุ ุฏุงุฑุฏุ ุงูุง Rust ุจูโุทูุฑ ููุฏ ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ููุฏุงุฑ ูุจู <code>guess</code> ุฑุง ุจุง ฺฉ ููุฏุงุฑ ุฌุฏุฏ ูพูุดุด ุฏูู. <em>ูพูุดุดโุฏู</em> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุงุฒ ูุงู ูุชุบุฑ <code>guess</code> ุฏูุจุงุฑู ุงุณุชูุงุฏู ฺฉููุ ุจูโุฌุง ุงูฺฉู ูุฌุจูุฑ ุดูู ุฏู ูุชุบุฑ ููุญุตุฑุจูโูุฑุฏ ูุงููุฏ <code>guess_str</code> ู <code>guess</code> ุงุฌุงุฏ ฺฉูู. ุงู ููุถูุน ุฑุง ุฏุฑ <a href="ch03-01-variables-and-mutability.html#shadowing">ูุตู 3</a><!-- ignore --> ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ุงูุง ูุนูุงู ุจุฏุงูุฏ ฺฉู ุงู ูฺฺฏ ุงุบูุจ ุฒูุงู ุงุณุชูุงุฏู ูโุดูุฏ ฺฉู ุจุฎูุงูุฏ ููุฏุงุฑ ุฑุง ุงุฒ ฺฉ ููุน ุจู ููุน ุฏฺฏุฑ ุชุจุฏู ฺฉูุฏ.</p>
<p>ูุง ุงู ูุชุบุฑ ุฌุฏุฏ ุฑุง ุจู ุนุจุงุฑุช <code>guess.trim().parse()</code> ูุชุตู ูโฺฉูู. <code>guess</code> ุฏุฑ ุงู ุนุจุงุฑุช ุจู ูุชุบุฑ ุงุตู <code>guess</code> ฺฉู ูุฑูุฏ ุจูโุตูุฑุช ุฑุดุชูโุง ุจูุฏ ุงุดุงุฑู ุฏุงุฑุฏ. ูุชุฏ <code>trim</code> ุฑู ฺฉ ููููู <code>String</code> ุชูุงู ูุถุง ุณูุฏ ุฏุฑ ุงุจุชุฏุง ู ุงูุชูุง ุฑุดุชู ุฑุง ุญุฐู ูโฺฉูุฏุ ฺฉู ูุจู ุงุฒ ุชุจุฏู ุฑุดุชู ุจู <code>u32</code> ฺฉู ููุท ูโุชูุงูุฏ ุฏุงุฏูโูุง ุนุฏุฏ ุฏุงุดุชู ุจุงุดุฏุ ุจุงุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู. ฺฉุงุฑุจุฑ ุจุงุฏ ฺฉูุฏ <kbd>enter</kbd> ุฑุง ูุดุงุฑ ุฏูุฏ ุชุง <code>read_line</code> ููุฏุงุฑ ูุฑูุฏ ุฑุง ุฏุฑุงูุช ฺฉูุฏุ ฺฉู ฺฉ ฺฉุงุฑุงฺฉุชุฑ newline ุจู ุฑุดุชู ุงุถุงูู ูโฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฉูุฏ <kbd>5</kbd> ุฑุง ุชุงูพ ฺฉูุฏ ู <kbd>enter</kbd> ุฑุง ูุดุงุฑ ุฏูุฏุ <code>guess</code> ุจู ุงู ุดฺฉู ุฎูุงูุฏ ุจูุฏ: <code>5\n</code>. <code>\n</code> ูุดุงูโุฏููุฏู โุฎุท ุฌุฏุฏโ ุงุณุช. (ุฏุฑ ููุฏูุฒุ ูุดุงุฑ ุฏุงุฏู <kbd>enter</kbd> ููุฌุฑ ุจู carriage return ู newlineุ ุนู <code>\r\n</code> ูโุดูุฏ.) ูุชุฏ <code>trim</code> <code>\n</code> ุง <code>\r\n</code> ุฑุง ุญุฐู ูโฺฉูุฏ ู ูุชุฌู ููุท <code>5</code> ุงุณุช.</p>
<p>ูุชุฏ <a href="https://doc.rust-lang.org/std/primitive.str.html#method.parse"><code>parse</code> ุฑู ุฑุดุชูโูุง</a><!-- ignore --> ฺฉ ุฑุดุชู ุฑุง ุจู ููุน ุฏฺฏุฑ ุชุจุฏู ูโฺฉูุฏ. ุงูุฌุง ุงุฒ ุขู ุจุฑุง ุชุจุฏู ฺฉ ุฑุดุชู ุจู ุนุฏุฏ ุงุณุชูุงุฏู ูโฺฉูู. ุจุงุฏ ุจู Rust ููุน ุนุฏุฏ ุฏูู ููุฑุฏูุธุฑูุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>let guess: u32</code> ุจฺฏูู. ุนูุงูุช <code>:</code> ุจุนุฏ ุงุฒ <code>guess</code> ุจู Rust ูโฺฏูุฏ ฺฉู ููุน ูุชุบุฑ ุฑุง ูุดุฎุต ุฎูุงูู ฺฉุฑุฏ. Rust ฺูุฏ ููุน ุนุฏุฏ ุฏุงุฎู ุฏุงุฑุฏุ <code>u32</code> ฺฉู ุงูุฌุง ุฏุฏู ูโุดูุฏุ ฺฉ ุนุฏุฏ ุตุญุญ 32 ุจุช ุจุฏูู ุนูุงูุช ุงุณุช. ุงู ฺฉ ุงูุชุฎุงุจ ูพุดโูุฑุถ ุฎูุจ ุจุฑุง ฺฉ ุนุฏุฏ ูุซุจุช ฺฉูฺฺฉ ุงุณุช. ุฏุฑุจุงุฑู ุฏฺฏุฑ ุงููุงุน ุนุฏุฏ ุฏุฑ <a href="ch03-02-data-types.html#integer-types">ูุตู 3</a><!-- ignore --> ุฎูุงูุฏ ุขููุฎุช.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ุญุงุดูโููุณ <code>u32</code> ุฏุฑ ุงู ุจุฑูุงูู ููููู ู ููุงุณู ุจุง <code>secret_number</code> ุจู ุงู ูุนูุงุณุช ฺฉู Rust ุงุณุชูุจุงุท ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู <code>secret_number</code> ูุฒ ุจุงุฏ ฺฉ <code>u32</code> ุจุงุดุฏ. ุจูุงุจุฑุงู ุงฺฉููู ููุงุณู ุจู ุฏู ููุฏุงุฑ ุงุฒ ฺฉ ููุน ุฎูุงูุฏ ุจูุฏ!</p>
<p>ูุชุฏ <code>parse</code> ููุท ุฑู ฺฉุงุฑุงฺฉุชุฑูุง ฺฉุงุฑ ูโฺฉูุฏ ฺฉู ููุทู ุจุชูุงู ุขูโูุง ุฑุง ุจู ุงุนุฏุงุฏ ุชุจุฏู ฺฉุฑุฏ ู ุจูุงุจุฑุงู ุจูโุฑุงุญุช ูโุชูุงูุฏ ุจุงุนุซ ุฎุทุง ุดูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุฑุดุชูโุง ุดุงูู <code>A๐%</code> ุจุงุดุฏุ ูฺ ุฑุงู ุจุฑุง ุชุจุฏู ุขู ุจู ุนุฏุฏ ูุฌูุฏ ูุฏุงุฑุฏ. ฺูู ููฺฉู ุงุณุช ุงู ุนููุงุช ุดฺฉุณุช ุจุฎูุฑุฏุ ูุชุฏ <code>parse</code> ููุน <code>Result</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏุ ุฏููุงู ูุงููุฏ ูุชุฏ <code>read_line</code> (ฺฉู ูุจูุงู ุฏุฑ <a href="ch02-00-guessing-game-tutorial.html#handling-potential-failure-with-result">โูุฏุฑุช ุฎุทุง ุงุญุชูุงู ุจุง <code>Result</code>โ</a><!-- ignore --> ุจุญุซ ฺฉุฑุฏู). ูุง ุงู <code>Result</code> ุฑุง ููุงูโุทูุฑ ฺฉู ูุจูุงู ุงูุฌุงู ุฏุงุฏู ุจุง ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ูุชุฏ <code>expect</code> ูุฏุฑุช ุฎูุงูู ฺฉุฑุฏ. ุงฺฏุฑ <code>parse</code> ูุชุบุฑ <code>Err</code> ุงุฒ ููุน <code>Result</code> ุฑุง ุจุฑฺฏุฑุฏุงูุฏ ุฒุฑุง ูุชูุงูุณุช ฺฉ ุนุฏุฏ ุงุฒ ุฑุดุชู ุงุฌุงุฏ ฺฉูุฏุ ูุฑุงุฎูุงู <code>expect</code> ุจุงุฒ ุฑุง ูุชููู ฺฉุฑุฏู ู ูพุงู ูุดุฎุตโุดุฏู ุฑุง ฺุงูพ ูโฺฉูุฏ. ุงฺฏุฑ <code>parse</code> ุจุชูุงูุฏ ุจุง ููููุช ุฑุดุชู ุฑุง ุจู ุนุฏุฏ ุชุจุฏู ฺฉูุฏุ ูุชุบุฑ <code>Ok</code> ุงุฒ ููุน <code>Result</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ู <code>expect</code> ุนุฏุฏ ููุฑุฏ ูุธุฑ ุฑุง ุงุฒ ููุฏุงุฑ <code>Ok</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<!-- manual-regeneration
cd listings/ch02-guessing-game-tutorial/no-listing-03-convert-string-to-number/
touch src/main.rs
cargo run
  76
-->
<pre><code class="language-console">$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.26s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is: 58
Please input your guess.
  76
You guessed: 76
Too big!
</code></pre>
<p>ุนุงู! ุญุช ุจุง ุงูฺฉู ูุจู ุงุฒ ุญุฏุณ ฺฉุงุฑุจุฑ ูุงุตููโูุง ุงุถุงูู ุดุฏู ุจูุฏุ ุจุฑูุงูู ููฺูุงู ุชุดุฎุต ุฏุงุฏ ฺฉู ฺฉุงุฑุจุฑ ุนุฏุฏ 76 ุฑุง ุญุฏุณ ุฒุฏู ุงุณุช. ุจุฑูุงูู ุฑุง ฺูุฏ ุจุงุฑ ุงุฌุฑุง ฺฉูุฏ ุชุง ุฑูุชุงุฑูุง ูุฎุชูู ุฑุง ุจุง ุงููุงุน ูุฎุชูู ูุฑูุฏ ุจุฑุฑุณ ฺฉูุฏ: ุนุฏุฏ ุฑุง ุฏุฑุณุช ุญุฏุณ ุจุฒูุฏุ ุนุฏุฏ ฺฉู ุฎู ุจุฒุฑฺฏ ุงุณุช ุญุฏุณ ุจุฒูุฏุ ู ุนุฏุฏ ฺฉู ุฎู ฺฉูฺฺฉ ุงุณุช ุฑุง ุญุฏุณ ุจุฒูุฏ.</p>
<p>ุงฺฉููู ุจุดุชุฑ ุจุฎุดโูุง ุจุงุฒ ฺฉุงุฑ ูโฺฉูุฏุ ุงูุง ฺฉุงุฑุจุฑ ููุท ูโุชูุงูุฏ ฺฉ ุญุฏุณ ุจุฒูุฏ. ุจุงุฏ ุงู ููุถูุน ุฑุง ุจุง ุงุถุงูู ฺฉุฑุฏู ฺฉ ุญููู ุชุบุฑ ุฏูู!</p>
<h2 id="ุงุฌุงุฒู-ุฏุงุฏู-ุจู-ฺูุฏู-ุญุฏุณ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุญููู"><a class="header" href="#ุงุฌุงุฒู-ุฏุงุฏู-ุจู-ฺูุฏู-ุญุฏุณ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุญููู">ุงุฌุงุฒู ุฏุงุฏู ุจู ฺูุฏู ุญุฏุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ุญููู</a></h2>
<p>ฺฉููู ฺฉูุฏ <code>loop</code> ฺฉ ุญููู ุจโููุงุช ุงุฌุงุฏ ูโฺฉูุฏ. ูุง ฺฉ ุญููู ุงุถุงูู ูโฺฉูู ุชุง ุจู ฺฉุงุฑุจุฑุงู ูุฑุตุชโูุง ุจุดุชุฑ ุจุฑุง ุญุฏุณ ุฒุฏู ุนุฏุฏ ุจุฏูู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span><span class="boring">use std::cmp::Ordering;
</span><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span>    // --snip--

    println!("The secret number is: {secret_number}");

    loop {
        println!("Please input your guess.");

        // --snip--

<span class="boring">
</span><span class="boring">        let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">        io::stdin()
</span><span class="boring">            .read_line(&amp;mut guess)
</span><span class="boring">            .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">        let guess: u32 = guess.trim().parse().expect("Please type a number!");
</span><span class="boring">
</span><span class="boring">        println!("You guessed: {guess}");
</span><span class="boring">
</span>        match guess.cmp(&amp;secret_number) {
            Ordering::Less =&gt; println!("Too small!"),
            Ordering::Greater =&gt; println!("Too big!"),
            Ordering::Equal =&gt; println!("You win!"),
        }
    }
}</code></pre>
<p>ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ ูุง ููู ฺุฒ ุงุฒ ุฏุฑุฎูุงุณุช ูุฑูุฏ ุญุฏุณ ุจู ุจุนุฏ ุฑุง ุฏุงุฎู ฺฉ ุญููู ูุฑุงุฑ ุฏุงุฏูโุงู. ูุทูุฆู ุดูุฏ ฺฉู ุฎุทูุท ุฏุงุฎู ุญููู ุฑุง ฺูุงุฑ ูุงุตูู ุฏฺฏุฑ ุชูุฑูุชฺฏ (indentation) ุจุฏูุฏ ู ุจุฑูุงูู ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ. ุงฺฉููู ุจุฑูุงูู ุจูโุทูุฑ ุจโูพุงุงู ุงุฒ ุดูุง ุญุฏุณ ูโุฎูุงูุฏุ ฺฉู ุฏุฑ ูุงูุน ฺฉ ูุดฺฉู ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ. ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ฺฉุงุฑุจุฑ ููโุชูุงูุฏ ุงุฒ ุจุฑูุงูู ุฎุงุฑุฌ ุดูุฏ!</p>
<p>ฺฉุงุฑุจุฑ ููุดู ูโุชูุงูุฏ ุจุฑูุงูู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงูุจุฑ ุตูุญูโฺฉูุฏ <kbd>ctrl</kbd>-<kbd>c</kbd> ูุชููู ฺฉูุฏ. ุงูุง ุฑุงู ุฏฺฏุฑ ุจุฑุง ูุฑุงุฑ ุงุฒ ุงู ูููุง ุณุฑโูุงูพุฐุฑ ูุฌูุฏ ุฏุงุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุญุซ <code>parse</code> ุฏุฑ <a href="ch02-00-guessing-game-tutorial.html#comparing-the-guess-to-the-secret-number">โููุงุณู ุญุฏุณ ุจุง ุนุฏุฏ ูุฎูโ</a><!-- ignore --> ุฐฺฉุฑ ุดุฏ: ุงฺฏุฑ ฺฉุงุฑุจุฑ ูพุงุณุฎ ุบุฑุนุฏุฏ ูุงุฑุฏ ฺฉูุฏุ ุจุฑูุงูู ูุชููู ูโุดูุฏ. ูโุชูุงูู ุงุฒ ุงู ููุถูุน ุงุณุชูุงุฏู ฺฉูู ุชุง ุจู ฺฉุงุฑุจุฑ ุงุฌุงุฒู ุฏูู ุฎุงุฑุฌ ุดูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<!-- manual-regeneration
cd listings/ch02-guessing-game-tutorial/no-listing-04-looping/
touch src/main.rs
cargo run
(too small guess)
(too big guess)
(correct guess)
quit
-->
<pre><code class="language-console">$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.23s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is: 59
Please input your guess.
45
You guessed: 45
Too small!
Please input your guess.
60
You guessed: 60
Too big!
Please input your guess.
59
You guessed: 59
You win!
Please input your guess.
quit
thread 'main' panicked at 'Please type a number!: ParseIntError { kind: InvalidDigit }', src/main.rs:28:47
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ุชุงูพ ฺฉุฑุฏู <code>quit</code> ุจุงุนุซ ุฎุฑูุฌ ุงุฒ ุจุงุฒ ูโุดูุฏุ ุงูุง ููุงูโุทูุฑ ฺฉู ูุชูุฌู ุฎูุงูุฏ ุดุฏุ ูุงุฑุฏ ฺฉุฑุฏู ูุฑ ูุฑูุฏ ุบุฑุนุฏุฏ ุฏฺฏุฑ ูุฒ ููู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุงู ุฑูุชุงุฑ ฺูุฏุงู ุจููู ูุณุชุ ูุง ูโุฎูุงูู ุจุงุฒ ููฺูู ููุช ุนุฏุฏ ุฏุฑุณุช ุญุฏุณ ุฒุฏู ุดุฏ ูุชููู ุดูุฏ.</p>
<h3 id="ุฎุฑูุฌ-ูพุณ-ุงุฒ-ุญุฏุณ-ุฏุฑุณุช"><a class="header" href="#ุฎุฑูุฌ-ูพุณ-ุงุฒ-ุญุฏุณ-ุฏุฑุณุช">ุฎุฑูุฌ ูพุณ ุงุฒ ุญุฏุณ ุฏุฑุณุช</a></h3>
<p>ุจุงุฏ ุจุฑูุงูู ุฑุง ุทูุฑ ุชูุธู ฺฉูู ฺฉู ููุช ฺฉุงุฑุจุฑ ุจุฑูุฏู ูโุดูุฏุ ุจุง ุงูุฒูุฏู ฺฉ ุฏุณุชูุฑ <code>break</code> ุงุฒ ุจุงุฒ ุฎุงุฑุฌ ุดูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span><span class="boring">use std::cmp::Ordering;
</span><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    loop {
</span><span class="boring">        println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">        let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">        io::stdin()
</span><span class="boring">            .read_line(&amp;mut guess)
</span><span class="boring">            .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">        let guess: u32 = guess.trim().parse().expect("Please type a number!");
</span><span class="boring">
</span><span class="boring">        println!("You guessed: {guess}");
</span><span class="boring">
</span>        // --snip--

        match guess.cmp(&amp;secret_number) {
            Ordering::Less =&gt; println!("Too small!"),
            Ordering::Greater =&gt; println!("Too big!"),
            Ordering::Equal =&gt; {
                println!("You win!");
                break;
            }
        }
    }
}</code></pre>
<p>ุงุถุงูู ฺฉุฑุฏู ุฎุท <code>break</code> ุจุนุฏ ุงุฒ <code>You win!</code> ุจุงุนุซ ูโุดูุฏ ฺฉู ุจุฑูุงูู ููุช ฺฉุงุฑุจุฑ ุนุฏุฏ ูุฎู ุฑุง ุจูโุฏุฑุณุช ุญุฏุณ ูโุฒูุฏุ ุงุฒ ุญููู ุฎุงุฑุฌ ุดูุฏ. ุฎุฑูุฌ ุงุฒ ุญููู ููฺูู ุจู ูุนูุง ุฎุฑูุฌ ุงุฒ ุจุฑูุงูู ุงุณุชุ ุฒุฑุง ุญููู ุขุฎุฑู ุจุฎุด ุงุฒ <code>main</code> ุงุณุช.</p>
<h3 id="ูุฏุฑุช-ูุฑูุฏ-ูุงูุนุชุจุฑ"><a class="header" href="#ูุฏุฑุช-ูุฑูุฏ-ูุงูุนุชุจุฑ">ูุฏุฑุช ูุฑูุฏ ูุงูุนุชุจุฑ</a></h3>
<p>ุจุฑุง ุจูุจูุฏ ุจุดุชุฑ ุฑูุชุงุฑ ุจุงุฒุ ุจู ุฌุง ุงูฺฉู ุจุฑูุงูู ููฺฏุงู ูุฑูุฏ ูุฑูุฏ ุบุฑุนุฏุฏ ุชูุณุท ฺฉุงุฑุจุฑ ูุชููู ุดูุฏุ ุจุงุฏ ุจุงุฒ ุฑุง ุทูุฑ ุชูุธู ฺฉูู ฺฉู ูุฑูุฏ ุบุฑุนุฏุฏ ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏ ุชุง ฺฉุงุฑุจุฑ ุจุชูุงูุฏ ุจู ุญุฏุณ ุฒุฏู ุงุฏุงูู ุฏูุฏ. ุงู ฺฉุงุฑ ุฑุง ูโุชูุงู ุจุง ุชุบุฑ ุฎุท ฺฉู ุฏุฑ ุขู <code>guess</code> ุงุฒ ฺฉ <code>String</code> ุจู ฺฉ <code>u32</code> ุชุจุฏู ูโุดูุฏ ุงูุฌุงู ุฏุงุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 2-5 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span><span class="boring">use std::cmp::Ordering;
</span><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    loop {
</span><span class="boring">        println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">        let mut guess = String::new();
</span><span class="boring">
</span>        // --snip--

        io::stdin()
            .read_line(&amp;mut guess)
            .expect("Failed to read line");

        let guess: u32 = match guess.trim().parse() {
            Ok(num) =&gt; num,
            Err(_) =&gt; continue,
        };

        println!("You guessed: {guess}");

        // --snip--
<span class="boring">
</span><span class="boring">        match guess.cmp(&amp;secret_number) {
</span><span class="boring">            Ordering::Less =&gt; println!("Too small!"),
</span><span class="boring">            Ordering::Greater =&gt; println!("Too big!"),
</span><span class="boring">            Ordering::Equal =&gt; {
</span><span class="boring">                println!("You win!");
</span><span class="boring">                break;
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 2-5: ูุงุฏุฏู ฺฏุฑูุชู ฺฉ ุญุฏุณ ุบุฑุนุฏุฏ ู ุฏุฑุฎูุงุณุช ฺฉ ุญุฏุณ ุฏฺฏุฑ ุจู ุฌุง ูุชููู ฺฉุฑุฏู ุจุฑูุงูู</figcaption>
</figure>
<p>ูุง ุงุฒ ฺฉ ูุฑุงุฎูุงู <code>expect</code> ุจู ฺฉ ุนุจุงุฑุช <code>match</code> ุชุบุฑ ูโุฏูู ุชุง ุจู ุฌุง ูุชููู ฺฉุฑุฏู ุจุฑูุงูู ุฏุฑ ุตูุฑุช ุฎุทุงุ ุฎุทุง ุฑุง ูุฏุฑุช ฺฉูู. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู <code>parse</code> ฺฉ ููุน <code>Result</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ู <code>Result</code> ฺฉ enum ุงุณุช ฺฉู ุฏุงุฑุง ูุชุบุฑูุง <code>Ok</code> ู <code>Err</code> ุงุณุช. ูุง ุฏุฑ ุงูุฌุง ุงุฒ ฺฉ ุนุจุงุฑุช <code>match</code> ุงุณุชูุงุฏู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุจุง ูุชุฌู <code>Ordering</code> ุงุฒ ูุชุฏ <code>cmp</code> ุงูุฌุงู ุฏุงุฏู.</p>
<p>ุงฺฏุฑ <code>parse</code> ุจุชูุงูุฏ ุฑุดุชู ุฑุง ุจุง ููููุช ุจู ฺฉ ุนุฏุฏ ุชุจุฏู ฺฉูุฏุ ฺฉ ููุฏุงุฑ <code>Ok</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุนุฏุฏ ุชููุฏุดุฏู ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ. ููุฏุงุฑ <code>Ok</code> ุจุง ุงูฺฏู ุดุงุฎู ุงูู ูุทุงุจูุช ุฎูุงูุฏ ุฏุงุดุช ู ุนุจุงุฑุช <code>match</code> ููุท ููุฏุงุฑ <code>num</code> ฺฉู <code>parse</code> ุชููุฏ ฺฉุฑุฏู ู ุฏุฑ ุฏุงุฎู ููุฏุงุฑ <code>Ok</code> ูุฑุงุฑ ุฏุงุฏู ุงุณุช ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุขู ุนุฏุฏ ุฏุฑ ููุงู ุฌุง ฺฉู ูโุฎูุงููุ ุฏุฑ ูุชุบุฑ ุฌุฏุฏ <code>guess</code> ฺฉู ุงุฌุงุฏ ูโฺฉููุ ูุฑุงุฑ ูโฺฏุฑุฏ.</p>
<p>ุงฺฏุฑ <code>parse</code> <em>ูุชูุงูุฏ</em> ุฑุดุชู ุฑุง ุจู ุนุฏุฏ ุชุจุฏู ฺฉูุฏุ ฺฉ ููุฏุงุฑ <code>Err</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุฎุทุง ุฏุงุฑุฏ. ููุฏุงุฑ <code>Err</code> ุจุง ุงูฺฏู <code>Ok(num)</code> ุฏุฑ ุดุงุฎู ุงูู <code>match</code> ูุทุงุจูุช ูุฏุงุฑุฏุ ุงูุง ุจุง ุงูฺฏู <code>Err(_)</code> ุฏุฑ ุดุงุฎู ุฏูู ูุทุงุจูุช ุฏุงุฑุฏ. ฺฉุงุฑุงฺฉุชุฑ ุฒุฑุฎุทุ <code>_</code>ุ ฺฉ ููุฏุงุฑ ฺฉู ุงุณุชุ ุฏุฑ ุงู ูุซุงูุ ูุง ูโฺฏูู ฺฉู ูโุฎูุงูู ุชูุงู ููุงุฏุฑ <code>Err</code> ุฑุง ุจุฏูู ุชูุฌู ุจู ุงุทูุงุนุงุช ุฏุงุฎู ุขูโูุง ูุทุงุจูุช ุฏูู. ุจูุงุจุฑุงู ุจุฑูุงูู ฺฉุฏ ุดุงุฎู ุฏููุ <code>continue</code> ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ฺฉู ุจู ุจุฑูุงูู ูโฺฏูุฏ ุจู ุชฺฉุฑุงุฑ ุจุนุฏ <code>loop</code> ุจุฑูุฏ ู ฺฉ ุญุฏุณ ุฏฺฏุฑ ุฏุฑุฎูุงุณุช ฺฉูุฏ. ุจูุงุจุฑุงูุ ุจุฑูุงูู ุจูโุทูุฑ ูุคุซุฑ ุชูุงู ุฎุทุงูุง ฺฉู <code>parse</code> ููฺฉู ุงุณุช ุจุง ุขูโูุง ููุงุฌู ุดูุฏ ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ!</p>
<p>ุญุงูุง ููู ฺุฒ ุฏุฑ ุจุฑูุงูู ุจุงุฏ ุทุจู ุงูุชุธุงุฑ ฺฉุงุฑ ฺฉูุฏ. ุจุงุฏ ุขู ุฑุง ุงูุชุญุงู ฺฉูู:</p>
<!-- manual-regeneration
cd listings/ch02-guessing-game-tutorial/listing-02-05/
cargo run
(too small guess)
(too big guess)
foo
(correct guess)
-->
<pre><code class="language-console">$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.13s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is: 61
Please input your guess.
10
You guessed: 10
Too small!
Please input your guess.
99
You guessed: 99
Too big!
Please input your guess.
foo
Please input your guess.
61
You guessed: 61
You win!
</code></pre>
<p>ุนุงู! ุจุง ฺฉ ุชุบุฑ ฺฉูฺฺฉ ููุงุ ุจุงุฒ ุญุฏุณ ุฒุฏู ุฑุง ฺฉุงูู ุฎูุงูู ฺฉุฑุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุฑูุงูู ููฺูุงู ุนุฏุฏ ูุฎู ุฑุง ฺุงูพ ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุจุฑุง ุขุฒูุงุด ุฎูุจ ุจูุฏุ ุงูุง ุจุงุฒ ุฑุง ุฎุฑุงุจ ูโฺฉูุฏ. ุจุงุฏ ุฏุณุชูุฑ <code>println!</code> ฺฉู ุนุฏุฏ ูุฎู ุฑุง ุฎุฑูุฌ ูโุฏูุฏ ุญุฐู ฺฉูู. ูุณุชูฺฏ 2-6 ฺฉุฏ ููุง ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("Guess the number!");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    loop {
        println!("Please input your guess.");

        let mut guess = String::new();

        io::stdin()
            .read_line(&amp;mut guess)
            .expect("Failed to read line");

        let guess: u32 = match guess.trim().parse() {
            Ok(num) =&gt; num,
            Err(_) =&gt; continue,
        };

        println!("You guessed: {guess}");

        match guess.cmp(&amp;secret_number) {
            Ordering::Less =&gt; println!("Too small!"),
            Ordering::Greater =&gt; println!("Too big!"),
            Ordering::Equal =&gt; {
                println!("You win!");
                break;
            }
        }
    }
}</code></pre>
<figcaption>Listing 2-6: ฺฉุฏ ฺฉุงูู ุจุงุฒ ุญุฏุณ ุฒุฏู</figcaption>
</figure>
<p>ุฏุฑ ุงู ูุฑุญููุ ุดูุง ุจุง ููููุช ุจุงุฒ ุญุฏุณ ุฒุฏู ุฑุง ุณุงุฎุชูโุงุฏ. ุชุจุฑฺฉ ูโฺฏูู!</p>
<h2 id="ุฎูุงุตู-1"><a class="header" href="#ุฎูุงุตู-1">ุฎูุงุตู</a></h2>
<p>ุงู ูพุฑูฺู ฺฉ ุฑูุด ุนูู ุจุฑุง ูุนุฑู ุจุณุงุฑ ุงุฒ ููุงูู ุฌุฏุฏ Rust ุจู ุดูุง ุจูุฏ: <code>let</code>ุ <code>match</code>ุ ุชูุงุจุนุ ุงุณุชูุงุฏู ุงุฒ ุฌุนุจูโูุง (crates) ุฎุงุฑุฌุ ู ููุงุฑุฏ ุฏฺฏุฑ. ุฏุฑ ฺูุฏ ูุตู ุจุนุฏุ ุงู ููุงูู ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช. ูุตู 3 ููุงูู ุฑุง ฺฉู ุจุดุชุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏุงุฑูุฏุ ูุงููุฏ ูุชุบุฑูุงุ ุงููุงุน ุฏุงุฏู ู ุชูุงุจุน ุฑุง ูพูุดุด ูโุฏูุฏ ู ูุดุงู ูโุฏูุฏ ฺฺฏููู ุงุฒ ุขูโูุง ุฏุฑ Rust ุงุณุชูุงุฏู ฺฉูุฏ. ูุตู 4 ูุงูฺฉุช ุฑุง ุจุฑุฑุณ ูโฺฉูุฏุ ูฺฺฏโุง ฺฉู Rust ุฑุง ุงุฒ ุฒุจุงูโูุง ุฏฺฏุฑ ูุชูุงุฒ ูโฺฉูุฏ. ูุตู 5 ุณุงุฎุชุงุฑูุง ู ูุญู ูุชุฏูุง ุฑุง ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูโุฏูุฏ ู ูุตู 6 ุชูุถุญ ูโุฏูุฏ ฺฉู enumูุง ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ููุงูู-ุฑุงุฌ-ุจุฑูุงููููุณ"><a class="header" href="#ููุงูู-ุฑุงุฌ-ุจุฑูุงููููุณ">ููุงูู ุฑุงุฌ ุจุฑูุงููโููุณ</a></h1>
<p>ุงู ูุตู ููุงูู ุฑุง ูพูุดุด ูโุฏูุฏ ฺฉู ุฏุฑ ุชูุฑุจุงู ูุฑ ุฒุจุงู ุจุฑูุงููโููุณ ูุฌูุฏ ุฏุงุฑูุฏ ู ูุญูู ฺฉุงุฑ ุขูโูุง ุฏุฑ Rust ุฑุง ุชูุถุญ ูโุฏูุฏ. ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏุฑ ูุณุชู ุฎูุฏ ุงุดุชุฑุงฺฉุงุช ุฒุงุฏ ุฏุงุฑูุฏ. ูฺโฺฉ ุงุฒ ููุงูู ุงุฑุงุฆูโุดุฏู ุฏุฑ ุงู ูุตู ูุฎุชุต Rust ูุณุชูุฏุ ุงูุง ูุง ุขูโูุง ุฑุง ุฏุฑ ุฒููู Rust ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูโุฏูู ู ูุฑุงุฑุฏุงุฏูุง ูุฑุชุจุท ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ููุงูู ุฑุง ุชูุถุญ ูโุฏูู.</p>
<p>ุจู ุทูุฑ ุฎุงุตุ ุดูุง ุจุง ูุชุบุฑูุงุ ุงููุงุน ูพุงูุ ุชูุงุจุนุ ูุธุฑุงุช ู ุฌุฑุงู ฺฉูุชุฑู ุขุดูุง ุฎูุงูุฏ ุดุฏ. ุงู ูุจุงู ุฏุฑ ูุฑ ุจุฑูุงูู Rust ูุฌูุฏ ุฎูุงููุฏ ุฏุงุดุช ู ุงุฏฺฏุฑ ุขูโูุง ุฏุฑ ุงูุงู ฺฉุงุฑุ ูพุงู ููโุง ุจุฑุง ุดุฑูุน ุจู ุดูุง ูโุฏูุฏ.</p>
<section class="note" aria-role="note">
<h4 id="ฺฉููุงุช-ฺฉูุฏ"><a class="header" href="#ฺฉููุงุช-ฺฉูุฏ">ฺฉููุงุช ฺฉูุฏ</a></h4>
<p>ุฒุจุงู Rust ูุฌููุนูโุง ุงุฒ <em>ฺฉููุงุช ฺฉูุฏ</em> ุฏุงุฑุฏ ฺฉู ููุท ุจุฑุง ุงุณุชูุงุฏู ุชูุณุท ุฒุจุงู ุฑุฒุฑู ุดุฏูโุงูุฏุ ููุงููุฏ ุณุงุฑ ุฒุจุงูโูุง. ุจู ุฎุงุทุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููโุชูุงูุฏ ุงุฒ ุงู ฺฉููุงุช ุจูโุนููุงู ูุงู ูุชุบุฑูุง ุง ุชูุงุจุน ุงุณุชูุงุฏู ฺฉูุฏ. ุงฺฉุซุฑ ฺฉููุงุช ฺฉูุฏ ูุนุงู ุฎุงุต ุฏุงุฑูุฏ ู ุดูุง ุงุฒ ุขูโูุง ุจุฑุง ุงูุฌุงู ูุธุงู ูุฎุชูู ุฏุฑ ุจุฑูุงููโูุง Rust ุฎูุฏ ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏุ ุชุนุฏุงุฏ ุงุฒ ุขูโูุง ุฏุฑ ุญุงู ุญุงุถุฑ ูฺ ุนููฺฉุฑุฏ ูุฏุงุฑูุฏ ุงูุง ุจุฑุง ูุงุจูุชโูุง ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุขูุฏู ุจู Rust ุงุถุงูู ุดููุฏ ุฑุฒุฑู ุดุฏูโุงูุฏ. ุดูุง ูโุชูุงูุฏ ูุณุช ฺฉููุงุช ฺฉูุฏ ุฑุง ุฏุฑ <a href="appendix-01-keywords.html">ุถููู ุงูู</a><!-- ignore --> ูพุฏุง ฺฉูุฏ.</p>
</section>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุชุบุฑูุง-ู-ุชุบุฑูพุฐุฑ"><a class="header" href="#ูุชุบุฑูุง-ู-ุชุบุฑูพุฐุฑ">ูุชุบุฑูุง ู ุชุบุฑูพุฐุฑ</a></h2>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด [โุฐุฎุฑู ููุงุฏุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑูุงโ][storing-values-with-variables]<!-- ignore --> ุฐฺฉุฑ ุดุฏุ ุจู ุทูุฑ ูพุดโูุฑุถ ูุชุบุฑูุง ุฏุฑ Rust ุบุฑูุงุจูโุชุบุฑ ูุณุชูุฏ. ุงู ฺฉ ุงุฒ ุฑุงูโูุง ุงุณุช ฺฉู Rust ุดูุง ุฑุง ุจู ููุดุชู ฺฉุฏ ฺฉู ุงุฒ ุงูู ู ููุฒูุงู ุขุณุงู ุงุฑุงุฆูโุดุฏู ุชูุณุท ุงู ุฒุจุงู ุจูุฑู ูโุจุฑุฏุ ุชุดูู ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ุดูุง ููฺูุงู ฺฏุฒููโุง ุฏุงุฑุฏ ุชุง ูุชุบุฑูุง ุฎูุฏ ุฑุง ูุงุจูโุชุบุฑ ฺฉูุฏ. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ฺฺฏููู ู ฺุฑุง Rust ุดูุง ุฑุง ุชุดูู ุจู ุงุณุชูุงุฏู ุงุฒ ุบุฑูุงุจูโุชุบุฑ ุจูุฏู ูโฺฉูุฏ ู ฺุฑุง ููฺฉู ุงุณุช ฺฏุงู ุจุฎูุงูุฏ ุงู ุญุงูุช ุฑุง ุชุบุฑ ุฏูุฏ.</p>
<p>ููุช ฺฉ ูุชุบุฑ ุบุฑูุงุจูโุชุบุฑ ุงุณุชุ ููุช ููุฏุงุฑ ุจู ฺฉ ูุงู ูุชุตู ุดุฏุ ููโุชูุงูุฏ ุขู ููุฏุงุฑ ุฑุง ุชุบุฑ ุฏูุฏ. ุจุฑุง ูุดุงู ุฏุงุฏู ุงู ููุถูุนุ ฺฉ ูพุฑูฺู ุฌุฏุฏ ุจู ูุงู <em>variables</em> ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>projects</em> ุฎูุฏ ุงุฌุงุฏ ฺฉูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>cargo new variables</code>.</p>
<p>ุณูพุณุ ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ <em>variables</em> ุฎูุฏุ ูุงู <em>src/main.rs</em> ุฑุง ุจุงุฒ ฺฉูุฏ ู ฺฉุฏ ุขู ุฑุง ุจุง ฺฉุฏ ุฒุฑ ุฌุงฺฏุฒู ฺฉูุฏุ ฺฉู ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ:</p>
<p><span class="filename">ุชุงู ูุงู: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}");
}</code></pre>
<p>ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ ู ุจุฑูุงูู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ. ุจุงุฏ ฺฉ ูพุงู ุฎุทุง ุฏุฑ ููุฑุฏ ุบุฑูุงุจูโุชุบุฑ ุจูุฏู ุฏุฑุงูุช ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงู ุฎุฑูุฌ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --&gt; src/main.rs:4:5
  |
2 |     let x = 5;
  |         - first assignment to `x`
3 |     println!("The value of x is: {x}");
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable
  |
help: consider making this binding mutable
  |
2 |     let mut x = 5;
  |         +++

For more information about this error, try `rustc --explain E0384`.
error: could not compile `variables` (bin "variables") due to 1 previous error
</code></pre>
<p>ุงู ูุซุงู ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ฺฉุงููพุงูุฑ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุฎุทุงูุง ุฑุง ุฏุฑ ุจุฑูุงููโูุง ุฎูุฏ ูพุฏุง ฺฉูุฏ. ุฎุทุงูุง ฺฉุงููพุงูุฑ ููฺฉู ุงุณุช ูุงุงูุฏฺฉููุฏู ุจุงุดูุฏุ ุงูุง ุฏุฑ ูุงูุน ุจู ุงู ูุนูุง ูุณุชูุฏ ฺฉู ุจุฑูุงูู ุดูุง ูููุฒ ุจู ุทูุฑ ุงูู ฺฉุงุฑ ุฑุง ฺฉู ูโุฎูุงูุฏ ุงูุฌุงู ููโุฏูุฏุ ุงู ุจู ูฺ ูุฌู ุจู ุงู ูุนูุง ูุณุช ฺฉู ุดูุง ุจุฑูุงููโููุณ ุฎูุจ ูุณุชุฏ! ุญุช ุจุฑูุงููโููุณุงู ุจุงุชุฌุฑุจู Rust ูุฒ ููฺูุงู ุฎุทุงูุง ฺฉุงููพุงูุฑ ุฏุฑุงูุช ูโฺฉููุฏ.</p>
<p>ุดูุง ูพุงู ุฎุทุง <code>cannot assign twice to immutable variable `x`</code> ุฑุง ุฏุฑุงูุช ฺฉุฑุฏุฏ ุฒุฑุง ุณุน ฺฉุฑุฏุฏ ููุฏุงุฑ ุฏูู ุฑุง ุจู ูุชุบุฑ ุบุฑูุงุจูโุชุบุฑ <code>x</code> ุชุฎุตุต ุฏูุฏ.</p>
<p>ุงู ุจุณุงุฑ ููู ุงุณุช ฺฉู ูุง ุฎุทุงูุง ุฒูุงู ฺฉุงููพุงู ุฑุง ุฏุฑุงูุช ฺฉูู ููุช ุณุน ูโฺฉูู ููุฏุงุฑ ฺฉ ูุชุบุฑ ุบุฑูุงุจูโุชุบุฑ ุฑุง ุชุบุฑ ุฏูู ุฒุฑุง ุงู ูุถุนุช ูโุชูุงูุฏ ุจู ุจุงฺฏ ููุฌุฑ ุดูุฏ. ุงฺฏุฑ ฺฉ ุจุฎุด ุงุฒ ฺฉุฏ ูุง ุจุง ุงู ูุฑุถ ุนูู ฺฉูุฏ ฺฉู ฺฉ ููุฏุงุฑ ูุฑฺฏุฒ ุชุบุฑ ููโฺฉูุฏ ู ุจุฎุด ุฏฺฏุฑ ุงุฒ ฺฉุฏ ุขู ููุฏุงุฑ ุฑุง ุชุบุฑ ุฏูุฏุ ููฺฉู ุงุณุช ุจุฎุด ุงูู ฺฉุฏ ฺฉุงุฑ ฺฉู ุจุฑุง ุงูุฌุงู ุขู ุทุฑุงุญ ุดุฏู ุจูุฏ ุฑุง ุจู ุฏุฑุณุช ุงูุฌุงู ูุฏูุฏ. ุนูุช ุงู ููุน ุจุงฺฏ ูโุชูุงูุฏ ุจุนุฏ ุงุฒ ูููุน ุจู ุณุฎุช ูุงุจูโุฑุฏุงุจ ุจุงุดุฏุ ุจูโูฺู ููุช ฺฉู ุจุฎุด ุฏูู ฺฉุฏ ููุท <em>ฺฏุงู ุงููุงุช</em> ููุฏุงุฑ ุฑุง ุชุบุฑ ูโุฏูุฏ. ฺฉุงููพุงูุฑ Rust ุชุถูู ูโฺฉูุฏ ฺฉู ููุช ุจุงู ูโฺฉูุฏ ฺฉ ููุฏุงุฑ ุชุบุฑ ูุฎูุงูุฏ ฺฉุฑุฏุ ูุงูุนุงู ุชุบุฑ ูุฎูุงูุฏ ฺฉุฑุฏุ ุจูุงุจุฑุงู ูุงุฒ ูุณุช ฺฉู ุฎูุฏุชุงู ุงู ููุถูุน ุฑุง ูพฺฏุฑ ฺฉูุฏ. ุจู ุงู ุชุฑุชุจ ฺฉุฏ ุดูุง ุฑุงุญุชโุชุฑ ูุงุจูโุฏุฑฺฉ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุงูุง ูุงุจูุช ุชุบุฑ ูโุชูุงูุฏ ุจุณุงุฑ ููุฏ ุจุงุดุฏ ู ููุดุชู ฺฉุฏ ุฑุง ุฑุงุญุชโุชุฑ ฺฉูุฏ. ุงฺฏุฑฺู ูุชุบุฑูุง ุจู ุทูุฑ ูพุดโูุฑุถ ุบุฑูุงุจูโุชุบุฑ ูุณุชูุฏุ ูโุชูุงูุฏ ุจุง ุงุถุงูู ฺฉุฑุฏู <code>mut</code> ูุจู ุงุฒ ูุงู ูุชุบุฑ ุขููุง ุฑุง ูุงุจูโุชุบุฑ ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ [ูุตู ฒ][storing-values-with-variables]<!-- ignore --> ุงูุฌุงู ุฏุงุฏุฏ. ุงุถุงูู ฺฉุฑุฏู <code>mut</code> ููฺูู ุจู ุฎูุงููุฏฺฏุงู ุขูุฏู ฺฉุฏ ูุช ุดูุง ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ูุณูุชโูุง ุฏฺฏุฑ ฺฉุฏ ููุฏุงุฑ ุงู ูุชุบุฑ ุฑุง ุชุบุฑ ุฎูุงููุฏ ุฏุงุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ุจุงุฏ ูุงู <em>src/main.rs</em> ุฑุง ุจู ฺฉุฏ ุฒุฑ ุชุบุฑ ุฏูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}");
}</code></pre></pre>
<p>ููุช ุงฺฉููู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉููุ ุงู ุฎุฑูุฌ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.30s
     Running `target/debug/variables`
The value of x is: 5
The value of x is: 6
</code></pre>
<p>ูุง ุงุฌุงุฒู ุฏุงุฑู ููุฏุงุฑ ูุฑุชุจุท ุจุง <code>x</code> ุฑุง ุงุฒ <code>5</code> ุจู <code>6</code> ุชุบุฑ ุฏูู ููุช ฺฉู ุงุฒ <code>mut</code> ุงุณุชูุงุฏู ุดูุฏ. ุฏุฑ ููุงุชุ ุชุตููโฺฏุฑ ุฏุฑ ููุฑุฏ ุงุณุชูุงุฏู ุง ุนุฏู ุงุณุชูุงุฏู ุงุฒ ูุงุจูุช ุชุบุฑ ุจู ุนูุฏู ุดูุง ุงุณุช ู ุจู ุงู ุจุณุชฺฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ุขู ูููุนุช ุฎุงุต ฺู ฺุฒ ูุงุถุญโุชุฑ ุจู ูุธุฑ ูโุฑุณุฏ.</p>
<h3 id="ุซุงุจุช-ูุง"><a class="header" href="#ุซุงุจุช-ูุง">ุซุงุจุช ูุง</a></h3>
<p>ูุงููุฏ ูุชุบุฑูุง ุบุฑูุงุจูโุชุบุฑุ <em>ุซุงุจุชโูุง</em> ููุงุฏุฑ ูุณุชูุฏ ฺฉู ุจู ฺฉ ูุงู ูุชุตู ูโุดููุฏ ู ุงุฌุงุฒู ุชุบุฑ ูุฏุงุฑูุฏุ ุงูุง ฺูุฏ ุชูุงูุช ุจู ุซุงุจุชโูุง ู ูุชุบุฑูุง ูุฌูุฏ ุฏุงุฑุฏ.</p>
<p>ุงููุ ุดูุง ููโุชูุงูุฏ ุงุฒ <code>mut</code> ุจุง ุซุงุจุชโูุง ุงุณุชูุงุฏู ฺฉูุฏ. ุซุงุจุชโูุง ูู ุชููุง ุจู ุทูุฑ ูพุดโูุฑุถ ุบุฑูุงุจูโุชุบุฑ ูุณุชูุฏุ ุจูฺฉู ููุดู ุบุฑูุงุจูโุชุบุฑ ูุณุชูุฏ. ุดูุง ุซุงุจุชโูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุงฺู <code>const</code> ุจู ุฌุง ฺฉูุฏูุงฺู <code>let</code> ุชุนุฑู ูโฺฉูุฏ ู ููุน ููุฏุงุฑ <em>ุจุงุฏ</em> ูุดุฎุต ุดูุฏ. ูุง ุฏุฑ ุจุฎุด ุจุนุฏ [โุงููุงุน ุฏุงุฏูโ][data-types]<!-- ignore --> ุฏุฑุจุงุฑู ุงููุงุน ู ุญุงุดูโููุณ ููุน ุตุญุจุช ุฎูุงูู ฺฉุฑุฏุ ุจูุงุจุฑุงู ูฺฏุฑุงู ุฌุฒุฆุงุช ุขู ุฏุฑ ุญุงู ุญุงุถุฑ ูุจุงุดุฏ. ููุท ุจุฏุงูุฏ ฺฉู ููุดู ุจุงุฏ ููุน ุฑุง ูุดุฎุต ฺฉูุฏ.</p>
<p>ุซุงุจุชโูุง ูโุชูุงููุฏ ุฏุฑ ูุฑ ุฏุงูููโุงุ ุงุฒ ุฌููู ุฏุงูููโ ุฌูุงูุ ุชุนุฑู ุดููุฏุ ฺฉู ุงู ูฺฺฏ ุขููุง ุฑุง ุจุฑุง ููุงุฏุฑ ฺฉู ุจุฎุดโูุง ูุฎุชูู ฺฉุฏ ุจุงุฏ ุจุฏุงููุฏ ููุฏ ูโุณุงุฒุฏ.</p>
<p>ุขุฎุฑู ุชูุงูุช ุงู ุงุณุช ฺฉู ุซุงุจุชโูุง ููุท ูโุชูุงููุฏ ุจู ฺฉ ุนุจุงุฑุช ุซุงุจุช ุชูุธู ุดููุฏุ ูู ูุชุฌูโุง ฺฉู ููุท ูโุชูุงูุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุญุงุณุจู ุดูุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุงุฒ ุชุนุฑู ุซุงุจุช ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;
<span class="boring">}</span></code></pre></pre>
<p>ูุงู ุซุงุจุช <code>THREE_HOURS_IN_SECONDS</code> ุงุณุช ู ููุฏุงุฑ ุขู ุจุฑุงุจุฑ ุจุง ูุชุฌู ุถุฑุจ ถฐ (ุชุนุฏุงุฏ ุซุงููโูุง ุฏุฑ ฺฉ ุฏููู) ุฏุฑ ถฐ (ุชุนุฏุงุฏ ุฏูููโูุง ุฏุฑ ฺฉ ุณุงุนุช) ุฏุฑ ณ (ุชุนุฏุงุฏ ุณุงุนุชโูุง ฺฉู ูโุฎูุงูู ุฏุฑ ุงู ุจุฑูุงูู ุดูุงุฑุด ฺฉูู) ุชูุธู ุดุฏู ุงุณุช. ูุงููู ูุงูโฺฏุฐุงุฑ ุซุงุจุชโูุง ุฏุฑ Rust ุงุณุชูุงุฏู ุงุฒ ุญุฑูู ุจุฒุฑฺฏ ุจุง ุฎุท ุฒุฑ (_) ุจู ฺฉููุงุช ุงุณุช. ฺฉุงููพุงูุฑ ูุงุฏุฑ ุงุณุช ูุฌููุนู ูุญุฏูุฏ ุงุฒ ุนููุงุช ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงุฑุฒุงุจ ฺฉูุฏุ ฺฉู ุจู ูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ุชุง ุงู ููุฏุงุฑ ุฑุง ุจู ุตูุฑุช ุจููุณู ฺฉู ุขุณุงูโุชุฑ ูุงุจูโุฏุฑฺฉ ู ุจุฑุฑุณ ุจุงุดุฏุ ุจู ุฌุง ุชูุธู ุงู ุซุงุจุช ุจู ููุฏุงุฑ ฑฐุธฐฐ. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุงูฺฉู ฺู ุนููุงุชโูุง ูโุชูุงููุฏ ุฏุฑ ุฒูุงู ุชุนุฑู ุซุงุจุชโูุง ุงุณุชูุงุฏู ุดููุฏุ ุจู [ุจุฎุด ุงุฑุฒุงุจ ุซุงุจุชโูุง ุฏุฑ ูุฑุฌุน Rust][const-eval] ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุซุงุจุชโูุง ุจุฑุง ุชูุงู ูุฏุช ุงุฌุฑุง ฺฉ ุจุฑูุงููุ ุฏุฑ ุฏุงูููโุง ฺฉู ุฏุฑ ุขู ุชุนุฑู ุดุฏูโุงูุฏุ ูุนุชุจุฑ ูุณุชูุฏ. ุงู ูฺฺฏุ ุซุงุจุชโูุง ุฑุง ุจุฑุง ููุงุฏุฑ ููุฌูุฏ ุฏุฑ ุฏุงููู ุจุฑูุงูู ุดูุง ฺฉู ููฺฉู ุงุณุช ุจุฎุดโูุง ูุฎุชูู ุจุฑูุงูู ูุงุฒ ุจู ุฏุงูุณุชู ุขููุง ุฏุงุดุชู ุจุงุดูุฏุ ูุงููุฏ ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ุงูุชุงุฒุงุช ฺฉู ูุฑ ุจุงุฒฺฉู ฺฉ ุจุงุฒ ูโุชูุงูุฏ ฺฉุณุจ ฺฉูุฏ ุง ุณุฑุนุช ููุฑุ ููุฏ ูโุณุงุฒุฏ.</p>
<p>ูุงูโฺฏุฐุงุฑ ููุงุฏุฑ ุซุงุจุช ุฏุฑ ุณุฑุงุณุฑ ุจุฑูุงูู ุดูุง ุจู ุนููุงู ุซุงุจุชโูุงุ ุฏุฑ ุงูุชูุงู ูุนู ุขู ููุฏุงุฑ ุจู ูฺฏูุฏุงุฑูุฏฺฏุงู ุขูุฏู ฺฉุฏ ุดูุง ููุฏ ุงุณุช. ููฺูู ุงู ฺฉูฺฉ ูโฺฉูุฏ ฺฉู ููุท ฺฉ ูฺฉุงู ุฏุฑ ฺฉุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงฺฏุฑ ููุฏุงุฑ ุซุงุจุช ูุงุฒ ุจู ุจูโุฑูุฒุฑุณุงู ุฏุงุดุชุ ุจุงุฏ ุชุบุฑ ฺฉูุฏ.</p>
<h3 id="shadowing"><a class="header" href="#shadowing">Shadowing</a></h3>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ุขููุฒุด ุจุงุฒ ุญุฏุณ ุฒุฏู ุฏุฑ [ูุตู ฒ][comparing-the-guess-to-the-secret-number]<!-- ignore --> ุฏุฏุฏุ ุดูุง ูโุชูุงูุฏ ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจุง ููุงู ูุงู ูุชุบุฑ ูุจู ุชุนุฑู ฺฉูุฏ. Rustaceanูุง ูโฺฏููุฏ ฺฉู ูุชุบุฑ ุงูู ุชูุณุท ูุชุบุฑ ุฏูู <em>ุณุงู ุงูุฏุงุฎุชู ุดุฏู ุงุณุช</em>ุ ุจู ุงู ูุนูุง ฺฉู ูุชุบุฑ ุฏูู ฺุฒ ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ููุช ุงุฒ ูุงู ูุชุบุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ ูโุจูุฏ. ุฏุฑ ูุงูุนุ ูุชุบุฑ ุฏูู ูุชุบุฑ ุงูู ุฑุง ุชุญุชโุงูุดุนุงุน ูุฑุงุฑ ูโุฏูุฏุ ุงุณุชูุงุฏูโูุง ูุฑุจูุท ุจู ูุงู ูุชุบุฑ ุฑุง ุจู ุฎูุฏ ุงุฎุชุตุงุต ูโุฏูุฏ ุชุง ุฒูุงู ฺฉู ุง ุฎูุฏุด ุชุญุชโุงูุดุนุงุน ูุฑุงุฑ ุจฺฏุฑุฏ ุง ุฏุงููู ุชูุงู ุดูุฏ. ูุง ูโุชูุงูู ฺฉ ูุชุบุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุงู ูุงู ูุชุบุฑ ู ุชฺฉุฑุงุฑ ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุงฺู <code>let</code> ุจู ุดุฑุญ ุฒุฑ ุณุงูโุงูุฏุงุฒ ฺฉูู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;

    let x = x + 1;

    {
        let x = x * 2;
        println!("The value of x in the inner scope is: {x}");
    }

    println!("The value of x is: {x}");
}</code></pre></pre>
<p>ุงู ุจุฑูุงูู ุงุจุชุฏุง <code>x</code> ุฑุง ุจู ููุฏุงุฑ <code>ต</code> ูุชุตู ูโฺฉูุฏ. ุณูพุณ ฺฉ ูุชุบุฑ ุฌุฏุฏ <code>x</code> ุจุง ุชฺฉุฑุงุฑ <code>let x =</code> ุงุฌุงุฏ ูโฺฉูุฏ ู ููุฏุงุฑ ุงุตู ุฑุง ูโฺฏุฑุฏ ู <code>ฑ</code> ุงุถุงูู ูโฺฉูุฏุ ุจูุงุจุฑุงู ููุฏุงุฑ <code>x</code> ุจู <code>ถ</code> ุชุบุฑ ูโฺฉูุฏ. ุณูพุณุ ุฏุฑ ฺฉ ุฏุงููู ุฏุงุฎู ฺฉู ุจุง ุขฺฉููุงุฏูุง ุงุฌุงุฏ ุดุฏู ุงุณุชุ ุนุจุงุฑุช ุณูู <code>let</code> ูุฒ <code>x</code> ุฑุง ุณุงูโุงูุฏุงุฒ ูโฺฉูุฏ ู ฺฉ ูุชุบุฑ ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ููุฏุงุฑ ูุจู ุฑุง ุฏุฑ <code>ฒ</code> ุถุฑุจ ูโฺฉูุฏ ู ุจู <code>x</code> ููุฏุงุฑ <code>ฑฒ</code> ูโุฏูุฏ. ููุช ุขู ุฏุงููู ุชูุงู ูโุดูุฏุ ุณุงูโุงูุฏุงุฒ ุฏุงุฎู ูพุงุงู ูโุงุจุฏ ู <code>x</code> ุจู ููุฏุงุฑ <code>ถ</code> ุจุงุฒูโฺฏุฑุฏุฏ. ููุช ุงู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/variables`
The value of x in the inner scope is: 12
The value of x is: 6
</code></pre>
<p>ุณุงูโุงูุฏุงุฒ ุจุง ุนูุงูุชโฺฏุฐุงุฑ ูุชุบุฑ ุจูโุนููุงู <code>mut</code> ูุชูุงูุช ุงุณุชุ ุฒุฑุง ุงฺฏุฑ ุจู ุทูุฑ ุชุตุงุฏู ุณุน ฺฉูุฏ ุจู ุงู ูุชุบุฑ ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุงฺู <code>let</code> ููุฏุงุฑ ุฌุฏุฏ ุชุฎุตุต ุฏูุฏุ ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุฏุฑุงูุช ูโฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ <code>let</code>ุ ูุง ูโุชูุงูู ฺูุฏ ุชุจุฏู ุฑู ฺฉ ููุฏุงุฑ ุงูุฌุงู ุฏููุ ุงูุง ูุชุบุฑ ุจุนุฏ ุงุฒ ุงุชูุงู ุงู ุชุจุฏูโูุง ุบุฑูุงุจู ุชุบุฑ ุจุงู ูโูุงูุฏ.</p>
<p>ุชูุงูุช ุฏฺฏุฑ ุจู <code>mut</code> ู ุณุงูโุงูุฏุงุฒ ุงู ุงุณุช ฺฉู ุจู ุฏูู ุงูฺฉู ูุง ุนููุงู ฺฉ ูุชุบุฑ ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูู ููุช ุฏูุจุงุฑู ุงุฒ ฺฉูุฏูุงฺู <code>let</code> ุงุณุชูุงุฏู ูโฺฉููุ ูโุชูุงูู ููุน ููุฏุงุฑ ุฑุง ุชุบุฑ ุฏูู ุงูุง ููุงู ูุงู ุฑุง ุฏูุจุงุฑู ุงุณุชูุงุฏู ฺฉูู. ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ุจุฑูุงูู ูุง ุงุฒ ฺฉ ฺฉุงุฑุจุฑ ูโุฎูุงูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉู ฺูุฏ ูุงุตูู ูโุฎูุงูุฏ ุจู ูุชูโูุง ุฎุงุต ุฏุงุดุชู ุจุงุดุฏ ุจุง ูุงุฑุฏ ฺฉุฑุฏู ฺฉุงุฑุงฺฉุชุฑูุง ูุงุตููุ ู ุณูพุณ ูโุฎูุงูู ุขู ูุฑูุฏ ุฑุง ุจูโุนููุงู ฺฉ ุนุฏุฏ ุฐุฎุฑู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let spaces = "   ";
    let spaces = spaces.len();
<span class="boring">}</span></code></pre></pre>
<p>ุงููู ูุชุบุฑ <code>spaces</code> ฺฉ ููุน ุฑุดุชู ุงุณุช ู ุฏููู ูุชุบุฑ <code>spaces</code> ฺฉ ููุน ุนุฏุฏ ุงุณุช. ุณุงูโุงูุฏุงุฒ ุฏุฑ ูุชุฌู ูุง ุฑุง ุงุฒ ูุงุฒ ุจู ุงูุชู ูุงูโูุง ูุฎุชููุ ูุงููุฏ <code>spaces_str</code> ู <code>spaces_num</code> ูุฌุงุช ูโุฏูุฏ. ุจู ุฌุง ุขูุ ูโุชูุงูู ุงุฒ ูุงู ุณุงุฏูโุชุฑ <code>spaces</code> ุงุณุชูุงุฏู ฺฉูู. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุณุน ฺฉูู ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ <code>mut</code> ุงุณุชูุงุฏู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let mut spaces = "   ";
    spaces = spaces.len();
<span class="boring">}</span></code></pre>
<p>ุฎุทุง ูโฺฏูุฏ ฺฉู ูุฌุงุฒ ูุณุชู ููุน ูุชุบุฑ ุฑุง ุชุบุฑ ุฏูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
error[E0308]: mismatched types
 --&gt; src/main.rs:3:14
  |
2 |     let mut spaces = "   ";
  |                      ----- expected due to this value
3 |     spaces = spaces.len();
  |              ^^^^^^^^^^^^ expected `&amp;str`, found `usize`

For more information about this error, try `rustc --explain E0308`.
error: could not compile `variables` (bin "variables") due to 1 previous error
</code></pre>
<p>ุญุงู ฺฉู ุจุฑุฑุณ ฺฉุฑุฏู ูุชุบุฑูุง ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏุ ุจุงุฏ ูฺฏุงู ุจู ุงููุงุน ุฏุงุฏูโูุง ุจุดุชุฑ ุจูุฏุงุฒู ฺฉู ูุชุบุฑูุง ูโุชูุงููุฏ ุฏุงุดุชู ุจุงุดูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงููุงุน-ุฏุงุฏููุง"><a class="header" href="#ุงููุงุน-ุฏุงุฏููุง">ุงููุงุน ุฏุงุฏูโูุง</a></h2>
<p>ูุฑ ููุฏุงุฑ ุฏุฑ ุฒุจุงู ุฑุงุณุช ููุน ุฎุงุต ุงุฒ <em>ุฏุงุฏู</em> ุฑุง ุฏุงุฑุฏ ฺฉู ุจู ุฑุงุณุช ูโฺฏูุฏ ฺู ููุน ุฏุงุฏูโุง ูุดุฎุต ุดุฏู ุงุณุช ุชุง ุจุฏุงูุฏ ฺฺฏููู ุจุง ุขู ุฏุงุฏู ฺฉุงุฑ ฺฉูุฏ. ูุง ุจู ุฏู ุฒุฑูุฌููุนู ุงุฒ ุงููุงุน ุฏุงุฏู ูฺฏุงู ุฎูุงูู ฺฉุฑุฏ: ุงููุงุน ุณุงุฏู ู ุชุฑฺฉุจ.</p>
<p>ุจู ุฎุงุทุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฑุงุณุช ฺฉ ุฒุจุงู <em>ุงุณุชุง-ุชุงูพ</em> ุงุณุชุ ุจู ุงู ูุนูุง ฺฉู ุจุงุฏ ููุน ุชูุงู ูุชุบุฑูุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุดุฎุต ุจุงุดุฏ. ฺฉุงููพุงูุฑ ูุนูููุงู ูโุชูุงูุฏ ุจุฑ ุงุณุงุณ ููุฏุงุฑ ู ูุญูู ุงุณุชูุงุฏู ุงุฒ ุขูุ ููุน ููุฑุฏ ูุธุฑ ูุง ุฑุง ุญุฏุณ ุจุฒูุฏ. ุฏุฑ ููุงุฑุฏ ฺฉู ุงููุงุน ูุชุนุฏุฏ ููฺฉู ุงุณุชุ ูุงููุฏ ุฒูุงู ฺฉู ฺฉ <code>String</code> ุฑุง ุจู ููุน ุนุฏุฏ ุชุจุฏู ฺฉุฑุฏู ุฏุฑ ุจุฎุด <a href="ch02-00-guessing-game-tutorial.html#comparing-the-guess-to-the-secret-number">โููุงุณู ุญุฏุณ ุจุง ุนุฏุฏ ูุฎูโ</a><!-- ignore --> ุฏุฑ ูุตู 2ุ ุจุงุฏ ฺฉ ุชุนุฑู ููุน ุงุถุงูู ฺฉููุ ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let guess: u32 = "42".parse().expect("Not a number!");
<span class="boring">}</span></code></pre></pre>
<p>ุงฺฏุฑ ุชุนุฑู ููุน <code>: u32</code> ุฑุง ฺฉู ุฏุฑ ฺฉุฏ ุจุงูุง ุขูุฏู ุงุณุช ุงุถุงูู ูฺฉููุ ุฑุงุณุช ุฎุทุง ุฒุฑ ุฑุง ููุงุด ูโุฏูุฏุ ฺฉู ุจู ูุนูุง ุงู ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ุจู ุงุทูุงุนุงุช ุจุดุชุฑ ุงุฒ ูุง ูุงุฒ ุฏุงุฑุฏ ุชุง ุจุฏุงูุฏ ฺฉุฏุงู ููุน ุฑุง ูโุฎูุงูู ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><code class="language-console">$ cargo build
   Compiling no_type_annotations v0.1.0 (file:///projects/no_type_annotations)
error[E0284]: type annotations needed
 --&gt; src/main.rs:2:9
  |
2 |     let guess = "42".parse().expect("Not a number!");
  |         ^^^^^        ----- type must be known at this point
  |
  = note: cannot satisfy `&lt;_ as FromStr&gt;::Err == _`
help: consider giving `guess` an explicit type
  |
2 |     let guess: /* Type */ = "42".parse().expect("Not a number!");
  |              ++++++++++++

For more information about this error, try `rustc --explain E0284`.
error: could not compile `no_type_annotations` (bin "no_type_annotations") due to 1 previous error
</code></pre>
<p>ุดูุง ุชุนุฑูโูุง ููุน ูุฎุชูู ุจุฑุง ุงููุงุน ุฏุงุฏูโูุง ุฏฺฏุฑ ุฎูุงูุฏ ุฏุฏ.</p>
<h3 id="ุงููุงุน-ุณุงุฏู"><a class="header" href="#ุงููุงุน-ุณุงุฏู">ุงููุงุน ุณุงุฏู</a></h3>
<p>ฺฉ ููุน <em>ุณุงุฏู</em> ููุงุงูฺฏุฑ ฺฉ ููุฏุงุฑ ูุงุญุฏ ุงุณุช. ุฑุงุณุช ฺูุงุฑ ููุน ุณุงุฏู ุงุตู ุฏุงุฑุฏ: ุงุนุฏุงุฏ ุตุญุญุ ุงุนุฏุงุฏ ุงุนุดุงุฑุ ุจูููโูุง ู ฺฉุงุฑุงฺฉุชุฑูุง. ููฺฉู ุงุณุช ุงูโูุง ุฑุง ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑ ุจุดูุงุณุฏ. ุจุงุฏ ุจุจูู ฺฺฏููู ุฏุฑ ุฑุงุณุช ฺฉุงุฑ ูโฺฉููุฏ.</p>
<h4 id="ุงููุงุน-ุงุนุฏุงุฏ-ุตุญุญ"><a class="header" href="#ุงููุงุน-ุงุนุฏุงุฏ-ุตุญุญ">ุงููุงุน ุงุนุฏุงุฏ ุตุญุญ</a></h4>
<p>ฺฉ <em>ุนุฏุฏ ุตุญุญ</em> ุนุฏุฏ ุจุฏูู ุฌุฒุก ุงุนุดุงุฑ ุงุณุช. ูุง ุฏุฑ ูุตู 2 ุงุฒ ฺฉ ููุน ุนุฏุฏ ุตุญุญ ุจู ูุงู <code>u32</code> ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงู ุชุนุฑู ููุน ูุดุงู ูโุฏูุฏ ฺฉู ููุฏุงุฑ ูุฑุชุจุท ุจุงุฏ ฺฉ ุนุฏุฏ ุตุญุญ ุจุฏูู ุนูุงูุช (ุงููุงุน ุงุนุฏุงุฏ ุตุญุญ ุจุง ุนูุงูุช ุจุง <code>i</code> ุจู ุฌุง <code>u</code> ุดุฑูุน ูโุดููุฏ) ุจุงุดุฏ ฺฉู 32 ุจุช ูุถุง ุงุดุบุงู ูโฺฉูุฏ. ุฌุฏูู 3-1 ุงููุงุน ุงุนุฏุงุฏ ุตุญุญ ุณุงุฎุชู ุดุฏู ุฏุฑ ุฑุงุณุช ุฑุง ูุดุงู ูโุฏูุฏ. ูุง ูโุชูุงูู ุงุฒ ูุฑ ฺฉ ุงุฒ ุงู ุญุงูุชโูุง ุจุฑุง ุชุนุฑู ููุน ฺฉ ููุฏุงุฑ ุนุฏุฏ ุตุญุญ ุงุณุชูุงุฏู ฺฉูู.</p>
<p><span class="caption">ุฌุฏูู 3-1: ุงููุงุน ุงุนุฏุงุฏ ุตุญุญ ุฏุฑ ุฑุงุณุช</span></p>
<div class="table-wrapper"><table><thead><tr><th>ุทูู</th><th>ุจุง ุนูุงูุช</th><th>ุจุฏูู ุนูุงูุช</th></tr></thead><tbody>
<tr><td>8 ุจุช</td><td><code>i8</code></td><td><code>u8</code></td></tr>
<tr><td>16 ุจุช</td><td><code>i16</code></td><td><code>u16</code></td></tr>
<tr><td>32 ุจุช</td><td><code>i32</code></td><td><code>u32</code></td></tr>
<tr><td>64 ุจุช</td><td><code>i64</code></td><td><code>u64</code></td></tr>
<tr><td>128 ุจุช</td><td><code>i128</code></td><td><code>u128</code></td></tr>
<tr><td>ูุนูุงุฑ</td><td><code>isize</code></td><td><code>usize</code></td></tr>
</tbody></table>
</div>
<p>ูุฑ ุญุงูุช ูโุชูุงูุฏ ุง ุจุง ุนูุงูุช ุง ุจุฏูู ุนูุงูุช ุจุงุดุฏ ู ุงูุฏุงุฒู ุตุฑุญ ุฏุงุฑุฏ. <em>ุจุง ุนูุงูุช</em> ู <em>ุจุฏูู ุนูุงูุช</em> ุจู ุงู ุงุดุงุฑู ุฏุงุฑูุฏ ฺฉู ุขุง ููฺฉู ุงุณุช ุนุฏุฏ ููู ุจุงุดุฏ ุง ุฎุฑุ ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุขุง ุนุฏุฏ ูุงุฒ ุจู ุนูุงูุช ุฏุงุฑุฏ (ุจุง ุนูุงูุช) ุง ุงูฺฉู ููุท ูุซุจุช ุฎูุงูุฏ ุจูุฏ ู ุจูุงุจุฑุงู ูโุชูุงู ุขู ุฑุง ุจุฏูู ุนูุงูุช ูุดุงู ุฏุงุฏ (ุจุฏูู ุนูุงูุช). ุงู ุดุจู ุจู ููุดุชู ุงุนุฏุงุฏ ุฑู ฺฉุงุบุฐ ุงุณุช: ููุช ุนูุงูุช ููู ุจุงุดุฏุ ุนุฏุฏ ุจุง ุนูุงูุช ูุซุจุช ุง ููู ูุดุงู ุฏุงุฏู ูโุดูุฏุ ุงูุง ููุช ูุฑุถ ูุซุจุช ุจูุฏู ุนุฏุฏ ุงูู ุจุงุดุฏุ ุจุฏูู ุนูุงูุช ูุดุงู ุฏุงุฏู ูโุดูุฏ. ุงุนุฏุงุฏ ุจุง ุนูุงูุช ุจุง ุงุณุชูุงุฏู ุงุฒ ููุงุด <a href="https://en.wikipedia.org/wiki/Two%27s_complement">ุฏู ูฺฉูู</a><!-- ignore --> ุฐุฎุฑู ูโุดููุฏ.</p>
<p>ูุฑ ุญุงูุช ุจุง ุนูุงูุช ูโุชูุงูุฏ ุงุนุฏุงุฏ ุฑุง ุงุฒ -(2<sup>n - 1</sup>) ุชุง 2<sup>n - 1</sup> - 1 ุดุงูู ุดูุฏุ ุฌุง ฺฉู <em>n</em> ุชุนุฏุงุฏ ุจุชโูุง ุงุณุช ฺฉู ุขู ุญุงูุช ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจูุงุจุฑุงู ฺฉ <code>i8</code> ูโุชูุงูุฏ ุงุนุฏุงุฏ ุฑุง ุงุฒ -(2<sup>7</sup>) ุชุง 2<sup>7</sup> - 1 ุฐุฎุฑู ฺฉูุฏุ ฺฉู ุจุฑุงุจุฑ ุงุณุช ุจุง -128 ุชุง 127. ุญุงูุชโูุง ุจุฏูู ุนูุงูุช ูโุชูุงููุฏ ุงุนุฏุงุฏ ุฑุง ุงุฒ 0 ุชุง 2<sup>n</sup> - 1 ุฐุฎุฑู ฺฉููุฏุ ุจูุงุจุฑุงู ฺฉ <code>u8</code> ูโุชูุงูุฏ ุงุนุฏุงุฏ ุฑุง ุงุฒ 0 ุชุง 2<sup>8</sup> - 1 ุฐุฎุฑู ฺฉูุฏุ ฺฉู ุจุฑุงุจุฑ ุงุณุช ุจุง 0 ุชุง 255.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ููุนโูุง <code>isize</code> ู <code>usize</code> ุจู ูุนูุงุฑ ุฑุงุงููโุง ฺฉู ุจุฑูุงูู ุดูุง ุฑู ุขู ุงุฌุฑุง ูโุดูุฏ ุจุณุชฺฏ ุฏุงุฑูุฏุ ฺฉู ุฏุฑ ุฌุฏูู ุจู ุนููุงู โูุนูุงุฑโ ูุดุฎุต ุดุฏู ุงุณุช: 64 ุจุช ุงฺฏุฑ ุฑู ูุนูุงุฑ 64 ุจุช ุจุงุดุฏ ู 32 ุจุช ุงฺฏุฑ ุฑู ูุนูุงุฑ 32 ุจุช ุจุงุดุฏ.</p>
<p>ุดูุง ูโุชูุงูุฏ ุงุนุฏุงุฏ ุตุญุญ ุฑุง ุจู ูุฑ ฺฉ ุงุฒ ุงุดฺฉุงู ูุดุงู ุฏุงุฏู ุดุฏู ุฏุฑ ุฌุฏูู 3-2 ุจููุณุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุนุฏุฏูุง ฺฉู ูโุชูุงููุฏ ุจู ฺูุฏู ููุน ุนุฏุฏ ุชุจุฏู ุดููุฏุ ฺฉ ูพุณููุฏ ููุน ุฏุงุฑูุฏุ ูุงููุฏ <code>57u8</code>ุ ุจุฑุง ุชุนู ููุน. ุงุนุฏุงุฏ ููฺูู ูโุชูุงููุฏ ุงุฒ <code>_</code> ุจู ุนููุงู ุฌุฏุงฺฉููุฏู ุจุตุฑ ุจุฑุง ุฎูุงูุงุชุฑ ฺฉุฑุฏู ุงุณุชูุงุฏู ฺฉููุฏุ ูุงููุฏ <code>1_000</code>ุ ฺฉู ููุงู ููุฏุงุฑ <code>1000</code> ุฑุง ุฏุงุฑุฏ.</p>
<p><span class="caption">ุฌุฏูู 3-2: ููุงุด ุงุนุฏุงุฏ ุตุญุญ ุฏุฑ ุฑุงุณุช</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุน ุงุนุฏุงุฏ</th><th>ูุซุงู</th></tr></thead><tbody>
<tr><td>ุฏูุฏู</td><td><code>98_222</code></td></tr>
<tr><td>ูฺฏุฒุงุฏุณูุงู</td><td><code>0xff</code></td></tr>
<tr><td>ุงฺฉุชุงู</td><td><code>0o77</code></td></tr>
<tr><td>ุจุงูุฑ</td><td><code>0b1111_0000</code></td></tr>
<tr><td>ุจุงุช (ููุท <code>u8</code>)</td><td><code>b'A'</code></td></tr>
</tbody></table>
</div>
<p>ุญุงู ฺฺฏููู ูโุฏุงูุฏ ฺฉู ุงุฒ ฺฉุฏุงู ููุน ุนุฏุฏ ุตุญุญ ุงุณุชูุงุฏู ฺฉูุฏุ ุงฺฏุฑ ูุทูุฆู ูุณุชุฏุ ููุงุฏุฑ ูพุดโูุฑุถ ุฑุงุณุช ูุนูููุงู ูฺฉุงู ุฎูุจ ุจุฑุง ุดุฑูุน ูุณุชูุฏ: ููุนโูุง ุนุฏุฏ ุตุญุญ ูพุดโูุฑุถ ุจู <code>i32</code> ุชุจุฏู ูโุดููุฏ. ูุถุนุช ุงุตู ฺฉู ุฏุฑ ุขู ููฺฉู ุงุณุช ุงุฒ <code>isize</code> ุง <code>usize</code> ุงุณุชูุงุฏู ฺฉูุฏ ุฒูุงู ุงุณุช ฺฉู ูโุฎูุงูุฏ ุจู ฺฉ ููุน ูุฌููุนู ุงุดุงุฑู ฺฉูุฏ.</p>
<section class="note" aria-role="note">
<h5 id="ุณุฑุฑุฒ-ุนุฏุฏ-ุตุญุญ"><a class="header" href="#ุณุฑุฑุฒ-ุนุฏุฏ-ุตุญุญ">ุณุฑุฑุฒ ุนุฏุฏ ุตุญุญ</a></h5>
<p>ูุฑุถ ฺฉูุฏ ฺฉ ูุชุบุฑ ุงุฒ ููุน <code>u8</code> ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ููุงุฏุฑ ุจู 0 ู 255 ุฑุง ูฺฏู ุฏุงุฑุฏ. ุงฺฏุฑ ุชูุงุด ฺฉูุฏ ููุฏุงุฑ ูุชุบุฑ ุฑุง ุจู ุนุฏุฏ ุฎุงุฑุฌ ุงุฒ ุงู ุจุงุฒูุ ูุงููุฏ 256ุ ุชุบุฑ ุฏูุฏุ <em>ุณุฑุฑุฒ ุนุฏุฏ ุตุญุญ</em> ุฑุฎ ุฎูุงูุฏ ุฏุงุฏ ฺฉู ูโุชูุงูุฏ ููุฌุฑ ุจู ฺฉ ุงุฒ ุฏู ุฑูุชุงุฑ ุดูุฏ. ููุช ุจุฑูุงูู ุฎูุฏ ุฑุง ุฏุฑ ุญุงูุช ุฏุจุงฺฏ ฺฉุงููพุงู ูโฺฉูุฏุ ุฑุงุณุช ุดุงูู ุจุฑุฑุณโูุง ุจุฑุง ุณุฑุฑุฒ ุนุฏุฏ ุตุญุญ ุงุณุช ฺฉู ุจุงุนุซ ูโุดูุฏ ุจุฑูุงูู ุดูุง ุฏุฑ ุฒูุงู ุงุฌุฑุง <em>ูพุงูฺฉ</em> ฺฉูุฏ ุงฺฏุฑ ุงู ุฑูุชุงุฑ ุฑุฎ ุฏูุฏ. ุฑุงุณุช ุงุฒ ุงุตุทูุงุญ <em>ูพุงูฺฉ ฺฉุฑุฏู</em> ุฒูุงู ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุจุฑูุงูู ุจุง ฺฉ ุฎุทุง ุฎุงุฑุฌ ุดูุฏุ ูุง ุฏุฑ ุจุฎุด <a href="ch09-01-unrecoverable-errors-with-panic.html">โุฎุทุงูุง ุบุฑูุงุจู ุจุงุฒุงุจ ุจุง <code>panic!</code>โ</a><!-- ignore --> ุฏุฑ ูุตู 9 ุจู ุทูุฑ ุนููโุชุฑ ุฏุฑุจุงุฑู ูพุงูฺฉโูุง ุจุญุซ ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ููุช ุจุฑูุงูู ุฎูุฏ ุฑุง ุฏุฑ ุญุงูุช ุงูุชุดุงุฑ ุจุง ูพุฑฺู <code>--release</code> ฺฉุงููพุงู ูโฺฉูุฏุ ุฑุงุณุช ุงู ุจุฑุฑุณโูุง ุฑุง ุจุฑุง ุณุฑุฑุฒ ุนุฏุฏ ุตุญุญ ุดุงูู ููโุดูุฏ. ุฏุฑ ุนูุถุ ุงฺฏุฑ ุณุฑุฑุฒ ุฑุฎ ุฏูุฏุ ุฑุงุณุช ุงุฒ <em>ุฏู ูฺฉูู ุจุณุชูโุจูุฏ</em> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจู ุทูุฑ ุฎูุงุตูุ ููุงุฏุฑ ุจุฒุฑฺฏุชุฑ ุงุฒ ุญุฏุงฺฉุซุฑ ููุฏุงุฑ ฺฉู ููุน ูโุชูุงูุฏ ูฺฏู ุฏุงุฑุฏ ุจู โุญุฏุงูู ููุงุฏุฑโ ุจุงุฒู ููุน ุจุณุชูโุจูุฏ ูโุดููุฏ. ุฏุฑ ููุฑุฏ ฺฉ <code>u8</code>ุ ููุฏุงุฑ 256 ุจู 0 ุชุจุฏู ูโุดูุฏุ ููุฏุงุฑ 257 ุจู 1 ู ุบุฑู. ุจุฑูุงูู ูพุงูฺฉ ูุฎูุงูุฏ ฺฉุฑุฏุ ุงูุง ูุชุบุฑ ููุฏุงุฑ ูุชูุงูุช ูุณุจุช ุจู ุขูฺู ุงูุชุธุงุฑ ูโุฑูุช ุฎูุงูุฏ ุฏุงุดุช. ุงุนุชูุงุฏ ุจู ุฑูุชุงุฑ ุจุณุชูโุจูุฏ ุณุฑุฑุฒ ุนุฏุฏ ุตุญุญ ฺฉ ุฎุทุง ูุญุณูุจ ูโุดูุฏ.</p>
<p>ุจุฑุง ูุฏุฑุช ุตุฑุญ ุงูฺฉุงู ุณุฑุฑุฒุ ูโุชูุงูุฏ ุงุฒ ุงู ุฎุงููุงุฏูโูุง ุฑูุดโูุง ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ููุนโูุง ุนุฏุฏ ุงููู ุงุฑุงุฆู ุดุฏูโุงูุฏ:</p>
<ul>
<li>ุจุณุชูโุจูุฏ ุฏุฑ ููู ุญุงูุชโูุง ุจุง ุฑูุดโูุง <code>wrapping_*</code>ุ ูุงููุฏ <code>wrapping_add</code>.</li>
<li>ุจุงุฒฺฏุฑุฏุงูุฏู ููุฏุงุฑ <code>None</code> ุงฺฏุฑ ุณุฑุฑุฒ ุฑุฎ ุฏูุฏ ุจุง ุฑูุดโูุง <code>checked_*</code>.</li>
<li>ุจุงุฒฺฏุฑุฏุงูุฏู ููุฏุงุฑ ู ฺฉ ุจููู ฺฉู ูุดุงูโุฏููุฏู ุณุฑุฑุฒ ุงุณุช ุจุง ุฑูุดโูุง <code>overflowing_*</code>.</li>
<li>ุงุดุจุงุน ุฏุฑ ููุงุฏุฑ ุญุฏุงูู ุง ุญุฏุงฺฉุซุฑ ููุฏุงุฑ ููุน ุจุง ุฑูุดโูุง <code>saturating_*</code>.</li>
</ul>
</section>
<h4 id="ุงููุงุน-ุงุนุฏุงุฏ-ุงุนุดุงุฑ"><a class="header" href="#ุงููุงุน-ุงุนุฏุงุฏ-ุงุนุดุงุฑ">ุงููุงุน ุงุนุฏุงุฏ ุงุนุดุงุฑ</a></h4>
<p>ุฑุงุณุช ููฺูู ุฏู ููุน ุงููู ุจุฑุง <em>ุงุนุฏุงุฏ ุงุนุดุงุฑ</em> ุฏุงุฑุฏุ ฺฉู ุงุนุฏุงุฏ ุจุง ููุทู ุงุนุดุงุฑ ูุณุชูุฏ. ููุนโูุง ุงุนุดุงุฑ ุฑุงุณุช <code>f32</code> ู <code>f64</code> ูุณุชูุฏ ฺฉู ุจู ุชุฑุชุจ 32 ุจุช ู 64 ุจุช ุงูุฏุงุฒู ุฏุงุฑูุฏ. ููุน ูพุดโูุฑุถ <code>f64</code> ุงุณุช ุฒุฑุง ุฑู CPUูุง ูุฏุฑูุ ุณุฑุนุช ุขู ุชูุฑุจุงู ูุดุงุจู <code>f32</code> ุงุณุช ุงูุง ุฏูุช ุจุดุชุฑ ุฏุงุฑุฏ. ููู ููุนโูุง ุงุนุดุงุฑ ุนูุงูุชโุฏุงุฑ ูุณุชูุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ูุซุงู ฺฉู ุงุนุฏุงุฏ ุงุนุดุงุฑ ุฑุง ุฏุฑ ุนูู ูุดุงู ูโุฏูุฏ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 2.0; // f64

    let y: f32 = 3.0; // f32
}</code></pre></pre>
<p>ุงุนุฏุงุฏ ุงุนุดุงุฑ ุทุจู ุงุณุชุงูุฏุงุฑุฏ IEEE-754 ููุงุด ุฏุงุฏู ูโุดููุฏ.</p>
<h4 id="ุนููุงุช-ุนุฏุฏ"><a class="header" href="#ุนููุงุช-ุนุฏุฏ">ุนููุงุช ุนุฏุฏ</a></h4>
<p>ุฑุงุณุช ุงุฒ ุนููุงุช ุฑุงุถ ูพุงูโุง ฺฉู ุจุฑุง ุชูุงู ุงููุงุน ุนุฏุฏ ุงูุชุธุงุฑ ุฏุงุฑุฏ ูพุดุชุจุงู ูโฺฉูุฏ: ุฌูุนุ ุชูุฑูุ ุถุฑุจุ ุชูุณู ู ุจุงูโูุงูุฏู. ุชูุณู ุงุนุฏุงุฏ ุตุญุญ ุจู ูุฒุฏฺฉโุชุฑู ุนุฏุฏ ุตุญุญ ุจู ุณูุช ุตูุฑ ฺฏุฑุฏ ูโุดูุฏ. ฺฉุฏ ุฒุฑ ูุดุงู ูโุฏูุฏ ฺฺฏููู ูโุชูุงูุฏ ุงุฒ ูุฑ ุนููุงุช ุนุฏุฏ ุฏุฑ ฺฉ ุนุจุงุฑุช <code>let</code> ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    // addition
    let sum = 5 + 10;

    // subtraction
    let difference = 95.5 - 4.3;

    // multiplication
    let product = 4 * 30;

    // division
    let quotient = 56.7 / 32.2;
    let truncated = -5 / 3; // Results in -1

    // remainder
    let remainder = 43 % 5;
}</code></pre></pre>
<p>ูุฑ ุนุจุงุฑุช ุฏุฑ ุงู ุฏุณุชูุฑุงุช ุงุฒ ฺฉ ุนููฺฏุฑ ุฑุงุถ ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุจู ฺฉ ููุฏุงุฑ ูุงุญุฏ ุงุฑุฒุงุจ ูโุดูุฏุ ฺฉู ุณูพุณ ุจู ฺฉ ูุชุบุฑ ูุชุตู ูโุดูุฏ. <a href="appendix-02-operators.html">ุถููู ุจ</a><!-- ignore --> ุดุงูู ูุณุช ุงุฒ ุชูุงู ุนููฺฏุฑูุง ุงุณุช ฺฉู ุฑุงุณุช ูุฑุงูู ูโฺฉูุฏ.</p>
<h4 id="ููุน-ุจููู"><a class="header" href="#ููุน-ุจููู">ููุน ุจููู</a></h4>
<p>ูุงููุฏ ุงฺฉุซุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑุ ููุน ุจููู ุฏุฑ ุฑุงุณุช ุฏู ููุฏุงุฑ ููฺฉู ุฏุงุฑุฏ: <code>true</code> ู <code>false</code>. ููุน ุจููู ุฏุฑ ุฑุงุณุช ฺฉ ุจุงุช ุงูุฏุงุฒู ุฏุงุฑุฏ. ููุน ุจููู ุฏุฑ ุฑุงุณุช ุจุง ุงุณุชูุงุฏู ุงุฒ <code>bool</code> ูุดุฎุต ูโุดูุฏ. ุจุฑุง ูุซุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let t = true;

    let f: bool = false; // with explicit type annotation
}</code></pre></pre>
<p>ุฑุงู ุงุตู ุงุณุชูุงุฏู ุงุฒ ููุงุฏุฑ ุจููู ุงุฒ ุทุฑู ุนุจุงุฑุงุช ุดุฑุทุ ูุงููุฏ ุนุจุงุฑุช <code>if</code> ุงุณุช. ูุง ุฏุฑ ุจุฎุด <a href="ch03-05-control-flow.html#control-flow">โุฌุฑุงู ฺฉูุชุฑูโ</a><!-- ignore --> ุชูุถุญ ูโุฏูู ฺฉู ฺฺฏููู ุนุจุงุฑุงุช <code>if</code> ุฏุฑ ุฑุงุณุช ฺฉุงุฑ ูโฺฉููุฏ.</p>
<h4 id="ููุน-ฺฉุงุฑุงฺฉุชุฑ"><a class="header" href="#ููุน-ฺฉุงุฑุงฺฉุชุฑ">ููุน ฺฉุงุฑุงฺฉุชุฑ</a></h4>
<p>ููุน <code>char</code> ุฏุฑ ุฑุงุณุช ุงุจุชุฏุงโุชุฑู ููุน ุงููุจุง ุฒุจุงู ุงุณุช. ุฏุฑ ุงูุฌุง ุจุฑุฎ ุงุฒ ูุซุงูโูุง ุงุนูุงู ููุงุฏุฑ <code>char</code> ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let c = 'z';
    let z: char = 'โค'; // with explicit type annotation
    let heart_eyed_cat = '๐ป';
}</code></pre></pre>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุงุฏุฑ <code>char</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ุนูุงูุช ููู ููู ุชฺฉ ูุดุฎุต ูโุดููุฏุ ุฏุฑ ุญุงู ฺฉู ููุงุฏุฑ ุฑุดุชูโุง ุงุฒ ุนูุงูุช ููู ููู ุฏูุชุง ุงุณุชูุงุฏู ูโฺฉููุฏ. ููุน <code>char</code> ุฏุฑ ุฑุงุณุช ฺูุงุฑ ุจุงุช ุงูุฏุงุฒู ุฏุงุฑุฏ ู ููุงุงูฺฏุฑ ฺฉ ููุฏุงุฑ ุงุณฺฉุงูุฑ ููฺฉุฏ ุงุณุชุ ุจู ุงู ูุนู ฺฉู ูโุชูุงูุฏ ุฎู ุจุดุชุฑ ุงุฒ ููุท ASCII ุฑุง ููุงุงู ฺฉูุฏ. ุญุฑูู ุจุง ููุฌูุ ุญุฑูู ฺูุ ฺุงูพู ู ฺฉุฑูโุงุ ุงููุฌุ ู ูุงุตููโูุง ุจุฏูู ุนุฑุถ ููฺฏ ููุงุฏุฑ <code>char</code> ูุนุชุจุฑ ุฏุฑ ุฑุงุณุช ูุณุชูุฏ. ููุงุฏุฑ ุงุณฺฉุงูุฑ ููฺฉุฏ ุฏุฑ ุจุงุฒู <code>U+0000</code> ุชุง <code>U+D7FF</code> ู <code>U+E000</code> ุชุง <code>U+10FFFF</code> ูุฑุงุฑ ุฏุงุฑูุฏ. ุจุง ุงู ุญุงูุ โฺฉุงุฑุงฺฉุชุฑโ ูุงูุนุงู ฺฉ ููููู ุฏุฑ ููฺฉุฏ ูุณุชุ ุจูุงุจุฑุงู ุฏุฑฺฉ ุงูุณุงู ุดูุง ุงุฒ ุขูฺู ฺฉ โฺฉุงุฑุงฺฉุชุฑโ ุงุณุช ููฺฉู ุงุณุช ุจุง ุขูฺู ฺฉ <code>char</code> ุฏุฑ ุฑุงุณุช ุงุณุช ููุฎูุงู ูุฏุงุดุชู ุจุงุดุฏ. ูุง ุงู ููุถูุน ุฑุง ุจู ุชูุตู ุฏุฑ ุจุฎุด <a href="ch08-02-strings.html#storing-utf-8-encoded-text-with-strings">โุฐุฎุฑู ูุชู ุฑูุฒฺฏุฐุงุฑโุดุฏู UTF-8 ุจุง ุฑุดุชูโูุงโ</a><!-- ignore --> ุฏุฑ ูุตู 8 ุจุญุซ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุงููุงุน-ุชุฑฺฉุจ"><a class="header" href="#ุงููุงุน-ุชุฑฺฉุจ">ุงููุงุน ุชุฑฺฉุจ</a></h3>
<p><em>ุงููุงุน ุชุฑฺฉุจ</em> ูโุชูุงููุฏ ฺูุฏู ููุฏุงุฑ ุฑุง ุฏุฑ ฺฉ ููุน ฺฏุฑููโุจูุฏ ฺฉููุฏ. ุฑุงุณุช ุฏู ููุน ุชุฑฺฉุจ ุงููู ุฏุงุฑุฏ: ุชุงูพูโูุง ู ุขุฑุงูโูุง.</p>
<h4 id="ููุน-ุชุงูพู"><a class="header" href="#ููุน-ุชุงูพู">ููุน ุชุงูพู</a></h4>
<p><em>ุชุงูพู</em> ฺฉ ุฑูุด ฺฉู ุจุฑุง ฺฏุฑููโุจูุฏ ฺูุฏ ููุฏุงุฑ ุจุง ุงููุงุน ูุฎุชูู ุฏุฑ ฺฉ ููุน ุชุฑฺฉุจ ุงุณุช. ุชุงูพูโูุง ุทูู ุซุงุจุช ุฏุงุฑูุฏ: ูพุณ ุงุฒ ุงุนูุงูุ ููโุชูุงููุฏ ุจุฒุฑฺฏโุชุฑ ุง ฺฉูฺฺฉโุชุฑ ุดููุฏ.</p>
<p>ูุง ฺฉ ุชุงูพู ุฑุง ุจุง ููุดุชู ฺฉ ูุณุช ุฌุฏุง ุดุฏู ุจุง ฺฉุงูุง ุงุฒ ููุงุฏุฑ ุฏุฑ ุฏุงุฎู ูพุฑุงูุชุฒ ุงุฌุงุฏ ูโฺฉูู. ูุฑ ูููุนุช ุฏุฑ ุชุงูพู ฺฉ ููุน ุฏุงุฑุฏุ ู ุงููุงุน ููุงุฏุฑ ูุฎุชูู ุฏุฑ ุชุงูพู ูุงุฒ ุจู ฺฉุณุงู ุจูุฏู ูุฏุงุฑูุฏ. ูุง ุฏุฑ ุงู ูุซุงู ุญุงุดูโููุณ ููุน ุงุฎุชุงุฑ ุงุถุงูู ฺฉุฑุฏูโุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}</code></pre></pre>
<p>ูุชุบุฑ <code>tup</code> ุจู ฺฉู ุชุงูพู ูุชุตู ูโุดูุฏ ุฒุฑุง ฺฉ ุชุงูพู ุจู ุนููุงู ฺฉ ุนูุตุฑ ุชุฑฺฉุจ ูุงุญุฏ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ. ุจุฑุง ุงุณุชุฎุฑุงุฌ ููุงุฏุฑ ุฌุฏุงฺฏุงูู ุงุฒ ฺฉ ุชุงูพูุ ูโุชูุงูู ุงุฒ ุชุทุงุจู ุงูฺฏู ุจุฑุง ุชุฌุฒู ููุฏุงุฑ ุชุงูพู ุงุณุชูุงุฏู ฺฉููุ ูุงููุฏ ุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup;

    println!("The value of y is: {y}");
}</code></pre></pre>
<p>ุงู ุจุฑูุงูู ุงุจุชุฏุง ฺฉ ุชุงูพู ุงุฌุงุฏ ฺฉุฑุฏู ู ุขู ุฑุง ุจู ูุชุบุฑ <code>tup</code> ูุชุตู ูโฺฉูุฏ. ุณูพุณ ุงุฒ ฺฉ ุงูฺฏู ุจุง <code>let</code> ุจุฑุง ฺฏุฑูุชู <code>tup</code> ู ุชุจุฏู ุขู ุจู ุณู ูุชุบุฑ ุฌุฏุงฺฏุงููุ <code>x</code>ุ <code>y</code>ุ ู <code>z</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ูุฑุขูุฏ <em>ุชุฌุฒู</em> ูุงูุฏู ูโุดูุฏ ุฒุฑุง ุชุงูพู ูุงุญุฏ ุฑุง ุจู ุณู ูุณูุช ุชูุณู ูโฺฉูุฏ. ุฏุฑ ููุงุชุ ุจุฑูุงูู ููุฏุงุฑ <code>y</code> ุฑุง ฺฉู <code>6.4</code> ุงุณุชุ ฺุงูพ ูโฺฉูุฏ.</p>
<p>ูุง ููฺูู ูโุชูุงูู ฺฉ ุนูุตุฑ ุงุฒ ุชุงูพู ุฑุง ูุณุชููุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุทู (<code>.</code>) ุจู ุฏูุจุงู ุดูุงุฑู ุดุงุฎุต ููุฏุงุฑ ููุฑุฏ ูุธุฑ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู. ุจุฑุง ูุซุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}</code></pre></pre>
<p>ุงู ุจุฑูุงูู ุชุงูพู <code>x</code> ุฑุง ุงุฌุงุฏ ฺฉุฑุฏู ู ุณูพุณ ุจู ูุฑ ุนูุตุฑ ุชุงูพู ุจุง ุงุณุชูุงุฏู ุงุฒ ุดุงุฎุตโูุง ูุฑุจูุทู ุขููุง ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูุฏ. ููุงููุฏ ุงฺฉุซุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณุ ุงููู ุดุงุฎุต ุฏุฑ ฺฉ ุชุงูพู <code>0</code> ุงุณุช.</p>
<p>ุชุงูพู ุจุฏูู ูฺ ููุฏุงุฑ ฺฉ ูุงู ุฎุงุต ุฏุงุฑุฏุ <em>ูุงุญุฏ</em>. ุงู ููุฏุงุฑ ู ููุน ูุฑุจูุท ุจู ุขู ูุฑ ุฏู ุจุง <code>()</code> ููุดุชู ูโุดููุฏ ู ฺฉ ููุฏุงุฑ ุฎุงู ุง ฺฉ ููุน ุจุงุฒฺฏุดุช ุฎุงู ุฑุง ูุดุงู ูโุฏููุฏ. ุนุจุงุฑุงุช ุจู ุทูุฑ ุถูู ููุฏุงุฑ ูุงุญุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ ุงฺฏุฑ ูฺ ููุฏุงุฑ ุฏฺฏุฑ ุจุงุฒูฺฏุฑุฏุงููุฏ.</p>
<h4 id="ููุน-ุขุฑุงู"><a class="header" href="#ููุน-ุขุฑุงู">ููุน ุขุฑุงู</a></h4>
<p>ุฑูุด ุฏฺฏุฑ ุจุฑุง ุฏุงุดุชู ูุฌููุนูโุง ุงุฒ ฺูุฏ ููุฏุงุฑุ ุงุณุชูุงุฏู ุงุฒ <em>ุขุฑุงู</em> ุงุณุช. ุจุฑุฎูุงู ุชุงูพูุ ูุฑ ุนูุตุฑ ุขุฑุงู ุจุงุฏ ุงุฒ ฺฉ ููุน ุจุงุดุฏ. ุจุฑุฎูุงู ุขุฑุงูโูุง ุฏุฑ ุจุฑุฎ ุฒุจุงูโูุง ุฏฺฏุฑุ ุขุฑุงูโูุง ุฏุฑ ุฑุงุณุช ุทูู ุซุงุจุช ุฏุงุฑูุฏ.</p>
<p>ูุง ููุงุฏุฑ ฺฉ ุขุฑุงู ุฑุง ุจู ุตูุฑุช ฺฉ ูุณุช ุฌุฏุง ุดุฏู ุจุง ฺฉุงูุง ุฏุฑ ุฏุงุฎู ฺฉุฑูุดู ูโููุณู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let a = [1, 2, 3, 4, 5];
}</code></pre></pre>
<p>ุขุฑุงูโูุง ุฒูุงู ููุฏ ูุณุชูุฏ ฺฉู ุจุฎูุงูุฏ ุฏุงุฏูโูุง ุดูุง ุฏุฑ ุงุณุชฺฉ ุชุฎุตุต ุงุจุฏุ ููุงููุฏ ุณุงุฑ ุงููุงุน ฺฉู ุชุงฺฉููู ุฏุฏูโุงูุ ูู ุฏุฑ ููพ (ูุง ุฏุฑ ูุตู <a href="ch04-01-what-is-ownership.html#the-stack-and-the-heap">ด</a><!-- ignore --> ุงุณุชฺฉ ู ููพ ุฑุง ุจุดุชุฑ ุชูุถุญ ุฎูุงูู ุฏุงุฏ) ุง ููุช ูโุฎูุงูุฏ ูุทูุฆู ุดูุฏ ฺฉู ููุดู ุชุนุฏุงุฏ ุนูุงุตุฑ ุซุงุจุช ุฏุงุฑุฏ. ุจุง ุงู ุญุงูุ ุขุฑุงู ุจู ุงูุฏุงุฒู ููุน ูฺฉุชูุฑ ุงูุนุทุงูโูพุฐุฑ ูุณุช. ฺฉ <em>ูฺฉุชูุฑ</em> ฺฉ ููุน ูุฌููุนู ูุดุงุจู ุงุณุช ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุฑุงูู ุดุฏู ู ูโุชูุงูุฏ ุจู ุงูุฏุงุฒู ุชุบุฑ ฺฉูุฏ. ุงฺฏุฑ ูุทูุฆู ูุณุชุฏ ฺฉู ุงุฒ ุขุฑุงู ุง ูฺฉุชูุฑ ุงุณุชูุงุฏู ฺฉูุฏุ ุงุญุชูุงูุงู ุจุงุฏ ุงุฒ ูฺฉุชูุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ูุตู <a href="ch08-01-vectors.html">ธ</a><!-- ignore --> ูฺฉุชูุฑูุง ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุชูุถุญ ูโุฏูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุขุฑุงูโูุง ุฒูุงู ููุฏุชุฑ ูุณุชูุฏ ฺฉู ุจุฏุงูุฏ ุชุนุฏุงุฏ ุนูุงุตุฑ ูุงุฒ ุจู ุชุบุฑ ูุฏุงุฑุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุงุฒ ูุงูโูุง ูุงู ุฏุฑ ฺฉ ุจุฑูุงูู ุงุณุชูุงุฏู ูโฺฉุฑุฏุฏุ ุงุญุชูุงูุงู ุงุฒ ฺฉ ุขุฑุงู ุจู ุฌุง ฺฉ ูฺฉุชูุฑ ุงุณุชูุงุฏู ูโฺฉุฑุฏุฏ ุฒุฑุง ูโุฏุงูุฏ ููุดู ฑฒ ุนูุตุฑ ุฎูุงูุฏ ุฏุงุดุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let months = ["January", "February", "March", "April", "May", "June", "July",
              "August", "September", "October", "November", "December"];
<span class="boring">}</span></code></pre></pre>
<p>ุดูุง ููุน ฺฉ ุขุฑุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฑูุดูโูุง ุจู ููุฑุงู ููุน ูุฑ ุนูุตุฑุ ฺฉ ููุทู ูุฑฺฏููุ ู ุณูพุณ ุชุนุฏุงุฏ ุนูุงุตุฑ ุฏุฑ ุขุฑุงู ูโููุณุฏุ ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a: [i32; 5] = [1, 2, 3, 4, 5];
<span class="boring">}</span></code></pre></pre>
<p>ุฏุฑ ุงูุฌุงุ <code>i32</code> ููุน ูุฑ ุนูุตุฑ ุงุณุช. ูพุณ ุงุฒ ููุทู ูุฑฺฏููุ ุนุฏุฏ <code>ต</code> ูุดุงู ูโุฏูุฏ ฺฉู ุขุฑุงู ุดุงูู ูพูุฌ ุนูุตุฑ ุงุณุช.</p>
<p>ุดูุง ููฺูู ูโุชูุงูุฏ ฺฉ ุขุฑุงู ุฑุง ุทูุฑ ููุฏุงุฑุฏู ุงููู ฺฉูุฏ ฺฉู ูุฑ ุนูุตุฑ ููุฏุงุฑ ฺฉุณุงู ุฏุงุดุชู ุจุงุดุฏุ ุจุง ูุดุฎุต ฺฉุฑุฏู ููุฏุงุฑ ุงูููุ ฺฉ ููุทู ูุฑฺฏููุ ู ุณูพุณ ุทูู ุขุฑุงู ุฏุฑ ฺฉุฑูุดูโูุงุ ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = [3; 5];
<span class="boring">}</span></code></pre></pre>
<p>ุขุฑุงูโุง ุจุง ูุงู <code>a</code> ุดุงูู <code>ต</code> ุนูุตุฑ ุฎูุงูุฏ ุจูุฏ ฺฉู ููู ุงุจุชุฏุง ููุฏุงุฑ <code>ณ</code> ุฏุงุฑูุฏ. ุงู ููุงู ููุดุชู <code>let a = [3, 3, 3, 3, 3];</code> ุงุณุชุ ุงูุง ุจู ุดููโุง ูุฎุชุตุฑุชุฑ.</p>
<h5 id="ุฏุณุชุฑุณ-ุจู-ุนูุงุตุฑ-ุขุฑุงู"><a class="header" href="#ุฏุณุชุฑุณ-ุจู-ุนูุงุตุฑ-ุขุฑุงู">ุฏุณุชุฑุณ ุจู ุนูุงุตุฑ ุขุฑุงู</a></h5>
<p>ฺฉ ุขุฑุงู ฺฉ ุจุฎุด ูุงุญุฏ ุงุฒ ุญุงูุธู ุจุง ุงูุฏุงุฒูโุง ูุดุฎุต ู ุซุงุจุช ุงุณุช ฺฉู ูโุชูุงูุฏ ุฑู ุงุณุชฺฉ ุชุฎุตุต ุฏุงุฏู ุดูุฏ. ุดูุง ูโุชูุงูุฏ ุจู ุนูุงุตุฑ ฺฉ ุขุฑุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏฺฉุณ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏุ ูุงููุฏ ุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let a = [1, 2, 3, 4, 5];

    let first = a[0];
    let second = a[1];
}</code></pre></pre>
<p>ุฏุฑ ุงู ูุซุงูุ ูุชุบุฑ ุจุง ูุงู <code>first</code> ููุฏุงุฑ <code>1</code> ุฑุง ูโฺฏุฑุฏ ุฒุฑุง ุงู ููุฏุงุฑ ุฏุฑ ุงูุฏฺฉุณ <code>[0]</code> ุฏุฑ ุขุฑุงู ูุฑุงุฑ ุฏุงุฑุฏ. ูุชุบุฑ ุจุง ูุงู <code>second</code> ููุฏุงุฑ <code>2</code> ุฑุง ุงุฒ ุงูุฏฺฉุณ <code>[1]</code> ุฏุฑ ุขุฑุงู ูโฺฏุฑุฏ.</p>
<h5 id="ุฏุณุชุฑุณ-ูุงูุนุชุจุฑ-ุจู-ุนูุตุฑ-ุขุฑุงู"><a class="header" href="#ุฏุณุชุฑุณ-ูุงูุนุชุจุฑ-ุจู-ุนูุตุฑ-ุขุฑุงู">ุฏุณุชุฑุณ ูุงูุนุชุจุฑ ุจู ุนูุตุฑ ุขุฑุงู</a></h5>
<p>ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ ุงฺฏุฑ ุจุฎูุงูุฏ ุจู ุนูุตุฑ ุงุฒ ุขุฑุงู ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ ฺฉู ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุขุฑุงู ุงุณุช. ูุฑุถ ฺฉูุฏ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ ฺฉู ูุดุงุจู ุจุงุฒ ุญุฏุณ ุฏุฑ ูุตู ฒ ุงุณุชุ ุชุง ฺฉ ุงูุฏฺฉุณ ุขุฑุงู ุฑุง ุงุฒ ฺฉุงุฑุจุฑ ุฏุฑุงูุช ฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore panics">use std::io;

fn main() {
    let a = [1, 2, 3, 4, 5];

    println!("Please enter an array index.");

    let mut index = String::new();

    io::stdin()
        .read_line(&amp;mut index)
        .expect("Failed to read line");

    let index: usize = index
        .trim()
        .parse()
        .expect("Index entered was not a number");

    let element = a[index];

    println!("The value of the element at index {index} is: {element}");
}</code></pre>
<p>ุงู ฺฉุฏ ุจู ุฏุฑุณุช ฺฉุงููพุงู ูโุดูุฏ. ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ ู ููุงุฏุฑ ูุงููุฏ <code>0</code>ุ <code>1</code>ุ <code>2</code>ุ <code>3</code> ุง <code>4</code> ุฑุง ูุงุฑุฏ ฺฉูุฏุ ุจุฑูุงูู ููุฏุงุฑ ูุชูุงุธุฑ ุฏุฑ ุขู ุงูุฏฺฉุณ ุงุฒ ุขุฑุงู ุฑุง ฺุงูพ ูโฺฉูุฏ. ุงูุง ุงฺฏุฑ ุจู ุฌุง ุขู ุนุฏุฏ ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุขุฑุงูุ ูุงููุฏ <code>10</code>ุ ูุงุฑุฏ ฺฉูุฏุ ุฎุฑูุฌ ฺุฒ ุดุจู ุจู ุงู ุฎูุงูุฏ ุจูุฏ:</p>
<!-- manual-regeneration
cd listings/ch03-common-programming-concepts/no-listing-15-invalid-array-access
cargo run
10
-->
<pre><code class="language-console">thread 'main' panicked at src/main.rs:19:19:
index out of bounds: the len is 5 but the index is 10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ุงู ุจุฑูุงูู ุฏุฑ ููุทู ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ูุงูุนุชุจุฑ ุฏุฑ ุนููุงุช ุงูุฏฺฉุณโฺฏุฐุงุฑ ุฏฺุงุฑ ุฎุทุง <em>ุฒูุงู ุงุฌุฑุง</em> ุดุฏ. ุจุฑูุงูู ุจุง ฺฉ ูพุงู ุฎุทุง ุฎุงุชูู ุงูุช ู ุฏุณุชูุฑ ููุง <code>println!</code> ุฑุง ุงุฌุฑุง ูฺฉุฑุฏ. ุฒูุงู ฺฉู ุดูุง ุชูุงุด ูโฺฉูุฏ ุจู ฺฉ ุนูุตุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏฺฉุณ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏุ ุฑุงุณุช ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุงูุฏฺฉุณ ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงุฏ ฺฉูุชุฑ ุงุฒ ุทูู ุขุฑุงู ุจุงุดุฏ. ุงฺฏุฑ ุงูุฏฺฉุณ ุจุฒุฑฺฏโุชุฑ ุง ุจุฑุงุจุฑ ุจุง ุทูู ุจุงุดุฏุ ุฑุงุณุช ูุชููู ูโุดูุฏ (ูพุงูฺฉ ูโฺฉูุฏ). ุงู ุจุฑุฑุณ ุจุงุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุงูุฌุงู ุดูุฏุ ุจูโูฺู ุฏุฑ ุงู ููุฑุฏุ ุฒุฑุง ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุจุฏุงูุฏ ฺฉู ฺฉุงุฑุจุฑ ฺู ููุฏุงุฑ ุฑุง ููฺฏุงู ุงุฌุฑุง ฺฉุฏ ูุงุฑุฏ ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุงู ฺฉ ูุซุงู ุงุฒ ุงุตูู ุงูู ุญุงูุธู ุฑุงุณุช ุฏุฑ ุนูู ุงุณุช. ุฏุฑ ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุณุทุญ ูพุงูุ ุงู ููุน ุจุฑุฑุณ ุงูุฌุงู ููโุดูุฏ ู ุฒูุงู ฺฉู ุดูุง ฺฉ ุงูุฏฺฉุณ ุงุดุชุจุงู ุงุฑุงุฆู ูโฺฉูุฏุ ูโุชูุงู ุจู ุญุงูุธู ูุงูุนุชุจุฑ ุฏุณุชุฑุณ ูพุฏุง ฺฉุฑุฏ. ุฑุงุณุช ุดูุง ุฑุง ุงุฒ ุงู ููุน ุฎุทุง ุจุง ูุชููู ฺฉุฑุฏู ููุฑ ุจุฑูุงูู ุจู ุฌุง ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ุญุงูุธู ู ุงุฏุงูู ุจุฑูุงูู ูุญุงูุธุช ูโฺฉูุฏ. ูุตู น ุฎุทุงุงุจ ุฏุฑ ุฑุงุณุช ู ูุญูู ููุดุชู ฺฉุฏ ุฎูุงูุง ู ุงูู ฺฉู ูู ุฏฺุงุฑ ูพุงูฺฉ ุดูุฏ ู ูู ุงุฌุงุฒู ุฏุณุชุฑุณ ูุงูุนุชุจุฑ ุจู ุญุงูุธู ุฑุง ุจุฏูุฏุ ุจุดุชุฑ ุจุฑุฑุณ ูโฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชูุงุจุน"><a class="header" href="#ุชูุงุจุน">ุชูุงุจุน</a></h2>
<p>ุชูุงุจุน ุฏุฑ ฺฉุฏูุง ุฑุงุณุช ุจุณุงุฑ ุฑุงุฌ ูุณุชูุฏ. ุดูุง ุชุงฺฉููู ฺฉ ุงุฒ ูููโุชุฑู ุชูุงุจุน ุฏุฑ ุงู ุฒุจุงู ุฑุง ุฏุฏูโุงุฏ: ุชุงุจุน <code>main</code>ุ ฺฉู ููุทู ูุฑูุฏ ุจุณุงุฑ ุงุฒ ุจุฑูุงููโูุง ุงุณุช. ููฺูู ุจุง ฺฉููู ฺฉูุฏ <code>fn</code> ุขุดูุง ุดุฏุฏ ฺฉู ุจู ุดูุง ุงูฺฉุงู ุชุนุฑู ุชูุงุจุน ุฌุฏุฏ ุฑุง ูโุฏูุฏ.</p>
<p>ฺฉุฏูุง ุฑุงุณุช ุงุฒ <em>ุญุงูุช snake case</em> ุจู ุนููุงู ุณุจฺฉ ูุชุนุงุฑู ุจุฑุง ูุงูโฺฏุฐุงุฑ ุชูุงุจุน ู ูุชุบุฑูุง ุงุณุชูุงุฏู ูโฺฉููุฏุ ฺฉู ุฏุฑ ุขู ุชูุงู ุญุฑูู ฺฉูฺฺฉ ูุณุชูุฏ ู ฺฉููุงุช ุจุง ุฒุฑุฎุท ุงุฒ ฺฉุฏฺฏุฑ ุฌุฏุง ูโุดููุฏ. ุงู ฺฉ ุจุฑูุงูู ุงุณุช ฺฉู ุดุงูู ฺฉ ูุซุงู ุงุฒ ุชุนุฑู ุชุงุจุน ูโุจุงุดุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    println!("Hello, world!");

    another_function();
}

fn another_function() {
    println!("Another function.");
}</code></pre></pre>
<p>ูุง ุจุง ูุงุฑุฏ ฺฉุฑุฏู <code>fn</code> ุจู ููุฑุงู ูุงู ุชุงุจุน ู ฺฉ ูุฌููุนู ูพุฑุงูุชุฒุ ฺฉ ุชุงุจุน ุฑุง ุฏุฑ ุฑุงุณุช ุชุนุฑู ูโฺฉูู. ฺฉุฑูุดูโูุง ุจุงุฒ ู ุจุณุชู ุจู ฺฉุงููพุงูุฑ ูโฺฏููุฏ ฺฉู ุจุฏูู ุชุงุจุน ุงุฒ ฺฉุฌุง ุดุฑูุน ู ูพุงุงู ูโุงุจุฏ.</p>
<p>ูุง ูโุชูุงูู ูุฑ ุชุงุจุน ุฑุง ฺฉู ุชุนุฑู ฺฉุฑุฏูโุงู ุจุง ูุงุฑุฏ ฺฉุฑุฏู ูุงู ุขู ุจู ููุฑุงู ฺฉ ูุฌููุนู ูพุฑุงูุชุฒ ูุฑุงุฎูุงู ฺฉูู. ุงุฒ ุขูุฌุง ฺฉู <code>another_function</code> ุฏุฑ ุจุฑูุงูู ุชุนุฑู ุดุฏู ุงุณุชุ ูโุชูุงู ุขู ุฑุง ุงุฒ ุฏุงุฎู ุชุงุจุน <code>main</code> ูุฑุงุฎูุงู ฺฉุฑุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง <code>another_function</code> ุฑุง <em>ุจุนุฏ ุงุฒ</em> ุชุงุจุน <code>main</code> ุฏุฑ ฺฉุฏ ููุจุน ุชุนุฑู ฺฉุฑุฏูุ ููฺูู ูโุชูุงูุณุชู ุขู ุฑุง ูุจู ุงุฒ ุขู ุชุนุฑู ฺฉูู. ุฑุงุณุช ุงููุช ููโุฏูุฏ ฺฉู ุชูุงุจุน ุดูุง ฺฉุฌุง ุชุนุฑู ุดุฏูโุงูุฏุ ููุท ุจุงุฏ ุฏุฑ ูุญุฏูุฏูโุง ุจุงุดูุฏ ฺฉู ุชูุณุท ูุฑุงุฎูุงู ฺฉููุฏู ูุงุจู ูุดุงูุฏู ุจุงุดุฏ.</p>
<p>ุจุงุฏ ฺฉ ูพุฑูฺู ุจุงูุฑ ุฌุฏุฏ ุจู ูุงู <em>functions</em> ุงุฌุงุฏ ฺฉูู ุชุง ุชูุงุจุน ุฑุง ุจุดุชุฑ ุจุฑุฑุณ ฺฉูู. ูุซุงู <code>another_function</code> ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ูุฑุงุฑ ุฏูุฏ ู ุขู ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุจุงุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.28s
     Running `target/debug/functions`
Hello, world!
Another function.
</code></pre>
<p>ุฏุณุชูุฑุงุช ุจู ุชุฑุชุจ ฺฉู ุฏุฑ ุชุงุจุน <code>main</code> ุธุงูุฑ ุดุฏูโุงูุฏ ุงุฌุฑุง ูโุดููุฏ. ุงุจุชุฏุง ูพุงู โHello, world!โ ฺุงูพ ูโุดูุฏ ู ุณูพุณ <code>another_function</code> ูุฑุงุฎูุงู ุดุฏู ู ูพุงู ุขู ฺุงูพ ูโุดูุฏ.</p>
<h3 id="ูพุงุฑุงูุชุฑูุง"><a class="header" href="#ูพุงุฑุงูุชุฑูุง">ูพุงุฑุงูุชุฑูุง</a></h3>
<p>ูุง ูโุชูุงูู ุชูุงุจุน ุชุนุฑู ฺฉูู ฺฉู <em>ูพุงุฑุงูุชุฑ</em> ุฏุงุดุชู ุจุงุดูุฏุ ฺฉู ูุชุบุฑูุง ุฎุงุต ูุณุชูุฏ ฺฉู ุจุฎุด ุงุฒ ุงูุถุง ุชุงุจุน ูุญุณูุจ ูโุดููุฏ. ููุช ฺฉ ุชุงุจุน ูพุงุฑุงูุชุฑ ุฏุงุฑุฏุ ุดูุง ูโุชูุงูุฏ ููุงุฏุฑ ูุดุฎุต ุจุฑุง ุขู ูพุงุฑุงูุชุฑูุง ุงุฑุงุฆู ุฏูุฏ. ุงุฒ ูุธุฑ ููุ ุจู ููุงุฏุฑ ูุดุฎุต <em>ุขุฑฺฏููุงู</em> ฺฏูุชู ูโุดูุฏุ ุงูุง ุฏุฑ ูฺฉุงููุงุช ูุนูููุ ูุฑุฏู ูุนูููุงู ุงุฒ ฺฉููุงุช <em>ูพุงุฑุงูุชุฑ</em> ู <em>ุขุฑฺฏููุงู</em> ุจู ุฌุง ฺฉุฏฺฏุฑ ุงุณุชูุงุฏู ูโฺฉููุฏุ ฺู ุจุฑุง ูุชุบุฑูุง ุชุนุฑู ุดุฏู ุฏุฑ ฺฉ ุชุงุจุน ุง ููุงุฏุฑ ูุดุฎุต ููฺฏุงู ูุฑุงุฎูุงู ุชุงุจุน.</p>
<p>ุฏุฑ ุงู ูุณุฎู ุงุฒ <code>another_function</code>ุ ูุง ฺฉ ูพุงุฑุงูุชุฑ ุงุถุงูู ูโฺฉูู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    another_function(5);
}

fn another_function(x: i32) {
    println!("The value of x is: {x}");
}</code></pre></pre>
<p>ุงู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุจุงุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ุจุจูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1.21s
     Running `target/debug/functions`
The value of x is: 5
</code></pre>
<p>ุงุนูุงู <code>another_function</code> ุฏุงุฑุง ฺฉ ูพุงุฑุงูุชุฑ ุจู ูุงู <code>x</code> ุงุณุช. ููุน <code>x</code> ุจู ุนููุงู <code>i32</code> ูุดุฎุต ุดุฏู ุงุณุช. ููุช ูุง ููุฏุงุฑ <code>5</code> ุฑุง ุจู <code>another_function</code> ูโุฏููุ ูุงฺฉุฑู <code>println!</code> ููุฏุงุฑ <code>5</code> ุฑุง ุฏุฑ ุฌุง ฺฉู ุฌูุช ฺฉุฑูุดู ุญุงู <code>x</code> ุฏุฑ ุฑุดุชู ูุฑูุช ุจูุฏุ ูุฑุงุฑ ูโุฏูุฏ.</p>
<p>ุฏุฑ ุงูุถุง ุชูุงุจุนุ ุดูุง <em>ุจุงุฏ</em> ููุน ูุฑ ูพุงุฑุงูุชุฑ ุฑุง ุงุนูุงู ฺฉูุฏ. ุงู ฺฉ ุชุตูู ุนูุฏ ุฏุฑ ุทุฑุงุญ ุฑุงุณุช ุงุณุช: ูุงุฒ ุจู ุญุงุดูโููุณ ููุน ุฏุฑ ุชุนุฑู ุชูุงุจุน ุจู ุงู ูุนูุง ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ุชูุฑุจุงู ูุฑฺฏุฒ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุขููุง ุฏุฑ ุฌุงูุง ุฏฺฏุฑ ฺฉุฏ ุจุฑุง ูููุฏู ููุน ููุฑุฏ ูุธุฑ ุดูุง ูุฏุงุฑุฏ. ฺฉุงููพุงูุฑ ููฺูู ูุงุฏุฑ ุงุณุช ูพุงูโูุง ุฎุทุง ููุฏุชุฑ ุงุฑุงุฆู ุฏูุฏ ุงฺฏุฑ ุจุฏุงูุฏ ุชุงุจุน ฺู ููุนโูุง ุงูุชุธุงุฑ ุฏุงุฑุฏ.</p>
<p>ููฺฏุงู ุชุนุฑู ฺูุฏู ูพุงุฑุงูุชุฑุ ุงุนูุงู ูพุงุฑุงูุชุฑูุง ุฑุง ุจุง ฺฉุงูุง ุฌุฏุง ฺฉูุฏุ ูุงููุฏ ุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    print_labeled_measurement(5, 'h');
}

fn print_labeled_measurement(value: i32, unit_label: char) {
    println!("The measurement is: {value}{unit_label}");
}</code></pre></pre>
<p>ุงู ูุซุงู ฺฉ ุชุงุจุน ุจู ูุงู <code>print_labeled_measurement</code> ุจุง ุฏู ูพุงุฑุงูุชุฑ ุงุฌุงุฏ ูโฺฉูุฏ. ูพุงุฑุงูุชุฑ ุงูู ุจู ูุงู <code>value</code> ู ุงุฒ ููุน <code>i32</code> ุงุณุช. ูพุงุฑุงูุชุฑ ุฏูู ุจู ูุงู <code>unit_label</code> ู ุงุฒ ููุน <code>char</code> ุงุณุช. ุณูพุณ ุชุงุจุน ูุชู ุญุงู ูุฑ ุฏู <code>value</code> ู <code>unit_label</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุจุงุฏ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูู. ุจุฑูุงููโุง ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ ูุงู <em>src/main.rs</em> ูพุฑูฺู <em>functions</em> ุดูุง ุงุณุช ุฑุง ุจุง ูุซุงู ุจุงูุง ุฌุงฺฏุฒู ฺฉูุฏ ู ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/functions`
The measurement is: 5h
</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุง ุชุงุจุน ุฑุง ุจุง <code>5</code> ุจู ุนููุงู ููุฏุงุฑ ุจุฑุง <code>value</code> ู <code>'h'</code> ุจู ุนููุงู ููุฏุงุฑ ุจุฑุง <code>unit_label</code> ูุฑุงุฎูุงู ฺฉุฑุฏูุ ุฎุฑูุฌ ุจุฑูุงูู ุดุงูู ุงู ููุงุฏุฑ ุงุณุช.</p>
<h3 id="ุงุธูุงุฑุงุช-ู-ุนุจุงุฑุงุช"><a class="header" href="#ุงุธูุงุฑุงุช-ู-ุนุจุงุฑุงุช">ุงุธูุงุฑุงุช ู ุนุจุงุฑุงุช</a></h3>
<p>ุจุฏูู ุชูุงุจุน ุงุฒ ฺฉ ุณุฑ ุงุธูุงุฑุงุช ุชุดฺฉู ุดุฏู ุงุณุช ฺฉู ุจู ุทูุฑ ุงุฎุชุงุฑ ุจุง ฺฉ ุนุจุงุฑุช ูพุงุงู ูโุงุจูุฏ. ุชุงฺฉูููุ ุชูุงุจุน ฺฉู ูพูุดุด ุฏุงุฏูโุงู ุดุงูู ฺฉ ุนุจุงุฑุช ูพุงุงู ูุจูุฏูโุงูุฏุ ุงูุง ุดูุง ฺฉ ุนุจุงุฑุช ุฑุง ุจู ุนููุงู ุจุฎุด ุงุฒ ฺฉ ุงุธูุงุฑ ุฏุฏูโุงุฏ. ุงุฒ ุขูุฌุง ฺฉู ุฑุงุณุช ฺฉ ุฒุจุงู ูุจุชู ุจุฑ ุนุจุงุฑุงุช ุงุณุชุ ุงู ุชูุงุฒ ุจุณุงุฑ ููู ุงุณุช ฺฉู ุฏุฑฺฉ ุดูุฏ. ุฒุจุงูโูุง ุฏฺฏุฑ ุงู ุชูุงุฒ ุฑุง ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุจุงุฏ ูฺฏุงู ุจู ุงุธูุงุฑุงุช ู ุนุจุงุฑุงุช ุจูุฏุงุฒู ู ุจุจูู ฺฺฏููู ุชูุงูุชโูุง ุขููุง ุจุฑ ุจุฏู ุชูุงุจุน ุชุฃุซุฑ ูโฺฏุฐุงุฑุฏ.</p>
<ul>
<li><strong>ุงุธูุงุฑุงุช</strong> ุฏุณุชูุฑุงูุนููโูุง ูุณุชูุฏ ฺฉู ฺฉ ุนูู ุงูุฌุงู ูโุฏููุฏ ู ูฺ ููุฏุงุฑ ุจุงุฒ ููโฺฏุฑุฏุงููุฏ.</li>
<li><strong>ุนุจุงุฑุงุช</strong> ุจู ฺฉ ููุฏุงุฑ ูุชุฌูโฺฏุฑ ูโุฑุณูุฏ. ุจุงุฏ ฺูุฏ ูุซุงู ุฑุง ุจุฑุฑุณ ฺฉูู.</li>
</ul>
<p>ูุง ุฏุฑ ูุงูุน ูุจูุงู ุงุฒ ุงุธูุงุฑุงุช ู ุนุจุงุฑุงุช ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุงุฌุงุฏ ฺฉ ูุชุบุฑ ู ุงุฎุชุตุงุต ฺฉ ููุฏุงุฑ ุจู ุขู ุจุง ฺฉููู ฺฉูุฏ <code>let</code> ฺฉ ุงุธูุงุฑ ุงุณุช. ุฏุฑ ูุณุชูฺฏ ณ-ฑุ <code>let y = 6;</code> ฺฉ ุงุธูุงุฑ ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let y = 6;
}</code></pre></pre>
<figcaption>Listing 3-1: ุชุนุฑู ุชุงุจุน <code>main</code> ฺฉู ุดุงูู ฺฉ ุงุธูุงุฑ ุงุณุช</figcaption>
</figure>
<p>ุชุนุฑู ุชูุงุจุน ูุฒ ุงุธูุงุฑุงุช ูุณุชูุฏุ ฺฉู ูุซุงู ูพุดู ุฎูุฏ ฺฉ ุงุธูุงุฑ ุงุณุช. (ููุงูุทูุฑ ฺฉู ุฏุฑ ุฒุฑ ุฎูุงูู ุฏุฏุ <em>ูุฑุงุฎูุงู</em> ฺฉ ุชุงุจุน ฺฉ ุงุธูุงุฑ ูุณุช.)</p>
<p>ุงุธูุงุฑุงุช ูฺ ููุฏุงุฑ ุจุงุฒ ููโฺฏุฑุฏุงููุฏ. ุจูุงุจุฑุงูุ ููโุชูุงูุฏ ฺฉ ุงุธูุงุฑ <code>let</code> ุฑุง ุจู ฺฉ ูุชุบุฑ ุฏฺฏุฑ ุงุฎุชุตุงุต ุฏูุฏุ ููุงูุทูุฑ ฺฉู ฺฉุฏ ุฒุฑ ุณุน ุฏุงุฑุฏ ุงูุฌุงู ุฏูุฏุ ุดูุง ุจุง ฺฉ ุฎุทุง ุฑูุจุฑู ุฎูุงูุฏ ุดุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = (let y = 6);
}</code></pre>
<p>ููุช ุงู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุฎุทุง ฺฉู ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ ุจู ุดฺฉู ุฒุฑ ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
error: expected expression, found `let` statement
 --&gt; src/main.rs:2:14
  |
2 |     let x = (let y = 6);
  |              ^^^
  |
  = note: only supported directly in conditions of `if` and `while` expressions

warning: unnecessary parentheses around assigned value
 --&gt; src/main.rs:2:13
  |
2 |     let x = (let y = 6);
  |             ^         ^
  |
  = note: `#[warn(unused_parens)]` on by default
help: remove these parentheses
  |
2 -     let x = (let y = 6);
2 +     let x = let y = 6;
  |

warning: `functions` (bin "functions") generated 1 warning
error: could not compile `functions` (bin "functions") due to 1 previous error; 1 warning emitted
</code></pre>
<p>ุงุธูุงุฑ <code>let y = 6</code> ูฺ ููุฏุงุฑ ุจุงุฒ ููโฺฏุฑุฏุงูุฏุ ุจูุงุจุฑุงู ฺุฒ ุจุฑุง ุงุชุตุงู ุจู <code>x</code> ูุฌูุฏ ูุฏุงุฑุฏ. ุงู ุจุง ุขูฺู ุฏุฑ ุฒุจุงูโูุง ุฏฺฏุฑุ ูุงููุฏ C ู Ruby ุฑุฎ ูโุฏูุฏุ ูุชูุงูุช ุงุณุชุ ุฌุง ฺฉู ุชุฎุตุต ููุฏุงุฑ ุจุงุฒ ูโฺฏุฑุฏุงูุฏ. ุฏุฑ ุขู ุฒุจุงูโูุงุ ูโุชูุงูุฏ <code>x = y = 6</code> ุจููุณุฏ ู ูุฑ ุฏู <code>x</code> ู <code>y</code> ููุฏุงุฑ <code>6</code> ุฑุง ุฏุงุดุชู ุจุงุดูุฏุ ุงู ุญุงูุช ุฏุฑ ุฑุงุณุช ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>ุนุจุงุฑุงุช ุจู ฺฉ ููุฏุงุฑ ุงุฑุฒุงุจ ูโุดููุฏ ู ุจุดุชุฑ ุจูู ฺฉุฏ ฺฉู ุฏุฑ ุฑุงุณุช ูโููุณุฏ ุฑุง ุชุดฺฉู ูโุฏููุฏ. ุจู ุนููุงู ูุซุงู ฺฉ ุนููุงุช ุฑุงุถุ ูุงููุฏ <code>5 + 6</code>ุ ฺฉู ฺฉ ุนุจุงุฑุช ุงุณุช ฺฉู ุจู ููุฏุงุฑ <code>11</code> ุงุฑุฒุงุจ ูโุดูุฏ. ุนุจุงุฑุงุช ูโุชูุงููุฏ ุจุฎุด ุงุฒ ุงุธูุงุฑุงุช ุจุงุดูุฏ: ุฏุฑ ูุณุชูฺฏ ณ-ฑุ ููุฏุงุฑ <code>6</code> ุฏุฑ ุงุธูุงุฑ <code>let y = 6;</code> ฺฉ ุนุจุงุฑุช ุงุณุช ฺฉู ุจู ููุฏุงุฑ <code>6</code> ุงุฑุฒุงุจ ูโุดูุฏ. ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ฺฉ ุนุจุงุฑุช ุงุณุช. ูุฑุงุฎูุงู ฺฉ ูุงฺฉุฑู ฺฉ ุนุจุงุฑุช ุงุณุช. ฺฉ ุจููฺฉ ุฌุฏุฏ ุงุฒ ุฏุงููู ฺฉู ุจุง ฺฉุฑูุดูโูุง ุจุงุฒ ู ุจุณุชู ุงุฌุงุฏ ุดุฏู ุงุณุช ูุฒ ฺฉ ุนุจุงุฑุช ุงุณุชุ ุจุฑุง ูุซุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let y = {
        let x = 3;
        x + 1
    };

    println!("The value of y is: {y}");
}</code></pre></pre>
<p>ุงู ุนุจุงุฑุช:</p>
<pre><code class="language-rust ignore">{
    let x = 3;
    x + 1
}</code></pre>
<p>ฺฉ ุจููฺฉ ุงุณุช ฺฉู ุฏุฑ ุงู ููุฑุฏ ุจู ููุฏุงุฑ <code>4</code> ุงุฑุฒุงุจ ูโุดูุฏ. ุขู ููุฏุงุฑ ุจู ุนููุงู ุจุฎุด ุงุฒ ุงุธูุงุฑ <code>let</code> ุจู <code>y</code> ูุชุตู ูโุดูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฎุท <code>x + 1</code> ุฏุฑ ุงูุชูุง ฺฉ ููุทู ูุฑฺฏูู ูุฏุงุฑุฏุ ฺฉู ุจุฑุฎูุงู ุงฺฉุซุฑ ุฎุทูุท ุงุณุช ฺฉู ุชุงฺฉููู ุฏุฏูโุงุฏ. ุนุจุงุฑุงุช ุดุงูู ููุทู ูุฑฺฏูู ุงูุชูุง ููโุดููุฏ. ุงฺฏุฑ ุจู ุงูุชูุง ฺฉ ุนุจุงุฑุช ฺฉ ููุทู ูุฑฺฏูู ุงุถุงูู ฺฉูุฏุ ุขู ุฑุง ุจู ฺฉ ุงุธูุงุฑ ุชุจุฏู ูโฺฉูุฏ ู ุฏฺฏุฑ ููุฏุงุฑ ุจุงุฒ ููโฺฏุฑุฏุงูุฏ. ุงู ูฺฉุชู ุฑุง ุฏุฑ ุฐูู ุฏุงุดุชู ุจุงุดุฏ ุฒุฑุง ุฏุฑ ุงุฏุงูู ุจู ุจุฑุฑุณ ููุงุฏุฑ ุจุงุฒฺฏุดุช ุชูุงุจุน ู ุนุจุงุฑุงุช ูโูพุฑุฏุงุฒู.</p>
<h3 id="ุชูุงุจุน-ุจุง-ููุงุฏุฑ-ุจุงุฒฺฏุดุช"><a class="header" href="#ุชูุงุจุน-ุจุง-ููุงุฏุฑ-ุจุงุฒฺฏุดุช">ุชูุงุจุน ุจุง ููุงุฏุฑ ุจุงุฒฺฏุดุช</a></h3>
<p>ุชูุงุจุน ูโุชูุงููุฏ ููุงุฏุฑ ุฑุง ุจู ฺฉุฏ ฺฉู ุขููุง ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุงุณุช ุจุงุฒฺฏุฑุฏุงููุฏ. ูุง ุจู ููุงุฏุฑ ุจุงุฒฺฏุดุช ูุงู ููโุฏููุ ุงูุง ุจุงุฏ ููุน ุขููุง ุฑุง ุจุนุฏ ุงุฒ ฺฉ ููุด (<code>-&gt;</code>) ุงุนูุงู ฺฉูู. ุฏุฑ ุฑุงุณุชุ ููุฏุงุฑ ุจุงุฒฺฏุดุช ุชุงุจุน ูุนุงุฏู ููุฏุงุฑ ุนุจุงุฑุช ููุง ุฏุฑ ุจููฺฉ ุจุฏูู ุชุงุจุน ุงุณุช. ุดูุง ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>return</code> ู ูุดุฎุต ฺฉุฑุฏู ฺฉ ููุฏุงุฑุ ุฒูุฏุชุฑ ุงุฒ ฺฉ ุชุงุจุน ุจุงุฒฺฏุฑุฏุฏุ ุงูุง ุจุดุชุฑ ุชูุงุจุน ุจู ุทูุฑ ุถูู ููุฏุงุฑ ุขุฎุฑู ุนุจุงุฑุช ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุงุฒ ฺฉ ุชุงุจุน ฺฉู ููุฏุงุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn five() -&gt; i32 {
    5
}

fn main() {
    let x = five();

    println!("The value of x is: {x}");
}</code></pre></pre>
<p>ูฺ ูุฑุงุฎูุงู ุชุงุจุนุ ูุงฺฉุฑู ุง ุญุช ุงุธูุงุฑ <code>let</code> ุฏุฑ ุชุงุจุน <code>five</code> ูุฌูุฏ ูุฏุงุฑุฏโููุท ุนุฏุฏ <code>5</code> ุจู ุชููุง. ุงู ฺฉ ุชุงุจุน ฺฉุงููุงู ูุนุชุจุฑ ุฏุฑ ุฑุงุณุช ุงุณุช. ุชูุฌู ฺฉูุฏ ฺฉู ููุน ููุฏุงุฑ ุจุงุฒฺฏุดุช ุชุงุจุน ูุฒ ุจู ุตูุฑุช <code>-&gt; i32</code> ูุดุฎุต ุดุฏู ุงุณุช. ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุฎุฑูุฌ ุจุงุฏ ุจู ุตูุฑุช ุฒุฑ ุจุงุดุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.30s
     Running `target/debug/functions`
The value of x is: 5
</code></pre>
<p>ุนุฏุฏ <code>5</code> ุฏุฑ <code>five</code> ููุฏุงุฑ ุจุงุฒฺฏุดุช ุชุงุจุน ุงุณุชุ ุจู ููู ุฏูู ููุน ุจุงุฒฺฏุดุช <code>i32</code> ุงุณุช. ุจุงุฏ ุงู ููุถูุน ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฑุฑุณ ฺฉูู. ุฏู ูฺฉุชู ููู ูุฌูุฏ ุฏุงุฑุฏ: ุงููุ ุฎุท <code>let x = five();</code> ูุดุงู ูโุฏูุฏ ฺฉู ูุง ุงุฒ ููุฏุงุฑ ุจุงุฒฺฏุดุช ฺฉ ุชุงุจุน ุจุฑุง ููุฏุงุฑุฏู ฺฉ ูุชุบุฑ ุงุณุชูุงุฏู ูโฺฉูู. ฺูู ุชุงุจุน <code>five</code> ููุฏุงุฑ <code>5</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงู ุฎุท ูุดุงุจู ุฎุท ุฒุฑ ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 5;
<span class="boring">}</span></code></pre></pre>
<p>ุฏููุ ุชุงุจุน <code>five</code> ูฺ ูพุงุฑุงูุชุฑ ูุฏุงุฑุฏ ู ููุน ููุฏุงุฑ ุจุงุฒฺฏุดุช ุฑุง ุชุนุฑู ูโฺฉูุฏุ ุงูุง ุจุฏูู ุชุงุจุน ฺฉ ุนุฏุฏ ุชููุง <code>5</code> ุจุฏูู ููุทู ูุฑฺฏูู ุงุณุช ุฒุฑุง ุงู ฺฉ ุนุจุงุฑุช ุงุณุช ฺฉู ููุฏุงุฑ ุขู ุฑุง ูโุฎูุงูู ุจุงุฒฺฏุฑุฏุงูู.</p>
<p>ุจุงุฏ ุจู ูุซุงู ุฏฺฏุฑ ูฺฏุงู ฺฉูู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = plus_one(5);

    println!("The value of x is: {x}");
}

fn plus_one(x: i32) -&gt; i32 {
    x + 1
}</code></pre></pre>
<p>ุงุฌุฑุง ุงู ฺฉุฏ ููุฏุงุฑ <code>The value of x is: 6</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ. ุงูุง ุงฺฏุฑ ฺฉ ููุทู ูุฑฺฏูู ุจู ุงูุชูุง ุฎุท ุญุงู <code>x + 1</code> ุงุถุงูู ฺฉูู ู ุขู ุฑุง ุงุฒ ฺฉ ุนุจุงุฑุช ุจู ฺฉ ุงุธูุงุฑ ุชุจุฏู ฺฉููุ ุจุง ุฎุทุง ููุงุฌู ุฎูุงูู ุดุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = plus_one(5);

    println!("The value of x is: {x}");
}

fn plus_one(x: i32) -&gt; i32 {
    x + 1;
}</code></pre>
<p>ฺฉุงููพุงู ุงู ฺฉุฏ ุฎุทุง ุจู ุดุฑุญ ุฒุฑ ุชููุฏ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
error[E0308]: mismatched types
 --&gt; src/main.rs:7:24
  |
7 | fn plus_one(x: i32) -&gt; i32 {
  |    --------            ^^^ expected `i32`, found `()`
  |    |
  |    implicitly returns `()` as its body has no tail or `return` expression
8 |     x + 1;
  |          - help: remove this semicolon to return this value

For more information about this error, try `rustc --explain E0308`.
error: could not compile `functions` (bin "functions") due to 1 previous error
</code></pre>
<p>ูพุงู ุฎุทุง ุงุตูุ <code>mismatched types</code>ุ ูุณุฆูู ุงุตู ุงู ฺฉุฏ ุฑุง ุขุดฺฉุงุฑ ูโฺฉูุฏ. ุชุนุฑู ุชุงุจุน <code>plus_one</code> ูโฺฏูุฏ ฺฉู ุงู ุชุงุจุน ฺฉ <code>i32</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงูุง ุงุธูุงุฑุงุช ุจู ฺฉ ููุฏุงุฑ ุงุฑุฒุงุจ ููโุดููุฏุ ฺฉู ุจุง <code>()</code>ุ ููุน ูุงุญุฏุ ูุดุงู ุฏุงุฏู ูโุดูุฏ. ุจูุงุจุฑุงูุ ฺุฒ ุจุงุฒฺฏุฑุฏุงูุฏู ููโุดูุฏ ฺฉู ุจุง ุชุนุฑู ุชุงุจุน ุชูุงูุถ ุฏุงุฑุฏ ู ุจุงุนุซ ุงุฌุงุฏ ุฎุทุง ูโุดูุฏ. ุฏุฑ ุงู ุฎุฑูุฌุ ุฑุงุณุช ูพุงู ุงุฑุงุฆู ูโุฏูุฏ ุชุง ุดุงุฏ ุจู ุญู ุงู ูุดฺฉู ฺฉูฺฉ ฺฉูุฏ: ูพุดููุงุฏ ุญุฐู ููุทู ูุฑฺฏููุ ฺฉู ุงู ุฎุทุง ุฑุง ุจุฑุทุฑู ูโฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฉุงููุชูุง"><a class="header" href="#ฺฉุงููุชูุง">ฺฉุงููุชโูุง</a></h2>
<p>ุชูุงู ุจุฑูุงููโููุณุงู ุชูุงุด ูโฺฉููุฏ ฺฉุฏูุงุดุงู ุฑุง ุจู ฺฏูููโุง ุจููุณูุฏ ฺฉู ุจู ุฑุงุญุช ูุงุจู ููู ุจุงุดุฏุ ุงูุง ฺฏุงู ุงููุงุช ุชูุถุญุงุช ุงุถุงู ูุงุฒู ุงุณุช. ุฏุฑ ุงู ููุงุฑุฏุ ุจุฑูุงููโููุณุงู <em>ฺฉุงููุชโูุง</em> ุฑุง ุฏุฑ ฺฉุฏ ููุจุน ุฎูุฏ ูโฺฏุฐุงุฑูุฏ ฺฉู ฺฉุงููพุงูุฑ ุขููุง ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ ุงูุง ููฺฉู ุงุณุช ุจุฑุง ุงูุฑุงุฏ ฺฉู ฺฉุฏ ููุจุน ุฑุง ูโุฎูุงููุฏ ููุฏ ุจุงุดุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ฺฉุงููุช ุณุงุฏู ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// hello, world
<span class="boring">}</span></code></pre></pre>
<p>ุฏุฑ ุฑุงุณุชุ ุณุจฺฉ ูุชุนุงุฑู ฺฉุงููุชโฺฏุฐุงุฑ ุจุง ุฏู ุงุณูุด ุดุฑูุน ูโุดูุฏ ู ฺฉุงููุช ุชุง ูพุงุงู ุฎุท ุงุฏุงูู ุฏุงุฑุฏ. ุจุฑุง ฺฉุงููุชโูุง ฺฉู ุจุดุชุฑ ุงุฒ ฺฉ ุฎุท ูุณุชูุฏุ ุจุงุฏ ุฑู ูุฑ ุฎุท ุงุฒ <code>//</code> ุงุณุชูุงุฏู ฺฉูุฏุ ุจู ุงู ุตูุฑุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ูพุณ ุงูุฌุง ุฏุงุฑู ฺฉุงุฑ ูพฺุฏู ุงูุฌุงู ูโุฏููุ ุจู ูุฏุฑ ุทููุงู ฺฉู ุจู ฺูุฏู
// ุฎุท ฺฉุงููุช ูุงุฒ ุฏุงุฑู! ูุงู! ุงูุฏูุงุฑู ุงู ฺฉุงููุช ุชูุถุญ ุฏูุฏ ฺฉู ฺู ุงุชูุงู
// ุฏุฑ ุญุงู ูููุน ุงุณุช.
<span class="boring">}</span></code></pre></pre>
<p>ฺฉุงููุชโูุง ููฺูู ูโุชูุงููุฏ ุฏุฑ ุงูุชูุง ุฎุทูุท ฺฉู ุญุงู ฺฉุฏ ูุณุชูุฏ ูุฑุงุฑ ฺฏุฑูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let lucky_number = 7; // Iโm feeling lucky today
}</code></pre></pre>
<p>ุงูุง ุจุดุชุฑ ููุงูุน ฺฉุงููุชโูุง ุฑุง ุฏุฑ ุงู ูุงูุจ ุฎูุงูุฏ ุฏุฏุ ุจุง ฺฉุงููุช ฺฉู ุฏุฑ ุฎุท ุฌุฏุงฺฏุงููโุง ุจุงูุง ฺฉุฏ ฺฉู ุชูุถุญ ูโุฏูุฏ ูุฑุงุฑ ุฏุงุฑุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    // Iโm feeling lucky today
    let lucky_number = 7;
}</code></pre></pre>
<p>ุฑุงุณุช ููฺูู ููุน ุฏฺฏุฑ ุงุฒ ฺฉุงููุชโูุงุ ฺฉุงููุชโูุง ูุณุชูุฏุงุช (documentation comments) ุฏุงุฑุฏ ฺฉู ุขููุง ุฑุง ุฏุฑ ุจุฎุด <a href="ch14-02-publishing-to-crates-io.html">โุงูุชุดุงุฑ ฺฉ ฺฉุฑุงุช ุฏุฑ Crates.ioโ</a><!-- ignore --> ุงุฒ ูุตู 14 ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฉูุชุฑู-ุฌุฑุงู"><a class="header" href="#ฺฉูุชุฑู-ุฌุฑุงู">ฺฉูุชุฑู ุฌุฑุงู</a></h2>
<p>ุชูุงูุง ุงุฌุฑุง ฺฉุฏ ฺฉู ูุงุจุณุชู ุจู ุฏุฑุณุช ุจูุฏู ุง ูุจูุฏู ฺฉ ุดุฑุท ุงุณุช ู ุงุฌุฑุง ูฺฉุฑุฑ ฺฉุฏ ุฏุฑ ุญุงู ฺฉู ฺฉ ุดุฑุท ุฏุฑุณุช ุงุณุชุ ุงุฒ ุณุงุฎุชุงุฑูุง ุงุณุงุณ ุฏุฑ ุจุดุชุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ูุญุณูุจ ูโุดูุฏ. ุฑุงุฌโุชุฑู ุณุงุฎุชุงุฑูุง ฺฉู ุจู ุดูุง ุงูฺฉุงู ฺฉูุชุฑู ุฌุฑุงู ุงุฌุฑุง ฺฉุฏ ุฏุฑ ุฑุงุณุช ุฑุง ูโุฏููุฏุ ุนุจุงุฑุชูุฏ ุงุฒ ุนุจุงุฑุงุช <code>if</code> ู ุญูููโูุง.</p>
<h3 id="ุนุจุงุฑุงุช-if"><a class="header" href="#ุนุจุงุฑุงุช-if">ุนุจุงุฑุงุช <code>if</code></a></h3>
<p>ฺฉ ุนุจุงุฑุช <code>if</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุจุณุชู ุจู ุดุฑุงุท ุดุงุฎูโุจูุฏ ฺฉูุฏ. ุดูุง ฺฉ ุดุฑุท ูุดุฎุต ูโฺฉูุฏ ู ุณูพุณ ูโฺฏูุฏ: ยซุงฺฏุฑ ุงู ุดุฑุท ุจุฑูุฑุงุฑ ุจูุฏุ ุงู ุจููฺฉ ฺฉุฏ ุงุฌุฑุง ุดูุฏ. ุงฺฏุฑ ุดุฑุท ุจุฑูุฑุงุฑ ูุจูุฏุ ุงู ุจููฺฉ ฺฉุฏ ุงุฌุฑุง ูุดูุฏ.ยป</p>
<p>ฺฉ ูพุฑูฺู ุฌุฏุฏ ุจู ูุงู <em>branches</em> ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>projects</em> ุฎูุฏ ุงุฌุงุฏ ฺฉูุฏ ุชุง ุนุจุงุฑุช <code>if</code> ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ุฏุฑ ูุงู <em>src/main.rs</em> ฺฉุฏ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let number = 3;

    if number &lt; 5 {
        println!("condition was true");
    } else {
        println!("condition was false");
    }
}</code></pre></pre>
<p>ุชูุงู ุนุจุงุฑุงุช <code>if</code> ุจุง ฺฉููู ฺฉูุฏ <code>if</code> ุดุฑูุน ูโุดููุฏ ู ุณูพุณ ฺฉ ุดุฑุท ุฏูุจุงู ูโุดูุฏ. ุฏุฑ ุงู ูุซุงูุ ุดุฑุท ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ููุฏุงุฑ ูุชุบุฑ <code>number</code> ฺฉูุชุฑ ุงุฒ 5 ุงุณุช ุง ุฎุฑ. ุจููฺฉ ฺฉุฏ ฺฉู ุฏุฑ ุตูุฑุช ุฏุฑุณุช ุจูุฏู ุดุฑุท ุจุงุฏ ุงุฌุฑุง ุดูุฏุ ุจูุงูุงุตูู ุจุนุฏ ุงุฒ ุดุฑุท ู ุฏุงุฎู ฺฉุฑูุดูโูุง ูุฑุงุฑ ูโฺฏุฑุฏ. ุจููฺฉโูุง ฺฉุฏ ฺฉู ุจุง ุดุฑุงุท ุฏุฑ ุนุจุงุฑุงุช <code>if</code> ูุฑุชุจุท ูุณุชูุฏุ ฺฏุงู <em>ุจุงุฒู</em> (arm) ูุงูุฏู ูโุดููุฏุ ููุงููุฏ ุจุงุฒููุง ููุฌูุฏ ุฏุฑ ุนุจุงุฑุงุช <code>match</code> ฺฉู ุฏุฑ ุจุฎุด <a href="ch02-00-guessing-game-tutorial.html#comparing-the-guess-to-the-secret-number">โููุงุณู ุญุฏุณ ุจุง ุนุฏุฏ ูุฎูโ</a><!-- ignore --> ุงุฒ ูุตู 2 ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุช.</p>
<p>ุจูโุตูุฑุช ุงุฎุชุงุฑุ ูโุชูุงูู ฺฉ ุนุจุงุฑุช <code>else</code> ูุฒ ุงุถุงูู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุงูุฌุง ุงูุชุฎุงุจ ฺฉุฑุฏูุ ุชุง ุจู ุจุฑูุงูู ฺฉ ุจููฺฉ ฺฉุฏ ุฌุงฺฏุฒู ุจุฑุง ุงุฌุฑุง ุงุฑุงุฆู ุฏููุ ุฏุฑ ุตูุฑุช ฺฉู ุดุฑุท ุจู <code>false</code> ุงุฑุฒุงุจ ุดูุฏ. ุงฺฏุฑ ุนุจุงุฑุช <code>else</code> ุงุฑุงุฆู ูุฏูุฏ ู ุดุฑุท <code>false</code> ุจุงุดุฏุ ุจุฑูุงูู ุจููฺฉ <code>if</code> ุฑุง ูุงุฏุฏู ฺฏุฑูุชู ู ุจู ุจุฎุด ุจุนุฏ ฺฉุฏ ูโุฑูุฏ.</p>
<p>ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุจุงุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/branches`
condition was true
</code></pre>
<p>ุจุงุฏ ููุฏุงุฑ <code>number</code> ุฑุง ุจู ููุฏุงุฑ ุชุบุฑ ุฏูู ฺฉู ุดุฑุท <code>false</code> ุดูุฏ ุชุง ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ:</p>
<pre><code class="language-rust ignore"><span class="boring">fn main() {
</span>    let number = 7;
<span class="boring">
</span><span class="boring">    if number &lt; 5 {
</span><span class="boring">        println!("condition was true");
</span><span class="boring">    } else {
</span><span class="boring">        println!("condition was false");
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ุจุฑูุงูู ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ ู ุฎุฑูุฌ ุฑุง ูุดุงูุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/branches`
condition was false
</code></pre>
<p>ููฺูู ูุงุจู ุชูุฌู ุงุณุช ฺฉู ุดุฑุท ุฏุฑ ุงู ฺฉุฏ <em>ุจุงุฏ</em> ฺฉ <code>bool</code> ุจุงุดุฏ. ุงฺฏุฑ ุดุฑุท ฺฉ <code>bool</code> ูุจุงุดุฏุ ุฎุทุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ. ุจู ุนููุงู ูุซุงูุ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let number = 3;

    if number {
        println!("number was three");
    }
}</code></pre>
<p>ุงู ุจุงุฑ ุดุฑุท <code>if</code> ุจู ููุฏุงุฑ <code>3</code> ุงุฑุฒุงุจ ูโุดูุฏ ู ุฑุงุณุช ุฎุทุง ูโุฏูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
error[E0308]: mismatched types
 --&gt; src/main.rs:4:8
  |
4 |     if number {
  |        ^^^^^^ expected `bool`, found integer

For more information about this error, try `rustc --explain E0308`.
error: could not compile `branches` (bin "branches") due to 1 previous error
</code></pre>
<p>ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ุฑุงุณุช ุงูุชุธุงุฑ ฺฉ <code>bool</code> ุฏุงุดุช ุงูุง ฺฉ ุนุฏุฏ ุตุญุญ ุฏุฑุงูุช ฺฉุฑุฏ. ุจุฑุฎูุงู ุฒุจุงูโูุง ูุงููุฏ Ruby ู JavaScriptุ ุฑุงุณุช ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุชูุงุด ููโฺฉูุฏ ุงููุงุน ุบุฑ <code>bool</code> ุฑุง ุจู ฺฉ <code>bool</code> ุชุจุฏู ฺฉูุฏ. ุดูุง ุจุงุฏ ุตุฑุญ ุจุงุดุฏ ู ููุดู ฺฉ <code>bool</code> ุฑุง ุจูโุนููุงู ุดุฑุท ุจู <code>if</code> ุจุฏูุฏ. ุงฺฏุฑ ูโุฎูุงูุฏ ุจููฺฉ ฺฉุฏ <code>if</code> ููุท ุฒูุงู ุงุฌุฑุง ุดูุฏ ฺฉู ฺฉ ุนุฏุฏ ุจุฑุงุจุฑ <code>0</code> ูุจุงุดุฏุ ูโุชูุงูุฏ ุนุจุงุฑุช <code>if</code> ุฑุง ุจู ุงู ุตูุฑุช ุชุบุฑ ุฏูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let number = 3;

    if number != 0 {
        println!("number was something other than zero");
    }
}</code></pre></pre>
<p>ุงุฌุฑุง ุงู ฺฉุฏ <code>number was something other than zero</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<h4 id="ูุฏุฑุช-ุดุฑุงุท-ูุชุนุฏุฏ-ุจุง-else-if"><a class="header" href="#ูุฏุฑุช-ุดุฑุงุท-ูุชุนุฏุฏ-ุจุง-else-if">ูุฏุฑุช ุดุฑุงุท ูุชุนุฏุฏ ุจุง <code>else if</code></a></h4>
<p>ุดูุง ูโุชูุงูุฏ ุจุง ุชุฑฺฉุจ <code>if</code> ู <code>else</code> ุฏุฑ ฺฉ ุนุจุงุฑุช <code>else if</code>ุ ุดุฑุงุท ูุชุนุฏุฏ ุฑุง ูุฏุฑุช ฺฉูุฏ. ุจู ุนููุงู ูุซุงู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let number = 6;

    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3");
    } else if number % 2 == 0 {
        println!("number is divisible by 2");
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}</code></pre></pre>
<p>ุงู ุจุฑูุงูู ฺูุงุฑ ูุณุฑ ููฺฉู ุจุฑุง ุงุฌุฑุง ุฏุงุฑุฏ. ูพุณ ุงุฒ ุงุฌุฑุง ุขูุ ุจุงุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/branches`
number is divisible by 3
</code></pre>
<p>ููฺฏุงู ฺฉู ุงู ุจุฑูุงูู ุงุฌุฑุง ูโุดูุฏุ ูุฑ ุนุจุงุฑุช <code>if</code> ุฑุง ุจู ุชุฑุชุจ ุจุฑุฑุณ ฺฉุฑุฏู ู ุงููู ุจููฺฉ ฺฉู ุดุฑุท ุขู ุจู <code>true</code> ุงุฑุฒุงุจ ุดูุฏุ ุงุฌุฑุง ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุญุช ุจุง ูุฌูุฏ ุงูฺฉู 6 ุจุฑ 2 ุจุฎุดโูพุฐุฑ ุงุณุชุ ุฎุฑูุฌ <code>number is divisible by 2</code> ุฑุง ููโุจูู ู ููฺูู ูุชู <code>number is not divisible by 4, 3, or 2</code> ุงุฒ ุจููฺฉ <code>else</code> ุฑุง ูุฒ ููโุจูู. ุงู ุจู ุงู ุฏูู ุงุณุช ฺฉู ุฑุงุณุช ููุท ุจููฺฉ ูุฑุจูุท ุจู ุงููู ุดุฑุท ุฏุฑุณุช ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ู ูพุณ ุงุฒ ุงูุชู ุขูุ ุจูู ุฑุง ุจุฑุฑุณ ููโฺฉูุฏ.</p>
<p>ุงุณุชูุงุฏู ุงุฒ ุชุนุฏุงุฏ ุฒุงุฏ ุนุจุงุฑุช <code>else if</code> ูโุชูุงูุฏ ฺฉุฏ ุดูุง ุฑุง ุดููุบ ฺฉูุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ุจุด ุงุฒ ฺฉ ููุฑุฏ ุฏุงุฑุฏุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุจุงุฒููุณ ฺฉูุฏ. ูุตู 6 ฺฉ ุณุงุฎุชุงุฑ ุดุงุฎูโุจูุฏ ูุฏุฑุชููุฏ ุฏุฑ ุฑุงุณุช ุจู ูุงู <code>match</code> ุฑุง ุจุฑุง ุงู ููุงุฑุฏ ุชูุถุญ ูโุฏูุฏ.</p>
<h4 id="ุงุณุชูุงุฏู-ุงุฒ-if-ุฏุฑ-ฺฉ-ุนุจุงุฑุช-let"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-if-ุฏุฑ-ฺฉ-ุนุจุงุฑุช-let">ุงุณุชูุงุฏู ุงุฒ <code>if</code> ุฏุฑ ฺฉ ุนุจุงุฑุช <code>let</code></a></h4>
<p>ุงุฒ ุขูุฌุง ฺฉู <code>if</code> ฺฉ ุนุจุงุฑุช ุงุณุชุ ูโุชูุงูู ุงุฒ ุขู ุฏุฑ ุณูุช ุฑุงุณุช ฺฉ ุนุจุงุฑุช <code>let</code> ุจุฑุง ุชุฎุตุต ูุชุฌู ุจู ฺฉ ูุชุบุฑ ุงุณุชูุงุฏู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช 3-2 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let condition = true;
    let number = if condition { 5 } else { 6 };

    println!("The value of number is: {number}");
}</code></pre></pre>
<figcaption>Listing 3-2: ุชุฎุตุต ูุชุฌู ฺฉ ุนุจุงุฑุช <code>if</code> ุจู ฺฉ ูุชุบุฑ</figcaption>
</figure>
<p>ูุชุบุฑ <code>number</code> ุจู ููุฏุงุฑ ุจุฑ ุงุณุงุณ ูุชุฌู ุนุจุงุฑุช <code>if</code> ูุชุตู ุฎูุงูุฏ ุดุฏ. ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุจุจูุฏ ฺู ุงุชูุงู ูโุงูุชุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.30s
     Running `target/debug/branches`
The value of number is: 5
</code></pre>
<p>ุจู ุฎุงุทุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจููฺฉโูุง ฺฉุฏ ุจู ุขุฎุฑู ุนุจุงุฑุช ุฏุฑ ุขูโูุง ุงุฑุฒุงุจ ูโุดููุฏ ู ุงุนุฏุงุฏ ุจู ุชููุง ูุฒ ุนุจุงุฑุงุช ูุญุณูุจ ูโุดููุฏ. ุฏุฑ ุงู ุญุงูุชุ ููุฏุงุฑ ฺฉู ุนุจุงุฑุช <code>if</code> ุจุณุชฺฏ ุจู ุงู ุฏุงุฑุฏ ฺฉู ฺฉุฏุงู ุจููฺฉ ฺฉุฏ ุงุฌุฑุง ุดูุฏ. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ููุงุฏุฑ ฺฉู ูโุชูุงููุฏ ูุชุงุฌ ูุฑ ุจุงุฒู <code>if</code> ุจุงุดูุฏุ ุจุงุฏ ุงุฒ ฺฉ ููุน ุจุงุดูุฏ. ุฏุฑ ูุณุช 3-2ุ ูุชุงุฌ ุจุงุฒู <code>if</code> ู ุจุงุฒู <code>else</code> ูุฑ ุฏู ุงุนุฏุงุฏ ุตุญุญ <code>i32</code> ุจูุฏูุฏ. ุงฺฏุฑ ุงููุงุน ูุงุณุงุฒฺฏุงุฑ ุจุงุดูุฏุ ูุงููุฏ ูุซุงู ุฒุฑุ ุฎุทุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let condition = true;

    let number = if condition { 5 } else { "six" };

    println!("The value of number is: {number}");
}</code></pre>
<p>ููฺฏุงู ฺฉู ุชูุงุด ูโฺฉูู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉููุ ุฎุทุง ุฏุฑุงูุช ูโฺฉูู. ุจุงุฒููุง <code>if</code> ู <code>else</code> ุฏุงุฑุง ุงููุงุน ููุฏุงุฑ ูุงุณุงุฒฺฏุงุฑ ูุณุชูุฏ ู ุฑุงุณุช ุฏููุงู ูุดุงู ูโุฏูุฏ ฺฉู ูุดฺฉู ุฏุฑ ุจุฑูุงูู ฺฉุฌุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
error[E0308]: `if` and `else` have incompatible types
 --&gt; src/main.rs:4:44
  |
4 |     let number = if condition { 5 } else { "six" };
  |                                 -          ^^^^^ expected integer, found `&amp;str`
  |                                 |
  |                                 expected because of this

For more information about this error, try `rustc --explain E0308`.
error: could not compile `branches` (bin "branches") due to 1 previous error
</code></pre>
<p>ุนุจุงุฑุช ููุฌูุฏ ุฏุฑ ุจููฺฉ <code>if</code> ุจู ฺฉ ุนุฏุฏ ุตุญุญ ุงุฑุฒุงุจ ูโุดูุฏ ู ุนุจุงุฑุช ููุฌูุฏ ุฏุฑ ุจููฺฉ <code>else</code> ุจู ฺฉ ุฑุดุชู ุงุฑุฒุงุจ ูโุดูุฏ. ุงู ฺฉุงุฑ ููโฺฉูุฏ ุฒุฑุง ูุชุบุฑูุง ุจุงุฏ ฺฉ ููุน ูุดุฎุต ุฏุงุดุชู ุจุงุดูุฏ ู ุฑุงุณุช ุจุงุฏ ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุฏุงูุฏ ฺฉู ููุน ูุชุบุฑ <code>number</code> ฺุณุช. ุฏุงูุณุชู ููุน <code>number</code> ุจู ฺฉุงููพุงูุฑ ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุจุฑุฑุณ ฺฉูุฏ ููุน ุขู ุฏุฑ ูุฑ ุฌุง ฺฉู ุงุฒ <code>number</code> ุงุณุชูุงุฏู ูโฺฉูู ูุนุชุจุฑ ุงุณุช. ุฑุงุณุช ููโุชูุงูุณุช ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ ุงฺฏุฑ ููุน <code>number</code> ุชููุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุดุฎุต ูโุดุฏ. ฺฉุงููพุงูุฑ ูพฺุฏูโุชุฑ ูโุดุฏ ู ุชุถููโูุง ฺฉูุชุฑ ุฏุฑุจุงุฑู ฺฉุฏ ุงุฑุงุฆู ูโุฏุงุฏ ุงฺฏุฑ ูุฌุจูุฑ ุจูุฏ ุงููุงุน ูุฑุถ ูุฎุชูู ุฑุง ุจุฑุง ูุฑ ูุชุบุฑ ูพฺฏุฑ ฺฉูุฏ.</p>
<h3 id="ุชฺฉุฑุงุฑ-ุจุง-ุญููููุง"><a class="header" href="#ุชฺฉุฑุงุฑ-ุจุง-ุญููููุง">ุชฺฉุฑุงุฑ ุจุง ุญูููโูุง</a></h3>
<p>ุงุบูุจ ููุฏ ุงุณุช ฺฉู ฺฉ ุจููฺฉ ฺฉุฏ ุจุด ุงุฒ ฺฉ ุจุงุฑ ุงุฌุฑุง ุดูุฏ. ุจุฑุง ุงู ฺฉุงุฑุ Rust ฺูุฏู <em>ุญููู</em> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ฺฉุฏ ุฏุงุฎู ุจุฏูู ุญููู ุฑุง ุงุฌุฑุง ฺฉุฑุฏู ู ุณูพุณ ุจูุงูุงุตูู ุจู ุงุจุชุฏุง ุญููู ุจุงุฒูโฺฏุฑุฏูุฏ. ุจุฑุง ุขุฒูุงุด ุจุง ุญูููโูุงุ ฺฉ ูพุฑูฺู ุฌุฏุฏ ุจู ูุงู <em>loops</em> ุงุฌุงุฏ ฺฉูุฏ.</p>
<p>Rust ุณู ููุน ุญููู ุฏุงุฑุฏ: <code>loop</code>ุ <code>while</code> ู <code>for</code>. ุจุงุฏ ูุฑ ฺฉุฏุงู ุฑุง ุงูุชุญุงู ฺฉูู.</p>
<h4 id="ุชฺฉุฑุงุฑ-ฺฉุฏ-ุจุง-loop"><a class="header" href="#ุชฺฉุฑุงุฑ-ฺฉุฏ-ุจุง-loop">ุชฺฉุฑุงุฑ ฺฉุฏ ุจุง <code>loop</code></a></h4>
<p>ฺฉููู ฺฉูุฏ <code>loop</code> ุจู Rust ูโฺฏูุฏ ฺฉู ฺฉ ุจููฺฉ ฺฉุฏ ุฑุง ุจุงุฑูุง ู ุจุงุฑูุง ุงุฌุฑุง ฺฉูุฏุ ุชุง ุฒูุงู ฺฉู ุดูุง ุจู ุทูุฑ ุตุฑุญ ุจู ุขู ุจฺฏูุฏ ูุชููู ุดูุฏ.</p>
<p>ุจู ุนููุงู ูุซุงูุ ูุงู <em>src/main.rs</em> ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>loops</em> ุฎูุฏ ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ุฏูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore">fn main() {
    loop {
        println!("again!");
    }
}</code></pre>
<p>ููุช ุงู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉููุ <code>again!</code> ุจุงุฑูุง ู ุจุงุฑูุง ุจู ุทูุฑ ูุฏุงูู ฺุงูพ ูโุดูุฏ ุชุง ุฒูุงู ฺฉู ุจุฑูุงูู ุฑุง ุจู ุตูุฑุช ุฏุณุช ูุชููู ฺฉูู. ุงฺฉุซุฑ ุชุฑููุงูโูุง ุงุฒ ูุงูุจุฑ ุตูุญู ฺฉูุฏ <kbd>ctrl</kbd>-<kbd>c</kbd> ุจุฑุง ูุชููู ฺฉุฑุฏู ุจุฑูุงููโุง ฺฉู ุฏุฑ ฺฉ ุญููู ุจโูพุงุงู ฺฏุฑ ฺฉุฑุฏู ุงุณุชุ ูพุดุชุจุงู ูโฺฉููุฏ. ุขู ุฑุง ุงูุชุญุงู ฺฉูุฏ:</p>
<!-- manual-regeneration
cd listings/ch03-common-programming-concepts/no-listing-32-loop
cargo run
CTRL-C
-->
<pre><code class="language-console">$ cargo run
   Compiling loops v0.1.0 (file:///projects/loops)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.08s
     Running `target/debug/loops`
again!
again!
again!
again!
^Cagain!
</code></pre>
<p>ููุงุฏ <code>^C</code> ูุดุงู ูโุฏูุฏ ฺฉู ุดูุง <kbd>ctrl</kbd>-<kbd>c</kbd> ุฑุง ูุดุงุฑ ุฏุงุฏูโุงุฏ. ููฺฉู ุงุณุช ฺฉููู <code>again!</code> ูพุณ ุงุฒ <code>^C</code> ฺุงูพ ุดูุฏ ุง ูุดูุฏุ ุจุณุชู ุจู ุงูฺฉู ฺฉุฏ ุฏุฑ ุญููู ุฏุฑ ฺู ูุฑุญููโุง ุจูุฏู ุงุณุช ฺฉู ุณฺฏูุงู ูุทุน ุฏุฑุงูุช ุดุฏู ุงุณุช.</p>
<p>ุฎูุดุจุฎุชุงููุ Rust ููฺูู ุฑูุด ุจุฑุง ุฎุฑูุฌ ุงุฒ ฺฉ ุญููู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุงุฑุงุฆู ูโุฏูุฏ. ุดูุง ูโุชูุงูุฏ ฺฉููู ฺฉูุฏ <code>break</code> ุฑุง ุฏุฑูู ุญููู ูุฑุงุฑ ุฏูุฏ ุชุง ุจู ุจุฑูุงูู ุจฺฏูุฏ ฺฉู ฺู ุฒูุงู ุงุฌุฑุง ุญููู ุฑุง ูุชููู ฺฉูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ุจุงุฒ ุญุฏุณ ุนุฏุฏ ุฏุฑ ุจุฎุด <a href="ch02-00-guessing-game-tutorial.html#quitting-after-a-correct-guess">โุฎุฑูุฌ ูพุณ ุงุฒ ฺฉ ุญุฏุณ ุฏุฑุณุชโ</a><!-- ignore --> ุฏุฑ ูุตู 2 ุงูุฌุงู ุฏุงุฏู ุชุง ุฒูุงู ฺฉู ฺฉุงุฑุจุฑ ุจุง ุญุฏุณ ุฏุฑุณุช ุจุงุฒ ุฑุง ุจุฑูุฏู ุดุฏุ ุจุฑูุงูู ุฎุงุชูู ุงุจุฏ.</p>
<p>ูุง ููฺูู ุงุฒ <code>continue</code> ุฏุฑ ุจุงุฒ ุญุฏุณ ุนุฏุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู ฺฉู ุฏุฑ ฺฉ ุญููู ุจู ุจุฑูุงูู ูโฺฏูุฏ ูุฑ ฺฉุฏ ุจุงูโูุงูุฏู ุฏุฑ ุงู ุชฺฉุฑุงุฑ ุญููู ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏ ู ุจู ุชฺฉุฑุงุฑ ุจุนุฏ ุจุฑูุฏ.</p>
<h4 id="ุจุงุฒฺฏุฑุฏุงูุฏู-ููุงุฏุฑ-ุงุฒ-ุญููููุง"><a class="header" href="#ุจุงุฒฺฏุฑุฏุงูุฏู-ููุงุฏุฑ-ุงุฒ-ุญููููุง">ุจุงุฒฺฏุฑุฏุงูุฏู ููุงุฏุฑ ุงุฒ ุญูููโูุง</a></h4>
<p>ฺฉ ุงุฒ ฺฉุงุฑุจุฑุฏูุง <code>loop</code> ุงู ุงุณุช ฺฉู ฺฉ ุนููุงุช ุฑุง ฺฉู ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏ ุฏูุจุงุฑู ุงูุชุญุงู ฺฉูุฏุ ูุซูุงู ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง ฺฉ ูุฎ (thread) ฺฉุงุฑ ุฎูุฏ ุฑุง ุชูุงู ฺฉุฑุฏู ุงุณุช ุง ูู. ููฺูู ููฺฉู ุงุณุช ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ ูุชุฌู ุงู ุนููุงุช ุฑุง ุงุฒ ุญููู ุจู ุจูู ฺฉุฏ ุฎูุฏ ููุชูู ฺฉูุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ูโุชูุงูุฏ ููุฏุงุฑ ฺฉู ูโุฎูุงูุฏ ุจุฑฺฏุฑุฏุงูุฏู ุดูุฏ ุฑุง ูพุณ ุงุฒ ุนุจุงุฑุช <code>break</code> ุงุถุงูู ฺฉูุฏ. ุงู ููุฏุงุฑ ุงุฒ ุญููู ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("The result is {result}");
}</code></pre></pre>
<p>ูุจู ุงุฒ ุญูููุ ฺฉ ูุชุบุฑ ุจู ูุงู <code>counter</code> ุงุนูุงู ูโฺฉูู ู ููุฏุงุฑ ุขู ุฑุง <code>0</code> ููุฏุงุฑุฏู ุงููู ูโฺฉูู. ุณูพุณ ฺฉ ูุชุบุฑ ุจู ูุงู <code>result</code> ุงุนูุงู ูโฺฉูู ุชุง ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุฒ ุญููู ุฑุง ูฺฏู ุฏุงุฑุฏ. ุฏุฑ ูุฑ ุชฺฉุฑุงุฑ ุญูููุ ููุฏุงุฑ <code>1</code> ุฑุง ุจู ูุชุบุฑ <code>counter</code> ุงุถุงูู ูโฺฉูู ู ุณูพุณ ุจุฑุฑุณ ูโฺฉูู ฺฉู ุขุง ููุฏุงุฑ <code>counter</code> ุจุฑุงุจุฑ ุจุง <code>10</code> ุงุณุช ุง ูู. ุฒูุงู ฺฉู ุงู ุดุฑุท ุจุฑูุฑุงุฑ ุจุงุดุฏุ ุงุฒ ฺฉููู ฺฉูุฏ <code>break</code> ุจุง ููุฏุงุฑ <code>counter * 2</code> ุงุณุชูุงุฏู ูโฺฉูู. ูพุณ ุงุฒ ุญูููุ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณูโฺฉุงููุ ููุฏุงุฑ ุจู <code>result</code> ุชุฎุตุต ุฏุงุฏู ูโุดูุฏ. ุฏุฑ ููุงุชุ ููุฏุงุฑ <code>result</code> ุฑุง ฺุงูพ ูโฺฉูู ฺฉู ุฏุฑ ุงู ูุซุงู ุจุฑุงุจุฑ ุจุง <code>20</code> ุงุณุช.</p>
<p>ุดูุง ููฺูู ูโุชูุงูุฏ ุงุฒ ุฏุงุฎู ฺฉ ุญููู <code>return</code> ุงุณุชูุงุฏู ฺฉูุฏ. ุฏุฑ ุญุงู ฺฉู <code>break</code> ููุท ุงุฒ ุญููู ุฌุงุฑ ุฎุงุฑุฌ ูโุดูุฏุ <code>return</code> ููุดู ุงุฒ ุชุงุจุน ุฌุงุฑ ุฎุงุฑุฌ ูโุดูุฏ.</p>
<h4 id="ุจุฑฺุณุจ-ุญููููุง-ุจุฑุง-ุฑูุน-ุงุจูุงู-ุจู-ฺูุฏู-ุญููู"><a class="header" href="#ุจุฑฺุณุจ-ุญููููุง-ุจุฑุง-ุฑูุน-ุงุจูุงู-ุจู-ฺูุฏู-ุญููู">ุจุฑฺุณุจ ุญูููโูุง ุจุฑุง ุฑูุน ุงุจูุงู ุจู ฺูุฏู ุญููู</a></h4>
<p>ุงฺฏุฑ ุญูููโูุง ุชู ุฏุฑ ุชู ุฏุงุดุชู ุจุงุดุฏุ <code>break</code> ู <code>continue</code> ุจู ุญููู ุฏุงุฎูโุชุฑู ุญููู ุฏุฑ ุขู ููุทู ุงุนูุงู ูโุดููุฏ. ุจู ุทูุฑ ุงุฎุชุงุฑ ูโุชูุงูุฏ ฺฉ <em>ุจุฑฺุณุจ ุญููู</em> ุฑู ฺฉ ุญููู ูุดุฎุต ฺฉูุฏ ฺฉู ุณูพุณ ูโุชูุงูุฏ ุงุฒ ุขู ุจุฑฺุณุจ ุจุง <code>break</code> ุง <code>continue</code> ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉู ุงู ฺฉููุงุช ฺฉูุฏ ุจู ุญููู ุจุฑฺุณุจโุฏุงุฑ ุงุนูุงู ูโุดููุฏ ูู ุญููู ุฏุงุฎูโุชุฑู. ุจุฑฺุณุจโูุง ุญููู ุจุงุฏ ุจุง ฺฉ ุขูพุงุณุชุฑูู ุดุฑูุน ุดููุฏ. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุจุง ุฏู ุญููู ุชู ุฏุฑ ุชู ุขูุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut count = 0;
    'counting_up: loop {
        println!("count = {count}");
        let mut remaining = 10;

        loop {
            println!("remaining = {remaining}");
            if remaining == 9 {
                break;
            }
            if count == 2 {
                break 'counting_up;
            }
            remaining -= 1;
        }

        count += 1;
    }
    println!("End count = {count}");
}</code></pre></pre>
<p>ุญููู ุจุฑูู ุฏุงุฑุง ุจุฑฺุณุจ <code>'counting_up</code> ุงุณุช ู ุงุฒ 0 ุชุง 2 ุดูุงุฑุด ูโฺฉูุฏ. ุญููู ุฏุงุฎู ุจุฏูู ุจุฑฺุณุจ ุงุฒ 10 ุชุง 9 ุดูุงุฑุด ูุนฺฉูุณ ูโฺฉูุฏ. ุงููู <code>break</code> ฺฉู ุจุฑฺุณุจ ูุดุฎุต ููโฺฉูุฏ ููุท ุงุฒ ุญููู ุฏุงุฎู ุฎุงุฑุฌ ูโุดูุฏ. ุนุจุงุฑุช <code>break 'counting_up;</code> ุงุฒ ุญููู ุจุฑูู ุฎุงุฑุฌ ูโุดูุฏ. ุงู ฺฉุฏ ููุงุฑุฏ ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling loops v0.1.0 (file:///projects/loops)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.58s
     Running `target/debug/loops`
count = 0
remaining = 10
remaining = 9
count = 1
remaining = 10
remaining = 9
count = 2
remaining = 10
End count = 2
</code></pre>
<h4 id="ุญููููุง-ุดุฑุท-ุจุง-while"><a class="header" href="#ุญููููุง-ุดุฑุท-ุจุง-while">ุญูููโูุง ุดุฑุท ุจุง <code>while</code></a></h4>
<p>ฺฉ ุจุฑูุงูู ุงุบูุจ ูุงุฒ ุฏุงุฑุฏ ฺฉู ฺฉ ุดุฑุท ุฑุง ุฏุฑูู ฺฉ ุญููู ุงุฑุฒุงุจ ฺฉูุฏ. ุชุง ุฒูุงู ฺฉู ุดุฑุท <code>true</code> ุจุงุดุฏุ ุญููู ุงุฌุฑุง ูโุดูุฏ. ุฒูุงู ฺฉู ุดุฑุท ุฏฺฏุฑ <code>true</code> ูุจุงุดุฏุ ุจุฑูุงูู ุจุง ูุฑุงุฎูุงู <code>break</code>ุ ุญููู ุฑุง ูุชููู ูโฺฉูุฏ. ุงูฺฉุงู ูพุงุฏูโุณุงุฒ ฺูู ุฑูุชุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุฑฺฉุจ <code>loop</code>ุ <code>if</code>ุ <code>else</code> ู <code>break</code> ูุฌูุฏ ุฏุงุฑุฏ. ูโุชูุงูุฏ ุงู ุฑุง ุงฺฉููู ุฏุฑ ฺฉ ุจุฑูุงูู ุงูุชุญุงู ฺฉูุฏุ ุงฺฏุฑ ูุงู ูุณุชุฏ. ุจุง ุงู ุญุงูุ ุงู ุงูฺฏู ุขูโูุฏุฑ ุฑุงุฌ ุงุณุช ฺฉู Rust ฺฉ ุณุงุฒู ุฒุจุงู ุฏุงุฎู ุจุฑุง ุขู ุฏุงุฑุฏ ฺฉู ุจู ุขู ุญููู <code>while</code> ฺฏูุชู ูโุดูุฏ. ุฏุฑ Listing 3-3ุ ุงุฒ <code>while</code> ุจุฑุง ุงุฌุฑุง ุจุฑูุงูู ุณู ุจุงุฑุ ุดูุงุฑุด ูุนฺฉูุณ ุฏุฑ ูุฑ ุจุงุฑุ ู ุณูพุณ ฺุงูพ ฺฉ ูพุงู ู ุฎุฑูุฌ ุงุฒ ุญููู ุงุณุชูุงุฏู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut number = 3;

    while number != 0 {
        println!("{number}!");

        number -= 1;
    }

    println!("LIFTOFF!!!");
}</code></pre></pre>
<figcaption>Listing 3-3: ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>while</code> ุจุฑุง ุงุฌุฑุง ฺฉุฏ ุชุง ุฒูุงู ฺฉู ุดุฑุท ุจุฑูุฑุงุฑ ุจุงุดุฏ</figcaption>
</figure>
<p>ุงู ุณุงุฒู ููุฏุงุฑ ุฒุงุฏ ุงุฒ ุชู ุฏุฑ ุชู ฺฉู ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ <code>loop</code>ุ <code>if</code>ุ <code>else</code> ู <code>break</code> ูุงุฒู ุจูุฏ ุฑุง ุญุฐู ูโฺฉูุฏ ู ูุงุถุญโุชุฑ ุงุณุช. ุชุง ุฒูุงู ฺฉู ฺฉ ุดุฑุท ุจู ููุฏุงุฑ <code>true</code> ุงุฑุฒุงุจ ุดูุฏุ ฺฉุฏ ุงุฌุฑุง ูโุดูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุญููู ูุชููู ูโุดูุฏ.</p>
<h4 id="ุชฺฉุฑุงุฑ-ุงุฒ-ุทุฑู-ฺฉ-ูุฌููุนู-ุจุง-for"><a class="header" href="#ุชฺฉุฑุงุฑ-ุงุฒ-ุทุฑู-ฺฉ-ูุฌููุนู-ุจุง-for">ุชฺฉุฑุงุฑ ุงุฒ ุทุฑู ฺฉ ูุฌููุนู ุจุง <code>for</code></a></h4>
<p>ุดูุง ููฺูู ูโุชูุงูุฏ ุงุฒ ุณุงุฎุชุงุฑ <code>while</code> ุจุฑุง ุชฺฉุฑุงุฑ ุฏุฑ ุนูุงุตุฑ ฺฉ ูุฌููุนู ูุงููุฏ ฺฉ ุขุฑุงู ุงุณุชูุงุฏู ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุญููู ุฏุฑ Listing 3-4 ูุฑ ุนูุตุฑ ุฏุฑ ุขุฑุงู <code>a</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let a = [10, 20, 30, 40, 50];
    let mut index = 0;

    while index &lt; 5 {
        println!("the value is: {}", a[index]);

        index += 1;
    }
}</code></pre></pre>
<figcaption>Listing 3-4: ุชฺฉุฑุงุฑ ุฏุฑ ูุฑ ุนูุตุฑ ฺฉ ูุฌููุนู ุจุง ุงุณุชูุงุฏู ุงุฒ ุญููู <code>while</code></figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ฺฉุฏ ุงุฒ ุทุฑู ุนูุงุตุฑ ุขุฑุงู ุดูุงุฑุด ูโฺฉูุฏ. ุงุฒ ุงูุฏุณ (index)<code>0</code> ุดุฑูุน ูโฺฉูุฏ ู ุณูพุณ ุชุง ุฒูุงู ฺฉู ุจู ุขุฎุฑู ุงูุฏุณ (index)ุฏุฑ ุขุฑุงู ุจุฑุณุฏ (ุนู ููุช ฺฉู <code>index &lt; 5</code> ุฏฺฏุฑ <code>true</code> ูุจุงุดุฏ) ุญููู ูโุฒูุฏ. ุงุฌุฑุง ุงู ฺฉุฏ ูุฑ ุนูุตุฑ ุฏุฑ ุขุฑุงู ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling loops v0.1.0 (file:///projects/loops)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.32s
     Running `target/debug/loops`
the value is: 10
the value is: 20
the value is: 30
the value is: 40
the value is: 50
</code></pre>
<p>ููู ูพูุฌ ููุฏุงุฑ ุขุฑุงู ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ูโุฑูุฏ ุฏุฑ ุชุฑููุงู ุธุงูุฑ ูโุดููุฏ. ุญุช ุงฺฏุฑ <code>index</code> ุฏุฑ ููุงุช ุจู ููุฏุงุฑ <code>5</code> ุจุฑุณุฏุ ุญููู ูุจู ุงุฒ ุชูุงุด ุจุฑุง ฺฏุฑูุชู ููุฏุงุฑ ุดุดู ุงุฒ ุขุฑุงู ูุชููู ูโุดูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุงู ุฑูุด ูุณุชุนุฏ ุฎุทุงุณุชุ ูุง ูโุชูุงูู ุจุงุนุซ ุดูู ุจุฑูุงูู ุฏุฑ ุตูุฑุช ุงุดุชุจุงู ุจูุฏู ููุฏุงุฑ ุงูุฏุณ (index)ุง ุดุฑุท ุขุฒูุงุด ูุชููู ุดูุฏ. ุจู ุนููุงู ูุซุงูุ ุงฺฏุฑ ุชุนุฑู ุขุฑุงู <code>a</code> ุฑุง ุจู ฺูุงุฑ ุนูุตุฑ ุชุบุฑ ุฏูุฏ ุงูุง ูุฑุงููุด ฺฉูุฏ ุดุฑุท ุฑุง ุจู <code>while index &lt; 4</code> ุจูโุฑูุฒุฑุณุงู ฺฉูุฏุ ฺฉุฏ ูุชููู ุฎูุงูุฏ ุดุฏ. ููฺูู ุงู ุฑูุด ฺฉูุฏ ุงุณุชุ ุฒุฑุง ฺฉุงููพุงูุฑ ฺฉุฏ ุฒูุงู ุงุฌุฑุง ุฑุง ุจุฑุง ุงูุฌุงู ุจุฑุฑุณ ุดุฑุท ุฏุฑ ููุฑุฏ ุงูฺฉู ุขุง ุงูุฏุณ (index)ุฏุฑ ูุญุฏูุฏู ุขุฑุงู ุงุณุช ุง ูู ุฏุฑ ูุฑ ุชฺฉุฑุงุฑ ุญููู ุงุถุงูู ูโฺฉูุฏ.</p>
<p>ุจู ุนููุงู ฺฉ ุฌุงฺฏุฒู ูุฎุชุตุฑุชุฑุ ูโุชูุงูุฏ ุงุฒ ุญููู <code>for</code> ุงุณุชูุงุฏู ฺฉูุฏ ู ุจุฑุง ูุฑ ููุฑุฏ ุฏุฑ ฺฉ ูุฌููุนูุ ฺฉุฏ ุงุฌุฑุง ฺฉูุฏ. ฺฉ ุญููู <code>for</code> ุดุจู ฺฉุฏ ุฏุฑ Listing 3-5 ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a {
        println!("the value is: {element}");
    }
}</code></pre></pre>
<figcaption>Listing 3-5: ุชฺฉุฑุงุฑ ุฏุฑ ูุฑ ุนูุตุฑ ฺฉ ูุฌููุนู ุจุง ุงุณุชูุงุฏู ุงุฒ ุญููู <code>for</code></figcaption>
</figure>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ูุดุงุจู Listing 3-4 ุฑุง ูุดุงูุฏู ุฎูุงูู ฺฉุฑุฏ. ูููโุชุฑ ุงูฺฉูุ ุงฺฉููู ุงูู ฺฉุฏ ุฑุง ุงูุฒุงุด ุฏุงุฏูโุงู ู ุงุญุชูุงู ุฎุทุงูุง ฺฉู ููฺฉู ุงุณุช ูุงุด ุงุฒ ูุฑุงุชุฑ ุฑูุชู ุงุฒ ุงูุชูุง ุขุฑุงู ุง ุนุฏู ุฏุณุชุฑุณ ุจู ุจุฑุฎ ุงุฒ ุขุชูโูุง ุจุงุดุฏ ุฑุง ุญุฐู ฺฉุฑุฏูโุงู.</p>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ุญููู <code>for</code>ุ ูุงุฒ ุจู ุจู ุฎุงุทุฑ ุณูพุฑุฏู ุชุบุฑ ฺฉุฏ ุฏฺฏุฑ ูุฏุงุฑุฏ ุงฺฏุฑ ุชุนุฏุงุฏ ููุงุฏุฑ ุฏุฑ ุขุฑุงู ุฑุง ุชุบุฑ ุฏูุฏุ ููุงูุทูุฑ ฺฉู ุจุง ุฑูุด ุงุณุชูุงุฏู ุดุฏู ุฏุฑ Listing 3-4 ุจุงุฏ ุงูุฌุงู ูโุฏุงุฏุฏ.</p>
<p>ุงูู ู ูุฎุชุตุฑ ุจูุฏู ุญูููโูุง <code>for</code> ุขููุง ุฑุง ุจู ุฑุงุฌโุชุฑู ุณุงุฒู ุญูููโุง ุฏุฑ Rust ุชุจุฏู ฺฉุฑุฏู ุงุณุช. ุญุช ุฏุฑ ูููุนุชโูุง ฺฉู ูโุฎูุงูุฏ ฺฉุฏ ุฑุง ุชุนุฏุงุฏ ูุดุฎุต ุงุฒ ุฏูุนุงุช ุงุฌุฑุง ฺฉูุฏุ ูุงููุฏ ูุซุงู ุดูุงุฑุด ูุนฺฉูุณ ฺฉู ุงุฒ ุญููู <code>while</code> ุฏุฑ Listing 3-3 ุงุณุชูุงุฏู ูโฺฉุฑุฏุ ุงฺฉุซุฑ ุจุฑูุงููโููุณุงู Rust ุงุฒ ุญููู <code>for</code> ุงุณุชูุงุฏู ูโฺฉููุฏ. ุฑูุด ุงูุฌุงู ุงู ฺฉุงุฑ ุงุณุชูุงุฏู ุงุฒ <code>Range</code>ุ ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ูโุดูุฏุ ุงุณุช ฺฉู ุชูุงู ุงุนุฏุงุฏ ุฑุง ุจู ุชุฑุชุจ ุงุฒ ฺฉ ุนุฏุฏ ุดุฑูุน ฺฉุฑุฏู ู ูุจู ุงุฒ ุนุฏุฏ ุฏฺฏุฑ ุจู ูพุงุงู ูโุฑุณุงูุฏ.</p>
<p>ุงู ฺุฒ ุงุณุช ฺฉู ุดูุงุฑุด ูุนฺฉูุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>for</code> ู ุฑูุด ุฏฺฏุฑ ฺฉู ูููุฒ ุฏุฑ ููุฑุฏ ุขู ุตุญุจุช ูฺฉุฑุฏูโุงูุ ุนู <code>rev</code> ุจุฑุง ูุนฺฉูุณ ฺฉุฑุฏู ูุญุฏูุฏูุ ุจู ูุธุฑ ูโุฑุณุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    for number in (1..4).rev() {
        println!("{number}!");
    }
    println!("LIFTOFF!!!");
}</code></pre></pre>
<p>ุงู ฺฉุฏ ฺฉู ุจูุชุฑ ูุณุชุ</p>
<h2 id="ุฎูุงุตู-2"><a class="header" href="#ุฎูุงุตู-2">ุฎูุงุตู</a></h2>
<p>ุดูุง ูููู ุดุฏุฏ! ุงู ฺฉ ูุตู ุจุฒุฑฺฏ ุจูุฏ: ุดูุง ุฏุฑุจุงุฑู ูุชุบุฑูุงุ ุงููุงุน ุฏุงุฏู ุงุณฺฉุงูุฑ ู ูุฑฺฉุจุ ุชูุงุจุนุ ูุธุฑุงุชุ ุนุจุงุฑุงุช <code>if</code> ู ุญูููโูุง ุงุฏ ฺฏุฑูุชุฏ! ุจุฑุง ุชูุฑู ุจุง ููุงูู ูุทุฑุญโุดุฏู ุฏุฑ ุงู ูุตูุ ุณุน ฺฉูุฏ ุจุฑูุงููโูุง ุจุฑุง ุงูุฌุงู ููุงุฑุฏ ุฒุฑ ุจุณุงุฒุฏ:</p>
<ul>
<li>ุชุจุฏู ุฏูุง ุจู ูุงุฑููุงุช ู ุณูุณูุณ.</li>
<li>ุชููุฏ ุนุฏุฏ <em>n</em>ุงู ุฏูุจุงูู ูุจููุงฺ.</li>
<li>ฺุงูพ ูุชู ุณุฑูุฏ ฺฉุฑุณูุณ โThe Twelve Days of Christmasโุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชฺฉุฑุงุฑ ููุฌูุฏ ุฏุฑ ุงู ุขููฺฏ.</li>
</ul>
<p>ููุช ุขูุงุฏู ุดุฏุฏ ุชุง ุจู ูุฑุญูู ุจุนุฏ ุจุฑูุฏุ ูุง ุฏุฑุจุงุฑู ููููู ุฏุฑ Rust ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ ฺฉู <em>ูุนูููุงู</em> ุฏุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ: ูุงูฺฉุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุฏุฑฺฉ-ูุงูฺฉุช"><a class="header" href="#ุฏุฑฺฉ-ูุงูฺฉุช">ุฏุฑฺฉ ูุงูฺฉุช</a></h1>
<p>ูุงูฺฉุช ฺฉ ุงุฒ ูฺฺฏโูุง ููุญุตุฑ ุจู ูุฑุฏ Rust ุงุณุช ู ุชุฃุซุฑุงุช ุนูู ุจุฑ ุณุงุฑ ุจุฎุดโูุง ุฒุจุงู ุฏุงุฑุฏ. ุงู ูฺฺฏ ุจู Rust ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจุฏูู ูุงุฒ ุจู ฺฉ ุฌูุนโุขูุฑ ุฒุจุงูู (garbage collector)ุ ุชุถููโูุง ุงูู ุญุงูุธู ุฑุง ูุฑุงูู ฺฉูุฏุ ุจูุงุจุฑุงู ุฏุฑฺฉ ฺฺฏููฺฏ ฺฉุงุฑฺฉุฑุฏ ูุงูฺฉุช ุจุณุงุฑ ููู ุงุณุช. ุฏุฑ ุงู ูุตูุ ูุง ุฏุฑุจุงุฑู ูุงูฺฉุช ู ฺูุฏ ูฺฺฏ ูุฑุชุจุท ุฏฺฏุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ: ูุฑุถ ฺฏุฑูุชู (borrowing)ุ ุจุฑุดโูุง (slices) ู ูุญูู ฺุฏูุงู ุฏุงุฏูโูุง ุฏุฑ ุญุงูุธู ุชูุณุท Rust.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุงูฺฉุช-ฺุณุช"><a class="header" href="#ูุงูฺฉุช-ฺุณุช">ูุงูฺฉุช ฺุณุชุ</a></h2>
<p><em>ูุงูฺฉุช</em> ูุฌููุนูโุง ุงุฒ ููุงูู ุงุณุช ฺฉู ูุญูู ูุฏุฑุช ุญุงูุธู ุฑุง ุฏุฑ ุจุฑูุงููโูุง Rust ุชุนู ูโฺฉูุฏ. ููู ุจุฑูุงููโูุง ุจุงุฏ ูุญูู ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู ฺฉุงููพูุชุฑ ุฑุง ุฏุฑ ููฺฏุงู ุงุฌุฑุง ูุฏุฑุช ฺฉููุฏ. ุจุฑุฎ ุฒุจุงูโูุง ุงุฒ ุฌูุนโุขูุฑ ุฒุจุงูู ุงุณุชูุงุฏู ูโฺฉููุฏ ฺฉู ุจู ุทูุฑ ููุธู ุญุงูุธูโุง ุฑุง ฺฉู ุฏฺฏุฑ ุงุณุชูุงุฏู ููโุดูุฏ ุจุฑุฑุณ ูโฺฉูุฏุ ุฏุฑ ุฏฺฏุฑ ุฒุจุงูโูุงุ ุจุฑูุงููโููุณ ุจุงุฏ ุญุงูุธู ุฑุง ุจู ุตูุฑุช ุตุฑุญ ุชุฎุตุต ุฏุงุฏู ู ุขุฒุงุฏ ฺฉูุฏ. Rust ุงุฒ ฺฉ ุฑูุด ุณูู ุงุณุชูุงุฏู ูโฺฉูุฏ: ุญุงูุธู ุงุฒ ุทุฑู ุณุณุชู ุงุฒ ูุงูฺฉุช ุจุง ูุฌููุนูโุง ุงุฒ ููุงูู ูุฏุฑุช ูโุดูุฏ ฺฉู ฺฉุงููพุงูุฑ ุขูโูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ. ุงฺฏุฑ ูุฑ ฺฉ ุงุฒ ุงู ููุงูู ููุถ ุดูุฏุ ุจุฑูุงูู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ูฺโฺฉ ุงุฒ ูฺฺฏโูุง ูุงูฺฉุช ุจุฑูุงูู ุดูุง ุฑุง ุฏุฑ ููฺฏุงู ุงุฌุฑุง ฺฉูุฏ ููโฺฉูุฏ.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุงูฺฉุช ฺฉ ููููู ุฌุฏุฏ ุจุฑุง ุจุณุงุฑ ุงุฒ ุจุฑูุงููโููุณุงู ุงุณุชุ ุฒูุงู ูโุจุฑุฏ ุชุง ุจู ุขู ุนุงุฏุช ฺฉูุฏ. ุฎุจุฑ ุฎูุจ ุงู ุงุณุช ฺฉู ูุฑ ฺู ุจุดุชุฑ ุจุง Rust ู ููุงูู ุณุณุชู ูุงูฺฉุช ุขู ุขุดูุง ุดูุฏุ ููุดุชู ฺฉุฏ ฺฉู ุงูู ู ฺฉุงุฑุขูุฏ ุจุงุดุฏ ุจุฑุงุชุงู ุขุณุงูโุชุฑ ุฎูุงูุฏ ุดุฏ. ุจู ุชูุงุด ุงุฏุงูู ุฏูุฏ!</p>
<p>ููุช ูุงูฺฉุช ุฑุง ุฏุฑฺฉ ฺฉูุฏุ ูพุงูโุง ูุญฺฉู ุจุฑุง ุฏุฑฺฉ ูฺฺฏโูุง ฺฉู Rust ุฑุง ููุญุตุฑ ุจู ูุฑุฏ ูโฺฉููุฏ ุฎูุงูุฏ ุฏุงุดุช. ุฏุฑ ุงู ูุตูุ ูุงูฺฉุช ุฑุง ุจุง ฺฉุงุฑ ุจุฑ ุฑู ฺูุฏ ูุซุงู ฺฉู ุจุฑ ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจุณุงุฑ ุฑุงุฌ ุชูุฑฺฉุฒ ุฏุงุฑูุฏ ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช: ุฑุดุชูโูุง.</p>
<section class="note" aria-role="note">
<h3 id="ูพุดุชู-ู-ุญุงูุธู"><a class="header" href="#ูพุดุชู-ู-ุญุงูุธู">ูพุดุชู ู ุญุงูุธู</a></h3>
<p>ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุดูุง ุฑุง ูุฌุจูุฑ ููโฺฉููุฏ ฺฉู ุจู ูพุดุชู ู ุญุงูุธู ุฒุงุฏ ูฺฉุฑ ฺฉูุฏ. ุงูุง ุฏุฑ ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุณุณุชู ูุงููุฏ Rustุ ุงู ฺฉู ุขุง ฺฉ ููุฏุงุฑ ุฏุฑ ูพุดุชู ุงุณุช ุง ุฏุฑ ุญุงูุธู ุชุฃุซุฑ ูโฺฏุฐุงุฑุฏ ฺฉู ุฒุจุงู ฺฺฏููู ุฑูุชุงุฑ ูโฺฉูุฏ ู ฺุฑุง ุจุงุฏ ุชุตููุงุช ุฎุงุต ุจฺฏุฑุฏ. ุจุฎุดโูุง ุงุฒ ูุงูฺฉุช ุฏุฑ ุฑุงุจุทู ุจุง ูพุดุชู ู ุญุงูุธู ุฏุฑ ุงุฏุงูู ุงู ูุตู ุชูุถุญ ุฏุงุฏู ุฎูุงููุฏ ุดุฏุ ุจูุงุจุฑุงู ุฏุฑ ุงูุฌุง ุชูุถุญ ูุฎุชุตุฑ ุจู ุนููุงู ุขูุงุฏฺฏ ุขูุฑุฏู ุดุฏู ุงุณุช.</p>
<p>ูพุดุชู ู ุญุงูุธู ูุฑ ุฏู ุจุฎุดโูุง ุงุฒ ุญุงูุธู ูุณุชูุฏ ฺฉู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฏุฑ ุงุฎุชุงุฑ ฺฉุฏ ุดูุง ูุฑุงุฑ ูโฺฏุฑูุฏุ ุงูุง ุจู ุฑูุดโูุง ูุฎุชูู ุณุงุฎุชุงุฑ ุงูุชูโุงูุฏ. ูพุดุชู ููุงุฏุฑ ุฑุง ุจู ุชุฑุชุจ ฺฉู ุฏุฑุงูุช ูโฺฉูุฏ ุฐุฎุฑู ูโฺฉูุฏ ู ููุงุฏุฑ ุฑุง ุจู ุชุฑุชุจ ูุนฺฉูุณ ุญุฐู ูโฺฉูุฏ. ุงู ุจู ุนููุงู <em>ุขุฎุฑู ูุฑูุฏุ ุงููู ุฎุฑูุฌ</em> ุดูุงุฎุชู ูโุดูุฏ. ุจู ฺฉ ุฏุณุชู ุจุดูุงุจ ูฺฉุฑ ฺฉูุฏ: ููุช ุจุดูุงุจโูุง ุจุดุชุฑ ุงุถุงูู ูโฺฉูุฏุ ุขูโูุง ุฑุง ุฑู ุจุงูุง ุฏุณุชู ูุฑุงุฑ ูโุฏูุฏ ู ููุช ุจู ฺฉ ุจุดูุงุจ ูุงุฒ ุฏุงุฑุฏุ ฺฉ ุฑุง ุงุฒ ุจุงูุง ุฏุณุชู ุจุฑูโุฏุงุฑุฏ. ุงูุฒูุฏู ุง ุญุฐู ุจุดูุงุจโูุง ุงุฒ ูุณุท ุง ูพุงู ุฏุณุชู ุจู ุฎูุจ ฺฉุงุฑ ููโฺฉูุฏ! ุงูุฒูุฏู ุฏุงุฏู ุจู ูพุดุชู <em>ูพูุดโฺฉุฑุฏู ุจู ูพุดุชู</em> ูุงูุฏู ูโุดูุฏ ู ุญุฐู ุฏุงุฏู ุงุฒ ุขู <em>ูพุงูพโฺฉุฑุฏู ุงุฒ ูพุดุชู</em>. ุชูุงู ุฏุงุฏูโูุง ฺฉู ุฏุฑ ูพุดุชู ุฐุฎุฑู ูโุดููุฏ ุจุงุฏ ุงูุฏุงุฒูโุง ุดูุงุฎุชูโุดุฏู ู ุซุงุจุช ุฏุงุดุชู ุจุงุดูุฏ. ุฏุงุฏูโูุง ุจุง ุงูุฏุงุฒู ูุงุดูุงุฎุชู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุง ุงูุฏุงุฒูโุง ฺฉู ููฺฉู ุงุณุช ุชุบุฑ ฺฉูุฏ ุจุงุฏ ุฏุฑ ุญุงูุธู ุฐุฎุฑู ุดููุฏ.</p>
<p>ุญุงูุธู ฺฉูุชุฑ ุณุงุฒูุงูโุงูุชู ุงุณุช: ููุช ุฏุงุฏูโุง ุฑุง ุฏุฑ ุญุงูุธู ูุฑุงุฑ ูโุฏูุฏุ ููุฏุงุฑ ูุดุฎุต ุงุฒ ูุถุง ุฑุง ุฏุฑุฎูุงุณุช ูโฺฉูุฏ. ุชุฎุตุตโุฏููุฏู ุญุงูุธู ฺฉ ูฺฉุงู ุฎุงู ุฏุฑ ุญุงูุธู ูพุฏุง ูโฺฉูุฏ ฺฉู ุจู ุงูุฏุงุฒู ฺฉุงู ุจุฒุฑฺฏ ุจุงุดุฏุ ุขู ุฑุง ุจู ุนููุงู ุงุณุชูุงุฏู ุดุฏู ุนูุงูุชโฺฏุฐุงุฑ ูโฺฉูุฏ ู ฺฉ <em>ุงุดุงุฑูโฺฏุฑ (Pointer)</em> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุขุฏุฑุณ ุขู ูฺฉุงู ุงุณุช. ุงู ูุฑุขูุฏ <em>ุชุฎุตุต ุฏุฑ ุญุงูุธู</em> ูุงูุฏู ูโุดูุฏ ู ฺฏุงู ุงููุงุช ุจู ุงุฎุชุตุงุฑ <em>ุชุฎุตุต</em> ูุงูุฏู ูโุดูุฏ (ูพูุดโฺฉุฑุฏู ููุงุฏุฑ ุจู ูพุดุชู ุจู ุนููุงู ุชุฎุตุต ุฏุฑ ูุธุฑ ฺฏุฑูุชู ููโุดูุฏ). ุงุฒ ุขูุฌุง ฺฉู ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุญุงูุธู ุงูุฏุงุฒูโุง ุดูุงุฎุชูโุดุฏู ู ุซุงุจุช ุฏุงุฑุฏุ ูโุชูุงูุฏ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฑุง ุฏุฑ ูพุดุชู ุฐุฎุฑู ฺฉูุฏุ ุงูุง ููุช ุฏุงุฏู ูุงูุน ุฑุง ูโุฎูุงูุฏุ ุจุงุฏ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฑุง ุฏูุจุงู ฺฉูุฏ. ุจู ูุฑูุฏ ุจู ฺฉ ุฑุณุชูุฑุงู ูฺฉุฑ ฺฉูุฏ. ููุช ูุงุฑุฏ ูโุดูุฏุ ุชุนุฏุงุฏ ุงูุฑุงุฏ ฺฏุฑูู ุฎูุฏ ุฑุง ุงุนูุงู ูโฺฉูุฏ ู ูุฒุจุงู ฺฉ ูุฒ ุฎุงู ูพุฏุง ูโฺฉูุฏ ฺฉู ููู ุฑุง ุฌุง ุฏูุฏ ู ุดูุง ุฑุง ุจู ุขูุฌุง ูโุจุฑุฏ. ุงฺฏุฑ ฺฉุณ ุงุฒ ฺฏุฑูู ุดูุง ุฏุฑ ุจุฑุณุฏุ ูโุชูุงูุฏ ุจูพุฑุณุฏ ฺฉุฌุง ูุดุณุชูโุงุฏ ุชุง ุดูุง ุฑุง ูพุฏุง ฺฉูุฏ.</p>
<p>ูพูุดโฺฉุฑุฏู ุจู ูพุดุชู ุณุฑุนโุชุฑ ุงุฒ ุชุฎุตุต ุฏุฑ ุญุงูุธู ุงุณุชุ ุฒุฑุง ุชุฎุตุตโุฏููุฏู ูุฑฺฏุฒ ูุฌุจูุฑ ูุณุช ูฺฉุงู ุฌุฏุฏ ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุฌุณุชุฌู ฺฉูุฏุ ุขู ูฺฉุงู ููุดู ุจุงูุง ูพุดุชู ุงุณุช. ุฏุฑ ููุงุณูุ ุชุฎุตุต ูุถุง ุฏุฑ ุญุงูุธู ูุงุฒ ุจู ฺฉุงุฑ ุจุดุชุฑ ุฏุงุฑุฏ ุฒุฑุง ุชุฎุตุตโุฏููุฏู ุจุงุฏ ุงุจุชุฏุง ูฺฉุงู ุจู ุงูุฏุงุฒู ฺฉุงู ุจุฒุฑฺฏ ุจุฑุง ุฏุงุฏู ูพุฏุง ฺฉูุฏ ู ุณูพุณ ุจุฑุง ุชุฎุตุต ุจุนุฏ ุขูุงุฏูโุณุงุฒ ุงูุฌุงู ุฏูุฏ.</p>
<p>ุฏุณุชุฑุณ ุจู ุฏุงุฏู ุฏุฑ ุญุงูุธู ฺฉูุฏุชุฑ ุงุฒ ุฏุณุชุฑุณ ุจู ุฏุงุฏู ุฏุฑ ูพุดุชู ุงุณุช ุฒุฑุง ุจุงุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฑุง ุฏูุจุงู ฺฉูุฏ ุชุง ุจู ุขู ุจุฑุณุฏ. ูพุฑุฏุงุฒูุฏูโูุง ูุนุงุตุฑ ุณุฑุนโุชุฑ ูุณุชูุฏ ุงฺฏุฑ ุฏุฑ ุญุงูุธู ฺฉูุชุฑ ูพุฑุด ฺฉููุฏ. ุงุฏุงูู ุฏุงุฏู ุงู ุชูุซูุ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ฺฉ ูพุดุฎุฏูุช ุฏุฑ ุฑุณุชูุฑุงู ุณูุงุฑุดโูุง ุจุณุงุฑ ุงุฒ ูุฒูุง ุฑุง ูโฺฏุฑุฏ. ุงู ฺฉุงุฑุขูุฏุชุฑ ุงุณุช ฺฉู ุชูุงู ุณูุงุฑุดโูุง ฺฉ ูุฒ ุฑุง ุจฺฏุฑุฏ ูุจู ุงุฒ ุงูฺฉู ุจู ูุฒ ุจุนุฏ ุจุฑูุฏ. ฺฏุฑูุชู ุณูุงุฑุด ุงุฒ ูุฒ Aุ ุณูพุณ ุงุฒ ูุฒ Bุ ุณูพุณ ุฏูุจุงุฑู ฺฉ ุงุฒ Aุ ู ุณูพุณ ฺฉ ุงุฒ B ูุฑุขูุฏ ุจุณุงุฑ ฺฉูุฏุชุฑ ุฎูุงูุฏ ุจูุฏ. ุจู ููู ุชุฑุชุจุ ฺฉ ูพุฑุฏุงุฒูุฏู ูโุชูุงูุฏ ุจูุชุฑ ฺฉุงุฑ ุฎูุฏ ุฑุง ุงูุฌุงู ุฏูุฏ ุงฺฏุฑ ุฑู ุฏุงุฏูโุง ฺฉุงุฑ ฺฉูุฏ ฺฉู ุจู ุฏุงุฏูโูุง ุฏฺฏุฑ ูุฒุฏฺฉ ุจุงุดุฏ (ูุงููุฏ ุขูฺู ุฏุฑ ูพุดุชู ุงุณุช) ุชุง ุฏุงุฏูโุง ฺฉู ุฏูุฑุชุฑ ุจุงุดุฏ (ูุงููุฏ ุขูฺู ููฺฉู ุงุณุช ุฏุฑ ุญุงูุธู ุจุงุดุฏ).</p>
<p>ููุช ฺฉุฏ ุดูุง ฺฉ ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏุ ููุงุฏุฑ ฺฉู ุจู ุชุงุจุน ููุชูู ูโุดููุฏ (ุงุฒ ุฌูููุ ุงุญุชูุงูุงูุ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุจู ุฏุงุฏู ุฏุฑ ุญุงูุธู) ู ูุชุบุฑูุง ูุญู ุชุงุจุน ุจู ูพุดุชู ูพูุด ูโุดููุฏ. ููุช ุชุงุจุน ุชูุงู ูโุดูุฏุ ุขู ููุงุฏุฑ ุงุฒ ูพุดุชู ูพุงูพ ูโุดููุฏ.</p>
<p>ูพฺฏุฑ ุงู ฺฉู ฺู ุจุฎุดโูุง ุงุฒ ฺฉุฏ ุงุฒ ฺู ุฏุงุฏูโูุง ุฏุฑ ุญุงูุธู ุงุณุชูุงุฏู ูโฺฉููุฏุ ุจู ุญุฏุงูู ุฑุณุงูุฏู ููุฏุงุฑ ุฏุงุฏูโูุง ุชฺฉุฑุงุฑ ุฏุฑ ุญุงูุธูุ ู ูพุงฺฉ ฺฉุฑุฏู ุฏุงุฏูโูุง ุงุณุชูุงุฏู ูุดุฏู ุฏุฑ ุญุงูุธู ุจู ุทูุฑ ฺฉู ูุถุง ุจุดุชุฑ ุงุดุบุงู ูุดูุฏ ููู ูุดฺฉูุงุช ูุณุชูุฏ ฺฉู ูุงูฺฉุช ุจู ุขูโูุง ูโูพุฑุฏุงุฒุฏ. ููฺฏุงู ฺฉู ูุงูฺฉุช ุฑุง ุฏุฑฺฉ ฺฉูุฏุ ูุงุฒ ูุฎูุงูุฏ ุฏุงุดุช ฺฉู ุงุบูุจ ุจู ูพุดุชู ู ุญุงูุธู ูฺฉุฑ ฺฉูุฏุ ุงูุง ุฏุงูุณุชู ุงู ฺฉู ูุฏู ุงุตู ูุงูฺฉุช ูุฏุฑุช ุฏุงุฏูโูุง ุญุงูุธู ุงุณุช ูโุชูุงูุฏ ุชูุถุญ ุฏูุฏ ฺฉู ฺุฑุง ุจู ุงู ุตูุฑุช ุนูู ูโฺฉูุฏ.</p>
</section>
<h3 id="ููุงูู-ูุงูฺฉุช"><a class="header" href="#ููุงูู-ูุงูฺฉุช">ููุงูู ูุงูฺฉุช</a></h3>
<p>ุงุจุชุฏุงุ ุจุงุฏ ูฺฏุงู ุจู ููุงูู ูุงูฺฉุช ุจูุฏุงุฒู. ุงู ููุงูู ุฑุง ุฏุฑ ุฐูู ุฏุงุดุชู ุจุงุดุฏ ุฒุฑุง ุจุง ูุซุงูโูุง ฺฉู ุขูโูุง ุฑุง ูุดุงู ูโุฏููุฏ ฺฉุงุฑ ูโฺฉูู:</p>
<ul>
<li>ูุฑ ููุฏุงุฑ ุฏุฑ Rust ฺฉ <em>ูุงูฺฉ</em> ุฏุงุฑุฏ.</li>
<li>ุฏุฑ ฺฉ ุฒูุงู ููุท ูโุชูุงูุฏ ฺฉ ูุงูฺฉ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ.</li>
<li>ุฒูุงู ฺฉู ูุงูฺฉ ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุดูุฏุ ููุฏุงุฑ <em>ุญุฐู</em> ุฎูุงูุฏ ุดุฏ.</li>
</ul>
<h3 id="ุฏุงููู-ูุชุบุฑ"><a class="header" href="#ุฏุงููู-ูุชุบุฑ">ุฏุงููู ูุชุบุฑ</a></h3>
<p>ุญุงู ฺฉู ุงุฒ ุณูุชฺฉุณ ูพุงู Rust ฺฏุฐุดุชูโุงูุ ุฏุฑ ูุซุงูโูุง ฺฉุฏ ฺฉุงูู <code>fn main() {</code> ุฑุง ูุฎูุงูู ุขูุฑุฏ. ุจูุงุจุฑุงูุ ุงฺฏุฑ ุฏูุจุงู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ูุซุงูโูุง ุฒุฑ ุฑุง ุจู ุตูุฑุช ุฏุณุช ุฏุงุฎู ฺฉ ุชุงุจุน <code>main</code> ูุฑุงุฑ ุฏูุฏ. ุฏุฑ ูุชุฌูุ ูุซุงูโูุง ูุง ฺฉู ูุฎุชุตุฑุชุฑ ุฎูุงููุฏ ุจูุฏ ู ูโุชูุงูู ุจุฑ ุฑู ุฌุฒุฆุงุช ูุงูุน ุจู ุฌุง ฺฉุฏ ุงุจุชุฏุง ุชูุฑฺฉุฒ ฺฉูู.</p>
<p>ุจู ุนููุงู ุงููู ูุซุงู ุงุฒ ูุงูฺฉุชุ ุจู <em>ุฏุงููู</em> ุจุฑุฎ ูุชุบุฑูุง ูฺฏุงู ูโฺฉูู. ุฏุงููู ูุญุฏูุฏูโุง ุงุณุช ฺฉู ุฏุฑ ุขู ฺฉ ุขุชู ุฏุฑ ฺฉ ุจุฑูุงูู ูุนุชุจุฑ ุงุณุช. ุจู ูุชุบุฑ ุฒุฑ ุชูุฌู ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = "hello";
<span class="boring">}</span></code></pre></pre>
<p>ูุชุบุฑ <code>s</code> ุจู ฺฉ ุฑุดุชูโ ุซุงุจุช ุงุดุงุฑู ุฏุงุฑุฏุ ุฌุง ฺฉู ููุฏุงุฑ ุฑุดุชู ุจู ุตูุฑุช ุซุงุจุช ุฏุฑ ูุชู ุจุฑูุงูู ูุง ฺฉุฏููุณ ุดุฏู ุงุณุช. ุงู ูุชุบุฑ ุงุฒ ููุทูโุง ฺฉู ุงุนูุงู ุดุฏู ูุนุชุจุฑ ุงุณุช ุชุง ุงูุชูุง <em>ุฏุงููู</em> ุฌุงุฑ. ูุณุช 4-1 ุจุฑูุงููโุง ุฑุง ุจุง ุชูุถุญุงุช ฺฉู ูุดุงู ูโุฏููุฏ ูุชุบุฑ <code>s</code> ุฏุฑ ฺฉุฌุง ูุนุชุจุฑ ุงุณุชุ ููุงุด ูโุฏูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    {                      // s is not valid here, itโs not yet declared
        let s = "hello";   // s is valid from this point forward

        // do stuff with s
    }                      // this scope is now over, and s is no longer valid
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 4-1: ฺฉ ูุชุบุฑ ู ุฏุงูููโุง ฺฉู ุฏุฑ ุขู ูุนุชุจุฑ ุงุณุช</figcaption>
</figure>
<p>ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุฏุฑ ุงูุฌุง ุฏู ููุทูโ ููู ุฒูุงู ูุฌูุฏ ุฏุงุฑุฏ:</p>
<ul>
<li>ููุช <code>s</code> ูุงุฑุฏ ุฏุงููู ูโุดูุฏุ ูุนุชุจุฑ ุงุณุช.</li>
<li>ุชุง ุฒูุงู ฺฉู ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุดูุฏ ูุนุชุจุฑ ุจุงู ูโูุงูุฏ.</li>
</ul>
<p>ุฏุฑ ุงู ููุทูุ ุฑุงุจุทู ุจู ุฏุงูููโูุง ู ุฒูุงูโูุง ฺฉู ูุชุบุฑูุง ูุนุชุจุฑ ูุณุชูุฏ ูุดุงุจู ุจุง ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑ ุงุณุช. ุญุงูุง ุจุฑ ุงุณุงุณ ุงู ุฏุฑฺฉุ ููุน <code>String</code> ุฑุง ูุนุฑู ูโฺฉูู.</p>
<h3 id="ููุน-string"><a class="header" href="#ููุน-string">ููุน <code>String</code></a></h3>
<p>ุจุฑุง ูุดุงู ุฏุงุฏู ููุงูู ูุงูฺฉุชุ ุจู ููุน ุฏุงุฏูโุง ูุงุฒ ุฏุงุฑู ฺฉู ูพฺุฏูโุชุฑ ุงุฒ ุขูโูุง ุจุงุดุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#data-types">โุงููุงุน ุฏุงุฏูโ</a><!-- ignore --> ูุตู ณ ุจุฑุฑุณ ฺฉุฑุฏู. ุงููุงุน ฺฉู ูุจูุงู ูพูุดุด ุฏุงุฏู ุดุฏุ ุงูุฏุงุฒูโ ูุดุฎุต ุฏุงุฑูุฏุ ูโุชูุงููุฏ ุฏุฑ ุงุณุชฺฉ ุฐุฎุฑู ุดููุฏ ู ููุช ุฏุงูููโุดุงู ุชูุงู ุดุฏ ุงุฒ ุงุณุชฺฉ ุจุฑุฏุงุดุชู ุดููุฏ ู ูโุชูุงููุฏ ุจู ุณุฑุนุช ู ุจู ุณุงุฏฺฏ ุจุฑุง ุณุงุฎุชู ฺฉ ูููููโ ุฌุฏุฏ ู ูุณุชูู ฺฉูพ ุดููุฏ ุงฺฏุฑ ูุณูุช ุฏฺฏุฑ ุงุฒ ฺฉุฏ ุจุฎูุงูุฏ ููุงู ููุฏุงุฑ ุฑุง ุฏุฑ ุฏุงูููโ ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ุงูุง ูุง ูโุฎูุงูู ุจู ุฏุงุฏูโูุง ูฺฏุงู ฺฉูู ฺฉู ุฏุฑ ููพ ุฐุฎุฑู ุดุฏูโุงูุฏ ู ุจุฑุฑุณ ฺฉูู ฺฺฏููู Rust ูโุฏุงูุฏ ฺู ุฒูุงู ุจุงุฏ ุงู ุฏุงุฏูโูุง ุฑุง ูพุงฺฉุณุงุฒ ฺฉูุฏุ ู ููุน <code>String</code> ฺฉ ูุซุงู ุนุงู ุงุณุช.</p>
<p>ูุง ุฑู ุจุฎุดโูุง ุงุฒ <code>String</code> ุชูุฑฺฉุฒ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุจู ูุงูฺฉุช ูุฑุจูุท ูโุดููุฏ. ุงู ุฌูุจูโูุง ููฺูู ุจู ุณุงุฑ ุงููุงุน ุฏุงุฏูโูุง ูพฺุฏู ุงุนูุงู ูโุดููุฏุ ฺู ุขูโูุง ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ุดุฏูโุงูุฏ ู ฺู ุขูโูุง ฺฉู ุฎูุฏุชุงู ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏ. ูุง <code>String</code> ุฑุง ุฏุฑ ูุตู <a href="ch08-02-strings.html">ธ</a><!-- ignore --> ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ูุจูุงู ุฑุดุชูโูุง ุซุงุจุช ุฑุง ุฏุฏูโุงูุ ุฌุง ฺฉู ููุฏุงุฑ ุฑุดุชู ุฏุฑ ฺฉุฏ ูุง ุจู ุตูุฑุช ุซุงุจุช ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช. ุฑุดุชูโูุง ุซุงุจุช ุฑุงุญุช ูุณุชูุฏุ ุงูุง ุจุฑุง ูุฑ ูููุนุช ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูู ุงุฒ ูุชู ุงุณุชูุงุฏู ฺฉูู ููุงุณุจ ูุณุชูุฏ. ฺฉ ุงุฒ ุฏูุงู ุงู ุงุณุช ฺฉู ุขูโูุง ุชุบุฑูุงูพุฐุฑ ูุณุชูุฏ. ุฏูู ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ููโุชูุงู ูุฑ ููุฏุงุฑ ุฑุดุชู ุฑุง ููฺฏุงู ููุดุชู ฺฉุฏ ุฎูุฏ ุฏุงูุณุช: ุจู ุนููุงู ูุซุงูุ ุงฺฏุฑ ุจุฎูุงูู ูุฑูุฏ ฺฉุงุฑุจุฑ ุฑุง ุจฺฏุฑู ู ุฐุฎุฑู ฺฉูู ฺูุ ุจุฑุง ุงู ุดุฑุงุทุ Rust ฺฉ ููุน ุฑุดุชูโ ุฏฺฏุฑ ุจู ูุงู <code>String</code> ุฏุงุฑุฏ. ุงู ููุน ุฏุงุฏูโูุง ุชุฎุตุตโุงูุชู ุฏุฑ ููพ ุฑุง ูุฏุฑุช ูโฺฉูุฏ ู ุจู ููู ุฏูู ูโุชูุงูุฏ ููุฏุงุฑ ูุชู ุฑุง ุฐุฎุฑู ฺฉูุฏ ฺฉู ุงูุฏุงุฒูโ ุขู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุฑุง ูุง ูุงุดูุงุฎุชู ุงุณุช. ุดูุง ูโุชูุงูุฏ ฺฉ <code>String</code> ุฑุง ุงุฒ ฺฉ ุฑุดุชูโ ุซุงุจุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>from</code> ุงุฌุงุฏ ฺฉูุฏุ ุจู ุงู ุตูุฑุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = String::from("hello");
<span class="boring">}</span></code></pre></pre>
<p>ุนููฺฏุฑ <code>::</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงู ุชุงุจุน <code>from</code> ุฎุงุต ุฑุง ุชุญุช ููุน <code>String</code> ูุงูโฺฏุฐุงุฑ ฺฉูู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ููุน ูุงู ูุงููุฏ <code>string_from</code>. ุงู ุณูุชฺฉุณ ุฑุง ุจุดุชุฑ ุฏุฑ ุจุฎุด <a href="ch05-03-method-syntax.html#method-syntax">โุณูุชฺฉุณ ูุชุฏโ</a><!-- ignore --> ูุตู ต ู ููฺฏุงู ฺฉู ุฏุฑ ููุฑุฏ ูุงูโฺฏุฐุงุฑ ุจุง ูุงฺููโูุง ุตุญุจุช ูโฺฉูู ุฏุฑ ุจุฎุด <a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html">โูุณุฑูุง ุจุฑุง ุงุฑุฌุงุน ุจู ฺฉ ุขุชู ุฏุฑ ุฏุฑุฎุช ูุงฺููโ</a><!-- ignore --> ูุตู ท ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุงู ููุน ุฑุดุชู <em>ูโุชูุงูุฏ</em> ุชุบุฑ ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::from("hello");

    s.push_str(", world!"); // push_str() appends a literal to a String

    println!("{s}"); // This will print `hello, world!`
<span class="boring">}</span></code></pre></pre>
<p>ูพุณุ ุชูุงูุช ุงูุฌุง ฺุณุชุ ฺุฑุง <code>String</code> ูโุชูุงูุฏ ุชุบุฑ ฺฉูุฏ ุงูุง ุฑุดุชูโูุง ุซุงุจุช ููโุชูุงููุฏุ ุชูุงูุช ุฏุฑ ูุญููโ ูุฏุฑุช ุญุงูุธู ุชูุณุท ุงู ุฏู ููุน ุงุณุช.</p>
<h3 id="ุญุงูุธู-ู-ุชุฎุตุต"><a class="header" href="#ุญุงูุธู-ู-ุชุฎุตุต">ุญุงูุธู ู ุชุฎุตุต</a></h3>
<p>ุฏุฑ ููุฑุฏ ฺฉ ุฑุดุชูโ ุซุงุจุชุ ูุง ูุญุชูุง ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูโุฏุงููุ ุจูุงุจุฑุงู ูุชู ุจู ุทูุฑ ูุณุชูู ุฏุฑ ูุงู ุงุฌุฑุง ููุง ฺฉุฏููุณ ุดุฏู ุงุณุช. ุจู ููู ุฏูู ุฑุดุชูโูุง ุซุงุจุช ุณุฑุน ู ฺฉุงุฑุขูุฏ ูุณุชูุฏ. ุงูุง ุงู ูฺฺฏโูุง ููุท ุงุฒ ุชุบุฑูุงูพุฐุฑ ุฑุดุชูโ ุซุงุจุช ูุงุด ูโุดููุฏ. ูุชุฃุณูุงููุ ููโุชูุงูู ฺฉ ุชฺฉู ุญุงูุธู ุฑุง ุจุฑุง ูุฑ ูุทุนู ูุชู ฺฉู ุงูุฏุงุฒูโ ุขู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุงุดูุงุฎุชู ุงุณุช ู ููฺฉู ุงุณุช ุฏุฑ ุญู ุงุฌุฑุง ุจุฑูุงูู ุชุบุฑ ฺฉูุฏุ ุฏุฑ ูุงู ุจุงูุฑ ูุฑุงุฑ ุฏูู.</p>
<p>ุจุง ููุน <code>String</code>ุ ุจุฑุง ูพุดุชุจุงู ุงุฒ ฺฉ ูุชู ูุงุจู ุชุบุฑ ู ูุงุจู ุฑุดุฏุ ูุง ูุงุฒ ุฏุงุฑู ููุฏุงุฑ ุญุงูุธู ุฑุง ุฏุฑ ููพ ุชุฎุตุต ุฏูู ฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุงุดูุงุฎุชู ุงุณุช ุชุง ูุญุชูุง ุฑุง ูฺฏู ุฏุงุฑู. ุงู ุจู ุงู ูุนูุงุณุช ฺฉู:</p>
<ul>
<li>ุญุงูุธู ุจุงุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุงุฒ ุชุฎุตุตโุฏููุฏู ุญุงูุธู ุฏุฑุฎูุงุณุช ุดูุฏ.</li>
<li>ูุง ูุงุฒ ุฏุงุฑู ุฑุงู ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุงู ุญุงูุธู ุจู ุชุฎุตุตโุฏููุฏู ุฒูุงู ฺฉู ฺฉุงุฑูุงู ุจุง <code>String</code> ุชูุงู ุดุฏุ ุฏุงุดุชู ุจุงุดู.</li>
</ul>
<p>ูุณูุช ุงูู ุชูุณุท ูุง ุงูุฌุงู ูโุดูุฏ: ููุช ฺฉู <code>String::from</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ูพุงุฏูโุณุงุฒ ุขู ุญุงูุธูโุง ุฑุง ฺฉู ูุงุฒ ุฏุงุฑุฏ ุฏุฑุฎูุงุณุช ูโฺฉูุฏ. ุงู ุชูุฑุจุงู ุฏุฑ ุชูุงู ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฑุงุฌ ุงุณุช.</p>
<p>ุงูุง ูุณูุช ุฏูู ูุชูุงูุช ุงุณุช. ุฏุฑ ุฒุจุงูโูุง ฺฉู ุฏุงุฑุง <em>ุฌูุนโฺฉููุฏู ุฒุจุงูู (GC)</em> ูุณุชูุฏุ GC ุญุงูุธูโุง ุฑุง ฺฉู ุฏฺฏุฑ ุงุณุชูุงุฏู ููโุดูุฏ ูพฺฏุฑ ู ูพุงฺฉโุณุงุฒ ูโฺฉูุฏ ู ูุง ูุงุฒ ุจู ูฺฉุฑ ฺฉุฑุฏู ุฏุฑ ููุฑุฏ ุขู ูุฏุงุฑู. ุฏุฑ ุจุดุชุฑ ุฒุจุงูโูุง ฺฉู GC ูุฏุงุฑูุฏุ ุงู ูุณุฆููุช ุจุฑ ุนูุฏู ูุงุณุช ฺฉู ูุดุฎุต ฺฉูู ฺู ุฒูุงู ุญุงูุธู ุฏฺฏุฑ ุงุณุชูุงุฏู ููโุดูุฏ ู ฺฉุฏ ุฑุง ุจุฑุง ุขุฒุงุฏุณุงุฒ ุตุฑุญ ุขู ูุฑุงุฎูุงู ฺฉููุ ุฏููุงู ููุงูโุทูุฑ ฺฉู ุขู ุฑุง ุฏุฑุฎูุงุณุช ฺฉุฑุฏูโุงู. ุงูุฌุงู ุฏุฑุณุช ุงู ฺฉุงุฑ ุฏุฑ ุชุงุฑุฎ ุจุฑูุงููโููุณ ฺฉ ูุดฺฉู ุฏุดูุงุฑ ุจูุฏู ุงุณุช. ุงฺฏุฑ ูุฑุงููุด ฺฉููุ ุญุงูุธู ูุฏุฑ ูโุฑูุฏ. ุงฺฏุฑ ุฎู ุฒูุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุ ฺฉ ูุชุบุฑ ูุงูุนุชุจุฑ ุฎูุงูู ุฏุงุดุช. ุงฺฏุฑ ุฏู ุจุงุฑ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุ ุงู ูู ฺฉ ุจุงฺฏ ุงุณุช. ูุง ูุงุฒ ุฏุงุฑู ุฏููุงู ฺฉ <code>allocate</code> ุฑุง ุจุง ุฏููุงู ฺฉ <code>free</code> ุฌูุช ฺฉูู.</p>
<p>Rust ูุณุฑ ูุชูุงูุช ุฑุง ุท ูโฺฉูุฏ: ุญุงูุธู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ููุช ฺฉู ูุชุบุฑ ฺฉู ูุงูฺฉ ุขู ุงุณุช ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏ ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ. ุฏุฑ ุงูุฌุง ูุณุฎูโุง ุงุฒ ูุซุงู ุฏุงููู ูุง ุงุฒ ููุฑุณุช ด-ฑ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุงุฒ ฺฉ <code>String</code> ุจู ุฌุง ฺฉ ุฑุดุชูโ ุซุงุจุช ุงุณุชูุงุฏู ูโฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    {
        let s = String::from("hello"); // s is valid from this point forward

        // do stuff with s
    }                                  // this scope is now over, and s is no
                                       // longer valid
<span class="boring">}</span></code></pre></pre>
<p>ฺฉ ููุทู ุทุจุน ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูโุชูุงูู ุญุงูุธูโุง ุฑุง ฺฉู <code>String</code> ูุง ูุงุฒ ุฏุงุฑุฏ ุจู ุชุฎุตุตโุฏููุฏู ุจุงุฒฺฏุฑุฏุงูู: ููุช <code>s</code> ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏ. ููุช ฺฉ ูุชุบุฑ ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ Rust ฺฉ ุชุงุจุน ุฎุงุต ุฑุง ุจุฑุง ูุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ุชุงุจุน <a href="https://doc.rust-lang.org/std/ops/trait.Drop.html#tymethod.drop"><code>drop</code></a><!-- ignore --> ูุงูุฏู ูโุดูุฏุ ู ุงูุฌุง ุฌุง ุงุณุช ฺฉู ููุณูุฏู <code>String</code> ูโุชูุงูุฏ ฺฉุฏ ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุญุงูุธู ูุฑุงุฑ ุฏูุฏ. Rust ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ <code>drop</code> ุฑุง ุฏุฑ ุฒูุงู ุจุณุชู ุขฺฉููุงุฏ ูุฑุงุฎูุงู ูโฺฉูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุฏุฑ C++ุ ุงู ุงูฺฏู ฺฉู ููุงุจุน ุฏุฑ ุงูุชูุง ุฏูุฑู ุนูุฑ ฺฉ ุขุชู ุขุฒุงุฏ ูโุดููุฏ ฺฏุงู ุงููุงุช <em>Resource Acquisition Is Initialization (RAII)</em> ูุงูุฏู ูโุดูุฏ. ุชุงุจุน <code>drop</code> ุฏุฑ Rust ุจุฑุง ฺฉุณุงู ฺฉู ุงุฒ ุงูฺฏููุง RAII ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุฏ ุขุดูุง ุฎูุงูุฏ ุจูุฏ.</p>
</blockquote>
<p>ุงู ุงูฺฏู ุชุฃุซุฑ ุนูู ุจุฑ ูุญูู ููุดุชู ฺฉุฏ ุฏุฑ Rust ุฏุงุฑุฏ. ููฺฉู ุงุณุช ุงฺฉููู ุณุงุฏู ุจู ูุธุฑ ุจุฑุณุฏุ ุงูุง ุฑูุชุงุฑ ฺฉุฏ ูโุชูุงูุฏ ุฏุฑ ูููุนุชโูุง ูพฺุฏูโุชุฑ ฺฉู ูโุฎูุงูู ูุชุบุฑูุง ูุชุนุฏุฏ ุงุฒ ุฏุงุฏูโูุง ฺฉู ุฏุฑ ููพ ุชุฎุตุต ุฏุงุฏูโุงู ุงุณุชูุงุฏู ฺฉููุฏุ ุบุฑููุชุธุฑู ุจุงุดุฏ. ุงฺฉููู ุจู ุจุฑุฑุณ ุจุฑุฎ ุงุฒ ุงู ูููุนุชโูุง ูโูพุฑุฏุงุฒู.</p>
<p><a id="ways-variables-and-data-interact-move"></a></p>
<h4 id="ุชุนุงูู-ูุชุบุฑูุง-ู-ุฏุงุฏููุง-ุจุง-ุงูุชูุงู-move"><a class="header" href="#ุชุนุงูู-ูุชุบุฑูุง-ู-ุฏุงุฏููุง-ุจุง-ุงูุชูุงู-move">ุชุนุงูู ูุชุบุฑูุง ู ุฏุงุฏูโูุง ุจุง ุงูุชูุงู (Move)</a></h4>
<p>ูุชุบุฑูุง ูุฎุชูู ูโุชูุงููุฏ ุฏุฑ Rust ุจู ุฑูุดโูุง ูุฎุชูู ุจุง ุฏุงุฏูโูุง ุชุนุงูู ุฏุงุดุชู ุจุงุดูุฏ. ุจุงุฏ ุจู ูุซุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุนุฏุฏ ุตุญุญ ุฏุฑ ููุฑุณุช ด-ฒ ูฺฏุงู ฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 5;
    let y = x;
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 4-2: ุงุฎุชุตุงุต ููุฏุงุฑ ุนุฏุฏ ุตุญุญ ูุชุบุฑ <code>x</code> ุจู <code>y</code></figcaption>
</figure>
<p>ูุง ุงุญุชูุงูุงู ูโุชูุงูู ุญุฏุณ ุจุฒูู ุงู ฺฉุฏ ฺู ูโฺฉูุฏ: โููุฏุงุฑ <code>5</code> ุฑุง ุจู <code>x</code> ุงุฎุชุตุงุต ุจุฏูุ ุณูพุณ ฺฉ ฺฉูพ ุงุฒ ููุฏุงุฑ <code>x</code> ุจฺฏุฑ ู ุขู ุฑุง ุจู <code>y</code> ุงุฎุชุตุงุต ุจุฏู.โ ุงฺฉููู ุฏู ูุชุบุฑ ุฏุงุฑูุ <code>x</code> ู <code>y</code>ุ ู ูุฑ ุฏู ุจุฑุงุจุฑ <code>5</code> ูุณุชูุฏ. ุงู ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุงุชูุงู ูโุงูุชุฏุ ุฒุฑุง ุงุนุฏุงุฏ ุตุญุญ ููุงุฏุฑ ุณุงุฏูโุง ุจุง ุงูุฏุงุฒูโ ูุดุฎุต ูุณุชูุฏุ ู ุงู ุฏู ููุฏุงุฑ <code>5</code> ุจู ุงุณุชฺฉ ุงุถุงูู ูโุดููุฏ.</p>
<p>ุงฺฉููู ุจุงุฏ ุจู ูุณุฎู <code>String</code> ูฺฏุงู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s1 = String::from("hello");
    let s2 = s1;
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุจุณุงุฑ ูุดุงุจู ุจู ูุธุฑ ูโุฑุณุฏุ ุจูุงุจุฑุงู ููฺฉู ุงุณุช ูุฑุถ ฺฉูู ฺฉู ูุญูู ุนููฺฉุฑุฏ ุขู ูุฒ ูุดุงุจู ุงุณุช: ุนูุ ุฎุท ุฏูู ฺฉ ฺฉูพ ุงุฒ ููุฏุงุฑ ููุฌูุฏ ุฏุฑ <code>s1</code> ูโฺฏุฑุฏ ู ุขู ุฑุง ุจู <code>s2</code> ุงุฎุชุตุงุต ูโุฏูุฏ. ุงูุง ุงู ุฏููุงู ฺุฒ ูุณุช ฺฉู ุงุชูุงู ูโุงูุชุฏ.</p>
<p>ุจู ุดฺฉู ด-ฑ ูฺฏุงู ฺฉูุฏ ุชุง ุจุจูุฏ ฺฉู ุฏุฑ ูพุดุช ุตุญูู ุจุง <code>String</code> ฺู ุงุชูุงู ูโุงูุชุฏ. ฺฉ <code>String</code> ุงุฒ ุณู ุจุฎุด ุชุดฺฉู ุดุฏู ุงุณุช ฺฉู ุฏุฑ ุณูุช ฺูพ ูุดุงู ุฏุงุฏู ุดุฏูโุงูุฏ: ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุญุงูุธูโุง ฺฉู ูุญุชูุง ุฑุดุชู ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ฺฉ ุทููุ ู ฺฉ ุธุฑูุช. ุงู ฺฏุฑูู ุฏุงุฏูโูุง ุฑู ุงุณุชฺฉ ุฐุฎุฑู ูโุดููุฏ. ุฏุฑ ุณูุช ุฑุงุณุชุ ุญุงูุธู ุฑู ููพ ูุฑุงุฑ ุฏุงุฑุฏ ฺฉู ูุญุชูุง ุฑุดุชู ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</p>
<img alt="ุฏู ุฌุฏูู: ุฌุฏูู ุงูู ููุงุด s1 ุฑู ุงุณุชฺฉ ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุดุงูู ุทูู (ต)ุ ุธุฑูุช (ต)ุ ู ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุงููู ููุฏุงุฑ ุฏุฑ ุฌุฏูู ุฏูู ุงุณุช. ุฌุฏูู ุฏูู ููุงุด ุฏุงุฏูโูุง ุฑุดุชู ุฑู ููพ ุฑุง ุจุงุช ุจู ุจุงุช ูุดุงู ูโุฏูุฏ." src="img/trpl04-01.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู ด-ฑ: ููุงุด ุฏุฑ ุญุงูุธู ฺฉ <code>String</code> ฺฉู ููุฏุงุฑ <code>"hello"</code> ุจู <code>s1</code> ูุชุตู ุงุณุช</span></p>
<p>ุทูู ูุดุฎุต ูโฺฉูุฏ ฺฉู ูุญุชูุง <code>String</code> ุฏุฑ ุญุงู ุญุงุถุฑ ฺูุฏุฑ ุญุงูุธู ุจู ุจุงุช ุงุณุชูุงุฏู ูโฺฉูุฏ. ุธุฑูุช ููุฏุงุฑ ฺฉู ุญุงูุธูโุง ุงุณุช ฺฉู <code>String</code> ุงุฒ ุชุฎุตุตโุฏููุฏู ุฏุฑุงูุช ฺฉุฑุฏู ุงุณุช. ุชูุงูุช ุจู ุทูู ู ุธุฑูุช ุงููุช ุฏุงุฑุฏุ ุงูุง ูู ุฏุฑ ุงู ุฒูููุ ุจูุงุจุฑุงู ุฏุฑ ุญุงู ุญุงุถุฑ ูโุชูุงู ุธุฑูุช ุฑุง ูุงุฏุฏู ฺฏุฑูุช.</p>
<p>ููุช <code>s1</code> ุฑุง ุจู <code>s2</code> ุงุฎุชุตุงุต ูโุฏููุ ุฏุงุฏูโูุง <code>String</code> ฺฉูพ ูโุดููุฏุ ุจู ุงู ูุนู ฺฉู ุงุดุงุฑูโฺฏุฑ (Pointer)ุ ุทููุ ู ุธุฑูุช ููุฌูุฏ ุฑู ุงุณุชฺฉ ุฑุง ฺฉูพ ูโฺฉูู. ูุง ุฏุงุฏูโูุง ุฑู ููพ ุฑุง ฺฉู ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏุ ฺฉูพ ููโฺฉูู. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ููุงุด ุฏุงุฏูโูุง ุฏุฑ ุญุงูุธู ุจู ุดฺฉู ด-ฒ ุจู ูุธุฑ ูโุฑุณุฏ.</p>
<img alt="ุณู ุฌุฏูู: ุฌุฏููโูุง s1 ู s2 ุจู ุชุฑุชุจ ููุงุดโุฏููุฏู ุฑุดุชูโูุง ุฑู ุงุณุชฺฉ ูุณุชูุฏ ู ูุฑ ุฏู ุจู ุฏุงุฏูโูุง ุฑุดุชู ฺฉุณุงู ุฑู ููพ ุงุดุงุฑู ูโฺฉููุฏ." src="img/trpl04-02.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู ด-ฒ: ููุงุด ุฏุฑ ุญุงูุธู ูุชุบุฑ <code>s2</code> ฺฉู ฺฉ ฺฉูพ ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ุ ุทููุ ู ุธุฑูุช <code>s1</code> ุฏุงุฑุฏ</span></p>
<p>ููุงุด ุฏุงุฏูโูุง <em>ุจู ุงู ุดฺฉู</em> ูุณุช ฺฉู ุฏุฑ ุดฺฉู ด-ณ ุขูุฏู ุงุณุชุ ฺฉู ูุดุงู ูโุฏูุฏ ุญุงูุธู ุจู ฺฏูููโุง ุจุงุดุฏ ฺฉู Rust ููฺูู ุฏุงุฏูโูุง ููพ ุฑุง ฺฉูพ ฺฉูุฏ. ุงฺฏุฑ Rust ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏุงุฏุ ุนููุงุช <code>s2 = s1</code> ูโุชูุงูุณุช ุงุฒ ูุธุฑ ุนููฺฉุฑุฏ ุฒูุงู ุงุฌุฑุง ุจุณุงุฑ ฺฏุฑุงู ุจุงุดุฏ ุงฺฏุฑ ุฏุงุฏูโูุง ุฑู ููพ ุจุฒุฑฺฏ ุจูุฏูุฏ.</p>
<img alt="ฺูุงุฑ ุฌุฏูู: ุฏู ุฌุฏูู ููุงุงูฺฏุฑ ุฏุงุฏูโูุง ุงุณุชฺฉ ุจุฑุง s1 ู s2 ูุณุชูุฏ ู ูุฑ ฺฉุฏุงู ุจู ูุณุฎู ุฎูุฏ ุงุฒ ุฏุงุฏูโูุง ุฑุดุชู ุฑู ููพ ุงุดุงุฑู ูโฺฉููุฏ." src="img/trpl04-03.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู ด-ณ: ฺฉ ุงูฺฉุงู ุฏฺฏุฑ ุจุฑุง ุขูฺู ฺฉู <code>s2 = s1</code> ููฺฉู ุงุณุช ุงูุฌุงู ุฏูุฏ ุงฺฏุฑ Rust ุฏุงุฏูโูุง ููพ ุฑุง ูุฒ ฺฉูพ ฺฉูุฏ</span></p>
<p>ูุจูุงู ฺฏูุชู ฺฉู ููุช ฺฉ ูุชุบุฑ ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ Rust ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชุงุจุน <code>drop</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ู ุญุงูุธู ููพ ุฑุง ุจุฑุง ุขู ูุชุบุฑ ูพุงฺฉโุณุงุฒ ูโฺฉูุฏ. ุงูุง ุดฺฉู ด-ฒ ูุดุงู ูโุฏูุฏ ฺฉู ูุฑ ุฏู ุงุดุงุฑูโฺฏุฑ (Pointer) ุฏุงุฏูโูุง ุจู ฺฉ ูฺฉุงู ุงุดุงุฑู ูโฺฉููุฏ. ุงู ฺฉ ูุดฺฉู ุงุณุช: ููุช <code>s2</code> ู <code>s1</code> ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดููุฏุ ูุฑ ุฏู ุณุน ูโฺฉููุฏ ููุงู ุญุงูุธู ุฑุง ุขุฒุงุฏ ฺฉููุฏ. ุงู ุจู ุนููุงู ฺฉ ุฎุทุง <em>ุขุฒุงุฏุณุงุฒ ุฏูุจุงุฑู</em> ุดูุงุฎุชู ูโุดูุฏ ู ฺฉ ุงุฒ ูุดฺฉูุงุช ุงูู ุญุงูุธู ุงุณุช ฺฉู ูุจูุงู ุฐฺฉุฑ ฺฉุฑุฏู. ุขุฒุงุฏุณุงุฒ ุญุงูุธู ุฏู ุจุงุฑ ูโุชูุงูุฏ ููุฌุฑ ุจู ุฎุฑุงุจ ุดุฏู ุญุงูุธู ุดูุฏุ ฺฉู ุจู ุทูุฑ ุจุงูููู ูโุชูุงูุฏ ููุฌุฑ ุจู ุขุณุจโูพุฐุฑโูุง ุงููุช ุดูุฏ.</p>
<p>ุจุฑุง ุงุทููุงู ุงุฒ ุงูู ุญุงูุธูุ ูพุณ ุงุฒ ุฎุท <code>let s2 = s1;</code>ุ Rust ูุชุบุฑ <code>s1</code> ุฑุง ุฏฺฏุฑ ูุนุชุจุฑ ููโุฏุงูุฏ. ุจูุงุจุฑุงูุ Rust ูุงุฒ ุจู ุขุฒุงุฏุณุงุฒ ูฺ ฺุฒ ูุฏุงุฑุฏ ููุช <code>s1</code> ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ููุช ุณุน ูโฺฉูุฏ <code>s1</code> ุฑุง ูพุณ ุงุฒ ุงุฌุงุฏ <code>s2</code> ุงุณุชูุงุฏู ฺฉูุฏุ ฺู ุงุชูุงู ูโุงูุชุฏุ ุงู ฺฉุงุฑ ุฌูุงุจ ููโุฏูุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let s1 = String::from("hello");
    let s2 = s1;

    println!("{s1}, world!");
<span class="boring">}</span></code></pre>
<p>ุดูุง ุฎุทุง ูุดุงุจู ุงู ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ ุฒุฑุง Rust ุงุฒ ุงุณุชูุงุฏู ุงุฒ ูุฑุฌุน ูุงูุนุชุจุฑ ุฌููฺฏุฑ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling ownership v0.1.0 (file:///projects/ownership)
error[E0382]: borrow of moved value: `s1`
 --&gt; src/main.rs:5:15
  |
2 |     let s1 = String::from("hello");
  |         -- move occurs because `s1` has type `String`, which does not implement the `Copy` trait
3 |     let s2 = s1;
  |              -- value moved here
4 |
5 |     println!("{s1}, world!");
  |               ^^^^ value borrowed here after move
  |
  = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info)
help: consider cloning the value if the performance cost is acceptable
  |
3 |     let s2 = s1.clone();
  |                ++++++++

For more information about this error, try `rustc --explain E0382`.
error: could not compile `ownership` (bin "ownership") due to 1 previous error
</code></pre>
<p>ุงฺฏุฑ ุงุตุทูุงุญุงุช <em>ฺฉูพ ุณุทุญ</em> ู <em>ฺฉูพ ุนูู</em> ุฑุง ููฺฏุงู ฺฉุงุฑ ุจุง ุฒุจุงูโูุง ุฏฺฏุฑ ุดูุฏูโุงุฏุ ููููู ฺฉูพ ฺฉุฑุฏู ุงุดุงุฑูโฺฏุฑ (Pointer)ุ ุทููุ ู ุธุฑูุช ุจุฏูู ฺฉูพ ฺฉุฑุฏู ุฏุงุฏู ุงุญุชูุงูุงู ุดุจู ุจู ุงูุฌุงู ฺฉ ฺฉูพ ุณุทุญ ุงุณุช. ุงูุง ุจู ุฏูู ุงูฺฉู Rust ููฺูู ูุชุบุฑ ุงูู ุฑุง ูุงูุนุชุจุฑ ูโฺฉูุฏุ ุจู ุฌุง ุงูฺฉู ุขู ุฑุง ฺฉูพ ุณุทุญ ุจูุงููุฏุ ุจู ุนููุงู ฺฉ <em>ุงูุชูุงู</em> ุดูุงุฎุชู ูโุดูุฏ. ุฏุฑ ุงู ูุซุงูุ ูโุชูุงูู ุจฺฏูู ฺฉู <code>s1</code> ุจู <code>s2</code> <em>ููุชูู</em> ุดุฏู ุงุณุช. ุจูุงุจุฑุงูุ ุขูฺู ุฏุฑ ูุงูุน ุงุชูุงู ูโุงูุชุฏ ุฏุฑ ุดฺฉู ด-ด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<img alt="ุณู ุฌุฏูู: ุฌุฏููโูุง s1 ู s2 ฺฉู ุจู ุชุฑุชุจ ููุงุดโุฏููุฏู ุฑุดุชูโูุง ุฑู ุงุณุชฺฉ ูุณุชูุฏ ู ูุฑ ุฏู ุจู ุฏุงุฏูโูุง ุฑุดุชู ฺฉุณุงู ุฑู ููพ ุงุดุงุฑู ูโฺฉููุฏ. ุฌุฏูู s1 ุฎุงฺฉุณุชุฑ ุดุฏู ุฒุฑุง s1 ุฏฺฏุฑ ูุนุชุจุฑ ูุณุชุ ุชููุง s2 ูโุชูุงูุฏ ุจุฑุง ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง ููพ ุงุณุชูุงุฏู ุดูุฏ." src="img/trpl04-04.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู ด-ด: ููุงุด ุฏุฑ ุญุงูุธู ูพุณ ุงุฒ ุงูฺฉู <code>s1</code> ูุงูุนุชุจุฑ ุดุฏู ุงุณุช</span></p>
<p>ุงู ูุดฺฉู ูุง ุฑุง ุญู ูโฺฉูุฏ! ุจุง ุชููุง <code>s2</code> ฺฉู ูุนุชุจุฑ ุงุณุชุ ููุช ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ ุชููุง ุขู ุญุงูุธู ุฑุง ุขุฒุงุฏ ุฎูุงูุฏ ฺฉุฑุฏ ู ฺฉุงุฑ ูุง ุชูุงู ุงุณุช.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ฺฉ ุงูุชุฎุงุจ ุทุฑุงุญ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุงุฒ ุงู ูุชุฌูโฺฏุฑ ูโุดูุฏ: Rust ูุฑฺฏุฒ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ โฺฉูพ ุนููโ ุฏุงุฏูโูุง ุดูุง ุฑุง ุงุฌุงุฏ ููโฺฉูุฏ. ุจูุงุจุฑุงูุ ูุฑ ฺฏููู ฺฉูพ <em>ุฎูุฏฺฉุงุฑ</em> ูโุชูุงูุฏ ุจูโุนููุงู ุนูู ุงุฑุฒุงู ุงุฒ ูุธุฑ ุนููฺฉุฑุฏ ุฒูุงู ุงุฌุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ.</p>
<h4 id="ุฏุงููู-ู-ุงูุชุณุงุจ"><a class="header" href="#ุฏุงููู-ู-ุงูุชุณุงุจ">ุฏุงููู ู ุงูุชุณุงุจ</a></h4>
<p>ุนฺฉุณ ุงู ุฑุงุจุทู ุจู ุฏุงูููโุจูุฏุ ูุงูฺฉุชุ ู ุขุฒุงุฏุณุงุฒ ุญุงูุธู ุงุฒ ุทุฑู ุชุงุจุน <code>drop</code> ูุฒ ุตุญุญ ุงุณุช. ููุช ฺฉ ููุฏุงุฑ ฺฉุงููุงู ุฌุฏุฏ ุจู ฺฉ ูุชุบุฑ ููุฌูุฏ ุงุฎุชุตุงุต ูโุฏูุฏุ Rust ุชุงุจุน <code>drop</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ู ุญุงูุธู ููุฏุงุฑ ุงุตู ุฑุง ุจูุงูุงุตูู ุขุฒุงุฏ ูโฺฉูุฏ. ุจู ุงู ฺฉุฏ ุชูุฌู ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::from("hello");
    s = String::from("ahoy");

    println!("{s}, world!");
<span class="boring">}</span></code></pre></pre>
<p>ุงุจุชุฏุง ฺฉ ูุชุบุฑ <code>s</code> ุฑุง ุงุนูุงู ูโฺฉูู ู ุขู ุฑุง ุจู ฺฉ <code>String</code> ุจุง ููุฏุงุฑ <code>"hello"</code> ุงุฎุชุตุงุต ูโุฏูู. ุณูพุณ ุจูุงูุงุตูู ฺฉ <code>String</code> ุฌุฏุฏ ุจุง ููุฏุงุฑ <code>"ahoy"</code> ุงุฌุงุฏ ูโฺฉูู ู ุขู ุฑุง ุจู <code>s</code> ุงุฎุชุตุงุต ูโุฏูู. ุฏุฑ ุงู ููุทูุ ูฺ ฺุฒ ุจู ููุฏุงุฑ ุงุตู ุฑู ููพ ุงุดุงุฑู ููโฺฉูุฏ.</p>
<img alt="ฺฉ ุฌุฏูู s ฺฉู ููุงุงูฺฏุฑ ููุฏุงุฑ ุฑุดุชู ุฑู ุงุณุชฺฉ ุงุณุช ู ุจู ุจุฎุด ุฏูู ุฏุงุฏูโูุง ุฑุดุชู (ahoy) ุฑู ููพ ุงุดุงุฑู ูโฺฉูุฏุ ุจุง ุฏุงุฏูโูุง ุฑุดุชู ุงุตู (hello) ฺฉู ุฎุงฺฉุณุชุฑ ุดุฏู ุฒุฑุง ุฏฺฏุฑ ููโุชูุงู ุจู ุขู ุฏุณุชุฑุณ ุฏุงุดุช." src="img/trpl04-05.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู ด-ต: ููุงุด ุฏุฑ ุญุงูุธู ูพุณ ุงุฒ ุงูฺฉู ููุฏุงุฑ ุงููู ุจู ุทูุฑ ฺฉุงูู ุฌุงฺฏุฒู ุดุฏู ุงุณุช.</span></p>
<p>ุฑุดุชู ุงุตู ุจูุงูุงุตูู ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏ. Rust ุชุงุจุน <code>drop</code> ุฑุง ุฑู ุขู ุงุฌุฑุง ูโฺฉูุฏ ู ุญุงูุธู ุขู ุจูุงูุงุตูู ุขุฒุงุฏ ูโุดูุฏ. ููุช ููุฏุงุฑ ุฑุง ุฏุฑ ุงูุชูุง ฺุงูพ ูโฺฉููุ ููุฏุงุฑ <code>"ahoy, world!"</code> ุฎูุงูุฏ ุจูุฏ.</p>
<!-- Old heading. Do not remove or links may break. -->
<p><a id="ways-variables-and-data-interact-clone"></a></p>
<h4 id="ุชุนุงูู-ูุชุบุฑูุง-ู-ุฏุงุฏููุง-ุจุง-clone"><a class="header" href="#ุชุนุงูู-ูุชุบุฑูุง-ู-ุฏุงุฏููุง-ุจุง-clone">ุชุนุงูู ูุชุบุฑูุง ู ุฏุงุฏูโูุง ุจุง Clone</a></h4>
<p>ุงฺฏุฑ ุจุฎูุงูู ุฏุงุฏูโูุง ููพ <code>String</code> ุฑุง ุนููุงู ฺฉูพ ฺฉููุ ูู ููุท ุฏุงุฏูโูุง ุงุณุชฺฉุ ูโุชูุงูู ุงุฒ ฺฉ ูุชุฏ ูุนููู ุจู ูุงู <code>clone</code> ุงุณุชูุงุฏู ฺฉูู. ูุง ูุญู ูุชุฏูุง ุฑุง ุฏุฑ ูุตู ต ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ุงูุง ุงุฒ ุขูุฌุง ฺฉู ูุชุฏูุง ฺฉ ูฺฺฏ ุฑุงุฌ ุฏุฑ ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ูุณุชูุฏุ ุงุญุชูุงูุงู ูุจูุงู ุขููุง ุฑุง ุฏุฏูโุงุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุงุฒ ุฑูุด <code>clone</code> ุฏุฑ ุนูู ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s1 = String::from("hello");
    let s2 = s1.clone();

    println!("s1 = {s1}, s2 = {s2}");
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ุจู ุฎูุจ ฺฉุงุฑ ูโฺฉูุฏ ู ุจู ูุถูุญ ุฑูุชุงุฑ ูุดุงู ุฏุงุฏู ุดุฏู ุฏุฑ ุดฺฉู ด-ณ ุฑุง ุชููุฏ ูโฺฉูุฏุ ุฌุง ฺฉู ุฏุงุฏูโูุง ููพ <em>ฺฉูพ</em> ูโุดููุฏ.</p>
<p>ููุช ฺฉ ูุฑุงุฎูุงู ุจู <code>clone</code> ูโุจูุฏุ ูโุฏุงูุฏ ฺฉู ฺฉุฏ ุฏูุฎูุงู ุงุฌุฑุง ูโุดูุฏ ู ููฺฉู ุงุณุช ุงู ฺฉุฏ ูุฒููโุจุฑ ุจุงุดุฏ. ุงู ฺฉ ุดุงุฎุต ุจุตุฑ ุงุณุช ฺฉู ูุดุงู ูโุฏูุฏ ฺุฒ ูุชูุงูุช ุฏุฑ ุญุงู ุฑุฎ ุฏุงุฏู ุงุณุช.</p>
<h4 id="ุฏุงุฏููุง-ููุท-ุงุณุชฺฉ-copy"><a class="header" href="#ุฏุงุฏููุง-ููุท-ุงุณุชฺฉ-copy">ุฏุงุฏูโูุง ููุท ุงุณุชฺฉ: Copy</a></h4>
<p>ฺฉ ูฺฉุชู ุฏฺฏุฑ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูููุฒ ุฏุฑุจุงุฑู ุขู ุตุญุจุช ูฺฉุฑุฏูโุงู. ุงู ฺฉุฏ ฺฉู ุงุฒ ุงุนุฏุงุฏ ุตุญุญ ุงุณุชูุงุฏู ูโฺฉูุฏ - ุจุฎุด ุงุฒ ุขู ุฏุฑ ูุณุชูฺฏ ด-ฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช - ฺฉุงุฑ ูโฺฉูุฏ ู ูุนุชุจุฑ ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 5;
    let y = x;

    println!("x = {x}, y = {y}");
<span class="boring">}</span></code></pre></pre>
<p>ุงูุง ุงู ฺฉุฏ ุจู ูุธุฑ ูโุฑุณุฏ ุจุง ุขูฺู ฺฉู ุจู ุชุงุฒฺฏ ุงุฏ ฺฏุฑูุชู ุชูุงูุถ ุฏุงุฑุฏ: ูุง ฺฉ ูุฑุงุฎูุงู ุจู <code>clone</code> ูุฏุงุฑูุ ุงูุง <code>x</code> ููฺูุงู ูุนุชุจุฑ ุงุณุช ู ุจู <code>y</code> ููุชูู ูุดุฏู ุงุณุช.</p>
<p>ุฏูู ุงู ุงุณุช ฺฉู ุงููุงุน ูุงููุฏ ุงุนุฏุงุฏ ุตุญุญ ฺฉู ุงูุฏุงุฒู ูุดุฎุต ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุฏุงุฑูุฏุ ุจู ุทูุฑ ฺฉุงูู ุฑู ุงุณุชฺฉ ุฐุฎุฑู ูโุดููุฏุ ุจูุงุจุฑุงู ฺฉูพ ฺฉุฑุฏู ููุงุฏุฑ ูุงูุน ุณุฑุน ุงุณุช. ุงู ุจู ุงู ูุนูุงุณุช ฺฉู ูฺ ุฏูู ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุจุฎูุงูู <code>x</code> ูพุณ ุงุฒ ุงุฌุงุฏ ูุชุบุฑ <code>y</code> ูุงูุนุชุจุฑ ุดูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุฏุฑ ุงูุฌุง ุชูุงูุช ุจู ฺฉูพ ุนูู ู ฺฉูพ ุณุทุญ ูุฌูุฏ ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ูุฑุงุฎูุงู <code>clone</code> ฺฉุงุฑ ูุชูุงูุช ุงุฒ ฺฉูพ ุณุทุญ ูุนููู ุงูุฌุงู ููโุฏูุฏ ู ูโุชูุงูู ุขู ุฑุง ุญุฐู ฺฉูู.</p>
<p>Rust ุฏุงุฑุง ฺฉ ูุดุงููโฺฏุฐุงุฑ ูฺู ุจู ูุงู ูฺฺฏ <code>Copy</code> ุงุณุช ฺฉู ูโุชูุงูู ุฑู ุงููุงุน ฺฉู ุฑู ุงุณุชฺฉ ุฐุฎุฑู ูโุดููุฏ (ูุงููุฏ ุงุนุฏุงุฏ ุตุญุญ) ุงุนูุงู ฺฉูู (ูุง ุฏุฑ <a href="ch10-02-traits.html">ูุตู ฑฐ</a><!-- ignore --> ุจุดุชุฑ ุฏุฑุจุงุฑู ูฺฺฏโูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ). ุงฺฏุฑ ฺฉ ููุน ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูุชุบุฑูุง ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ ุฌุงุจูโุฌุง ููโุดููุฏุ ุจูฺฉู ุจู ุณุงุฏฺฏ ฺฉูพ ูโุดููุฏ ู ูพุณ ุงุฒ ุงุฎุชุตุงุต ุจู ูุชุบุฑ ุฏฺฏุฑ ููฺูุงู ูุนุชุจุฑ ุจุงู ูโูุงููุฏ.</p>
<p>Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ฺฉ ููุน ุฑุง ุจุง <code>Copy</code> ูุดุงููโฺฏุฐุงุฑ ฺฉูู ุงฺฏุฑ ููุน ุง ูุฑ ฺฉ ุงุฒ ุงุฌุฒุง ุขู ูฺฺฏ <code>Drop</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดูุฏ. ุงฺฏุฑ ููุน ุจู ฺุฒ ุฎุงุต ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ ุชุง ุฒูุงู ฺฉู ููุฏุงุฑ ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุดูุฏ ู ูุง ูฺฺฏ <code>Copy</code> ุฑุง ุจู ุขู ููุน ุงุถุงูู ฺฉููุ ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ. ุจุฑุง ุงุฏฺฏุฑ ูุญูู ุงูุฒูุฏู ูฺฺฏ <code>Copy</code> ุจู ููุน ุฎูุฏ ุจุฑุง ูพุงุฏูโุณุงุฒ ุงู ูฺฺฏุ ุจู <a href="appendix-03-derivable-traits.html">โูฺฺฏโูุง ูุงุจู ุงุดุชูุงูโ</a><!-- ignore --> ุฏุฑ ุถููู ุฌ ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ูพุณุ ฺู ููุนโูุง ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ูโุชูุงูุฏ ุจุฑุง ุงุทููุงูุ ูุณุชูุฏุงุช ููุน ุฏุงุฏู ุดุฏู ุฑุง ุจุฑุฑุณ ฺฉูุฏุ ุงูุง ุจู ุนููุงู ฺฉ ูุงููู ฺฉูุ ูุฑ ฺฏุฑูู ุงุฒ ููุงุฏุฑ ุณุงุฏู ู ุงุณฺฉุงูุฑ ูโุชูุงููุฏ ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ ู ูฺ ฺุฒ ฺฉู ูุงุฒ ุจู ุชุฎุตุต ุง ููุน ููุจุน ุฏุงุดุชู ุจุงุดุฏ ููโุชูุงูุฏ ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุฏุฑ ุงูุฌุง ุชุนุฏุงุฏ ุงุฒ ุงููุงุน ฺฉู ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<ul>
<li>ุชูุงู ุงููุงุน ุงุนุฏุงุฏ ุตุญุญุ ูุงููุฏ <code>u32</code>.</li>
<li>ููุน ุจููุ <code>bool</code>ุ ุจุง ููุงุฏุฑ <code>true</code> ู <code>false</code>.</li>
<li>ุชูุงู ุงููุงุน ุงุนุดุงุฑุ ูุงููุฏ <code>f64</code>.</li>
<li>ููุน ฺฉุงุฑุงฺฉุชุฑุ <code>char</code>.</li>
<li>ุชุงูพูโูุงุ ุงฺฏุฑ ุชููุง ุดุงูู ุงููุงุน ุจุงุดูุฏ ฺฉู ูฺฺฏ <code>Copy</code> ุฑุง ูุฒ ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ุจุฑุง ูุซุงูุ <code>(i32, i32)</code> ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุงูุง <code>(i32, String)</code> ุงู ฺฉุงุฑ ุฑุง ููโฺฉูุฏ.</li>
</ul>
<h3 id="ูุงูฺฉุช-ู-ุชูุงุจุน"><a class="header" href="#ูุงูฺฉุช-ู-ุชูุงุจุน">ูุงูฺฉุช ู ุชูุงุจุน</a></h3>
<p>ูฺฉุงูุฒูโูุง ุงูุชูุงู ฺฉ ููุฏุงุฑ ุจู ฺฉ ุชุงุจุน ูุดุงุจู ุฒูุงู ุงุณุช ฺฉู ููุฏุงุฑ ุฑุง ุจู ฺฉ ูุชุบุฑ ุงุฎุชุตุงุต ูโุฏูู. ุงูุชูุงู ฺฉ ูุชุบุฑ ุจู ฺฉ ุชุงุจุน ุจู ููุงู ุตูุฑุช ฺฉู ุชุฎุตุต ุงูุฌุงู ูโุดูุฏุ ุฌุงุจูโุฌุง ุง ฺฉูพ ูโุดูุฏ. ูุณุชูฺฏ ด-ณ ูุซุงู ุจุง ุจุฑุฎ ุญุงุดูโููุณโูุง ุฏุงุฑุฏ ฺฉู ูุดุงู ูโุฏูุฏ ูุชุบุฑูุง ฺฉุฌุง ูุงุฑุฏ ู ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดููุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let s = String::from("hello");  // s comes into scope

    takes_ownership(s);             // s's value moves into the function...
                                    // ... and so is no longer valid here

    let x = 5;                      // x comes into scope

    makes_copy(x);                  // because i32 implements the Copy trait,
                                    // x does NOT move into the function,
    println!("{}", x);              // so it's okay to use x afterward

} // Here, x goes out of scope, then s. But because s's value was moved, nothing
  // special happens.

fn takes_ownership(some_string: String) { // some_string comes into scope
    println!("{some_string}");
} // Here, some_string goes out of scope and `drop` is called. The backing
  // memory is freed.

fn makes_copy(some_integer: i32) { // some_integer comes into scope
    println!("{some_integer}");
} // Here, some_integer goes out of scope. Nothing special happens.</code></pre></pre>
<figcaption>Listing 4-3: ุชูุงุจุน ุจุง ูุงูฺฉุช ู ุฏุงููู ุญุงุดูโููุณ ุดุฏู</figcaption>
</figure>
<p>ุงฺฏุฑ ุจุฎูุงูู ุงุฒ <code>s</code> ูพุณ ุงุฒ ูุฑุงุฎูุงู ุจู <code>takes_ownership</code> ุงุณุชูุงุฏู ฺฉููุ Rust ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุตุงุฏุฑ ูโฺฉูุฏ. ุงู ุจุฑุฑุณโูุง ุงุณุชุงุชฺฉ ูุง ุฑุง ุงุฒ ุงุดุชุจุงูุงุช ูุญุงูุธุช ูโฺฉููุฏ. ุณุน ฺฉูุฏ ฺฉุฏ ุจู <code>main</code> ุงุถุงูู ฺฉูุฏ ฺฉู ุงุฒ <code>s</code> ู <code>x</code> ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุจุจูุฏ ฺฉุฌุง ูโุชูุงูุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ ู ฺฉุฌุง ููุงูู ูุงูฺฉุช ูุงูุน ุดูุง ูโุดููุฏ.</p>
<h3 id="ููุงุฏุฑ-ุจุงุฒฺฏุดุช-ู-ุฏุงููู"><a class="header" href="#ููุงุฏุฑ-ุจุงุฒฺฏุดุช-ู-ุฏุงููู">ููุงุฏุฑ ุจุงุฒฺฏุดุช ู ุฏุงููู</a></h3>
<p>ุจุงุฒฺฏุฑุฏุงูุฏู ููุงุฏุฑ ูุฒ ูโุชูุงูุฏ ูุงูฺฉุช ุฑุง ููุชูู ฺฉูุฏ. ูุณุชูฺฏ ด-ด ูุซุงู ุงุฒ ฺฉ ุชุงุจุน ฺฉู ููุฏุงุฑ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ูุดุงู ูโุฏูุฏุ ุจุง ุญุงุดูโููุณโูุง ูุดุงุจู ุขูฺู ุฏุฑ ูุณุชูฺฏ ด-ณ ูุฌูุฏ ุฏุงุดุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let s1 = gives_ownership();         // gives_ownership moves its return
                                        // value into s1

    let s2 = String::from("hello");     // s2 comes into scope

    let s3 = takes_and_gives_back(s2);  // s2 is moved into
                                        // takes_and_gives_back, which also
                                        // moves its return value into s3
} // Here, s3 goes out of scope and is dropped. s2 was moved, so nothing
  // happens. s1 goes out of scope and is dropped.

fn gives_ownership() -&gt; String {             // gives_ownership will move its
                                             // return value into the function
                                             // that calls it

    let some_string = String::from("yours"); // some_string comes into scope

    some_string                              // some_string is returned and
                                             // moves out to the calling
                                             // function
}

// This function takes a String and returns one
fn takes_and_gives_back(a_string: String) -&gt; String { // a_string comes into
                                                      // scope

    a_string  // a_string is returned and moves out to the calling function
}</code></pre></pre>
<figcaption>Listing 4-4: ุงูุชูุงู ูุงูฺฉุช ููุงุฏุฑ ุจุงุฒฺฏุดุช</figcaption>
</figure>
<p>ูุงูฺฉุช ฺฉ ูุชุบุฑ ููุดู ุงุฒ ฺฉ ุงูฺฏู ฺฉุณุงู ูพุฑู ูโฺฉูุฏ: ุชุฎุตุต ฺฉ ููุฏุงุฑ ุจู ูุชุบุฑ ุฏฺฏุฑ ุขู ุฑุง ุฌุงุจูโุฌุง ูโฺฉูุฏ. ุฒูุงู ฺฉู ฺฉ ูุชุบุฑ ุดุงูู ุฏุงุฏูโูุง ุฏุฑ ููพ ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ ููุฏุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>drop</code> ูพุงฺฉโุณุงุฒ ูโุดูุฏ ูฺฏุฑ ุงูฺฉู ูุงูฺฉุช ุฏุงุฏูโูุง ุจู ูุชุบุฑ ุฏฺฏุฑ ููุชูู ุดุฏู ุจุงุดุฏ.</p>
<p>ุฏุฑ ุญุงู ฺฉู ุงู ุฑูุด ฺฉุงุฑ ูโฺฉูุฏุ ฺฏุฑูุชู ูุงูฺฉุช ู ุณูพุณ ุจุงุฒฺฏุฑุฏุงูุฏู ุขู ุจุง ูุฑ ุชุงุจุน ฺฉู ุฎุณุชูโฺฉููุฏู ุงุณุช. ุงฺฏุฑ ุจุฎูุงูู ุงุฌุงุฒู ุฏูู ฺฉ ุชุงุจุน ุงุฒ ฺฉ ููุฏุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ ุงูุง ูุงูฺฉุช ุขู ุฑุง ูฺฏุฑุฏุ ฺู ูโุดูุฏุ ุงู ฺฉู ูุฑ ฺุฒ ฺฉู ุจู ุชุงุจุน ุงุฑุณุงู ูโฺฉูู ุจุงุฏ ุจุงุฒฺฏุฑุฏุงูุฏู ุดูุฏ ุชุง ุจุชูุงูู ุฏูุจุงุฑู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุ ุนูุงูู ุจุฑ ูุฑ ุฏุงุฏูโุง ฺฉู ุงุฒ ุจุฏูู ุชุงุจุน ููฺฉู ุงุณุช ุจุฎูุงูู ุจุงุฒฺฏุฑุฏุงููุ ฺฉู ุขุฒุงุฑุฏููุฏู ุงุณุช.</p>
<p>Rust ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ููุงุฏุฑ ูุชุนุฏุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ tuple ุจุงุฒฺฏุฑุฏุงููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ ด-ต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let s1 = String::from("hello");

    let (s2, len) = calculate_length(s1);

    println!("The length of '{s2}' is {len}.");
}

fn calculate_length(s: String) -&gt; (String, usize) {
    let length = s.len(); // len() returns the length of a String

    (s, length)
}</code></pre></pre>
<figcaption>Listing 4-5: ุจุงุฒฺฏุฑุฏุงูุฏู ูุงูฺฉุช ูพุงุฑุงูุชุฑูุง</figcaption>
</figure>
<p>ุงูุง ุงู ฺฉุงุฑ ุจุณุงุฑ ุฑุณู ู ุฒูุงูโุจุฑ ุงุณุช ุจุฑุง ููููู ฺฉู ุจุงุฏ ุฑุงุฌ ุจุงุดุฏ. ุฎูุดุจุฎุชุงููุ Rust ูฺฺฏโุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุฏุงุฑ ุจุฏูู ุงูุชูุงู ูุงูฺฉุช ุฏุงุฑุฏ ฺฉู <em>ุงุฑุฌุงุนุงุช</em> ูุงูุฏู ูโุดูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุฑุฌุงุนุงุช-ู-ูุฑุถ-ฺฏุฑูุชู-references-and-borrowing"><a class="header" href="#ุงุฑุฌุงุนุงุช-ู-ูุฑุถ-ฺฏุฑูุชู-references-and-borrowing">ุงุฑุฌุงุนุงุช ู ูุฑุถ ฺฏุฑูุชู (References and Borrowing)</a></h2>
<p>ูุดฺฉู ฺฉุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ 4-5 ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงูพู ูุฌูุฏ ุฏุงุฑุฏ ุงู ุงุณุช ฺฉู ุจุงุฏ
<code>String</code> ุฑุง ุจู ุชุงุจุน ูุฑุงุฎูุงูโฺฉููุฏู ุจุงุฒฺฏุฑุฏุงูู ุชุง ุจุนุฏ ุงุฒ ูุฑุงุฎูุงู
<code>calculate_length</code> ุจุชูุงูู ููฺูุงู ุงุฒ
<code>String</code> ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง
<code>String</code> ุจู
<code>calculate_length</code> ููุชูู ุดุฏู ุงุณุช. ุฏุฑ ุนูุถุ ูโุชูุงูู ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑ
<code>String</code> ุงุฑุงุฆู ุฏูู. ฺฉ <em>ุงุฑุฌุงุน</em> ูุดุงุจู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุงุณุชุ ุจู ุงู ูุนูุง ฺฉู ฺฉ ุขุฏุฑุณ ุงุณุช ฺฉู ูโุชูุงูู ุงุฒ ุขู ูพุฑู ฺฉูู ุชุง ุจู ุฏุงุฏูโูุง ฺฉู ุฏุฑ ุขู ุขุฏุฑุณ ุฐุฎุฑู ุดุฏูโุงูุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ุงู ุฏุงุฏูโูุง ูุชุนูู ุจู ูุชุบุฑ ุฏฺฏุฑ ูุณุชูุฏ. ุจุฑุฎูุงู ุงุดุงุฑูโฺฏุฑ (Pointer)ุ ฺฉ ุงุฑุฌุงุน ุชุถูู ูโฺฉูุฏ ฺฉู ุจู ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุงุฒ ููุน ุฎุงุต ุฏุฑ ุทูู ุนูุฑ ุขู ุงุฑุฌุงุน ุงุดุงุฑู ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ูุญูู ุชุนุฑู ู ุงุณุชูุงุฏู ุงุฒ ฺฉ ุชุงุจุน
<code>calculate_length</code> ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ุจู ุฌุง ฺฏุฑูุชู ูุงูฺฉุช ููุฏุงุฑุ ฺฉ ุงุฑุฌุงุน ุจู ฺฉ ุด ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุฏุงุฑุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let s1 = String::from("hello");

    let len = calculate_length(&amp;s1);

    println!("The length of '{s1}' is {len}.");
}

fn calculate_length(s: &amp;String) -&gt; usize {
    s.len()
}</code></pre></pre>
<p>ุงููุ ุชูุฌู ฺฉูุฏ ฺฉู ุชูุงู ฺฉุฏ ูุฑุจูุท ุจู ุชุงูพู ุฏุฑ ุงุนูุงู ูุชุบุฑ ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุชุงุจุน ุญุฐู ุดุฏู ุงุณุช. ุฏููุ ุฏูุช ฺฉูุฏ ฺฉู ูุง
<code>&amp;s1</code> ุฑุง ุจู
<code>calculate_length</code> ูโุฏูู ู ุฏุฑ ุชุนุฑู ุขูุ
<code>&amp;String</code> ูโฺฏุฑู ุจู ุฌุง
<code>String</code>. ุงู ุนูุงูุชโูุง &amp; ููุงูุฏูโ <em>ุงุฑุฌุงุนุงุช</em> ูุณุชูุฏ ู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุชุง ุจู ููุฏุงุฑ ุงุดุงุฑู ฺฉูุฏ ุจุฏูู ุงูฺฉู ูุงูฺฉุช ุขู ุฑุง ุจฺฏุฑุฏ. ุดฺฉู 4-6 ุงู ููููู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<img alt="ุณู ุฌุฏูู: ุฌุฏูู s ููุท ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุฌุฏูู s1 ุฏุงุฑุฏ. ุฌุฏูู s1 ุดุงูู ุฏุงุฏูโูุง ุงุณุชฺฉ ุจุฑุง s1 ุงุณุช ู ุจู ุฏุงุฏูโูุง ุฑุดุชูโุง ุฏุฑ ููพ ุงุดุงุฑู ูโฺฉูุฏ." src="img/trpl04-06.svg" class="center" />
<p><span class="caption">ุดฺฉู 4-6: ูููุฏุงุฑ <code>&amp;String s</code> ฺฉู ุจู <code>String s1</code> ุงุดุงุฑู ูโฺฉูุฏ</span></p>
<blockquote>
<p>ุชูุฌู: ูุชุถุงุฏ ุงุฑุฌุงุน ุฏุงุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>&amp;</code>ุ <em>ุนุฏู ุงุฑุฌุงุน</em> ุงุณุช ฺฉู ุจุง ุนููฺฏุฑ ุนุฏู ุงุฑุฌุงุนุ ุนู <code>*</code>ุ ุงูุฌุงู ูโุดูุฏ. ุจุฑุฎ ุงุฒ ููุงุฑุฏ ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ ุนุฏู ุงุฑุฌุงุน ุฑุง ุฏุฑ ูุตู 8 ุฎูุงูู ุฏุฏ ู ุฌุฒุฆุงุช ูุฑุจูุท ุจู ุนุฏู ุงุฑุฌุงุน ุฑุง ุฏุฑ ูุตู 15 ุจุญุซ ุฎูุงูู ฺฉุฑุฏ.</p>
</blockquote>
<p>ุจุงุฏ ูฺฏุงู ุฏููโุชุฑ ุจู ูุฑุงุฎูุงู ุชุงุจุน ุจูุฏุงุฒู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s1 = String::from("hello");

    let len = calculate_length(&amp;s1);
<span class="boring">
</span><span class="boring">    println!("The length of '{s1}' is {len}.");
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn calculate_length(s: &amp;String) -&gt; usize {
</span><span class="boring">    s.len()
</span><span class="boring">}</span></code></pre></pre>
<p>ุณูุชฺฉุณ <code>&amp;s1</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉ ุงุฑุฌุงุน ุงุฌุงุฏ ฺฉูู ฺฉู ุจู ููุฏุงุฑ
<code>s1</code> <em>ุงุดุงุฑู ูโฺฉูุฏ</em> ุงูุง ูุงูฺฉ ุขู ูุณุช. ุงุฒ ุขูุฌุง ฺฉู ุงุฑุฌุงุน ูุงูฺฉ ุขู ูุณุชุ ููุฏุงุฑ ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุฒูุงู ฺฉู ุงุฑุฌุงุน ุงุณุชูุงุฏู ููโุดูุฏ ุญุฐู ูุฎูุงูุฏ ุดุฏ.</p>
<p>ุจู ููู ุชุฑุชุจุ ุงูุถุง ุชุงุจุน ุงุฒ <code>&amp;</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉู ููุน ูพุงุฑุงูุชุฑ <code>s</code> ฺฉ ุงุฑุฌุงุน ุงุณุช. ุจุงุฏ ุจุฑุฎ ุชูุถุญุงุช ุงุถุงูู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let s1 = String::from("hello");
</span><span class="boring">
</span><span class="boring">    let len = calculate_length(&amp;s1);
</span><span class="boring">
</span><span class="boring">    println!("The length of '{s1}' is {len}.");
</span><span class="boring">}
</span><span class="boring">
</span>fn calculate_length(s: &amp;String) -&gt; usize { // s is a reference to a String
    s.len()
} // Here, s goes out of scope. But because s does not have ownership of what
  // it refers to, the value is not dropped.</code></pre></pre>
<p>ุฏุงูููโุง ฺฉู ูุชุบุฑ <code>s</code> ุฏุฑ ุขู ูุนุชุจุฑ ุงุณุชุ ูุดุงุจู ุฏุงูููโ ูุฑ ูพุงุฑุงูุชุฑ ุชุงุจุน ุงุณุชุ ุงูุง ููุฏุงุฑ ุงุดุงุฑูโุดุฏู ุชูุณุท ุงุฑุฌุงุน ุฒูุงู ฺฉู <code>s</code> ุงุณุชูุงุฏู ููโุดูุฏ ุญุฐู ููโุดูุฏุ ุฒุฑุง <code>s</code> ูุงูฺฉุช ูุฏุงุฑุฏ. ููุช ุชูุงุจุน ุงุฑุฌุงุนุงุช ุฑุง ุจู ุฌุง ููุงุฏุฑ ูุงูุน ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุฏุงุฑูุฏุ ูุงุฒ ูุฎูุงูู ุฏุงุดุช ููุงุฏุฑ ุฑุง ุจุงุฒฺฏุฑุฏุงูู ุชุง ูุงูฺฉุช ุฑุง ุจุงุฒฺฏุฑุฏุงููุ ุฒุฑุง ูุฑฺฏุฒ ูุงูฺฉุช ูุฏุงุดุชูโุงู.</p>
<p>ูุง ุนูู ุงุฌุงุฏ ฺฉ ุงุฑุฌุงุน ุฑุง <em>ูุฑุถ ฺฏุฑูุชู</em> ูโูุงูู. ููุงููุฏ ุฒูุฏฺฏ ูุงูุนุ ุงฺฏุฑ ุดุฎุต ฺุฒ ุฑุง ูุงูฺฉ ุจุงุดุฏุ ุดูุง ูโุชูุงูุฏ ุขู ุฑุง ุงุฒ ุงู ูุฑุถ ุจฺฏุฑุฏ. ููุช ฺฉุงุฑุชุงู ุชูุงู ุดุฏุ ุจุงุฏ ุขู ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุดูุง ูุงูฺฉ ุขู ูุณุชุฏ.</p>
<p>ูพุณ ฺู ุงุชูุงู ูโุงูุชุฏ ุงฺฏุฑ ุจุฎูุงูู ฺุฒ ฺฉู ูุฑุถ ฺฏุฑูุชูโุงู ุฑุง ุชุบุฑ ุฏููุ ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 4-6 ุฑุง ุงูุชุญุงู ฺฉูุฏ. ูุดุฏุงุฑ: ุงู ฺฉุงุฑ ููโฺฉูุฏ!</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let s = String::from("hello");

    change(&amp;s);
}

fn change(some_string: &amp;String) {
    some_string.push_str(", world");
}</code></pre>
<figcaption>Listing 4-6: ุชูุงุด ุจุฑุง ุชุบุฑ ููุฏุงุฑ ูุฑุถ ฺฏุฑูุชู ุดุฏู</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุง ุฎุทุง ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling ownership v0.1.0 (file:///projects/ownership)
error[E0596]: cannot borrow `*some_string` as mutable, as it is behind a `&amp;` reference
 --&gt; src/main.rs:8:5
  |
8 |     some_string.push_str(", world");
  |     ^^^^^^^^^^^ `some_string` is a `&amp;` reference, so the data it refers to cannot be borrowed as mutable
  |
help: consider changing this to be a mutable reference
  |
7 | fn change(some_string: &amp;mut String) {
  |                         +++

For more information about this error, try `rustc --explain E0596`.
error: could not compile `ownership` (bin "ownership") due to 1 previous error
</code></pre>
<p>ููุงูุทูุฑ ฺฉู ูุชุบุฑูุง ุจู ุตูุฑุช ูพุดโูุฑุถ ุบุฑูุงุจู ุชุบุฑ ูุณุชูุฏุ ุงุฑุฌุงุนุงุช ูุฒ ุจู ููู ุตูุฑุช ูุณุชูุฏ. ูุง ุงุฌุงุฒู ูุฏุงุฑู ฺุฒ ฺฉู ุจู ุขู ุงุฑุฌุงุน ุฏุงุฑู ุฑุง ุชุบุฑ ุฏูู.</p>
<h3 id="ุงุฑุฌุงุนุงุช-ูุชุบุฑ"><a class="header" href="#ุงุฑุฌุงุนุงุช-ูุชุบุฑ">ุงุฑุฌุงุนุงุช ูุชุบุฑ</a></h3>
<p>ูุง ูโุชูุงูู ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 4-6 ุฑุง ุทูุฑ ุงุตูุงุญ ฺฉูู ฺฉู ุจู ูุง ุงุฌุงุฒู ุฏูุฏ ฺฉ ููุฏุงุฑ ูุฑุถ ฺฏุฑูุชู ุดุฏู ุฑุง ุชุบุฑ ุฏููุ ุจุง ฺูุฏ ุชุบุฑ ฺฉูฺฺฉ ฺฉู ุจู ุฌุง ุขู ุงุฒ <em>ุงุฑุฌุงุน ูุชุบุฑ</em> ุงุณุชูุงุฏู ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut s = String::from("hello");

    change(&amp;mut s);
}

fn change(some_string: &amp;mut String) {
    some_string.push_str(", world");
}</code></pre></pre>
</figure>
<p>ุงุจุชุฏุง <code>s</code> ุฑุง ุจู <code>mut</code> ุชุบุฑ ูโุฏูู. ุณูพุณ ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุจุง <code>&amp;mut s</code> ุงุฌุงุฏ ูโฺฉููุ ุฌุง ฺฉู ุชุงุจุน <code>change</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ู ุงูุถุง ุชุงุจุน ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุจุง <code>some_string: &amp;mut String</code> ุจูพุฐุฑุฏ. ุงู ุจุณุงุฑ ูุงุถุญ ูโฺฉูุฏ ฺฉู ุชุงุจุน <code>change</code> ููุฏุงุฑ ูุฑุถ ฺฏุฑูุชู ุดุฏู ุฑุง ุชุบุฑ ุฎูุงูุฏ ุฏุงุฏ.</p>
<p>ุงุฑุฌุงุนุงุช ูุชุบุฑ ฺฉ ูุญุฏูุฏุช ุจุฒุฑฺฏ ุฏุงุฑูุฏ: ุงฺฏุฑ ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุจู ฺฉ ููุฏุงุฑ ุฏุงุดุชู ุจุงุดุฏุ ููโุชูุงูุฏ ูฺ ุงุฑุฌุงุน ุฏฺฏุฑ ุจู ุขู ููุฏุงุฑ ุฏุงุดุชู ุจุงุดุฏ. ุงู ฺฉุฏ ฺฉู ุชูุงุด ูโฺฉูุฏ ุฏู ุงุฑุฌุงุน ูุชุบุฑ ุจู <code>s</code> ุงุฌุงุฏ ฺฉูุฏุ ูุงูููู ุฎูุงูุฏ ุจูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let mut s = String::from("hello");

    let r1 = &amp;mut s;
    let r2 = &amp;mut s;

    println!("{}, {}", r1, r2);
<span class="boring">}</span></code></pre>
</figure>
<p>ุฏุฑ ุงูุฌุง ุฎุทุง ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling ownership v0.1.0 (file:///projects/ownership)
error[E0499]: cannot borrow `s` as mutable more than once at a time
 --&gt; src/main.rs:5:14
  |
4 |     let r1 = &amp;mut s;
  |              ------ first mutable borrow occurs here
5 |     let r2 = &amp;mut s;
  |              ^^^^^^ second mutable borrow occurs here
6 |
7 |     println!("{}, {}", r1, r2);
  |                        -- first borrow later used here

For more information about this error, try `rustc --explain E0499`.
error: could not compile `ownership` (bin "ownership") due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ูโฺฏูุฏ ฺฉู ุงู ฺฉุฏ ูุงูุนุชุจุฑ ุงุณุช ุฒุฑุง ููโุชูุงูู <code>s</code> ุฑุง ุจู ุทูุฑ ููุฒูุงู ุจุด ุงุฒ ฺฉ ุจุงุฑ ุจู ุตูุฑุช ูุชุบุฑ ูุฑุถ ุจฺฏุฑู. ุงููู ูุฑุถ ูุชุบุฑ ุฏุฑ <code>r1</code> ุงุณุช ู ุจุงุฏ ุชุง ุฒูุงู ฺฉู ุฏุฑ <code>println!</code> ุงุณุชูุงุฏู ุดูุฏ ุจุงู ุจูุงูุฏุ ุงูุง ุจู ุงุฌุงุฏ ุขู ุงุฑุฌุงุน ูุชุบุฑ ู ุงุณุชูุงุฏู ุงุฒ ุขูุ ูุง ุณุน ฺฉุฑุฏู ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุฏฺฏุฑ ุฏุฑ <code>r2</code> ุงุฌุงุฏ ฺฉูู ฺฉู ููุงู ุฏุงุฏูโุง ุฑุง ูุฑุถ ูโฺฏุฑุฏ ฺฉู <code>r1</code> ูุฒ ูุฑุถ ฺฏุฑูุชู ุงุณุช.</p>
<p>ูุญุฏูุฏุช ฺฉู ุงุฒ ุงุฌุงุฏ ฺูุฏ ุงุฑุฌุงุน ูุชุบุฑ ุจู ุฏุงุฏูโูุง ฺฉุณุงู ุจู ุทูุฑ ููุฒูุงู ุฌููฺฏุฑ ูโฺฉูุฏุ ุงูฺฉุงู ุชุบุฑ ุฏุงุฏูโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ ุงูุง ุจู ุตูุฑุช ุจุณุงุฑ ฺฉูุชุฑู ุดุฏู. ุงู ฺุฒ ุงุณุช ฺฉู ุชุงุฒูโฺฉุงุฑุงู ุฒุจุงู Rust ููฺฉู ุงุณุช ุจุง ุขู ูุดฺฉู ุฏุงุดุชู ุจุงุดูุฏ ุฒุฑุง ุงฺฉุซุฑ ุฒุจุงูโูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ูุฑ ุฒูุงู ฺฉู ุจุฎูุงูุฏ ุฏุงุฏูโูุง ุฑุง ุชุบุฑ ุฏูุฏ. ูุฒุช ุงู ูุญุฏูุฏุช ุงู ุงุณุช ฺฉู Rust ูโุชูุงูุฏ ุงุฒ ูุณุงุจูุงุช ุฏุงุฏู (<em>data race</em>) ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุฌููฺฏุฑ ฺฉูุฏ. ฺฉ <em>ูุณุงุจูู ุฏุงุฏู</em> ูุดุงุจู ฺฉ ุดุฑุงุท ูุณุงุจูู (<em>race condition</em>) ุงุณุช ู ุฒูุงู ุฑุฎ ูโุฏูุฏ ฺฉู ุงู ุณู ุฑูุชุงุฑ ุงุชูุงู ุจูุชูุฏ:</p>
<ul>
<li>ุฏู ุง ฺูุฏ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุทูุฑ ููุฒูุงู ุจู ุฏุงุฏูโูุง ฺฉุณุงู ุฏุณุชุฑุณ ูพุฏุง ูโฺฉููุฏ.</li>
<li>ุญุฏุงูู ฺฉ ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุจุฑุง ููุดุชู ุฏุฑ ุฏุงุฏูโูุง ุงุณุชูุงุฏู ูโุดูุฏ.</li>
<li>ูฺ ูฺฉุงูุฒู ุจุฑุง ููุงููฺฏ ฺฉุฑุฏู ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง ุงุณุชูุงุฏู ููโุดูุฏ.</li>
</ul>
<p>ูุณุงุจูุงุช ุฏุงุฏู ุจุงุนุซ ุฑูุชุงุฑ ูุงูุดุฎุต ูโุดููุฏ ู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑูุงูู ููฺฉู ุงุณุช ุงูุชู ู ุฑูุน ุขูโูุง ุฏุดูุงุฑ ุจุงุดุฏุ Rust ุจุง ุนุฏู ฺฉุงููพุงู ฺฉุฏูุง ุฏุงุฑุง ูุณุงุจูุงุช ุฏุงุฏู ุงุฒ ุงู ูุดฺฉู ุฌููฺฏุฑ ูโฺฉูุฏ!</p>
<p>ููุงูุทูุฑ ฺฉู ููุดูุ ูโุชูุงูู ุงุฒ ุขฺฉููุงุฏูุง ุจุฑุง ุงุฌุงุฏ ฺฉ ุงุณฺฉููพ ุฌุฏุฏ ุงุณุชูุงุฏู ฺฉูู ฺฉู ุงูฺฉุงู ูุฌูุฏ ุงุฑุฌุงุนุงุช ูุชุบุฑ ูุชุนุฏุฏ ุฑุง ูุฑุงูู ูโฺฉูุฏุ ุงูุง ูู ุจู ุตูุฑุช <em>ููุฒูุงู</em>:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::from("hello");

    {
        let r1 = &amp;mut s;
    } // r1 goes out of scope here, so we can make a new reference with no problems.

    let r2 = &amp;mut s;
<span class="boring">}</span></code></pre></pre>
<p>Rust ฺฉ ูุงููู ูุดุงุจู ุจุฑุง ุชุฑฺฉุจ ุงุฑุฌุงุนุงุช ูุชุบุฑ ู ุบุฑูุชุบุฑ ุงุนูุงู ูโฺฉูุฏ. ุงู ฺฉุฏ ููุฌุฑ ุจู ุฎุทุง ูโุดูุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let mut s = String::from("hello");

    let r1 = &amp;s; // no problem
    let r2 = &amp;s; // no problem
    let r3 = &amp;mut s; // BIG PROBLEM

    println!("{}, {}, and {}", r1, r2, r3);
<span class="boring">}</span></code></pre>
<p>ุฏุฑ ุงูุฌุง ุฎุทุง ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling ownership v0.1.0 (file:///projects/ownership)
error[E0502]: cannot borrow `s` as mutable because it is also borrowed as immutable
 --&gt; src/main.rs:6:14
  |
4 |     let r1 = &amp;s; // no problem
  |              -- immutable borrow occurs here
5 |     let r2 = &amp;s; // no problem
6 |     let r3 = &amp;mut s; // BIG PROBLEM
  |              ^^^^^^ mutable borrow occurs here
7 |
8 |     println!("{}, {}, and {}", r1, r2, r3);
  |                                -- immutable borrow later used here

For more information about this error, try `rustc --explain E0502`.
error: could not compile `ownership` (bin "ownership") due to 1 previous error
</code></pre>
<p>ุง ูุง! ูุง <em>ููฺูู</em> ููโุชูุงูู ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุฏุงุดุชู ุจุงุดู ุฏุฑ ุญุงู ฺฉู ฺฉ ุงุฑุฌุงุน ุบุฑูุชุบุฑ ุจู ููุงู ููุฏุงุฑ ุฏุงุฑู.</p>
<p>ฺฉุงุฑุจุฑุงู ฺฉู ุงุฒ ฺฉ ุงุฑุฌุงุน ุบุฑูุชุบุฑ ุงุณุชูุงุฏู ูโฺฉููุฏุ ุงูุชุธุงุฑ ูุฏุงุฑูุฏ ฺฉู ููุฏุงุฑ ุจู ุทูุฑ ูุงฺฏูุงู ุชุบุฑ ฺฉูุฏ! ุจุง ุงู ุญุงูุ ฺูุฏู ุงุฑุฌุงุน ุบุฑูุชุบุฑ ูุฌุงุฒ ูุณุชูุฏ ุฒุฑุง ูฺโฺฉุณ ฺฉู ููุท ุฏุงุฏูโูุง ุฑุง ูโุฎูุงูุฏุ ููโุชูุงูุฏ ุฎูุงูุฏู ุฏฺฏุฑุงู ุฑุง ุชุญุช ุชุฃุซุฑ ูุฑุงุฑ ุฏูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงุณฺฉููพ ฺฉ ุงุฑุฌุงุน ุงุฒ ุฌุง ฺฉู ูุนุฑู ูโุดูุฏ ุดุฑูุน ุดุฏู ู ุชุง ุขุฎุฑู ุจุงุฑ ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโุดูุฏ ุงุฏุงูู ุฏุงุฑุฏ. ุจู ุนููุงู ูุซุงูุ ุงู ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏ ุฒุฑุง ุขุฎุฑู ุงุณุชูุงุฏู ุงุฒ ุงุฑุฌุงุนุงุช ุบุฑูุชุบุฑ ุฏุฑ <code>println!</code> ุงุณุชุ ูุจู ุงุฒ ุงูฺฉู ุงุฑุฌุงุน ูุชุบุฑ ูุนุฑู ุดูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::from("hello");

    let r1 = &amp;s; // no problem
    let r2 = &amp;s; // no problem
    println!("{r1} and {r2}");
    // variables r1 and r2 will not be used after this point

    let r3 = &amp;mut s; // no problem
    println!("{r3}");
<span class="boring">}</span></code></pre></pre>
<p>ุงุณฺฉููพโูุง ุงุฑุฌุงุนุงุช ุบุฑูุชุบุฑ <code>r1</code> ู <code>r2</code> ุจุนุฏ ุงุฒ <code>println!</code> ฺฉู ุฏุฑ ุขูุฌุง ุขุฎุฑู ุจุงุฑ ุงุณุชูุงุฏู ุดุฏูโุงูุฏ ุจู ูพุงุงู ูโุฑุณูุฏุ ฺฉู ุงู ูุจู ุงุฒ ุงุฌุงุฏ ุงุฑุฌุงุน ูุชุบุฑ <code>r3</code> ุงุณุช. ุงู ุงุณฺฉููพโูุง ูููพูุดุงู ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุงู ฺฉุฏ ูุฌุงุฒ ุงุณุช: ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู ุงุฑุฌุงุน ุฏฺฏุฑ ุฏุฑ ููุทูโุง ูุจู ุงุฒ ูพุงุงู ุงุณฺฉููพ ุงุณุชูุงุฏู ููโุดูุฏ.</p>
<p>ุญุช ุงฺฏุฑ ุฎุทุงูุง ูุฑุถ ฺฏุฑูุชู ููฺฉู ุงุณุช ฺฏุงู ุงููุงุช ูุงุงูุฏฺฉููุฏู ุจุงุดูุฏุ ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุงููพุงูุฑ Rust ุงุณุช ฺฉู ุจู ุดูุง ูุดุงู ูโุฏูุฏ ฺฉ ุจุงฺฏ ุจุงูููู ุฏุฑ ุงูุงู (ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจู ุฌุง ุฒูุงู ุงุฌุฑุง) ูุฌูุฏ ุฏุงุฑุฏ ู ุฏููุง ุจู ุดูุง ูโฺฏูุฏ ูุดฺฉู ฺฉุฌุงุณุช. ุณูพุณ ูุงุฒ ูุณุช ฺฉู ูพฺฏุฑ ฺฉูุฏ ฺุฑุง ุฏุงุฏูโูุง ุดูุง ุขู ฺุฒ ูุณุช ฺฉู ูฺฉุฑ ูโฺฉุฑุฏุฏ.</p>
<h3 id="ุงุฑุฌุงุนุงุช-ุขูุฒุงู"><a class="header" href="#ุงุฑุฌุงุนุงุช-ุขูุฒุงู">ุงุฑุฌุงุนุงุช ุขูุฒุงู</a></h3>
<p>ุฏุฑ ุฒุจุงูโูุง ฺฉู ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุงุณุชูุงุฏู ูโฺฉููุฏุ ุงุฌุงุฏ ุงุดุชุจุงู ฺฉ <em>ุงุดุงุฑูโฺฏุฑ (Pointer) ุขูุฒุงู</em> ุขุณุงู ุงุณุชโุงุดุงุฑูโฺฏุฑ (Pointer) ฺฉู ุจู ูฺฉุงู ุฏุฑ ุญุงูุธู ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ููฺฉู ุงุณุช ุจู ุดุฎุต ุฏฺฏุฑ ุฏุงุฏู ุดุฏู ุจุงุดุฏโุจุง ุขุฒุงุฏ ฺฉุฑุฏู ููุฏุงุฑ ุญุงูุธู ุฏุฑ ุญุงู ฺฉู ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุขู ุญุงูุธู ุฑุง ุญูุธ ูโฺฉูุฏ. ุฏุฑ Rustุ ุจุฑุนฺฉุณุ ฺฉุงููพุงูุฑ ุชุถูู ูโฺฉูุฏ ฺฉู ุงุฑุฌุงุนุงุช ูุฑฺฏุฒ ุงุฑุฌุงุนุงุช ุขูุฒุงู ูุฎูุงููุฏ ุจูุฏ: ุงฺฏุฑ ุจู ุฏุงุฏูโูุง ุงุฑุฌุงุน ุฏุงุฑุฏุ ฺฉุงููพุงูุฑ ุงุทููุงู ูโุฏูุฏ ฺฉู ุฏุงุฏูโูุง ูุจู ุงุฒ ุงุฑุฌุงุน ุจู ุฏุงุฏูโูุง ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ููโุดููุฏ.</p>
<p>ุจุงุฏ ุณุน ฺฉูู ฺฉ ุงุฑุฌุงุน ุขูุฒุงู ุงุฌุงุฏ ฺฉูู ุชุง ุจุจูู ฺฺฏููู Rust ุจุง ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุงุฒ ุงู ุงุชูุงู ุฌููฺฏุฑ ูโฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let reference_to_nothing = dangle();
}

fn dangle() -&gt; &amp;String {
    let s = String::from("hello");

    &amp;s
}</code></pre>
<p>ุฏุฑ ุงูุฌุง ุฎุทุง ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling ownership v0.1.0 (file:///projects/ownership)
error[E0106]: missing lifetime specifier
 --&gt; src/main.rs:5:16
  |
5 | fn dangle() -&gt; &amp;String {
  |                ^ expected named lifetime parameter
  |
  = help: this function's return type contains a borrowed value, but there is no value for it to be borrowed from
help: consider using the `'static` lifetime, but this is uncommon unless you're returning a borrowed value from a `const` or a `static`
  |
5 | fn dangle() -&gt; &amp;'static String {
  |                 +++++++
help: instead, you are more likely to want to return an owned value
  |
5 - fn dangle() -&gt; &amp;String {
5 + fn dangle() -&gt; String {
  |

error[E0515]: cannot return reference to local variable `s`
 --&gt; src/main.rs:8:5
  |
8 |     &amp;s
  |     ^^ returns a reference to data owned by the current function

Some errors have detailed explanations: E0106, E0515.
For more information about an error, try `rustc --explain E0106`.
error: could not compile `ownership` (bin "ownership") due to 2 previous errors
</code></pre>
<p>ุงู ูพุงู ุฎุทุง ุจู ูฺฺฏโุง ุงุดุงุฑู ุฏุงุฑุฏ ฺฉู ูููุฒ ูพูุดุด ูุฏุงุฏูโุงู: ุทูู ุนูุฑูุง (<em>lifetimes</em>). ูุง ุทูู ุนูุฑูุง ุฑุง ุจู ุทูุฑ ููุตู ุฏุฑ ูุตู 10 ููุฑุฏ ุจุญุซ ูุฑุงุฑ ุฎูุงูู ุฏุงุฏ. ุงูุงุ ุงฺฏุฑ ุจุฎุดโูุง ูุฑุจูุท ุจู ุทูู ุนูุฑูุง ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏุ ูพุงู ฺฉูุฏ ูุดฺฉู ุงู ฺฉุฏ ุฑุง ุจุงู ูโฺฉูุฏ:</p>
<pre><code class="language-text">this function's return type contains a borrowed value, but there is no value
for it to be borrowed from
</code></pre>
<p>ุจุงุฏ ูฺฏุงู ุฏููโุชุฑ ุจู ุขูฺู ฺฉู ุฏุฑ ูุฑ ูุฑุญูู ุงุฒ ฺฉุฏ <code>dangle</code> ุงุชูุงู ูโุงูุชุฏ ุจูุฏุงุฒู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let reference_to_nothing = dangle();
</span><span class="boring">}
</span><span class="boring">
</span>fn dangle() -&gt; &amp;String { // dangle returns a reference to a String

    let s = String::from("hello"); // s is a new String

    &amp;s // we return a reference to the String, s
} // Here, s goes out of scope, and is dropped. Its memory goes away.
  // Danger!</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู <code>s</code> ุฏุงุฎู <code>dangle</code> ุงุฌุงุฏ ูโุดูุฏุ ุฒูุงู ฺฉู ฺฉุฏ <code>dangle</code> ุชูุงู ูโุดูุฏุ <code>s</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ ู ุขุฒุงุฏ ูโฺฏุฑุฏุฏ. ุงูุง ูุง ุณุน ฺฉุฑุฏู ฺฉ ุงุฑุฌุงุน ุจู ุขู ุจุฑฺฏุฑุฏุงูู. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุงู ุงุฑุฌุงุน ุจู ฺฉ <code>String</code> ูุงูุนุชุจุฑ ุงุดุงุฑู ูโฺฉูุฏ. ุงู ุฎูุจ ูุณุช! Rust ุงุฌุงุฒู ููโุฏูุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู.</p>
<p>ุฑุงูโุญู ุฏุฑ ุงูุฌุง ุงู ุงุณุช ฺฉู ุจู ุฌุง ุขู <code>String</code> ุฑุง ุจู ุทูุฑ ูุณุชูู ุจุฑฺฏุฑุฏุงูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let string = no_dangle();
</span><span class="boring">}
</span><span class="boring">
</span>fn no_dangle() -&gt; String {
    let s = String::from("hello");

    s
}</code></pre></pre>
<p>ุงู ุจุฏูู ูฺ ูุดฺฉู ฺฉุงุฑ ูโฺฉูุฏ. ูุงูฺฉุช ุจู ุจุฑูู ููุชูู ูโุดูุฏ ู ูฺ ฺุฒ ุขุฒุงุฏ ููโุดูุฏ.</p>
<h3 id="ููุงูู-ุงุฑุฌุงุนุงุช"><a class="header" href="#ููุงูู-ุงุฑุฌุงุนุงุช">ููุงูู ุงุฑุฌุงุนุงุช</a></h3>
<p>ุจุงุฏ ุขูฺู ุฏุฑุจุงุฑู ุงุฑุฌุงุนุงุช ุจุญุซ ฺฉุฑุฏู ุฑุง ูุฑูุฑ ฺฉูู:</p>
<ul>
<li>ุฏุฑ ูุฑ ุฒูุงู ูุดุฎุตุ ูโุชูุงูุฏ <em>ุง</em> ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุฏุงุดุชู ุจุงุดุฏ <em>ุง</em> ูุฑ ุชุนุฏุงุฏ ุงุฑุฌุงุน ุบุฑูุชุบุฑ.</li>
<li>ุงุฑุฌุงุนุงุช ุจุงุฏ ููุดู ูุนุชุจุฑ ุจุงุดูุฏ.</li>
</ul>
<p>ุฏุฑ ูุฑุญูู ุจุนุฏุ ุจู ููุน ุฏฺฏุฑ ุงุฒ ุงุฑุฌุงุน ุฎูุงูู ูพุฑุฏุงุฎุช: ุจุฎุดโูุง (<em>slices</em>).</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ููุน-slice"><a class="header" href="#ููุน-slice">ููุน Slice</a></h2>
<p><em>Slice</em> ูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุชุง ุจู ฺฉ ุชูุงู ูพูุณุชู ุงุฒ ุนูุงุตุฑ ุฏุฑ ฺฉ <a href="ch08-00-common-collections.html">ูุฌููุนู</a> ุงุฑุฌุงุน ุฏูุฏุ ุจู ุฌุง ฺฉู ูุฌููุนู. ฺฉ slice ููุน ุงุฑุฌุงุน ุงุณุชุ ุจูุงุจุฑุงู ูุงูฺฉุช ูุฏุงุฑุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ูุณุฆูู ุจุฑูุงููโููุณ ฺฉูฺฺฉ ุฏุงุฑู: ฺฉ ุชุงุจุน ุจููุณุฏ ฺฉู ฺฉ ุฑุดุชู ุงุฒ ฺฉููุงุช ุฌุฏุง ุดุฏู ุจุง ูุงุตููโูุง ุฑุง ุจฺฏุฑุฏ ู ุงููู ฺฉูููโุง ฺฉู ุฏุฑ ุขู ุฑุดุชู ูพุฏุง ูโฺฉูุฏ ุฑุง ุจุฑฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุชุงุจุน ูฺ ูุงุตููโุง ุฏุฑ ุฑุดุชู ูพุฏุง ูฺฉูุฏุ ฺฉู ุฑุดุชู ุจุงุฏ ฺฉ ฺฉููู ุจุงุดุฏุ ุจูุงุจุฑุงู ุจุงุฏ ฺฉู ุฑุดุชู ุจุฑฺฏุฑุฏุงูุฏู ุดูุฏ.</p>
<p>ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ฺฺฏููู ูโุชูุงูู ุงูุถุง ุงู ุชุงุจุน ุฑุง ุจุฏูู ุงุณุชูุงุฏู ุงุฒ slices ุจููุณู ุชุง ูุณุฆููโุง ฺฉู slices ุญู ูโฺฉููุฏ ุฑุง ุจูุชุฑ ุฏุฑฺฉ ฺฉูู:</p>
<pre><code class="language-rust ignore">fn first_word(s: &amp;String) -&gt; ?</code></pre>
<p>ุชุงุจุน <code>first_word</code> ฺฉ <code>&amp;String</code> ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุฏุงุฑุฏ. ูุง ุจู ูุงูฺฉุช ูุงุฒ ูุฏุงุฑูุ ุจูุงุจุฑุงู ุงู ูุดฺฉู ูุฏุงุฑุฏ. (ุฏุฑ Rust ุงุฏุฆุงูุ ุชูุงุจุน ูุงูฺฉุช ุขุฑฺฏููุงูโูุง ุฎูุฏ ุฑุง ูฺฏุฑ ุฏุฑ ููุงูุน ุถุฑูุฑ ููโฺฏุฑูุฏุ ู ุฏูุงู ุงู ููุถูุน ุฏุฑ ุงุฏุงูู ูุดุฎุต ุฎูุงูุฏ ุดุฏ!) ุงูุง ฺู ฺุฒ ุจุงุฏ ุจุฑฺฏุฑุฏุงููุ ูุง ูุงูุนุงู ุฑุงู ุจุฑุง ุตุญุจุช ุฏุฑุจุงุฑู ุจุฎุด ุงุฒ ฺฉ ุฑุดุชู ูุฏุงุฑู. ุจุง ุงู ุญุงูุ ูโุชูุงูู ุดุงุฎุต ุงูุชูุง ฺฉููู ุฑุง ฺฉู ุจุง ฺฉ ูุงุตูู ูุดุฎุต ูโุดูุฏุ ุจุฑฺฏุฑุฏุงูู. ุจุงุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 4-7 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn first_word(s: &amp;String) -&gt; usize {
    let bytes = s.as_bytes();

    for (i, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return i;
        }
    }

    s.len()
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 4-7: ุชุงุจุน <code>first_word</code> ฺฉู ฺฉ ููุฏุงุฑ ุดุงุฎุต ุจุงุช ุฏุฑ <code>String</code> ูพุงุฑุงูุชุฑ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ุฒุฑุง ูุง ูุงุฒ ุฏุงุฑู ุนูุตุฑ ุจู ุนูุตุฑ ุงุฒ <code>String</code> ุนุจูุฑ ฺฉูู ู ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ฺฉ ููุฏุงุฑ ูุงุตูู ุงุณุช ุง ุฎุฑุ ุฑุดุชู ุฎูุฏ ุฑุง ุจู ฺฉ ุขุฑุงู ุงุฒ ุจุงุชโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>as_bytes</code> ุชุจุฏู ูโฺฉูู.</p>
<pre><code class="language-rust ignore"><span class="boring">fn first_word(s: &amp;String) -&gt; usize {
</span>    let bytes = s.as_bytes();
<span class="boring">
</span><span class="boring">    for (i, &amp;item) in bytes.iter().enumerate() {
</span><span class="boring">        if item == b' ' {
</span><span class="boring">            return i;
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    s.len()
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {}</span></code></pre>
<p>ุฏุฑ ูุฑุญูู ุจุนุฏุ ฺฉ iterator ุฑู ุขุฑุงู ุจุงุชโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>iter</code> ุงุฌุงุฏ ูโฺฉูู:</p>
<pre><code class="language-rust ignore"><span class="boring">fn first_word(s: &amp;String) -&gt; usize {
</span><span class="boring">    let bytes = s.as_bytes();
</span><span class="boring">
</span>    for (i, &amp;item) in bytes.iter().enumerate() {
<span class="boring">        if item == b' ' {
</span><span class="boring">            return i;
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    s.len()
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {}</span></code></pre>
<p>ูุง ุฏุฑ <a href="ch13-02-iterators.html">ูุตู 13</a><!-- ignore --> ุจุดุชุฑ ุฏุฑุจุงุฑู iterators ุจุญุซ ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ุจุฏุงูุฏ ฺฉู <code>iter</code> ฺฉ ูุชุฏ ุงุณุช ฺฉู ูุฑ ุนูุตุฑ ุฏุฑ ฺฉ ูุฌููุนู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ู <code>enumerate</code> ูุชุฌู <code>iter</code> ุฑุง ูโูพฺุฏ ู ูุฑ ุนูุตุฑ ุฑุง ุจู ุนููุงู ุจุฎุด ุงุฒ ฺฉ tuple ุจุฑูโฺฏุฑุฏุงูุฏ. ุงููู ุนูุตุฑ tuple ุจุฑฺฏุฑุฏุงูุฏู ุดุฏู ุงุฒ <code>enumerate</code> ุดุงุฎุต ุงุณุช ู ุฏููู ุนูุตุฑ ุงุฑุฌุงุน ุจู ุนูุตุฑ ุงุณุช. ุงู ฺฉุงุฑ ฺฉู ุฑุงุญุชโุชุฑ ุงุฒ ูุญุงุณุจู ุดุงุฎุต ุจู ุตูุฑุช ุฏุณุช ุงุณุช.</p>
<p>ุฒุฑุง ูุชุฏ <code>enumerate</code> ฺฉ tuple ุจุฑูโฺฏุฑุฏุงูุฏุ ูโุชูุงูู ุงุฒ ุงูฺฏููุง ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุงู tuple ุงุณุชูุงุฏู ฺฉูู. ูุง ุฏุฑ <a href="ch06-02-match.html#patterns-that-bind-to-values">ูุตู 6</a><!-- ignore --> ุจุดุชุฑ ุฏุฑุจุงุฑู ุงูฺฏููุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุญููู <code>for</code>ุ ุงูฺฏู ูุดุฎุต ูโฺฉูู ฺฉู <code>i</code> ุจุฑุง ุดุงุฎุต ุฏุฑ tuple ู <code>&amp;item</code> ุจุฑุง ุจุงุช ูููุฑุฏ ุฏุฑ tuple ุจุงุดุฏ. ุฒุฑุง ูุง ฺฉ ุงุฑุฌุงุน ุจู ุนูุตุฑ ุงุฒ <code>.iter().enumerate()</code> ุฏุฑุงูุช ูโฺฉููุ ุงุฒ <code>&amp;</code> ุฏุฑ ุงูฺฏู ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ุฏุงุฎู ุญููู <code>for</code>ุ ุจู ุฏูุจุงู ุจุงุช ฺฉู ููุงูุฏู ูุงุตูู ุจุงุดุฏ ูโฺฏุฑุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญูู ููุดุชู ุจุงุช ุจู ุตูุฑุช literale. ุงฺฏุฑ ฺฉ ูุงุตูู ูพุฏุง ฺฉุฑุฏูุ ูููุนุช ุฑุง ุจุฑูโฺฏุฑุฏุงูู. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุทูู ุฑุดุชู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>s.len()</code> ุจุฑูโฺฏุฑุฏุงูู.</p>
<pre><code class="language-rust ignore"><span class="boring">fn first_word(s: &amp;String) -&gt; usize {
</span><span class="boring">    let bytes = s.as_bytes();
</span><span class="boring">
</span><span class="boring">    for (i, &amp;item) in bytes.iter().enumerate() {
</span>        if item == b' ' {
            return i;
        }
    }

    s.len()
<span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {}</span></code></pre>
<p>ุงฺฉููู ุฑุงู ุจุฑุง ุงูุชู ุดุงุฎุต ุงูุชูุง ุงููู ฺฉููู ุฏุฑ ุฑุดุชู ุฏุงุฑูุ ุงูุง ูุดฺฉู ูุฌูุฏ ุฏุงุฑุฏ. ูุง ฺฉ <code>usize</code> ุจู ุชููุง ุจุฑูโฺฏุฑุฏุงููุ ุงูุง ุงู ุชููุง ฺฉ ุนุฏุฏ ูุนูุงุฏุงุฑ ุฏุฑ ุฒููู <code>&amp;String</code> ุงุณุช. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุฒุฑุง ุงู ููุฏุงุฑ ุงุฒ <code>String</code> ุฌุฏุง ุงุณุชุ ูฺ ุชุถูู ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุฏุฑ ุขูุฏู ููฺูุงู ูุนุชุจุฑ ุจุงุดุฏ. ุจุฑูุงููโุง ฺฉู ุฏุฑ ูุณุชูฺฏ 4-8 ุงุณุชูุงุฏู ูโุดูุฏ ู ุงุฒ ุชุงุจุน <code>first_word</code> ุงุฒ ูุณุชูฺฏ 4-7 ุงุณุชูุงุฏู ูโฺฉูุฏ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn first_word(s: &amp;String) -&gt; usize {
</span><span class="boring">    let bytes = s.as_bytes();
</span><span class="boring">
</span><span class="boring">    for (i, &amp;item) in bytes.iter().enumerate() {
</span><span class="boring">        if item == b' ' {
</span><span class="boring">            return i;
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    s.len()
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let mut s = String::from("hello world");

    let word = first_word(&amp;s); // word will get the value 5

    s.clear(); // this empties the String, making it equal to ""

    // `word` still has the value `5` here, but `s` no longer has any content
    // that we could meaningfully use with the value `5`, so `word` is now
    // totally invalid!
}</code></pre></pre>
<figcaption>Listing 4-8: ุฐุฎุฑู ูุชุฌู ุงุฒ ูุฑุงุฎูุงู ุชุงุจุน <code>first_word</code> ู ุณูพุณ ุชุบุฑ ูุญุชูุง <code>String</code></figcaption>
</figure>
<p>ุงู ุจุฑูุงูู ุจุฏูู ูฺ ุฎุทุง ฺฉุงููพุงู ูโุดูุฏ ู ุญุช ุงฺฏุฑ <code>word</code> ุฑุง ุจุนุฏ ุงุฒ ูุฑุงุฎูุงู <code>s.clear()</code> ุงุณุชูุงุฏู ฺฉููุ ููฺูุงู ุฏุฑุณุช ฺฉุงุฑ ุฎูุงูุฏ ฺฉุฑุฏ. ุฒุฑุง <code>word</code> ุงุตูุงู ุจู ุญุงูุช <code>s</code> ูุชุตู ูุณุชุ <code>word</code> ููฺูุงู ููุฏุงุฑ <code>5</code> ุฑุง ุฏุงุฑุฏ. ูุง ูโุชูุงูู ุงุฒ ููุฏุงุฑ <code>5</code> ููุฑุงู ุจุง ูุชุบุฑ <code>s</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ุชูุงุด ฺฉูู ุงููู ฺฉููู ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉููุ ุงูุง ุงู ฺฉ ุจุงฺฏ ุฎูุงูุฏ ุจูุฏ ุฒุฑุง ูุญุชูุง <code>s</code> ุงุฒ ุฒูุงู ฺฉู <code>5</code> ุฑุง ุฏุฑ <code>word</code> ุฐุฎุฑู ฺฉุฑุฏูุ ุชุบุฑ ฺฉุฑุฏู ุงุณุช.</p>
<p>ูฺฏุฑุงู ููุงููฺฏ ูฺฏู ุฏุงุดุชู ุดุงุฎุต ุฏุฑ <code>word</code> ุจุง ุฏุงุฏูโูุง ููุฌูุฏ ุฏุฑ <code>s</code> ุจูุฏูุ ุฎุณุชูโฺฉููุฏู ู ูุณุชุนุฏ ุฎุทุงุณุช! ูุฏุฑุช ุงู ุดุงุฎุตโูุง ุญุช ุดฺฉููุฏูโุชุฑ ูโุดูุฏ ุงฺฏุฑ ุจุฎูุงูู ฺฉ ุชุงุจุน <code>second_word</code> ุจููุณู. ุงูุถุง ุขู ุจุงุฏ ุจู ุงู ุตูุฑุช ุจุงุดุฏ:</p>
<pre><code class="language-rust ignore">fn second_word(s: &amp;String) -&gt; (usize, usize) {</code></pre>
<p>ุญุงูุง ูุง ฺฉ ุดุงุฎุต ุดุฑูุน ู ฺฉ ุดุงุฎุต ูพุงุงู ุฑุง ุฏูุจุงู ูโฺฉูู ู ููุงุฏุฑ ุจุดุชุฑ ุฏุงุฑู ฺฉู ุงุฒ ุฏุงุฏูโูุง ุฏุฑ ฺฉ ูุถุนุช ุฎุงุต ูุญุงุณุจู ุดุฏูโุงูุฏ ุงูุง ุงุตูุงู ุจู ุขู ูุถุนุช ูุฑุชุจุท ูุณุชูุฏ. ูุง ุณู ูุชุบุฑ ูุงูุฑุชุจุท ุฏุงุฑู ฺฉู ุจุงุฏ ููฺฏุงู ูฺฏู ุฏุงุดุชู ุดููุฏ.</p>
<p>ุฎูุดุจุฎุชุงููุ Rust ฺฉ ุฑุงูโุญู ุจุฑุง ุงู ูุดฺฉู ุฏุงุฑุฏ: ุจุฑุดโูุง ุฑุดุชูโุง.</p>
<h3 id="ุจุฑุดูุง-ุฑุดุชูุง"><a class="header" href="#ุจุฑุดูุง-ุฑุดุชูุง">ุจุฑุดโูุง ุฑุดุชูโุง</a></h3>
<p><em>ุจุฑุด ุฑุดุชูโุง</em> ฺฉ ุงุฑุฌุงุน ุจู ุจุฎุด ุงุฒ ฺฉ <code>String</code> ุงุณุช ู ุจู ุงู ุดฺฉู ุจู ูุธุฑ ูโุฑุณุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s = String::from("hello world");

    let hello = &amp;s[0..5];
    let world = &amp;s[6..11];
<span class="boring">}</span></code></pre></pre>
<p>ุจู ุฌุง ฺฉ ุงุฑุฌุงุน ุจู ฺฉู <code>String</code>ุ <code>hello</code> ฺฉ ุงุฑุฌุงุน ุจู ุจุฎุด ุงุฒ <code>String</code> ุงุณุช ฺฉู ุฏุฑ ุจุฎุด ุงุถุงู <code>[0..5]</code> ูุดุฎุต ุดุฏู ุงุณุช. ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุญุฏูุฏู ุฏุฑ ุฏุงุฎู ฺฉุฑูุดูโูุง ุจุฑุดโูุง ุฑุง ุงุฌุงุฏ ูโฺฉููุ ุจุง ูุดุฎุต ฺฉุฑุฏู <code>[starting_index..ending_index]</code> ฺฉู ุฏุฑ ุขู <code>starting_index</code> ุงููู ูููุนุช ุฏุฑ ุจุฑุด ู <code>ending_index</code> ฺฉ ุจุดุชุฑ ุงุฒ ุขุฎุฑู ูููุนุช ุฏุฑ ุจุฑุด ุงุณุช. ุจู ุตูุฑุช ุฏุงุฎูุ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจุฑุด ูููุนุช ุดุฑูุน ู ุทูู ุจุฑุด ุฑุง ุฐุฎุฑู ูโฺฉูุฏ ฺฉู ูุชูุงุธุฑ ุจุง <code>ending_index</code> ูููุง <code>starting_index</code> ุงุณุช. ุจูุงุจุฑุงูุ ุฏุฑ ุญุงูุช <code>let world = &amp;s[6..11];</code>ุ <code>world</code> ฺฉ ุจุฑุด ุงุณุช ฺฉู ุดุงูู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุจุงุช ุฏุฑ ุดุงุฎุต 6 ุงุฒ <code>s</code> ุจุง ฺฉ ููุฏุงุฑ ุทูู <code>5</code> ุงุณุช.</p>
<p>ุดฺฉู 4-7 ุงู ููุถูุน ุฑุง ุฏุฑ ฺฉ ูููุฏุงุฑ ูุดุงู ูโุฏูุฏ.</p>
<img alt="ุณู ุฌุฏูู: ุฌุฏูู ฺฉู ุฏุงุฏูโูุง ูพุดุชูโุง s ุฑุง ูุดุงู ูโุฏูุฏุ ฺฉู ุจู ุจุงุช ุฏุฑ ุดุงุฎุต 0 ุฏุฑ ฺฉ ุฌุฏูู ุงุฒ ุฏุงุฏูโูุง ุฑุดุชู &quot;hello world&quot; ุฏุฑ heap ุงุดุงุฑู ูโฺฉูุฏ. ุฌุฏูู ุณูู ุฏุงุฏูโูุง ูพุดุชูโุง ุจุฑุด world ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุงุฑุง ููุฏุงุฑ ุทูู 5 ุงุณุช ู ุจู ุจุงุช 6 ุงุฒ ุฌุฏูู ุฏุงุฏูโูุง heap ุงุดุงุฑู ูโฺฉูุฏ." src="img/trpl04-07.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู 4-7: ุจุฑุด ุฑุดุชูโุง ุงุดุงุฑู ุจู ุจุฎุด ุงุฒ ฺฉ <code>String</code></span></p>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู ูุญุฏูุฏู <code>..</code> ุฏุฑ Rustุ ุงฺฏุฑ ูโุฎูุงูุฏ ุงุฒ ุดุงุฎุต 0 ุดุฑูุน ฺฉูุฏุ ูโุชูุงูุฏ ููุฏุงุฑ ูุจู ุงุฒ ุฏู ููุทู ุฑุง ุญุฐู ฺฉูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุงู ุฏู ูุนุงุฏู ูุณุชูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = String::from("hello");

let slice = &amp;s[0..2];
let slice = &amp;s[..2];
<span class="boring">}</span></code></pre></pre>
<p>ุจู ููู ุชุฑุชุจุ ุงฺฏุฑ ุจุฑุด ุดูุง ุดุงูู ุขุฎุฑู ุจุงุช <code>String</code> ุจุงุดุฏุ ูโุชูุงูุฏ ุนุฏุฏ ูพุงุงู ุฑุง ุญุฐู ฺฉูุฏ. ุงู ุจู ุงู ูุนูุงุณุช ฺฉู ุงู ุฏู ูุนุงุฏู ูุณุชูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = String::from("hello");

let len = s.len();

let slice = &amp;s[3..len];
let slice = &amp;s[3..];
<span class="boring">}</span></code></pre></pre>
<p>ุดูุง ููฺูู ูโุชูุงูุฏ ูุฑ ุฏู ููุฏุงุฑ ุฑุง ุญุฐู ฺฉูุฏ ุชุง ฺฉ ุจุฑุด ุงุฒ ฺฉู ุฑุดุชู ุจฺฏุฑุฏ. ุจูุงุจุฑุงู ุงู ุฏู ูุนุงุฏู ูุณุชูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = String::from("hello");

let len = s.len();

let slice = &amp;s[0..len];
let slice = &amp;s[..];
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>ุชูุฌู: ุดุงุฎุตโูุง ูุญุฏูุฏู ุจุฑุด ุฑุดุชู ุจุงุฏ ุฏุฑ ูุฑุฒูุง ูุนุชุจุฑ ฺฉุงุฑุงฺฉุชุฑ UTF-8 ุฑุฎ ุฏููุฏ. ุงฺฏุฑ ุจุฎูุงูุฏ ฺฉ ุจุฑุด ุฑุดุชู ุฏุฑ ูุณุท ฺฉ ฺฉุงุฑุงฺฉุชุฑ ฺูุฏุจุงุช ุงุฌุงุฏ ฺฉูุฏุ ุจุฑูุงูู ุดูุง ุจุง ฺฉ ุฎุทุง ุฎุงุชูู ุฎูุงูุฏ ุงูุช. ุจุฑุง ููุงุตุฏ ูุนุฑู ุจุฑุดโูุง ุฑุดุชูโุงุ ูุง ููุท ASCII ุฑุง ุฏุฑ ุงู ุจุฎุด ุฏุฑ ูุธุฑ ฺฏุฑูุชูโุงูุ ุจุญุซ ุฏููโุชุฑ ุฏุฑ ููุฑุฏ ูุฏุฑุช UTF-8 ุฏุฑ ุจุฎุด <a href="ch08-02-strings.html#storing-utf-8-encoded-text-with-strings">โุฐุฎุฑู ูุชู ุฑูุฒฺฏุฐุงุฑ ุดุฏู UTF-8 ุจุง ุฑุดุชูโูุงโ</a><!-- ignore --> ุฏุฑ ูุตู 8 ูุฌูุฏ ุฏุงุฑุฏ.</p>
</blockquote>
<p>ุจุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุงู ุงุทูุงุนุงุชุ ุจุงุฏ <code>first_word</code> ุฑุง ุจุงุฒููุณ ฺฉูู ุชุง ฺฉ ุจุฑุด ุจุฑฺฏุฑุฏุงูุฏ. ููุน ฺฉู ูุดุงูโุฏููุฏู โุจุฑุด ุฑุดุชูโุงโ ุงุณุช ุจู ุตูุฑุช <code>&amp;str</code> ููุดุชู ูโุดูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn first_word(s: &amp;String) -&gt; &amp;str {
    let bytes = s.as_bytes();

    for (i, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &amp;s[0..i];
        }
    }

    &amp;s[..]
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
</figure>
<p>ูุง ุดุงุฎุต ูพุงุงู ฺฉููู ุฑุง ุจู ููุงู ุฑูุด ฺฉู ุฏุฑ ูุณุชูฺฏ 4-7 ุงูุฌุงู ุฏุงุฏูุ ูพุฏุง ูโฺฉููุ ุนู ุจุง ุฌุณุชุฌู ุงููู ูุถุง ุฎุงู. ููุช ฺฉ ูุถุง ุฎุงู ูพุฏุง ูโฺฉููุ ฺฉ ุจุฑุด ุฑุดุชูโุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุดุฑูุน ุฑุดุชู ู ุดุงุฎุต ูุถุง ุฎุงู ุจูโุนููุงู ุดุงุฎุตโูุง ุดุฑูุน ู ูพุงุงู ุจุฑูโฺฏุฑุฏุงูู.</p>
<p>ุงฺฉููู ููุช <code>first_word</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ฺฉ ููุฏุงุฑ ูุงุญุฏ ุฏุฑุงูุช ูโฺฉูู ฺฉู ุจู ุฏุงุฏูโูุง ูพุงู ูุชุตู ุงุณุช. ุงู ููุฏุงุฑ ุดุงูู ฺฉ ุงุฑุฌุงุน ุจู ููุทู ุดุฑูุน ุจุฑุด ู ุชุนุฏุงุฏ ุนูุงุตุฑ ููุฌูุฏ ุฏุฑ ุจุฑุด ุงุณุช.</p>
<p>ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ ุจุฑุด ุจุฑุง ฺฉ ุชุงุจุน <code>second_word</code> ูุฒ ฺฉุงุฑ ูโฺฉูุฏ:</p>
<pre><code class="language-rust ignore">fn second_word(s: &amp;String) -&gt; &amp;str {</code></pre>
<p>ุงฺฉููู ฺฉ API ุณุงุฏู ุฏุงุฑู ฺฉู ุจุณุงุฑ ุณุฎุชโุชุฑ ุงุณุช ุงุดุชุจุงู ุดูุฏ ุฒุฑุง ฺฉุงููพุงูุฑ ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุงุฑุฌุงุนโูุง ุจู ุฏุงุฎู <code>String</code> ูุนุชุจุฑ ุจุงู ูโูุงููุฏ. ุจู ุงุฏ ุฏุงุฑุฏ ุฎุทุง ููุทู ุจุฑูุงูู ุฏุฑ ูุณุชูฺฏ 4-8ุ ููุช ุดุงุฎุต ุงูุชูุง ุงููู ฺฉููู ุฑุง ุจู ุฏุณุช ุขูุฑุฏู ุงูุง ุณูพุณ ุฑุดุชู ุฑุง ูพุงฺฉ ฺฉุฑุฏูุ ุจูุงุจุฑุงู ุดุงุฎุต ูุง ูุงูุนุชุจุฑ ุดุฏุ ุขู ฺฉุฏ ููุทู ูุงุฏุฑุณุช ุจูุฏ ุงูุง ูฺ ุฎุทุง ููุฑ ูุดุงู ููโุฏุงุฏ. ูุดฺฉูุงุช ุจุนุฏุงู ููุช ุชูุงุด ูโฺฉุฑุฏู ุงุฒ ุดุงุฎุต ุงููู ฺฉููู ุจุง ฺฉ ุฑุดุชู ุฎุงู ุงุณุชูุงุฏู ฺฉููุ ุธุงูุฑ ูโุดุฏ. ุจุฑุดโูุง ุงู ุฎุทุง ุฑุง ุบุฑููฺฉู ูโฺฉููุฏ ู ุจู ูุง ุงุทูุงุน ูโุฏููุฏ ฺฉู ูุดฺฉู ุฏุฑ ฺฉุฏ ูุง ูุฌูุฏ ุฏุงุฑุฏ ุฎู ุฒูุฏุชุฑ. ุงุณุชูุงุฏู ุงุฒ ูุณุฎู ุจุฑุด <code>first_word</code> ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุงุฌุงุฏ ูโฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn first_word(s: &amp;String) -&gt; &amp;str {
</span><span class="boring">    let bytes = s.as_bytes();
</span><span class="boring">
</span><span class="boring">    for (i, &amp;item) in bytes.iter().enumerate() {
</span><span class="boring">        if item == b' ' {
</span><span class="boring">            return &amp;s[0..i];
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    &amp;s[..]
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let mut s = String::from("hello world");

    let word = first_word(&amp;s);

    s.clear(); // error!

    println!("the first word is: {word}");
}</code></pre>
</figure>
<p>ุงู ูู ุฎุทุง ฺฉุงููพุงูุฑ:</p>
<pre><code class="language-console">$ cargo run
   Compiling ownership v0.1.0 (file:///projects/ownership)
error[E0502]: cannot borrow `s` as mutable because it is also borrowed as immutable
  --&gt; src/main.rs:18:5
   |
16 |     let word = first_word(&amp;s);
   |                           -- immutable borrow occurs here
17 |
18 |     s.clear(); // error!
   |     ^^^^^^^^^ mutable borrow occurs here
19 |
20 |     println!("the first word is: {word}");
   |                                  ------ immutable borrow later used here

For more information about this error, try `rustc --explain E0502`.
error: could not compile `ownership` (bin "ownership") due to 1 previous error
</code></pre>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ุงุฒ ููุงูู ูุงู ฺฏุฑูุชู ฺฉู ุงฺฏุฑ ูุง ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ฺุฒ ุฏุงุดุชู ุจุงุดูุ ููโุชูุงูู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ูุฒ ุจฺฏุฑู. ุงุฒ ุขูุฌุง ฺฉู <code>clear</code> ูุงุฒ ุฏุงุฑุฏ ฺฉู <code>String</code> ุฑุง ฺฉูุชุงู ฺฉูุฏุ ูุงุฒ ุฏุงุฑุฏ ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุจฺฏุฑุฏ. <code>println!</code> ุจุนุฏ ุงุฒ ูุฑุงุฎูุงู ุจู <code>clear</code> ุงุฒ ุงุฑุฌุงุน ุฏุฑ <code>word</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจูุงุจุฑุงู ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจุงุฏ ูููุฒ ุฏุฑ ุขู ููุทู ูุนุงู ุจุงุดุฏ. Rust ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุฏุฑ <code>clear</code> ู ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุฏุฑ <code>word</code> ุฑุง ุงุฒ ููุฒูุงู ูุฌูุฏ ุฏุงุดุชู ููููุน ูโฺฉูุฏ ู ฺฉุงููพุงู ุดฺฉุณุช ูโุฎูุฑุฏ. ูู ุชููุง Rust API ูุง ุฑุง ุขุณุงูโุชุฑ ฺฉุฑุฏูุ ุจูฺฉู ฺฉ ุฏุณุชู ฺฉุงูู ุงุฒ ุฎุทุงูุง ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุญุฐู ฺฉุฑุฏู ุงุณุช!</p>
<!-- ุนููุงู ูุฏู. ุญุฐู ูฺฉูุฏ ุง ููฺฉโูุง ููฺฉู ุงุณุช ุฎุฑุงุจ ุดููุฏ. -->
<p><a id="string-literals-are-slices"></a></p>
<h4 id="ุฑุดุชููุง-ูุชู-ุจู-ุนููุงู-ุจุฑุด"><a class="header" href="#ุฑุดุชููุง-ูุชู-ุจู-ุนููุงู-ุจุฑุด">ุฑุดุชูโูุง ูุชู ุจู ุนููุงู ุจุฑุด</a></h4>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ูุง ุฏุฑุจุงุฑู ุฐุฎุฑู ุฑุดุชูโูุง ูุชู ุฏุฑ ุฏุงุฎู ุจุงูุฑ ุตุญุจุช ฺฉุฑุฏู. ุงฺฉููู ฺฉู ุฏุฑุจุงุฑู ุจุฑุดโูุง ูโุฏุงููุ ูโุชูุงูู ุฑุดุชูโูุง ูุชู ุฑุง ุจู ุฏุฑุณุช ุฏุฑฺฉ ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = "Hello, world!";
<span class="boring">}</span></code></pre></pre>
<p>ููุน <code>s</code> ุฏุฑ ุงูุฌุง <code>&amp;str</code> ุงุณุช: ุงู ฺฉ ุจุฑุด ุงุณุช ฺฉู ุจู ฺฉ ููุทู ุฎุงุต ุงุฒ ุจุงูุฑ ุงุดุงุฑู ูโฺฉูุฏ. ุงู ููฺูู ุฏูู ุบุฑูุงุจู ุชุบุฑ ุจูุฏู ุฑุดุชูโูุง ูุชู ุงุณุชุ <code>&amp;str</code> ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุงุณุช.</p>
<h4 id="ุจุฑุดูุง-ุฑุดุชูุง-ุจู-ุนููุงู-ูพุงุฑุงูุชุฑูุง"><a class="header" href="#ุจุฑุดูุง-ุฑุดุชูุง-ุจู-ุนููุงู-ูพุงุฑุงูุชุฑูุง">ุจุฑุดโูุง ุฑุดุชูโุง ุจู ุนููุงู ูพุงุฑุงูุชุฑูุง</a></h4>
<p>ุฏุงูุณุชู ุงูฺฉู ูโุชูุงูุฏ ุจุฑุดโูุง ุงุฒ ุฑุดุชูโูุง ูุชู ู ููุงุฏุฑ <code>String</code> ุจฺฏุฑุฏ ูุง ุฑุง ุจู ฺฉ ุจูุจูุฏ ุฏฺฏุฑ ุฏุฑ <code>first_word</code> ูโุฑุณุงูุฏุ ู ุขู ุงูุถุง ุขู ุงุณุช:</p>
<pre><code class="language-rust ignore">fn first_word(s: &amp;String) -&gt; &amp;str {</code></pre>
<p>ฺฉ ุจุฑูุงููโููุณ ุจุงุชุฌุฑุจูโุชุฑ Rust ุงูุถุง ูุดุงู ุฏุงุฏู ุดุฏู ุฏุฑ ูุณุชูฺฏ 4-9 ุฑุง ูโููุณุฏ ุฒุฑุง ุงู ุงุฌุงุฒู ุฑุง ูโุฏูุฏ ฺฉู ุงุฒ ููุงู ุชุงุจุน ุจุฑุง ููุงุฏุฑ <code>&amp;String</code> ู <code>&amp;str</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<pre><code class="language-rust ignore">fn first_word(s: &amp;str) -&gt; &amp;str {
<span class="boring">    let bytes = s.as_bytes();
</span><span class="boring">
</span><span class="boring">    for (i, &amp;item) in bytes.iter().enumerate() {
</span><span class="boring">        if item == b' ' {
</span><span class="boring">            return &amp;s[0..i];
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    &amp;s[..]
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let my_string = String::from("hello world");
</span><span class="boring">
</span><span class="boring">    // `first_word` works on slices of `String`s, whether partial or whole
</span><span class="boring">    let word = first_word(&amp;my_string[0..6]);
</span><span class="boring">    let word = first_word(&amp;my_string[..]);
</span><span class="boring">    // `first_word` also works on references to `String`s, which are equivalent
</span><span class="boring">    // to whole slices of `String`s
</span><span class="boring">    let word = first_word(&amp;my_string);
</span><span class="boring">
</span><span class="boring">    let my_string_literal = "hello world";
</span><span class="boring">
</span><span class="boring">    // `first_word` works on slices of string literals, whether partial or whole
</span><span class="boring">    let word = first_word(&amp;my_string_literal[0..6]);
</span><span class="boring">    let word = first_word(&amp;my_string_literal[..]);
</span><span class="boring">
</span><span class="boring">    // Because string literals *are* string slices already,
</span><span class="boring">    // this works too, without the slice syntax!
</span><span class="boring">    let word = first_word(my_string_literal);
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 4-9: ุจูุจูุฏ ุชุงุจุน <code>first_word</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ุจุฑุด ุฑุดุชูโุง ุจุฑุง ููุน ูพุงุฑุงูุชุฑ <code>s</code></figcaption>
</figure>
<p>ุงฺฏุฑ ูุง ฺฉ ุจุฑุด ุฑุดุชูโุง ุฏุงุดุชู ุจุงุดูุ ูโุชูุงูู ุขู ุฑุง ูุณุชููุงู ุงุฑุณุงู ฺฉูู. ุงฺฏุฑ ฺฉ <code>String</code> ุฏุงุดุชู ุจุงุดูุ ูโุชูุงูู ฺฉ ุจุฑุด ุงุฒ <code>String</code> ุง ฺฉ ุงุฑุฌุงุน ุจู <code>String</code> ุงุฑุณุงู ฺฉูู. ุงู ุงูุนุทุงูโูพุฐุฑ ุงุฒ ูฺฺฏ <em>ุฏุฑู ฺฉูุฆุฑุณู</em> ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉู ุฏุฑ ุจุฎุด <a href="ch15-02-deref.html#implicit-deref-coercions-with-functions-and-methods">โImplicit Deref Coercions with Functions and Methodsโ</a><!--ignore--> ุฏุฑ ูุตู 15 ุจู ุขู ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<p>ุชุนุฑู ฺฉ ุชุงุจุน ุจุฑุง ฺฏุฑูุชู ฺฉ ุจุฑุด ุฑุดุชูโุง ุจู ุฌุง ฺฉ ุงุฑุฌุงุน ุจู <code>String</code>ุ API ูุง ุฑุง ุนูููโุชุฑ ู ููุฏุชุฑ ูโฺฉูุฏ ุจุฏูู ุงูฺฉู ูฺ ฺฉุงุฑุจุฑุฏ ุงุฒ ุฏุณุช ุจุฑูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn first_word(s: &amp;str) -&gt; &amp;str {
</span><span class="boring">    let bytes = s.as_bytes();
</span><span class="boring">
</span><span class="boring">    for (i, &amp;item) in bytes.iter().enumerate() {
</span><span class="boring">        if item == b' ' {
</span><span class="boring">            return &amp;s[0..i];
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    &amp;s[..]
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let my_string = String::from("hello world");

    // `first_word` works on slices of `String`s, whether partial or whole
    let word = first_word(&amp;my_string[0..6]);
    let word = first_word(&amp;my_string[..]);
    // `first_word` also works on references to `String`s, which are equivalent
    // to whole slices of `String`s
    let word = first_word(&amp;my_string);

    let my_string_literal = "hello world";

    // `first_word` works on slices of string literals, whether partial or whole
    let word = first_word(&amp;my_string_literal[0..6]);
    let word = first_word(&amp;my_string_literal[..]);

    // Because string literals *are* string slices already,
    // this works too, without the slice syntax!
    let word = first_word(my_string_literal);
}</code></pre></pre>
</figure>
<h3 id="ุจุฑุดูุง-ุฏฺฏุฑ"><a class="header" href="#ุจุฑุดูุง-ุฏฺฏุฑ">ุจุฑุดโูุง ุฏฺฏุฑ</a></h3>
<p>ุจุฑุดโูุง ุฑุดุชูโุงุ ููุงูุทูุฑ ฺฉู ุชุตูุฑ ูโฺฉูุฏุ ูุฎุชุต ุฑุดุชูโูุง ูุณุชูุฏ. ุงูุง ฺฉ ููุน ุจุฑุด ุนูููโุชุฑ ูุฒ ูุฌูุฏ ุฏุงุฑุฏ. ุงู ุขุฑุงู ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = [1, 2, 3, 4, 5];
<span class="boring">}</span></code></pre></pre>
<p>ููุงูุทูุฑ ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูู ุจู ุจุฎุด ุงุฒ ฺฉ ุฑุดุชู ุงุฑุฌุงุน ุฏููุ ููฺฉู ุงุณุช ุจุฎูุงูู ุจู ุจุฎุด ุงุฒ ฺฉ ุขุฑุงู ูุฒ ุงุฑุฌุงุน ุฏูู. ุงู ฺฉุงุฑ ุฑุง ูโุชูุงูู ุจู ุงู ุดฺฉู ุงูุฌุงู ุฏูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = [1, 2, 3, 4, 5];

let slice = &amp;a[1..3];

assert_eq!(slice, &amp;[2, 3]);
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุจุฑุด ุฏุงุฑุง ููุน <code>&amp;[i32]</code> ุงุณุช. ุงู ุฏููุงู ููุงูุทูุฑ ฺฉู ุจุฑุดโูุง ุฑุดุชูโุง ฺฉุงุฑ ูโฺฉููุฏุ ุจุง ุฐุฎุฑู ฺฉ ุงุฑุฌุงุน ุจู ุงููู ุนูุตุฑ ู ฺฉ ุทูู ุนูู ูโฺฉูุฏ. ุดูุง ุงุฒ ุงู ููุน ุจุฑุด ุจุฑุง ุงููุงุน ุฏฺฏุฑ ูุฌููุนูโูุง ูุฒ ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ. ูุง ุงู ูุฌููุนูโูุง ุฑุง ุจู ุชูุตู ููุช ุฏุฑุจุงุฑู ูฺฉุชูุฑูุง ุฏุฑ ูุตู 8 ุตุญุจุช ฺฉููุ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h2 id="ุฎูุงุตู-3"><a class="header" href="#ุฎูุงุตู-3">ุฎูุงุตู</a></h2>
<p>ููุงูู ูุงูฺฉุชุ ูุงู ฺฏุฑูุชูุ ู ุจุฑุดโูุงุ ุงูู ุญุงูุธู ุฑุง ุฏุฑ ุจุฑูุงููโูุง Rust ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุชุถูู ูโฺฉููุฏ. ุฒุจุงู Rust ุจู ุดูุง ููุงู ฺฉูุชุฑู ุจุฑ ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู ูโุฏูุฏ ฺฉู ุณุงุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุณุณุชู ุงุฑุงุฆู ูโุฏููุฏุ ุงูุง ุงู ูุงูุนุช ฺฉู ูุงูฺฉ ุฏุงุฏู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุขู ุฏุงุฏู ุฑุง ููฺฏุงู ฺฉู ูุงูฺฉ ุงุฒ ุญูุฒู ุฎุงุฑุฌ ูโุดูุฏุ ูพุงฺฉุณุงุฒ ูโฺฉูุฏุ ุจู ุงู ูุนู ุงุณุช ฺฉู ูุงุฒ ุจู ููุดุชู ู ุงุดฺฉุงูโุฒุฏุง ฺฉุฏ ุงุถุงู ุจุฑุง ุฏุณุชุงุจ ุจู ุงู ฺฉูุชุฑู ูุฏุงุฑุฏ.</p>
<p>ูุงูฺฉุช ุจุฑ ูุญูู ุนููฺฉุฑุฏ ุจุณุงุฑ ุงุฒ ุจุฎุดโูุง ุฏฺฏุฑ Rust ุชุฃุซุฑ ูโฺฏุฐุงุฑุฏุ ุจูุงุจุฑุงู ุฏุฑ ุทูู ุจูู ฺฉุชุงุจ ุงู ููุงูู ุฑุง ุจุดุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุจุงุฏ ุจู ูุตู 5 ุจุฑูู ู ูฺฏุงู ุจู ฺฏุฑููโุจูุฏ ูุทุนุงุช ุฏุงุฏู ุฏุฑ ฺฉ <code>struct</code> ุจูุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุงุณุชูุงุฏู-ุงุฒ-structูุง-ุจุฑุง-ุณุงุฒูุงูุฏู-ุฏุงุฏููุง-ูุฑุชุจุท"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-structูุง-ุจุฑุง-ุณุงุฒูุงูุฏู-ุฏุงุฏููุง-ูุฑุชุจุท">ุงุณุชูุงุฏู ุงุฒ Structูุง ุจุฑุง ุณุงุฒูุงูุฏู ุฏุงุฏูโูุง ูุฑุชุจุท</a></h1>
<p>ฺฉ <em>struct</em> ุง <em>ุณุงุฎุชุงุฑ</em>ุ ููุน ุฏุงุฏูโุง ุณูุงุฑุด ุงุณุช ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺูุฏู ููุฏุงุฑ ูุฑุชุจุท ุฑุง ุจู ุตูุฑุช ฺฏุฑูู ุฏุฑ ฺฉูุงุฑ ูู ุจุณุชูโุจูุฏ ู ูุงูโฺฏุฐุงุฑ ฺฉูุฏ. ุงฺฏุฑ ุจุง ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุดุกฺฏุฑุง ุขุดูุง ุจุงุดุฏุ ฺฉ <em>struct</em> ุดุจู ุจู ูฺฺฏโูุง ุฏุงุฏูโุง ฺฉ ุดุก ุงุณุช. ุฏุฑ ุงู ูุตูุ ูุง ุณุงุฎุชุงุฑูุง ุฑุง ุจุง ุชุงูพูโูุง ููุงุณู ู ููุงุณู ุฎูุงูู ฺฉุฑุฏ ุชุง ูุดุงู ุฏูู ฺู ุฒูุงู ุณุงุฎุชุงุฑูุง ุฑูุด ุจูุชุฑ ุจุฑุง ฺฏุฑููโุจูุฏ ุฏุงุฏูโูุง ูุณุชูุฏ.</p>
<p>ูุง ูุญูู ุชุนุฑู ู ูููููโุณุงุฒ ุณุงุฎุชุงุฑูุง ุฑุง ูุดุงู ุฎูุงูู ุฏุงุฏ. ููฺูู ุจุญุซ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ุชูุงุจุน ูุฑุชุจุทุ ุจูโูฺู ููุน ุงุฒ ุชูุงุจุน ูุฑุชุจุท ุจู ูุงู <em>ูุชุฏูุง</em> ุฑุง ุชุนุฑู ฺฉูู ุชุง ุฑูุชุงุฑ ูุฑุชุจุท ุจุง ฺฉ ููุน ุณุงุฎุชุงุฑ ุฑุง ูุดุฎุต ฺฉูู. ุณุงุฎุชุงุฑูุง ู Enumูุง (ฺฉู ุฏุฑ ูุตู ถ ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชูโุงูุฏ) ุจููฺฉโูุง ุณุงุฒูุฏูโุง ุจุฑุง ุงุฌุงุฏ ุงููุงุน ุฌุฏุฏ ุฏุฑ ุญูุฒู ุจุฑูุงูู ุดูุง ูุณุชูุฏ ฺฉู ุงุฒ ุจุฑุฑุณ ููุน ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุฏุฑ Rust ุจู ุทูุฑ ฺฉุงูู ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชุนุฑู-ู-ูููููุณุงุฒ-structูุง"><a class="header" href="#ุชุนุฑู-ู-ูููููุณุงุฒ-structูุง">ุชุนุฑู ู ูููููโุณุงุฒ Structูุง</a></h2>
<p>ุณุงุฎุชุงุฑูุง ูุดุงุจู ุชุงูพูโูุง ูุณุชูุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#the-tuple-type">ยซููุน Tupleยป</a><!-- ignore --> ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชูุฏุ ุจู ุงู ูุนูุง ฺฉู ูุฑ ุฏู ุดุงูู ููุงุฏุฑ ูุฑุชุจุท ูุชุนุฏุฏ ูุณุชูุฏ. ูุงููุฏ ุชุงูพูโูุงุ ุงุฌุฒุง ฺฉ ุณุงุฎุชุงุฑ ูโุชูุงููุฏ ุงุฒ ุงููุงุน ูุฎุชูู ุจุงุดูุฏ. ุงูุง ุจุฑุฎูุงู ุชุงูพูโูุงุ ุฏุฑ ฺฉ ุณุงุฎุชุงุฑ ุดูุง ุจุฑุง ูุฑ ุฌุฒุก ุฏุงุฏู ูุงู ุชุนู ูโฺฉูุฏ ุชุง ูุนูุง ููุงุฏุฑ ุฑูุดูโุชุฑ ุดูุฏ. ุงูุฒูุฏู ุงู ูุงูโูุง ุจุงุนุซ ูโุดูุฏ ฺฉู ุณุงุฎุชุงุฑูุง ุงุฒ ุชุงูพูโูุง ุงูุนุทุงูโูพุฐุฑุชุฑ ุจุงุดูุฏ: ุดูุง ูุฌุจูุฑ ูุณุชุฏ ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุง ุฏุณุชุฑุณ ุจู ููุงุฏุฑ ฺฉ ููููู ุจู ุชุฑุชุจ ุฏุงุฏูโูุง ุชฺฉู ฺฉูุฏ.</p>
<p>ุจุฑุง ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑุ ฺฉููู ฺฉูุฏ <code>struct</code> ุฑุง ูุงุฑุฏ ฺฉุฑุฏู ู ูุงู ฺฉู ุณุงุฎุชุงุฑ ุฑุง ุชุนู ูโฺฉูู. ูุงู ฺฉ ุณุงุฎุชุงุฑ ุจุงุฏ ุชูุตูโฺฉููุฏู ุงููุช ุงุฌุฒุง ุฏุงุฏูโุง ุจุงุดุฏ ฺฉู ุจุง ูู ฺฏุฑููโุจูุฏ ูโุดููุฏ. ุณูพุณุ ุฏุงุฎู ุขฺฉููุงุฏูุงุ ูุงูโูุง ู ุงููุงุน ุงุฌุฒุง ุฏุงุฏูโุง ุฑุง ฺฉู ุจู ุขูโูุง <em>ููุฏ</em> ูโฺฏููุ ุชุนุฑู ูโฺฉูู. ุจุฑุง ูุซุงูุ ูุณุช ต-ฑ ฺฉ ุณุงุฎุชุงุฑ ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุงุทูุงุนุงุช ูุฑุจูุท ุจู ฺฉ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct User {
    active: bool,
    username: String,
    email: String,
    sign_in_count: u64,
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 5-1: ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ <code>User</code></figcaption>
</figure>
<p>ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณุงุฎุชุงุฑ ูพุณ ุงุฒ ุชุนุฑู ุขูุ ูุง ฺฉ <em>ููููู</em> ุงุฒ ุขู ุณุงุฎุชุงุฑ ุงุฌุงุฏ ูโฺฉูู ฺฉู ููุงุฏุฑ ูุดุฎุต ุฑุง ุจุฑุง ูุฑ ฺฉ ุงุฒ ููุฏูุง ูุดุฎุต ูโฺฉูุฏ. ูุง ูููููโุง ุฑุง ุจุง ุชุนู ูุงู ุณุงุฎุชุงุฑ ู ุณูพุณ ุงุถุงูู ฺฉุฑุฏู ุขฺฉููุงุฏูุง ฺฉู ุดุงูู ุฒูุฌโูุง <em>ฺฉูุฏ: ููุฏุงุฑ</em> ูุณุชูุฏุ ุงุฌุงุฏ ูโฺฉููุ ุฌุง ฺฉู ฺฉูุฏูุง ูุงู ููุฏูุง ู ููุงุฏุฑ ุฏุงุฏูโุง ูุณุชูุฏ ฺฉู ูโุฎูุงูู ุฏุฑ ุขู ููุฏูุง ุฐุฎุฑู ฺฉูู. ูุงุฒ ูุณุช ฺฉู ููุฏูุง ุฑุง ุจู ููุงู ุชุฑุชุจ ฺฉู ุฏุฑ ุณุงุฎุชุงุฑ ุชุนุฑู ุดุฏูโุงูุฏุ ูุดุฎุต ฺฉูู. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุชุนุฑู ุณุงุฎุชุงุฑ ูุงููุฏ ฺฉ ูุงูุจ ฺฉู ุจุฑุง ููุน ุงุณุช ู ูููููโูุง ุงู ูุงูุจ ุฑุง ุจุง ุฏุงุฏูโูุง ุฎุงุต ูพุฑ ูโฺฉููุฏ ุชุง ููุงุฏุฑ ุขู ููุน ุฑุง ุงุฌุงุฏ ฺฉููุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูู ฺฉุงุฑุจุฑ ุฎุงุต ุฑุง ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุชุนุฑู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct User {
</span><span class="boring">    active: bool,
</span><span class="boring">    username: String,
</span><span class="boring">    email: String,
</span><span class="boring">    sign_in_count: u64,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let user1 = User {
        active: true,
        username: String::from("someusername123"),
        email: String::from("someone@example.com"),
        sign_in_count: 1,
    };
}</code></pre></pre>
<figcaption>Listing 5-2: ุงุฌุงุฏ ฺฉ ููููู ุงุฒ ุณุงุฎุชุงุฑ <code>User</code></figcaption>
</figure>
<p>ุจุฑุง ุจูโุฏุณุชโุขูุฑุฏู ููุฏุงุฑ ุฎุงุต ุงุฒ ฺฉ ุณุงุฎุชุงุฑุ ุงุฒ ูุดุงููโฺฏุฐุงุฑ ููุทู ุงุณุชูุงุฏู ูโฺฉูู. ุจู ุนููุงู ูุซุงูุ ุจุฑุง ุฏุณุชุฑุณ ุจู ุขุฏุฑุณ ุงูู ุงู ฺฉุงุฑุจุฑุ ุงุฒ <code>user1.email</code> ุงุณุชูุงุฏู ูโฺฉูู. ุงฺฏุฑ ููููู ูุงุจู ุชุบุฑ ุจุงุดุฏุ ูโุชูุงูู ููุฏุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุดุงููโฺฏุฐุงุฑ ููุทู ุชุบุฑ ุฏุงุฏู ู ุฏุฑ ฺฉ ููุฏ ุฎุงุต ููุฏุงุฑุฏู ฺฉูู. ูุณุช ต-ณ ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ููุฏุงุฑ ุฏุฑ ููุฏ <code>email</code> ฺฉ ููููู ูุงุจู ุชุบุฑ <code>User</code> ุฑุง ุชุบุฑ ุฏูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct User {
</span><span class="boring">    active: bool,
</span><span class="boring">    username: String,
</span><span class="boring">    email: String,
</span><span class="boring">    sign_in_count: u64,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let mut user1 = User {
        active: true,
        username: String::from("someusername123"),
        email: String::from("someone@example.com"),
        sign_in_count: 1,
    };

    user1.email = String::from("anotheremail@example.com");
}</code></pre></pre>
<figcaption>Listing 5-3: ุชุบุฑ ููุฏุงุฑ ุฏุฑ ููุฏ <code>email</code> ฺฉ ููููู <code>User</code></figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉู ููููู ุจุงุฏ ูุงุจู ุชุบุฑ ุจุงุดุฏุ Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ฺฉู ููุท ุจุฑุฎ ุงุฒ ููุฏูุง ุฑุง ุจู ุตูุฑุช ูุงุจู ุชุบุฑ ุนูุงูุชโฺฏุฐุงุฑ ฺฉูู. ูุงููุฏ ูุฑ ุนุจุงุฑุช ุฏฺฏุฑุ ูโุชูุงูู ฺฉ ููููู ุฌุฏุฏ ุงุฒ ุณุงุฎุชุงุฑ ุฑุง ุจู ุนููุงู ุขุฎุฑู ุนุจุงุฑุช ุฏุฑ ุจุฏูู ฺฉ ุชุงุจุน ุจุณุงุฒู ุชุง ุจู ุทูุฑ ุถูู ุขู ููููู ุฌุฏุฏ ุฑุง ุจุงุฒฺฏุฑุฏุงูู.</p>
<p>ูุณุช ต-ด ฺฉ ุชุงุจุน <code>build_user</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ููููู ุงุฒ <code>User</code> ุฑุง ุจุง ุงูู ู ูุงู ฺฉุงุฑุจุฑ ูุดุฎุต ุจุฑูโฺฏุฑุฏุงูุฏ. ููุฏ <code>active</code> ููุฏุงุฑ <code>true</code> ูโฺฏุฑุฏ ู <code>sign_in_count</code> ููุฏุงุฑ <code>1</code> ุฏุฑุงูุช ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct User {
</span><span class="boring">    active: bool,
</span><span class="boring">    username: String,
</span><span class="boring">    email: String,
</span><span class="boring">    sign_in_count: u64,
</span><span class="boring">}
</span><span class="boring">
</span>fn build_user(email: String, username: String) -&gt; User {
    User {
        active: true,
        username: username,
        email: email,
        sign_in_count: 1,
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let user1 = build_user(
</span><span class="boring">        String::from("someone@example.com"),
</span><span class="boring">        String::from("someusername123"),
</span><span class="boring">    );
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 5-4: ฺฉ ุชุงุจุน <code>build_user</code> ฺฉู ฺฉ ุงูู ู ูุงู ฺฉุงุฑุจุฑ ูโฺฏุฑุฏ ู ฺฉ ููููู <code>User</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ููุดุชู ูุงู ูพุงุฑุงูุชุฑูุง ุชุงุจุน ุจุง ููุงู ูุงู ููุฏูุง ุณุงุฎุชุงุฑ ููุทู ุงุณุชุ ุงูุง ุชฺฉุฑุงุฑ ูุงูโูุง <code>email</code> ู <code>username</code> ุจุฑุง ูุฑ ุฏู ููุฏ ู ูุชุบุฑูุง ฺฉู ุฎุณุชูโฺฉููุฏู ุงุณุช. ุงฺฏุฑ ุณุงุฎุชุงุฑ ููุฏูุง ุจุดุชุฑ ุฏุงุดุชุ ุชฺฉุฑุงุฑ ูุฑ ูุงู ุญุช ุขุฒุงุฑุฏููุฏูโุชุฑ ูโุดุฏ. ุฎูุดุจุฎุชุงููุ ฺฉ ุฑุงู ูุงูุจุฑ ุฑุงุญุช ูุฌูุฏ ุฏุงุฑุฏ!</p>
<p><a id="using-the-field-init-shorthand-when-variables-and-fields-have-the-same-name"></a></p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ูุงูุจุฑ-ููุฏุงุฑุฏู-ููุฏ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ูุงูุจุฑ-ููุฏุงุฑุฏู-ููุฏ">ุงุณุชูุงุฏู ุงุฒ ูุงูุจุฑ ููุฏุงุฑุฏู ููุฏ</a></h3>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุงู ูพุงุฑุงูุชุฑูุง ู ูุงู ููุฏูุง ุณุงุฎุชุงุฑ ุฏููุงู ฺฉุณุงู ูุณุชูุฏุ ูโุชูุงูู ุงุฒ ูุญู <em>ูุงูุจุฑ ููุฏุงุฑุฏู ููุฏ</em> ุจุฑุง ุจุงุฒููุณ <code>build_user</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ููุงู ุฑูุชุงุฑ ุฑุง ุฏุงุดุชู ุจุงุดุฏ ุงูุง ุชฺฉุฑุงุฑ <code>username</code> ู <code>email</code> ุฑุง ูุฏุงุดุชู ุจุงุดุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct User {
</span><span class="boring">    active: bool,
</span><span class="boring">    username: String,
</span><span class="boring">    email: String,
</span><span class="boring">    sign_in_count: u64,
</span><span class="boring">}
</span><span class="boring">
</span>fn build_user(email: String, username: String) -&gt; User {
    User {
        active: true,
        username,
        email,
        sign_in_count: 1,
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let user1 = build_user(
</span><span class="boring">        String::from("someone@example.com"),
</span><span class="boring">        String::from("someusername123"),
</span><span class="boring">    );
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 5-5: ฺฉ ุชุงุจุน <code>build_user</code> ฺฉู ุงุฒ ูุงูุจุฑ ููุฏุงุฑุฏู ููุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ ุฒุฑุง ูพุงุฑุงูุชุฑูุง <code>username</code> ู <code>email</code> ููุงู ูุงู ููุฏูุง ุณุงุฎุชุงุฑ ุฑุง ุฏุงุฑูุฏ</figcaption>
</figure>
<p>ุงูุฌุงุ ูุง ฺฉ ููููู ุฌุฏุฏ ุงุฒ ุณุงุฎุชุงุฑ <code>User</code> ูโุณุงุฒู ฺฉู ููุฏ ุจู ูุงู <code>email</code> ุฏุงุฑุฏ. ูุง ูโุฎูุงูู ููุฏุงุฑ ููุฏ <code>email</code> ุฑุง ุจู ููุฏุงุฑ ฺฉู ุฏุฑ ูพุงุฑุงูุชุฑ <code>email</code> ุชุงุจุน <code>build_user</code> ูุฌูุฏ ุฏุงุฑุฏ ุชูุธู ฺฉูู. ุงุฒ ุขูุฌุง ฺฉู ููุฏ <code>email</code> ู ูพุงุฑุงูุชุฑ <code>email</code> ูุงู ฺฉุณุงู ุฏุงุฑูุฏุ ููุท ูุงุฒ ุฏุงุฑู <code>email</code> ุจููุณูุ ูู <code>email: email</code>.</p>
<h3 id="ุงุฌุงุฏ-ููููููุง-ุงุฒ-ููููููุง-ุฏฺฏุฑ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ูุญู-ุจูุฑูุฒุฑุณุงู-struct"><a class="header" href="#ุงุฌุงุฏ-ููููููุง-ุงุฒ-ููููููุง-ุฏฺฏุฑ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ูุญู-ุจูุฑูุฒุฑุณุงู-struct">ุงุฌุงุฏ ูููููโูุง ุงุฒ ูููููโูุง ุฏฺฏุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู ุจูโุฑูุฒุฑุณุงู Struct</a></h3>
<p>ุงุบูุจ ููุฏ ุงุณุช ฺฉู ฺฉ ููููู ุฌุฏุฏ ุงุฒ ฺฉ ุณุงุฎุชุงุฑ ุงุฌุงุฏ ฺฉูู ฺฉู ุดุงูู ุงฺฉุซุฑ ููุงุฏุฑ ุงุฒ ฺฉ ููููู ุฏฺฏุฑ ุงุณุชุ ุงูุง ุจุฑุฎ ุงุฒ ุขูโูุง ุชุบุฑ ฺฉุฑุฏูโุงูุฏ. ุดูุง ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <em>ูุญู ุจูโุฑูุฒุฑุณุงู Struct</em> ุงูุฌุงู ุฏูุฏ.</p>
<p>ุงุจุชุฏุงุ ุฏุฑ ูุณุช ต-ถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ฺฉู ฺฺฏููู ูโุชูุงู ฺฉ ููููู ุฌุฏุฏ <code>User</code> ุฏุฑ <code>user2</code> ุงุฌุงุฏ ฺฉุฑุฏุ ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ูุญู ุจูโุฑูุฒุฑุณุงู. ูุง ฺฉ ููุฏุงุฑ ุฌุฏุฏ ุจุฑุง <code>email</code> ุชูุธู ูโฺฉูู ุงูุง ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุงุฒ ููุงู ููุงุฏุฑ ุฏุฑ <code>user1</code> ฺฉู ูุจูุงู ุฏุฑ ูุณุช ต-ฒ ุงุฌุงุฏ ุดุฏู ุงุณุชุ ุงุณุชูุงุฏู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct User {
</span><span class="boring">    active: bool,
</span><span class="boring">    username: String,
</span><span class="boring">    email: String,
</span><span class="boring">    sign_in_count: u64,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    // --snip--
<span class="boring">
</span><span class="boring">    let user1 = User {
</span><span class="boring">        email: String::from("someone@example.com"),
</span><span class="boring">        username: String::from("someusername123"),
</span><span class="boring">        active: true,
</span><span class="boring">        sign_in_count: 1,
</span><span class="boring">    };
</span>
    let user2 = User {
        active: user1.active,
        username: user1.username,
        email: String::from("another@example.com"),
        sign_in_count: user1.sign_in_count,
    };
}</code></pre></pre>
<figcaption>Listing 5-6: ุงุฌุงุฏ ฺฉ ููููู ุฌุฏุฏ <code>User</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุงู ููุงุฏุฑ ุจู ุฌุฒ ฺฉ ุงุฒ <code>user1</code></figcaption>
</figure>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู ุจูโุฑูุฒุฑุณุงู Structุ ูโุชูุงูู ููุงู ูุชุฌู ุฑุง ุจุง ฺฉุฏ ฺฉูุชุฑ ุจู ุฏุณุช ุขูุฑูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ท ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ูุญู <code>..</code> ูุดุฎุต ูโฺฉูุฏ ฺฉู ููุฏูุง ุจุงูโูุงูุฏูโุง ฺฉู ุจู ุตูุฑุช ุตุฑุญ ุชูุธู ูุดุฏูโุงูุฏ ุจุงุฏ ููุงู ููุงุฏุฑ ุฑุง ุฏุงุดุชู ุจุงุดูุฏ ฺฉู ุฏุฑ ููููู ุฏุงุฏู ุดุฏู ูุณุชูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct User {
</span><span class="boring">    active: bool,
</span><span class="boring">    username: String,
</span><span class="boring">    email: String,
</span><span class="boring">    sign_in_count: u64,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    // --snip--
<span class="boring">
</span><span class="boring">    let user1 = User {
</span><span class="boring">        email: String::from("someone@example.com"),
</span><span class="boring">        username: String::from("someusername123"),
</span><span class="boring">        active: true,
</span><span class="boring">        sign_in_count: 1,
</span><span class="boring">    };
</span>
    let user2 = User {
        email: String::from("another@example.com"),
        ..user1
    };
}</code></pre></pre>
<figcaption>Listing 5-7: ุงุณุชูุงุฏู ุงุฒ ูุญู ุจูโุฑูุฒุฑุณุงู Struct ุจุฑุง ุชูุธู ฺฉ ููุฏุงุฑ ุฌุฏุฏ <code>email</code> ุจุฑุง ฺฉ ููููู <code>User</code> ุงูุง ุงุณุชูุงุฏู ุงุฒ ููุงุฏุฑ ุจุงูโูุงูุฏู ุงุฒ <code>user1</code></figcaption>
</figure>
<p>ฺฉุฏ ุฏุฑ ูุณุช ต-ท ููฺูู ูููููโุง ุฏุฑ <code>user2</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ููุฏุงุฑ ูุชูุงูุช ุจุฑุง <code>email</code> ุฏุงุฑุฏ ุงูุง ุฏุงุฑุง ููุงุฏุฑ ูุดุงุจู ุจุฑุง ููุฏูุง <code>username</code>ุ <code>active</code> ู <code>sign_in_count</code> ุงุฒ <code>user1</code> ุงุณุช. <code>..user1</code> ุจุงุฏ ุฏุฑ ุงูุชูุง ุจุงุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉู ููุฏูุง ุจุงูโูุงูุฏู ุจุงุฏ ููุงุฏุฑ ุฎูุฏ ุฑุง ุงุฒ ููุฏูุง ูุฑุจูุทู ุฏุฑ <code>user1</code> ุฏุฑุงูุช ฺฉููุฏุ ุงูุง ูโุชูุงูู ููุงุฏุฑ ุฑุง ุจุฑุง ูุฑ ุชุนุฏุงุฏ ููุฏ ฺฉู ูโุฎูุงูู ุจู ูุฑ ุชุฑุชุจ ูุดุฎุต ฺฉููุ ุจุฏูู ุชูุฌู ุจู ุชุฑุชุจ ููุฏูุง ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุญู ุจูโุฑูุฒุฑุณุงู Struct ุงุฒ <code>=</code> ูุงููุฏ ฺฉ ุนููฺฏุฑ ุงูุชุณุงุจ ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงู ุจู ุงู ุฏูู ุงุณุช ฺฉู ุฏุงุฏูโูุง ุฑุง ุฌุงุจูโุฌุง ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch04-01-what-is-ownership.html#variables-and-data-interacting-with-move">ยซุชุนุงูู ูุชุบุฑูุง ู ุฏุงุฏูโูุง ุจุง ุงูุชูุงูยป</a><!-- ignore --> ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุช. ุฏุฑ ุงู ูุซุงูุ ุฏฺฏุฑ ููโุชูุงูู ุงุฒ <code>user1</code> ุจู ุนููุงู ฺฉ ฺฉู ูพุณ ุงุฒ ุงุฌุงุฏ <code>user2</code> ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง <code>String</code> ุฏุฑ ููุฏ <code>username</code> ุงุฒ <code>user1</code> ุจู <code>user2</code> ููุชูู ุดุฏ. ุงฺฏุฑ ูุง ุจู <code>user2</code> ููุงุฏุฑ ุฌุฏุฏ <code>String</code> ุจุฑุง ูุฑ ุฏู <code>email</code> ู <code>username</code> ุฏุงุฏู ุจูุฏู ู ุจูุงุจุฑุงู ููุท ุงุฒ ููุงุฏุฑ <code>active</code> ู <code>sign_in_count</code> ุงุฒ <code>user1</code> ุงุณุชูุงุฏู ฺฉุฑุฏู ุจูุฏูุ <code>user1</code> ูพุณ ุงุฒ ุงุฌุงุฏ <code>user2</code> ููฺูุงู ูุนุชุจุฑ ุจุงู ูโูุงูุฏ. ูู <code>active</code> ู ูู <code>sign_in_count</code> ุงุฒ ุงููุงุน ูุณุชูุฏ ฺฉู ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุจูุงุจุฑุงู ุฑูุชุงุฑ ููุฑุฏ ุจุญุซ ุฏุฑ ุจุฎุด <a href="ch04-01-what-is-ownership.html#stack-only-data-copy">ยซุฏุงุฏูโูุง ููุท ุฑู ูพุดุชู: Copyยป</a><!-- ignore --> ุงุนูุงู ูโุดูุฏ. ุฏุฑ ุงู ูุซุงูุ ููฺูุงู ูโุชูุงูู ุงุฒ <code>user1.email</code> ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง ููุฏุงุฑ ุขู ููุชูู ูุดุฏู ุงุณุช.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ุณุงุฎุชุงุฑูุง-tuple-ุจุฏูู-ููุฏูุง-ูุงูฺฏุฐุงุฑุดุฏู-ุจุฑุง-ุงุฌุงุฏ-ุงููุงุน-ูุฎุชูู"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ุณุงุฎุชุงุฑูุง-tuple-ุจุฏูู-ููุฏูุง-ูุงูฺฏุฐุงุฑุดุฏู-ุจุฑุง-ุงุฌุงุฏ-ุงููุงุน-ูุฎุชูู">ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑูุง Tuple ุจุฏูู ููุฏูุง ูุงูโฺฏุฐุงุฑโุดุฏู ุจุฑุง ุงุฌุงุฏ ุงููุงุน ูุฎุชูู</a></h3>
<p>Rust ููฺูู ุงุฒ ุณุงุฎุชุงุฑูุง ฺฉู ุดุจู ุชุงูพูโูุง ูุณุชูุฏ ูพุดุชุจุงู ูโฺฉูุฏ ฺฉู ุจู ุขูโูุง <em>ุณุงุฎุชุงุฑูุง Tuple</em> ูโฺฏููุฏ. ุณุงุฎุชุงุฑูุง Tuple ุจู ุฏูู ูุงู ุณุงุฎุชุงุฑ ูุนูุง ุจุดุชุฑ ุฏุงุฑูุฏ ุงูุง ูุงูโูุง ุจุฑุง ููุฏูุง ุฎูุฏ ูุฏุงุฑูุฏุ ุจูฺฉู ููุท ููุน ููุฏูุง ุฑุง ุฏุงุฑูุฏ. ุณุงุฎุชุงุฑูุง Tuple ุฒูุงู ููุฏ ูุณุชูุฏ ฺฉู ุจุฎูุงูุฏ ุจู ฺฉู ุชุงูพู ฺฉ ูุงู ุจุฏูุฏ ู ุขู ุฑุง ุจู ุนููุงู ููุน ูุชูุงูุช ุงุฒ ุชุงูพูโูุง ุฏฺฏุฑ ูุดุฎุต ฺฉูุฏุ ู ููุช ูุงูโฺฏุฐุงุฑ ูุฑ ููุฏ ูุงููุฏ ฺฉ ุณุงุฎุชุงุฑ ูุนููู ุทููุงู ุง ุฒุงุฆุฏ ุจุงุดุฏ.</p>
<p>ุจุฑุง ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ Tupleุ ุจุง ฺฉููู ฺฉูุฏ <code>struct</code> ู ูุงู ุณุงุฎุชุงุฑ ุดุฑูุน ฺฉูุฏ ู ุณูพุณ ููุนโูุง ููุฌูุฏ ุฏุฑ ุชุงูพู ุฑุง ูุดุฎุต ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุฏุฑ ุงูุฌุง ูุง ุฏู ุณุงุฎุชุงุฑ Tuple ุจู ูุงูโูุง <code>Color</code> ู <code>Point</code> ุชุนุฑู ู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Color(i32, i32, i32);
struct Point(i32, i32, i32);

fn main() {
    let black = Color(0, 0, 0);
    let origin = Point(0, 0, 0);
}</code></pre></pre>
</figure>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ููุงุฏุฑ <code>black</code> ู <code>origin</code> ุงููุงุน ูุชูุงูุช ุฏุงุฑูุฏ ุฒุฑุง ุขูโูุง ูููููโูุง ุงุฒ ุณุงุฎุชุงุฑูุง Tuple ูุชูุงูุช ูุณุชูุฏ. ูุฑ ุณุงุฎุชุงุฑ ฺฉู ุชุนุฑู ูโฺฉูุฏ ููุน ุฎูุฏุด ุฑุง ุฏุงุฑุฏุ ุญุช ุงฺฏุฑ ููุฏูุง ุฏุฑูู ุณุงุฎุชุงุฑ ููุน ฺฉุณุงู ุฏุงุดุชู ุจุงุดูุฏ. ุจุฑุง ูุซุงูุ ฺฉ ุชุงุจุน ฺฉู ูพุงุฑุงูุชุฑ ุงุฒ ููุน <code>Color</code> ูโฺฏุฑุฏ ููโุชูุงูุฏ ฺฉ <code>Point</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจฺฏุฑุฏุ ุญุช ุงฺฏุฑ ูุฑ ุฏู ููุน ุงุฒ ุณู ููุฏุงุฑ <code>i32</code> ุชุดฺฉู ุดุฏู ุจุงุดูุฏ. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูููููโูุง ุณุงุฎุชุงุฑ Tuple ูุดุงุจู ุชุงูพูโูุง ูุณุชูุฏ ุจู ุงู ูุนูุง ฺฉู ูโุชูุงูุฏ ุขูโูุง ุฑุง ุจู ุงุฌุฒุง ูุฑุฏ ุชุฌุฒู ฺฉูุฏ ู ูโุชูุงูุฏ ุงุฒ ฺฉ <code>.</code> ุจู ููุฑุงู ุงูุฏฺฉุณ ุจุฑุง ุฏุณุชุฑุณ ุจู ููุฏุงุฑ ุฎุงุต ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุฎูุงู ุชุงูพูโูุงุ ุณุงุฎุชุงุฑูุง Tuple ูุงุฒ ุฏุงุฑูุฏ ฺฉู ููฺฏุงู ุชุฌุฒู ุขูโูุง ููุน ุณุงุฎุชุงุฑ ุฑุง ูุดุฎุต ฺฉูุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูู ุจููุณู <code>let Point(x, y, z) = point</code>.</p>
<h3 id="ุณุงุฎุชุงุฑูุง-ุดุจู-ุจู-unit-ุจุฏูู-ูฺ-ููุฏ"><a class="header" href="#ุณุงุฎุชุงุฑูุง-ุดุจู-ุจู-unit-ุจุฏูู-ูฺ-ููุฏ">ุณุงุฎุชุงุฑูุง ุดุจู ุจู Unit ุจุฏูู ูฺ ููุฏ</a></h3>
<p>ุดูุง ููฺูู ูโุชูุงูุฏ ุณุงุฎุชุงุฑูุง ุชุนุฑู ฺฉูุฏ ฺฉู ูฺ ููุฏ ูุฏุงุฑูุฏ! ุงูโูุง ุจู ุนููุงู <em>ุณุงุฎุชุงุฑูุง ุดุจู Unit</em> ุดูุงุฎุชู ูโุดููุฏ ุฒุฑุง ุดุจู ุจู ููุน <code>()</code>ุ ููุน Unitุ ุฑูุชุงุฑ ูโฺฉููุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#the-tuple-type">ยซููุน Tupleยป</a><!-- ignore --> ููุฑุฏ ุงุดุงุฑู ูุฑุงุฑ ฺฏุฑูุช. ุณุงุฎุชุงุฑูุง ุดุจู Unit ุฒูุงู ููุฏ ูุณุชูุฏ ฺฉู ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ฺฉ ูฺฺฏ ุจุฑ ุฑู ฺฉ ููุน ุฏุงุดุชู ุจุงุดุฏ ุงูุง ูฺ ุฏุงุฏูโุง ุจุฑุง ุฐุฎุฑู ุฏุฑ ุฎูุฏ ููุน ูุฏุงุดุชู ุจุงุดุฏ. ูุง ูฺฺฏโูุง ุฑุง ุฏุฑ ูุตู ฑฐ ุจุญุซ ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุงูุฌุง ูุซุงู ุงุฒ ุงุนูุงู ู ูููููโุณุงุฒ ฺฉ ุณุงุฎุชุงุฑ ุดุจู Unit ุจู ูุงู <code>AlwaysEqual</code> ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct AlwaysEqual;

fn main() {
    let subject = AlwaysEqual;
}</code></pre></pre>
</figure>
<p>ุจุฑุง ุชุนุฑู <code>AlwaysEqual</code>ุ ุงุฒ ฺฉููู ฺฉูุฏ <code>struct</code>ุ ูุงู ุฏูุฎูุงู ู ุณูพุณ ฺฉ ููุทู ูุฑฺฏูู ุงุณุชูุงุฏู ูโฺฉูู. ูุงุฒ ุจู ุขฺฉููุงุฏ ุง ูพุฑุงูุชุฒ ูุณุช! ุณูพุณ ูโุชูุงูู ฺฉ ููููู ุงุฒ <code>AlwaysEqual</code> ุฑุง ุฏุฑ ูุชุบุฑ <code>subject</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ููุงู ูุงู ฺฉู ุชุนุฑู ฺฉุฑุฏูโุงูุ ุจุฏูู ูฺ ุขฺฉููุงุฏ ุง ูพุฑุงูุชุฒ ุฏุฑุงูุช ฺฉูู. ุชุตูุฑ ฺฉูุฏ ฺฉู ุฏุฑ ุขูุฏู ุฑูุชุงุฑ ุฑุง ุจุฑุง ุงู ููุน ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ ฺฉู ููู ูููููโูุง <code>AlwaysEqual</code> ููุดู ุจุง ุชูุงู ูููููโูุง ุฏฺฏุฑ ุจุฑุงุจุฑ ุจุงุดูุฏุ ุดุงุฏ ุจุฑุง ุฏุงุดุชู ูุชุฌูโุง ูุดุฎุต ุจุฑุง ุงูุฏุงู ุขุฒูุงุด. ุจุฑุง ูพุงุฏูโุณุงุฒ ุขู ุฑูุชุงุฑ ูุงุฒ ุจู ูฺ ุฏุงุฏูโุง ูุฏุงุฑู! ุดูุง ุฏุฑ ูุตู ฑฐ ุฎูุงูุฏ ุฏุฏ ฺฉู ฺฺฏููู ูโุชูุงูุฏ ูฺฺฏโูุง ุฑุง ุชุนุฑู ู ุขูโูุง ุฑุง ุจุฑ ุฑู ูุฑ ููุนุ ุงุฒ ุฌููู ุณุงุฎุชุงุฑูุง ุดุจู ุจู Unitุ ูพุงุฏูโุณุงุฒ ฺฉูุฏ.</p>
<section class="note" aria-role="note">
<h3 id="ูุงูฺฉุช-ุฏุงุฏููุง-struct"><a class="header" href="#ูุงูฺฉุช-ุฏุงุฏููุง-struct">ูุงูฺฉุช ุฏุงุฏูโูุง Struct</a></h3>
<p>ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑ <code>User</code> ุฏุฑ ูุณุช ต-ฑุ ูุง ุงุฒ ููุน ูุงูฺฉ <code>String</code> ุจู ุฌุง ููุน ุจุฑุด ุฑุดุชู <code>&amp;str</code> ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงู ฺฉ ุงูุชุฎุงุจ ุนูุฏ ุงุณุช ุฒุฑุง ูุง ูโุฎูุงูู ูุฑ ููููู ุงุฒ ุงู ุณุงุฎุชุงุฑ ููู ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ูุงูฺฉ ุจุงุดุฏ ู ุงู ุฏุงุฏูโูุง ุจู ูุฏุช ุฒูุงู ฺฉู ฺฉู ุณุงุฎุชุงุฑ ูุนุชุจุฑ ุงุณุชุ ูุนุชุจุฑ ุจุงู ุจูุงููุฏ.</p>
<p>ููฺูู ููฺฉู ุงุณุช ุณุงุฎุชุงุฑูุง ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ ฺฉู ุจู ุฏุงุฏูโูุง ูุชุนูู ุจู ฺุฒ ุฏฺฏุฑ ุงุฑุฌุงุน ูโุฏููุฏุ ุงูุง ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ <em>ุทูู ุนูุฑโูุง</em> ุฏุงุฑูุ ฺฉ ูฺฺฏ ุงุฒ Rust ฺฉู ูุง ุฏุฑ ูุตู ฑฐ ููุฑุฏ ุจุญุซ ูุฑุงุฑ ุฎูุงูู ุฏุงุฏ. ุทูู ุนูุฑูุง ุงุทููุงู ุญุงุตู ูโฺฉููุฏ ฺฉู ุฏุงุฏูโูุง ฺฉู ุชูุณุท ฺฉ ุณุงุฎุชุงุฑ ุงุฑุฌุงุน ุฏุงุฏู ุดุฏูโุงูุฏ ุชุง ุฒูุงู ฺฉู ุณุงุฎุชุงุฑ ูุนุชุจุฑ ุงุณุชุ ูุนุชุจุฑ ุจุงู ูโูุงููุฏ. ุจุงุฏ ุจฺฏูู ุดูุง ุณุน ุฏุงุฑุฏ ฺฉ ุงุฑุฌุงุน ุฑุง ุฏุฑ ฺฉ ุณุงุฎุชุงุฑ ุฐุฎุฑู ฺฉูุฏ ุจุฏูู ุงูฺฉู ุทูู ุนูุฑูุง ุฑุง ูุดุฎุต ฺฉูุฏุ ูุงููุฏ ูุซุงู ุฒุฑุ ุงู ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ:</p>
</section>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">struct User {
    active: bool,
    username: &amp;str,
    email: &amp;str,
    sign_in_count: u64,
}

fn main() {
    let user1 = User {
        active: true,
        username: "someusername123",
        email: "someone@example.com",
        sign_in_count: 1,
    };
}</code></pre>
</figure>
<p>ฺฉุงููพุงูุฑ ุดฺฉุงุช ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ุจู ูุดุฎุตโฺฉููุฏูโูุง ุทูู ุนูุฑ ูุงุฒ ุฏุงุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling structs v0.1.0 (file:///projects/structs)
error[E0106]: missing lifetime specifier
 --&gt; src/main.rs:3:15
  |
3 |     username: &amp;str,
  |               ^ expected named lifetime parameter
  |
help: consider introducing a named lifetime parameter
  |
1 ~ struct User&lt;'a&gt; {
2 |     active: bool,
3 ~     username: &amp;'a str,
  |

error[E0106]: missing lifetime specifier
 --&gt; src/main.rs:4:12
  |
4 |     email: &amp;str,
  |            ^ expected named lifetime parameter
  |
help: consider introducing a named lifetime parameter
  |
1 ~ struct User&lt;'a&gt; {
2 |     active: bool,
3 |     username: &amp;str,
4 ~     email: &amp;'a str,
  |

For more information about this error, try `rustc --explain E0106`.
error: could not compile `structs` (bin "structs") due to 2 previous errors
</code></pre>
<p>ุฏุฑ ูุตู ฑฐุ ูุง ุจุญุซ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ุงู ุฎุทุงูุง ุฑุง ุจุฑุทุฑู ฺฉูุฏ ุชุง ุจุชูุงูุฏ ุงุฑุฌุงุนโูุง ุฑุง ุฏุฑ ุณุงุฎุชุงุฑูุง ุฐุฎุฑู ฺฉูุฏุ ุงูุง ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง ุงู ุฎุทุงูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงููุงุน ูุงูฺฉ ูุงููุฏ <code>String</code> ุจู ุฌุง ุงุฑุฌุงุนโูุง ูุงููุฏ <code>&amp;str</code> ุจุฑุทุฑู ุฎูุงูู ฺฉุฑุฏ.</p>
<!-- manual-regeneration
for the error above
after running update-rustc.sh:
pbcopy < listings/ch05-using-structs-to-structure-related-data/no-listing-02-reference-in-struct/output.txt
paste above
add `> ` before every line -->
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฉ-ุจุฑูุงูู-ููููู-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-structูุง"><a class="header" href="#ฺฉ-ุจุฑูุงูู-ููููู-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-structูุง">ฺฉ ุจุฑูุงูู ููููู ุจุง ุงุณุชูุงุฏู ุงุฒ Structูุง</a></h2>
<p>ุจุฑุง ุฏุฑฺฉ ุจูุชุฑ ุฒูุงู ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูู ุงุฒ ุณุงุฎุชุงุฑูุง ุงุณุชูุงุฏู ฺฉููุ ุจุงุฏ ฺฉ ุจุฑูุงูู ุจููุณู ฺฉู ูุณุงุญุช ฺฉ ูุณุชุทู ุฑุง ูุญุงุณุจู ฺฉูุฏ. ูุง ุงุจุชุฏุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑูุง ุฌุฏุงฺฏุงูู ุดุฑูุน ูโฺฉูู ู ุณูพุณ ุจุฑูุงูู ุฑุง ุจุงุฒููุณ ูโฺฉูู ุชุง ุงุฒ ุณุงุฎุชุงุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจุงุฏ ฺฉ ูพุฑูฺู ุจุงูุฑ ุฌุฏุฏ ุจุง Cargo ุจู ูุงู <em>rectangles</em> ุงุฌุงุฏ ฺฉูู ฺฉู ุนุฑุถ ู ุงุฑุชูุงุน ฺฉ ูุณุชุทู ุฑุง ุจุฑ ุญุณุจ ูพฺฉุณู ูุดุฎุต ฺฉุฑุฏู ู ูุณุงุญุช ุขู ุฑุง ูุญุงุณุจู ฺฉูุฏ. ูุณุช ต-ธ ฺฉ ุจุฑูุงูู ฺฉูุชุงู ูุดุงู ูโุฏูุฏ ฺฉู ุฏููุงู ููู ฺฉุงุฑ ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ูพุฑูฺู ูุง ุงูุฌุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let width1 = 30;
    let height1 = 50;

    println!(
        "The area of the rectangle is {} square pixels.",
        area(width1, height1)
    );
}

fn area(width: u32, height: u32) -&gt; u32 {
    width * height
}</code></pre></pre>
<figcaption>Listing 5-8: ูุญุงุณุจู ูุณุงุญุช ฺฉ ูุณุชุทู ฺฉู ุจุง ูุชุบุฑูุง ุนุฑุถ ู ุงุฑุชูุงุน ุฌุฏุงฺฏุงูู ูุดุฎุต ุดุฏู ุงุณุช</figcaption>
</figure>
<p>ุงฺฉูููุ ุงู ุจุฑูุงูู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling rectangles v0.1.0 (file:///projects/rectangles)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.42s
     Running `target/debug/rectangles`
The area of the rectangle is 1500 square pixels.
</code></pre>
<p>ุงู ฺฉุฏ ุจุง ูุฑุงุฎูุงู ุชุงุจุน <code>area</code> ุจุง ูุฑ ฺฉ ุงุฒ ุงุจุนุงุฏ ูููู ุจู ูุญุงุณุจู ูุณุงุญุช ูุณุชุทู ูโุดูุฏุ ุงูุง ูโุชูุงูู ุงู ฺฉุฏ ุฑุง ุฎูุงูุงุชุฑ ู ูุงุจู ุฏุฑฺฉโุชุฑ ฺฉูู.</p>
<p>ูุดฺฉู ุงู ฺฉุฏ ุฏุฑ ุงูุถุง ุชุงุจุน <code>area</code> ูุดุฎุต ุงุณุช:</p>
<pre><code class="language-rust ignore"><span class="boring">fn main() {
</span><span class="boring">    let width1 = 30;
</span><span class="boring">    let height1 = 50;
</span><span class="boring">
</span><span class="boring">    println!(
</span><span class="boring">        "The area of the rectangle is {} square pixels.",
</span><span class="boring">        area(width1, height1)
</span><span class="boring">    );
</span><span class="boring">}
</span><span class="boring">
</span>fn area(width: u32, height: u32) -&gt; u32 {
<span class="boring">    width * height
</span><span class="boring">}</span></code></pre>
<p>ุชุงุจุน <code>area</code> ูุฑุงุฑ ุงุณุช ูุณุงุญุช ฺฉ ูุณุชุทู ุฑุง ูุญุงุณุจู ฺฉูุฏุ ุงูุง ุชุงุจุน ฺฉู ููุดุชู ุฏู ูพุงุฑุงูุชุฑ ุฏุงุฑุฏ ู ูฺโฺฉุฌุง ุฏุฑ ุจุฑูุงูู ูุดุฎุต ูุณุช ฺฉู ุงู ูพุงุฑุงูุชุฑูุง ุจู ูู ูุฑุชุจุท ูุณุชูุฏ. ุจูุชุฑ ุงุณุช ุนุฑุถ ู ุงุฑุชูุงุน ุฑุง ุจู ุตูุฑุช ฺฏุฑูู ุชุนุฑู ฺฉูู ุชุง ุฎูุงูุง ู ูุฏุฑุช ฺฉุฏ ุจูุชุฑ ุดูุฏ. ฺฉ ุงุฒ ุฑูุดโูุง ฺฉู ูุจูุงู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#the-tuple-type">ยซููุน Tupleยป</a><!-- ignore --> ูุตู ณ ุจุญุซ ฺฉุฑุฏู ุงู ุงุณุช ฺฉู ุงุฒ ุชุงูพูโูุง ุงุณุชูุงุฏู ฺฉูู.</p>
<h3 id="ุจุงุฒููุณ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-tupleูุง"><a class="header" href="#ุจุงุฒููุณ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-tupleูุง">ุจุงุฒููุณ ุจุง ุงุณุชูุงุฏู ุงุฒ Tupleูุง</a></h3>
<p>ูุณุช ต-น ูุณุฎู ุฏฺฏุฑ ุงุฒ ุจุฑูุงูู ูุง ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุงุฒ ุชุงูพูโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let rect1 = (30, 50);

    println!(
        "The area of the rectangle is {} square pixels.",
        area(rect1)
    );
}

fn area(dimensions: (u32, u32)) -&gt; u32 {
    dimensions.0 * dimensions.1
}</code></pre></pre>
<figcaption>Listing 5-9: ูุดุฎุต ฺฉุฑุฏู ุนุฑุถ ู ุงุฑุชูุงุน ูุณุชุทู ุจุง ฺฉ Tuple</figcaption>
</figure>
<p>ุงุฒ ฺฉ ููุธุฑุ ุงู ุจุฑูุงูู ุจูุชุฑ ุงุณุช. ุชุงูพูโูุง ฺฉู ุณุงุฎุชุงุฑ ุงุถุงูู ูโฺฉููุฏ ู ุงฺฉููู ูุง ููุท ฺฉ ุขุฑฺฏููุงู ุงุฑุณุงู ูโฺฉูู. ุงูุง ุงุฒ ููุธุฑ ุฏฺฏุฑุ ุงู ูุณุฎู ฺฉูุชุฑ ูุงุถุญ ุงุณุช: ุชุงูพูโูุง ุงุฌุฒุง ุฎูุฏ ุฑุง ูุงูโฺฏุฐุงุฑ ููโฺฉููุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุจู ุจุฎุดโูุง ุชุงูพู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏฺฉุณโูุง ุฏุณุชุฑุณ ูพุฏุง ฺฉูู ฺฉู ูุญุงุณุจุงุช ูุง ุฑุง ฺฉูุชุฑ ุดูุงู ูโฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุจุฎูุงูู ูุณุชุทู ุฑุง ุฑู ุตูุญู ููุงุด ุจฺฉุดูุ ุฌุงุจูโุฌุง ุนุฑุถ ู ุงุฑุชูุงุน ุงููุช ูุฏุงุฑุฏุ ุงูุง ุจุฑุง ุฑุณู ุขู ุงููุช ูพุฏุง ูโฺฉูุฏ! ูุง ุจุงุฏ ุจู ุฎุงุทุฑ ุฏุงุดุชู ุจุงุดู ฺฉู <code>width</code> ุงูุฏฺฉุณ <code>0</code> ุชุงูพู ู <code>height</code> ุงูุฏฺฉุณ <code>1</code> ุชุงูพู ุงุณุช. ุงู ฺฉุงุฑ ุญุช ุจุฑุง ฺฉุณ ฺฉู ุงุฒ ฺฉุฏ ูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุณุฎุชโุชุฑ ุฎูุงูุฏ ุจูุฏ ู ุจู ุงุดุชุจุงูุงุช ุจุดุชุฑ ููุฌุฑ ูโุดูุฏ. ฺูู ูุนูุง ุฏุงุฏูโูุง ูุง ุฏุฑ ฺฉุฏ ูุดุฎุต ูุดุฏู ุงุณุชุ ุงุญุชูุงู ุฎุทุง ุจุดุชุฑ ูโุดูุฏ.</p>
<h3 id="ุจุงุฒููุณ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-structูุง-ุงูุฒูุฏู-ูุนูุง-ุจุดุชุฑ"><a class="header" href="#ุจุงุฒููุณ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-structูุง-ุงูุฒูุฏู-ูุนูุง-ุจุดุชุฑ">ุจุงุฒููุณ ุจุง ุงุณุชูุงุฏู ุงุฒ Structูุง: ุงูุฒูุฏู ูุนูุง ุจุดุชุฑ</a></h3>
<p>ูุง ุงุฒ ุณุงุฎุชุงุฑูุง ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุง ูุงูโฺฏุฐุงุฑ ุฏุงุฏูโูุงุ ูุนูุง ุจุดุชุฑ ุจู ุขูโูุง ุจุฏูู. ูโุชูุงูู ุชุงูพู ฺฉู ุงุณุชูุงุฏู ูโฺฉูู ุฑุง ุจู ฺฉ ุณุงุฎุชุงุฑ ุชุจุฏู ฺฉูู ฺฉู ุจุฑุง ฺฉู ุฏุงุฏูโูุง ฺฉ ูุงู ู ููฺูู ุจุฑุง ุจุฎุดโูุง ูุฎุชูู ุขู ูุงูโูุง ูุดุฎุต ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ฑฐ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!(
        "The area of the rectangle is {} square pixels.",
        area(&amp;rect1)
    );
}

fn area(rectangle: &amp;Rectangle) -&gt; u32 {
    rectangle.width * rectangle.height
}</code></pre></pre>
<figcaption>Listing 5-10: ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ <code>Rectangle</code></figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุง ฺฉ ุณุงุฎุชุงุฑ ุชุนุฑู ฺฉุฑุฏูโุงู ู ูุงู ุขู ุฑุง <code>Rectangle</code> ฺฏุฐุงุดุชูโุงู. ุฏุงุฎู ุขฺฉููุงุฏูุงุ ููุฏูุง ุจู ูุงูโูุง <code>width</code> ู <code>height</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ูุฑ ุฏู ุงุฒ ููุน <code>u32</code> ูุณุชูุฏ. ุณูพุณุ ุฏุฑ <code>main</code>ุ ฺฉ ููููู ุฎุงุต ุงุฒ <code>Rectangle</code> ุงุฌุงุฏ ฺฉุฑุฏูโุงู ฺฉู ุนุฑุถ ุขู <code>30</code> ู ุงุฑุชูุงุน ุขู <code>50</code> ุงุณุช.</p>
<p>ุชุงุจุน <code>area</code> ูุง ุงฺฉููู ุจุง ฺฉ ูพุงุฑุงูุชุฑ ุชุนุฑู ุดุฏู ุงุณุช ฺฉู ุขู ุฑุง <code>rectangle</code> ูุงูุฏูโุงู ู ููุน ุขู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ฺฉ ููููู ุงุฒ ุณุงุฎุชุงุฑ <code>Rectangle</code> ุงุณุช. ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ด ุงุดุงุฑู ุดุฏุ ูุง ูโุฎูุงูู ุณุงุฎุชุงุฑ ุฑุง ูุฑุถ ุจฺฏุฑู ูู ุงูฺฉู ูุงูฺฉุช ุขู ุฑุง ุจฺฏุฑู. ุจู ุงู ุชุฑุชุจุ <code>main</code> ูุงูฺฉุช ุฎูุฏ ุฑุง ุญูุธ ูโฺฉูุฏ ู ูโุชูุงูุฏ ููฺูุงู ุงุฒ <code>rect1</code> ุงุณุชูุงุฏู ฺฉูุฏ. ุจู ููู ุฏูู ุงุณุช ฺฉู ุงุฒ <code>&amp;</code> ุฏุฑ ุงูุถุง ุชุงุจุน ู ุฏุฑ ุฌุง ฺฉู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ุชุงุจุน <code>area</code> ุจู ููุฏูุง <code>width</code> ู <code>height</code> ุฏุฑ ููููู <code>Rectangle</code> ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูุฏ (ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุณุชุฑุณ ุจู ููุฏูุง ฺฉ ููููู ูุฑุถโฺฏุฑูุชูโุดุฏู ุจุงุนุซ ุงูุชูุงู ููุงุฏุฑ ููุฏูุง ููโุดูุฏุ ุจู ููู ุฏูู ุงุณุช ฺฉู ุงุบูุจ ูุฑุถโฺฏุฑ ุณุงุฎุชุงุฑูุง ุฑุง ูุดุงูุฏู ูโฺฉูุฏ). ุงูุถุง ุชุงุจุน <code>area</code> ูุง ุงฺฉููู ุฏููุงู ููุงู ฺุฒ ุฑุง ูโฺฏูุฏ ฺฉู ููุธูุฑ ูุงุณุช: ูุณุงุญุช <code>Rectangle</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุฏูุง <code>width</code> ู <code>height</code> ุขู ูุญุงุณุจู ฺฉู. ุงู ฺฉุงุฑ ูุดุงู ูโุฏูุฏ ฺฉู ุนุฑุถ ู ุงุฑุชูุงุน ุจู ฺฉุฏฺฏุฑ ูุฑุชุจุท ูุณุชูุฏ ู ูุงูโูุง ุชูุตู ุจู ููุงุฏุฑ ูโุฏูุฏุ ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ููุงุฏุฑ ุงูุฏฺฉุณ ุชุงูพูโูุง ูุงููุฏ <code>0</code> ู <code>1</code>. ุงู ฺฉ ูพุฑูุฒ ุจุฑุง ุดูุงูุช ุงุณุช.</p>
<h3 id="ุงูุฒูุฏู-ูุงุจูุชูุง-ููุฏ-ุจุง-traits-ูุดุชูุดุฏู"><a class="header" href="#ุงูุฒูุฏู-ูุงุจูุชูุง-ููุฏ-ุจุง-traits-ูุดุชูุดุฏู">ุงูุฒูุฏู ูุงุจูุชโูุง ููุฏ ุจุง Traits ูุดุชูโุดุฏู</a></h3>
<p>ุฒูุงู ฺฉู ุฏุฑ ุญุงู ุงุดฺฉุงูโุฒุฏุง ุจุฑูุงูู ุฎูุฏ ูุณุชูุ ููุฏ ุงุณุช ฺฉู ุจุชูุงูู ูููููโุง ุงุฒ <code>Rectangle</code> ุฑุง ฺุงูพ ฺฉุฑุฏู ู ููุงุฏุฑ ุชูุงู ููุฏูุง ุขู ุฑุง ุจุจูู. ูุณุช ต-ฑฑ ุชูุงุด ูโฺฉูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <a href="https://doc.rust-lang.org/std/macro.println.html"><code>println!</code></a><!-- ignore --> ฺฉู ุฏุฑ ูุตูโูุง ูุจู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ. ุจุง ุงู ุญุงูุ ุงู ฺฉุงุฑ ูููู ูุฎูุงูุฏ ุจูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!("rect1 is {}", rect1);
}</code></pre>
<figcaption>Listing 5-11: ุชูุงุด ุจุฑุง ฺุงูพ ฺฉ ููููู ุงุฒ <code>Rectangle</code></figcaption>
</figure>
<p>ููุช ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ูโฺฉููุ ุจุง ุฎุทุง ููุงุฌู ูโุดูู ฺฉู ูพุงู ุงุตู ุขู ุจู ุงู ุตูุฑุช ุงุณุช:</p>
<pre><code class="language-text">error[E0277]: `Rectangle` doesn't implement `std::fmt::Display`
</code></pre>
<p>ูุงฺฉุฑู <code>println!</code> ูโุชูุงูุฏ ุจุณุงุฑ ุงุฒ ุงููุงุน ูุฑูุชโุจูุฏ ุฑุง ุงูุฌุงู ุฏูุฏุ ู ุจู ุตูุฑุช ูพุดโูุฑุถุ ุขฺฉููุงุฏูุง ุจู <code>println!</code> ูโฺฏููุฏ ฺฉู ุงุฒ ูุฑูุชโุจูุฏโุง ฺฉู ุจู ูุงู <code>Display</code> ุดูุงุฎุชู ูโุดูุฏ ุงุณุชูุงุฏู ฺฉูุฏ: ุฎุฑูุฌโุง ฺฉู ุจุฑุง ูุตุฑู ูุณุชูู ฺฉุงุฑุจุฑ ููุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏู ุงุณุช. ุงููุงุน ุงุจุชุฏุง ฺฉู ุชุงฺฉููู ุฏุฏูโุงู ุจู ุตูุฑุช ูพุดโูุฑุถ ูฺฺฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุฒุฑุง ุชููุง ฺฉ ุฑูุด ุจุฑุง ููุงุด ฺฉ ููุฏุงุฑ ูุงููุฏ <code>1</code> ุง ูุฑ ููุน ุงุจุชุฏุง ุฏฺฏุฑ ุจู ฺฉุงุฑุจุฑ ูุฌูุฏ ุฏุงุฑุฏ. ุงูุง ุจุง ุณุงุฎุชุงุฑูุงุ ุฑูุด ูุฑูุชโุจูุฏ ุฎุฑูุฌ ฺฉูุชุฑ ูุงุถุญ ุงุณุช ุฒุฑุง ุงูฺฉุงูุงุช ุจุดุชุฑ ุจุฑุง ููุงุด ูุฌูุฏ ุฏุงุฑุฏ: ุขุง ูโุฎูุงูุฏ ุงุฒ ูุฑฺฏูู ุงุณุชูุงุฏู ุดูุฏ ุง ุฎุฑุ ุขุง ูโุฎูุงูุฏ ุขฺฉููุงุฏูุง ฺุงูพ ุดููุฏุ ุขุง ุชูุงู ููุฏูุง ุจุงุฏ ูุดุงู ุฏุงุฏู ุดููุฏุ ุจู ุฏูู ุงู ุงุจูุงูุ Rust ุณุน ููโฺฉูุฏ ุญุฏุณ ุจุฒูุฏ ฺฉู ูุง ฺู ูโุฎูุงููุ ู ุณุงุฎุชุงุฑูุง ูพุงุฏูโุณุงุฒโุง ุจุฑุง <code>Display</code> ูุฏุงุฑูุฏ ฺฉู ุจุชูุงู ุจุง <code>println!</code> ู ุฌุงฺฏุฒู <code>{}</code> ุงุณุชูุงุฏู ฺฉุฑุฏ.</p>
<p>ุงฺฏุฑ ุจู ุฎูุงูุฏู ุฎุทุงูุง ุงุฏุงูู ุฏููุ ุจู ุงู ุงุฏุฏุงุดุช ููุฏ ุฎูุงูู ุฑุณุฏ:</p>
<pre><code class="language-text">   = help: the trait `std::fmt::Display` is not implemented for `Rectangle`
   = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead
</code></pre>
<p>ุจุงุฏ ุขู ุฑุง ุงูุชุญุงู ฺฉูู! ุงฺฉููู ูุฑุงุฎูุงู ูุงฺฉุฑู <code>println!</code> ุจู ุตูุฑุช <code>println!("rect1 is {rect1:?}");</code> ุฎูุงูุฏ ุจูุฏ. ูุฑุงุฑ ุฏุงุฏู ูุดุฎุตโฺฉููุฏู <code>:?</code> ุฏุงุฎู ุขฺฉููุงุฏูุง ุจู <code>println!</code> ูโฺฏูุฏ ฺฉู ูโุฎูุงูู ุงุฒ ฺฉ ูุฑูุช ุฎุฑูุฌ ุจู ูุงู <code>Debug</code> ุงุณุชูุงุฏู ฺฉูู. ูฺฺฏ <code>Debug</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุณุงุฎุชุงุฑ ุฎูุฏ ุฑุง ุจู ุฑูุด ฺฉู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ููุฏ ุงุณุช ฺุงูพ ฺฉูู ุชุง ููุฏุงุฑ ุขู ุฑุง ููฺฏุงู ุงุดฺฉุงูโุฒุฏุง ฺฉุฏ ุฎูุฏ ุจุจูู.</p>
<p>ฺฉุฏ ุฑุง ุจุง ุงู ุชุบุฑ ฺฉุงููพุงู ฺฉูุฏ. ุฎุจุ ุจุงุฒ ูู ฺฉ ุฎุทุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-text">error[E0277]: `Rectangle` doesn't implement `Debug`
</code></pre>
<p>ุงูุง ุจุงุฒ ูู ฺฉุงููพุงูุฑ ุงุฏุฏุงุดุช ููุฏ ุจู ูุง ูโุฏูุฏ:</p>
<pre><code class="language-text">   = help: the trait `Debug` is not implemented for `Rectangle`
   = note: add `#[derive(Debug)]` to `Rectangle` or manually `impl Debug for Rectangle`
</code></pre>
<p>Rust <em>ุฏุฑ ูุงูุน</em> ูุงุจูุช ฺุงูพ ุงุทูุงุนุงุช ุงุดฺฉุงูโุฒุฏุง ุฑุง ุฏุงุฑุฏุ ุงูุง ุจุงุฏ ุจู ุตูุฑุช ุตุฑุญ ุงู ูุงุจูุช ุฑุง ุจุฑุง ุณุงุฎุชุงุฑ ุฎูุฏ ูุนุงู ฺฉูู. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ูฺฺฏ ุจุฑูู <code>#[derive(Debug)]</code> ุฑุง ุฏููุงู ูุจู ุงุฒ ุชุนุฑู ุณุงุฎุชุงุฑ ุงุถุงูู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ฑฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!("rect1 is {rect1:?}");
}</code></pre></pre>
<figcaption>Listing 5-12: ุงูุฒูุฏู ูฺฺฏ ุจุฑุง ูุดุชู ฺฉุฑุฏู <code>Debug</code> ู ฺุงูพ ููููู <code>Rectangle</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑูุช ุงุดฺฉุงูโุฒุฏุง</figcaption>
</figure>
<p>ุงฺฉููู ููุช ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉููุ ูฺ ุฎุทุง ุฏุฑุงูุช ูุฎูุงูู ฺฉุฑุฏ ู ุฎุฑูุฌ ุฒุฑ ุฑุง ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling rectangles v0.1.0 (file:///projects/rectangles)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.48s
     Running `target/debug/rectangles`
rect1 is Rectangle { width: 30, height: 50 }
</code></pre>
<p>ุนุงู! ุงู ุฎุฑูุฌ ููฺฉู ุงุณุช ุฒุจุงุชุฑู ูุจุงุดุฏุ ุงูุง ููุงุฏุฑ ุชูุงู ููุฏูุง ุฑุง ุจุฑุง ุงู ููููู ูุดุงู ูโุฏูุฏ ฺฉู ูุทุนุงู ุฏุฑ ููฺฏุงู ุงุดฺฉุงูโุฒุฏุง ฺฉูฺฉ ูโฺฉูุฏ. ุฒูุงู ฺฉู ุณุงุฎุชุงุฑูุง ุจุฒุฑฺฏโุชุฑ ุฏุงุฑูุ ููุฏ ุงุณุช ฺฉู ุฎุฑูุฌ ฺฉู ุขุณุงูโุชุฑ ุฎูุงูุฏู ุดูุฏุ ุฏุฑ ฺูู ููุงุฑุฏ ูโุชูุงูู ุจู ุฌุง <code>{:?}</code> ุงุฒ <code>{:#?}</code> ุฏุฑ ุฑุดุชู <code>println!</code> ุงุณุชูุงุฏู ฺฉูู. ุฏุฑ ุงู ูุซุงูุ ุงุณุชูุงุฏู ุงุฒ ุณุจฺฉ <code>{:#?}</code> ุฎุฑูุฌ ุฒุฑ ุฑุง ุงุฌุงุฏ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling rectangles v0.1.0 (file:///projects/rectangles)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.48s
     Running `target/debug/rectangles`
rect1 is Rectangle {
    width: 30,
    height: 50,
}
</code></pre>
<p>ุฑูุด ุฏฺฏุฑ ุจุฑุง ฺุงูพ ููุฏุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑูุช <code>Debug</code>ุ ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <a href="https://doc.rust-lang.org/std/macro.dbg.html"><code>dbg!</code></a><!-- ignore --> ุงุณุช ฺฉู ูุงูฺฉุช ฺฉ ุนุจุงุฑุช ุฑุง ูโฺฏุฑุฏ (ุจุฑุฎูุงู <code>println!</code>ุ ฺฉู ุงุฑุฌุงุน ูโฺฏุฑุฏ)ุ ูุงู ู ุดูุงุฑู ุฎุท ฺฉู ูุฑุงุฎูุงู <code>dbg!</code> ุฏุฑ ุขู ุงุชูุงู ูโุงูุชุฏ ููุฑุงู ุจุง ููุฏุงุฑ ุญุงุตู ุงุฒ ุขู ุนุจุงุฑุช ุฑุง ฺุงูพ ูโฺฉูุฏ ู ูุงูฺฉุช ููุฏุงุฑ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>Here is the continuation of the translation for <strong>โch05-02-example-structs.mdโ</strong> into Persian:</p>
<p>ุฏุฑ ุงูุฌุง ูุซุงู ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ุฏุฑ ุขู ูุง ุจู ููุฏุงุฑ ุงุฎุชุตุงุต ุฏุงุฏู ุดุฏู ุจู ููุฏ <code>width</code> ู ููฺูู ููุฏุงุฑ ฺฉู ุณุงุฎุชุงุฑ ุฏุฑ <code>rect1</code> ุนูุงููโููุฏ ูุณุชู:</p>
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let scale = 2;
    let rect1 = Rectangle {
        width: dbg!(30 * scale),
        height: 50,
    };

    dbg!(&amp;rect1);
}</code></pre></pre>
<p>ูุง ูโุชูุงูู <code>dbg!</code> ุฑุง ุฏุฑ ุงุทุฑุงู ุนุจุงุฑุช <code>30 * scale</code> ูุฑุงุฑ ุฏูู ู ฺูู <code>dbg!</code> ูุงูฺฉุช ููุฏุงุฑ ุนุจุงุฑุช ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ููุฏ <code>width</code> ููุงู ููุฏุงุฑ ุฑุง ุฎูุงูุฏ ุฏุงุดุช ฺฉู ุงฺฏุฑ ูุฑุงุฎูุงู <code>dbg!</code> ุฏุฑ ุขูุฌุง ูุฌูุฏ ูุฏุงุดุช. ูุง ููโุฎูุงูู <code>dbg!</code> ูุงูฺฉุช <code>rect1</code> ุฑุง ุจฺฏุฑุฏุ ุจูุงุจุฑุงู ุงุฒ ฺฉ ุงุฑุฌุงุน ุจู <code>rect1</code> ุฏุฑ ูุฑุงุฎูุงู ุจุนุฏ ุงุณุชูุงุฏู ูโฺฉูู. ุฏุฑ ุงูุฌุง ุฎุฑูุฌ ุงู ูุซุงู ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling rectangles v0.1.0 (file:///projects/rectangles)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.61s
     Running `target/debug/rectangles`
[src/main.rs:10:16] 30 * scale = 60
[src/main.rs:14:5] &amp;rect1 = Rectangle {
    width: 60,
    height: 50,
}
</code></pre>
<p>ูโุชูุงูู ุจุจูู ฺฉู ุงููู ุจุฎุด ุฎุฑูุฌ ุงุฒ ุฎุท ฑฐ ุฏุฑ <em>src/main.rs</em> ุขูุฏู ุงุณุชุ ุฌุง ฺฉู ูุง ุฏุฑ ุญุงู ุงุดฺฉุงูโุฒุฏุง ุนุจุงุฑุช <code>30 * scale</code> ูุณุชูุ ู ููุฏุงุฑ ุญุงุตู ุขู <code>60</code> ุงุณุช (ูุฑูุชโุจูุฏ <code>Debug</code> ฺฉู ุจุฑุง ุงุนุฏุงุฏ ุตุญุญ ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ููุท ููุฏุงุฑ ุขูโูุง ุฑุง ฺุงูพ ูโฺฉูุฏ). ูุฑุงุฎูุงู <code>dbg!</code> ุฏุฑ ุฎุท ฑด ุงุฒ <em>src/main.rs</em> ููุฏุงุฑ <code>&amp;rect1</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ฺฉู ุณุงุฎุชุงุฑ <code>Rectangle</code> ุงุณุช. ุงู ุฎุฑูุฌ ุงุฒ ูุฑูุชโุจูุฏ ุฒุจุง ู ููุฏ <code>Debug</code> ุจุฑุง ููุน <code>Rectangle</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ูุงฺฉุฑู <code>dbg!</code> ูโุชูุงูุฏ ุฏุฑ ููฺฏุงู ุชูุงุด ุจุฑุง ุฏุฑฺฉ ุฑูุชุงุฑ ฺฉุฏุชุงู ุจุณุงุฑ ููุฏ ุจุงุดุฏ!</p>
<p>ุนูุงูู ุจุฑ ูฺฺฏ <code>Debug</code>ุ Rust ุชุนุฏุงุฏ ูฺฺฏ ุจุฑุง ูุง ูุฑุงูู ฺฉุฑุฏู ุงุณุช ฺฉู ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>derive</code> ุขูโูุง ุฑุง ุจู ููุนโูุง ุณูุงุฑุด ุฎูุฏ ุงุถุงูู ฺฉูู ู ุฑูุชุงุฑ ููุฏ ุงุฑุงุฆู ุฏููุฏ. ุงู ูฺฺฏโูุง ู ุฑูุชุงุฑ ุขูโูุง ุฏุฑ <a href="appendix-03-derivable-traits.html">ุถููู ุฌ</a><!-- ignore --> ููุฑุณุช ุดุฏูโุงูุฏ. ูุง ุฏุฑ ูุตู ฑฐ ุจู ูุญูู ูพุงุฏูโุณุงุฒ ุงู ูฺฺฏโูุง ุจุง ุฑูุชุงุฑ ุณูุงุฑุด ู ููฺูู ูุญูู ุงุฌุงุฏ ูฺฺฏโูุง ุฎูุฏ ูโูพุฑุฏุงุฒู. ููฺูู ุจุณุงุฑ ุงุฒ ูฺฺฏโูุง ุฏฺฏุฑ ุจู ุบุฑ ุงุฒ <code>derive</code> ูุฌูุฏ ุฏุงุฑูุฏุ ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑุ ุจู <a href="../reference/attributes.html">ุจุฎุด ยซูฺฺฏโูุงยป ุฏุฑ ูุฑุฌุน Rust</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุชุงุจุน <code>area</code> ูุง ุจุณุงุฑ ุฎุงุต ุงุณุช: ููุท ูุณุงุญุช ูุณุชุทูโูุง ุฑุง ูุญุงุณุจู ูโฺฉูุฏ. ููุฏ ุฎูุงูุฏ ุจูุฏ ุงฺฏุฑ ุงู ุฑูุชุงุฑ ุฑุง ุจู ุตูุฑุช ูุฒุฏฺฉโุชุฑ ุจุง ุณุงุฎุชุงุฑ <code>Rectangle</code> ูุฑุชุจุท ฺฉููุ ุฒุฑุง ุงู ุชุงุจุน ุจุง ูฺ ููุน ุฏฺฏุฑ ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ. ุจุงุฏ ุจุจูู ฺฉู ฺฺฏููู ูโุชูุงูู ุจุง ุชุจุฏู ุชุงุจุน <code>area</code> ุจู ฺฉ <em>ูุชุฏ</em> ฺฉู ุจุฑุง ููุน <code>Rectangle</code> ุชุนุฑู ุดุฏู ุงุณุชุ ุงู ฺฉุฏ ุฑุง ุจุงุฒููุณ ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุชุฏ"><a class="header" href="#ูุชุฏ">ูุชุฏ</a></h2>
<p><em>ูุชุฏูุง</em> ุดุจู ุจู ุชูุงุจุน ูุณุชูุฏ: ูุง ุขูโูุง ุฑุง ุจุง ฺฉููู ฺฉูุฏ <code>fn</code> ู ฺฉ ูุงู ุชุนุฑู ูโฺฉููุ ูโุชูุงููุฏ ูพุงุฑุงูุชุฑูุง ู ฺฉ ููุฏุงุฑ ุจุงุฒฺฏุดุช ุฏุงุดุชู ุจุงุดูุฏ ู ุดุงูู ฺฉุฏ ูุณุชูุฏ ฺฉู ููุช ูุชุฏ ุงุฒ ุฌุง ุฏฺฏุฑ ูุฑุงุฎูุงู ูโุดูุฏุ ุงุฌุฑุง ูโุดูุฏ. ุจุฑุฎูุงู ุชูุงุจุนุ ูุชุฏูุง ุฏุฑ ุฒููู ฺฉ ุณุงุฎุชุงุฑ (ุง ฺฉ Enum ุง ฺฉ Trait Objectุ ฺฉู ุขูโูุง ุฑุง ุจู ุชุฑุชุจ ุฏุฑ <a href="ch06-00-enums.html">ูุตู ถ</a><!-- ignore --> ู <a href="ch18-02-trait-objects.html">ูุตู ฑท</a><!-- ignore --> ูพูุดุด ูโุฏูู) ุชุนุฑู ูโุดููุฏ ู ูพุงุฑุงูุชุฑ ุงูู ุขูโูุง ููุดู <code>self</code> ุงุณุช ฺฉู ูููููโุง ุงุฒ ุณุงุฎุชุงุฑ ฺฉู ูุชุฏ ุฑู ุขู ูุฑุงุฎูุงู ุดุฏู ุงุณุช ุฑุง ููุงุด ูโุฏูุฏ.</p>
<h3 id="ุชุนุฑู-ูุชุฏูุง"><a class="header" href="#ุชุนุฑู-ูุชุฏูุง">ุชุนุฑู ูุชุฏูุง</a></h3>
<p>ุจุงุฏ ุชุงุจุน <code>area</code> ฺฉู ฺฉ ููููู ุงุฒ <code>Rectangle</code> ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏุ ุชุบุฑ ุฏูู ู ุจู ุฌุง ุขูุ ฺฉ ูุชุฏ <code>area</code> ุชุนุฑู ฺฉูู ฺฉู ุฑู ุณุงุฎุชุงุฑ <code>Rectangle</code> ุชุนุฑู ุดุฏู ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ฑณ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn area(&amp;self) -&gt; u32 {
        self.width * self.height
    }
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!(
        "The area of the rectangle is {} square pixels.",
        rect1.area()
    );
}</code></pre></pre>
<figcaption>Listing 5-13: ุชุนุฑู ฺฉ ูุชุฏ <code>area</code> ุฑู ุณุงุฎุชุงุฑ <code>Rectangle</code></figcaption>
</figure>
<p>ุจุฑุง ุชุนุฑู ุชุงุจุน ุฏุฑ ุฒููู <code>Rectangle</code>ุ ฺฉ ุจููฺฉ <code>impl</code> (ูพุงุฏูโุณุงุฒ) ุจุฑุง <code>Rectangle</code> ุดุฑูุน ูโฺฉูู. ูุฑ ฺุฒ ุฏุฑ ุงู ุจููฺฉ <code>impl</code> ุจุง ููุน <code>Rectangle</code> ูุฑุชุจุท ุฎูุงูุฏ ุจูุฏ. ุณูพุณุ ุชุงุจุน <code>area</code> ุฑุง ุจู ุฏุฑูู ุขฺฉููุงุฏูุง <code>impl</code> ููุชูู ฺฉุฑุฏู ู ุงููู (ู ุฏุฑ ุงูุฌุง ุชููุง) ูพุงุฑุงูุชุฑ ุขู ุฑุง ุฏุฑ ุงูุถุง ู ุฏุฑ ูุฑ ุฌุง ุฏุฑ ุจุฏูู ุจู <code>self</code> ุชุบุฑ ูโุฏูู. ุฏุฑ <code>main</code>ุ ุฌุง ฺฉู ุชุงุจุน <code>area</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉุฑุฏู ู <code>rect1</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุงุฑุณุงู ูโฺฉุฑุฏูุ ุงฺฉููู ูโุชูุงูู ุงุฒ <em>ูุญู ูุชุฏ</em> ุจุฑุง ูุฑุงุฎูุงู ูุชุฏ <code>area</code> ุฑู ููููู <code>Rectangle</code> ุฎูุฏ ุงุณุชูุงุฏู ฺฉูู. ูุญู ูุชุฏ ุจุนุฏ ุงุฒ ฺฉ ููููู ูุฑุงุฑ ูโฺฏุฑุฏ: ููุทูโุง ุงุถุงูู ูโฺฉูู ู ุจู ุฏูุจุงู ุขู ูุงู ูุชุฏุ ูพุฑุงูุชุฒูุง ู ูุฑ ุขุฑฺฏููุงู ุฏฺฏุฑ ูุฑุงุฑ ูโุฏูู.</p>
<p>ุฏุฑ ุงูุถุง <code>area</code>ุ ุงุฒ <code>&amp;self</code> ุจู ุฌุง <code>rectangle: &amp;Rectangle</code> ุงุณุชูุงุฏู ูโฺฉูู. <code>&amp;self</code> ุฏุฑ ูุงูุน ูุนุงุฏู ฺฉูุชุงูโุดุฏูโุง ุงุฒ <code>self: &amp;Self</code> ุงุณุช. ุฏุฑูู ฺฉ ุจููฺฉ <code>impl</code>ุ ููุน <code>Self</code> ูุงู ูุณุชุนุงุฑ ุจุฑุง ููุน ุงุณุช ฺฉู ุจููฺฉ <code>impl</code> ุจุฑุง ุขู ุชุนุฑู ุดุฏู ุงุณุช. ูุชุฏูุง ุจุงุฏ ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุงูู ุฎูุฏ ฺฉ ูพุงุฑุงูุชุฑ ุจู ูุงู <code>self</code> ุงุฒ ููุน <code>Self</code> ุฏุงุดุชู ุจุงุดูุฏุ ุจูุงุจุฑุงู Rust ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุงู ุนุจุงุฑุช ุฑุง ุจุง ููุท ููุดุชู <code>self</code> ุฏุฑ ูุญู ุงููู ูพุงุฑุงูุชุฑ ฺฉูุชุงู ฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููฺูุงู ุจุงุฏ ุงุฒ <code>&amp;</code> ุฏุฑ ููุงุจู ุงุฎุชุตุงุฑ <code>self</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ูุดุงู ุฏูู ฺฉู ุงู ูุชุฏ ููููู <code>Self</code> ุฑุง ูุฑุถ ูโฺฏุฑุฏุ ุฏููุงู ููุงูโุทูุฑ ฺฉู ุฏุฑ <code>rectangle: &amp;Rectangle</code> ุงุณุชูุงุฏู ูโฺฉุฑุฏู. ูุชุฏูุง ูโุชูุงููุฏ ูุงูฺฉุช <code>self</code> ุฑุง ุจฺฏุฑูุฏุ <code>self</code> ุฑุง ุจู ุตูุฑุช ุบุฑูุงุจู ุชุบุฑ ูุฑุถ ุจฺฏุฑูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ุงูุฌุงู ุฏุงุฏูโุงูุ ุง <code>self</code> ุฑุง ุจู ุตูุฑุช ูุงุจู ุชุบุฑ ูุฑุถ ุจฺฏุฑูุฏุ ุฏููุงู ูุงููุฏ ูุฑ ูพุงุฑุงูุชุฑ ุฏฺฏุฑ.</p>
<p>ูุง ุฏุฑ ุงูุฌุง <code>&amp;self</code> ุฑุง ุงูุชุฎุงุจ ฺฉุฑุฏูโุงู ุจู ููุงู ุฏูู ฺฉู ุฏุฑ ูุณุฎู ุชุงุจุน ุงุฒ <code>&amp;Rectangle</code> ุงุณุชูุงุฏู ฺฉุฑุฏู: ูุง ููโุฎูุงูู ูุงูฺฉุช ุฑุง ุจฺฏุฑู ู ููุท ูโุฎูุงูู ุฏุงุฏูโูุง ุฑุง ุฏุฑ ุณุงุฎุชุงุฑ ุจุฎูุงููุ ูู ุงูฺฉู ุขูโูุง ุฑุง ุชุบุฑ ุฏูู. ุงฺฏุฑ ุจุฎูุงูู ูููููโุง ฺฉู ูุชุฏ ุฑู ุขู ูุฑุงุฎูุงู ุดุฏู ุงุณุช ุฑุง ุจู ุนููุงู ุจุฎุด ุงุฒ ฺฉุงุฑ ฺฉู ูุชุฏ ุงูุฌุงู ูโุฏูุฏ ุชุบุฑ ุฏููุ ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุงูู ุงุฒ <code>&amp;mut self</code> ุงุณุชูุงุฏู ูโฺฉูู. ุฏุงุดุชู ูุชุฏ ฺฉู ูุงูฺฉุช ููููู ุฑุง ูโฺฏุฑุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ููุท <code>self</code> ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุงูู ุจู ูุฏุฑุช ุงุชูุงู ูโุงูุชุฏุ ุงู ุชฺฉูฺฉ ูุนูููุงู ุฒูุงู ุงุณุชูุงุฏู ูโุดูุฏ ฺฉู ูุชุฏ <code>self</code> ุฑุง ุจู ฺุฒ ุฏฺฏุฑ ุชุจุฏู ฺฉูุฏ ู ุดูุง ุจุฎูุงูุฏ ุงุฒ ุงุณุชูุงุฏู ุงุฒ ููููู ุงุตู ูพุณ ุงุฒ ุชุจุฏู ุฌููฺฏุฑ ฺฉูุฏ.</p>
<p>ุฏูู ุงุตู ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ุจู ุฌุง ุชูุงุจุนุ ุนูุงูู ุจุฑ ุงุฑุงุฆู ูุญู ูุชุฏ ู ุนุฏู ูุงุฒ ุจู ุชฺฉุฑุงุฑ ููุน <code>self</code> ุฏุฑ ุงูุถุง ูุฑ ูุชุฏุ ุณุงุฒูุงูโุฏู ุงุณุช. ูุง ุชูุงู ฺฉุงุฑูุง ฺฉู ูโุชูุงูู ุจุง ฺฉ ููููู ุงุฒ ฺฉ ููุน ุงูุฌุงู ุฏูู ุฑุง ุฏุฑ ฺฉ ุจููฺฉ <code>impl</code> ูุฑุงุฑ ุฏุงุฏูโุงูุ ุจู ุฌุง ุงูฺฉู ฺฉุงุฑุจุฑุงู ุขูุฏู ฺฉุฏ ูุง ุจู ุฏูุจุงู ูุงุจูุชโูุง <code>Rectangle</code> ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ุฏุฑ ฺฉุชุงุจุฎุงููโุง ฺฉู ุงุฑุงุฆู ูโุฏูู ุจฺฏุฑุฏูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูโุชูุงูู ุชุตูู ุจฺฏุฑู ูุชุฏ ุจุง ููุงู ูุงู ฺฉ ููุฏ ุณุงุฎุชุงุฑ ุชุนุฑู ฺฉูู. ุจุฑุง ูุซุงูุ ูโุชูุงูู ูุชุฏ ุฑู <code>Rectangle</code> ุชุนุฑู ฺฉูู ฺฉู ูุงู ุขู ูุฒ <code>width</code> ุจุงุดุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span>impl Rectangle {
    fn width(&amp;self) -&gt; bool {
        self.width &gt; 0
    }
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    if rect1.width() {
        println!("The rectangle has a nonzero width; it is {}", rect1.width);
    }
}</code></pre></pre>
</figure>
<p>Here is the continuation of the translation for <strong>โch05-03-method-syntax.mdโ</strong> into Persian:</p>
<p>ุฏุฑ ุงูุฌุง ูุง ุชุตูู ฺฏุฑูุชูโุงู ูุชุฏ <code>width</code> ุฑุง ุทูุฑ ุชุนุฑู ฺฉูู ฺฉู ุงฺฏุฑ ููุฏุงุฑ ุฏุฑ ููุฏ <code>width</code> ููููู ุจุฒุฑฺฏโุชุฑ ุงุฒ <code>0</code> ุจุงุดุฏ ููุฏุงุฑ <code>true</code> ู ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููุฏุงุฑ <code>false</code> ุจุฑฺฏุฑุฏุงูุฏ: ูุง ูโุชูุงูู ุงุฒ ฺฉ ููุฏ ุฏุฑูู ฺฉ ูุชุฏ ุจุง ููุงู ูุงู ุจุฑุง ูุฑ ููุธูุฑ ุงุณุชูุงุฏู ฺฉูู. ุฏุฑ <code>main</code>ุ ููุช ฺฉู ูุง <code>rect1.width</code> ุฑุง ุจุง ูพุฑุงูุชุฒ ุฏูุจุงู ูโฺฉููุ Rust ูโุฏุงูุฏ ฺฉู ููุธูุฑ ูุง ูุชุฏ <code>width</code> ุงุณุช. ููุช ุงุฒ ูพุฑุงูุชุฒ ุงุณุชูุงุฏู ููโฺฉููุ Rust ูโุฏุงูุฏ ฺฉู ููุธูุฑ ูุง ููุฏ <code>width</code> ุงุณุช.</p>
<p>ุงุบูุจุ ุงูุง ูู ููุดูุ ุฒูุงู ฺฉู ุจู ฺฉ ูุชุฏ ูุงู ูุดุงุจู ฺฉ ููุฏ ูโุฏููุ ูโุฎูุงูู ฺฉู ุงู ูุชุฏ ุชููุง ููุฏุงุฑ ููุฌูุฏ ุฏุฑ ููุฏ ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ ู ูฺ ฺฉุงุฑ ุฏฺฏุฑ ุงูุฌุงู ูุฏูุฏ. ูุชุฏูุง ูุงููุฏ ุงูโูุง <em>getter</em> ูุงูุฏู ูโุดููุฏุ ู Rust ุขูโูุง ุฑุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑุง ููุฏูุง ุณุงุฎุชุงุฑ ูพุงุฏูโุณุงุฒ ููโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุจุฑุฎ ุงุฒ ุฒุจุงูโูุง ุฏฺฏุฑ ุงูุฌุงู ูโุฏููุฏ. Getterูุง ููุฏ ูุณุชูุฏ ุฒุฑุง ูโุชูุงูุฏ ููุฏ ุฑุง ุฎุตูุต ฺฉูุฏ ุงูุง ูุชุฏ ุฑุง ุนููู ฺฉูุฏ ู ุจู ุงู ุชุฑุชุจ ุฏุณุชุฑุณ ููุท-ุฎูุงูุฏู ุจู ุขู ููุฏ ุฑุง ุจู ุนููุงู ุจุฎุด ุงุฒ API ุนููู ููุน ูุนุงู ฺฉูุฏ. ูุง ุฏุฑ ูุตู <a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html#exposing-paths-with-the-pub-keyword">ท</a><!-- ignore --> ุฏุฑ ููุฑุฏ ุนููู ู ุฎุตูุต ุจูุฏู ู ฺฺฏููฺฏ ุชุนู ุนููู ุง ุฎุตูุต ุจูุฏู ฺฉ ููุฏ ุง ูุชุฏ ุจุญุซ ุฎูุงูู ฺฉุฑุฏ.</p>
<section class="note" aria-role="note">
<h3 id="ฺฉุฌุงุณุช-ุนููฺฏุฑ--"><a class="header" href="#ฺฉุฌุงุณุช-ุนููฺฏุฑ--">ฺฉุฌุงุณุช ุนููฺฏุฑ <code>-&gt;</code>ุ</a></h3>
<p>ุฏุฑ C ู C++ุ ุฏู ุนููฺฏุฑ ูุฎุชูู ุจุฑุง ูุฑุงุฎูุงู ูุชุฏูุง ุงุณุชูุงุฏู ูโุดูุฏ: ุดูุง ุงุฒ <code>.</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุงฺฏุฑ ูุชุฏ ุฑุง ุฑู ุฎูุฏ ุดุก ูุฑุงุฎูุงู ูโฺฉูุฏ ู ุงุฒ <code>-&gt;</code> ุงฺฏุฑ ูุชุฏ ุฑุง ุฑู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุดุก ูุฑุงุฎูุงู ูโฺฉูุฏ ู ูุงุฒ ุฏุงุฑุฏ ุงุจุชุฏุง ุงุดุงุฑูโฺฏุฑ (Pointer) ุฑุง ุงุดุงุฑูโุจุฑุฏุงุฑ ฺฉูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุงฺฏุฑ <code>object</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจุงุดุฏุ <code>object-&gt;something()</code> ุดุจู ุจู <code>(*object).something()</code> ุงุณุช.</p>
<p>Rust ูุนุงุฏู ุนููฺฏุฑ <code>-&gt;</code> ุฑุง ูุฏุงุฑุฏุ ุจู ุฌุง ุขูุ Rust ฺฉ ูฺฺฏ ุจู ูุงู <em>ุงุฑุฌุงุนโุฏู ู ุงุดุงุฑูโุจุฑุฏุงุฑ ุฎูุฏฺฉุงุฑ</em> ุฏุงุฑุฏ. ูุฑุงุฎูุงู ูุชุฏูุง ฺฉ ุงุฒ ูุนุฏูุฏ ูฺฉุงูโูุง ุฏุฑ Rust ุงุณุช ฺฉู ุงู ุฑูุชุงุฑ ุฑุง ุฏุงุฑุฏ.</p>
<p>ุงูโฺฏููู ฺฉุงุฑ ูโฺฉูุฏ: ููุช ฺฉ ูุชุฏ ุฑุง ุจุง <code>object.something()</code> ูุฑุงุฎูุงู ูโฺฉูุฏุ Rust ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ <code>&amp;</code>ุ <code>&amp;mut</code> ุง <code>*</code> ุฑุง ุงุถุงูู ูโฺฉูุฏ ุชุง <code>object</code> ุจุง ุงูุถุง ูุชุฏ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ููุงุฑุฏ ุฒุฑ ฺฉุณุงู ูุณุชูุฏ:</p>
<!-- CAN'T EXTRACT SEE BUG https://github.com/rust-lang/mdBook/issues/1127 -->
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[derive(Debug,Copy,Clone)]
</span><span class="boring">struct Point {
</span><span class="boring">    x: f64,
</span><span class="boring">    y: f64,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Point {
</span><span class="boring">   fn distance(&amp;self, other: &amp;Point) -&gt; f64 {
</span><span class="boring">       let x_squared = f64::powi(other.x - self.x, 2);
</span><span class="boring">       let y_squared = f64::powi(other.y - self.y, 2);
</span><span class="boring">
</span><span class="boring">       f64::sqrt(x_squared + y_squared)
</span><span class="boring">   }
</span><span class="boring">}
</span><span class="boring">let p1 = Point { x: 0.0, y: 0.0 };
</span><span class="boring">let p2 = Point { x: 5.0, y: 6.5 };
</span>p1.distance(&amp;p2);
(&amp;p1).distance(&amp;p2);
<span class="boring">}</span></code></pre></pre>
<p>ุงููู ููุฑุฏ ุฎู ุชูุฒุชุฑ ุจู ูุธุฑ ูโุฑุณุฏ. ุงู ุฑูุชุงุฑ ุงุฑุฌุงุนโุฏู ุฎูุฏฺฉุงุฑ ฺฉุงุฑ ูโฺฉูุฏ ุฒุฑุง ูุชุฏูุง ฺฉ ฺฏุฑูุฏู ูุงุถุญ ุฏุงุฑูุฏโููุน <code>self</code>. ุจุง ุชูุฌู ุจู ฺฏุฑูุฏู ู ูุงู ฺฉ ูุชุฏุ Rust ูโุชูุงูุฏ ุจู ุทูุฑ ูุทุน ุชุนู ฺฉูุฏ ฺฉู ุขุง ูุชุฏ ุฏุฑ ุญุงู ุฎูุงูุฏู (<code>&amp;self</code>)ุ ุชุบุฑ (<code>&amp;mut self</code>) ุง ูุตุฑู (<code>self</code>) ุงุณุช. ุงู ูุงูุนุช ฺฉู Rust ูุฑุถโฺฏุฑ ุฑุง ุจุฑุง ฺฏุฑูุฏูโูุง ูุชุฏ ุถูู ูโฺฉูุฏุ ุจุฎุด ุจุฒุฑฺฏ ุงุฒ ุฑุงุญุช ฺฉุงุฑ ุจุง ูุงูฺฉุช ุฏุฑ ุนูู ุงุณุช.</p>
</section>
<h3 id="ูุชุฏูุง-ุจุง-ูพุงุฑุงูุชุฑูุง-ุจุดุชุฑ"><a class="header" href="#ูุชุฏูุง-ุจุง-ูพุงุฑุงูุชุฑูุง-ุจุดุชุฑ">ูุชุฏูุง ุจุง ูพุงุฑุงูุชุฑูุง ุจุดุชุฑ</a></h3>
<p>ุจุงุฏ ุจุง ุชุนุฑู ฺฉ ูุชุฏ ุฏฺฏุฑ ุฑู ุณุงุฎุชุงุฑ <code>Rectangle</code> ุชูุฑู ฺฉูู. ุงู ุจุงุฑ ูโุฎูุงูู ฺฉ ููููู ุงุฒ <code>Rectangle</code> ููููู ุฏฺฏุฑ ุงุฒ <code>Rectangle</code> ุฑุง ุจฺฏุฑุฏ ู ููุฏุงุฑ <code>true</code> ุจุฑฺฏุฑุฏุงูุฏ ุงฺฏุฑ <code>Rectangle</code> ุฏูู ฺฉุงููุงู ุฏุฑ <code>self</code> (ุงููู <code>Rectangle</code>) ุฌุง ฺฏุฑุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููุฏุงุฑ <code>false</code> ุจุฑฺฏุฑุฏุงูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูพุณ ุงุฒ ุชุนุฑู ูุชุฏ <code>can_hold</code>ุ ูโุฎูุงูู ุจุชูุงูู ุจุฑูุงููโุง ุจููุณู ฺฉู ุฏุฑ ูุณุช ต-ฑด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };
    let rect2 = Rectangle {
        width: 10,
        height: 40,
    };
    let rect3 = Rectangle {
        width: 60,
        height: 45,
    };

    println!("Can rect1 hold rect2? {}", rect1.can_hold(&amp;rect2));
    println!("Can rect1 hold rect3? {}", rect1.can_hold(&amp;rect3));
}</code></pre>
<figcaption>Listing 5-14: ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>can_hold</code> ฺฉู ูููุฒ ููุดุชู ูุดุฏู ุงุณุช</figcaption>
</figure>
<p>ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ ุจู ุตูุฑุช ุฒุฑ ุฎูุงูุฏ ุจูุฏ ุฒุฑุง ูุฑ ุฏู ุจูุนุฏ <code>rect2</code> ฺฉูฺฺฉุชุฑ ุงุฒ ุงุจุนุงุฏ <code>rect1</code> ูุณุชูุฏุ ุงูุง <code>rect3</code> ุงุฒ <code>rect1</code> ุนุฑุถโุชุฑ ุงุณุช:</p>
<pre><code class="language-text">Can rect1 hold rect2? true
Can rect1 hold rect3? false
</code></pre>
<p>ูุง ูโุฏุงูู ฺฉู ูโุฎูุงูู ฺฉ ูุชุฏ ุชุนุฑู ฺฉููุ ุจูุงุจุฑุงู ุงู ูุชุฏ ุฏุฑ ุจููฺฉ <code>impl Rectangle</code> ุฎูุงูุฏ ุจูุฏ. ูุงู ูุชุฏ <code>can_hold</code> ุฎูุงูุฏ ุจูุฏ ู ฺฉ ูุฑุถ ุบุฑูุงุจู ุชุบุฑ ุงุฒ ฺฉ <code>Rectangle</code> ุฏฺฏุฑ ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุฎูุงูุฏ ฺฏุฑูุช. ูโุชูุงูู ููุน ูพุงุฑุงูุชุฑ ุฑุง ุจุง ูฺฏุงู ุจู ฺฉุฏ ฺฉู ูุชุฏ ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุดุฎุต ุฏูู: <code>rect1.can_hold(&amp;rect2)</code> ููุฏุงุฑ <code>&amp;rect2</code> ุฑุง ุงุฑุณุงู ูโฺฉูุฏุ ฺฉู ฺฉ ูุฑุถ ุบุฑูุงุจู ุชุบุฑ ุจู <code>rect2</code>ุ ฺฉ ููููู ุงุฒ <code>Rectangle</code> ุงุณุช. ุงู ููุทู ุงุณุช ุฒุฑุง ูุง ููุท ูุงุฒ ุจู ุฎูุงูุฏู <code>rect2</code> ุฏุงุฑู (ูู ููุดุชูุ ฺฉู ุจู ฺฉ ูุฑุถ ูุงุจู ุชุบุฑ ูุงุฒ ุฏุงุดุช) ู ูโุฎูุงูู ูุงูฺฉุช <code>rect2</code> ุฏุฑ <code>main</code> ุจุงู ุจูุงูุฏ ุชุง ุจุชูุงูู ูพุณ ุงุฒ ูุฑุงุฎูุงู ูุชุฏ <code>can_hold</code> ุฏูุจุงุฑู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู. ููุฏุงุฑ ุจุงุฒฺฏุดุช <code>can_hold</code> ฺฉ ููุฏุงุฑ ุจูู ุฎูุงูุฏ ุจูุฏ ู ูพุงุฏูโุณุงุฒ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ุนุฑุถ ู ุงุฑุชูุงุน <code>self</code> ุจู ุชุฑุชุจ ุจุฒุฑฺฏโุชุฑ ุงุฒ ุนุฑุถ ู ุงุฑุชูุงุน <code>Rectangle</code> ุฏฺฏุฑ ูุณุชูุฏ. ุจุงุฏ ูุชุฏ ุฌุฏุฏ <code>can_hold</code> ุฑุง ุจู ุจููฺฉ <code>impl</code> ุงุฒ ูุณุช ต-ฑณ ุงุถุงูู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ฑต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span>impl Rectangle {
    fn area(&amp;self) -&gt; u32 {
        self.width * self.height
    }

    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {
        self.width &gt; other.width &amp;&amp; self.height &gt; other.height
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let rect1 = Rectangle {
</span><span class="boring">        width: 30,
</span><span class="boring">        height: 50,
</span><span class="boring">    };
</span><span class="boring">    let rect2 = Rectangle {
</span><span class="boring">        width: 10,
</span><span class="boring">        height: 40,
</span><span class="boring">    };
</span><span class="boring">    let rect3 = Rectangle {
</span><span class="boring">        width: 60,
</span><span class="boring">        height: 45,
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    println!("Can rect1 hold rect2? {}", rect1.can_hold(&amp;rect2));
</span><span class="boring">    println!("Can rect1 hold rect3? {}", rect1.can_hold(&amp;rect3));
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 5-15: ูพุงุฏูโุณุงุฒ ูุชุฏ <code>can_hold</code> ุฑู <code>Rectangle</code> ฺฉู ฺฉ ููููู ุฏฺฏุฑ ุงุฒ <code>Rectangle</code> ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ</figcaption>
</figure>
<p>Here is the continuation of the translation for <strong>โch05-03-method-syntax.mdโ</strong> into Persian:</p>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุจุง ุชุงุจุน <code>main</code> ููุฌูุฏ ุฏุฑ ูุณุช ต-ฑด ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ุฏูุฎูุงู ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ. ูุชุฏูุง ูโุชูุงููุฏ ฺูุฏู ูพุงุฑุงูุชุฑ ุจฺฏุฑูุฏ ฺฉู ูุง ุขูโูุง ุฑุง ูพุณ ุงุฒ ูพุงุฑุงูุชุฑ <code>self</code> ุจู ุงูุถุง ุงุถุงูู ูโฺฉููุ ู ุงู ูพุงุฑุงูุชุฑูุง ููุงููุฏ ูพุงุฑุงูุชุฑูุง ุชูุงุจุน ุนูู ูโฺฉููุฏ.</p>
<h3 id="ุชูุงุจุน-ูุฑุชุจุท"><a class="header" href="#ุชูุงุจุน-ูุฑุชุจุท">ุชูุงุจุน ูุฑุชุจุท</a></h3>
<p>ุชูุงู ุชูุงุจุน ฺฉู ุฏุฑ ฺฉ ุจููฺฉ <code>impl</code> ุชุนุฑู ุดุฏูโุงูุฏ <em>ุชูุงุจุน ูุฑุชุจุท</em> ูุงูุฏู ูโุดููุฏุ ุฒุฑุง ุจุง ููุน ฺฉู ุจุนุฏ ุงุฒ <code>impl</code> ูุงูโฺฏุฐุงุฑ ุดุฏู ุงุณุชุ ูุฑุชุจุท ูุณุชูุฏ. ูุง ูโุชูุงูู ุชูุงุจุน ูุฑุชุจุท ุฑุง ุชุนุฑู ฺฉูู ฺฉู <code>self</code> ุฑุง ุจู ุนููุงู ุงููู ูพุงุฑุงูุชุฑ ุฎูุฏ ูุฏุงุฑูุฏ (ู ุจูุงุจุฑุงู ูุชุฏ ูุณุชูุฏ) ุฒุฑุง ูุงุฒ ุจู ฺฉุงุฑ ุจุง ฺฉ ููููู ุงุฒ ููุน ูุฏุงุฑูุฏ. ูุง ูุจูุงู ุงุฒ ฺฉ ุชุงุจุน ูุดุงุจู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู: ุชุงุจุน <code>String::from</code> ฺฉู ุฑู ููุน <code>String</code> ุชุนุฑู ุดุฏู ุงุณุช.</p>
<p>ุชูุงุจุน ูุฑุชุจุท ฺฉู ูุชุฏ ูุณุชูุฏ ุงุบูุจ ุจุฑุง ุณุงุฒูุฏูโูุง ุงุณุชูุงุฏู ูโุดููุฏ ฺฉู ููููู ุฌุฏุฏ ุงุฒ ุณุงุฎุชุงุฑ ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ. ุงู ุชูุงุจุน ูุนูููุงู <code>new</code> ูุงูุฏู ูโุดููุฏุ ุงูุง <code>new</code> ฺฉ ูุงู ุฎุงุต ูุณุช ู ุฏุฑ ุฒุจุงู ุจู ุตูุฑุช ุฏุงุฎู ุชุนุฑู ูุดุฏู ุงุณุช. ุจุฑุง ูุซุงูุ ูุง ูโุชูุงูู ุชุตูู ุจฺฏุฑู ุชุงุจุน ูุฑุชุจุท ุจู ูุงู <code>square</code> ุงุฑุงุฆู ุฏูู ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุจุฑุง ุงุจุนุงุฏ ุจฺฏุฑุฏ ู ุงุฒ ุขู ุจู ุนููุงู ุนุฑุถ ู ุงุฑุชูุงุน ุงุณุชูุงุฏู ฺฉูุฏุ ุจูุงุจุฑุงู ุงุฌุงุฏ ฺฉ <code>Rectangle</code> ูุฑุจุน ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ ุจู ุฌุง ุงูฺฉู ูุฌุจูุฑ ุจุงุดู ููุฏุงุฑ ฺฉุณุงู ุฑุง ุฏู ุจุงุฑ ูุดุฎุต ฺฉูู:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span>impl Rectangle {
    fn square(size: u32) -&gt; Self {
        Self {
            width: size,
            height: size,
        }
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let sq = Rectangle::square(3);
</span><span class="boring">}</span></code></pre></pre>
<p>ฺฉููุงุช ฺฉูุฏ <code>Self</code> ุฏุฑ ููุน ุจุงุฒฺฏุดุช ู ุฏุฑ ุจุฏูู ุชุงุจุนุ ูุงู ูุณุชุนุงุฑ ุจุฑุง ููุน ูุณุชูุฏ ฺฉู ุจุนุฏ ุงุฒ ฺฉููู ฺฉูุฏ <code>impl</code> ุธุงูุฑ ูโุดูุฏุ ฺฉู ุฏุฑ ุงูุฌุง <code>Rectangle</code> ุงุณุช.</p>
<p>ุจุฑุง ูุฑุงุฎูุงู ุงู ุชุงุจุน ูุฑุชุจุทุ ุงุฒ ูุญู <code>::</code> ููุฑุงู ุจุง ูุงู ุณุงุฎุชุงุฑ ุงุณุชูุงุฏู ูโฺฉููุ ุจุฑุง ูุซุงู: <code>let sq = Rectangle::square(3);</code>. ุงู ุชุงุจุน ุจุง ุณุงุฎุชุงุฑ ูุถุง ูุงูโฺฏุฐุงุฑ ุดุฏู ุงุณุช: ูุญู <code>::</code> ุจุฑุง ุชูุงุจุน ูุฑุชุจุท ู ูุถุง ูุงูโูุง ุงุฌุงุฏ ุดุฏู ุชูุณุท ูุงฺููโูุง ุงุณุชูุงุฏู ูโุดูุฏ. ูุง ูุงฺููโูุง ุฑุง ุฏุฑ <a href="ch07-02-defining-modules-to-control-scope-and-privacy.html">ูุตู ท</a><!-- ignore --> ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุจููฺฉูุง-ูุชุนุฏุฏ-impl"><a class="header" href="#ุจููฺฉูุง-ูุชุนุฏุฏ-impl">ุจููฺฉโูุง ูุชุนุฏุฏ <code>impl</code></a></h3>
<p>ูุฑ ุณุงุฎุชุงุฑ ุงุฌุงุฒู ุฏุงุฑุฏ ฺูุฏู ุจููฺฉ <code>impl</code> ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ูุซุงูุ ูุณุช ต-ฑต ูุนุงุฏู ฺฉุฏ ุงุณุช ฺฉู ุฏุฑ ูุณุช ต-ฑถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ฺฉู ูุฑ ูุชุฏ ุฏุฑ ุจููฺฉ <code>impl</code> ุฎูุฏ ูุฑุงุฑ ุฏุงุฑุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span>impl Rectangle {
    fn area(&amp;self) -&gt; u32 {
        self.width * self.height
    }
}

impl Rectangle {
    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {
        self.width &gt; other.width &amp;&amp; self.height &gt; other.height
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let rect1 = Rectangle {
</span><span class="boring">        width: 30,
</span><span class="boring">        height: 50,
</span><span class="boring">    };
</span><span class="boring">    let rect2 = Rectangle {
</span><span class="boring">        width: 10,
</span><span class="boring">        height: 40,
</span><span class="boring">    };
</span><span class="boring">    let rect3 = Rectangle {
</span><span class="boring">        width: 60,
</span><span class="boring">        height: 45,
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    println!("Can rect1 hold rect2? {}", rect1.can_hold(&amp;rect2));
</span><span class="boring">    println!("Can rect1 hold rect3? {}", rect1.can_hold(&amp;rect3));
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 5-16: ุจุงุฒููุณ ูุณุช ต-ฑต ุจุง ุงุณุชูุงุฏู ุงุฒ ุจููฺฉโูุง ูุชุนุฏุฏ <code>impl</code></figcaption>
</figure>
<p>ูฺ ุฏูู ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุงู ูุชุฏูุง ุจู ุจููฺฉโูุง ูุชุนุฏุฏ <code>impl</code> ุฏุฑ ุงูุฌุง ูุฌูุฏ ูุฏุงุฑุฏุ ุงูุง ุงู ฺฉ ูุญู ูุนุชุจุฑ ุงุณุช. ูุง ุฏุฑ ูุตู ฑฐ ููุฑุฏ ุฑุง ุฎูุงูู ุฏุฏ ฺฉู ุฏุฑ ุขู ุจููฺฉโูุง ูุชุนุฏุฏ <code>impl</code> ููุฏ ูุณุชูุฏุ ุฌุง ฺฉู ูุง ููุนโูุง ุนููู ู ูฺฺฏโูุง ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h2 id="ุฎูุงุตู-4"><a class="header" href="#ุฎูุงุตู-4">ุฎูุงุตู</a></h2>
<p>ุณุงุฎุชุงุฑูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุชุง ููุนโูุง ุณูุงุฑุด ุงุฌุงุฏ ฺฉูุฏ ฺฉู ุจุฑุง ุญูุฒู ฺฉุงุฑ ุดูุง ูุนูุงุฏุงุฑ ุจุงุดูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑูุงุ ูโุชูุงูุฏ ูุทุนุงุช ุฏุงุฏูโุง ูุฑุชุจุท ุฑุง ุจู ูู ูุชุตู ฺฉูุฏ ู ุจุฑุง ูุฑ ูุทุนู ูุงู ุชุนู ฺฉูุฏ ุชุง ฺฉุฏ ุดูุง ุดูุงู ุดูุฏ. ุฏุฑ ุจููฺฉโูุง <code>impl</code>ุ ุดูุง ูโุชูุงูุฏ ุชูุงุจุน ุฑุง ุชุนุฑู ฺฉูุฏ ฺฉู ุจุง ููุน ุดูุง ูุฑุชุจุท ูุณุชูุฏุ ู ูุชุฏูุง ููุน ุงุฒ ุชูุงุจุน ูุฑุชุจุท ูุณุชูุฏ ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุฑูุชุงุฑ ูููููโูุง ุณุงุฎุชุงุฑูุงุชุงู ุฑุง ูุดุฎุต ฺฉูุฏ.</p>
<p>ุงูุง ุณุงุฎุชุงุฑูุง ุชููุง ุฑุงู ุงุฌุงุฏ ููุนโูุง ุณูุงุฑุด ูุณุชูุฏ: ุจุงุฏ ุจู ูฺฺฏ Enum ุฏุฑ Rust ุจูพุฑุฏุงุฒู ุชุง ุงุจุฒุงุฑ ุฏฺฏุฑ ุจู ุฌุนุจู ุงุจุฒุงุฑ ุดูุง ุงุถุงูู ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุดูุงุฑูุฏููุง-ู-ุชุทุงุจู-ุงูฺฏู"><a class="header" href="#ุดูุงุฑูุฏููุง-ู-ุชุทุงุจู-ุงูฺฏู">ุดูุงุฑูุฏูโูุง ู ุชุทุงุจู ุงูฺฏู</a></h1>
<p>ุฏุฑ ุงู ูุตูุ ุจู <em>ุดูุงุฑูุฏูโูุง</em> ฺฉู ููฺูู ุจู ุนููุงู <em>enums</em> ุดูุงุฎุชู ูโุดููุฏุ ูโูพุฑุฏุงุฒู. ุดูุงุฑูุฏูโูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ
ฺฉ ููุน ุฑุง ุจุง ุดูุฑุฏู <em>ููุงุฏุฑ ููฺฉู</em> ุขู ุชุนุฑู ฺฉูุฏ. ุงุจุชุฏุงุ ฺฉ ุดูุงุฑูุฏู ุชุนุฑู ฺฉุฑุฏู ู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉูู ุชุง ูุดุงู ุฏูู ฺฺฏููู
ุดูุงุฑูุฏู ูโุชูุงูุฏ ูุนู ุฑุง ููุฑุงู ุจุง ุฏุงุฏู ฺฉุฏฺฏุฐุงุฑ ฺฉูุฏ. ุณูพุณุ ุจู ุดูุงุฑูุฏูโุง ุจุณุงุฑ ููุฏ ุจู ูุงู <code>Option</code> ุฎูุงูู ูพุฑุฏุงุฎุช ฺฉู
ุจุงู ูโฺฉูุฏ ฺฉ ููุฏุงุฑ ูโุชูุงูุฏ <em>ฺุฒ</em> ุจุงุดุฏ ุง <em>ูฺ ฺุฒ</em>. ุจุนุฏุ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ุชุทุงุจู ุงูฺฏู ุฏุฑ ุนุจุงุฑุช <code>match</code>
ุจุงุนุซ ูโุดูุฏ ุงุฌุฑุง ฺฉุฏ ูุฎุชูู ุจุฑุง ููุงุฏุฑ ูุฎุชูู ฺฉ ุดูุงุฑูุฏู ุขุณุงู ุดูุฏ. ุฏุฑ ููุงุชุ ูพูุดุด ุฎูุงูู ุฏุงุฏ ฺฉู ุณุงุฎุชุงุฑ <code>if let</code> ฺฺฏููู
ุงุฏูโุขู ู ูุฎุชุตุฑ ุจุฑุง ูุฏุฑุช ุดูุงุฑูุฏูโูุง ุฏุฑ ฺฉุฏ ุดูุง ุงุณุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชุนุฑู-ฺฉ-enum"><a class="header" href="#ุชุนุฑู-ฺฉ-enum">ุชุนุฑู ฺฉ Enum</a></h2>
<p>ุฏุฑ ุญุงู ฺฉู ุณุงุฎุชุงุฑูุง (Structs) ุฑูุด ุจุฑุง ฺฏุฑููโุจูุฏ ููุฏูุง ู ุฏุงุฏูโูุง ูุฑุชุจุท ูุฑุงูู ูโฺฉููุฏุ Enumูุง ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ ฺฉู ุจฺฏูุฏ ฺฉ ููุฏุงุฑ ฺฉ ุงุฒ ูุฌููุนู ููุงุฏุฑ ููฺฉู ุงุณุช. ุจู ุนููุงู ูุซุงูุ ููฺฉู ุงุณุช ุจุฎูุงูู ุจฺฏูู ฺฉู <code>Rectangle</code> ฺฉ ุงุฒ ูุฌููุนู ุงุดฺฉุงู ุงุณุช ฺฉู ููฺูู ุดุงูู <code>Circle</code> ู <code>Triangle</code> ูโุดูุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ุฒุจุงู Rust ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุงู ุงูฺฉุงูโูุง ุฑุง ุจูโุนููุงู ฺฉ Enum ฺฉุฏฺฏุฐุงุฑ ฺฉูู.</p>
<p>ุจุงุฏ ูฺฏุงู ุจู ฺฉ ูููุนุช ุจูุฏุงุฒู ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูู ุฏุฑ ฺฉุฏ ุจุงู ฺฉูู ู ุจุจูู ฺุฑุง Enumูุง ููุฏุชุฑ ู ููุงุณุจโุชุฑ ุงุฒ Structูุง ูุณุชูุฏ. ูุฑุถ ฺฉูุฏ ุจุงุฏ ุจุง ุขุฏุฑุณโูุง IP ฺฉุงุฑ ฺฉูู. ุฏุฑ ุญุงู ุญุงุถุฑุ ุฏู ุงุณุชุงูุฏุงุฑุฏ ุงุตู ุจุฑุง ุขุฏุฑุณโูุง IP ูุฌูุฏ ุฏุงุฑุฏ: ูุณุฎู ฺูุงุฑ ู ูุณุฎู ุดุด. ุงุฒ ุขูุฌุง ฺฉู ุงู ุชููุง ุญุงูุชโูุง ููฺฉู ุจุฑุง ุขุฏุฑุณโูุง IP ูุณุชูุฏ ฺฉู ุจุฑูุงูู ูุง ุจุง ุขูโูุง ููุงุฌู ุฎูุงูุฏ ุดุฏุ ูโุชูุงูู ุชูุงู ุญุงูุชโูุง ููฺฉู ุฑุง ุดูุงุฑุด ฺฉููุ ฺฉู ููู ููุถูุน ุงุณุงุณ ูุงูโฺฏุฐุงุฑ Enumูุง ุงุณุช.</p>
<p>ูุฑ ุขุฏุฑุณ IP ูโุชูุงูุฏ ุง ูุณุฎู ฺูุงุฑ ุง ูุณุฎู ุดุด ุจุงุดุฏุ ุงูุง ููโุชูุงูุฏ ุจูโุทูุฑ ููุฒูุงู ูุฑ ุฏู ุจุงุดุฏ. ุงู ูฺฺฏ ุขุฏุฑุณโูุง IP ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฏู Enum ุฑุง ููุงุณุจ ูโฺฉูุฏ ุฒุฑุง ููุฏุงุฑ ฺฉ Enum ูโุชูุงูุฏ ููุท ฺฉ ุงุฒ ุญุงูุชโูุงุด ุจุงุดุฏ. ูุฑ ุฏู ุขุฏุฑุณ ูุณุฎู ฺูุงุฑ ู ูุณุฎู ุดุด ููฺูุงู ุงุณุงุณุงู ุขุฏุฑุณ IP ูุณุชูุฏุ ุจูุงุจุฑุงู ุจุงุฏ ููฺฏุงู ฺฉุงุฑ ุจุง ฺฉุฏ ฺฉู ุจู ูุฑ ููุน ุขุฏุฑุณ IP ุงุนูุงู ูโุดูุฏุ ุจูโุนููุงู ฺฉ ููุน ฺฉุณุงู ุฑูุชุงุฑ ุดููุฏ.</p>
<p>ูุง ูโุชูุงูู ุงู ููููู ุฑุง ุฏุฑ ฺฉุฏ ุจุง ุชุนุฑู ฺฉ Enumeration ุจู ูุงู <code>IpAddrKind</code> ู ููุฑุณุช ฺฉุฑุฏู ุงููุงุน ููฺฉู ฺฉ ุขุฏุฑุณ IPุ ุนู <code>V4</code> ู <code>V6</code>ุ ุจุงู ฺฉูู. ุงูโูุง ุญุงูุชโูุง Enum ูุณุชูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021">enum IpAddrKind {
    V4,
    V6,
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let four = IpAddrKind::V4;
</span><span class="boring">    let six = IpAddrKind::V6;
</span><span class="boring">
</span><span class="boring">    route(IpAddrKind::V4);
</span><span class="boring">    route(IpAddrKind::V6);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn route(ip_kind: IpAddrKind) {}</span></code></pre></pre>
<p>ุงฺฉููู <code>IpAddrKind</code> ฺฉ ููุน ุฏุงุฏู ุณูุงุฑุด ุงุณุช ฺฉู ูโุชูุงูู ุฏุฑ ูุณูุชโูุง ุฏฺฏุฑ ฺฉุฏ ุฎูุฏ ุงุณุชูุงุฏู ฺฉูู.</p>
<h3 id="ููุงุฏุฑ-enum"><a class="header" href="#ููุงุฏุฑ-enum">ููุงุฏุฑ Enum</a></h3>
<p>ูโุชูุงูู ูููููโูุง ุงุฒ ูุฑ ฺฉ ุงุฒ ุฏู ุญุงูุช <code>IpAddrKind</code> ุฑุง ุจู ุงู ุตูุฑุช ุงุฌุงุฏ ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">enum IpAddrKind {
</span><span class="boring">    V4,
</span><span class="boring">    V6,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span>    let four = IpAddrKind::V4;
    let six = IpAddrKind::V6;
<span class="boring">
</span><span class="boring">    route(IpAddrKind::V4);
</span><span class="boring">    route(IpAddrKind::V6);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn route(ip_kind: IpAddrKind) {}</span></code></pre></pre>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุญุงูุชโูุง Enum ุชุญุช ุดูุงุณู ุขู ูุงูโฺฏุฐุงุฑ ุดุฏูโุงูุฏ ู ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฏู ุญุงูุช ุงุฒ ฺฉุฏฺฏุฑ ุงุฒ ุฏู ููุทู ุงุณุชูุงุฏู ูโฺฉูู. ุงู ูฺฺฏ ููุฏ ุงุณุช ุฒุฑุง ุงฺฉููู ูุฑ ุฏู ููุฏุงุฑ <code>IpAddrKind::V4</code> ู <code>IpAddrKind::V6</code> ุงุฒ ููุน ฺฉุณุงู <code>IpAddrKind</code> ูุณุชูุฏ. ุณูพุณ ูโุชูุงูู ุจู ุนููุงู ูุซุงู ฺฉ ุชุงุจุน ุชุนุฑู ฺฉูู ฺฉู ูุฑ ููุน <code>IpAddrKind</code> ุฑุง ุจู ุนููุงู ูุฑูุฏ ุจูพุฐุฑุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">enum IpAddrKind {
</span><span class="boring">    V4,
</span><span class="boring">    V6,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let four = IpAddrKind::V4;
</span><span class="boring">    let six = IpAddrKind::V6;
</span><span class="boring">
</span><span class="boring">    route(IpAddrKind::V4);
</span><span class="boring">    route(IpAddrKind::V6);
</span><span class="boring">}
</span><span class="boring">
</span>fn route(ip_kind: IpAddrKind) {}</code></pre></pre>
<p>ู ูโุชูุงูู ุงู ุชุงุจุน ุฑุง ุจุง ูุฑ ุฏู ุญุงูุช ูุฑุงุฎูุงู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">enum IpAddrKind {
</span><span class="boring">    V4,
</span><span class="boring">    V6,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let four = IpAddrKind::V4;
</span><span class="boring">    let six = IpAddrKind::V6;
</span><span class="boring">
</span>    route(IpAddrKind::V4);
    route(IpAddrKind::V6);
<span class="boring">}
</span><span class="boring">
</span><span class="boring">fn route(ip_kind: IpAddrKind) {}</span></code></pre></pre>
<p>ุงุณุชูุงุฏู ุงุฒ Enumูุง ูุฒุงุง ุจุดุชุฑ ุฏุงุฑุฏ. ุงฺฏุฑ ุจุดุชุฑ ุจู ููุน ุขุฏุฑุณ IP ุฎูุฏ ูฺฉุฑ ฺฉููุ ูุชูุฌู ูโุดูู ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุฑุงู ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ูุงูุน ุขุฏุฑุณ IP ูุฏุงุฑูุ ููุท ูโุฏุงูู ฺฉู ฺู ููุน ุงุณุช. ุจุง ุชูุฌู ุจู ุงูฺฉู ุจูโุชุงุฒฺฏ ุฏุฑุจุงุฑู Structูุง ุฏุฑ ูุตู 5 ุงุฏ ฺฏุฑูุชูโุงุฏุ ููฺฉู ุงุณุช ูุณูุณู ุดูุฏ ุงู ูุดฺฉู ุฑุง ุจุง Structูุง ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 6-1 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุญู ฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    enum IpAddrKind {
        V4,
        V6,
    }

    struct IpAddr {
        kind: IpAddrKind,
        address: String,
    }

    let home = IpAddr {
        kind: IpAddrKind::V4,
        address: String::from("127.0.0.1"),
    };

    let loopback = IpAddr {
        kind: IpAddrKind::V6,
        address: String::from("::1"),
    };
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 6-1: ุฐุฎุฑู ุฏุงุฏูโูุง ู ุญุงูุช <code>IpAddrKind</code> ฺฉ ุขุฏุฑุณ IP ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ <code>struct</code></figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุง ูุง ฺฉ Struct ุจู ูุงู <code>IpAddr</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ุฏู ููุฏ ุฏุงุฑุฏ: ฺฉ ููุฏ <code>kind</code> ฺฉู ุงุฒ ููุน <code>IpAddrKind</code> ุงุณุช (ููุงู Enum ฺฉู ูุจูุงู ุชุนุฑู ฺฉุฑุฏู) ู ฺฉ ููุฏ <code>address</code> ุงุฒ ููุน <code>String</code>. ูุง ุฏู ููููู ุงุฒ ุงู Struct ุฏุงุฑู. ุงููู ููุฑุฏ <code>home</code> ูุงู ุฏุงุฑุฏ ู ููุฏุงุฑ <code>IpAddrKind::V4</code> ุจูโุนููุงู <code>kind</code> ุจุง ุฏุงุฏูโูุง ุขุฏุฑุณ ูุฑุชุจุท <code>127.0.0.1</code> ุฏุงุฑุฏ. ููููู ุฏูู <code>loopback</code> ูุงู ุฏุงุฑุฏ. ุงู ููููู ุญุงูุช ุฏฺฏุฑ Enum ุนู <code>V6</code> ุฑุง ุจูโุนููุงู ููุฏุงุฑ <code>kind</code> ุฏุงุฑุฏ ู ุขุฏุฑุณ ูุฑุชุจุท <code>::1</code> ุงุณุช. ูุง ุงุฒ ฺฉ Struct ุจุฑุง ุจุณุชูโุจูุฏ ููุงุฏุฑ <code>kind</code> ู <code>address</code> ุจุง ูู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุจูุงุจุฑุงู ุงฺฉููู ุญุงูุช ุจุง ููุฏุงุฑ ูุฑุชุจุท ุดุฏู ุงุณุช.</p>
<p>ุจุง ุงู ุญุงูุ ููุงุด ููุงู ููููู ุจุง ุงุณุชูุงุฏู ุงุฒ ููุท ฺฉ Enum ูุฎุชุตุฑุชุฑ ุงุณุช: ุจูโุฌุง ุงุณุชูุงุฏู ุงุฒ Enum ุฏุงุฎู ฺฉ Structุ ูโุชูุงูู ุฏุงุฏูโูุง ุฑุง ูุณุชููุงู ุจู ูุฑ ุญุงูุช Enum ูุชุตู ฺฉูู. ุงู ุชุนุฑู ุฌุฏุฏ Enum <code>IpAddr</code> ูุดุงู ูโุฏูุฏ ฺฉู ูุฑ ุฏู ุญุงูุช <code>V4</code> ู <code>V6</code> ููุงุฏุฑ <code>String</code> ูุฑุชุจุท ุฏุงุฑูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    enum IpAddr {
        V4(String),
        V6(String),
    }

    let home = IpAddr::V4(String::from("127.0.0.1"));

    let loopback = IpAddr::V6(String::from("::1"));
<span class="boring">}</span></code></pre></pre>
<p>ูุง ุฏุงุฏูโูุง ุฑุง ูุณุชููุงู ุจู ูุฑ ุญุงูุช Enum ูุชุตู ฺฉุฑุฏูโุงูุ ุจูุงุจุฑุงู ูุงุฒ ุจู ฺฉ Struct ุงุถุงู ูุณุช. ุฏุฑ ุงูุฌุง ููฺูู ูโุชูุงู ุฌุฒุฆุงุช ุฏฺฏุฑ ุงุฒ ูุญูู ุนููฺฉุฑุฏ Enumูุง ุฑุง ูุดุงูุฏู ฺฉุฑุฏ: ูุงู ูุฑ ุญุงูุช Enum ฺฉู ุชุนุฑู ูโฺฉูู ุจูโุตูุฑุช ฺฉ ุชุงุจุน ุชุจุฏู ูโุดูุฏ ฺฉู ูููููโุง ุงุฒ Enum ุงุฌุงุฏ ูโฺฉูุฏ. ุนู <code>IpAddr::V4()</code> ฺฉ ูุฑุงุฎูุงู ุชุงุจุน ุงุณุช ฺฉู ฺฉ ุขุฑฺฏููุงู ุงุฒ ููุน <code>String</code> ูโฺฏุฑุฏ ู ูููููโุง ุงุฒ ููุน <code>IpAddr</code> ุจุฑูโฺฏุฑุฏุงูุฏ. ุงู ุชุงุจุน ุณุงุฒูุฏู ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุจูโุนููุงู ูุชุฌู ุชุนุฑู Enum ุชุนุฑู ูโุดูุฏ.</p>
<p>ฺฉ ูุฒุช ุฏฺฏุฑ ุงุณุชูุงุฏู ุงุฒ Enum ุจูโุฌุง Struct ุงู ุงุณุช ฺฉู ูุฑ ุญุงูุช ูโุชูุงูุฏ ุงููุงุน ู ููุงุฏุฑ ุฏุงุฏู ูุฑุชุจุท ูุชูุงูุช ุฏุงุดุชู ุจุงุดุฏ. ุขุฏุฑุณโูุง IP ูุณุฎู ฺูุงุฑ ููุดู ฺูุงุฑ ูุคููู ุนุฏุฏ ุฎูุงููุฏ ุฏุงุดุช ฺฉู ููุงุฏุฑุดุงู ุจู 0 ู 255 ุงุณุช. ุงฺฏุฑ ุจุฎูุงูู ุขุฏุฑุณโูุง <code>V4</code> ุฑุง ุจูโุตูุฑุช ฺูุงุฑ ููุฏุงุฑ <code>u8</code> ุฐุฎุฑู ฺฉูู ุงูุง ููฺูุงู ุขุฏุฑุณโูุง <code>V6</code> ุฑุง ุจูโุตูุฑุช ฺฉ ููุฏุงุฑ <code>String</code> ุจุงู ฺฉููุ ุจุง ฺฉ Struct ููโุชูุงูู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู. Enumูุง ุจูโุฑุงุญุช ุงู ุญุงูุช ุฑุง ูุฏุฑุช ูโฺฉููุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    enum IpAddr {
        V4(u8, u8, u8, u8),
        V6(String),
    }

    let home = IpAddr::V4(127, 0, 0, 1);

    let loopback = IpAddr::V6(String::from("::1"));
<span class="boring">}</span></code></pre></pre>
<p>ูุง ฺูุฏู ุฑูุด ูุฎุชูู ุจุฑุง ุชุนุฑู ุณุงุฎุชุงุฑูุง ุฏุงุฏู ุจุฑุง ุฐุฎุฑู ุขุฏุฑุณโูุง IP ูุณุฎู ฺูุงุฑ ู ูุณุฎู ุดุด ูุดุงู ุฏุงุฏูโุงู. ุจุง ุงู ุญุงูุ ููุงูโุทูุฑ ฺฉู ูุดุฎุต ุงุณุชุ ุฐุฎุฑู ุขุฏุฑุณโูุง IP ู ฺฉุฏฺฏุฐุงุฑ ููุน ุขูโูุง ุจูโูุฏุฑ ุฑุงุฌ ุงุณุช ฺฉู <a href="https://doc.rust-lang.org/std/net/enum.IpAddr.html">ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุจุฑุง ุงู ฺฉุงุฑ ุงุฑุงุฆู ูโุฏูุฏ!</a><!-- ignore --> ุจุงุฏ ูฺฏุงู ุจู ูุญูู ุชุนุฑู <code>IpAddr</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจูุฏุงุฒู: ุงู ฺฉุชุงุจุฎุงูู ุฏุงุฑุง ููุงู Enum ู ุญุงูุชโูุง ุงุณุช ฺฉู ูุง ุชุนุฑู ฺฉุฑุฏู ู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงูุง ุฏุงุฏูโูุง ุขุฏุฑุณ ุฑุง ุจูโุตูุฑุช ุฏุงุฎู ุฏุฑ ุญุงูุชโูุง ุฏุฑ ูุงูุจ ุฏู Struct ูุฎุชูู ุชุนุจู ฺฉุฑุฏู ุงุณุชุ ฺฉู ุจูโุทูุฑ ูุชูุงูุช ุจุฑุง ูุฑ ุญุงูุช ุชุนุฑู ุดุฏูโุงูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Ipv4Addr {
    // --snip--
}

struct Ipv6Addr {
    // --snip--
}

enum IpAddr {
    V4(Ipv4Addr),
    V6(Ipv6Addr),
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ูุดุงู ูโุฏูุฏ ฺฉู ุดูุง ูโุชูุงูุฏ ูุฑ ููุน ุฏุงุฏูโุง ูุงููุฏ ุฑุดุชูโูุงุ ุงููุงุน ุนุฏุฏุ ุง Structูุง ุฑุง ุฏุงุฎู ุญุงูุชโูุง Enum ูุฑุงุฑ ุฏูุฏ. ุญุช ูโุชูุงูุฏ ฺฉ Enum ุฏฺฏุฑ ุฑุง ูุฒ ุดุงูู ฺฉูุฏ! ููฺููุ ุงููุงุน ุงุณุชุงูุฏุงุฑุฏ ฺฉุชุงุจุฎุงูู ูุนูููุงู ุฎู ูพฺุฏูโุชุฑ ุงุฒ ฺุฒ ูุณุชูุฏ ฺฉู ููฺฉู ุงุณุช ุฎูุฏุชุงู ุงุฑุงุฆู ุฏูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุง ูุฌูุฏ ุงูฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุจุฑุง <code>IpAddr</code> ุฏุงุฑุฏุ ูุง ููฺูุงู ูโุชูุงูู ุชุนุฑู ุฎูุฏูุงู ุฑุง ุงุฌุงุฏ ู ุงุณุชูุงุฏู ฺฉูู ุจุฏูู ุงูฺฉู ุชุถุงุฏ ูพุด ุจุงุฏ ุฒุฑุง ุชุนุฑู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจู ูุญุฏูุฏู ุฎูุฏ ูุงุฑุฏ ูฺฉุฑุฏูโุงู. ูุง ุฏุฑ ูุตู 7 ุฏุฑุจุงุฑู ูุงุฑุฏ ฺฉุฑุฏู ุงููุงุน ุจู ูุญุฏูุฏู ุจุดุชุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุจุงุฏ ุจู ูุซุงู ุฏฺฏุฑ ุงุฒ ฺฉ Enum ุฏุฑ ููุฑุณุช 6-2 ูฺฏุงู ฺฉูู: ุงู ููุฑุฏ ุฏุงุฑุง ุงููุงุน ูุชููุน ุงุฒ ุฏุงุฏูโูุง ุฌุงุณุงุฒโุดุฏู ุฏุฑ ุญุงูุชโูุง ุฎูุฏ ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 6-2: ฺฉ Enum ุจู ูุงู <code>Message</code> ฺฉู ูุฑ ฺฉ ุงุฒ ุญุงูุชโูุง ุขู ููุงุฏุฑ ูุชูุงูุช ุฐุฎุฑู ูโฺฉููุฏ</figcaption>
</figure>
<p>ุงู Enum ุฏุงุฑุง ฺูุงุฑ ุญุงูุช ุจุง ุงููุงุน ูุฎุชูู ุงุณุช:</p>
<ul>
<li><code>Quit</code> ูฺ ุฏุงุฏูโุง ุจุง ุขู ูุฑุชุจุท ูุณุช.</li>
<li><code>Move</code> ุฏุงุฑุง ููุฏูุง ูุงูโฺฏุฐุงุฑ ุดุฏูุ ุดุจู ุจู ฺฉ Struct ุงุณุช.</li>
<li><code>Write</code> ุดุงูู ฺฉ ููุฏุงุฑ <code>String</code> ุงุณุช.</li>
<li><code>ChangeColor</code> ุดุงูู ุณู ููุฏุงุฑ <code>i32</code> ุงุณุช.</li>
</ul>
<p>ุชุนุฑู ฺฉ Enum ุจุง ุญุงูุชโูุง ูุงููุฏ ุญุงูุชโูุง ููุฑุณุช 6-2 ูุดุงุจู ุชุนุฑู ุงููุงุน ูุฎุชูู ุณุงุฎุชุงุฑูุง ุงุณุชุ ุจุง ุงู ุชูุงูุช ฺฉู Enum ุงุฒ ฺฉููู ฺฉูุฏ <code>struct</code> ุงุณุชูุงุฏู ููโฺฉูุฏ ู ุชูุงู ุญุงูุชโูุง ุชุญุช ููุน <code>Message</code> ฺฏุฑููโุจูุฏ ุดุฏูโุงูุฏ. ุณุงุฎุชุงุฑูุง ุฒุฑ ูโุชูุงููุฏ ููุงู ุฏุงุฏูโูุง ุฑุง ูฺฏู ุฏุงุฑูุฏ ฺฉู ุญุงูุชโูุง Enum ูุจู ูฺฏู ูโุฏุงุฑูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021">struct QuitMessage; // unit struct
struct MoveMessage {
    x: i32,
    y: i32,
}
struct WriteMessage(String); // tuple struct
struct ChangeColorMessage(i32, i32, i32); // tuple struct
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<p>ุงูุง ุงฺฏุฑ ุงุฒ ุณุงุฎุชุงุฑูุง ูุฎุชูู ุงุณุชูุงุฏู ฺฉูู ฺฉู ูุฑ ฺฉ ููุน ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑูุฏุ ููโุชูุงูู ุจูโุฑุงุญุช ฺฉ ุชุงุจุน ุชุนุฑู ฺฉูู ฺฉู ุจุชูุงูุฏ ูุฑ ฺฉ ุงุฒ ุงู ุงููุงุน ูพุงูโูุง ุฑุง ูุงููุฏ ฺุฒ ฺฉู ุจุง Enum <code>Message</code> ุชุนุฑูโุดุฏู ุฏุฑ ููุฑุณุช 6-2 ุงูฺฉุงูโูพุฐุฑ ุงุณุชุ ุฏุฑุงูุช ฺฉูุฏ.</p>
<p>ฺฉ ุดุจุงูุช ุฏฺฏุฑ ุจู Enumูุง ู ุณุงุฎุชุงุฑูุง ุงู ุงุณุช: ููุงูโุทูุฑ ฺฉู ูโุชูุงูู ูุชุฏูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>impl</code> ุจุฑุง ุณุงุฎุชุงุฑูุง ุชุนุฑู ฺฉููุ ูโุชูุงูู ูุชุฏูุง ุฑุง ุจุฑุง Enumูุง ูุฒ ุชุนุฑู ฺฉูู. ุงูุฌุง ฺฉ ูุชุฏ ุจู ูุงู <code>call</code> ุงุณุช ฺฉู ูโุชูุงูู ุจุฑุง Enum <code>Message</code> ุฎูุฏ ุชุนุฑู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    enum Message {
</span><span class="boring">        Quit,
</span><span class="boring">        Move { x: i32, y: i32 },
</span><span class="boring">        Write(String),
</span><span class="boring">        ChangeColor(i32, i32, i32),
</span><span class="boring">    }
</span><span class="boring">
</span>    impl Message {
        fn call(&amp;self) {
            // method body would be defined here
        }
    }

    let m = Message::Write(String::from("hello"));
    m.call();
<span class="boring">}</span></code></pre></pre>
<p>ุจุฏูู ุงู ูุชุฏ ุงุฒ <code>self</code> ุจุฑุง ุฏุณุชุฑุณ ุจู ููุฏุงุฑ ฺฉู ูุชุฏ ุฑู ุขู ูุฑุงุฎูุงู ุดุฏู ุงุณุช ุงุณุชูุงุฏู ูโฺฉูุฏ. ุฏุฑ ุงู ูุซุงูุ ูุง ฺฉ ูุชุบุฑ ุจู ูุงู <code>m</code> ุงุฌุงุฏ ฺฉุฑุฏูโุงู ฺฉู ููุฏุงุฑ <code>Message::Write(String::from("hello"))</code> ุฑุง ุฏุงุฑุฏ ู ุงู ููุงู ฺุฒ ุงุณุช ฺฉู <code>self</code> ุฏุฑ ุจุฏู ูุชุฏ <code>call</code> ููฺฏุงู ุงุฌุฑุง <code>m.call()</code> ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุจุงุฏ ุจู ฺฉ Enum ุฏฺฏุฑ ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฉู ุจุณุงุฑ ูุชุฏุงูู ู ููุฏ ุงุณุช ูฺฏุงู ุจูุฏุงุฒู: <code>Option</code>.</p>
<h3 id="enum-option-ู-ูุฒุงุง-ุขู-ูุณุจุช-ุจู-ููุงุฏุฑ-null"><a class="header" href="#enum-option-ู-ูุฒุงุง-ุขู-ูุณุจุช-ุจู-ููุงุฏุฑ-null">Enum <code>Option</code> ู ูุฒุงุง ุขู ูุณุจุช ุจู ููุงุฏุฑ Null</a></h3>
<p>ุงู ุจุฎุด ุจู ูุทุงูุนู ููุฑุฏ <code>Option</code> ูโูพุฑุฏุงุฒุฏ ฺฉู ฺฉ ุฏฺฏุฑ ุงุฒ Enumูุง ุชุนุฑู ุดุฏู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุณุช. ููุน <code>Option</code> ุณูุงุฑู ุจุณุงุฑ ุฑุงุฌ ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุฑ ุขู ฺฉ ููุฏุงุฑ ูโุชูุงูุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ุง ูฺ ููุฏุงุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุจู ุนููุงู ูุซุงูุ ุงฺฏุฑ ุงููู ููุฑุฏ ุฑุง ุฏุฑ ฺฉ ูุณุช ุบุฑ ุฎุงู ุฏุฑุฎูุงุณุช ฺฉูุฏุ ููุฏุงุฑ ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ. ุงฺฏุฑ ุงููู ููุฑุฏ ุฑุง ุฏุฑ ฺฉ ูุณุช ุฎุงู ุฏุฑุฎูุงุณุช ฺฉูุฏุ ูฺ ููุฏุงุฑ ุฏุฑุงูุช ูุฎูุงูุฏ ฺฉุฑุฏ. ุจุงู ุงู ููููู ุฏุฑ ูุงูุจ ุณุณุชู ููุน ุจู ฺฉุงููพุงูุฑ ุงูฺฉุงู ูโุฏูุฏ ุชุง ุจุฑุฑุณ ฺฉูุฏ ุขุง ุชูุงู ููุงุฑุฏ ฺฉู ุจุงุฏ ูุฏุฑุช ุดููุฏ ุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชูโุงุฏุ ุงู ูฺฺฏ ูโุชูุงูุฏ ุงุฒ ุจุฑูุฒ ุจุงฺฏโูุง ฺฉู ุฏุฑ ุฏฺฏุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุจุณุงุฑ ุฑุงุฌ ูุณุชูุฏ ุฌููฺฏุฑ ฺฉูุฏ.</p>
<p>ุทุฑุงุญ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุงุบูุจ ุงุฒ ูุธุฑ ูฺฺฏโูุง ฺฉู ุดุงูู ูโุดููุฏ ุจุฑุฑุณ ูโุดูุฏุ ุงูุง ูฺฺฏโูุง ฺฉู ฺฉูุงุฑ ฺฏุฐุงุดุชู ูโุดููุฏ ูุฒ ููู ูุณุชูุฏ. Rust ูฺฺฏ null ุฑุง ฺฉู ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุฏฺฏุฑ ุฏุงุฑูุฏุ ูุฏุงุฑุฏ. <em>Null</em> ฺฉ ููุฏุงุฑ ุงุณุช ฺฉู ุจู ูุนูุง ูุฌูุฏ ูุฏุงุดุชู ููุฏุงุฑ ูโุจุงุดุฏ. ุฏุฑ ุฒุจุงูโูุง ฺฉู ุฏุงุฑุง null ูุณุชูุฏุ ูุชุบุฑูุง ูโุชูุงููุฏ ููุดู ุฏุฑ ฺฉ ุงุฒ ุฏู ุญุงูุช ุจุงุดูุฏ: null ุง not-null.</p>
<p>ุฏุฑ ุงุฑุงุฆู ุณุงู 2009 ุฎูุฏ ุจู ูุงู โNull References: The Billion Dollar Mistakeโุ ุชูู ููุฑุ ูุฎุชุฑุน nullุ ฺูู ูโฺฏูุฏ:</p>
<blockquote>
<p>ูู ุขู ุฑุง ุงุดุชุจุงู ููุงุฑุฏ ุฏูุงุฑ ุฎูุฏ ูโูุงูู. ุฏุฑ ุขู ุฒูุงูุ ูู ุฏุฑ ุญุงู ุทุฑุงุญ ุงููู ุณุณุชู ููุน ุฌุงูุน ุจุฑุง ูุฑุงุฌุน ุฏุฑ ฺฉ ุฒุจุงู ุดุกฺฏุฑุง ุจูุฏู. ูุฏู ูู ุงุทููุงู ุงุฒ ุงู ุจูุฏ ฺฉู ุชูุงู ุงุณุชูุงุฏูโูุง ุงุฒ ูุฑุงุฌุน ฺฉุงููุงู ุงูู ุจุงุดูุฏุ ุจุง ุจุฑุฑุณโูุง ฺฉู ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุชูุณุท ฺฉุงููพุงูุฑ ุงูุฌุงู ูโุดููุฏ. ุงูุง ูุชูุงูุณุชู ุฏุฑ ุจุฑุงุจุฑ ูุณูุณู ูุฑุงุฑ ุฏุงุฏู ฺฉ ูุฑุฌุน null ููุงููุช ฺฉููุ ููุท ุจู ุงู ุฏูู ฺฉู ูพุงุฏูโุณุงุฒ ุขู ุจุณุงุฑ ุขุณุงู ุจูุฏ. ุงู ููุฌุฑ ุจู ุฎุทุงูุงุ ุขุณุจโูพุฐุฑโูุงุ ู ุฎุฑุงุจโูุง ุณุณุชูโูุง ุจโุดูุงุฑ ุดุฏู ุงุณุช ฺฉู ุงุญุชูุงูุงู ุจุงุนุซ ฺฉ ููุงุฑุฏ ุฏูุงุฑ ุฏุฑุฏ ู ุถุฑุฑ ุฏุฑ ฺูู ุณุงู ฺฏุฐุดุชู ุดุฏูโุงูุฏ.</p>
</blockquote>
<p>ูุดฺฉู ููุงุฏุฑ null ุงู ุงุณุช ฺฉู ุงฺฏุฑ ุจุฎูุงูุฏ ุงุฒ ฺฉ ููุฏุงุฑ null ุจูโุนููุงู ฺฉ ููุฏุงุฑ not-null ุงุณุชูุงุฏู ฺฉูุฏุ ููุน ุฎุทุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ. ุงุฒ ุขูุฌุง ฺฉู ุฎุงุตุช null ุง not-null ูุฑุงฺฏุฑ ุงุณุชุ ุจุณุงุฑ ุขุณุงู ุงุณุช ฺฉู ุงู ููุน ุฎุทุง ุฑุง ูุฑุชฺฉุจ ุดูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ููููู ฺฉู null ุณุน ุฏุฑ ุจุงู ุขู ุฏุงุฑุฏ ููฺูุงู ููุฏ ุงุณุช: null ฺฉ ููุฏุงุฑ ุงุณุช ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุจู ุฏูุงู ูุงูุนุชุจุฑ ุง ุบุงุจ ุงุณุช.</p>
<p>ูุดฺฉู ูุงูุนุงู ุจุง ููููู ูุณุชุ ุจูฺฉู ุจุง ูพุงุฏูโุณุงุฒ ุฎุงุต ุงุณุช. ุจู ุงู ุชุฑุชุจุ Rust ููุงุฏุฑ null ูุฏุงุฑุฏุ ุงูุง ฺฉ Enum ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ููููู ูุฌูุฏ ุฏุงุดุชู ุง ูุฏุงุดุชู ฺฉ ููุฏุงุฑ ุฑุง ฺฉุฏฺฏุฐุงุฑ ฺฉูุฏ. ุงู Enum <code>Option&lt;T&gt;</code> ุงุณุช ฺฉู ุจู ุตูุฑุช ุฒุฑ ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Option&lt;T&gt; {
    None,
    Some(T),
}
<span class="boring">}</span></code></pre></pre>
<p>Enum <code>Option&lt;T&gt;</code> ุขูโูุฏุฑ ููุฏ ุงุณุช ฺฉู ุญุช ุฏุฑ ุจุฎุด ูพุดโูุฑุถ (Prelude) ฺฏูุฌุงูุฏู ุดุฏู ุงุณุชุ ูุงุฒ ูุณุช ฺฉู ุจูโุทูุฑ ุตุฑุญ ุขู ุฑุง ุจู ูุญุฏูุฏู ุจุงูุฑุฏ. ุญุงูุชโูุง ุขู ูุฒ ุฏุฑ ุจุฎุด ูพุดโูุฑุถ ูุณุชูุฏ: ูโุชูุงูุฏ ูุณุชููุงู ุงุฒ <code>Some</code> ู <code>None</code> ุจุฏูู ูพุดููุฏ <code>Option::</code> ุงุณุชูุงุฏู ฺฉูุฏ. Enum <code>Option&lt;T&gt;</code> ููฺูุงู ฺฉ Enum ูุนููู ุงุณุชุ ู <code>Some(T)</code> ู <code>None</code> ููฺูุงู ุญุงูุชโูุง ุงุฒ ููุน <code>Option&lt;T&gt;</code> ูุณุชูุฏ.</p>
<p>ุณูุชฺฉุณ <code>&lt;T&gt;</code> ฺฉ ูฺฺฏ ุงุฒ Rust ุงุณุช ฺฉู ูููุฒ ุฏุฑุจุงุฑู ุขู ุตุญุจุช ูฺฉุฑุฏูโุงู. ุงู ฺฉ ูพุงุฑุงูุชุฑ ููุน ุนููู (Generic) ุงุณุช ู ูุง ุฏุฑ ูุตู 10 ุจู ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุขู ุฎูุงูู ูพุฑุฏุงุฎุช. ุจุฑุง ุญุงูุงุ ุชููุง ฺุฒ ฺฉู ุจุงุฏ ุจุฏุงูุฏ ุงู ุงุณุช ฺฉู <code>&lt;T&gt;</code> ุจู ุงู ูุนูุง ุงุณุช ฺฉู ุญุงูุช <code>Some</code> ุงุฒ Enum <code>Option</code> ูโุชูุงูุฏ ฺฉ ูุทุนู ุฏุงุฏู ุงุฒ ูุฑ ููุน ุฑุง ูฺฏู ุฏุงุฑุฏุ ู ูุฑ ููุน ูุดุฎุต ฺฉู ุจู ุฌุง <code>T</code> ุงุณุชูุงุฏู ุดูุฏุ ฺฉู ููุน <code>Option&lt;T&gt;</code> ุฑุง ุจู ฺฉ ููุน ูุชูุงูุช ุชุจุฏู ูโฺฉูุฏ. ุฏุฑ ุงูุฌุง ฺูุฏ ูุซุงู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ููุงุฏุฑ <code>Option</code> ุจุฑุง ูฺฏูโุฏุงุฑ ุงููุงุน ุนุฏุฏ ู ฺฉุงุฑุงฺฉุชุฑ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let some_number = Some(5);
    let some_char = Some('e');

    let absent_number: Option&lt;i32&gt; = None;
<span class="boring">}</span></code></pre></pre>
<p>ููุน <code>some_number</code> ุจุฑุงุจุฑ ุจุง <code>Option&lt;i32&gt;</code> ุงุณุช. ููุน <code>some_char</code> ุจุฑุงุจุฑ ุจุง <code>Option&lt;char&gt;</code> ุงุณุช ฺฉู ฺฉ ููุน ูุชูุงูุช ุงุณุช. Rust ูโุชูุงูุฏ ุงู ุงููุงุน ุฑุง ุชุดุฎุต ุฏูุฏ ุฒุฑุง ูุง ููุฏุงุฑ ุฑุง ุฏุฑ ุญุงูุช <code>Some</code> ูุดุฎุต ฺฉุฑุฏูโุงู. ุจุฑุง <code>absent_number</code>ุ Rust ุงุฒ ูุง ูโุฎูุงูุฏ ฺฉู ููุน ฺฉู <code>Option</code> ุฑุง ูุดุฎุต ฺฉูู: ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ููุน ุฑุง ฺฉู ุญุงูุช <code>Some</code> ูุฑุชุจุท ูฺฏู ุฎูุงูุฏ ุฏุงุดุช ููุท ุจุง ูฺฏุงู ฺฉุฑุฏู ุจู ฺฉ ููุฏุงุฑ <code>None</code> ุชุดุฎุต ุฏูุฏ. ุฏุฑ ุงูุฌุงุ ูุง ุจู Rust ูโฺฏูู ฺฉู ููุธูุฑ ูุง ุงู ุงุณุช ฺฉู <code>absent_number</code> ุงุฒ ููุน <code>Option&lt;i32&gt;</code> ุจุงุดุฏ.</p>
<p>ููฺฏุงู ฺฉู ูุง ฺฉ ููุฏุงุฑ <code>Some</code> ุฏุงุฑูุ ูโุฏุงูู ฺฉู ฺฉ ููุฏุงุฑ ูุฌูุฏ ุฏุงุฑุฏ ู ุงู ููุฏุงุฑ ุฏุฑูู <code>Some</code> ูฺฏูโุฏุงุฑ ูโุดูุฏ. ููฺฏุงู ฺฉู ูุง ฺฉ ููุฏุงุฑ <code>None</code> ุฏุงุฑูุ ุงุฒ ฺฉ ูุธุฑุ ุงู ููุงู ูุนูุง null ุฑุง ุฏุงุฑุฏ: ูุง ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ูุฏุงุฑู. ูพุณ ฺุฑุง ุฏุงุดุชู <code>Option&lt;T&gt;</code> ุจูุชุฑ ุงุฒ ุฏุงุดุชู null ุงุณุชุ</p>
<p>ุจู ุทูุฑ ุฎูุงุตูุ ุจู ุงู ุฏูู ฺฉู <code>Option&lt;T&gt;</code> ู <code>T</code> (ุฌุง ฺฉู <code>T</code> ูโุชูุงูุฏ ูุฑ ููุน ุจุงุดุฏ) ุงููุงุน ูุชูุงูุช ูุณุชูุฏุ ฺฉุงููพุงูุฑ ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ฺฉู ฺฉ ููุฏุงุฑ <code>Option&lt;T&gt;</code> ุฑุง ุจูโุนููุงู ฺฉ ููุฏุงุฑ ูุทุนุงู ูุนุชุจุฑ ุงุณุชูุงุฏู ฺฉูู. ุจู ุนููุงู ูุซุงูุ ุงู ฺฉุฏ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏุ ุฒุฑุง ุณุน ุฏุฑ ุฌูุน ฺฉ <code>i8</code> ุจุง ฺฉ <code>Option&lt;i8&gt;</code> ุฏุงุฑุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let x: i8 = 5;
    let y: Option&lt;i8&gt; = Some(5);

    let sum = x + y;
<span class="boring">}</span></code></pre>
<p>ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉููุ ูพุงู ุฎุทุง ุดุจู ุจู ุงู ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling enums v0.1.0 (file:///projects/enums)
error[E0277]: cannot add `Option&lt;i8&gt;` to `i8`
 --&gt; src/main.rs:5:17
  |
5 |     let sum = x + y;
  |                 ^ no implementation for `i8 + Option&lt;i8&gt;`
  |
  = help: the trait `Add&lt;Option&lt;i8&gt;&gt;` is not implemented for `i8`
  = help: the following other types implement trait `Add&lt;Rhs&gt;`:
            `&amp;'a i8` implements `Add&lt;i8&gt;`
            `&amp;i8` implements `Add&lt;&amp;i8&gt;`
            `i8` implements `Add&lt;&amp;i8&gt;`
            `i8` implements `Add`

For more information about this error, try `rustc --explain E0277`.
error: could not compile `enums` (bin "enums") due to 1 previous error
</code></pre>
<p>ุดุฏุฏ ุงุณุช! ุฏุฑ ูุงูุนุ ุงู ูพุงู ุฎุทุง ุจู ุงู ูุนูุง ุงุณุช ฺฉู Rust ููโุฏุงูุฏ ฺฺฏููู ฺฉ <code>i8</code> ู ฺฉ <code>Option&lt;i8&gt;</code> ุฑุง ุฌูุน ฺฉูุฏุ ุฒุฑุง ุขูโูุง ุงููุงุน ูุฎุชูู ูุณุชูุฏ. ููฺฏุงู ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ููุน ูุงููุฏ <code>i8</code> ุฏุฑ Rust ุฏุงุฑูุ ฺฉุงููพุงูุฑ ุงุทููุงู ูโุฏูุฏ ฺฉู ููุดู ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุฏุงุฑู. ูโุชูุงูู ุจุง ุงุทููุงู ุงุฏุงูู ุฏูู ุจุฏูู ุงูฺฉู ูุฌุจูุฑ ุจุงุดู ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุขู ููุฏุงุฑุ null ุฑุง ุจุฑุฑุณ ฺฉูู. ููุท ุฒูุงู ฺฉู ฺฉ <code>Option&lt;i8&gt;</code> (ุง ูุฑ ููุน ููุฏุงุฑ ฺฉู ุจุง ุขู ฺฉุงุฑ ูโฺฉูู) ุฏุงุฑู ุจุงุฏ ูฺฏุฑุงู ุงุญุชูุงู ุนุฏู ูุฌูุฏ ููุฏุงุฑ ุจุงุดูุ ู ฺฉุงููพุงูุฑ ุงุทููุงู ูโุฏูุฏ ฺฉู ูุง ุขู ุญุงูุช ุฑุง ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ูุฏุฑุช ฺฉุฑุฏูโุงู.</p>
<p>ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุดูุง ุจุงุฏ ฺฉ ููุฏุงุฑ <code>Option&lt;T&gt;</code> ุฑุง ุจู ฺฉ ููุฏุงุฑ <code>T</code> ุชุจุฏู ฺฉูุฏ ูุจู ุงุฒ ุงูฺฉู ุจุชูุงูุฏ ุนููุงุช <code>T</code> ุฑุง ุจุง ุขู ุงูุฌุงู ุฏูุฏ. ุจู ุทูุฑ ฺฉูุ ุงู ุจู ุฌููฺฏุฑ ุงุฒ ฺฉ ุงุฒ ุดุงุนโุชุฑู ูุดฺฉูุงุช null ฺฉูฺฉ ูโฺฉูุฏ: ูุฑุถ ุบูุท ฺฉู ฺุฒ null ูุณุช ุฏุฑ ุญุงู ฺฉู ูุงูุนุงู null ุงุณุช.</p>
<p>ุงุฒ ุจู ุจุฑุฏู ุฎุทุฑ ูุฑุถ ูุงุฏุฑุณุช ุฏุฑุจุงุฑู ฺฉ ููุฏุงุฑ not-null ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุฏุฑ ฺฉุฏ ุฎูุฏ ุงุทููุงู ุจุดุชุฑ ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ุฏุงุดุชู ููุฏุงุฑ ฺฉู ููฺฉู ุงุณุช null ุจุงุดุฏุ ุจุงุฏ ุตุฑุญุงู ุจุง ุชุนู ููุน ุขู ููุฏุงุฑ ุจูโุนููุงู <code>Option&lt;T&gt;</code> ุจู ุขู ุฑุถุงุช ุฏูุฏ. ุณูพุณุ ููฺฏุงู ฺฉู ุงุฒ ุขู ููุฏุงุฑ ุงุณุชูุงุฏู ูโฺฉูุฏุ ููุธู ูุณุชุฏ ฺฉู ุจูโุทูุฑ ุตุฑุญ ุญุงูุช ุฑุง ฺฉู ููุฏุงุฑ null ุงุณุช ูุฏุฑุช ฺฉูุฏ. ูุฑ ุฌุง ฺฉู ููุฏุงุฑ ุงุฒ ููุน ุงุณุช ฺฉู <code>Option&lt;T&gt;</code> ูุณุชุ ูโุชูุงูุฏ ุจุง ุฎุงู ุฑุงุญุช ูุฑุถ ฺฉูุฏ ฺฉู ููุฏุงุฑ null ูุณุช. ุงู ุชุตูู ุทุฑุงุญ ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุดูุน null ู ุงูุฒุงุด ุงูู ฺฉุฏูุง Rust ุจูุฏ.</p>
<p>ูพุณ ฺฺฏููู ููุฏุงุฑ <code>T</code> ุฑุง ุงุฒ ุญุงูุช <code>Some</code> ููุช ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>Option&lt;T&gt;</code> ุฏุงุฑุฏ ุงุณุชุฎุฑุงุฌ ูโฺฉูุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ุขู ููุฏุงุฑ ุงุณุชูุงุฏู ฺฉูุฏุ Enum <code>Option&lt;T&gt;</code> ุชุนุฏุงุฏ ุฒุงุฏ ูุชุฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ูููุนุชโูุง ูุฎุชูู ููุฏ ูุณุชูุฏุ ูโุชูุงูุฏ ุขูโูุง ุฑุง ุฏุฑ <a href="https://doc.rust-lang.org/std/option/enum.Option.html">ูุณุชูุฏุงุช ุขู</a> ุจุฑุฑุณ ฺฉูุฏ. ุขุดูุง ุจุง ูุชุฏูุง ููุฌูุฏ ุฏุฑ <code>Option&lt;T&gt;</code> ุฏุฑ ูุณุฑ ุงุฏฺฏุฑ Rust ุจุณุงุฑ ููุฏ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุจู ุทูุฑ ฺฉูุ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุฏุงุฑ <code>Option&lt;T&gt;</code>ุ ูโุฎูุงูุฏ ฺฉุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุฑ ุญุงูุช ุฑุง ูุฏุฑุช ฺฉูุฏ. ูโุฎูุงูุฏ ฺฉุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชููุง ุฒูุงู ุงุฌุฑุง ุดูุฏ ฺฉู ฺฉ ููุฏุงุฑ <code>Some(T)</code> ุฏุงุฑุฏุ ู ุงู ฺฉุฏ ุงุฌุงุฒู ุฏุงุฑุฏ ุงุฒ ููุฏุงุฑ ุฏุงุฎู <code>T</code> ุงุณุชูุงุฏู ฺฉูุฏ. ููฺููุ ูโุฎูุงูุฏ ฺฉุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุท ุฏุฑ ุตูุฑุช ูุฌูุฏ ููุฏุงุฑ <code>None</code> ุงุฌุฑุง ุดูุฏุ ู ุงู ฺฉุฏ ุจู ูฺ ููุฏุงุฑ <code>T</code> ุฏุณุชุฑุณ ูุฏุงุฑุฏ. ุนุจุงุฑุช <code>match</code> ฺฉ ุณุงุฒู ุฌุฑุงู ฺฉูุชุฑู ุงุณุช ฺฉู ููุช ุจุง Enumูุง ุงุณุชูุงุฏู ูโุดูุฏ ุฏููุงู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ: ุงู ุนุจุงุฑุช ฺฉุฏ ูุชูุงูุช ุฑุง ุจุณุชู ุจู ุงูฺฉู ฺฉุฏุงู ุญุงูุช ุงุฒ Enum ููุฌูุฏ ุงุณุช ุงุฌุฑุง ูโฺฉูุฏุ ู ุขู ฺฉุฏ ูโุชูุงูุฏ ุงุฒ ุฏุงุฏู ุฏุงุฎู ููุฏุงุฑ ููุทุจู ุดุฏู ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><!-- Old heading. Do not remove or links may break. -->
<p><a id="the-match-control-flow-operator"></a></p>
<h2 id="ุณุงุฒู-ุฌุฑุงู-ฺฉูุชุฑู-match"><a class="header" href="#ุณุงุฒู-ุฌุฑุงู-ฺฉูุชุฑู-match">ุณุงุฒู ุฌุฑุงู ฺฉูุชุฑู <code>match</code></a></h2>
<p>ุฒุจุงู Rust ุฏุงุฑุง ฺฉ ุณุงุฒู ุฌุฑุงู ฺฉูุชุฑู ุจุณุงุฑ ูุฏุฑุชููุฏ ุจู ูุงู <code>match</code> ุงุณุช ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ฺฉ ููุฏุงุฑ ุฑุง ุจุง ฺฉ ุณุฑ ุงูฺฏููุง ููุงุณู ฺฉูุฏ ู ุณูพุณ ุจุฑ ุงุณุงุณ ุงูฺฏู ฺฉู ูุทุงุจูุช ุฏุงุฑุฏุ ฺฉุฏ ูุฑุจูุทู ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุงูฺฏููุง ูโุชูุงููุฏ ุดุงูู ููุงุฏุฑ ุซุงุจุชุ ูุงู ูุชุบุฑูุงุ wildcardูุง ู ฺุฒูุง ุฏฺฏุฑ ุจุงุดูุฏ. <a href="ch19-00-patterns.html">ูุตู 19</a><!-- ignore --> ุงููุงุน ูุฎุชูู ุงูฺฏููุง ู ุนููฺฉุฑุฏ ุขูโูุง ุฑุง ูพูุดุด ูโุฏูุฏ. ูุฏุฑุช <code>match</code> ุงุฒ ุจุงูโูพุฐุฑ ุงูฺฏููุง ู ุงู ูุงูุนุช ูุงุด ูโุดูุฏ ฺฉู ฺฉุงููพุงูุฑ ุชุฃุฏ ูโฺฉูุฏ ฺฉู ููู ุญุงูุชโูุง ููฺฉู ูุฏุฑุช ุดุฏูโุงูุฏ.</p>
<p>ูโุชูุงูุฏ ฺฉ ุนุจุงุฑุช <code>match</code> ุฑุง ูุงููุฏ ฺฉ ุฏุณุชฺฏุงู ูุฑุชุจโฺฉููุฏู ุณฺฉู ุชุตูุฑ ฺฉูุฏ: ุณฺฉูโูุง ุฏุฑ ฺฉ ูุณุฑ ุจุง ุณูุฑุงุฎโูุง ุจุง ุงูุฏุงุฒูโูุง ูุฎุชูู ูุฑุงุฑ ูโฺฏุฑูุฏ ู ูุฑ ุณฺฉู ุงุฒ ุงููู ุณูุฑุงุฎ ฺฉู ุฏุฑ ุขู ุฌุง ูโุดูุฏ ุนุจูุฑ ูโฺฉูุฏ. ุจู ููู ุชุฑุชุจุ ููุงุฏุฑ ุงุฒ ูุฑ ุงูฺฏู ุฏุฑ ฺฉ <code>match</code> ุนุจูุฑ ูโฺฉููุฏ ู ุฏุฑ ุงููู ุงูฺฏู ฺฉู ููุฏุงุฑ โุฌุง ูโุดูุฏโุ ููุฏุงุฑ ุจู ุจููฺฉ ฺฉุฏ ูุฑุชุจุท ูโุงูุชุฏ ู ุจุฑุง ุงุฌุฑุง ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<p>ุญุงู ุจุงุฏ ุงุฒ ฺฉ ูุซุงู ูุงูุน ุจุง ุณฺฉูโูุง ุงุณุชูุงุฏู ฺฉูู! ูโุชูุงูู ุชุงุจุน ุจููุณู ฺฉู ฺฉ ุณฺฉู ูุงุดูุงุฎุชู ุงุฒ ุงุงูุงุช ูุชุญุฏู ุฑุง ุจฺฏุฑุฏ ู ุจู ุดููโุง ูุดุงุจู ุฏุณุชฺฏุงู ุดูุงุฑูุฏู ุณฺฉูโูุงุ ุชุนู ฺฉูุฏ ฺฉู ุขู ุณฺฉู ฺฉุฏุงู ููุน ุงุณุช ู ุงุฑุฒุด ุขู ุฑุง ุจู ุณูุช ุจุฑฺฏุฑุฏุงูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 6-3 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">enum Coin {
    Penny,
    Nickel,
    Dime,
    Quarter,
}

fn value_in_cents(coin: Coin) -&gt; u8 {
    match coin {
        Coin::Penny =&gt; 1,
        Coin::Nickel =&gt; 5,
        Coin::Dime =&gt; 10,
        Coin::Quarter =&gt; 25,
    }
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 6-3: ฺฉ enum ู ฺฉ ุนุจุงุฑุช <code>match</code> ฺฉู ุญุงูุชโูุง enum ุฑุง ุจู ุนููุงู ุงูฺฏููุง ุฎูุฏ ุฏุงุฑุฏ</figcaption>
</figure>
<h3 id="ุจุงุฒุจู-ุชุงุจุน-value_in_cents"><a class="header" href="#ุจุงุฒุจู-ุชุงุจุน-value_in_cents">ุจุงุฒุจู ุชุงุจุน <code>value_in_cents</code></a></h3>
<p>ุงุจุชุฏุง ฺฉููู ฺฉูุฏ <code>match</code> ู ุณูพุณ ฺฉ ุนุจุงุฑุช ุฑุง ููุฑุณุช ูโฺฉูู ฺฉู ุฏุฑ ุงู ููุฑุฏ ููุฏุงุฑ <code>coin</code> ุงุณุช. ุงู ฺฉุงุฑ ุจุณุงุฑ ูุดุงุจู ฺฉ ุนุจุงุฑุช ุดุฑุท ฺฉู ุจุง <code>if</code> ุงุณุชูุงุฏู ูโุดูุฏ ุจู ูุธุฑ ูโุฑุณุฏุ ุงูุง ุชูุงูุช ุจุฒุฑฺฏ ุฏุงุฑุฏ: ุจุง <code>if</code>ุ ุดุฑุท ุจุงุฏ ุจู ฺฉ ููุฏุงุฑ ุจููู ุงุฑุฒุงุจ ุดูุฏุ ุงูุง ุงูุฌุง ูโุชูุงูุฏ ูุฑ ููุน ุจุงุดุฏ. ููุน <code>coin</code> ุฏุฑ ุงู ูุซุงู enum <code>Coin</code> ุงุณุช ฺฉู ุฏุฑ ุงููู ุฎุท ุชุนุฑู ฺฉุฑุฏู.</p>
<p>ุจุงุฒููุง <code>match</code> ุฏู ูุณูุช ุฏุงุฑูุฏ: ฺฉ ุงูฺฏู ู ููุฏุงุฑ ฺฉุฏ. ุงููู ุจุงุฒู ุฏุฑ ุงูุฌุง ุฏุงุฑุง ุงูฺฏู ุงุณุช ฺฉู ููุฏุงุฑ <code>Coin::Penny</code> ุงุณุช ู ุณูพุณ ุงูพุฑุงุชูุฑ <code>=&gt;</code> ฺฉู ุงูฺฏู ู ฺฉุฏ ุงุฌุฑุง ุฑุง ุงุฒ ูู ุฌุฏุง ูโฺฉูุฏ. ฺฉุฏ ุฏุฑ ุงูุฌุง ููุท ููุฏุงุฑ <code>1</code> ุงุณุช. ูุฑ ุจุงุฒู ุจุง ฺฉ ฺฉุงูุง ุงุฒ ุจุงุฒู ุจุนุฏ ุฌุฏุง ูโุดูุฏ.</p>
<p>ููฺฏุงู ฺฉู ุนุจุงุฑุช <code>match</code> ุงุฌุฑุง ูโุดูุฏุ ููุฏุงุฑ ุญุงุตู ุฑุง ุจุง ุงูฺฏู ูุฑ ุจุงุฒู ุจู ุชุฑุชุจ ููุงุณู ูโฺฉูุฏ. ุงฺฏุฑ ุงูฺฏู ุจุง ููุฏุงุฑ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ฺฉุฏ ฺฉู ุจุง ุขู ุงูฺฏู ูุฑุชุจุท ุงุณุช ุงุฌุฑุง ูโุดูุฏ. ุงฺฏุฑ ุขู ุงูฺฏู ุจุง ููุฏุงุฑ ูุทุงุจูุช ูุฏุงุดุชู ุจุงุดุฏุ ุงุฌุฑุง ุจู ุจุงุฒู ุจุนุฏ ุงุฏุงูู ูโุงุจุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ฺฉ ุฏุณุชฺฏุงู ูุฑุชุจโฺฉููุฏู ุณฺฉูโูุง ุนูู ูโฺฉูุฏ. ูุง ูโุชูุงูู ุจู ูุฑ ุชุนุฏุงุฏ ุจุงุฒู ฺฉู ูุงุฒ ุฏุงุฑู ุฏุงุดุชู ุจุงุดู: ุฏุฑ ููุฑุณุช 6-3ุ <code>match</code> ูุง ฺูุงุฑ ุจุงุฒู ุฏุงุฑุฏ.</p>
<p>ฺฉุฏ ูุฑุชุจุท ุจุง ูุฑ ุจุงุฒู ฺฉ ุนุจุงุฑุช ุงุณุช ู ููุฏุงุฑ ุญุงุตู ุงุฒ ุนุจุงุฑุช ุฏุฑ ุจุงุฒู ููุทุจู ุดุฏูุ ููุฏุงุฑ ุงุณุช ฺฉู ุจุฑุง ฺฉู ุนุจุงุฑุช <code>match</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.</p>
<p>ูุนูููุงู ุงฺฏุฑ ฺฉุฏ ุจุงุฒู <code>match</code> ฺฉูุชุงู ุจุงุดุฏุ ุงุฒ ุขฺฉููุงุฏ ุงุณุชูุงุฏู ููโฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 6-3 ฺฉู ูุฑ ุจุงุฒู ููุท ฺฉ ููุฏุงุฑ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุจุฎูุงูุฏ ฺูุฏู ุฎุท ฺฉุฏ ุฑุง ุฏุฑ ฺฉ ุจุงุฒู ุงุฌุฑุง ฺฉูุฏุ ุจุงุฏ ุงุฒ ุขฺฉููุงุฏ ุงุณุชูุงุฏู ฺฉูุฏุ ู ุฏุฑ ุงู ุตูุฑุช ฺฉุงูุง ูพุณ ุงุฒ ุจุงุฒู ุงุฎุชุงุฑ ุงุณุช. ุจู ุนููุงู ูุซุงูุ ฺฉุฏ ุฒุฑ ูุฑ ุจุงุฑ ฺฉู ูุชุฏ ุจุง ฺฉ <code>Coin::Penny</code> ูุฑุงุฎูุงู ูโุดูุฏุ โLucky penny!โ ุฑุง ฺุงูพ ูโฺฉูุฏุ ุงูุง ููฺูุงู ุขุฎุฑู ููุฏุงุฑ ุจููฺฉ ุนู <code>1</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter,
</span><span class="boring">}
</span><span class="boring">
</span>fn value_in_cents(coin: Coin) -&gt; u8 {
    match coin {
        Coin::Penny =&gt; {
            println!("Lucky penny!");
            1
        }
        Coin::Nickel =&gt; 5,
        Coin::Dime =&gt; 10,
        Coin::Quarter =&gt; 25,
    }
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<h3 id="ุงูฺฏููุง-ฺฉู-ุจู-ููุงุฏุฑ-ูุชุตู-ูุดููุฏ"><a class="header" href="#ุงูฺฏููุง-ฺฉู-ุจู-ููุงุฏุฑ-ูุชุตู-ูุดููุฏ">ุงูฺฏููุง ฺฉู ุจู ููุงุฏุฑ ูุชุตู ูโุดููุฏ</a></h3>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ูฺฺฏโูุง ููุฏ ุจุงุฒููุง <code>match</code> ุงู ุงุณุช ฺฉู ูโุชูุงููุฏ ุจู ุจุฎุดโูุง ุงุฒ ููุงุฏุฑ ฺฉู ุจุง ุงูฺฏู ูุทุงุจูุช ุฏุงุฑูุฏ ูุชุตู ุดููุฏ. ุงู ููุงู ุฑูุด ุงุณุช ฺฉู ูโุชูุงูู ููุงุฏุฑ ุฑุง ุงุฒ ุญุงูุชโูุง enum ุงุณุชุฎุฑุงุฌ ฺฉูู.</p>
<p>ุจู ุนููุงู ูุซุงูุ ุจุงุฏ ฺฉ ุงุฒ ุญุงูุชโูุง enum ุฎูุฏ ุฑุง ุชุบุฑ ุฏูู ุชุง ุฏุงุฏูโูุง ุฑุง ุฏุฑูู ุฎูุฏ ูฺฏู ุฏุงุฑุฏ. ุงุฒ ุณุงู 1999 ุชุง 2008ุ ุงุงูุงุช ูุชุญุฏู ุฑุจุนโูุง ุจุง ุทุฑุญโูุง ูุฎุชูู ุจุฑุง ูุฑ ฺฉ ุงุฒ 50 ุงุงูุช ุฏุฑ ฺฉ ุทุฑู ุถุฑุจ ฺฉุฑุฏ. ูฺ ุณฺฉู ุฏฺฏุฑ ุทุฑุญ ุงุงูุช ูุฏุงุดุชุ ุจูุงุจุฑุงู ููุท ุฑุจุนโูุง ุงู ููุฏุงุฑ ุงุถุงู ุฑุง ุฏุงุฑูุฏ. ูโุชูุงูู ุงู ุงุทูุงุนุงุช ุฑุง ุจู enum ุฎูุฏ ุจุง ุชุบุฑ ุญุงูุช <code>Quarter</code> ุจู ฺฏูููโุง ฺฉู ฺฉ ููุฏุงุฑ <code>UsState</code> ุฏุฑูู ุขู ุฐุฎุฑู ุดูุฏ ุงุถุงูู ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 6-4 ุงูุฌุงู ุฏุงุฏู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)] // so we can inspect the state in a minute
enum UsState {
    Alabama,
    Alaska,
    // --snip--
}

enum Coin {
    Penny,
    Nickel,
    Dime,
    Quarter(UsState),
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 6-4: ฺฉ enum ุจู ูุงู <code>Coin</code> ฺฉู ุญุงูุช <code>Quarter</code> ุขู ููฺูู ฺฉ ููุฏุงุฑ <code>UsState</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ</figcaption>
</figure>
<p>ุจุงุฏ ุชุตูุฑ ฺฉูู ฺฉู ฺฉ ุฏูุณุช ูุง ุณุน ุฏุงุฑุฏ ุชูุงู 50 ุฑุจุน ุงุงูุช ุฑุง ุฌูุนโุขูุฑ ฺฉูุฏ. ุฏุฑ ุญุงู ฺฉู ูุง ูพููโูุง ุฎูุฏ ุฑุง ุจุฑ ุงุณุงุณ ููุน ุณฺฉู ูุฑุชุจ ูโฺฉููุ ููฺูู ูุงู ุงุงูุช ฺฉู ุจุง ูุฑ ุฑุจุน ูุฑุชุจุท ุงุณุช ุฑุง ุงุนูุงู ูโฺฉูู ุชุง ุงฺฏุฑ ุงู ฺฉ ุงุฒ ุขูโูุง ุจุงุดุฏ ฺฉู ุฏูุณุช ูุง ูุฏุงุฑุฏุ ุจุชูุงููุฏ ุขู ุฑุง ุจู ูุฌููุนู ุฎูุฏ ุงุถุงูู ฺฉููุฏ.</p>
<p>ุฏุฑ ุนุจุงุฑุช <code>match</code> ุจุฑุง ุงู ฺฉุฏุ ฺฉ ูุชุบุฑ ุจู ูุงู <code>state</code> ุจู ุงูฺฏู ุงุถุงูู ูโฺฉูู ฺฉู ููุงุฏุฑ ุงุฒ ุญุงูุช <code>Coin::Quarter</code> ุฑุง ุชุทุจู ูโุฏูุฏ. ููุช ฺฉู ฺฉ ููุฏุงุฑ <code>Coin::Quarter</code> ููุทุจู ูโุดูุฏุ ูุชุบุฑ <code>state</code> ุจู ููุฏุงุฑ ุงุงูุช ุขู ุฑุจุน ูุชุตู ุฎูุงูุฏ ุดุฏ. ุณูพุณ ูโุชูุงูู ุงุฒ <code>state</code> ุฏุฑ ฺฉุฏ ุจุงุฒู ุขู ุงุณุชูุงุฏู ฺฉููุ ุจู ุงู ุตูุฑุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span>fn value_in_cents(coin: Coin) -&gt; u8 {
    match coin {
        Coin::Penny =&gt; 1,
        Coin::Nickel =&gt; 5,
        Coin::Dime =&gt; 10,
        Coin::Quarter(state) =&gt; {
            println!("State quarter from {state:?}!");
            25
        }
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    value_in_cents(Coin::Quarter(UsState::Alaska));
</span><span class="boring">}</span></code></pre></pre>
<p>ุงฺฏุฑ ูุง <code>value_in_cents(Coin::Quarter(UsState::Alaska))</code> ุฑุง ูุฑุงุฎูุงู ฺฉููุ ููุฏุงุฑ <code>coin</code> ุจุฑุงุจุฑ ุจุง <code>Coin::Quarter(UsState::Alaska)</code> ุฎูุงูุฏ ุจูุฏ. ููฺฏุงู ฺฉู ุขู ููุฏุงุฑ ุฑุง ุจุง ูุฑ ุจุงุฒู <code>match</code> ููุงุณู ูโฺฉููุ ูฺโฺฉุฏุงู ุงุฒ ุขูโูุง ูุทุงุจูุช ูุฏุงุฑูุฏ ุชุง ุงูฺฉู ุจู <code>Coin::Quarter(state)</code> ุจุฑุณู. ุฏุฑ ุงู ููุทูุ ุงุชุตุงู ุจุฑุง <code>state</code> ููุฏุงุฑ <code>UsState::Alaska</code> ุฎูุงูุฏ ุจูุฏ. ุณูพุณ ูโุชูุงูู ุงุฒ ุขู ุงุชุตุงู ุฏุฑ ุนุจุงุฑุช <code>println!</code> ุงุณุชูุงุฏู ฺฉูู ู ุจู ุงู ุชุฑุชุจ ููุฏุงุฑ ุฏุงุฎู ุงุงูุช ุฑุง ุงุฒ ุญุงูุช <code>Quarter</code> enum <code>Coin</code> ุงุณุชุฎุฑุงุฌ ฺฉูู.</p>
<h3 id="ุชุทุจู-ุจุง-optiont"><a class="header" href="#ุชุทุจู-ุจุง-optiont">ุชุทุจู ุจุง <code>Option&lt;T&gt;</code></a></h3>
<p>ุฏุฑ ุจุฎุด ูุจูุ ูุง ูโุฎูุงุณุชู ููุฏุงุฑ ุฏุงุฎู <code>T</code> ุฑุง ุงุฒ ุญุงูุช <code>Some</code> ุงุณุชุฎุฑุงุฌ ฺฉูู ุฒูุงู ฺฉู ุงุฒ <code>Option&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉุฑุฏูุ ููฺูู ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุญุงูุชโูุง <code>Option&lt;T&gt;</code> ุฑุง ูุฏุฑุช ฺฉููุ ููุงูุทูุฑ ฺฉู ุจุง enum <code>Coin</code> ุงูุฌุงู ุฏุงุฏู! ุจู ุฌุง ููุงุณู ุณฺฉูโูุงุ ุญุงูุชโูุง <code>Option&lt;T&gt;</code> ุฑุง ููุงุณู ูโฺฉููุ ุงูุง ุฑูุด ฺฉุงุฑ ุนุจุงุฑุช <code>match</code> ููุงู ุจุงู ูโูุงูุฏ.</p>
<p>ุจุงุฏ ูุฑุถ ฺฉูู ฺฉู ูโุฎูุงูู ุชุงุจุน ุจููุณู ฺฉู ฺฉ <code>Option&lt;i32&gt;</code> ุจฺฏุฑุฏ ู ุงฺฏุฑ ฺฉ ููุฏุงุฑ ุฏุฑูู ุขู ุจุงุดุฏุ ููุฏุงุฑ 1 ุฑุง ุจู ุขู ุงุถุงูู ฺฉูุฏ. ุงฺฏุฑ ูฺ ููุฏุงุฑ ุฏุฑูู ุขู ูุจุงุดุฏุ ุชุงุจุน ุจุงุฏ ููุฏุงุฑ <code>None</code> ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ ู ูฺ ุนููุงุช ุฑุง ุงูุฌุงู ูุฏูุฏ.</p>
<p>ููุดุชู ุงู ุชุงุจุน ุจุง ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุจุณุงุฑ ุขุณุงู ุงุณุช ู ุจู ุงู ุตูุฑุช ุฎูุงูุฏ ุจูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {
        match x {
            None =&gt; None,
            Some(i) =&gt; Some(i + 1),
        }
    }

    let five = Some(5);
    let six = plus_one(five);
    let none = plus_one(None);
<span class="boring">}</span></code></pre></pre>
<p>ุงุฌุงุฒู ุฏูุฏ ุงููู ุงุฌุฑุง <code>plus_one</code> ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฑุฑุณ ฺฉูู. ููุช ฺฉู <code>plus_one(five)</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ูุชุบุฑ <code>x</code> ุฏุฑ ุจุฏูู <code>plus_one</code> ููุฏุงุฑ <code>Some(5)</code> ุฎูุงูุฏ ุฏุงุดุช. ุณูพุณ ุขู ุฑุง ุจุง ูุฑ ุจุงุฒู <code>match</code> ููุงุณู ูโฺฉูู:</p>
<pre><code class="language-rust ignore"><span class="boring">fn main() {
</span><span class="boring">    fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {
</span><span class="boring">        match x {
</span>            None =&gt; None,
<span class="boring">            Some(i) =&gt; Some(i + 1),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    let five = Some(5);
</span><span class="boring">    let six = plus_one(five);
</span><span class="boring">    let none = plus_one(None);
</span><span class="boring">}</span></code></pre>
<p>ููุฏุงุฑ <code>Some(5)</code> ุจุง ุงูฺฏู <code>None</code> ูุทุงุจูุช ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจู ุจุงุฒู ุจุนุฏ ูโุฑูู:</p>
<pre><code class="language-rust ignore"><span class="boring">fn main() {
</span><span class="boring">    fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {
</span><span class="boring">        match x {
</span><span class="boring">            None =&gt; None,
</span>            Some(i) =&gt; Some(i + 1),
<span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    let five = Some(5);
</span><span class="boring">    let six = plus_one(five);
</span><span class="boring">    let none = plus_one(None);
</span><span class="boring">}</span></code></pre>
<p>ุขุง <code>Some(5)</code> ุจุง <code>Some(i)</code> ูุทุงุจูุช ุฏุงุฑุฏุ ุจูู! ูุง ููุงู ุญุงูุช ุฑุง ุฏุงุฑู. ููุฏุงุฑ <code>i</code> ุจู ููุฏุงุฑ ุฏุงุฎู <code>Some</code> ูุชุตู ูโุดูุฏุ ุจูุงุจุฑุงู <code>i</code> ููุฏุงุฑ <code>5</code> ูโฺฏุฑุฏ. ุณูพุณ ฺฉุฏ ููุฌูุฏ ุฏุฑ ุจุงุฒู <code>match</code> ุงุฌุฑุง ูโุดูุฏุ ุจูุงุจุฑุงู ููุฏุงุฑ 1 ุจู ููุฏุงุฑ <code>i</code> ุงุถุงูู ูโฺฉูู ู ฺฉ ููุฏุงุฑ ุฌุฏุฏ <code>Some</code> ุจุง ููุฏุงุฑ ฺฉู <code>6</code> ุงุฌุงุฏ ูโฺฉูู.</p>
<p>ุญุงูุง ุงุฌุงุฒู ุฏูุฏ ุงุฌุฑุง ุฏูู <code>plus_one</code> ุฑุง ุฏุฑ ููุฑุณุช 6-5 ุฏุฑ ูุธุฑ ุจฺฏุฑูุ ุฌุง ฺฉู ููุฏุงุฑ <code>x</code> ุจุฑุงุจุฑ ุจุง <code>None</code> ุงุณุช. ูุง ูุงุฑุฏ <code>match</code> ูโุดูู ู ุขู ุฑุง ุจุง ุงููู ุจุงุฒู ููุงุณู ูโฺฉูู:</p>
<pre><code class="language-rust ignore"><span class="boring">fn main() {
</span><span class="boring">    fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {
</span><span class="boring">        match x {
</span>            None =&gt; None,
<span class="boring">            Some(i) =&gt; Some(i + 1),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    let five = Some(5);
</span><span class="boring">    let six = plus_one(five);
</span><span class="boring">    let none = plus_one(None);
</span><span class="boring">}</span></code></pre>
<p>ุงู ุจุงุฑ ูุทุงุจูุช ุฏุงุฑุฏ! ูฺ ููุฏุงุฑ ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ูุฌูุฏ ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจุฑูุงูู ูุชููู ูโุดูุฏ ู ููุฏุงุฑ <code>None</code> ุฏุฑ ุณูุช ุฑุงุณุช <code>=&gt;</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงุฒ ุขูุฌุง ฺฉู ุงููู ุจุงุฒู ูุทุงุจูุช ุฏุงุดุชุ ุจุงุฒููุง ุฏฺฏุฑ ุจุฑุฑุณ ููโุดููุฏ.</p>
<p>ุชุฑฺฉุจ <code>match</code> ู enumูุง ุฏุฑ ุจุณุงุฑ ุงุฒ ูููุนุชโูุง ููุฏ ุงุณุช. ุงู ุงูฺฏู ุฑุง ุฏุฑ ฺฉุฏ Rust ุฒุงุฏ ุฎูุงูุฏ ุฏุฏ: <code>match</code> ุฑู ฺฉ enumุ ุงุชุตุงู ฺฉ ูุชุบุฑ ุจู ุฏุงุฏู ุฏุงุฎูุ ู ุณูพุณ ุงุฌุฑุง ฺฉุฏ ุจุฑ ุงุณุงุณ ุขู. ููฺฉู ุงุณุช ุฏุฑ ุงุจุชุฏุง ฺฉู ุณุฎุช ุจุงุดุฏุ ุงูุง ููุช ุจู ุขู ุนุงุฏุช ฺฉูุฏุ ุขุฑุฒู ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ุฏุฑ ููู ุฒุจุงูโูุง ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุงู ุณุงุฒู ูููุงุฑู ฺฉ ุงุฒ ูฺฺฏโูุง ููุฑุฏ ุนูุงูู ฺฉุงุฑุจุฑุงู ุงุณุช.</p>
<h3 id="ุชุทุงุจููุง-exhaustive-ูุณุชูุฏ"><a class="header" href="#ุชุทุงุจููุง-exhaustive-ูุณุชูุฏ">ุชุทุงุจูโูุง Exhaustive ูุณุชูุฏ</a></h3>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ุฌูุจูโูุง ุนุจุงุฑุช <code>match</code> ุงู ุงุณุช ฺฉู ุงูฺฏููุง ุจุงุฒููุง ุจุงุฏ ุชูุงู ุญุงูุชโูุง ููฺฉู ุฑุง ูพูุดุด ุฏููุฏ. ุจู ุงู ูุณุฎู ุงุฒ ุชุงุจุน <code>plus_one</code> ฺฉู ฺฉ ุจุงฺฏ ุฏุงุฑุฏ ู ฺฉุงููพุงู ููโุดูุฏ ุชูุฌู ฺฉูุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {
        match x {
            Some(i) =&gt; Some(i + 1),
        }
    }
<span class="boring">
</span><span class="boring">    let five = Some(5);
</span><span class="boring">    let six = plus_one(five);
</span><span class="boring">    let none = plus_one(None);
</span><span class="boring">}</span></code></pre>
<p>ูุง ุญุงูุช <code>None</code> ุฑุง ูุฏุฑุช ูฺฉุฑุฏูโุงูุ ุจูุงุจุฑุงู ุงู ฺฉุฏ ุจุงุนุซ ุจุฑูุฒ ฺฉ ุจุงฺฏ ุฎูุงูุฏ ุดุฏ. ุฎูุดุจุฎุชุงููุ ุงู ฺฉ ุจุงฺฏ ุงุณุช ฺฉู Rust ูโุชูุงูุฏ ุขู ุฑุง ุชุดุฎุต ุฏูุฏ. ุงฺฏุฑ ุชูุงุด ฺฉูู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉููุ ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling enums v0.1.0 (file:///projects/enums)
error[E0004]: non-exhaustive patterns: `None` not covered
   --&gt; src/main.rs:3:15
    |
3   |         match x {
    |               ^ pattern `None` not covered
    |
note: `Option&lt;i32&gt;` defined here
   --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/core/src/option.rs:571:1
    |
571 | pub enum Option&lt;T&gt; {
    | ^^^^^^^^^^^^^^^^^^
...
575 |     None,
    |     ---- not covered
    = note: the matched value is of type `Option&lt;i32&gt;`
help: ensure that all possible cases are being handled by adding a match arm with a wildcard pattern or an explicit pattern as shown
    |
4   ~             Some(i) =&gt; Some(i + 1),
5   ~             None =&gt; todo!(),
    |

For more information about this error, try `rustc --explain E0004`.
error: could not compile `enums` (bin "enums") due to 1 previous error
</code></pre>
<p>Rust ูโุฏุงูุฏ ฺฉู ูุง ูุฑ ุญุงูุช ููฺฉู ุฑุง ูพูุดุด ูุฏุงุฏูโุงู ู ุญุช ูโุฏุงูุฏ ฺฉู ฺฉุฏุงู ุงูฺฏู ุฑุง ูุฑุงููุด ฺฉุฑุฏูโุงู! ุชุทุงุจูโูุง ุฏุฑ Rust <em>exhaustive</em> ูุณุชูุฏ: ูุง ุจุงุฏ ูุฑ ุญุงูุช ููฺฉู ุฑุง ูุฏุฑุช ฺฉูู ุชุง ฺฉุฏ ูุนุชุจุฑ ุจุงุดุฏ. ุจู ูฺู ุฏุฑ ููุฑุฏ <code>Option&lt;T&gt;</code>ุ ููุช ฺฉู Rust ุงุฒ ูุฑุงููุด ฺฉุฑุฏู ูุฏุฑุช ุตุฑุญ ุญุงูุช <code>None</code> ุฌููฺฏุฑ ูโฺฉูุฏุ ุงุฒ ูุฑุถ ูุงุฏุฑุณุช ูุฌูุฏ ููุฏุงุฑ ุฒูุงู ฺฉู ููฺฉู ุงุณุช null ุจุงุดุฏ ูุญุงูุธุช ูโฺฉูุฏ ู ุจู ุงู ุชุฑุชุจ ุงุดุชุจุงู ููุงุฑุฏ ุฏูุงุฑ ฺฉู ูุจูุงู ุจุญุซ ุดุฏ ุฑุง ุบุฑููฺฉู ูโุณุงุฒุฏ.</p>
<h3 id="ุงูฺฏููุง-catch-all-ู-placeholder-_"><a class="header" href="#ุงูฺฏููุง-catch-all-ู-placeholder-_">ุงูฺฏููุง Catch-all ู Placeholder <code>_</code></a></h3>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ Enumูุงุ ูโุชูุงูู ุงูุฏุงูุงุช ูฺูโุง ุจุฑุง ฺูุฏ ููุฏุงุฑ ุฎุงุต ุงูุฌุงู ุฏููุ ุงูุง ุจุฑุง ุชูุงู ููุงุฏุฑ ุฏฺฏุฑ ฺฉ ุนูู ูพุดโูุฑุถ ุฏุงุดุชู ุจุงุดู. ุชุตูุฑ ฺฉูุฏ ฺฉู ุฏุฑ ุญุงู ูพุงุฏูโุณุงุฒ ฺฉ ุจุงุฒ ูุณุชุฏ ฺฉู ุงฺฏุฑ ุจุงุฒฺฉู ุนุฏุฏ 3 ุฑู ุชุงุณ ุจุงูุฑุฏุ ุญุฑฺฉุช ููโฺฉูุฏ ุงูุง ฺฉ ฺฉูุงู ุฒุจุง ุฌุฏุฏ ูโฺฏุฑุฏ. ุงฺฏุฑ ุนุฏุฏ 7 ุจุงูุฑุฏุ ุจุงุฒฺฉู ฺฉ ฺฉูุงู ุฒุจุง ุงุฒ ุฏุณุช ูโุฏูุฏ. ุจุฑุง ุชูุงู ููุงุฏุฑ ุฏฺฏุฑุ ุจุงุฒฺฉู ุจู ุงูุฏุงุฒู ุนุฏุฏ ุฑู ุชุฎุชู ุจุงุฒ ุญุฑฺฉุช ูโฺฉูุฏ. ุฏุฑ ุงูุฌุง ฺฉ ุนุจุงุฑุช <code>match</code> ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ุงู ููุทู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ูุชุฌูโ ูพุฑุชุงุจ ุชุงุณ ุจู ุฌุง ููุฏุงุฑ ุชุตุงุฏูุ ุจู ุตูุฑุช ูุงุฑุฏฺฉุฏ ุดุฏู ูุฑุงุฑ ุฏุงุฏู ุดุฏู ุงุณุชุ ู ุชูุงู ููุทู ุฏฺฏุฑ ุจุง ุชูุงุจุน ุจุฏูู ุจุฏูู ูุดุงู ุฏุงุฏู ุดุฏูโุงูุฏ ุฒุฑุง ูพุงุฏูโุณุงุฒ ุขูโูุง ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุงู ูุซุงู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let dice_roll = 9;
    match dice_roll {
        3 =&gt; add_fancy_hat(),
        7 =&gt; remove_fancy_hat(),
        other =&gt; move_player(other),
    }

    fn add_fancy_hat() {}
    fn remove_fancy_hat() {}
    fn move_player(num_spaces: u8) {}
<span class="boring">}</span></code></pre></pre>
<p>ุจุฑุง ุฏู ุจุงุฒู ุงููุ ุงูฺฏููุง ููุงุฏุฑ ุซุงุจุช <code>3</code> ู <code>7</code> ูุณุชูุฏ. ุจุฑุง ุจุงุฒู ุขุฎุฑ ฺฉู ุชูุงู ููุงุฏุฑ ููฺฉู ุฏฺฏุฑ ุฑุง ูพูุดุด ูโุฏูุฏุ ุงูฺฏู ฺฉ ูุชุบุฑ ุงุณุช ฺฉู ูุง ุขู ุฑุง <code>other</code> ูุงูุฏูโุงู. ฺฉุฏ ฺฉู ุจุฑุง ุจุงุฒู <code>other</code> ุงุฌุฑุง ูโุดูุฏุ ูุชุบุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>move_player</code> ูโูุฑุณุชุฏ.</p>
<p>ุงู ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏุ ุญุช ุงฺฏุฑ ุชูุงู ููุงุฏุฑ ููฺฉู ฺฉ <code>u8</code> ุฑุง ููุฑุณุช ูฺฉุฑุฏู ุจุงุดูุ ุฒุฑุง ุจุงุฒู ุขุฎุฑ ููู ููุงุฏุฑ ุฐฺฉุฑ ูุดุฏู ุฑุง ุชุทุจู ูโุฏูุฏ. ุงู ุงูฺฏู catch-all ูุงุฒ ุชุทุงุจู exhaustive ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุงุฏ ุจุงุฒู catch-all ุฑุง ุฏุฑ ุขุฎุฑ ูุฑุงุฑ ุฏูู ุฒุฑุง ุงูฺฏููุง ุจู ุชุฑุชุจ ุงุฑุฒุงุจ ูโุดููุฏ. ุงฺฏุฑ ุจุงุฒู catch-all ุฑุง ุฒูุฏุชุฑ ูุฑุงุฑ ุฏููุ ุจุงุฒููุง ุฏฺฏุฑ ูุฑฺฏุฒ ุงุฌุฑุง ูุฎูุงููุฏ ุดุฏุ ุจูุงุจุฑุงู Rust ุจู ูุง ูุดุฏุงุฑ ูโุฏูุฏ ุงฺฏุฑ ุจุนุฏ ุงุฒ ฺฉ ุจุงุฒู catch-all ุจุงุฒููุง ุฏฺฏุฑ ุงุถุงูู ฺฉูู!</p>
<p>Rust ููฺูู ฺฉ ุงูฺฏู ุจู ูุงู <code>_</code> ุฏุงุฑุฏ ฺฉู ูโุชูุงูู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู ููุช ฺฉู ูโุฎูุงูู ฺฉ catch-all ุฏุงุดุชู ุจุงุดู ุงูุง ููโุฎูุงูู ููุฏุงุฑ ุฏุฑ ุงูฺฏู catch-all ุฑุง <em>ุงุณุชูุงุฏู ฺฉูู</em>. ุงู ุจู Rust ูโฺฏูุฏ ฺฉู ูุง ูุตุฏ ูุฏุงุฑู ููุฏุงุฑ ุฑุง ุงุณุชูุงุฏู ฺฉููุ ุจูุงุจุฑุงู Rust ุฏุฑุจุงุฑู ฺฉ ูุชุบุฑ ุงุณุชูุงุฏู ูุดุฏู ุจู ูุง ูุดุฏุงุฑ ููโุฏูุฏ.</p>
<p>ุจุงุฏ ููุงูู ุจุงุฒ ุฑุง ุชุบุฑ ุฏูู: ุญุงูุง ุงฺฏุฑ ุจุงุฒฺฉู ูุฑ ฺุฒ ุจู ุบุฑ ุงุฒ 3 ุง 7 ุจุงูุฑุฏุ ุจุงุฏ ุฏูุจุงุฑู ุชุงุณ ุจูุฏุงุฒุฏ. ุฏฺฏุฑ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ catch-all ูุณุชุ ุจูุงุจุฑุงู ูโุชูุงูู ฺฉุฏ ุฎูุฏ ุฑุง ุจูโุฌุง ูุชุบุฑ ุจู ูุงู <code>other</code> ุงุฒ <code>_</code> ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let dice_roll = 9;
    match dice_roll {
        3 =&gt; add_fancy_hat(),
        7 =&gt; remove_fancy_hat(),
        _ =&gt; reroll(),
    }

    fn add_fancy_hat() {}
    fn remove_fancy_hat() {}
    fn reroll() {}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ูุซุงู ูุฒ ูุงุฒ ุชุทุงุจู exhaustive ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ ุฒุฑุง ูุง ุตุฑุญุงู ุชูุงู ููุงุฏุฑ ุฏฺฏุฑ ุฑุง ุฏุฑ ุจุงุฒู ุขุฎุฑ ูุงุฏุฏู ฺฏุฑูุชูโุงู ู ฺุฒ ุฑุง ูุฑุงููุด ูฺฉุฑุฏูโุงู.</p>
<p>ุฏุฑ ููุงุชุ ููุงูู ุจุงุฒ ุฑุง ฺฉ ุจุงุฑ ุฏฺฏุฑ ุชุบุฑ ูโุฏููุ ุจูุงุจุฑุงู ุงฺฏุฑ ุจุงุฒฺฉู ูุฑ ฺุฒ ุบุฑ ุงุฒ 3 ุง 7 ุจุงูุฑุฏุ ูฺ ฺฉุงุฑ ุฏฺฏุฑ ุฏุฑ ููุจุช ุงู ุงูุฌุงู ููโุดูุฏ. ูโุชูุงูู ุงู ููุถูุน ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ูุงุญุฏ (ููุน <code>tuple</code> ุฎุงู ฺฉู ูุจูุงู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#the-tuple-type">โููุน Tupleโ</a><!-- ignore --> ุฐฺฉุฑ ุดุฏ) ุจู ุนููุงู ฺฉุฏ ฺฉู ุจุง ุจุงุฒู <code>_</code> ููุฑุงู ุงุณุช ุจุงู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let dice_roll = 9;
    match dice_roll {
        3 =&gt; add_fancy_hat(),
        7 =&gt; remove_fancy_hat(),
        _ =&gt; (),
    }

    fn add_fancy_hat() {}
    fn remove_fancy_hat() {}
<span class="boring">}</span></code></pre></pre>
<p>ุงูุฌุงุ ูุง ุจู Rust ุตุฑุญุงู ูโฺฏูู ฺฉู ูุตุฏ ูุฏุงุฑู ูฺ ููุฏุงุฑ ุฏฺฏุฑ ุฑุง ฺฉู ุจุง ูฺ ุงูฺฏู ุฏุฑ ุจุงุฒููุง ูุจู ูุทุงุจูุช ูุฏุงุฑุฏ ุงุณุชูุงุฏู ฺฉูู ู ููโุฎูุงูู ุฏุฑ ุงู ุญุงูุช ฺฉุฏ ุงุฌุฑุง ฺฉูู.</p>
<p>ุฏุฑุจุงุฑู ุงูฺฏููุง ู ุชุทุจู ุขูโูุง ูุทุงูุจ ุจุดุชุฑ ุฏุฑ <a href="ch19-00-patterns.html">ูุตู 19</a> ูพูุดุด ุฎูุงูู ุฏุงุฏ. ูุนูุงู ุจู ุณูุชฺฉุณ <code>if let</code> ูโูพุฑุฏุงุฒู ฺฉู ูโุชูุงูุฏ ุฏุฑ ููุงูุน ฺฉู ุนุจุงุฑุช <code>match</code> ฺฉู ุทููุงู ุจู ูุธุฑ ูโุฑุณุฏุ ููุฏ ุจุงุดุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฌุฑุงู-ฺฉูุชุฑู-ูุฎุชุตุฑ-ุจุง-if-let-ู-let-else"><a class="header" href="#ุฌุฑุงู-ฺฉูุชุฑู-ูุฎุชุตุฑ-ุจุง-if-let-ู-let-else">ุฌุฑุงู ฺฉูุชุฑู ูุฎุชุตุฑ ุจุง <code>if let</code> ู <code>let else</code></a></h2>
<p>ุฏุณุชูุฑ <code>if let</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู <code>if</code> ู <code>let</code> ุฑุง ุชุฑฺฉุจ ฺฉูุฏ ู ุจู ุดฺฉู ฺฉูุชุฑ ูพุฑุญุฌูุ ููุงุฏุฑ ูุทุงุจู ุจุง ฺฉ ุงูฺฏู ุฑุง ูุฏุฑุช ฺฉูุฏ ู ุณุงุฑ ููุงุฏุฑ ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏ. ุจุฑูุงููโุง ฺฉู ุฏุฑ ูุณุชูฺฏ 6-6 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุจุฑ ุฑู ฺฉ ููุฏุงุฑ <code>Option&lt;u8&gt;</code> ุฏุฑ ูุชุบุฑ <code>config_max</code> ูุทุงุจูุช ุฏุงุฑุฏุ ุงูุง ุชููุง ุฒูุงู ฺฉู ููุฏุงุฑ <code>Some</code> ุจุงุดุฏ ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let config_max = Some(3u8);
    match config_max {
        Some(max) =&gt; println!("The maximum is configured to be {max}"),
        _ =&gt; (),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 6-6: ฺฉ <code>match</code> ฺฉู ุชููุง ุจู ุงุฌุฑุง ฺฉุฏ ุฒูุงู ฺฉู ููุฏุงุฑ <code>Some</code> ุงุณุช ุงููุช ูโุฏูุฏ</figcaption>
</figure>
<p>ุงฺฏุฑ ููุฏุงุฑ <code>Some</code> ุจุงุดุฏุ ููุฏุงุฑ ููุฌูุฏ ุฏุฑ ูุชุบุฑ <code>Some</code> ุฑุง ุจุง ุงุชุตุงู ุจู ูุชุบุฑ <code>max</code> ุฏุฑ ุงูฺฏู ฺุงูพ ูโฺฉูู. ูุง ููโุฎูุงูู ุจุง ููุฏุงุฑ <code>None</code> ฺฉุงุฑ ุงูุฌุงู ุฏูู. ุจุฑุง ุจุฑุขูุฑุฏู ฺฉุฑุฏู ุฏุณุชูุฑ <code>match</code>ุ ุจุงุฏ <code>_ =&gt; ()</code> ุฑุง ุจุนุฏ ุงุฒ ูพุฑุฏุงุฒุด ุชููุง ฺฉ ููุฑุฏ ุงุถุงูู ฺฉููุ ฺฉู ฺฉุฏ ุงุถุงู ุขุฒุงุฑุฏููุฏูโุง ุงุณุช.</p>
<p>ุฏุฑ ุนูุถุ ูโุชูุงูู ุงู ฺฉุฏ ุฑุง ุจู ุดฺฉู ฺฉูุชุงูโุชุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>if let</code> ุจููุณู. ฺฉุฏ ุฒุฑ ุจู ููุงู ุดฺฉู <code>match</code> ุฏุฑ ูุณุชูฺฏ 6-6 ุนูู ูโฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let config_max = Some(3u8);
    if let Some(max) = config_max {
        println!("The maximum is configured to be {max}");
    }
<span class="boring">}</span></code></pre></pre>
<p>ุฏุณุชูุฑ <code>if let</code> ฺฉ ุงูฺฏู ู ฺฉ ุนุจุงุฑุช ุฑุง ูโฺฏุฑุฏ ฺฉู ุจุง ฺฉ ุนูุงูุช ูุณุงู ุฌุฏุง ุดุฏูโุงูุฏ. ุงู ุฏุณุชูุฑ ููุงููุฏ <code>match</code> ุนูู ูโฺฉูุฏุ ุฌุง ฺฉู ุนุจุงุฑุช ุจู <code>match</code> ุฏุงุฏู ูโุดูุฏ ู ุงูฺฏู ุจุงุฒู ุงูู ุขู ุงุณุช. ุฏุฑ ุงู ููุฑุฏุ ุงูฺฏู <code>Some(max)</code> ุงุณุช ู ูุชุบุฑ <code>max</code> ููุฏุงุฑ ุฏุงุฎู <code>Some</code> ุฑุง ูโฺฏุฑุฏ. ุณูพุณ ูโุชูุงูู ุงุฒ <code>max</code> ุฏุฑ ุจุฏูู ุจููฺฉ <code>if let</code> ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุงุฒู ูุชูุงุธุฑ <code>match</code> ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุงุณุชูุงุฏู ฺฉูู. ฺฉุฏ ุฏุฑ ุจููฺฉ <code>if let</code> ุชููุง ุฏุฑ ุตูุฑุช ุงุฌุฑุง ูโุดูุฏ ฺฉู ููุฏุงุฑ ุจุง ุงูฺฏู ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุงุณุชูุงุฏู ุงุฒ <code>if let</code> ุจู ูุนูุง ุชุงูพ ฺฉูุชุฑุ ุชูุฑูุชฺฏ ฺฉูุชุฑ ู ฺฉุฏ ุงุถุงู ฺฉูุชุฑ ุงุณุช. ุจุง ุงู ุญุงูุ ุดูุง ุจุฑุฑุณ ฺฉุงูู ฺฉู <code>match</code> ุงุนูุงู ูโฺฉูุฏ ุฑุง ุงุฒ ุฏุณุช ูโุฏูุฏ. ุงูุชุฎุงุจ ุจู <code>match</code> ู <code>if let</code> ุจู ุงู ุจุณุชฺฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ูุถุนุช ุฎุงุต ุดูุง ฺู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ ู ุขุง ุจูโุฏุณุช ุขูุฑุฏู ุงุฎุชุตุงุฑ ุจู ุจูุง ุงุฒ ุฏุณุช ุฏุงุฏู ุจุฑุฑุณ ฺฉุงููุ ูุนุงูููโ ููุงุณุจ ุงุณุช ุง ุฎุฑ.</p>
<p>ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูโุชูุงูุฏ <code>if let</code> ุฑุง ุจู ุนููุงู ฺฉ ููุฏ ุณูุชฺฉุณ ุจุฑุง <code>match</code> ุชุตูุฑ ฺฉูุฏ ฺฉู ฺฉุฏ ุฑุง ุฒูุงู ฺฉู ููุฏุงุฑ ุจุง ฺฉ ุงูฺฏู ูุทุงุจูุช ุฏุงุฑุฏ ุงุฌุฑุง ูโฺฉูุฏ ู ุณูพุณ ุชูุงู ููุงุฏุฑ ุฏฺฏุฑ ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ.</p>
<p>ูุง ูโุชูุงูู ฺฉ <code>else</code> ุจุง ฺฉ <code>if let</code> ุงุถุงูู ฺฉูู. ุจููฺฉ ฺฉุฏ ฺฉู ุจุง <code>else</code> ููุฑุงู ูโุดูุฏ ููุงู ุจููฺฉ ฺฉุฏ ุงุณุช ฺฉู ุจุง ููุฑุฏ <code>_</code> ุฏุฑ ุฏุณุชูุฑ <code>match</code> ฺฉู ูุนุงุฏู <code>if let</code> ู <code>else</code> ุงุณุช ููุฑุงู ูโุดูุฏ. ุฏุณุชูุฑ <code>Coin</code> ุฑุง ุฏุฑ ูุณุชูฺฏ 6-4 ุจู ุงุฏ ุจุงูุฑุฏุ ุฌุง ฺฉู ููุน <code>Quarter</code> ฺฉ ููุฏุงุฑ <code>UsState</code> ุฑุง ูุฒ ุฏุฑ ุฎูุฏ ุฌุง ุฏุงุฏู ุจูุฏ. ุงฺฏุฑ ูโุฎูุงุณุชู ุชูุงู ุณฺฉูโูุง ุบุฑ <code>Quarter</code> ุฑุง ฺฉู ูโุจูู ุจุดูุงุฑูุ ููโุฒูุงู ุงุงูุชโูุง ุณฺฉูโูุง <code>Quarter</code> ุฑุง ุงุนูุงู ฺฉููุ ูโุชูุงูุณุชู ุงู ฺฉุงุฑ ุฑุง ุจุง ฺฉ ุฏุณุชูุฑ <code>match</code> ุงูุฌุงู ุฏููุ ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let coin = Coin::Penny;
</span>    let mut count = 0;
    match coin {
        Coin::Quarter(state) =&gt; println!("State quarter from {state:?}!"),
        _ =&gt; count += 1,
    }
<span class="boring">}</span></code></pre></pre>
<p>ุง ูโุชูุงูุณุชู ุงุฒ ฺฉ ุนุจุงุฑุช <code>if let</code> ู <code>else</code> ุงุณุชูุงุฏู ฺฉููุ ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)]
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let coin = Coin::Penny;
</span>    let mut count = 0;
    if let Coin::Quarter(state) = coin {
        println!("State quarter from {state:?}!");
    } else {
        count += 1;
    }
<span class="boring">}</span></code></pre></pre>
<h2 id="ูุงูุฏู-ุฏุฑ-ูุณุฑ-ุฎูุดุญุงู-ุจุง-let-else"><a class="header" href="#ูุงูุฏู-ุฏุฑ-ูุณุฑ-ุฎูุดุญุงู-ุจุง-let-else">ูุงูุฏู ุฏุฑ โูุณุฑ ุฎูุดุญุงูโ ุจุง <code>let else</code></a></h2>
<p>ฺฉ ุงูฺฏู ูุนููู ุงู ุงุณุช ฺฉู ุฒูุงู ฺฉู ููุฏุงุฑ ูุฌูุฏ ุฏุงุฑุฏ ูุญุงุณุจุงุช ุฑุง ุงูุฌุงู ุฏูุฏ ู ุฏุฑ ุบุฑ ุงู ุตูุฑุช ฺฉ ููุฏุงุฑ ูพุดโูุฑุถ ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุจุง ุงุฏุงูู ูุซุงู ูุง ุงุฒ ุณฺฉูโูุง ุจุง ููุฏุงุฑ <code>UsState</code>ุ ุงฺฏุฑ ูโุฎูุงุณุชู ฺุฒ ุฎูุฏูโุฏุงุฑ ุจฺฏูู ฺฉู ุจุณุชู ุจู ุณู ุงุงูุช ุจุฑ ุฑู ุณฺฉู ุจูุฏุ ููฺฉู ุงุณุช ูุชุฏ ุจุฑุง ุจุฑุฑุณ ุณู ุงุงูุช ุงุฌุงุฏ ฺฉููุ ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)] // so we can inspect the state in a minute
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span>impl UsState {
    fn existed_in(&amp;self, year: u16) -&gt; bool {
        match self {
            UsState::Alabama =&gt; year &gt;= 1819,
            UsState::Alaska =&gt; year &gt;= 1959,
            // -- snip --
        }
    }
}
<span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn describe_state_quarter(coin: Coin) -&gt; Option&lt;String&gt; {
</span><span class="boring">    if let Coin::Quarter(state) = coin {
</span><span class="boring">        if state.existed_in(1900) {
</span><span class="boring">            Some(format!("{state:?} is pretty old, for America!"))
</span><span class="boring">        } else {
</span><span class="boring">            Some(format!("{state:?} is relatively new."))
</span><span class="boring">        }
</span><span class="boring">    } else {
</span><span class="boring">        None
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    if let Some(desc) = describe_state_quarter(Coin::Quarter(UsState::Alaska)) {
</span><span class="boring">        println!("{desc}");
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre></pre>
<p>ุณูพุณ ููฺฉู ุงุณุช ุงุฒ <code>if let</code> ุจุฑุง ูุทุงุจูุช ุจุง ููุน ุณฺฉู ุงุณุชูุงุฏู ฺฉููุ ูุชุบุฑ ุจู ูุงู <code>state</code> ุฑุง ุฏุฑ ุจุฏูู ุดุฑุท ูุนุฑู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 6-7 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)] // so we can inspect the state in a minute
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl UsState {
</span><span class="boring">    fn existed_in(&amp;self, year: u16) -&gt; bool {
</span><span class="boring">        match self {
</span><span class="boring">            UsState::Alabama =&gt; year &gt;= 1819,
</span><span class="boring">            UsState::Alaska =&gt; year &gt;= 1959,
</span><span class="boring">            // -- snip --
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span>fn describe_state_quarter(coin: Coin) -&gt; Option&lt;String&gt; {
    if let Coin::Quarter(state) = coin {
        if state.existed_in(1900) {
            Some(format!("{state:?} is pretty old, for America!"))
        } else {
            Some(format!("{state:?} is relatively new."))
        }
    } else {
        None
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    if let Some(desc) = describe_state_quarter(Coin::Quarter(UsState::Alaska)) {
</span><span class="boring">        println!("{desc}");
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 6-7: ุงุณุชูุงุฏู ุงุฒ <code>if let</code> ุจุฑุง ุชููุฏ ฺฉ ููุฏุงุฑ ุง ุจุงุฒฺฏุดุช ุฒูุฏููฺฏุงู.</figcaption>
</figure>
<p>ุงู ฺฉุงุฑ ุงูุฌุงู ูโุดูุฏุ ุงูุง ฺฉุงุฑ ุฑุง ุจู ุฏุงุฎู ุจุฏูู ุฏุณุชูุฑ <code>if let</code> ููุชูู ูโฺฉูุฏุ ู ุงฺฏุฑ ฺฉุงุฑ ุงูุฌุงูโุดุฏู ูพฺุฏูโุชุฑ ุจุงุดุฏุ ููฺฉู ุงุณุช ุฏุดูุงุฑ ุจุงุดุฏ ฺฉู ุฏููุงู ฺฺฏููู ุดุงุฎูโูุง ุณุทุญ ุจุงูุง ุจู ูู ูุฑุจูุท ูุณุชูุฏ. ูุง ููฺูู ูโุชูุงูู ุงุฒ ุงู ูุงูุนุช ุงุณุชูุงุฏู ฺฉูู ฺฉู ุนุจุงุฑุงุช ฺฉ ููุฏุงุฑ ุชููุฏ ูโฺฉููุฏุ ุง ุจุฑุง ุชููุฏ <code>state</code> ุงุฒ <code>if let</code> ุง ุจุฑุง ุจุงุฒฺฏุดุช ุฒูุฏููฺฏุงูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 6-8 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. (ุดูุง ูโุชูุงูุฏ ูุดุงุจู ุขู ุฑุง ุจุง ฺฉ <code>match</code> ูุฒ ุงูุฌุงู ุฏูุฏ!)</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)] // so we can inspect the state in a minute
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl UsState {
</span><span class="boring">    fn existed_in(&amp;self, year: u16) -&gt; bool {
</span><span class="boring">        match self {
</span><span class="boring">            UsState::Alabama =&gt; year &gt;= 1819,
</span><span class="boring">            UsState::Alaska =&gt; year &gt;= 1959,
</span><span class="boring">            // -- snip --
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span>fn describe_state_quarter(coin: Coin) -&gt; Option&lt;String&gt; {
    let state = if let Coin::Quarter(state) = coin {
        state
    } else {
        return None;
    };

    if state.existed_in(1900) {
        Some(format!("{state:?} is pretty old, for America!"))
    } else {
        Some(format!("{state:?} is relatively new."))
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    if let Some(desc) = describe_state_quarter(Coin::Quarter(UsState::Alaska)) {
</span><span class="boring">        println!("{desc}");
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 6-8: ุงุณุชูุงุฏู ุงุฒ <code>if let</code> ุจุฑุง ุชููุฏ ฺฉ ููุฏุงุฑ ุง ุจุงุฒฺฏุดุช ุฒูุฏููฺฏุงู.</figcaption>
</figure>
<p>ุงู ุชุง ุญุฏ ุขุฒุงุฑุฏููุฏู ุงุณุช! ฺฉ ุดุงุฎู <code>if let</code> ฺฉ ููุฏุงุฑ ุชููุฏ ูโฺฉูุฏ ู ุฏฺฏุฑ ฺฉุงููุงู ุงุฒ ุชุงุจุน ุจุงุฒูโฺฏุฑุฏุฏ.</p>
<p>ุจุฑุง ุฒุจุงุชุฑ ฺฉุฑุฏู ุงู ุงูฺฏู ุฑุงุฌุ Rust ุงุฒ <code>let</code>-<code>else</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุณูุชฺฉุณ <code>let</code>-<code>else</code> ฺฉ ุงูฺฏู ุฏุฑ ุณูุช ฺูพ ู ฺฉ ุนุจุงุฑุช ุฏุฑ ุณูุช ุฑุงุณุช ูโฺฏุฑุฏุ ุจุณุงุฑ ุดุจู ุจู <code>if let</code>ุ ุงูุง ุดุงุฎู <code>if</code> ูุฏุงุฑุฏ ู ููุท ฺฉ ุดุงุฎู <code>else</code> ุฏุงุฑุฏ. ุงฺฏุฑ ุงูฺฏู ุชุทุงุจู ุฏุงุดุชู ุจุงุดุฏุ ููุฏุงุฑ ุงูฺฏู ุฑุง ุฏุฑ ุฏุงููู ุฎุงุฑุฌ ุจุงูุฏ ูโฺฉูุฏ. ุงฺฏุฑ ุงูฺฏู <em>ุชุทุงุจู ูุฏุงุดุชู ุจุงุดุฏ</em>ุ ุจุฑูุงูู ุจู ุดุงุฎู <code>else</code> ููุชูู ูโุดูุฏ ฺฉู ุจุงุฏ ุงุฒ ุชุงุจุน ุจุงุฒฺฏุฑุฏุฏ.</p>
<p>ุฏุฑ ูุณุชูฺฏ 6-9ุ ูโุชูุงูุฏ ุจุจูุฏ ฺฉู ูุณุชูฺฏ 6-8 ฺฺฏููู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>let else</code> ุจู ุฌุง <code>if let</code> ุจู ูุธุฑ ูโุฑุณุฏ. ุชูุฌู ฺฉูุฏ ฺฉู ุงู ุฑูุด โุฏุฑ ูุณุฑ ุฎูุดุญุงูโ ุฏุฑ ุจุฏูู ุงุตู ุชุงุจุน ุจุงู ูโูุงูุฏุ ุจุฏูู ุงูฺฉู ฺฉูุชุฑู ุฌุฑุงู ุจุฑุง ุฏู ุดุงุฎู ุจู ุทูุฑ ูุงุจู ุชูุฌู ูุชูุงูุช ุจุงุดุฏ ููุงูโุทูุฑ ฺฉู <code>if let</code> ุงูุฌุงู ุฏุงุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#[derive(Debug)] // so we can inspect the state in a minute
</span><span class="boring">enum UsState {
</span><span class="boring">    Alabama,
</span><span class="boring">    Alaska,
</span><span class="boring">    // --snip--
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl UsState {
</span><span class="boring">    fn existed_in(&amp;self, year: u16) -&gt; bool {
</span><span class="boring">        match self {
</span><span class="boring">            UsState::Alabama =&gt; year &gt;= 1819,
</span><span class="boring">            UsState::Alaska =&gt; year &gt;= 1959,
</span><span class="boring">            // -- snip --
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">enum Coin {
</span><span class="boring">    Penny,
</span><span class="boring">    Nickel,
</span><span class="boring">    Dime,
</span><span class="boring">    Quarter(UsState),
</span><span class="boring">}
</span><span class="boring">
</span>fn describe_state_quarter(coin: Coin) -&gt; Option&lt;String&gt; {
    let Coin::Quarter(state) = coin else {
        return None;
    };

    if state.existed_in(1900) {
        Some(format!("{state:?} is pretty old, for America!"))
    } else {
        Some(format!("{state:?} is relatively new."))
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    if let Some(desc) = describe_state_quarter(Coin::Quarter(UsState::Alaska)) {
</span><span class="boring">        println!("{desc}");
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 6-9: ุงุณุชูุงุฏู ุงุฒ <code>let else</code> ุจุฑุง ูุงุถุญโุชุฑ ฺฉุฑุฏู ุฌุฑุงู ุฏุฑูู ุชุงุจุน.</figcaption>
</figure>
<p>ุงฺฏุฑ ุฏุฑ ูููุนุช ูุณุชุฏ ฺฉู ููุทู ุจุฑูุงูู ุดูุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ <code>match</code> ุจุณุงุฑ ูพุฑุญุฌู ุงุณุชุ ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู <code>if let</code> ู <code>let else</code> ูุฒ ุฏุฑ ุงุจุฒุงุฑูุง Rust ุดูุง ููุฌูุฏ ูุณุชูุฏ.</p>
<h2 id="ุฎูุงุตู-5"><a class="header" href="#ุฎูุงุตู-5">ุฎูุงุตู</a></h2>
<p>ูุง ุงฺฉููู ูพูุดุด ุฏุงุฏูโุงู ฺฉู ฺฺฏููู ุงุฒ enumูุง ุจุฑุง ุงุฌุงุฏ ุงููุงุน ุณูุงุฑุด ฺฉู ูโุชูุงููุฏ ฺฉ ุงุฒ ูุฌููุนู ููุงุฏุฑ ุดูุงุฑุดโุดุฏู ุจุงุดูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุดุงู ุฏุงุฏูโุงู ฺฉู ฺฺฏููู ููุน <code>Option&lt;T&gt;</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุงุฒ ุณุณุชู ููุน ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุทุงูุง ุงุณุชูุงุฏู ฺฉูุฏ. ููุช ููุงุฏุฑ enum ุฏุงุฏูโูุง ุฏุฑูู ุฎูุฏ ุฏุงุฑูุฏุ ูโุชูุงูุฏ ุงุฒ <code>match</code> ุง <code>if let</code> ุจุฑุง ุงุณุชุฎุฑุงุฌ ู ุงุณุชูุงุฏู ุงุฒ ุขู ููุงุฏุฑ ุงุณุชูุงุฏู ฺฉูุฏุ ุจุณุชู ุจู ุชุนุฏุงุฏ ููุงุฑุฏ ฺฉู ุจุงุฏ ูุฏุฑุช ฺฉูุฏ.</p>
<p>ุจุฑูุงููโูุง Rust ุดูุง ุงฺฉููู ูโุชูุงููุฏ ููุงูู ุฑุง ุฏุฑ ุญูุฒู ุฎูุฏ ุจุงู ฺฉููุฏ ู ุงุฒ ุณุงุฎุชุงุฑูุง ู enumูุง ุงุณุชูุงุฏู ฺฉููุฏ. ุงุฌุงุฏ ุงููุงุน ุณูุงุฑุด ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ API ุดูุง ุงูู ููุน ุฑุง ุชุถูู ูโฺฉูุฏ: ฺฉุงููพุงูุฑ ูุทูุฆู ูโุดูุฏ ฺฉู ุชูุงุจุน ุดูุง ููุท ููุงุฏุฑ ุงุฒ ููุน ฺฉู ูุฑ ุชุงุจุน ุงูุชุธุงุฑ ุฏุงุฑุฏ ุฏุฑุงูุช ูโฺฉููุฏ.</p>
<p>ุจุฑุง ุงุฑุงุฆู ฺฉ API ุณุงุฒูุงูโุงูุชู ุจู ฺฉุงุฑุจุฑุงู ุฎูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ ุขู ุณุงุฏู ุจุงุดุฏ ู ููุท ุฏููุงู ุขูฺู ฺฉุงุฑุจุฑุงู ุดูุง ูุงุฒ ุฏุงุฑูุฏ ุฑุง ุขุดฺฉุงุฑ ฺฉูุฏุ ุญุงูุง ุจู ูุงฺููโูุง Rust ูโูพุฑุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูุฏุฑุช-ูพุฑูฺููุง-ุจุฒุฑฺฏ-ุจุง-ุจุณุชููุง-ุฌุนุจููุง-crates-ู-ูุงฺูููุง"><a class="header" href="#ูุฏุฑุช-ูพุฑูฺููุง-ุจุฒุฑฺฏ-ุจุง-ุจุณุชููุง-ุฌุนุจููุง-crates-ู-ูุงฺูููุง">ูุฏุฑุช ูพุฑูฺูโูุง ุจุฒุฑฺฏ ุจุง ุจุณุชูโูุงุ ุฌุนุจูโูุง (crates) ู ูุงฺููโูุง</a></h1>
<p>ุจุง ููุดุชู ุจุฑูุงููโูุง ุจุฒุฑฺฏโุชุฑุ ุณุงุฒูุงูุฏู ฺฉุฏ ุดูุง ุงููุช ุจุดุชุฑ ูพุฏุง ูโฺฉูุฏ. ุจุง ฺฏุฑููโุจูุฏ ูุงุจูุชโูุง ูุฑุชุจุท ู ุฌุฏุง ฺฉุฑุฏู ฺฉุฏ ฺฉู ูฺฺฏโูุง ูุชูุงุฒ ุฏุงุฑุฏุ ูโุชูุงูุฏ ูุดุฎุต ฺฉูุฏ ฺฉู ฺฉุฏ ฺฉ ูฺฺฏ ุฎุงุต ุฏุฑ ฺฉุฌุง ูพุงุฏูโุณุงุฒ ุดุฏู ู ฺฉุฌุง ูโุชูุงู ุขู ุฑุง ุชุบุฑ ุฏุงุฏ.</p>
<p>ุจุฑูุงููโูุง ฺฉู ุชุงฺฉููู ููุดุชูโุงู ุฏุฑ ฺฉ ูุงฺูู ู ฺฉ ูุงู ุจูุฏูโุงูุฏ. ููุงูโุทูุฑ ฺฉู ูพุฑูฺู ุฑุดุฏ ูโฺฉูุฏุ ุจุงุฏ ฺฉุฏ ุฑุง ุจุง ุชูุณู ุขู ุจู ูุงฺููโูุง ูุฎุชูู ู ุณูพุณ ูุงูโูุง ูุฎุชูู ุณุงุฒูุงูุฏู ฺฉูุฏ. ฺฉ ุจุณุชู ูโุชูุงูุฏ ุดุงูู ฺูุฏู ุฌุนุจู (crate) ุจุงูุฑ ู ุจู ุตูุฑุช ุงุฎุชุงุฑ ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงูู ุจุงุดุฏ. ููุงูโุทูุฑ ฺฉู ุจุณุชู ุฑุดุฏ ูโฺฉูุฏุ ูโุชูุงูุฏ ุจุฎุดโูุง ุฑุง ุจู ุฌุนุจูโูุง (crates) ุฌุฏุงฺฏุงููโุง ฺฉู ุจู ุนููุงู ูุงุจุณุชฺฏโูุง ุฎุงุฑุฌ ุนูู ูโฺฉููุฏ ุงุณุชุฎุฑุงุฌ ฺฉูุฏ. ุงู ูุตู ุชูุงู ุงู ุชฺฉูฺฉโูุง ุฑุง ูพูุดุด ูโุฏูุฏ. ุจุฑุง ูพุฑูฺูโูุง ุจุณุงุฑ ุจุฒุฑฺฏ ฺฉู ุดุงูู ูุฌููุนูโุง ุงุฒ ุจุณุชูโูุง ูุฑุชุจุท ุงุณุช ฺฉู ุจุง ฺฉุฏฺฏุฑ ุชฺฉุงูู ูโุงุจูุฏุ Cargo ูฺฺฏโูุง ุจู ูุงู <em>ูุถุง ฺฉุงุฑ</em> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch14-03-cargo-workspaces.html">ยซูุถุง ฺฉุงุฑ Cargoยป</a> ูุตู ฑด ุจู ุขู ูโูพุฑุฏุงุฒู.</p>
<p>ููฺูู ุฏุฑุจุงุฑู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ฺฉู ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉุฏ ุฑุง ุฏุฑ ุณุทุญ ุจุงูุงุชุฑ ุจุงุฒุงุณุชูุงุฏู ฺฉูุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ: ููุช ฺฉ ุนููุงุช ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงุฏุ ุณุงุฑ ฺฉุฏูุง ูโุชูุงููุฏ ุงุฒ ุทุฑู ุฑุงุจุท ุนููู ฺฉุฏ ุดูุง ุขู ุฑุง ูุฑุงุฎูุงู ฺฉููุฏ ุจุฏูู ุงู ฺฉู ูุงุฒู ุจุงุดุฏ ุจุฏุงููุฏ ฺฺฏููู ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ูุญูู ููุดุชู ฺฉุฏ ุดูุง ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฉุฏุงู ุจุฎุดโูุง ุจุฑุง ุณุงุฑ ฺฉุฏูุง ุนููู ู ูุงุจู ุงุณุชูุงุฏู ูุณุชูุฏ ู ฺฉุฏุงู ุจุฎุดโูุง ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุฎุตูุต ูุณุชูุฏ ฺฉู ูโุชูุงูุฏ ูุฑ ุฒูุงู ุจุฎูุงูุฏ ุชุบุฑ ุฏูุฏ. ุงู ุฑูฺฉุฑุฏ ฺฉ ุฏฺฏุฑ ุงุฒ ุฑูุดโูุง ุงุณุช ฺฉู ููุฏุงุฑ ุฌุฒุฆุงุช ฺฉู ุจุงุฏ ุจู ุฎุงุทุฑ ุจุณูพุงุฑุฏ ุฑุง ูุญุฏูุฏ ูโฺฉูุฏ.</p>
<p>ฺฉ ููููู ูุฑุชุจุทุ ูุญุฏูุฏู (scope) ุงุณุช: ุฒูููโุง ฺฉู ุฏุฑ ุขู ฺฉุฏ ููุดุชู ุดุฏู ุงุณุช ู ูุฌููุนูโุง ุงุฒ ูุงูโูุง ฺฉู ุจู ุนููุงู ยซุฏุฑ ูุญุฏูุฏูยป ุชุนุฑู ูโุดููุฏ. ููฺฏุงู ุฎูุงูุฏูุ ููุดุชู ู ฺฉุงููพุงู ฺฉุฏุ ุจุฑูุงููโููุณุงู ู ฺฉุงููพุงูุฑูุง ุจุงุฏ ุจุฏุงููุฏ ฺฉู ุขุง ฺฉ ูุงู ุฎุงุต ุฏุฑ ฺฉ ูฺฉุงู ุฎุงุต ุจู ูุชุบุฑุ ุชุงุจุนุ ุณุงุฎุชุงุฑุ enumุ ูุงฺููุ ุซุงุจุช ุง ููุฑุฏ ุฏฺฏุฑ ุงุดุงุฑู ุฏุงุฑุฏ ู ูุนูุง ุขู ููุฑุฏ ฺุณุช. ุดูุง ูโุชูุงูุฏ ูุญุฏูุฏูโูุง ุงุฌุงุฏ ฺฉูุฏ ู ูุดุฎุต ฺฉูุฏ ฺฉู ฺฉุฏุงู ูุงูโูุง ุฏุฑ ูุญุฏูุฏู ูุณุชูุฏ ุง ุฎุงุฑุฌ ุงุฒ ุขู. ููโุชูุงูุฏ ุฏู ููุฑุฏ ุจุง ูุงู ฺฉุณุงู ุฏุฑ ฺฉ ูุญุฏูุฏู ุฏุงุดุชู ุจุงุดุฏุ ุงุจุฒุงุฑูุง ุจุฑุง ุฑูุน ุชุนุงุฑุถ ูุงูโูุง ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ.</p>
<p>Rust ูุฌููุนูโุง ุงุฒ ูฺฺฏโูุง ุฏุงุฑุฏ ฺฉู ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุณุงุฒูุงูุฏู ฺฉุฏ ุฎูุฏ ุฑุง ูุฏุฑุช ฺฉูุฏุ ุงุฒ ุฌููู ุฌุฒุฆุงุช ฺฉู ุขุดฺฉุงุฑ ูโุดููุฏุ ุฌุฒุฆุงุช ฺฉู ุฎุตูุต ูุณุชูุฏุ ู ูุงูโูุง ฺฉู ุฏุฑ ูุฑ ูุญุฏูุฏู ุฏุฑ ุจุฑูุงููโูุง ุดูุง ูุฑุงุฑ ุฏุงุฑูุฏ. ุงู ูฺฺฏโูุง ฺฉู ฺฏุงู ุจู ุตูุฑุช ุฌูุน <em>ุณุณุชู ูุงฺูู</em> ูุงูุฏู ูโุดููุฏ ุดุงูู ููุงุฑุฏ ุฒุฑ ูุณุชูุฏ:</p>
<ul>
<li><strong>ุจุณุชูโูุง:</strong> ูฺฺฏโุง ุฏุฑ Cargo ฺฉู ุจู ุดูุง ุงูฺฉุงู ุณุงุฎุชุ ุชุณุช ู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุฌุนุจูโูุง (crates) ุฑุง ูโุฏูุฏ.</li>
<li><strong>ุฌุนุจูโูุง (crates):</strong> ุฏุฑุฎุช ุงุฒ ูุงฺููโูุง ฺฉู ฺฉ ฺฉุชุงุจุฎุงูู ุง ฺฉ ุงุฌุฑุง ุชููุฏ ูโฺฉููุฏ.</li>
<li><strong>ูุงฺููโูุง</strong> ู <strong>use:</strong> ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุณุงุฒูุงูุฏูุ ูุญุฏูุฏู ู ุญุฑู ุฎุตูุต ูุณุฑูุง ุฑุง ฺฉูุชุฑู ฺฉูุฏ.</li>
<li><strong>ูุณุฑูุง:</strong> ุฑุงู ุจุฑุง ูุงูโฺฏุฐุงุฑ ฺฉ ููุฑุฏ ูุงููุฏ ฺฉ ุณุงุฎุชุงุฑุ ุชุงุจุน ุง ูุงฺูู.</li>
</ul>
<p>ุฏุฑ ุงู ูุตูุ ุชูุงู ุงู ูฺฺฏโูุง ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏุ ูุญูู ุชุนุงูู ุขูโูุง ุฑุง ุชูุถุญ ูโุฏูู ู ูุญูู ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุจุฑุง ูุฏุฑุช ูุญุฏูุฏู ุฑุง ุจุฑุฑุณ ูโฺฉูู. ุชุง ูพุงุงูุ ุจุงุฏ ุฏุฑฺฉ ุฌุงูุน ุงุฒ ุณุณุชู ูุงฺูู ุฏุงุดุชู ุจุงุดุฏ ู ุจุชูุงูุฏ ุจุง ูุญุฏูุฏูโูุง ูุงููุฏ ฺฉ ุญุฑููโุง ฺฉุงุฑ ฺฉูุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุจุณุชููุง-ู-ุฌุนุจููุง-crates"><a class="header" href="#ุจุณุชููุง-ู-ุฌุนุจููุง-crates">ุจุณุชูโูุง ู ุฌุนุจูโูุง (crates)</a></h2>
<p>ุงููู ุจุฎุดโูุง ฺฉู ุฏุฑ ุณุณุชู ูุงฺูู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ุจุณุชูโูุง ู ุฌุนุจูโูุง (crates) ูุณุชูุฏ.</p>
<p>ฺฉ <em>ุฌุนุจู (crate)</em> ฺฉูฺฺฉโุชุฑู ูุงุญุฏ ฺฉุฏ ุงุณุช ฺฉู ฺฉุงููพุงูุฑ Rust ุฏุฑ ฺฉ ุฒูุงู ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ. ุญุช ุงฺฏุฑ ุจู ุฌุง <code>cargo</code> ุงุฒ <code>rustc</code> ุงุณุชูุงุฏู ฺฉูุฏ ู ฺฉ ูุงู ฺฉุฏ ููุจุน ุฑุง ุงุฑุณุงู ฺฉูุฏ (ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด ยซููุดุชู ู ุงุฌุฑุง ฺฉ ุจุฑูุงูู Rustยป ุฏุฑ ูุตู ฑ ุงูุฌุงู ุฏุงุฏู)ุ ฺฉุงููพุงูุฑ ุขู ูุงู ุฑุง ุจู ุนููุงู ฺฉ ุฌุนุจู (crate) ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ. ุฌุนุจูโูุง (crates) ูโุชูุงููุฏ ุดุงูู ูุงฺููโูุง ุจุงุดูุฏุ ู ุงู ูุงฺููโูุง ููฺฉู ุงุณุช ุฏุฑ ูุงูโูุง ุฏฺฏุฑ ุชุนุฑู ุดููุฏ ฺฉู ููุฑุงู ุจุง ุฌุนุจู (crate) ฺฉุงููพุงู ูโุดููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุดโูุง ุขูุฏู ุฎูุงูู ุฏุฏ.</p>
<p>ฺฉ ุฌุนุจู (crate) ูโุชูุงูุฏ ุจู ฺฉ ุงุฒ ุฏู ุดฺฉู ุจุงุดุฏ: ุฌุนุจู (crate) ุจุงูุฑ ุง ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง.
<em>ุฌุนุจูโูุง (crates) ุจุงูุฑ</em> ุจุฑูุงููโูุง ูุณุชูุฏ ฺฉู ูโุชูุงูุฏ ุขูโูุง ุฑุง ุจู ฺฉ ูุงู ุงุฌุฑุง ฺฉุงููพุงู ฺฉูุฏ ู ุงุฌุฑุง ฺฉูุฏุ ูุงููุฏ ฺฉ ุจุฑูุงูู ุฎุท ูุฑูุงู ุง ฺฉ ุณุฑูุฑ. ูุฑ ุฌุนุจู (crate) ุจุงูุฑ ุจุงุฏ ฺฉ ุชุงุจุน ุจู ูุงู <code>main</code> ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุดุฎุต ฺฉูุฏ ููุช ูุงู ุงุฌุฑุง ุงุฌุฑุง ูโุดูุฏ ฺู ุงุชูุงู ูโุงูุชุฏ. ุชูุงู ุฌุนุจูโูุง (crates) ฺฉู ุชุงฺฉููู ุงุฌุงุฏ ฺฉุฑุฏูโุงูุ ุฌุนุจูโูุง (crates) ุจุงูุฑ ุจูุฏูโุงูุฏ.</p>
<p><em>ุฌุนุจูโูุง (crates) ฺฉุชุงุจุฎุงููโุง</em> ุชุงุจุน <code>main</code> ูุฏุงุฑูุฏ ู ุจู ฺฉ ูุงู ุงุฌุฑุง ฺฉุงููพุงู ููโุดููุฏ. ุจูฺฉูุ ุขูโูุง ุนููฺฉุฑุฏูุง ุฑุง ุชุนุฑู ูโฺฉููุฏ ฺฉู ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ูุงู ฺูุฏู ูพุฑูฺู ุทุฑุงุญ ุดุฏูโุงูุฏ. ุจู ุนููุงู ูุซุงูุ ุฌุนุจู (crate) <code>rand</code> ฺฉู ุฏุฑ <a href="ch02-00-guessing-game-tutorial.html#generating-a-random-number">ูุตู ฒ</a> ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏูุ ูุงุจูุช ุชููุฏ ุงุนุฏุงุฏ ุชุตุงุฏู ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงุบูุจ ุงููุงุช ููุช Rustaceanูุง ูโฺฏููุฏ โุฌุนุจู (crate)โุ ููุธูุฑุดุงู ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุงุณุชุ ู ุขู ุฑุง ุจู ุตูุฑุช ูุชูุงูุจ ุจุง ููููู ุนููู ุจุฑูุงููโููุณ โฺฉุชุงุจุฎุงููโ ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p><em>ุฑุดู ุฌุนุจู (crate)</em> ฺฉ ูุงู ููุจุน ุงุณุช ฺฉู ฺฉุงููพุงูุฑ Rust ุงุฒ ุขู ุดุฑูุน ูโฺฉูุฏ ู ุฑุดู ูุงฺูู ุฌุนุจู (crate) ุฑุง ุชุดฺฉู ูโุฏูุฏ (ูุงฺููโูุง ุฑุง ุฏุฑ ุจุฎุด <a href="ch07-02-defining-modules-to-control-scope-and-privacy.html">ยซุชุนุฑู ูุงฺููโูุง ุจุฑุง ฺฉูุชุฑู ูุญุฏูุฏู ู ุญุฑู ุฎุตูุตยป</a> ุจู ุทูุฑ ฺฉุงูู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ).</p>
<p>ฺฉ <em>ุจุณุชู</em> ูุฌููุนูโุง ุงุฒ ฺฉ ุง ฺูุฏ ุฌุนุจู (crate) ุงุณุช ฺฉู ูุฌููุนูโุง ุงุฒ ุนููฺฉุฑุฏูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ฺฉ ุจุณุชู ุดุงูู ฺฉ ูุงู <em>Cargo.toml</em> ุงุณุช ฺฉู ุชูุถุญ ูโุฏูุฏ ฺฺฏููู ุจุงุฏ ุงู ุฌุนุจูโูุง (crates) ุณุงุฎุชู ุดููุฏ. Cargo ุฎูุฏ ฺฉ ุจุณุชู ุงุณุช ฺฉู ุดุงูู ุฌุนุจู (crate) ุจุงูุฑ ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ฺฉู ุงุฒ ุขู ุจุฑุง ุณุงุฎุช ฺฉุฏุชุงู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงุฏ ูโุดูุฏ. ุจุณุชู Cargo ููฺูู ุดุงูู ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุงุณุช ฺฉู ุฌุนุจู (crate) ุจุงูุฑ ุจู ุขู ูุงุจุณุชู ุงุณุช. ูพุฑูฺูโูุง ุฏฺฏุฑ ูโุชูุงููุฏ ุจู ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง Cargo ูุงุจุณุชู ุดููุฏ ุชุง ุงุฒ ููุงู ููุทู ฺฉู ุงุจุฒุงุฑ ุฎุท ูุฑูุงู Cargo ุงุณุชูุงุฏู ูโฺฉูุฏ ุจูุฑูโููุฏ ุดููุฏ. ฺฉ ุจุณุชู ูโุชูุงูุฏ ุดุงูู ูุฑ ุชุนุฏุงุฏ ุฌุนุจู (crate) ุจุงูุฑ ุจุงุดุฏ ฺฉู ูโุฎูุงูุฏุ ุงูุง ุฏุฑ ุจุดุชุฑู ุญุงูุช ุชููุง ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ูโุชูุงูุฏ ุฏุงุดุชู ุจุงุดุฏ. ฺฉ ุจุณุชู ุจุงุฏ ุญุฏุงูู ฺฉ ุฌุนุจู (crate) ุดุงูู ุจุงุดุฏุ ฺู ุขู ุฌุนุจู (crate) ฺฉ ฺฉุชุงุจุฎุงูู ุจุงุดุฏ ุง ฺฉ ุฌุนุจู (crate) ุจุงูุฑ.</p>
<p>ุจุงุฏ ุจุจูู ููุช ฺฉ ุจุณุชู ุงุฌุงุฏ ูโฺฉูู ฺู ุงุชูุงู ูโุงูุชุฏ. ุงุจุชุฏุง ุฏุณุชูุฑ <code>cargo new my-project</code> ุฑุง ูุงุฑุฏ ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo new my-project
     Created binary (application) `my-project` package
$ ls my-project
Cargo.toml
src
$ ls my-project/src
main.rs
</code></pre>
<p>ุจุนุฏ ุงุฒ ุงุฌุฑุง <code>cargo new my-project</code>ุ ุงุฒ ุฏุณุชูุฑ <code>ls</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุจูู Cargo ฺู ฺุฒ ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุช. ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูพุฑูฺูุ ฺฉ ูุงู <em>Cargo.toml</em> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจู ูุง ฺฉ ุจุณุชู ูโุฏูุฏ. ููฺูู ฺฉ ุฏุงุฑฺฉุชูุฑ <em>src</em> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุดุงูู ูุงู <em>main.rs</em> ุงุณุช. ูุงู <em>Cargo.toml</em> ุฑุง ุฏุฑ ูุฑุงุดฺฏุฑ ูุชู ุฎูุฏ ุจุงุฒ ฺฉูุฏ ู ุชูุฌู ฺฉูุฏ ฺฉู ูฺ ุงุดุงุฑูโุง ุจู <em>src/main.rs</em> ูุดุฏู ุงุณุช. Cargo ุงุฒ ฺฉ ูุฑุงุฑุฏุงุฏ ูพุฑู ูโฺฉูุฏ ฺฉู <em>src/main.rs</em> ุฑุดู ุฌุนุจู (crate) ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ุจุง ููุงู ูุงู ุจุณุชู ุงุณุช. ุจู ููู ุชุฑุชุจุ Cargo ูโุฏุงูุฏ ฺฉู ุงฺฏุฑ ุฏุงุฑฺฉุชูุฑ ุจุณุชู ุดุงูู <em>src/lib.rs</em> ุจุงุดุฏุ ุจุณุชู ุดุงูู ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุจุง ููุงู ูุงู ุจุณุชู ุงุณุช ู <em>src/lib.rs</em> ุฑุดู ุฌุนุจู (crate) ุขู ุงุณุช. Cargo ูุงูโูุง ุฑุดู ุฌุนุจู (crate) ุฑุง ุจู <code>rustc</code> ุงุฑุณุงู ูโฺฉูุฏ ุชุง ฺฉุชุงุจุฎุงูู ุง ูุงู ุงุฌุฑุง ุณุงุฎุชู ุดูุฏ.</p>
<p>ุฏุฑ ุงูุฌุงุ ูุง ฺฉ ุจุณุชู ุฏุงุฑู ฺฉู ุชููุง ุดุงูู <em>src/main.rs</em> ุงุณุชุ ุจู ุงู ูุนู ฺฉู ุชููุง ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ุจู ูุงู <code>my-project</code> ุฏุงุฑุฏ. ุงฺฏุฑ ฺฉ ุจุณุชู ุดุงูู <em>src/main.rs</em> ู <em>src/lib.rs</em> ุจุงุดุฏุ ุขู ุจุณุชู ุฏู ุฌุนุจู (crate) ุฎูุงูุฏ ุฏุงุดุช: ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ู ฺฉ ฺฉุชุงุจุฎุงููุ ูุฑ ุฏู ุจุง ููุงู ูุงู ุจุณุชู. ฺฉ ุจุณุชู ูโุชูุงูุฏ ฺูุฏู ุฌุนุจู (crate) ุจุงูุฑ ุฏุงุดุชู ุจุงุดุฏ ุจุง ูุฑุงุฑ ุฏุงุฏู ูุงูโูุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>src/bin</em>: ูุฑ ูุงู ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ุฌุฏุงฺฏุงูู ุฎูุงูุฏ ุจูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชุนุฑู-ูุงฺูููุง-ุจุฑุง-ฺฉูุชุฑู-ูุญุฏูุฏู-ู-ุญุฑู-ุฎุตูุต"><a class="header" href="#ุชุนุฑู-ูุงฺูููุง-ุจุฑุง-ฺฉูุชุฑู-ูุญุฏูุฏู-ู-ุญุฑู-ุฎุตูุต">ุชุนุฑู ูุงฺููโูุง ุจุฑุง ฺฉูุชุฑู ูุญุฏูุฏู ู ุญุฑู ุฎุตูุต</a></h2>
<p>ุฏุฑ ุงู ุจุฎุดุ ูุง ุฏุฑุจุงุฑู ูุงฺููโูุง ู ุณุงุฑ ุจุฎุดโูุง ุณุณุชู ูุงฺูู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏุ ุนู <em>ูุณุฑูุง</em> ฺฉู ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ ุขุชูโูุง ุฑุง ูุงูโฺฏุฐุงุฑ ฺฉูุฏุ ฺฉููู ฺฉูุฏ <code>use</code> ฺฉู ูุณุฑ ุฑุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ูโฺฉูุฏุ ู ฺฉููู ฺฉูุฏ <code>pub</code> ุจุฑุง ุนููู ฺฉุฑุฏู ุขุชูโูุง. ููฺูู ุฏุฑุจุงุฑู ฺฉููู ฺฉูุฏ <code>as</code>ุ ุจุณุชูโูุง ุฎุงุฑุฌุ ู ุนููฺฏุฑ <code>glob</code> ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุฎูุงุตูุง-ุงุฒ-ูุงฺูููุง"><a class="header" href="#ุฎูุงุตูุง-ุงุฒ-ูุงฺูููุง">ุฎูุงุตูโุง ุงุฒ ูุงฺููโูุง</a></h3>
<p>ูุจู ุงุฒ ุงูฺฉู ุจู ุฌุฒุฆุงุช ูุงฺููโูุง ู ูุณุฑูุง ุจูพุฑุฏุงุฒูุ ุงูุฌุง ฺฉ ูุฑุฌุน ุณุฑุน ุฏุฑ ููุฑุฏ ูุญูู ุนููฺฉุฑุฏ ูุงฺููโูุงุ ูุณุฑูุงุ ฺฉููู ฺฉูุฏ <code>use</code> ู ฺฉููู ฺฉูุฏ <code>pub</code> ุฏุฑ ฺฉุงููพุงูุฑ ุงุฑุงุฆู ูโุฏูู ู ููฺูู ูุญูู ุณุงุฒูุงูุฏู ฺฉุฏ ุชูุณุท ุงฺฉุซุฑ ุชูุณุนูโุฏููุฏฺฏุงู ุฑุง ูุดุงู ูโุฏูู. ูุง ุฏุฑ ุทูู ุงู ูุตู ุจู ูุซุงูโูุง ุงุฒ ูุฑ ฺฉ ุงุฒ ุงู ููุงุนุฏ ุฎูุงูู ูพุฑุฏุงุฎุชุ ุงูุง ุงู ฺฉ ูฺฉุงู ุนุงู ุจุฑุง ุงุฏุขูุฑ ูุญูู ุนููฺฉุฑุฏ ูุงฺููโูุง ุงุณุช.</p>
<ul>
<li><strong>ุดุฑูุน ุงุฒ ุฑุดู ุฌุนุจู (crate):</strong> ููฺฏุงู ฺฉุงููพุงู ฺฉ ุฌุนุจู (crate)ุ ฺฉุงููพุงูุฑ ุงุจุชุฏุง ุฏุฑ ูุงู ุฑุดู ุฌุนุจู (crate) (ูุนูููุงู <em>src/lib.rs</em> ุจุฑุง ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุง <em>src/main.rs</em> ุจุฑุง ฺฉ ุฌุนุจู (crate) ุจุงูุฑ) ุจู ุฏูุจุงู ฺฉุฏ ุจุฑุง ฺฉุงููพุงู ูโฺฏุฑุฏุฏ.</li>
<li><strong>ุชุนุฑู ูุงฺููโูุง:</strong> ุฏุฑ ูุงู ุฑุดู ุฌุนุจู (crate)ุ ูโุชูุงูุฏ ูุงฺููโูุง ุฌุฏุฏ ุชุนุฑู ฺฉูุฏุ ูุซูุงู ูโุชูุงูุฏ ฺฉ ูุงฺูู โgardenโ ุจุง <code>mod garden;</code> ุชุนุฑู ฺฉูุฏ. ฺฉุงููพุงูุฑ ฺฉุฏ ูุงฺูู ุฑุง ุฏุฑ ูฺฉุงูโูุง ุฒุฑ ุฌุณุชุฌู ูโฺฉูุฏ:
<ul>
<li>ุจู ุตูุฑุช ุฏุฑููโุฎุทุ ุฏุงุฎู ุจุฑุงฺฉุชโูุง ููุฌโุฏุงุฑ ฺฉู ุจู ุฌุง ุนูุงูุช ููุทูโูุฑฺฏูู ุจุนุฏ ุงุฒ <code>mod garden</code> ูุฑุงุฑ ูโฺฏุฑูุฏ.</li>
<li>ุฏุฑ ูุงู <em>src/garden.rs</em></li>
<li>ุฏุฑ ูุงู <em>src/garden/mod.rs</em></li>
</ul>
</li>
<li><strong>ุชุนุฑู ุฒุฑูุงฺููโูุง:</strong> ุฏุฑ ูุฑ ูุงู ุจู ุฌุฒ ูุงู ุฑุดู ุฌุนุจู (crate)ุ ูโุชูุงูุฏ ุฒุฑูุงฺููโูุง ุชุนุฑู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ููฺฉู ุงุณุช <code>mod vegetables;</code> ุฑุง ุฏุฑ ูุงู <em>src/garden.rs</em> ุชุนุฑู ฺฉูุฏ. ฺฉุงููพุงูุฑ ฺฉุฏ ุฒุฑูุงฺูู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑโุง ฺฉู ุจู ูุงู ูุงฺูู ูุงูุฏ ุงุณุชุ ุฏุฑ ูฺฉุงูโูุง ุฒุฑ ุฌุณุชุฌู ูโฺฉูุฏ:
<ul>
<li>ุจู ุตูุฑุช ุฏุฑููโุฎุทุ ูุณุชููุงู ุจุนุฏ ุงุฒ <code>mod vegetables</code>ุ ุฏุงุฎู ุจุฑุงฺฉุชโูุง ููุฌโุฏุงุฑ ุจู ุฌุง ููุทูโูุฑฺฏูู</li>
<li>ุฏุฑ ูุงู <em>src/garden/vegetables.rs</em></li>
<li>ุฏุฑ ูุงู <em>src/garden/vegetables/mod.rs</em></li>
</ul>
</li>
<li><strong>ูุณุฑูุง ุจู ฺฉุฏ ุฏุฑ ูุงฺููโูุง:</strong> ููุช ฺฉ ูุงฺูู ุจุฎุด ุงุฒ ุฌุนุจู (crate) ุดูุง ุจุงุดุฏุ ูโุชูุงูุฏ ุงุฒ ูุฑ ุฌุง ุฏฺฏุฑ ุฏุฑ ููุงู ุฌุนุจู (crate) (ุชุง ุฒูุงู ฺฉู ููุงุนุฏ ุญุฑู ุฎุตูุต ุงุฌุงุฒู ุฏููุฏ) ุจุง ุงุณุชูุงุฏู ุงุฒ ูุณุฑ ุจู ฺฉุฏ ุขู ุงุฑุฌุงุน ุฏูุฏ. ุจุฑุง ูุซุงูุ ฺฉ ููุน <code>Asparagus</code> ุฏุฑ ูุงฺูู vegetables ุฏุฑ garden ุจู ุงู ุตูุฑุช ูพุฏุง ูโุดูุฏ:
<code>crate::garden::vegetables::Asparagus</code>.</li>
<li><strong>ุฎุตูุต ุฏุฑ ููุงุจู ุนููู:</strong> ฺฉุฏ ุฏุฑูู ฺฉ ูุงฺูู ุจู ุตูุฑุช ูพุดโูุฑุถ ุจุฑุง ูุงฺููโูุง ูุงูุฏ ุฎุตูุต ุงุณุช. ุจุฑุง ุนููู ฺฉุฑุฏู ฺฉ ูุงฺููุ ุขู ุฑุง ุจุง <code>pub mod</code> ุจู ุฌุง <code>mod</code> ุชุนุฑู ฺฉูุฏ. ุจุฑุง ุนููู ฺฉุฑุฏู ุขุชูโูุง ุฏุงุฎู ฺฉ ูุงฺูู ุนูููุ ุงุฒ <code>pub</code> ูุจู ุงุฒ ุงุนูุงู ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</li>
<li><strong>ฺฉููู ฺฉูุฏ <code>use</code>:</strong> ุฏุฑ ฺฉ ูุญุฏูุฏูุ ฺฉููู ฺฉูุฏ <code>use</code> ูุงูุจุฑ ุจู ุขุชูโูุง ุงุฌุงุฏ ูโฺฉูุฏ ุชุง ุชฺฉุฑุงุฑ ูุณุฑูุง ุทููุงู ฺฉุงูุด ุงุจุฏ. ุฏุฑ ูุฑ ูุญุฏูุฏูโุง ฺฉู ูโุชูุงูุฏ ุจู <code>crate::garden::vegetables::Asparagus</code> ุงุฑุฌุงุน ุฏูุฏุ ูโุชูุงูุฏ ฺฉ ูุงูุจุฑ ุจุง <code>use crate::garden::vegetables::Asparagus;</code> ุงุฌุงุฏ ฺฉูุฏ ู ุงุฒ ุขู ุจู ุจุนุฏ ููุท ฺฉุงู ุงุณุช <code>Asparagus</code> ุฑุง ุฏุฑ ุขู ูุญุฏูุฏู ุงุณุชูุงุฏู ฺฉูุฏ.</li>
</ul>
<p>ุงูุฌุงุ ูุง ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ุจู ูุงู <code>backyard</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู ุงู ููุงุนุฏ ุฑุง ูุดุงู ูโุฏูุฏ. ุฏุงุฑฺฉุชูุฑ ุฌุนุจู (crate) ฺฉู ุขู ูู <code>backyard</code> ูุงูุฏู ูโุดูุฏ ุดุงูู ุงู ูุงูโูุง ู ุฏุงุฑฺฉุชูุฑโูุง ุงุณุช:</p>
<pre><code class="language-text">backyard
โโโ Cargo.lock
โโโ Cargo.toml
โโโ src
    โโโ garden
    โยย โโโ vegetables.rs
    โโโ garden.rs
    โโโ main.rs
</code></pre>
<p>ูุงู ุฑุดู ุฌุนุจู (crate) ุฏุฑ ุงูุฌุง <em>src/main.rs</em> ุงุณุช ู ุญุงู ููุงุฑุฏ ุฒุฑ ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust noplayground ignore">use crate::garden::vegetables::Asparagus;

pub mod garden;

fn main() {
    let plant = Asparagus {};
    println!("I'm growing {plant:?}!");
}</code></pre>
</figure>
<p>ุฎุท <code>pub mod garden;</code> ุจู ฺฉุงููพุงูุฑ ูโฺฏูุฏ ฺฉู ฺฉุฏ ุฑุง ฺฉู ุฏุฑ <em>src/garden.rs</em> ูพุฏุง ูโฺฉูุฏ ูุงุฑุฏ ฺฉูุฏุ ฺฉู ุดุงูู ููุงุฑุฏ ุฒุฑ ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/garden.rs</span>
<pre><code class="language-rust noplayground ignore">pub mod vegetables;</code></pre>
</figure>
<p>ุงูุฌุงุ <code>pub mod vegetables;</code> ุจู ุงู ูุนูุง ุงุณุช ฺฉู ฺฉุฏ ููุฌูุฏ ุฏุฑ <em>src/garden/vegetables.rs</em> ูุฒ ูุงุฑุฏ ูโุดูุฏ. ุขู ฺฉุฏ ุจู ุตูุฑุช ุฒุฑ ุงุณุช:</p>
<pre><code class="language-rust noplayground ignore">#[derive(Debug)]
pub struct Asparagus {}</code></pre>
<p>ุญุงูุง ุจุงุฏ ุจู ุฌุฒุฆุงุช ุงู ููุงุนุฏ ุจูพุฑุฏุงุฒู ู ุขูโูุง ุฑุง ุฏุฑ ุนูู ูุดุงู ุฏูู!</p>
<h3 id="ฺฏุฑููุจูุฏ-ฺฉุฏูุง-ูุฑุชุจุท-ุฏุฑ-ูุงฺูููุง"><a class="header" href="#ฺฏุฑููุจูุฏ-ฺฉุฏูุง-ูุฑุชุจุท-ุฏุฑ-ูุงฺูููุง">ฺฏุฑููโุจูุฏ ฺฉุฏูุง ูุฑุชุจุท ุฏุฑ ูุงฺููโูุง</a></h3>
<p><em>ูุงฺููโูุง</em> ุจู ูุง ุงูฺฉุงู ูโุฏููุฏ ฺฉุฏ ุฑุง ุฏุฑ ฺฉ ุฌุนุจู (crate) ุจุฑุง ุฎูุงูุง ู ุจุงุฒุงุณุชูุงุฏู ุขุณุงู ุณุงุฒูุงูุฏู ฺฉูู. ูุงฺููโูุง ููฺูู ุจู ูุง ุงูฺฉุงู ฺฉูุชุฑู <em>ุญุฑู ุฎุตูุต</em> ุขุชูโูุง ุฑุง ูโุฏููุฏ ุฒุฑุง ฺฉุฏ ุฏุฑูู ฺฉ ูุงฺูู ุจู ุตูุฑุช ูพุดโูุฑุถ ุฎุตูุต ุงุณุช. ุขุชูโูุง ุฎุตูุต ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุฏุงุฎู ูุณุชูุฏ ฺฉู ุจุฑุง ุงุณุชูุงุฏู ุฎุงุฑุฌ ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ. ูุง ูโุชูุงูู ุงูุชุฎุงุจ ฺฉูู ฺฉู ูุงฺููโูุง ู ุขุชูโูุง ุฏุฑูู ุขูโูุง ุนููู ุจุงุดูุฏุ ฺฉู ุงู ููุงุฑุฏ ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุฎุงุฑุฌ ุขุดฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ุจุงุฏ ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุจููุณู ฺฉู ุนููฺฉุฑุฏ ฺฉ ุฑุณุชูุฑุงู ุฑุง ุงุฑุงุฆู ุฏูุฏ. ุงูุถุง ุชูุงุจุน ุฑุง ุชุนุฑู ูโฺฉูู ุงูุง ุจุฏูู ุขูโูุง ุฑุง ุฎุงู ูโฺฏุฐุงุฑู ุชุง ุจุดุชุฑ ุจุฑ ุณุงุฒูุงูุฏู ฺฉุฏ ุชูุฑฺฉุฒ ฺฉูู ุชุง ูพุงุฏูโุณุงุฒ ุนููฺฉุฑุฏ ฺฉ ุฑุณุชูุฑุงู.</p>
<p>ุฏุฑ ุตูุนุช ุฑุณุชูุฑุงูุ ุจุฑุฎ ูุณูุชโูุง ฺฉ ุฑุณุชูุฑุงู ุจู ุนููุงู <em>ุฌูู ุฎุงูู</em> ู ุฏฺฏุฑ ูุณูุชโูุง ุจู ุนููุงู <em>ูพุดุช ุฎุงูู</em> ุดูุงุฎุชู ูโุดููุฏ. ุฌูู ุฎุงูู ุฌุง ุงุณุช ฺฉู ูุดุชุฑุงู ูุณุชูุฏุ ุงู ุดุงูู ุฌุง ุงุณุช ฺฉู ูุฒุจุงูโูุง ูุดุชุฑุงู ุฑุง ูโูุดุงููุฏุ ฺฏุงุฑุณููโูุง ุณูุงุฑุด ูโฺฏุฑูุฏ ู ูพุฑุฏุงุฎุชโูุง ุฑุง ุงูุฌุงู ูโุฏููุฏุ ู ุจุงุฑุชูุฏุฑูุง ููุดุฏู ุฏุฑุณุช ูโฺฉููุฏ. ูพุดุช ุฎุงูู ุฌุง ุงุณุช ฺฉู ุณุฑุขุดูพุฒูุง ู ุขุดูพุฒูุง ุฏุฑ ุขุดูพุฒุฎุงูู ฺฉุงุฑ ูโฺฉููุฏุ ุธุฑูโุดูุฑูุง ุธุฑูู ุฑุง ุชูุฒ ูโฺฉููุฏุ ู ูุฏุฑุงู ฺฉุงุฑูุง ุงุฏุงุฑ ุงูุฌุงู ูโุฏููุฏ.</p>
<p>ุจุฑุง ุณุงุฎุชุงุฑุฏู ุฌุนุจู (crate) ุฎูุฏ ุจู ุงู ุฑูุดุ ูโุชูุงูู ุนููฺฉุฑุฏูุง ุฑุง ุฏุฑ ูุงฺููโูุง ุชู ุฏุฑ ุชู ุณุงุฒูุงูุฏู ฺฉูู. ฺฉ ฺฉุชุงุจุฎุงูู ุฌุฏุฏ ุจู ูุงู <code>restaurant</code> ุจุง ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo new restaurant --lib</code> ุงุฌุงุฏ ฺฉูุฏ. ุณูพุณ ฺฉุฏ ูุณุชูฺฏ 7-1 ุฑุง ุฏุฑ <em>src/lib.rs</em> ูุงุฑุฏ ฺฉูุฏ ุชุง ุจุฑุฎ ูุงฺููโูุง ู ุงูุถุง ุชูุงุจุน ุชุนุฑู ุดูุฏ. ุงู ฺฉุฏ ุจุฎุด ุฌูู ุฎุงูู ุฑุง ุชุนุฑู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">mod front_of_house {
    mod hosting {
        fn add_to_waitlist() {}

        fn seat_at_table() {}
    }

    mod serving {
        fn take_order() {}

        fn serve_order() {}

        fn take_payment() {}
    }
}</code></pre>
<figcaption>Listing 7-1: ฺฉ ูุงฺูู <code>front_of_house</code> ฺฉู ุดุงูู ูุงฺููโูุง ุฏฺฏุฑ ุงุณุช ฺฉู ุณูพุณ ุดุงูู ุชูุงุจุน ูโุดููุฏ</figcaption>
</figure>
<p>ูุง ฺฉ ูุงฺูู ุจุง ฺฉููู ฺฉูุฏ <code>mod</code> ู ุณูพุณ ูุงู ูุงฺูู ุชุนุฑู ูโฺฉูู (ุฏุฑ ุงู ููุฑุฏุ <code>front_of_house</code>). ุจุฏูู ูุงฺูู ุณูพุณ ุฏุงุฎู ุจุฑุงฺฉุชโูุง ููุฌโุฏุงุฑ ูุฑุงุฑ ูโฺฏุฑุฏ. ุฏุงุฎู ูุงฺููโูุงุ ูโุชูุงูู ูุงฺููโูุง ุฏฺฏุฑ ูุฑุงุฑ ุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ุจุง ูุงฺููโูุง <code>hosting</code> ู <code>serving</code> ุงูุฌุงู ุฏุงุฏูโุงู. ูุงฺููโูุง ููฺูู ูโุชูุงููุฏ ุชุนุงุฑู ุขุชูโูุง ุฏฺฏุฑ ุฑุง ูฺฏู ุฏุงุฑูุฏุ ูุงููุฏ ุณุงุฎุชุงุฑูุงุ enumูุงุ ุซุงุจุชโูุงุ traits ูโููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-1 ุฏุฏู ูโุดูุฏโุชูุงุจุน.</p>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺููโูุงุ ูโุชูุงูู ุชุนุงุฑู ูุฑุชุจุท ุฑุง ุจุง ูู ฺฏุฑููโุจูุฏ ฺฉูู ู ุฏูู ุงุฑุชุจุงุท ุขูโูุง ุฑุง ูุงูโฺฏุฐุงุฑ ฺฉูู. ุจุฑูุงููโููุณุงู ฺฉู ุงุฒ ุงู ฺฉุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ ูโุชูุงููุฏ ุจุฑ ุงุณุงุณ ฺฏุฑููโูุง ฺฉุฏ ุฑุง ูุฑูุฑ ฺฉููุฏุ ุจู ุฌุง ุงูฺฉู ูุฌุจูุฑ ุจุงุดูุฏ ุชูุงู ุชุนุงุฑู ุฑุง ุจุฎูุงููุฏ. ุงู ฺฉุงุฑ ูพุฏุง ฺฉุฑุฏู ุชุนุงุฑู ูุฑุชุจุท ุจุง ุขูโูุง ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ. ุจุฑูุงููโููุณุงู ฺฉู ุนููฺฉุฑุฏ ุฌุฏุฏ ุจู ุงู ฺฉุฏ ุงุถุงูู ูโฺฉููุฏ ูโุฏุงููุฏ ฺฉู ฺฉุฏ ุฑุง ฺฉุฌุง ูุฑุงุฑ ุฏููุฏ ุชุง ุจุฑูุงูู ุณุงุฒูุงูุฏู ุดุฏู ุจุงู ุจูุงูุฏ.</p>
<h3 id="ุฏุฑุฎุช-ูุงฺูู"><a class="header" href="#ุฏุฑุฎุช-ูุงฺูู">ุฏุฑุฎุช ูุงฺูู</a></h3>
<p>ูุจูุงู ุงุดุงุฑู ฺฉุฑุฏู ฺฉู <em>src/main.rs</em> ู <em>src/lib.rs</em> ุจู ูุงู ุฑุดู ุฌุนุจู (crate) ุดูุงุฎุชู ูโุดููุฏ. ุฏูู ูุงูโฺฏุฐุงุฑ ุขูโูุง ุงู ุงุณุช ฺฉู ูุญุชูุง ูุฑ ฺฉ ุงุฒ ุงู ุฏู ูุงู ฺฉ ูุงฺูู ุจู ูุงู <code>crate</code> ุฑุง ุฏุฑ ุฑุดู ุณุงุฎุชุงุฑ ูุงฺูู ุฌุนุจู (crate) ุชุดฺฉู ูโุฏููุฏุ ฺฉู ุจู ุนููุงู <em>ุฏุฑุฎุช ูุงฺูู</em> ุดูุงุฎุชู ูโุดูุฏ.</p>
<p>ูุณุชูฺฏ 7-2 ุฏุฑุฎุช ูุงฺูู ุฑุง ุจุฑุง ุณุงุฎุชุงุฑ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-1 ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><code class="language-text">crate
 โโโ front_of_house
     โโโ hosting
     โ   โโโ add_to_waitlist
     โ   โโโ seat_at_table
     โโโ serving
         โโโ take_order
         โโโ serve_order
         โโโ take_payment
</code></pre>
<figcaption>Listing 7-2: ุฏุฑุฎุช ูุงฺูู ุจุฑุง ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-1</figcaption>
</figure>
<p>ุงู ุฏุฑุฎุช ูุดุงู ูโุฏูุฏ ฺฉู ุจุฑุฎ ุงุฒ ูุงฺููโูุง ุฏุฑ ุฏุงุฎู ูุงฺููโูุง ุฏฺฏุฑ ูุฑุงุฑ ุฏุงุฑูุฏุ ุจุฑุง ูุซุงูุ <code>hosting</code> ุฏุฑ ุฏุงุฎู <code>front_of_house</code> ูุฑุงุฑ ุฏุงุฑุฏ. ุฏุฑุฎุช ููฺูู ูุดุงู ูโุฏูุฏ ฺฉู ุจุฑุฎ ุงุฒ ูุงฺููโูุง <em>ููโุณุทุญ</em> ูุณุชูุฏุ ุจู ุงู ูุนู ฺฉู ุฏุฑ ููุงู ูุงฺูู ุชุนุฑู ุดุฏูโุงูุฏุ <code>hosting</code> ู <code>serving</code> ููโุณุทุญ ูุณุชูุฏ ู ุฏุฑูู <code>front_of_house</code> ุชุนุฑู ุดุฏูโุงูุฏ. ุงฺฏุฑ ูุงฺูู A ุฏุฑูู ูุงฺูู B ูุฑุงุฑ ฺฏุฑุฏุ ูโฺฏูู ูุงฺูู A <em>ูุฑุฒูุฏ</em> ูุงฺูู B ุงุณุช ู ูุงฺูู B <em>ูุงูุฏ</em> ูุงฺูู A ุงุณุช. ุชูุฌู ฺฉูุฏ ฺฉู ฺฉู ุฏุฑุฎุช ูุงฺูู ุฏุฑ ุฒุฑ ูุงฺูู ุถูู ุจู ูุงู <code>crate</code> ุฑุดู ุฏุงุฑุฏ.</p>
<p>ุฏุฑุฎุช ูุงฺูู ููฺฉู ุงุณุช ุดูุง ุฑุง ุจู ุงุฏ ุฏุฑุฎุช ุฏุงุฑฺฉุชูุฑโูุง ูุงูโุณุณุชู ฺฉุงููพูุชุฑ ุจูุฏุงุฒุฏุ ุงู ููุงุณู ุจุณุงุฑ ููุงุณุจ ุงุณุช! ุฏุฑุณุช ููุงูโุทูุฑ ฺฉู ุฏุงุฑฺฉุชูุฑโูุง ุฏุฑ ูุงูโุณุณุชู ฺฉุฏ ุฑุง ุณุงุฒูุงูุฏู ูโฺฉููุฏุ ุดูุง ูโุชูุงูุฏ ุงุฒ ูุงฺููโูุง ุจุฑุง ุณุงุฒูุงูุฏู ฺฉุฏ ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ู ุฏุฑุณุช ูุงููุฏ ูุงูโูุง ุฏุฑ ฺฉ ุฏุงุฑฺฉุชูุฑุ ูุง ูุงุฒ ุจู ุฑูุด ุจุฑุง ูพุฏุง ฺฉุฑุฏู ูุงฺููโูุง ุฏุงุฑู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุณุฑูุง-ุจุฑุง-ุงุดุงุฑู-ุจู-ฺฉ-ุขุชู-ุฏุฑ-ุฏุฑุฎุช-ูุงฺูู"><a class="header" href="#ูุณุฑูุง-ุจุฑุง-ุงุดุงุฑู-ุจู-ฺฉ-ุขุชู-ุฏุฑ-ุฏุฑุฎุช-ูุงฺูู">ูุณุฑูุง ุจุฑุง ุงุดุงุฑู ุจู ฺฉ ุขุชู ุฏุฑ ุฏุฑุฎุช ูุงฺูู</a></h2>
<p>ุจุฑุง ูุดุงู ุฏุงุฏู ุจู Rust ฺฉู ฺฉ ุขุชู ุฑุง ุฏุฑ ุฏุฑุฎุช ูุงฺูู ฺฉุฌุง ูพุฏุง ฺฉูุฏุ ุงุฒ ฺฉ ูุณุฑ ุงุณุชูุงุฏู ูโฺฉููุ ูุดุงุจู ุงุณุชูุงุฏู ุงุฒ ูุณุฑ ููฺฏุงู ูพูุงุด ุฏุฑ ฺฉ ูุงูโุณุณุชู. ุจุฑุง ูุฑุงุฎูุงู ฺฉ ุชุงุจุนุ ุจุงุฏ ูุณุฑ ุขู ุฑุง ุจุฏุงูู.</p>
<p>ฺฉ ูุณุฑ ูโุชูุงูุฏ ุจู ุฏู ุดฺฉู ุจุงุดุฏ:</p>
<ul>
<li>ฺฉ <em>ูุณุฑ ูุทูู</em> ูุณุฑ ฺฉุงูู ุงุณุช ฺฉู ุงุฒ ุฑุดู ุฌุนุจู (crate) ุดุฑูุน ูโุดูุฏุ ุจุฑุง ฺฉุฏ ฺฉู ุงุฒ ฺฉ ุฌุนุจู (crate) ุฎุงุฑุฌ ูโุขุฏุ ูุณุฑ ูุทูู ุจุง ูุงู ุฌุนุจู (crate) ุดุฑูุน ูโุดูุฏุ ู ุจุฑุง ฺฉุฏ ฺฉู ุงุฒ ุฌุนุจู (crate) ูุนู ูโุขุฏุ ุจุง ฺฉููู ฺฉูุฏ <code>crate</code> ุดุฑูุน ูโุดูุฏ.</li>
<li>ฺฉ <em>ูุณุฑ ูุณุจ</em> ุงุฒ ูุงฺูู ูุนู ุดุฑูุน ูโุดูุฏ ู ุงุฒ <code>self</code>ุ <code>super</code> ุง ฺฉ ุดูุงุณู ุฏุฑ ูุงฺูู ูุนู ุงุณุชูุงุฏู ูโฺฉูุฏ.</li>
</ul>
<p>ูุฑ ุฏู ูุณุฑ ูุทูู ู ูุณุจ ุจุง ฺฉ ุง ฺูุฏ ุดูุงุณู ฺฉู ุจุง ุฏู ููุทู ุฏูุจู (<code>::</code>) ุฌุฏุง ุดุฏูโุงูุฏ ุฏูุจุงู ูโุดููุฏ.</p>
<p>ุจุง ุจุงุฒฺฏุดุช ุจู ูุณุชูฺฏ 7-1ุ ูุฑุถ ฺฉูุฏ ฺฉู ูโุฎูุงูู ุชุงุจุน <code>add_to_waitlist</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ุงู ฺฉุงุฑ ูุดุงุจู ูพุฑุณุฏู ุงู ุงุณุช: ูุณุฑ ุชุงุจุน <code>add_to_waitlist</code> ฺุณุชุ ูุณุชูฺฏ 7-3 ุดุงูู ูุณุชูฺฏ 7-1 ุจุง ุญุฐู ุจุฑุฎ ุงุฒ ูุงฺููโูุง ู ุชูุงุจุน ุงุณุช.</p>
<p>ูุง ุฏู ุฑูุด ุจุฑุง ูุฑุงุฎูุงู ุชุงุจุน <code>add_to_waitlist</code> ุงุฒ ฺฉ ุชุงุจุน ุฌุฏุฏุ <code>eat_at_restaurant</code>ุ ฺฉู ุฏุฑ ุฑุดู ุฌุนุจู (crate) ุชุนุฑู ุดุฏู ุงุณุชุ ูุดุงู ุฎูุงูู ุฏุงุฏ. ุงู ูุณุฑูุง ุฏุฑุณุช ูุณุชูุฏุ ุงูุง ฺฉ ูุดฺฉู ุฏฺฏุฑ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุงูุน ฺฉุงููพุงู ุงู ูุซุงู ุจู ุดฺฉู ูุนู ูโุดูุฏ. ุจุนุฏุงู ุชูุถุญ ุฎูุงูู ุฏุงุฏ ฺฉู ฺุฑุง.</p>
<p>ุชุงุจุน <code>eat_at_restaurant</code> ุจุฎุด ุงุฒ API ุนููู ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ูุง ุงุณุชุ ุจูุงุจุฑุงู ุขู ุฑุง ุจุง ฺฉููู ฺฉูุฏ <code>pub</code> ุนูุงูุช ูโุฒูู. ุฏุฑ ุจุฎุด <a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html#exposing-paths-with-the-pub-keyword">ยซุขุดฺฉุงุฑ ฺฉุฑุฏู ูุณุฑูุง ุจุง ฺฉููู ฺฉูุฏ <code>pub</code>ยป</a>ุ ุจู ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู <code>pub</code> ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile">mod front_of_house {
    mod hosting {
        fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    // Absolute path
    crate::front_of_house::hosting::add_to_waitlist();

    // Relative path
    front_of_house::hosting::add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-3: ูุฑุงุฎูุงู ุชุงุจุน <code>add_to_waitlist</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ูุณุฑูุง ูุทูู ู ูุณุจ</figcaption>
</figure>
<p>ุจุงุฑ ุงูู ฺฉู ุชุงุจุน <code>add_to_waitlist</code> ุฑุง ุฏุฑ <code>eat_at_restaurant</code> ูุฑุงุฎูุงู ูโฺฉููุ ุงุฒ ฺฉ ูุณุฑ ูุทูู ุงุณุชูุงุฏู ูโฺฉูู. ุชุงุจุน <code>add_to_waitlist</code> ุฏุฑ ููุงู ุฌุนุจู (crate) ุชุนุฑู ุดุฏู ุงุณุช ฺฉู <code>eat_at_restaurant</code> ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏุ ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ูโุชูุงูู ุงุฒ ฺฉููู ฺฉูุฏ <code>crate</code> ุจุฑุง ุดุฑูุน ูุณุฑ ูุทูู ุงุณุชูุงุฏู ฺฉูู. ุณูพุณ ูุฑ ฺฉ ุงุฒ ูุงฺููโูุง ูุชูุงู ุฑุง ุดุงูู ูโฺฉูู ุชุง ุจู <code>add_to_waitlist</code> ุจุฑุณู. ูโุชูุงูุฏ ฺฉ ูุงูโุณุณุชู ุจุง ุณุงุฎุชุงุฑ ูุดุงุจู ุชุตูุฑ ฺฉูุฏ: ูุง ูุณุฑ <code>/front_of_house/hosting/add_to_waitlist</code> ุฑุง ุจุฑุง ุงุฌุฑุง ุจุฑูุงูู <code>add_to_waitlist</code> ูุดุฎุต ูโฺฉููุ ุงุณุชูุงุฏู ุงุฒ ูุงู <code>crate</code> ุจุฑุง ุดุฑูุน ุงุฒ ุฑุดู ุฌุนุจู (crate) ูุงููุฏ ุงุณุชูุงุฏู ุงุฒ <code>/</code> ุจุฑุง ุดุฑูุน ุงุฒ ุฑุดู ูุงูโุณุณุชู ุฏุฑ ุดู ุงุณุช.</p>
<p>ุจุงุฑ ุฏูู ฺฉู ุชุงุจุน <code>add_to_waitlist</code> ุฑุง ุฏุฑ <code>eat_at_restaurant</code> ูุฑุงุฎูุงู ูโฺฉููุ ุงุฒ ฺฉ ูุณุฑ ูุณุจ ุงุณุชูุงุฏู ูโฺฉูู. ูุณุฑ ุจุง <code>front_of_house</code> ุดุฑูุน ูโุดูุฏุ ฺฉู ูุงู ูุงฺูู ุงุณุช ฺฉู ุฏุฑ ููุงู ุณุทุญ ุงุฒ ุฏุฑุฎุช ูุงฺูู ุจู ุนููุงู <code>eat_at_restaurant</code> ุชุนุฑู ุดุฏู ุงุณุช. ุงูุฌุง ูุนุงุฏู ูุงูโุณุณุชู ุงุณุชูุงุฏู ุงุฒ ูุณุฑ <code>front_of_house/hosting/add_to_waitlist</code> ุงุณุช. ุดุฑูุน ุจุง ูุงู ูุงฺูู ุจู ุงู ูุนู ุงุณุช ฺฉู ูุณุฑ ูุณุจ ุงุณุช.</p>
<h3 id="ุงูุชุฎุงุจ-ุจู-ูุณุฑูุง-ูุทูู-ู-ูุณุจ"><a class="header" href="#ุงูุชุฎุงุจ-ุจู-ูุณุฑูุง-ูุทูู-ู-ูุณุจ">ุงูุชุฎุงุจ ุจู ูุณุฑูุง ูุทูู ู ูุณุจ</a></h3>
<p>ุงูุชุฎุงุจ ุจู ุงุณุชูุงุฏู ุงุฒ ูุณุฑ ูุณุจ ุง ูุทูู ฺฉ ุชุตูู ุงุณุช ฺฉู ุจุฑ ุงุณุงุณ ูพุฑูฺู ุดูุง ฺฏุฑูุชู ูโุดูุฏุ ู ุจู ุงู ุจุณุชฺฏ ุฏุงุฑุฏ ฺฉู ุขุง ุงุญุชูุงู ุจุดุชุฑ ุฏุงุฑุฏ ฺฉุฏ ุชุนุฑู ุขุชู ุฑุง ุจู ุทูุฑ ูุณุชูู ุงุฒ ุง ููุฑุงู ุจุง ฺฉุฏ ฺฉู ุงุฒ ุขุชู ุงุณุชูุงุฏู ูโฺฉูุฏ ุฌุงุจุฌุง ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ูุงฺูู <code>front_of_house</code> ู ุชุงุจุน <code>eat_at_restaurant</code> ุฑุง ุจู ฺฉ ูุงฺูู ุจู ูุงู <code>customer_experience</code> ููุชูู ฺฉููุ ุจุงุฏ ูุณุฑ ูุทูู ุจู <code>add_to_waitlist</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉููุ ุงูุง ูุณุฑ ูุณุจ ููฺูุงู ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุชุงุจุน <code>eat_at_restaurant</code> ุฑุง ุจู ุทูุฑ ูุณุชูู ุจู ฺฉ ูุงฺูู ุจู ูุงู <code>dining</code> ููุชูู ฺฉููุ ูุณุฑ ูุทูู ุจู ูุฑุงุฎูุงู <code>add_to_waitlist</code> ุชุบุฑ ููโฺฉูุฏุ ุงูุง ูุณุฑ ูุณุจ ุจุงุฏ ุจูโุฑูุฒุฑุณุงู ุดูุฏ. ุชุฑุฌุญ ูุง ุจู ุทูุฑ ฺฉู ุงู ุงุณุช ฺฉู ูุณุฑูุง ูุทูู ุฑุง ูุดุฎุต ฺฉูู ุฒุฑุง ุงุญุชูุงู ุจุดุชุฑ ุฏุงุฑุฏ ฺฉู ุจุฎูุงูู ุชุนุฑู ฺฉุฏ ู ูุฑุงุฎูุงู ุขุชูโูุง ุฑุง ูุณุชูู ุงุฒ ฺฉุฏฺฏุฑ ุฌุงุจุฌุง ฺฉูู.</p>
<p>ุจุงุฏ ุณุน ฺฉูู ฺฉุฏ ูุณุชูฺฏ 7-3 ุฑุง ฺฉุงููพุงู ฺฉูู ู ุจุจูู ฺุฑุง ูููุฒ ฺฉุงููพุงู ููโุดูุฏ! ุฎุทุงูุง ฺฉู ุฏุฑุงูุช ูโฺฉูู ุฏุฑ ูุณุชูฺฏ 7-4 ูุดุงู ุฏุงุฏู ุดุฏูโุงูุฏ.</p>
<figure class="listing">
<pre><code class="language-console">$ cargo build
   Compiling restaurant v0.1.0 (file:///projects/restaurant)
error[E0603]: module `hosting` is private
 --&gt; src/lib.rs:9:28
  |
9 |     crate::front_of_house::hosting::add_to_waitlist();
  |                            ^^^^^^^  --------------- function `add_to_waitlist` is not publicly re-exported
  |                            |
  |                            private module
  |
note: the module `hosting` is defined here
 --&gt; src/lib.rs:2:5
  |
2 |     mod hosting {
  |     ^^^^^^^^^^^

error[E0603]: module `hosting` is private
  --&gt; src/lib.rs:12:21
   |
12 |     front_of_house::hosting::add_to_waitlist();
   |                     ^^^^^^^  --------------- function `add_to_waitlist` is not publicly re-exported
   |                     |
   |                     private module
   |
note: the module `hosting` is defined here
  --&gt; src/lib.rs:2:5
   |
2  |     mod hosting {
   |     ^^^^^^^^^^^

For more information about this error, try `rustc --explain E0603`.
error: could not compile `restaurant` (lib) due to 2 previous errors
</code></pre>
<figcaption>Listing 7-4: ุฎุทุงูุง ฺฉุงููพุงูุฑ ููฺฏุงู ุณุงุฎุช ฺฉุฏ ุฏุฑ ูุณุชูฺฏ 7-3</figcaption>
</figure>
<p>ูพุงูโูุง ุฎุทุง ูโฺฏููุฏ ฺฉู ูุงฺูู <code>hosting</code> ุฎุตูุต ุงุณุช. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูุง ูุณุฑูุง ุตุญุญ ุจุฑุง ูุงฺูู <code>hosting</code> ู ุชุงุจุน <code>add_to_waitlist</code> ุฏุงุฑูุ ุงูุง Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูู ุฒุฑุง ุจู ุจุฎุดโูุง ุฎุตูุต ุฏุณุชุฑุณ ูุฏุงุฑุฏ. ุฏุฑ Rustุ ุชูุงู ุขุชูโูุง (ุชูุงุจุนุ ูุชุฏูุงุ ุณุงุฎุชุงุฑูุงุ enumูุงุ ูุงฺููโูุง ู ุซุงุจุชโูุง) ุจู ุตูุฑุช ูพุดโูุฑุถ ุจุฑุง ูุงฺููโูุง ูุงูุฏ ุฎุตูุต ูุณุชูุฏ. ุงฺฏุฑ ุจุฎูุงูุฏ ุขุชู ูุงููุฏ ฺฉ ุชุงุจุน ุง ุณุงุฎุชุงุฑ ุฑุง ุฎุตูุต ฺฉูุฏุ ุขู ุฑุง ุฏุฑ ฺฉ ูุงฺูู ูุฑุงุฑ ูโุฏูุฏ.</p>
<p>ุขุชูโูุง ููุฌูุฏ ุฏุฑ ฺฉ ูุงฺูู ูุงูุฏ ููโุชูุงููุฏ ุงุฒ ุขุชูโูุง ุฎุตูุต ุฏุฑูู ูุงฺููโูุง ูุฑุฒูุฏ ุงุณุชูุงุฏู ฺฉููุฏุ ุงูุง ุขุชูโูุง ุฏุฑูู ูุงฺููโูุง ูุฑุฒูุฏ ูโุชูุงููุฏ ุงุฒ ุขุชูโูุง ูุงฺููโูุง ุงุฌุฏุงุฏ ุฎูุฏ ุงุณุชูุงุฏู ฺฉููุฏ. ุงู ุจู ุงู ุฏูู ุงุณุช ฺฉู ูุงฺููโูุง ูุฑุฒูุฏ ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุฎูุฏ ุฑุง ุจุณุชูโุจูุฏ ู ูพููุงู ูโฺฉููุฏุ ุงูุง ูุงฺููโูุง ูุฑุฒูุฏ ูโุชูุงููุฏ ุฒูููโุง ฺฉู ุฏุฑ ุขู ุชุนุฑู ุดุฏูโุงูุฏ ุฑุง ุจุจููุฏ. ุจุฑุง ุงุฏุงูู ูุซุงูุ ููุงุนุฏ ุญุฑู ุฎุตูุต ุฑุง ูุงููุฏ ุฏูุชุฑ ูพุดุช ฺฉ ุฑุณุชูุฑุงู ุชุตูุฑ ฺฉูุฏ: ุขูฺู ุฏุฑ ุขูุฌุง ูโฺฏุฐุฑุฏ ุจุฑุง ูุดุชุฑุงู ุฑุณุชูุฑุงู ุฎุตูุต ุงุณุชุ ุงูุง ูุฏุฑุงู ุฏูุชุฑ ูโุชูุงููุฏ ููู ฺุฒ ุฑุง ุฏุฑ ุฑุณุชูุฑุงู ุจุจููุฏ ู ุงูุฌุงู ุฏููุฏ.</p>
<p>Rust ุชุตูู ฺฏุฑูุชู ุงุณุช ฺฉู ุณุณุชู ูุงฺูู ุจู ุงู ุตูุฑุช ฺฉุงุฑ ฺฉูุฏ ุชุง ูพููุงู ฺฉุฑุฏู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุฏุงุฎู ุจู ุตูุฑุช ูพุดโูุฑุถ ุจุงุดุฏ. ุจู ุงู ุชุฑุชุจุ ูโุฏุงูุฏ ฺฉุฏุงู ุจุฎุดโูุง ฺฉุฏ ุฏุงุฎู ุฑุง ูโุชูุงูุฏ ุชุบุฑ ุฏูุฏ ุจุฏูู ุงูฺฉู ฺฉุฏ ุจุฑูู ุฑุง ุฎุฑุงุจ ฺฉูุฏ. ุจุง ุงู ุญุงูุ Rust ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุจุฎุดโูุง ุฏุงุฎู ฺฉุฏ ูุงฺููโูุง ูุฑุฒูุฏ ุฑุง ุจู ูุงฺููโูุง ุงุฌุฏุงุฏ ุจุฑูู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>pub</code> ุนููู ฺฉูุฏ.</p>
<h3 id="ุขุดฺฉุงุฑ-ฺฉุฑุฏู-ูุณุฑูุง-ุจุง-ฺฉููู-ฺฉูุฏ-pub"><a class="header" href="#ุขุดฺฉุงุฑ-ฺฉุฑุฏู-ูุณุฑูุง-ุจุง-ฺฉููู-ฺฉูุฏ-pub">ุขุดฺฉุงุฑ ฺฉุฑุฏู ูุณุฑูุง ุจุง ฺฉููู ฺฉูุฏ <code>pub</code></a></h3>
<p>ุจุงุฏ ุจู ุฎุทุง ูุณุชูฺฏ 7-4 ุจุฑฺฏุฑุฏู ฺฉู ุจู ูุง ฺฏูุช ูุงฺูู <code>hosting</code> ุฎุตูุต ุงุณุช. ูุง ูโุฎูุงูู ุชุงุจุน <code>eat_at_restaurant</code> ุฏุฑ ูุงฺูู ูุงูุฏ ุจู ุชุงุจุน <code>add_to_waitlist</code> ุฏุฑ ูุงฺูู ูุฑุฒูุฏ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏุ ุจูุงุจุฑุงู ูุงฺูู <code>hosting</code> ุฑุง ุจุง ฺฉููู ฺฉูุฏ <code>pub</code> ุนูุงูุช ูโุฒููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-5 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile">mod front_of_house {
    pub mod hosting {
        fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    // Absolute path
    crate::front_of_house::hosting::add_to_waitlist();

    // Relative path
    front_of_house::hosting::add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-5: ุงุนูุงู ูุงฺูู <code>hosting</code> ุจู ุนููุงู <code>pub</code> ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุขู ุฏุฑ <code>eat_at_restaurant</code></figcaption>
</figure>
<p>ูุชุฃุณูุงููุ ฺฉุฏ ุฏุฑ ูุณุชูฺฏ 7-5 ููฺูุงู ุจู ุฎุทุงูุง ฺฉุงููพุงูุฑ ููุฌุฑ ูโุดูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-6 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><code class="language-console">$ cargo build
   Compiling restaurant v0.1.0 (file:///projects/restaurant)
error[E0603]: function `add_to_waitlist` is private
 --&gt; src/lib.rs:9:37
  |
9 |     crate::front_of_house::hosting::add_to_waitlist();
  |                                     ^^^^^^^^^^^^^^^ private function
  |
note: the function `add_to_waitlist` is defined here
 --&gt; src/lib.rs:3:9
  |
3 |         fn add_to_waitlist() {}
  |         ^^^^^^^^^^^^^^^^^^^^

error[E0603]: function `add_to_waitlist` is private
  --&gt; src/lib.rs:12:30
   |
12 |     front_of_house::hosting::add_to_waitlist();
   |                              ^^^^^^^^^^^^^^^ private function
   |
note: the function `add_to_waitlist` is defined here
  --&gt; src/lib.rs:3:9
   |
3  |         fn add_to_waitlist() {}
   |         ^^^^^^^^^^^^^^^^^^^^

For more information about this error, try `rustc --explain E0603`.
error: could not compile `restaurant` (lib) due to 2 previous errors
</code></pre>
<figcaption>Listing 7-6: ุฎุทุงูุง ฺฉุงููพุงูุฑ ููฺฏุงู ุณุงุฎุช ฺฉุฏ ุฏุฑ ูุณุชูฺฏ 7-5</figcaption>
</figure>
<p>ฺู ุงุชูุงู ุงูุชุงุฏุ ุงุถุงูู ฺฉุฑุฏู ฺฉููู ฺฉูุฏ <code>pub</code> ุฏุฑ ุฌูู <code>mod hosting</code> ูุงฺูู ุฑุง ุนููู ูโฺฉูุฏ. ุจุง ุงู ุชุบุฑุ ุงฺฏุฑ ุจู <code>front_of_house</code> ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุ ูโุชูุงูู ุจู <code>hosting</code> ูุฒ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู. ุงูุง <em>ูุญุชูุงุช</em> <code>hosting</code> ููฺูุงู ุฎุตูุต ุงุณุชุ ุนููู ฺฉุฑุฏู ูุงฺูู ุจู ูุนูุง ุนููู ฺฉุฑุฏู ูุญุชูุง ุขู ูุณุช. ฺฉููู ฺฉูุฏ <code>pub</code> ุฑู ฺฉ ูุงฺูู ููุท ุจู ฺฉุฏูุง ููุฌูุฏ ุฏุฑ ูุงฺููโูุง ุงุฌุฏุงุฏ ุงุฌุงุฒู ูโุฏูุฏ ุจู ุขู ุงุฑุฌุงุน ุฏููุฏุ ูู ุงูฺฉู ุจู ฺฉุฏ ุฏุงุฎู ุขู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุงฺููโูุง ุจู ุนููุงู ุธุฑู ุนูู ูโฺฉููุฏุ ุชููุง ุนููู ฺฉุฑุฏู ูุงฺูู ฺฉุงู ูุณุชุ ุจุงุฏ ูุฑุงุชุฑ ุฑูุชู ู ฺฉ ุง ฺูุฏ ููุฑุฏ ุงุฒ ุขุชูโูุง ุฏุฑูู ูุงฺูู ุฑุง ูุฒ ุนููู ฺฉูู.</p>
<p>ุฎุทุงูุง ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-6 ูุดุงู ูโุฏููุฏ ฺฉู ุชุงุจุน <code>add_to_waitlist</code> ุฎุตูุต ุงุณุช. ููุงุนุฏ ุญุฑู ุฎุตูุต ุจุฑุง ุณุงุฎุชุงุฑูุงุ enumูุงุ ุชูุงุจุนุ ูุชุฏูุง ู ููฺูู ูุงฺููโูุง ุงุนูุงู ูโุดููุฏ.</p>
<p>ุจุงุฏ ุชุงุจุน <code>add_to_waitlist</code> ุฑุง ูุฒ ุจุง ุงุถุงูู ฺฉุฑุฏู ฺฉููู ฺฉูุฏ <code>pub</code> ูุจู ุงุฒ ุชุนุฑู ุขู ุนููู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-7 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness">mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    // Absolute path
    crate::front_of_house::hosting::add_to_waitlist();

    // Relative path
    front_of_house::hosting::add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-7: ุงุถุงูู ฺฉุฑุฏู ฺฉููู ฺฉูุฏ <code>pub</code> ุจู <code>mod hosting</code> ู <code>fn add_to_waitlist</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุงุจุน ุฑุง ุงุฒ <code>eat_at_restaurant</code> ูุฑุงุฎูุงู ฺฉูู</figcaption>
</figure>
<p>ุญุงูุง ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏ! ุจุฑุง ุงูฺฉู ุจุจูู ฺุฑุง ุงุถุงูู ฺฉุฑุฏู ฺฉููู ฺฉูุฏ <code>pub</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ุงู ูุณุฑูุง ุฏุฑ <code>eat_at_restaurant</code> ุงุณุชูุงุฏู ฺฉููุ ุจุงุฏ ุจู ูุณุฑูุง ูุทูู ู ูุณุจ ูฺฏุงู ฺฉูู.</p>
<p>ุฏุฑ ูุณุฑ ูุทููุ ุจุง <code>crate</code>ุ ุฑุดู ุฏุฑุฎุช ูุงฺูู ุฌุนุจู (crate) ุฎูุฏ ุดุฑูุน ูโฺฉูู. ูุงฺูู <code>front_of_house</code> ุฏุฑ ุฑุดู ุฌุนุจู (crate) ุชุนุฑู ุดุฏู ุงุณุช. ุงฺฏุฑฺู <code>front_of_house</code> ุนููู ูุณุชุ ุงุฒ ุขูุฌุง ฺฉู ุชุงุจุน <code>eat_at_restaurant</code> ุฏุฑ ููุงู ูุงฺูู ุจู ุนููุงู <code>front_of_house</code> ุชุนุฑู ุดุฏู ุงุณุช (ุนู <code>eat_at_restaurant</code> ู <code>front_of_house</code> ููโุณุทุญ ูุณุชูุฏ)ุ ูโุชูุงูู ุงุฒ <code>eat_at_restaurant</code> ุจู <code>front_of_house</code> ุงุฑุฌุงุน ุฏูู. ุจุนุฏุ ูุงฺูู <code>hosting</code> ฺฉู ุจุง <code>pub</code> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏู ุงุณุช ูุฑุงุฑ ุฏุงุฑุฏ. ูุง ูโุชูุงูู ุจู ูุงฺูู ูุงูุฏ <code>hosting</code> ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุ ุจูุงุจุฑุงู ูโุชูุงูู ุจู <code>hosting</code> ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู. ุฏุฑ ููุงุชุ ุชุงุจุน <code>add_to_waitlist</code> ุจุง <code>pub</code> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏู ุงุณุช ู ูโุชูุงูู ุจู ูุงฺูู ูุงูุฏ ุขู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุ ุจูุงุจุฑุงู ุงู ูุฑุงุฎูุงู ุชุงุจุน ฺฉุงุฑ ูโฺฉูุฏ!</p>
<p>ุฏุฑ ูุณุฑ ูุณุจุ ููุทู ููุงู ูุณุฑ ูุทูู ุงุณุช ุจุง ุงู ุชูุงูุช ฺฉู ูุฑุญูู ุงูู ูุชูุงูุช ุงุณุช: ุจู ุฌุง ุดุฑูุน ุงุฒ ุฑุดู ุฌุนุจู (crate)ุ ูุณุฑ ุงุฒ <code>front_of_house</code> ุดุฑูุน ูโุดูุฏ. ูุงฺูู <code>front_of_house</code> ุฏุฑ ููุงู ูุงฺูู ฺฉู <code>eat_at_restaurant</code> ุชุนุฑู ุดุฏู ุงุณุช ูุฑุงุฑ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ูุณุฑ ูุณุจ ฺฉู ุงุฒ ูุงฺูู ฺฉู <code>eat_at_restaurant</code> ุฏุฑ ุขู ุชุนุฑู ุดุฏู ุงุณุช ุดุฑูุน ูโุดูุฏ ฺฉุงุฑ ูโฺฉูุฏ. ุณูพุณุ ุงุฒ ุขูุฌุง ฺฉู <code>hosting</code> ู <code>add_to_waitlist</code> ุจุง <code>pub</code> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏูโุงูุฏุ ุจูู ูุณุฑ ฺฉุงุฑ ูโฺฉูุฏ ู ุงู ูุฑุงุฎูุงู ุชุงุจุน ูุนุชุจุฑ ุงุณุช!</p>
<p>ุงฺฏุฑ ูุตุฏ ุฏุงุฑุฏ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงูู ุฎูุฏ ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ ุชุง ูพุฑูฺูโูุง ุฏฺฏุฑ ุจุชูุงููุฏ ุงุฒ ฺฉุฏ ุดูุง ุงุณุชูุงุฏู ฺฉููุฏุ API ุนููู ุดูุง ูุฑุงุฑุฏุงุฏ ุดูุง ุจุง ฺฉุงุฑุจุฑุงู ุฌุนุจู (crate) ุงุณุช ฺฉู ุชุนู ูโฺฉูุฏ ฺฺฏููู ูโุชูุงููุฏ ุจุง ฺฉุฏ ุดูุง ุชุนุงูู ุฏุงุดุชู ุจุงุดูุฏ. ูฺฉุงุช ุฒุงุฏ ุฏุฑ ููุฑุฏ ูุฏุฑุช ุชุบุฑุงุช API ุนููู ุดูุง ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจู ุงูุฑุงุฏ ฺฉูฺฉ ูโฺฉูุฏ ุจู ุฌุนุจู (crate) ุดูุง ูุงุจุณุชู ุจุงุดูุฏ. ุงู ููุงุญุธุงุช ุฎุงุฑุฌ ุงุฒ ุฏุงููู ุงู ฺฉุชุงุจ ูุณุชูุฏุ ุงฺฏุฑ ุจู ุงู ููุถูุน ุนูุงููโููุฏ ูุณุชุฏุ ุจู <a href="https://rust-lang.github.io/api-guidelines/">ุฑุงูููุง API Rust</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<section class="note" aria-role="note">
<h4 id="ุจูุชุฑู-ุดูููุง-ุจุฑุง-ุจุณุชููุง-ฺฉู-ฺฉ-ุฌุนุจู-crate-ุจุงูุฑ-ู-ฺฉ-ุฌุนุจู-crate-ฺฉุชุงุจุฎุงููุง-ุฏุงุฑูุฏ"><a class="header" href="#ุจูุชุฑู-ุดูููุง-ุจุฑุง-ุจุณุชููุง-ฺฉู-ฺฉ-ุฌุนุจู-crate-ุจุงูุฑ-ู-ฺฉ-ุฌุนุจู-crate-ฺฉุชุงุจุฎุงููุง-ุฏุงุฑูุฏ">ุจูุชุฑู ุดููโูุง ุจุฑุง ุจุณุชูโูุง ฺฉู ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ู ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุฏุงุฑูุฏ</a></h4>
<p>ูุง ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ฺฉ ุจุณุชู ูโุชูุงูุฏ ูู ฺฉ ุฑุดู ุฌุนุจู (crate) ุจุงูุฑ ุฏุฑ <em>src/main.rs</em> ู ูู ฺฉ ุฑุดู ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุฏุฑ <em>src/lib.rs</em> ุฏุงุดุชู ุจุงุดุฏุ ู ูุฑ ุฏู ุฌุนุจู (crate) ุจู ุตูุฑุช ูพุดโูุฑุถ ูุงู ุจุณุชู ุฑุง ุฎูุงููุฏ ุฏุงุดุช. ูุนูููุงู ุจุณุชูโูุง ฺฉู ุงู ุงูฺฏู ุฑุง ุฏูุจุงู ูโฺฉููุฏ ููุท ุจู ุงูุฏุงุฒู ฺฉุงู ฺฉุฏ ุฏุฑ ุฌุนุจู (crate) ุจุงูุฑ ุฏุงุฑูุฏ ุชุง ฺฉ ูุงู ุงุฌุฑุง ุงุฌุงุฏ ฺฉููุฏ ฺฉู ฺฉุฏ ุฏุฑูู ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ุงู ฺฉุงุฑ ุจู ูพุฑูฺูโูุง ุฏฺฏุฑ ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ุจุดุชุฑ ุนููฺฉุฑุฏูุง ฺฉู ุจุณุชู ุงุฑุงุฆู ูโุฏูุฏ ุจูุฑูโููุฏ ุดููุฏุ ุฒุฑุง ฺฉุฏ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ูโุชูุงูุฏ ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดูุฏ.</p>
<p>ุฏุฑุฎุช ูุงฺูู ุจุงุฏ ุฏุฑ <em>src/lib.rs</em> ุชุนุฑู ุดูุฏ. ุณูพุณุ ูุฑ ุขุชู ุนููู ุฑุง ูโุชูุงู ุฏุฑ ุฌุนุจู (crate) ุจุงูุฑ ุจุง ุดุฑูุน ูุณุฑูุง ุจุง ูุงู ุจุณุชู ุงุณุชูุงุฏู ฺฉุฑุฏ. ุฌุนุจู (crate) ุจุงูุฑ ุจู ฺฉ ฺฉุงุฑุจุฑ ุงุฒ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุชุจุฏู ูโุดูุฏุ ุฏุฑุณุช ูุซู ุงูฺฉู ฺฉ ุฌุนุจู (crate) ฺฉุงููุงู ุฎุงุฑุฌ ุงุฒ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุงุณุชูุงุฏู ูโฺฉูุฏ: ุชููุง ูโุชูุงูุฏ ุงุฒ API ุนููู ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ฺฉุงุฑ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ฺฉ API ุฎูุจ ุทุฑุงุญ ฺฉูุฏุ ูู ุชููุง ููุณูุฏู ุขู ูุณุชุฏุ ุจูฺฉู ฺฉ ฺฉุงุฑุจุฑ ูุฒ ูุณุชุฏ!</p>
<p>ุฏุฑ <a href="ch12-00-an-io-project.html">ูุตู ฑฒ</a>ุ ูุง ุงู ุดูู ุณุงุฒูุงูโุฏู ุฑุง ุจุง ฺฉ ุจุฑูุงูู ุฎุท ูุฑูุงู ฺฉู ูู ฺฉ ุฌุนุจู (crate) ุจุงูุฑ ู ูู ฺฉ ุฌุนุจู (crate) ฺฉุชุงุจุฎุงููโุง ุฏุงุฑุฏ ูุดุงู ุฎูุงูู ุฏุงุฏ.</p>
</section>
<h3 id="ุดุฑูุน-ูุณุฑูุง-ูุณุจ-ุจุง-super"><a class="header" href="#ุดุฑูุน-ูุณุฑูุง-ูุณุจ-ุจุง-super">ุดุฑูุน ูุณุฑูุง ูุณุจ ุจุง <code>super</code></a></h3>
<p>ูุง ูโุชูุงูู ูุณุฑูุง ูุณุจโุง ุจุณุงุฒู ฺฉู ุงุฒ ูุงฺูู ูุงูุฏ ุดุฑูุน ุดููุฏุ ูู ุงุฒ ูุงฺูู ูุนู ุง ุฑุดู ุฌุนุจู (crate)ุ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>super</code> ุฏุฑ ุงุจุชุฏุง ูุณุฑ. ุงู ูุดุงุจู ุดุฑูุน ูุณุฑ ุฏุฑ ูุงูโุณุณุชู ุจุง ุณูุชฺฉุณ <code>..</code> ุงุณุช. ุงุณุชูุงุฏู ุงุฒ <code>super</code> ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ ุจู ุขุชู ฺฉู ูโุฏุงูู ุฏุฑ ูุงฺูู ูุงูุฏ ูุฑุงุฑ ุฏุงุฑุฏ ุงุฑุฌุงุน ุฏููุ ฺฉู ูโุชูุงูุฏ ุฌุงุจุฌุง ุฏุฑุฎุช ูุงฺูู ุฑุง ุขุณุงูโุชุฑ ฺฉูุฏุ ุจู ุฎุตูุต ุฒูุงู ฺฉู ูุงฺูู ุจู ูุงฺูู ูุงูุฏ ูุฑุชุจุท ุงุณุช ุงูุง ููฺฉู ุงุณุช ุฑูุฒ ูุงูุฏ ุจู ุฌุง ุฏฺฏุฑ ุฏุฑ ุฏุฑุฎุช ูุงฺูู ููุชูู ุดูุฏ.</p>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-8 ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ูููุนุช ุฑุง ูุฏูโุณุงุฒ ูโฺฉูุฏ ฺฉู ุฏุฑ ุขู ฺฉ ุขุดูพุฒ ุณูุงุฑุด ูุงุฏุฑุณุช ุฑุง ุงุตูุงุญ ฺฉุฑุฏู ู ุดุฎุตุงู ุขู ุฑุง ุจู ูุดุชุฑ ูโุขูุฑุฏ. ุชุงุจุน <code>fix_incorrect_order</code> ฺฉู ุฏุฑ ูุงฺูู <code>back_of_house</code> ุชุนุฑู ุดุฏู ุงุณุชุ ุชุงุจุน <code>deliver_order</code> ุฑุง ฺฉู ุฏุฑ ูุงฺูู ูุงูุฏ ุชุนุฑู ุดุฏู ุงุณุชุ ูุฑุงุฎูุงู ูโฺฉูุฏ ู ูุณุฑ <code>deliver_order</code> ุฑุง ุจุง ุดุฑูุน ุงุฒ <code>super</code> ูุดุฎุต ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness">fn deliver_order() {}

mod back_of_house {
    fn fix_incorrect_order() {
        cook_order();
        super::deliver_order();
    }

    fn cook_order() {}
}</code></pre>
<figcaption>Listing 7-8: ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุณุฑ ูุณุจ ฺฉู ุจุง <code>super</code> ุดุฑูุน ูโุดูุฏ</figcaption>
</figure>
<p>ุชุงุจุน <code>fix_incorrect_order</code> ุฏุฑ ูุงฺูู <code>back_of_house</code> ุงุณุชุ ุจูุงุจุฑุงู ูโุชูุงูู ุงุฒ <code>super</code> ุจุฑุง ุฑูุชู ุจู ูุงฺูู ูุงูุฏ <code>back_of_house</code> ุงุณุชูุงุฏู ฺฉููุ ฺฉู ุฏุฑ ุงู ููุฑุฏ <code>crate</code>ุ ุนู ุฑุดู ุงุณุช. ุงุฒ ุขูุฌุง ุจู ุฏูุจุงู <code>deliver_order</code> ูโฺฏุฑุฏู ู ุขู ุฑุง ูพุฏุง ูโฺฉูู. ููููุช! ูุง ูฺฉุฑ ูโฺฉูู ฺฉู ูุงฺูู <code>back_of_house</code> ู ุชุงุจุน <code>deliver_order</code> ุงุญุชูุงูุงู ุฏุฑ ููุงู ุฑุงุจุทู ุจุง ฺฉุฏฺฏุฑ ุจุงู ูโูุงููุฏ ู ุงฺฏุฑ ุจุฎูุงูู ุฏุฑุฎุช ูุงฺูู ุฌุนุจู (crate) ุฑุง ุณุงุฒูุงูุฏู ูุฌุฏุฏ ฺฉููุ ุจุง ูู ุฌุงุจุฌุง ูโุดููุฏ. ุจูุงุจุฑุงูุ ุงุฒ <code>super</code> ุงุณุชูุงุฏู ฺฉุฑุฏู ุชุง ุฏุฑ ุขูุฏูุ ุงฺฏุฑ ุงู ฺฉุฏ ุจู ูุงฺูู ุฏฺฏุฑ ููุชูู ุดุฏุ ุชุบุฑุงุช ฺฉูุชุฑ ุฏุฑ ฺฉุฏ ูุงุฒู ุจุงุดุฏ.</p>
<h3 id="ุนููู-ฺฉุฑุฏู-ุณุงุฎุชุงุฑูุง-ู-enumูุง"><a class="header" href="#ุนููู-ฺฉุฑุฏู-ุณุงุฎุชุงุฑูุง-ู-enumูุง">ุนููู ฺฉุฑุฏู ุณุงุฎุชุงุฑูุง ู enumูุง</a></h3>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ <code>pub</code> ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุณุงุฎุชุงุฑูุง ู enumูุง ุจู ุนููุงู ุนููู ุงุณุชูุงุฏู ฺฉููุ ุงูุง ฺูุฏ ุฌุฒุฆุงุช ุงุถุงู ุฏุฑ ููุฑุฏ ุงุณุชูุงุฏู ุงุฒ <code>pub</code> ุจุง ุณุงุฎุชุงุฑูุง ู enumูุง ูุฌูุฏ ุฏุงุฑุฏ. ุงฺฏุฑ ุงุฒ <code>pub</code> ูุจู ุงุฒ ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ ุงุณุชูุงุฏู ฺฉููุ ุณุงุฎุชุงุฑ ุนููู ูโุดูุฏุ ุงูุง ููุฏูุง ุณุงุฎุชุงุฑ ููฺูุงู ุฎุตูุต ุฎูุงููุฏ ุจูุฏ. ูุง ูโุชูุงูู ูุฑ ููุฏ ุฑุง ุจู ุตูุฑุช ููุฑุฏ ุนููู ุง ุฎุตูุต ฺฉูู. ุฏุฑ ูุณุชูฺฏ 7-9ุ ฺฉ ุณุงุฎุชุงุฑ ุนููู ุจู ูุงู <code>back_of_house::Breakfast</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ฺฉ ููุฏ ุนููู ุจู ูุงู <code>toast</code> ุฏุงุฑุฏ ุงูุง ููุฏ <code>seasonal_fruit</code> ุฎุตูุต ุงุณุช. ุงู ูุฏูโุณุงุฒ ุญุงูุช ุงุณุช ฺฉู ุฏุฑ ุขู ูุดุชุฑ ูโุชูุงูุฏ ููุน ูุงู ููุฑุงู ุจุง ูุนุฏู ุบุฐุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ุงูุง ุณุฑุขุดูพุฒ ุชุตูู ูโฺฏุฑุฏ ฺฉู ฺฉุฏุงู ููู ููุฑุงู ูุนุฏู ุบุฐุง ุจุงุดุฏ ุจุฑ ุงุณุงุณ ุขูฺู ุฏุฑ ูุตู ู ููุฌูุฏ ุงุณุช. ูููโูุง ููุฌูุฏ ุจู ุณุฑุนุช ุชุบุฑ ูโฺฉููุฏุ ุจูุงุจุฑุงู ูุดุชุฑุงู ููโุชูุงููุฏ ููู ุฑุง ุงูุชุฎุงุจ ฺฉููุฏ ุง ุญุช ุจุจููุฏ ฺฉู ฺู ูููโุง ุฏุฑุงูุช ุฎูุงููุฏ ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">mod back_of_house {
    pub struct Breakfast {
        pub toast: String,
        seasonal_fruit: String,
    }

    impl Breakfast {
        pub fn summer(toast: &amp;str) -&gt; Breakfast {
            Breakfast {
                toast: String::from(toast),
                seasonal_fruit: String::from("peaches"),
            }
        }
    }
}

pub fn eat_at_restaurant() {
    // Order a breakfast in the summer with Rye toast
    let mut meal = back_of_house::Breakfast::summer("Rye");
    // Change our mind about what bread we'd like
    meal.toast = String::from("Wheat");
    println!("I'd like {} toast please", meal.toast);

    // The next line won't compile if we uncomment it; we're not allowed
    // to see or modify the seasonal fruit that comes with the meal
    // meal.seasonal_fruit = String::from("blueberries");
}</code></pre>
<figcaption>Listing 7-9: ฺฉ ุณุงุฎุชุงุฑ ุจุง ุจุฑุฎ ููุฏูุง ุนููู ู ุจุฑุฎ ุฎุตูุต</figcaption>
</figure>
<p>ุงุฒ ุขูุฌุง ฺฉู ููุฏ <code>toast</code> ุฏุฑ ุณุงุฎุชุงุฑ <code>back_of_house::Breakfast</code> ุนููู ุงุณุชุ ูโุชูุงูู ุฏุฑ <code>eat_at_restaurant</code> ุจู ุงู ููุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ููุทูโฺฏุฐุงุฑ ููุฏุงุฑ ุจุฏูู ุง ููุฏุงุฑ ุขู ุฑุง ุจุฎูุงูู. ุชูุฌู ฺฉูุฏ ฺฉู ููโุชูุงูู ุงุฒ ููุฏ <code>seasonal_fruit</code> ุฏุฑ <code>eat_at_restaurant</code> ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง <code>seasonal_fruit</code> ุฎุตูุต ุงุณุช. ุฎุท ฺฉู ููุฏุงุฑ ููุฏ <code>seasonal_fruit</code> ุฑุง ุชุบุฑ ูโุฏูุฏ ุฑุง ูุบู ฺฉุงููุช ฺฉูุฏ ุชุง ุจุจูุฏ ฺู ุฎุทุง ุฏุฑุงูุช ูโฺฉูุฏ!</p>
<p>ููฺูู ุชูุฌู ฺฉูุฏ ฺฉู ฺูู <code>back_of_house::Breakfast</code> ฺฉ ููุฏ ุฎุตูุต ุฏุงุฑุฏุ ุณุงุฎุชุงุฑ ุจุงุฏ ฺฉ ุชุงุจุน ูุงุจุณุชู ุนููู ุงุฑุงุฆู ุฏูุฏ ฺฉู ฺฉ ููููู ุงุฒ <code>Breakfast</code> ุจุณุงุฒุฏ (ูุง ุขู ุฑุง ุงูุฌุง <code>summer</code> ูุงูุฏูโุงู). ุงฺฏุฑ <code>Breakfast</code> ฺูู ุชุงุจุน ูุฏุงุดุชุ ููโุชูุงูุณุชู ฺฉ ููููู ุงุฒ <code>Breakfast</code> ุฑุง ุฏุฑ <code>eat_at_restaurant</code> ุงุฌุงุฏ ฺฉููุ ุฒุฑุง ููโุชูุงูุณุชู ููุฏุงุฑ ููุฏ ุฎุตูุต <code>seasonal_fruit</code> ุฑุง ุฏุฑ <code>eat_at_restaurant</code> ุชูุธู ฺฉูู.</p>
<p>ุฏุฑ ููุงุจูุ ุงฺฏุฑ ฺฉ enum ุฑุง ุนููู ฺฉููุ ุชูุงู ูุชุบุฑูุง ุขู ูุฒ ุนููู ูโุดููุฏ. ูุง ููุท ุจู <code>pub</code> ูุจู ุงุฒ ฺฉููู ฺฉูุฏ <code>enum</code> ูุงุฒ ุฏุงุฑูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-10 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">mod back_of_house {
    pub enum Appetizer {
        Soup,
        Salad,
    }
}

pub fn eat_at_restaurant() {
    let order1 = back_of_house::Appetizer::Soup;
    let order2 = back_of_house::Appetizer::Salad;
}</code></pre>
<figcaption>Listing 7-10: ุนููู ฺฉุฑุฏู ฺฉ enum ุชูุงู ูุชุบุฑูุง ุขู ุฑุง ุนููู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุงุฒ ุขูุฌุง ฺฉู enum <code>Appetizer</code> ุฑุง ุนููู ฺฉุฑุฏูุ ูโุชูุงูู ุงุฒ ูุชุบุฑูุง <code>Soup</code> ู <code>Salad</code> ุฏุฑ <code>eat_at_restaurant</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<p>Enums ุฎู ููุฏ ูุณุชูุฏ ูฺฏุฑ ุงูฺฉู ูุชุบุฑูุง ุขูโูุง ุนููู ุจุงุดูุฏุ ุงุถุงูู ฺฉุฑุฏู <code>pub</code> ุจู ุชูุงู ูุชุบุฑูุง enum ุฏุฑ ูุฑ ููุฑุฏ ฺฉุงุฑ ุฎุณุชูโฺฉููุฏูโุง ุฎูุงูุฏ ุจูุฏุ ุจูุงุจุฑุงู ุจู ุทูุฑ ูพุดโูุฑุถ ูุชุบุฑูุง enum ุนููู ูุณุชูุฏ. ุณุงุฎุชุงุฑูุง ุงุบูุจ ุจุฏูู ุนููู ุจูุฏู ููุฏูุงุดุงู ููุฏ ูุณุชูุฏุ ุจูุงุจุฑุงู ููุฏูุง ุณุงุฎุชุงุฑ ุงุฒ ูุงููู ฺฉู ูพุฑู ูโฺฉููุฏ ฺฉู ููู ฺุฒ ุจู ุตูุฑุช ูพุดโูุฑุถ ุฎุตูุต ุงุณุช ูฺฏุฑ ุงูฺฉู ุจุง <code>pub</code> ูุดุฎุต ุดูุฏ.</p>
<p>ฺฉ ูุถุนุช ุฏฺฏุฑ ูุฑุชุจุท ุจุง <code>pub</code> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูููุฒ ุขู ุฑุง ูพูุดุด ูุฏุงุฏูโุงูุ ู ุขู ุขุฎุฑู ูฺฺฏ ุณุณุชู ูุงฺูู ูุง ุงุณุช: ฺฉููู ฺฉูุฏ <code>use</code>. ุงุจุชุฏุง <code>use</code> ุฑุง ุจู ุชููุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ู ุณูพุณ ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฺฏููู <code>pub</code> ู <code>use</code> ุฑุง ุชุฑฺฉุจ ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุงุฑุฏ-ฺฉุฑุฏู-ูุณุฑูุง-ุจู-ูุญุฏูุฏู-ุจุง-ฺฉููู-ฺฉูุฏ-use"><a class="header" href="#ูุงุฑุฏ-ฺฉุฑุฏู-ูุณุฑูุง-ุจู-ูุญุฏูุฏู-ุจุง-ฺฉููู-ฺฉูุฏ-use">ูุงุฑุฏ ฺฉุฑุฏู ูุณุฑูุง ุจู ูุญุฏูุฏู ุจุง ฺฉููู ฺฉูุฏ <code>use</code></a></h2>
<p>ููุดุชู ูุณุฑูุง ฺฉุงูู ุจุฑุง ูุฑุงุฎูุงู ุชูุงุจุน ูโุชูุงูุฏ ุฎุณุชูโฺฉููุฏู ู ุชฺฉุฑุงุฑ ุจุงุดุฏ. ุฏุฑ ูุณุชูฺฏ 7-7ุ ฺู ูุณุฑ ูุทูู ุง ูุณุจ ุฑุง ุจุฑุง ุชุงุจุน <code>add_to_waitlist</code> ุงูุชุฎุงุจ ฺฉููุ ูุฑ ุจุงุฑ ฺฉู ุจุฎูุงูู ุงู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ฺฉูู ุจุงุฏ <code>front_of_house</code> ู <code>hosting</code> ุฑุง ูุฒ ูุดุฎุต ฺฉูู. ุฎูุดุจุฎุชุงููุ ุฑุงู ุจุฑุง ุณุงุฏูโุชุฑ ฺฉุฑุฏู ุงู ูุฑุขูุฏ ูุฌูุฏ ุฏุงุฑุฏ: ูโุชูุงูู ฺฉ ูุงูุจุฑ ุจู ฺฉ ูุณุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>use</code> ุงุฌุงุฏ ฺฉูู ู ุณูพุณ ุฏุฑ ูุฑ ุฌุง ุฏฺฏุฑ ูุญุฏูุฏูุ ุงุฒ ูุงู ฺฉูุชุงูโุชุฑ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุฏุฑ ูุณุชูฺฏ 7-11ุ ูุงฺูู <code>crate::front_of_house::hosting</code> ุฑุง ุจู ูุญุฏูุฏู ุชุงุจุน <code>eat_at_restaurant</code> ูโุขูุฑู ุชุง ููุท ูุงุฒ ุจู ูุดุฎุต ฺฉุฑุฏู <code>hosting::add_to_waitlist</code> ุจุฑุง ูุฑุงุฎูุงู ุชุงุจุน <code>add_to_waitlist</code> ุฏุฑ <code>eat_at_restaurant</code> ุฏุงุดุชู ุจุงุดู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness">mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

use crate::front_of_house::hosting;

pub fn eat_at_restaurant() {
    hosting::add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-11: ูุงุฑุฏ ฺฉุฑุฏู ฺฉ ูุงฺูู ุจู ูุญุฏูุฏู ุจุง <code>use</code></figcaption>
</figure>
<p>ุงุถุงูู ฺฉุฑุฏู <code>use</code> ู ฺฉ ูุณุฑ ุฏุฑ ฺฉ ูุญุฏูุฏู ูุดุงุจู ุงุฌุงุฏ ฺฉ ููฺฉ ููุงุฏู ุฏุฑ ูุงูโุณุณุชู ุงุณุช. ุจุง ุงุถุงูู ฺฉุฑุฏู <code>use crate::front_of_house::hosting</code> ุฏุฑ ุฑุดู ุฌุนุจู (crate)ุ <code>hosting</code> ุงฺฉููู ฺฉ ูุงู ูุนุชุจุฑ ุฏุฑ ุขู ูุญุฏูุฏู ุงุณุชุ ุฏุฑุณุช ูุงููุฏ ุงูฺฉู ูุงฺูู <code>hosting</code> ุฏุฑ ุฑุดู ุฌุนุจู (crate) ุชุนุฑู ุดุฏู ุจุงุดุฏ. ูุณุฑูุง ฺฉู ุจุง <code>use</code> ุจู ูุญุฏูุฏู ุขูุฑุฏู ูโุดููุฏ ูุงููุฏ ูุฑ ูุณุฑ ุฏฺฏุฑ ุญุฑู ุฎุตูุต ุฑุง ุจุฑุฑุณ ูโฺฉููุฏ.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู <code>use</code> ููุท ูุงูุจุฑ ุฑุง ุจุฑุง ูุญุฏูุฏู ุฎุงุต ฺฉู ุฏุฑ ุขู <code>use</code> ุงุณุชูุงุฏู ุดุฏู ุงุฌุงุฏ ูโฺฉูุฏ. ูุณุชูฺฏ 7-12 ุชุงุจุน <code>eat_at_restaurant</code> ุฑุง ุจู ฺฉ ุฒุฑูุงฺูู ุฌุฏุฏ ุจู ูุงู <code>customer</code> ููุชูู ูโฺฉูุฏ ฺฉู ุณูพุณ ฺฉ ูุญุฏูุฏู ูุชูุงูุช ุงุฒ ุฏุณุชูุฑ <code>use</code> ุงุณุชุ ุจูุงุจุฑุงู ุจุฏูู ุชุงุจุน ฺฉุงููพุงู ููโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness does_not_compile ignore">mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

use crate::front_of_house::hosting;

mod customer {
    pub fn eat_at_restaurant() {
        hosting::add_to_waitlist();
    }
}</code></pre>
<figcaption>Listing 7-12: ฺฉ ุฏุณุชูุฑ <code>use</code> ููุท ุฏุฑ ูุญุฏูุฏูโุง ฺฉู ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ุงุนูุงู ูโุดูุฏ</figcaption>
</figure>
<p>ุฎุทุง ฺฉุงููพุงูุฑ ูุดุงู ูโุฏูุฏ ฺฉู ูุงูุจุฑ ุฏฺฏุฑ ุฏุฑ ูุงฺูู <code>customer</code> ุงุนูุงู ููโุดูุฏ:</p>
<pre><code class="language-console">$ cargo build
   Compiling restaurant v0.1.0 (file:///projects/restaurant)
error[E0433]: failed to resolve: use of undeclared crate or module `hosting`
  --&gt; src/lib.rs:11:9
   |
11 |         hosting::add_to_waitlist();
   |         ^^^^^^^ use of undeclared crate or module `hosting`
   |
help: consider importing this module through its public re-export
   |
10 +     use crate::hosting;
   |

warning: unused import: `crate::front_of_house::hosting`
 --&gt; src/lib.rs:7:5
  |
7 | use crate::front_of_house::hosting;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

For more information about this error, try `rustc --explain E0433`.
warning: `restaurant` (lib) generated 1 warning
error: could not compile `restaurant` (lib) due to 1 previous error; 1 warning emitted
</code></pre>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ููฺูู ฺฉ ูุดุฏุงุฑ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู <code>use</code> ุฏฺฏุฑ ุฏุฑ ูุญุฏูุฏู ุฎูุฏ ุงุณุชูุงุฏู ููโุดูุฏ! ุจุฑุง ุฑูุน ุงู ูุดฺฉูุ ุฏุณุชูุฑ <code>use</code> ุฑุง ูุฒ ุจู ุฏุงุฎู ูุงฺูู <code>customer</code> ููุชูู ฺฉูุฏุ ุง ูุงูุจุฑ ุฑุง ุฏุฑ ูุงฺูู ูุงูุฏ ุจุง <code>super::hosting</code> ุฏุฑ ุฏุงุฎู ูุงฺูู <code>customer</code> ุงุฑุฌุงุน ุฏูุฏ.</p>
<h3 id="ุงุฌุงุฏ-ูุณุฑูุง-use-ุจู-ุตูุฑุช-ุงุฏููุงุชฺฉ"><a class="header" href="#ุงุฌุงุฏ-ูุณุฑูุง-use-ุจู-ุตูุฑุช-ุงุฏููุงุชฺฉ">ุงุฌุงุฏ ูุณุฑูุง <code>use</code> ุจู ุตูุฑุช ุงุฏููุงุชฺฉ</a></h3>
<p>ุฏุฑ ูุณุชูฺฏ 7-11ุ ููฺฉู ุงุณุช ุงู ุณูุงู ูพุด ุจุงุฏ ฺฉู ฺุฑุง ูุง <code>use crate::front_of_house::hosting</code> ุฑุง ูุดุฎุต ฺฉุฑุฏูโุงู ู ุณูพุณ <code>hosting::add_to_waitlist</code> ุฑุง ุฏุฑ <code>eat_at_restaurant</code> ูุฑุงุฎูุงู ฺฉุฑุฏูโุงูุ ุจู ุฌุง ุงูฺฉู ูุณุฑ <code>use</code> ุฑุง ุชุง ุชุงุจุน <code>add_to_waitlist</code> ูุดุฎุต ฺฉูู ุชุง ููุงู ูุชุฌู ุฑุง ุจู ุฏุณุช ุขูุฑูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-13 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness">mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

use crate::front_of_house::hosting::add_to_waitlist;

pub fn eat_at_restaurant() {
    add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-13: ูุงุฑุฏ ฺฉุฑุฏู ุชุงุจุน <code>add_to_waitlist</code> ุจู ูุญุฏูุฏู ุจุง <code>use</code> ฺฉู ุบุฑ ุงุฏููุงุชฺฉ ุงุณุช</figcaption>
</figure>
<p>ุงฺฏุฑฺู ูู ูุณุชูฺฏ 7-11 ู ูู ูุณุชูฺฏ 7-13 ฺฉุงุฑ ูุดุงุจู ุงูุฌุงู ูโุฏููุฏุ ูุณุชูฺฏ 7-11 ุฑูุด ุงุฏููุงุชฺฉ ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ฺฉ ุชุงุจุน ุจู ูุญุฏูุฏู ุจุง <code>use</code> ุงุณุช. ูุงุฑุฏ ฺฉุฑุฏู ูุงฺูู ูุงูุฏ ุชุงุจุน ุจุง <code>use</code> ุจู ุงู ูุนูุง ุงุณุช ฺฉู ุจุงุฏ ูุงฺูู ูุงูุฏ ุฑุง ููฺฏุงู ูุฑุงุฎูุงู ุชุงุจุน ูุดุฎุต ฺฉูู. ูุดุฎุต ฺฉุฑุฏู ูุงฺูู ูุงูุฏ ููฺฏุงู ูุฑุงุฎูุงู ุชุงุจุน ูุดุงู ูโุฏูุฏ ฺฉู ุชุงุจุน ุจู ุตูุฑุช ูุญู ุชุนุฑู ูุดุฏู ุงุณุชุ ุฏุฑ ุญุงู ฺฉู ููฺูุงู ุชฺฉุฑุงุฑ ูุณุฑ ฺฉุงูู ุฑุง ุจู ุญุฏุงูู ูโุฑุณุงูุฏ. ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-13 ูุดุฎุต ููโฺฉูุฏ ฺฉู <code>add_to_waitlist</code> ฺฉุฌุง ุชุนุฑู ุดุฏู ุงุณุช.</p>
<p>ุงุฒ ุทุฑู ุฏฺฏุฑุ ููุช ุณุงุฎุชุงุฑูุงุ enumูุงุ ู ุณุงุฑ ุขุชูโูุง ุฑุง ุจุง <code>use</code> ูุงุฑุฏ ูโฺฉููุ ุงุฏููุงุชฺฉ ุงุณุช ฺฉู ูุณุฑ ฺฉุงูู ุฑุง ูุดุฎุต ฺฉูู. ูุณุชูฺฏ 7-14 ุฑูุด ุงุฏููุงุชฺฉ ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุณุงุฎุชุงุฑ <code>HashMap</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจู ูุญุฏูุฏู ุฌุนุจู (crate) ุจุงูุฑ ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::collections::HashMap;

fn main() {
    let mut map = HashMap::new();
    map.insert(1, 2);
}</code></pre></pre>
<figcaption>Listing 7-14: ูุงุฑุฏ ฺฉุฑุฏู <code>HashMap</code> ุจู ูุญุฏูุฏู ุจู ุฑูุด ุงุฏููุงุชฺฉ</figcaption>
</figure>
<p>ูฺ ุฏูู ูู ูพุดุช ุงู ุนุฑู ูุณุช: ุงู ููุท ฺฉููุงูุณูู ุงุณุช ฺฉู ุฏุฑ ุฌุงูุนู Rust ุจู ูุฌูุฏ ุขูุฏู ู ุงูุฑุงุฏ ุจู ุฎูุงูุฏู ู ููุดุชู ฺฉุฏ Rust ุจู ุงู ุฑูุด ุนุงุฏุช ฺฉุฑุฏูโุงูุฏ.</p>
<p>ุงุณุชุซูุง ุงู ุนุฑู ุฒูุงู ุงุณุช ฺฉู ุฏู ุขุชู ุจุง ูุงู ฺฉุณุงู ุฑุง ุจุง ุฏุณุชูุฑุงุช <code>use</code> ูุงุฑุฏ ูุญุฏูุฏู ูโฺฉููุ ุฒุฑุง Rust ุงู ุงุฌุงุฒู ุฑุง ููโุฏูุฏ. ูุณุชูฺฏ 7-15 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุฏู ููุน <code>Result</code> ุฑุง ฺฉู ูุงู ฺฉุณุงู ุฏุงุฑูุฏ ุงูุง ุงุฒ ูุงฺููโูุง ูุงูุฏ ูุชูุงูุช ูโุขูุฏ ูุงุฑุฏ ูุญุฏูุฏู ฺฉูู ู ฺฺฏููู ุจู ุขูโูุง ุงุฑุฌุงุน ุฏูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::fmt;
use std::io;

fn function1() -&gt; fmt::Result {
    // --snip--
<span class="boring">    Ok(())
</span>}

fn function2() -&gt; io::Result&lt;()&gt; {
    // --snip--
<span class="boring">    Ok(())
</span>}</code></pre>
<figcaption>Listing 7-15: ูุงุฑุฏ ฺฉุฑุฏู ุฏู ููุน ุจุง ูุงู ฺฉุณุงู ุจู ฺฉ ูุญุฏูุฏู ูุงุฒููุฏ ุงุณุชูุงุฏู ุงุฒ ูุงฺููโูุง ูุงูุฏ ุขูโูุง ุงุณุช.</figcaption>
</figure>
<p>ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ ุงุณุชูุงุฏู ุงุฒ ูุงฺููโูุง ูุงูุฏ ุฏู ููุน <code>Result</code> ุฑุง ุงุฒ ูู ูุชูุงุฒ ูโฺฉูุฏ. ุงฺฏุฑ ุจู ุฌุง ุขู <code>use std::fmt::Result</code> ู <code>use std::io::Result</code> ูุดุฎุต ฺฉููุ ุฏู ููุน <code>Result</code> ุฏุฑ ฺฉ ูุญุฏูุฏู ุฎูุงูู ุฏุงุดุช ู Rust ููโุชูุงูุฏ ุจูููุฏ ููุธูุฑ ูุง ุงุฒ <code>Result</code> ฺฉุฏุงู ุงุณุช.</p>
<h3 id="ุงุฑุงุฆู-ูุงููุง-ุฌุฏุฏ-ุจุง-ฺฉููู-ฺฉูุฏ-as"><a class="header" href="#ุงุฑุงุฆู-ูุงููุง-ุฌุฏุฏ-ุจุง-ฺฉููู-ฺฉูุฏ-as">ุงุฑุงุฆู ูุงูโูุง ุฌุฏุฏ ุจุง ฺฉููู ฺฉูุฏ <code>as</code></a></h3>
<p>ฺฉ ุฑุงูโุญู ุฏฺฏุฑ ุจุฑุง ูุดฺฉู ูุงุฑุฏ ฺฉุฑุฏู ุฏู ููุน ุจุง ูุงู ฺฉุณุงู ุจู ฺฉ ูุญุฏูุฏู ุจุง <code>use</code> ุงู ุงุณุช ฺฉู ูพุณ ุงุฒ ูุณุฑุ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>as</code> ฺฉ ูุงู ูุญู ุฌุฏุฏ ุง <em>ูุงู ูุณุชุนุงุฑ</em> ุจุฑุง ููุน ูุดุฎุต ฺฉูู. ูุณุชูฺฏ 7-16 ุฑุงู ุฏฺฏุฑ ุจุฑุง ููุดุชู ฺฉุฏ ุฏุฑ ูุณุชูฺฏ 7-15 ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุฑ ุขู ฺฉ ุงุฒ ุฏู ููุน <code>Result</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>as</code> ุชุบุฑ ูุงู ุฏุงุฏูโุงู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::fmt::Result;
use std::io::Result as IoResult;

fn function1() -&gt; Result {
    // --snip--
<span class="boring">    Ok(())
</span>}

fn function2() -&gt; IoResult&lt;()&gt; {
    // --snip--
<span class="boring">    Ok(())
</span>}</code></pre>
<figcaption>Listing 7-16: ุชุบุฑ ูุงู ฺฉ ููุน ููฺฏุงู ูุงุฑุฏ ฺฉุฑุฏู ุจู ูุญุฏูุฏู ุจุง ฺฉููู ฺฉูุฏ <code>as</code></figcaption>
</figure>
<p>ุฏุฑ ุฏุณุชูุฑ ุฏูู <code>use</code>ุ ูุง ูุงู ุฌุฏุฏ <code>IoResult</code> ุฑุง ุจุฑุง ููุน <code>std::io::Result</code> ุงูุชุฎุงุจ ฺฉุฑุฏูุ ฺฉู ุจุง ููุน <code>Result</code> ุงุฒ <code>std::fmt</code> ฺฉู ุขู ุฑุง ูุฒ ูุงุฑุฏ ูุญุฏูุฏู ฺฉุฑุฏูโุงูุ ุชุถุงุฏ ูุฎูุงูุฏ ุฏุงุดุช. ูุฑ ุฏู ูุณุชูฺฏ 7-15 ู 7-16 ุงุฏููุงุชฺฉ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดููุฏุ ุจูุงุจุฑุงู ุงูุชุฎุงุจ ุจุง ุดูุงุณุช!</p>
<h3 id="ุฏูุจุงุฑู-ุตุงุฏุฑ-ฺฉุฑุฏู-ูุงููุง-ุจุง-pub-use"><a class="header" href="#ุฏูุจุงุฑู-ุตุงุฏุฑ-ฺฉุฑุฏู-ูุงููุง-ุจุง-pub-use">ุฏูุจุงุฑู ุตุงุฏุฑ ฺฉุฑุฏู ูุงูโูุง ุจุง <code>pub use</code></a></h3>
<p>ููุช ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>use</code> ฺฉ ูุงู ุฑุง ูุงุฑุฏ ูุญุฏูุฏู ูโฺฉููุ ูุงู ูุงุฑุฏ ุดุฏู ุฏุฑ ูุญุฏูุฏู ุฌุฏุฏ ุฎุตูุต ุงุณุช. ุจุฑุง ุงู ฺฉู ฺฉุฏ ฺฉู ฺฉุฏ ูุง ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุจุชูุงูุฏ ุจู ุงู ูุงู ุจู ฺฏูููโุง ุงุฑุฌุงุน ุฏูุฏ ฺฉู ฺฏู ุฏุฑ ูุญุฏูุฏู ฺฉุฏ ุฎูุฏ ุชุนุฑู ุดุฏู ุงุณุชุ ูโุชูุงูู <code>pub</code> ู <code>use</code> ุฑุง ุชุฑฺฉุจ ฺฉูู. ุงู ุชฺฉูฺฉ <em>ุฏูุจุงุฑู ุตุงุฏุฑ ฺฉุฑุฏู</em> ูุงูุฏู ูโุดูุฏ ุฒุฑุง ูุง ฺฉ ุขุชู ุฑุง ูุงุฑุฏ ูุญุฏูุฏู ูโฺฉูู ู ููฺูู ุขู ุฑุง ุจุฑุง ุฏฺฏุฑุงู ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ูโุฏูู ุชุง ูุงุฑุฏ ูุญุฏูุฏู ุฎูุฏุดุงู ฺฉููุฏ.</p>
<p>ูุณุชูฺฏ 7-17 ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-11 ุฑุง ุจุง ุชุบุฑ ุฏุณุชูุฑ <code>use</code> ุฏุฑ ูุงฺูู ุฑุดู ุจู <code>pub use</code> ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness">mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

pub use crate::front_of_house::hosting;

pub fn eat_at_restaurant() {
    hosting::add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-17: ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ุฏุงุฏู ฺฉ ูุงู ุจุฑุง ูุฑ ฺฉุฏ ฺฉู ุงุฒ ูุญุฏูุฏู ุฌุฏุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ ุจุง <code>pub use</code></figcaption>
</figure>
<p>ูุจู ุงุฒ ุงู ุชุบุฑุ ฺฉุฏ ุฎุงุฑุฌ ุจุงุฏ ุชุงุจุน <code>add_to_waitlist</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุณุฑ <code>restaurant::front_of_house::hosting::add_to_waitlist()</code> ูุฑุงุฎูุงู ูโฺฉุฑุฏุ ฺฉู ููฺูู ูุงุฒ ุฏุงุดุช ูุงฺูู <code>front_of_house</code> ุจู ุนููุงู <code>pub</code> ุนูุงูุชโฺฏุฐุงุฑ ุดูุฏ. ุญุงูุง ฺฉู ุงู <code>pub use</code> ูุงฺูู <code>hosting</code> ุฑุง ุงุฒ ูุงฺูู ุฑุดู ุฏูุจุงุฑู ุตุงุฏุฑ ฺฉุฑุฏู ุงุณุชุ ฺฉุฏ ุฎุงุฑุฌ ูโุชูุงูุฏ ุงุฒ ูุณุฑ <code>restaurant::hosting::add_to_waitlist()</code> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฏูุจุงุฑู ุตุงุฏุฑ ฺฉุฑุฏู ุฒูุงู ููุฏ ุงุณุช ฺฉู ุณุงุฎุชุงุฑ ุฏุงุฎู ฺฉุฏ ุดูุง ุจุง ูุญูู ูฺฉุฑ ฺฉุฑุฏู ุจุฑูุงููโููุณุงู ฺฉู ฺฉุฏ ุดูุง ุฑุง ูุฑุงุฎูุงู ูโฺฉููุฏ ุฏุฑ ููุฑุฏ ุฏุงููู ูุชูุงูุช ุจุงุดุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ุงู ุงุณุชุนุงุฑู ุงุฒ ุฑุณุชูุฑุงูุ ุงูุฑุงุฏ ฺฉู ุฑุณุชูุฑุงู ุฑุง ูุฏุฑุช ูโฺฉููุฏ ุฏุฑ ููุฑุฏ โุฌูู ุฎุงููโ ู โูพุดุช ุฎุงููโ ูฺฉุฑ ูโฺฉููุฏ. ุงูุง ูุดุชุฑุงู ฺฉู ุจู ุฑุณุชูุฑุงู ูโุขูุฏ ุงุญุชูุงูุงู ุฏุฑ ุงู ูุงูุจ ุจู ุจุฎุดโูุง ุฑุณุชูุฑุงู ูฺฉุฑ ููโฺฉููุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ <code>pub use</code>ุ ูโุชูุงูู ฺฉุฏ ุฎูุฏ ุฑุง ุจุง ฺฉ ุณุงุฎุชุงุฑ ุจููุณู ุงูุง ฺฉ ุณุงุฎุชุงุฑ ูุชูุงูุช ุฑุง ุขุดฺฉุงุฑ ฺฉูู. ุงู ฺฉุงุฑ ฺฉุชุงุจุฎุงูู ูุง ุฑุง ุจุฑุง ุจุฑูุงููโููุณุงู ฺฉู ุฑู ุขู ฺฉุงุฑ ูโฺฉููุฏ ู ููฺูู ุจุฑุง ุจุฑูุงููโููุณุงู ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏุ ุฎูุจ ุณุงุฒูุงูโุฏู ูโฺฉูุฏ. ุฏุฑ <a href="ch14-02-publishing-to-crates-io.html#exporting-a-convenient-public-api-with-pub-use">ุจุฎุด ยซุตุงุฏุฑุงุช ฺฉ API ุนููู ููุงุณุจ ุจุง <code>pub use</code>ยป</a> ูุตู ฑด ุจู ูุซุงู ุฏฺฏุฑ ุงุฒ <code>pub use</code> ู ุชุฃุซุฑ ุขู ุจุฑ ูุณุชูุฏุงุช ุฌุนุจู (crate) ุดูุง ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ุจุณุชููุง-ุฎุงุฑุฌ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ุจุณุชููุง-ุฎุงุฑุฌ">ุงุณุชูุงุฏู ุงุฒ ุจุณุชูโูุง ุฎุงุฑุฌ</a></h3>
<p>ุฏุฑ ูุตู ฒุ ูุง ฺฉ ูพุฑูฺู ุจุงุฒ ุญุฏุณโุฒู ุจุฑูุงููโุฑุฒ ฺฉุฑุฏู ฺฉู ุงุฒ ฺฉ ุจุณุชู ุฎุงุฑุฌ ุจู ูุงู <code>rand</code> ุจุฑุง ุชููุฏ ุงุนุฏุงุฏ ุชุตุงุฏู ุงุณุชูุงุฏู ูโฺฉุฑุฏ. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>rand</code> ุฏุฑ ูพุฑูฺู ุฎูุฏุ ุงู ุฎุท ุฑุง ุจู <em>Cargo.toml</em> ุงุถุงูู ฺฉุฑุฏู:</p>
<figure class="listing">
<span class="file-name">Filename: Cargo.toml</span>
<pre><code class="language-toml">rand = "0.8.5"
</code></pre>
</figure>
<p>ุงุถุงูู ฺฉุฑุฏู <code>rand</code> ุจู ุนููุงู ฺฉ ูุงุจุณุชฺฏ ุฏุฑ <em>Cargo.toml</em> ุจู Cargo ูโฺฏูุฏ ฺฉู ุจุณุชู <code>rand</code> ู ูุฑฺฏููู ูุงุจุณุชฺฏ ุฑุง ุงุฒ <a href="https://crates.io/">crates.io</a> ุฏุงูููุฏ ฺฉุฑุฏู ู <code>rand</code> ุฑุง ุฏุฑ ูพุฑูฺู ูุง ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ุฏูุฏ.</p>
<p>ุณูพุณุ ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุชุนุงุฑู <code>rand</code> ุจู ูุญุฏูุฏู ุจุณุชู ุฎูุฏุ ฺฉ ุฎุท <code>use</code> ุงุถุงูู ฺฉุฑุฏู ฺฉู ุจุง ูุงู ุฌุนุจู (crate)ุ <code>rand</code> ุดุฑูุน ูโุดุฏ ู ุขุชูโูุง ุฑุง ฺฉู ูโุฎูุงุณุชู ูุงุฑุฏ ูุญุฏูุฏู ฺฉูู ููุฑุณุช ฺฉุฑุฏู. ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ <a href="ch02-00-guessing-game-tutorial.html#generating-a-random-number">ุจุฎุด ยซุชููุฏ ฺฉ ุนุฏุฏ ุชุตุงุฏูยป</a> ูุตู ฒุ ูุง ูฺฺฏ <code>Rng</code> ุฑุง ุจู ูุญุฏูุฏู ุขูุฑุฏู ู ุชุงุจุน <code>rand::thread_rng</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู:</p>
<pre><code class="language-rust ignore"><span class="boring">use std::io;
</span>use rand::Rng;

fn main() {
<span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span>    let secret_number = rand::thread_rng().gen_range(1..=100);
<span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {guess}");
</span>}</code></pre>
<p>ุงุนุถุง ุฌุงูุนู Rust ุจุณุงุฑ ุงุฒ ุจุณุชูโูุง ุฑุง ุฏุฑ <a href="https://crates.io/">crates.io</a> ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชูโุงูุฏุ ู ูุงุฑุฏ ฺฉุฑุฏู ูุฑ ฺฉ ุงุฒ ุขูโูุง ุจู ุจุณุชู ุดูุง ุดุงูู ุงู ูุฑุงุญู ุงุณุช: ููุฑุณุช ฺฉุฑุฏู ุขูโูุง ุฏุฑ ูุงู <em>Cargo.toml</em> ุจุณุชู ุดูุง ู ุงุณุชูุงุฏู ุงุฒ <code>use</code> ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุขุชูโูุง ุงุฒ ุฌุนุจู (crate) ุขูโูุง ุจู ูุญุฏูุฏู.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ <code>std</code> ูุฒ ฺฉ ุฌุนุจู (crate) ุฎุงุฑุฌ ุจุฑุง ุจุณุชู ูุง ุงุณุช. ุงุฒ ุขูุฌุง ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ููุฑุงู ุจุง ุฒุจุงู Rust ุงุฑุงุฆู ูโุดูุฏุ ูุงุฒ ุจู ุชุบุฑ <em>Cargo.toml</em> ุจุฑุง ฺฏูุฌุงูุฏู <code>std</code> ูุฏุงุฑู. ุงูุง ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุขุชูโูุง ุงุฒ ุขู ุจู ูุญุฏูุฏู ุจุณุชู ุฎูุฏุ ุจุงุฏ ุจู ุขู ุจุง <code>use</code> ุงุฑุฌุงุน ุฏูู. ุจุฑุง ูุซุงูุ ุจุง <code>HashMap</code> ุงุฒ ุงู ุฎุท ุงุณุชูุงุฏู ูโฺฉุฑุฏู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::collections::HashMap;
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉ ูุณุฑ ูุทูู ุงุณุช ฺฉู ุจุง <code>std</code>ุ ูุงู ุฌุนุจู (crate) ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏุ ุดุฑูุน ูโุดูุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ูุณุฑูุง-ุชู-ุฏุฑ-ุชู-ุจุฑุง-ุณุงุฏูุณุงุฒ-ูุณุชูุง-ุจุฒุฑฺฏ-use"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ูุณุฑูุง-ุชู-ุฏุฑ-ุชู-ุจุฑุง-ุณุงุฏูุณุงุฒ-ูุณุชูุง-ุจุฒุฑฺฏ-use">ุงุณุชูุงุฏู ุงุฒ ูุณุฑูุง ุชู ุฏุฑ ุชู ุจุฑุง ุณุงุฏูโุณุงุฒ ูุณุชโูุง ุจุฒุฑฺฏ <code>use</code></a></h3>
<p>ุงฺฏุฑ ุงุฒ ฺูุฏู ุขุชู ุชุนุฑูโุดุฏู ุฏุฑ ฺฉ ุฌุนุจู (crate) ุง ูุงฺูู ุงุณุชูุงุฏู ฺฉููุ ููุฑุณุช ฺฉุฑุฏู ูุฑ ุขุชู ุฏุฑ ุฎุท ุฎูุฏ ูโุชูุงูุฏ ูุถุง ุนููุฏ ุฒุงุฏ ุฏุฑ ูุงูโูุง ูุง ุงุดุบุงู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงู ุฏู ุฏุณุชูุฑ <code>use</code> ฺฉู ุฏุฑ ุจุงุฒ ุญุฏุณโุฒู ุฏุฑ ูุณุชูฺฏ ฒ-ด ุงุณุชูุงุฏู ฺฉุฑุฏู ุขุชูโูุง ุงุฒ <code>std</code> ุฑุง ุจู ูุญุฏูุฏู ูโุขูุฑูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span>// --snip--
use std::cmp::Ordering;
use std::io;
// --snip--
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {guess}");
</span><span class="boring">
</span><span class="boring">    match guess.cmp(&amp;secret_number) {
</span><span class="boring">        Ordering::Less =&gt; println!("Too small!"),
</span><span class="boring">        Ordering::Greater =&gt; println!("Too big!"),
</span><span class="boring">        Ordering::Equal =&gt; println!("You win!"),
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
</figure>
<p>ุฏุฑ ุนูุถุ ูโุชูุงูู ุงุฒ ูุณุฑูุง ุชู ุฏุฑ ุชู ุงุณุชูุงุฏู ฺฉูู ุชุง ููุงู ุขุชูโูุง ุฑุง ุฏุฑ ฺฉ ุฎุท ุจู ูุญุฏูุฏู ุจุงูุฑู. ุงู ฺฉุงุฑ ุฑุง ุจุง ูุดุฎุต ฺฉุฑุฏู ุจุฎุด ูุดุชุฑฺฉ ูุณุฑุ ุจู ุฏูุจุงู ุขู ุฏู ููุทู ุฏูุจู ู ุณูพุณ ฺฉ ูุณุช ุงุฒ ุจุฎุดโูุง ูุชูุงูุช ูุณุฑูุง ุฏุฑ ุฏุงุฎู ุขฺฉููุงุฏ ุงูุฌุงู ูโุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-18 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span>// --snip--
use std::{cmp::Ordering, io};
// --snip--
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">    let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">    io::stdin()
</span><span class="boring">        .read_line(&amp;mut guess)
</span><span class="boring">        .expect("Failed to read line");
</span><span class="boring">
</span><span class="boring">    let guess: u32 = guess.trim().parse().expect("Please type a number!");
</span><span class="boring">
</span><span class="boring">    println!("You guessed: {guess}");
</span><span class="boring">
</span><span class="boring">    match guess.cmp(&amp;secret_number) {
</span><span class="boring">        Ordering::Less =&gt; println!("Too small!"),
</span><span class="boring">        Ordering::Greater =&gt; println!("Too big!"),
</span><span class="boring">        Ordering::Equal =&gt; println!("You win!"),
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 7-18: ูุดุฎุต ฺฉุฑุฏู ฺฉ ูุณุฑ ุชู ุฏุฑ ุชู ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ฺูุฏู ุขุชู ุจุง ูพุดููุฏ ูุดุงุจู ุจู ูุญุฏูุฏู</figcaption>
</figure>
<p>ุฏุฑ ุจุฑูุงููโูุง ุจุฒุฑฺฏโุชุฑุ ูุงุฑุฏ ฺฉุฑุฏู ุจุณุงุฑ ุงุฒ ุขุชูโูุง ุงุฒ ฺฉ ุฌุนุจู (crate) ุง ูุงฺูู ูุดุงุจู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุณุฑูุง ุชู ุฏุฑ ุชู ูโุชูุงูุฏ ุชุนุฏุงุฏ ุฏุณุชูุฑุงุช <code>use</code> ุฌุฏุงฺฏุงูู ููุฑุฏ ูุงุฒ ุฑุง ุจู ุทูุฑ ูุงุจูโุชูุฌู ฺฉุงูุด ุฏูุฏ.</p>
<p>ูุง ูโุชูุงูู ุฏุฑ ูุฑ ุณุทุญ ุงุฒ ฺฉ ูุณุฑุ ุงุฒ ฺฉ ูุณุฑ ุชู ุฏุฑ ุชู ุงุณุชูุงุฏู ฺฉููุ ฺฉู ุงู ฺฉุงุฑ ุฏุฑ ููุงูุน ฺฉู ุฏู ุฏุณุชูุฑ <code>use</code> ุฏุงุฑุง ฺฉ ุฒุฑูุณุฑ ูุดุชุฑฺฉ ูุณุชูุฏุ ููุฏ ุงุณุช. ุจุฑุง ูุซุงูุ ูุณุชูฺฏ 7-19 ุฏู ุฏุณุชูุฑ <code>use</code> ุฑุง ูุดุงู ูโุฏูุฏ: ฺฉ ฺฉู <code>std::io</code> ุฑุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ูโฺฉูุฏ ู ุฏฺฏุฑ ฺฉู <code>std::io::Write</code> ุฑุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::io;
use std::io::Write;</code></pre>
<figcaption>Listing 7-19: ุฏู ุฏุณุชูุฑ <code>use</code> ฺฉู ฺฉ ุฒุฑูุณุฑ ุฏฺฏุฑ ุงุณุช</figcaption>
</figure>
<p>ุจุฎุด ูุดุชุฑฺฉ ุงู ุฏู ูุณุฑุ <code>std::io</code> ุงุณุช ฺฉู ูุณุฑ ฺฉุงูู ุงููู ุฏุณุชูุฑ <code>use</code> ุฑุง ุชุดฺฉู ูโุฏูุฏ. ุจุฑุง ุชุฑฺฉุจ ุงู ุฏู ูุณุฑ ุจู ฺฉ ุฏุณุชูุฑ <code>use</code>ุ ูโุชูุงูู ุงุฒ <code>self</code> ุฏุฑ ูุณุฑ ุชู ุฏุฑ ุชู ุงุณุชูุงุฏู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-20 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::io::{self, Write};</code></pre>
<figcaption>Listing 7-20: ุชุฑฺฉุจ ูุณุฑูุง ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-19 ุจู ฺฉ ุฏุณุชูุฑ <code>use</code></figcaption>
</figure>
<p>ุงู ุฎุทุ <code>std::io</code> ู <code>std::io::Write</code> ุฑุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ูโฺฉูุฏ.</p>
<h3 id="ุนููฺฏุฑ-glob"><a class="header" href="#ุนููฺฏุฑ-glob">ุนููฺฏุฑ Glob</a></h3>
<p>ุงฺฏุฑ ุจุฎูุงูู <em>ุชูุงู</em> ุขุชูโูุง ุนููู ุชุนุฑูโุดุฏู ุฏุฑ ฺฉ ูุณุฑ ุฑุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ฺฉููุ ูโุชูุงูู ุขู ูุณุฑ ุฑุง ุจู ููุฑุงู ุนููฺฏุฑ <code>*</code> ูุดุฎุต ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::collections::*;
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุฏุณุชูุฑ <code>use</code> ุชูุงู ุขุชูโูุง ุนููู ุชุนุฑูโุดุฏู ุฏุฑ <code>std::collections</code> ุฑุง ุจู ูุญุฏูุฏู ูุนู ูุงุฑุฏ ูโฺฉูุฏ. ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ glob ุฏูุช ฺฉูุฏ! ุงุณุชูุงุฏู ุงุฒ glob ูโุชูุงูุฏ ุชุดุฎุต ุงู ฺฉู ฺู ูุงูโูุง ุฏุฑ ูุญุฏูุฏู ูุฑุงุฑ ุฏุงุฑูุฏ ู ูุงู ฺฉู ุฏุฑ ุจุฑูุงูู ุดูุง ุงุณุชูุงุฏู ุดุฏู ุฏุฑ ฺฉุฌุง ุชุนุฑู ุดุฏู ุงุณุช ุฑุง ุฏุดูุงุฑุชุฑ ฺฉูุฏ.</p>
<p>ุนููฺฏุฑ glob ุงุบูุจ ุฏุฑ ุฒูุงู ุชุณุช ุงุณุชูุงุฏู ูโุดูุฏ ุชุง ููู ฺุฒ ุชุญุช ุชุณุช ุจู ูุงฺูู <code>tests</code> ูุงุฑุฏ ุดูุฏุ ุฏุฑ ุจุฎุด <a href="ch11-01-writing-tests.html#how-to-write-tests">ยซฺฺฏููู ุชุณุช ุจููุณูยป</a> ุฏุฑ ูุตู 11 ุฏุฑ ููุฑุฏ ุงู ููุถูุน ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุนููฺฏุฑ glob ููฺูู ฺฏุงู ุจู ุนููุงู ุจุฎุด ุงุฒ ุงูฺฏู prelude ุงุณุชูุงุฏู ูโุดูุฏ: ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุงู ุงูฺฏูุ ุจู <a href="https://doc.rust-lang.org/std/prelude/index.html#other-preludes">ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฌุฏุง-ฺฉุฑุฏู-ูุงฺูููุง-ุจู-ูุงููุง-ูุฎุชูู"><a class="header" href="#ุฌุฏุง-ฺฉุฑุฏู-ูุงฺูููุง-ุจู-ูุงููุง-ูุฎุชูู">ุฌุฏุง ฺฉุฑุฏู ูุงฺููโูุง ุจู ูุงูโูุง ูุฎุชูู</a></h2>
<p>ุชุง ุจู ุงูุฌุงุ ุชูุงู ูุซุงูโูุง ุงู ูุตู ฺูุฏู ูุงฺูู ุฑุง ุฏุฑ ฺฉ ูุงู ุชุนุฑู ฺฉุฑุฏูโุงูุฏ. ููฺฏุงู ฺฉู ูุงฺููโูุง ุจุฒุฑฺฏ ูโุดููุฏุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุชุนุฑูโูุง ุขูโูุง ุฑุง ุจู ฺฉ ูุงู ุฌุฏุงฺฏุงูู ููุชูู ฺฉูุฏ ุชุง ฺฉุฏ ุขุณุงูโุชุฑ ุฎูุงูุฏู ู ูุฏุฑุช ุดูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ุจุงุฏ ุงุฒ ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 7-17 ุดุฑูุน ฺฉูู ฺฉู ุดุงูู ฺูุฏู ูุงฺูู ูุฑุชุจุท ุจุง ุฑุณุชูุฑุงู ุจูุฏ. ูุง ุงู ูุงฺููโูุง ุฑุง ุจู ุฌุง ุชุนุฑู ุฏุฑ ูุงู ุฑุดู ุฌุนุจู (crate)ุ ุจู ูุงูโูุง ุฌุฏุงฺฏุงูู ููุชูู ูโฺฉูู. ุฏุฑ ุงู ูุซุงูุ ูุงู ุฑุดู ุฌุนุจู (crate) <em>src/lib.rs</em> ุงุณุชุ ุงูุง ุงู ุฑูุด ุจุฑุง ุฌุนุจูโูุง (crates) ุจุงูุฑ ฺฉู ูุงู ุฑุดู ุขูโูุง <em>src/main.rs</em> ุงุณุช ูุฒ ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุงุจุชุฏุง ูุงฺูู <code>front_of_house</code> ุฑุง ุจู ูุงู ุฎูุฏุด ููุชูู ูโฺฉูู. ฺฉุฏ ฺฉู ุฏุงุฎู ุขฺฉููุงุฏูุง ูุงฺูู <code>front_of_house</code> ุงุณุช ุฑุง ุญุฐู ฺฉุฑุฏู ู ููุท ุงุนูุงู <code>mod front_of_house;</code> ุฑุง ุจุงู ูโฺฏุฐุงุฑู. ูุชุฌู ฺฉุฏ ุฏุฑ <em>src/lib.rs</em> ูุงููุฏ ูุณุชูฺฏ 7-21 ุฎูุงูุฏ ุจูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ุชุง ุฒูุงู ฺฉู ูุงู <em>src/front_of_house.rs</em> ูุทุงุจู ูุณุชูฺฏ 7-22 ุงุฌุงุฏ ูุดูุฏ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile">mod front_of_house;

pub use crate::front_of_house::hosting;

pub fn eat_at_restaurant() {
    hosting::add_to_waitlist();
}</code></pre>
<figcaption>Listing 7-21: ุงุนูุงู ูุงฺูู <code>front_of_house</code> ฺฉู ุจุฏูู ุขู ุฏุฑ <em>src/front_of_house.rs</em> ุฎูุงูุฏ ุจูุฏ</figcaption>
</figure>
<p>ุณูพุณุ ฺฉุฏ ฺฉู ุฏุงุฎู ุขฺฉููุงุฏูุง ูุงฺูู <code>front_of_house</code> ุจูุฏ ุฑุง ุจู ฺฉ ูุงู ุฌุฏุฏ ุจู ูุงู <em>src/front_of_house.rs</em> ููุชูู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 7-22 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ฺฉุงููพุงูุฑ ูโุฏุงูุฏ ฺฉู ุจุงุฏ ุงู ูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุฒุฑุง ุฏุฑ ูุงู ุฑุดู ุฌุนุจู (crate) ุจุง ูุงู <code>front_of_house</code> ุงุนูุงู ูุงฺูู ุฑุง ุฏุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/front_of_house.rs</span>
<pre><code class="language-rust ignore">pub mod hosting {
    pub fn add_to_waitlist() {}
}</code></pre>
<figcaption>Listing 7-22: ุชุนุฑูโูุง ุฏุงุฎู ูุงฺูู <code>front_of_house</code> ุฏุฑ <em>src/front_of_house.rs</em></figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุดูุง ููุท ฺฉ ุจุงุฑ ูุงุฒ ุฏุงุฑุฏ ุชุง ฺฉ ูุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>mod</code> ุฏุฑ ุฏุฑุฎุช ูุงฺูู ุฎูุฏ ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ. ููุช ฺฉุงููพุงูุฑ ูโูููุฏ ฺฉู ูุงู ุจุฎุด ุงุฒ ูพุฑูฺู ุงุณุช (ู ูโูููุฏ ฺฉู ฺฉุฏ ุฏุฑ ฺฉุฌุง ุฏุฑุฎุช ูุงฺูู ูุฑุงุฑ ุฏุงุฑุฏ ุจู ุฎุงุทุฑ ุฌุง ฺฉู ุฏุณุชูุฑ <code>mod</code> ุฑุง ูุฑุงุฑ ุฏุงุฏูโุงุฏ)ุ ุณุงุฑ ูุงูโูุง ูพุฑูฺู ุดูุง ุจุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุณุฑ ฺฉู ุจู ูุญู ุงุนูุงู ูุงู ุงุดุงุฑู ูโฺฉูุฏ ุจู ฺฉุฏ ุจุงุฑฺฏุฐุงุฑ ุดุฏู ุงุฑุฌุงุน ุฏููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html">ยซูุณุฑูุง ุจุฑุง ุงุดุงุฑู ุจู ฺฉ ุขุชู ุฏุฑ ุฏุฑุฎุช ูุงฺููยป</a> ุชูุถุญ ุฏุงุฏู ุดุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ <code>mod</code> ฺฉ ุนููุงุช โุดุงูู ฺฉุฑุฏูโ (include) ูุณุช ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑ ุฏุฏู ุจุงุดุฏ.</p>
<p>ุฏุฑ ูุฑุญูู ุจุนุฏุ ูุงฺูู <code>hosting</code> ุฑุง ุจู ูุงู ุฎูุฏุด ููุชูู ูโฺฉูู. ุงู ูุฑุขูุฏ ฺฉู ูุชูุงูุช ุงุณุช ุฒุฑุง <code>hosting</code> ฺฉ ุฒุฑูุงฺูู ุงุฒ <code>front_of_house</code> ุงุณุชุ ูู ุงุฒ ูุงฺูู ุฑุดู. ูุงู ูุฑุจูุท ุจู <code>hosting</code> ุฑุง ุฏุฑ ฺฉ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ูุฑุงุฑ ูโุฏูู ฺฉู ุจู ูุงู ูุงูุฏู ุขู ุฏุฑ ุฏุฑุฎุช ูุงฺูู ูุงูโฺฏุฐุงุฑ ุดุฏู ุงุณุชุ ฺฉู ุฏุฑ ุงูุฌุง <em>src/front_of_house</em> ุงุณุช.</p>
<p>ุจุฑุง ุดุฑูุน ุงูุชูุงู <code>hosting</code>ุ ูุงู <em>src/front_of_house.rs</em> ุฑุง ุชุบุฑ ูโุฏูู ุชุง ููุท ุดุงูู ุงุนูุงู ูุงฺูู <code>hosting</code> ุจุงุดุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/front_of_house.rs</span>
<pre><code class="language-rust ignore">pub mod hosting;</code></pre>
</figure>
<p>ุณูพุณ ฺฉ ุฏุงุฑฺฉุชูุฑ ุจู ูุงู <em>src/front_of_house</em> ู ฺฉ ูุงู <em>hosting.rs</em> ุงุฌุงุฏ ูโฺฉูู ุชุง ุชุนุฑูโูุง ฺฉู ุฏุฑ ูุงฺูู <code>hosting</code> ุงูุฌุงู ุดุฏูโุงูุฏ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/front_of_house/hosting.rs</span>
<pre><code class="language-rust ignore">pub fn add_to_waitlist() {}</code></pre>
</figure>
<p>ุงฺฏุฑ ุจู ุฌุง ุขู ูุงู <em>hosting.rs</em> ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>src</em> ูุฑุงุฑ ุฏููุ ฺฉุงููพุงูุฑ ุงูุชุธุงุฑ ุฎูุงูุฏ ุฏุงุดุช ฺฉู ฺฉุฏ <em>hosting.rs</em> ุฏุฑ ฺฉ ูุงฺูู <code>hosting</code> ฺฉู ุฏุฑ ุฑุดู ุฌุนุจู (crate) ุงุนูุงู ุดุฏู ุจุงุดุฏ ูุฑุงุฑ ุฏุงุดุชู ุจุงุดุฏุ ูู ุจู ุนููุงู ฺฉ ุฒุฑูุงฺูู ุงุฒ ูุงฺูู <code>front_of_house</code>. ููุงูู ฺฉุงููพุงูุฑ ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุงู ฺฉู ฺฉุฏุงู ูุงูโูุง ุจุฑุง ฺฉุฏุงู ูุงฺููโูุง ุจุฑุฑุณ ุดููุฏุ ุจู ุงู ูุนูุงุณุช ฺฉู ุฏุงุฑฺฉุชูุฑโูุง ู ูุงูโูุง ุจุง ุฏุฑุฎุช ูุงฺูู ูุทุงุจูุช ุจุดุชุฑ ุฏุงุฑูุฏ.</p>
<section class="note" aria-role="note">
<h3 id="ูุณุฑูุง-ูุงู-ุฌุงฺฏุฒู"><a class="header" href="#ูุณุฑูุง-ูุงู-ุฌุงฺฏุฒู">ูุณุฑูุง ูุงู ุฌุงฺฏุฒู</a></h3>
<p>ุชุงฺฉููู ูุณุฑูุง ูุงู ุงุฏููุงุชฺฉ ุฑุง ฺฉู ฺฉุงููพุงูุฑ Rust ุงุณุชูุงุฏู ูโฺฉูุฏ ูพูุดุด ุฏุงุฏูโุงูุ ุงูุง Rust ุงุฒ ฺฉ ุณุจฺฉ ูุฏูโุชุฑ ุงุฒ ูุณุฑ ูุงู ูุฒ ูพุดุชุจุงู ูโฺฉูุฏ. ุจุฑุง ฺฉ ูุงฺูู ุจู ูุงู <code>front_of_house</code> ฺฉู ุฏุฑ ุฑุดู ุฌุนุจู (crate) ุงุนูุงู ุดุฏู ุงุณุชุ ฺฉุงููพุงูุฑ ฺฉุฏ ูุงฺูู ุฑุง ุฏุฑ ูฺฉุงูโูุง ุฒุฑ ุฌุณุชุฌู ูโฺฉูุฏ:</p>
<ul>
<li><em>src/front_of_house.rs</em> (ุฑูุด ฺฉู ูพูุดุด ุฏุงุฏู ุดุฏ)</li>
<li><em>src/front_of_house/mod.rs</em> (ูุณุฑ ูุฏูโุชุฑุ ููฺูุงู ูพุดุชุจุงูโุดุฏู)</li>
</ul>
<p>ุจุฑุง ฺฉ ูุงฺูู ุจู ูุงู <code>hosting</code> ฺฉู ุฒุฑูุงฺูู ุงุฒ <code>front_of_house</code> ุงุณุชุ ฺฉุงููพุงูุฑ ฺฉุฏ ูุงฺูู ุฑุง ุฏุฑ ูฺฉุงูโูุง ุฒุฑ ุฌุณุชุฌู ูโฺฉูุฏ:</p>
<ul>
<li><em>src/front_of_house/hosting.rs</em> (ุฑูุด ฺฉู ูพูุดุด ุฏุงุฏู ุดุฏ)</li>
<li><em>src/front_of_house/hosting/mod.rs</em> (ูุณุฑ ูุฏูโุชุฑุ ููฺูุงู ูพุดุชุจุงูโุดุฏู)</li>
</ul>
<p>ุงฺฏุฑ ูุฑ ุฏู ุณุจฺฉ ุฑุง ุจุฑุง ฺฉ ูุงฺูู ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉ ุฎุทุง ฺฉุงููพุงูุฑ ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ. ุงุณุชูุงุฏู ุงุฒ ุชุฑฺฉุจ ุงุฒ ูุฑ ุฏู ุณุจฺฉ ุจุฑุง ูุงฺููโูุง ูุฎุชูู ุฏุฑ ฺฉ ูพุฑูฺู ูุฌุงุฒ ุงุณุชุ ุงูุง ููฺฉู ุงุณุช ุจุฑุง ฺฉุณุงู ฺฉู ูพุฑูฺู ุดูุง ุฑุง ูุฑูุฑ ูโฺฉููุฏ ฺฏุฌโฺฉููุฏู ุจุงุดุฏ.</p>
<p>ูฺฉุชู ููู ุงุตู ุณุจฺฉ ุงุณุชูุงุฏู ุงุฒ ูุงูโูุง ุจุง ูุงู <em>mod.rs</em> ุงู ุงุณุช ฺฉู ูพุฑูฺู ุดูุง ููฺฉู ุงุณุช ุชุนุฏุงุฏ ุฒุงุฏ ูุงู ุจุง ูุงู <em>mod.rs</em> ุฏุงุดุชู ุจุงุดุฏุ ฺฉู ูโุชูุงูุฏ ููฺฏุงู ุจุงุฒ ุจูุฏู ููุฒูุงู ุงู ูุงูโูุง ุฏุฑ ูุฑุงุดฺฏุฑ ุดูุง ฺฏุฌโฺฉููุฏู ุจุงุดุฏ.</p>
</section>
<p>ูุง ฺฉุฏ ูุฑ ูุงฺูู ุฑุง ุจู ฺฉ ูุงู ุฌุฏุงฺฏุงูู ููุชูู ฺฉุฑุฏูโุงู ู ุฏุฑุฎุช ูุงฺูู ุจู ููุงู ุดฺฉู ุจุงู ูุงูุฏู ุงุณุช. ูุฑุงุฎูุงู ุชูุงุจุน ุฏุฑ <code>eat_at_restaurant</code> ุจุฏูู ูฺ ุชุบุฑ ฺฉุงุฑ ุฎูุงูุฏ ฺฉุฑุฏุ ุญุช ุงฺฏุฑ ุชุนุฑูโูุง ุฏุฑ ูุงูโูุง ูุฎุชูู ูุฑุงุฑ ุฏุงุดุชู ุจุงุดูุฏ. ุงู ุชฺฉูฺฉ ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ูุงฺููโูุง ุฑุง ุจู ูุงูโูุง ุฌุฏุฏ ููุชูู ฺฉูุฏ ุฒุฑุง ุงูุฏุงุฒู ุขูโูุง ุงูุฒุงุด ูโุงุจุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุณุชูุฑ <code>pub use crate::front_of_house::hosting</code> ุฏุฑ <em>src/lib.rs</em> ูุฒ ุชุบุฑ ูฺฉุฑุฏู ุงุณุชุ ู ููฺูู <code>use</code> ูฺ ุชุฃุซุฑ ุจุฑ ุงูฺฉู ฺู ูุงูโูุง ุจู ุนููุงู ุจุฎุด ุงุฒ ุฌุนุจู (crate) ฺฉุงููพุงู ุดููุฏ ูุฏุงุฑุฏ. ฺฉููู ฺฉูุฏ <code>mod</code> ูุงฺููโูุง ุฑุง ุงุนูุงู ูโฺฉูุฏ ู Rust ุฏุฑ ูุงู ุจุง ููุงู ูุงู ูุงฺูู ุจู ุฏูุจุงู ฺฉุฏ ูโฺฏุฑุฏุฏ ฺฉู ูุงุฑุฏ ุขู ูุงฺูู ุดูุฏ.</p>
<h2 id="ุฎูุงุตู-6"><a class="header" href="#ุฎูุงุตู-6">ุฎูุงุตู</a></h2>
<p>Rust ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉ ุจุณุชู ุฑุง ุจู ฺูุฏู ุฌุนุจู (crate) ู ฺฉ ุฌุนุจู (crate) ุฑุง ุจู ูุงฺููโูุง ุชูุณู ฺฉูุฏ ุชุง ุจุชูุงูุฏ ุจู ุขุชูโูุง ฺฉู ุฏุฑ ฺฉ ูุงฺูู ุชุนุฑู ุดุฏูโุงูุฏ ุงุฒ ูุงฺูู ุฏฺฏุฑ ุงุฑุฌุงุน ุฏูุฏ. ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจุง ูุดุฎุต ฺฉุฑุฏู ูุณุฑูุง ูุทูู ุง ูุณุจ ุงูุฌุงู ุฏูุฏ. ุงู ูุณุฑูุง ูโุชูุงููุฏ ุจุง ฺฉ ุฏุณุชูุฑ <code>use</code> ุจู ูุญุฏูุฏู ูุงุฑุฏ ุดููุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ฺฉ ูุณุฑ ฺฉูุชุงูโุชุฑ ุจุฑุง ุงุณุชูุงุฏูโูุง ูุชุนุฏุฏ ุงุฒ ุขู ุขุชู ุฏุฑ ุขู ูุญุฏูุฏู ุงุณุชูุงุฏู ฺฉูุฏ. ฺฉุฏ ูุงฺูู ุจู ุตูุฑุช ูพุดโูุฑุถ ุฎุตูุต ุงุณุชุ ุงูุง ูโุชูุงูุฏ ุจุง ุงูุฒูุฏู ฺฉููู ฺฉูุฏ <code>pub</code> ุชุนุฑูโูุง ุฑุง ุนููู ฺฉูุฏ.</p>
<p>ุฏุฑ ูุตู ุจุนุฏุ ุจู ุจุฑุฎ ุงุฒ ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ูุฌููุนู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฎูุงูู ูพุฑุฏุงุฎุช ฺฉู ูโุชูุงูุฏ ุฏุฑ ฺฉุฏ ูุฑุชุจ ู ุณุงุฒูุงูุฏูโุดุฏู ุฎูุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูุฌููุนููุง-ูุนููู"><a class="header" href="#ูุฌููุนููุง-ูุนููู">ูุฌููุนูโูุง ูุนููู</a></h1>
<p>ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฒุจุงู Rust ุดุงูู ุชุนุฏุงุฏ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจุณุงุฑ ููุฏ ุจู ูุงู
<em>ูุฌููุนูโูุง</em> ูโุจุงุดุฏ. ุงฺฉุซุฑ ุงููุงุน ุฏุงุฏูโูุง ููุงูุฏู ฺฉ ููุฏุงุฑ ูุดุฎุต ูุณุชูุฏุ ุงูุง
ูุฌููุนูโูุง ูโุชูุงููุฏ ุดุงูู ููุงุฏุฑ ูุชุนุฏุฏ ุจุงุดูุฏ. ุจุฑุฎูุงู ุงููุงุน ุฏุงุฎู ุขุฑุงู ู
ุชุงูพูุ ุฏุงุฏูโุง ฺฉู ุงู ูุฌููุนูโูุง ุจู ุขู ุงุดุงุฑู ูโฺฉููุฏ ุฏุฑ heap ุฐุฎุฑู ูโุดูุฏุ
ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ููุฏุงุฑ ุฏุงุฏู ูุงุฒ ุจู ุดูุงุฎุชู ุดุฏู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุฏุงุฑุฏ
ู ูโุชูุงูุฏ ุฏุฑ ุญู ุงุฌุฑุง ุจุฑูุงูู ุฑุดุฏ ฺฉูุฏ ุง ฺฉูฺฺฉ ุดูุฏ. ูุฑ ููุน ูุฌููุนู ูุงุจูุชโูุง
ู ูุฒููโูุง ูุชูุงูุช ุฏุงุฑุฏ ู ุงูุชุฎุงุจ ููุน ููุงุณุจ ุจุฑุง ูููุนุช ูุนู ุดูุงุ ููุงุฑุช
ุงุณุช ฺฉู ุจุง ฺฏุฐุดุช ุฒูุงู ุชูุณุนู ุฎูุงูุฏ ุฏุงุฏ. ุฏุฑ ุงู ูุตูุ ุณู ูุฌููุนูโุง ฺฉู ุจู ุทูุฑ
ูุชุฏุงูู ุฏุฑ ุจุฑูุงููโูุง Rust ุงุณุชูุงุฏู ูโุดููุฏุ ููุฑุฏ ุจุญุซ ูุฑุงุฑ ุฎูุงููุฏ ฺฏุฑูุช:</p>
<ul>
<li>ฺฉ <em>ุจุฑุฏุงุฑ</em> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุชุนุฏุงุฏ ูุชุบุฑ ุงุฒ ููุงุฏุฑ ุฑุง ุฏุฑ ฺฉูุงุฑ
ฺฉุฏฺฏุฑ ุฐุฎุฑู ฺฉูุฏ.</li>
<li>ฺฉ <em>ุฑุดุชู</em> ฺฉ ูุฌููุนู ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุงุณุช. ูุง ูุจูุงู ููุน <code>String</code> ุฑุง ุฐฺฉุฑ ฺฉุฑุฏูโุงูุ
ุงูุง ุฏุฑ ุงู ูุตู ุจู ุทูุฑ ุนููโุชุฑ ุฏุฑุจุงุฑู ุขู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</li>
<li>ฺฉ <em>ูุด ููพ</em> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ฺฉ ููุฏุงุฑ ุฑุง ุจุง ฺฉ ฺฉูุฏ ูุดุฎุต ูุฑุชุจุท ฺฉูุฏ.
ุงู ฺฉ ูพุงุฏูโุณุงุฒ ุฎุงุต ุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฏู ฺฉูโุชุฑ ุจู ูุงู <em>ููุดู</em> ุงุณุช.</li>
</ul>
<p>ุจุฑุง ุงุฏฺฏุฑ ุฏุฑุจุงุฑู ุงููุงุน ุฏฺฏุฑ ูุฌููุนูโูุง ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ุดุฏูโุงูุฏุ
<a href="https://doc.rust-lang.org/std/collections/index.html">ูุณุชูุฏุงุช</a> ุฑุง ูุดุงูุฏู ฺฉูุฏ.</p>
<p>ูุง ุฏุฑุจุงุฑู ูุญูู ุงุฌุงุฏ ู ุจูโุฑูุฒุฑุณุงู ุจุฑุฏุงุฑูุงุ ุฑุดุชูโูุง ู ูุด ููพโูุงุ ููฺูู ูฺฺฏโูุง
ฺฉู ูุฑ ฺฉุฏุงู ุฑุง ุฎุงุต ูโฺฉูุฏุ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฐุฎุฑู-ูุณุชูุง-ุงุฒ-ููุงุฏุฑ-ุจุง-ุจุฑุฏุงุฑูุง"><a class="header" href="#ุฐุฎุฑู-ูุณุชูุง-ุงุฒ-ููุงุฏุฑ-ุจุง-ุจุฑุฏุงุฑูุง">ุฐุฎุฑู ูุณุชโูุง ุงุฒ ููุงุฏุฑ ุจุง ุจุฑุฏุงุฑูุง</a></h2>
<p>ุงููู ููุน ูุฌููุนูโุง ฺฉู ุจู ุขู ุฎูุงูู ูพุฑุฏุงุฎุชุ <code>Vec&lt;T&gt;</code> ุง ููุงู <em>ุจุฑุฏุงุฑ</em> ุงุณุช.
ุจุฑุฏุงุฑูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉู ุจุด ุงุฒ ฺฉ ููุฏุงุฑ ุฑุง ุฏุฑ ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฐุฎุฑู ฺฉูุฏ
ฺฉู ุชูุงู ููุงุฏุฑ ุฑุง ุฏุฑ ฺฉูุงุฑ ฺฉุฏฺฏุฑ ุฏุฑ ุญุงูุธู ูุฑุงุฑ ูโุฏูุฏ. ุจุฑุฏุงุฑูุง ููุท ูโุชูุงููุฏ
ููุงุฏุฑ ุงุฒ ฺฉ ููุน ุฑุง ุฐุฎุฑู ฺฉููุฏ. ุงู ุงุจุฒุงุฑ ุฒูุงู ููุฏ ุงุณุช ฺฉู ูุณุช ุงุฒ ุขุชูโูุง
ูุงููุฏ ุฎุทูุท ูุชู ุฏุฑ ฺฉ ูุงู ุง ููุช ุขุชูโูุง ุฏุฑ ฺฉ ุณุจุฏ ุฎุฑุฏ ุฏุงุดุชู ุจุงุดุฏ.</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-ุจุฑุฏุงุฑ-ุฌุฏุฏ"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ุจุฑุฏุงุฑ-ุฌุฏุฏ">ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ</a></h3>
<p>ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุฎุงู ุฌุฏุฏุ ุงุฒ ุชุงุจุน <code>Vec::new</code> ุงุณุชูุงุฏู ูโฺฉููุ ููุงูุทูุฑ ฺฉู
ุฏุฑ ูุณุช ธ-ฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v: Vec&lt;i32&gt; = Vec::new();
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-1: ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ ู ุฎุงู ุจุฑุง ูฺฏูุฏุงุฑ ููุงุฏุฑ ููุน <code>i32</code></figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง ฺฉ ุชูุถุญ ููุน ุงุถุงูู ฺฉุฑุฏูโุงู. ฺูู ูุง ูฺ ููุฏุงุฑ ุจู ุงู ุจุฑุฏุงุฑ
ุงุถุงูู ูฺฉุฑุฏูโุงูุ Rust ููโุฏุงูุฏ ฺู ููุน ุนูุงุตุฑ ุฑุง ูุตุฏ ุฏุงุฑู ุฐุฎุฑู ฺฉูู. ุงู ูฺฉุชู
ููู ุงุณุช. ุจุฑุฏุงุฑูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏุ ุฏุฑ ูุตู ฑฐ ุฎูุงูู ุฏุฏ
ฺฉู ฺฺฏููู ูโุชูุงู ุฌูุฑฺฉโูุง ุฑุง ุฏุฑ ุงููุงุน ุฎูุฏุชุงู ุงุณุชูุงุฏู ฺฉุฑุฏ. ุฏุฑ ุญุงู ุญุงุถุฑ ุจุฏุงูุฏ ฺฉู
ููุน <code>Vec&lt;T&gt;</code> ุงุฑุงุฆู ุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูโุชูุงูุฏ ูุฑ ููุน ุฑุง ูฺฏูุฏุงุฑ ฺฉูุฏ.
ููุช ฺฉ ุจุฑุฏุงุฑ ุจุฑุง ูฺฏูุฏุงุฑ ููุน ุฎุงุต ุงุฌุงุฏ ูโฺฉููุ ูโุชูุงูู ููุน ููุฑุฏูุธุฑ ุฑุง ุฏุงุฎู
ุจุฑุงฺฉุชโูุง ุฒุงููโุง ูุดุฎุต ฺฉูู. ุฏุฑ ูุณุช ธ-ฑุ ูุง ุจู Rust ุงุนูุงู ฺฉุฑุฏูโุงู ฺฉู ุจุฑุฏุงุฑ <code>Vec&lt;T&gt;</code>
ุฏุฑ <code>v</code> ุนูุงุตุฑ ููุน <code>i32</code> ุฑุง ูฺฏูุฏุงุฑ ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุจุดุชุฑ ุงููุงุชุ ุดูุง ฺฉ <code>Vec&lt;T&gt;</code> ุจุง ููุงุฏุฑ ุงููู ุงุฌุงุฏ ุฎูุงูุฏ ฺฉุฑุฏ ู Rust ููุน ููุงุฏุฑ
ุฑุง ุงุฒ ุฑู ุขููุง ุงุณุชูุชุงุฌ ุฎูุงูุฏ ฺฉุฑุฏุ ุจูุงุจุฑุงู ุจู ูุฏุฑุช ูุงุฒ ุจู ุชูุถุญ ููุน ุฎูุงูุฏ ุฏุงุดุช.
Rust ุจู ุฑุงุญุช ูุงฺฉุฑู <code>vec!</code> ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ ุงุฌุงุฏ ฺฉุฑุฏู ู ููุงุฏุฑ
ููุฑุฏ ูุธุฑ ุดูุง ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ูโุฏูุฏ. ูุณุช ธ-ฒ ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ <code>Vec&lt;i32&gt;</code> ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ
ฺฉู ููุงุฏุฑ <code>1</code>ุ <code>2</code> ู <code>3</code> ุฑุง ูฺฏูุฏุงุฑ ูโฺฉูุฏ. ููุน ุนุฏุฏ ุตุญุญ <code>i32</code> ุงุณุช ฺูู ุงู ููุน
ูพุดโูุฑุถ ุจุฑุง ุงุนุฏุงุฏ ุตุญุญ ุงุณุชุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#data-types">โุงููุงุน ุฏุงุฏูโูุงโ</a><!-- ignore -->
ูุตู ณ ุจุญุซ ฺฉุฑุฏู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v = vec![1, 2, 3];
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-2: ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ ุดุงูู ููุงุฏุฑ</figcaption>
</figure>
<p>ฺูู ููุงุฏุฑ ุงููู <code>i32</code> ุฏุงุฏูโุงูุ Rust ูโุชูุงูุฏ ุงุณุชูุชุงุฌ ฺฉูุฏ ฺฉู ููุน <code>v</code>
<code>Vec&lt;i32&gt;</code> ุงุณุช ู ูุงุฒ ุจู ุชูุถุญ ููุน ูุณุช. ุญุงูุง ุจู ูุญูู ุจูโุฑูุฒุฑุณุงู ฺฉ ุจุฑุฏุงุฑ
ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<h3 id="ุจูุฑูุฒุฑุณุงู-ฺฉ-ุจุฑุฏุงุฑ"><a class="header" href="#ุจูุฑูุฒุฑุณุงู-ฺฉ-ุจุฑุฏุงุฑ">ุจูโุฑูุฒุฑุณุงู ฺฉ ุจุฑุฏุงุฑ</a></h3>
<p>ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ู ุณูพุณ ุงุถุงูู ฺฉุฑุฏู ุนูุงุตุฑ ุจู ุขูุ ูโุชูุงูู ุงุฒ ูุชุฏ <code>push</code> ุงุณุชูุงุฏู ฺฉููุ
ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ธ-ณ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut v = Vec::new();

    v.push(5);
    v.push(6);
    v.push(7);
    v.push(8);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-3: ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>push</code> ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ููุงุฏุฑ ุจู ฺฉ ุจุฑุฏุงุฑ</figcaption>
</figure>
<p>ููุงูุทูุฑ ฺฉู ุจุง ูุฑ ูุชุบุฑ ุฏฺฏุฑ ุงูุฌุงู ูโุฏููุ ุงฺฏุฑ ุจุฎูุงูู ุจุชูุงูู ููุฏุงุฑ ุขู ุฑุง ุชุบุฑ ุฏููุ
ุจุงุฏ ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุงฺู <code>mut</code> ูุงุจู ุชุบุฑ ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุตู ณ ุจุญุซ ุดุฏ.
ุงุนุฏุงุฏ ฺฉู ุฏุฑ ุฏุงุฎู ุจุฑุฏุงุฑ ูุฑุงุฑ ูโุฏูู ููู ุงุฒ ููุน <code>i32</code> ูุณุชูุฏ ู Rust ุงู ููุน ุฑุง ุงุฒ ุฏุงุฏูโูุง
ุงุณุชูุชุงุฌ ูโฺฉูุฏุ ุจูุงุจุฑุงู ูุงุฒ ุจู ุชูุถุญ ููุน <code>Vec&lt;i32&gt;</code> ูุณุช.</p>
<h3 id="ุฎูุงูุฏู-ุนูุงุตุฑ-ุจุฑุฏุงุฑ"><a class="header" href="#ุฎูุงูุฏู-ุนูุงุตุฑ-ุจุฑุฏุงุฑ">ุฎูุงูุฏู ุนูุงุตุฑ ุจุฑุฏุงุฑ</a></h3>
<p>ุฏู ุฑูุด ุจุฑุง ุงุฑุฌุงุน ุจู ฺฉ ููุฏุงุฑ ุฐุฎุฑู ุดุฏู ุฏุฑ ุจุฑุฏุงุฑ ูุฌูุฏ ุฏุงุฑุฏ: ุงุฒ ุทุฑู ุงุณุชูุงุฏู ุงุฒ ุงูุฏุณ (index)ุง
ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>get</code>. ุฏุฑ ูุซุงูโูุง ุฒุฑุ ุงููุงุน ููุงุฏุฑ ุจุงุฒฺฏุดุช ุงุฒ ุงู ุชูุงุจุน ุจุฑุง ูุถูุญ ุจุดุชุฑ
ูุดุฎุต ุดุฏูโุงูุฏ.</p>
<p>ูุณุช ธ-ด ูุฑ ุฏู ุฑูุด ุฏุณุชุฑุณ ุจู ฺฉ ููุฏุงุฑ ุฏุฑ ุจุฑุฏุงุฑุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ ุงูุฏุณ (index)ู ูุชุฏ <code>get</code>
ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v = vec![1, 2, 3, 4, 5];

    let third: &amp;i32 = &amp;v[2];
    println!("The third element is {third}");

    let third: Option&lt;&amp;i32&gt; = v.get(2);
    match third {
        Some(third) =&gt; println!("The third element is {third}"),
        None =&gt; println!("There is no third element."),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-4: ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ ุงูุฏุณ (index)ู ูุชุฏ <code>get</code> ุจุฑุง ุฏุณุชุฑุณ ุจู ฺฉ ุขุชู ุฏุฑ ุจุฑุฏุงุฑ</figcaption>
</figure>
<p>ุจู ฺูุฏ ุฌุฒุฆุงุช ุงูุฌุง ุชูุฌู ฺฉูุฏ. ูุง ุงุฒ ููุฏุงุฑ ุงูุฏุณ (index)<code>2</code> ุจุฑุง ุฏุณุชุฑุณ ุจู ุนูุตุฑ ุณูู ุงุณุชูุงุฏู ูโฺฉูู
ุฒุฑุง ุจุฑุฏุงุฑูุง ุจุง ุดูุงุฑู ุงุฒ ุตูุฑ ุงูุฏุณโฺฏุฐุงุฑ ูโุดููุฏ. ุงุณุชูุงุฏู ุงุฒ <code>&amp;</code> ู <code>[]</code> ฺฉ ูุฑุฌุน ุจู ุนูุตุฑ
ุฏุฑ ููุฏุงุฑ ุงูุฏุณ (index)ุฑุง ุจู ูุง ูโุฏูุฏ. ููุช ุงุฒ ูุชุฏ <code>get</code> ุจุง ุงูุฏุณ ฺฉู ุจู ุนููุงู ุขุฑฺฏููุงู ุฏุงุฏู ูโุดูุฏ
ุงุณุชูุงุฏู ูโฺฉููุ ฺฉ <code>Option&lt;&amp;T&gt;</code> ุฏุฑุงูุช ูโฺฉูู ฺฉู ูโุชูุงูู ุจุง <code>match</code> ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>Rust ุงู ุฏู ุฑูุด ุงุฑุฌุงุน ุจู ฺฉ ุนูุตุฑ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ุชุง ุจุชูุงูุฏ ุงูุชุฎุงุจ ฺฉูุฏ ฺฉู ุจุฑูุงูู ุดูุง ฺฺฏููู ุฑูุชุงุฑ ฺฉูุฏ
ููุช ุชูุงุด ูโฺฉูุฏ ุงุฒ ฺฉ ููุฏุงุฑ ุงูุฏุณ (index)ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุนูุงุตุฑ ููุฌูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุจู ุนููุงู ฺฉ ูุซุงูุ
ุจุงุฏ ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ ููุช ฺฉ ุจุฑุฏุงุฑ ุจุง ูพูุฌ ุนูุตุฑ ุฏุงุดุชู ุจุงุดู ู ุณูพุณ ุชูุงุด ฺฉูู ุจู ฺฉ ุนูุตุฑ
ุฏุฑ ุงูุฏุณ (index)ฑฐฐ ุจุง ูุฑ ุฏู ุชฺฉูฺฉ ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ธ-ต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust should_panic panics edition2021"><span class="boring">fn main() {
</span>    let v = vec![1, 2, 3, 4, 5];

    let does_not_exist = &amp;v[100];
    let does_not_exist = v.get(100);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-5: ุชูุงุด ุจุฑุง ุฏุณุชุฑุณ ุจู ุนูุตุฑ ุฏุฑ ุงูุฏุณ (index)ฑฐฐ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ุดุงูู ูพูุฌ ุนูุตุฑ</figcaption>
</figure>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฑูุด ุงูู <code>[]</code> ุจุงุนุซ ูโุดูุฏ ุจุฑูุงูู ูุชููู ุดูุฏ ุฒุฑุง ุจู ฺฉ
ุนูุตุฑ ุบุฑููุฌูุฏ ุงุดุงุฑู ูโฺฉูุฏ. ุงู ุฑูุด ุฒูุงู ุจูุชุฑู ุงุณุชูุงุฏู ุฑุง ุฏุงุฑุฏ ฺฉู ุจุฎูุงูุฏ ุจุฑูุงููโุชุงู
ุฏุฑ ุตูุฑุช ุชูุงุด ุจุฑุง ุฏุณุชุฑุณ ุจู ุนูุตุฑ ุฎุงุฑุฌ ุงุฒ ุงูุชูุง ุจุฑุฏุงุฑุ ูุชููู ุดูุฏ.</p>
<p>ููุช ูุชุฏ <code>get</code> ฺฉ ุงูุฏุณ (index)ุฎุงุฑุฌ ุงุฒ ุจุฑุฏุงุฑ ุฏุฑุงูุช ูโฺฉูุฏุ ููุฏุงุฑ <code>None</code> ุฑุง ุจุฏูู ูุชููู ฺฉุฑุฏู
ุจุฑูุงูู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุดูุง ุงุฒ ุงู ุฑูุด ุงุณุชูุงุฏู ูโฺฉูุฏ ุงฺฏุฑ ุฏุณุชุฑุณ ุจู ุนูุตุฑ ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุจุฑุฏุงุฑ
ููฺฉู ุงุณุช ฺฏุงูโุจูโฺฏุงู ุฏุฑ ุดุฑุงุท ุนุงุฏ ุฑุฎ ุฏูุฏ. ฺฉุฏ ุดูุง ุณูพุณ ููุทู ูุงุฒู ุจุฑุง ูุฏุฑุช ุฏุงุดุชู
<code>Some(&amp;element)</code> ุง <code>None</code> ุฑุง ุฎูุงูุฏ ุฏุงุดุชุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุตู ถ ุจุญุซ ุดุฏ. ุจุฑุง ูุซุงูุ
ุงูุฏุณ (index)ููฺฉู ุงุณุช ุงุฒ ฺฉ ุนุฏุฏ ูุฑูุฏ ุชูุณุท ฺฉุงุฑุจุฑ ุจุงุฏ. ุงฺฏุฑ ฺฉุงุฑุจุฑ ุชุตุงุฏูุงู ุนุฏุฏ ูุงุฑุฏ ฺฉูุฏ ฺฉู ุจุด ุงุฒ ุญุฏ
ุจุฒุฑฺฏ ุจุงุดุฏ ู ุจุฑูุงูู ููุฏุงุฑ <code>None</code> ุฏุฑุงูุช ฺฉูุฏุ ุดูุง ูโุชูุงูุฏ ุจู ฺฉุงุฑุจุฑ ุงุทูุงุน ุฏูุฏ ฺฉู ฺูุฏ ุขุชู
ุฏุฑ ุจุฑุฏุงุฑ ููุฌูุฏ ุงุณุช ู ุจู ุงู ูุฑุตุช ุฏฺฏุฑ ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุจุฏูุฏ. ุงู ุฑุงูฺฉุงุฑ ุจุฑุง
ฺฉุงุฑุจุฑ ูพุณูุฏุชุฑ ุงุณุช ุชุง ุงู ฺฉู ุจุฑูุงูู ุจู ุฏูู ฺฉ ุงุดุชุจุงู ุชุงูพ ูุชููู ุดูุฏ!</p>
<p>ููุช ุจุฑูุงูู ฺฉ ูุฑุฌุน ูุนุชุจุฑ ุฏุงุฑุฏุ ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ููุงูู ูุงูฺฉุช ู ูุฑุถโฺฏุฑ (ฺฉู ุฏุฑ ูุตู ด ูพูุดุด ุฏุงุฏู ุดุฏ)
ุฑุง ุงุนูุงู ูโฺฉูุฏ ุชุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุงู ูุฑุฌุน ู ูุฑ ูุฑุฌุน ุฏฺฏุฑ ุจู ูุญุชูุง ุจุฑุฏุงุฑ ูุนุชุจุฑ ุจุงู ูโูุงููุฏ.
ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ูุงููู ุจุงู ูโฺฉูุฏ ููโุชูุงูุฏ ูุฑุฌุนโูุง ูุงุจู ุชุบุฑ ู ุบุฑูุงุจู ุชุบุฑ ุฑุง ุฏุฑ ฺฉ ุญูุฒู
ุฏุงุดุชู ุจุงุดุฏ. ุงู ูุงููู ุฏุฑ ูุณุช ธ-ถ ุงุนูุงู ูโุดูุฏุ ุฌุง ฺฉู ฺฉ ูุฑุฌุน ุบุฑูุงุจู ุชุบุฑ ุจู ุงููู ุนูุตุฑ
ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ูฺฏู ุฏุงุดุชู ุดุฏู ุงุณุช ู ุณุน ุฏุงุฑู ฺฉ ุนูุตุฑ ุจู ุงูุชูุง ุงุถุงูู ฺฉูู. ุงู ุจุฑูุงูู ุฒูุงู ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ
ุงฺฏุฑ ููฺูู ุจุฎูุงูู ุจุนุฏุงู ุฏุฑ ุชุงุจุน ุจู ุขู ุนูุตุฑ ุงุฑุฌุงุน ุฏูู.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let mut v = vec![1, 2, 3, 4, 5];

    let first = &amp;v[0];

    v.push(6);

    println!("The first element is: {first}");
<span class="boring">}</span></code></pre>
<figcaption>Listing 8-6: ุชูุงุด ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ฺฉ ุนูุตุฑ ุจู ฺฉ ุจุฑุฏุงุฑ ุฏุฑ ุญุงู ฺฉู ฺฉ ูุฑุฌุน ุจู ฺฉ ุขุชู ูฺฏู ุฏุงุดุชู ุดุฏู ุงุณุช</figcaption>
</figure>
<p>ฺฉุงููพุงู ฺฉุฑุฏู ุงู ฺฉุฏ ุจู ุงู ุฎุทุง ููุฌุฑ ูโุดูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling collections v0.1.0 (file:///projects/collections)
error[E0502]: cannot borrow `v` as mutable because it is also borrowed as immutable
 --&gt; src/main.rs:6:5
  |
4 |     let first = &amp;v[0];
  |                  - immutable borrow occurs here
5 |
6 |     v.push(6);
  |     ^^^^^^^^^ mutable borrow occurs here
7 |
8 |     println!("The first element is: {first}");
  |                                     ------- immutable borrow later used here

For more information about this error, try `rustc --explain E0502`.
error: could not compile `collections` (bin "collections") due to 1 previous error
</code></pre>
<p>ฺฉุฏ ุฏุฑ ูุณุช ธ-ถ ููฺฉู ุงุณุช ุจู ูุธุฑ ุจุงุฏ ฺฉู ุจุงุฏ ฺฉุงุฑ ฺฉูุฏ: ฺุฑุง ฺฉ ูุฑุฌุน ุจู ุงููู ุนูุตุฑ ุจุงุฏ
ุจู ุชุบุฑุงุช ุงูุชูุง ุจุฑุฏุงุฑ ุงููุช ุฏูุฏุ ุงู ุฎุทุง ุจู ูุญูู ฺฉุงุฑ ุจุฑุฏุงุฑูุง ูุฑุจูุท ุงุณุช: ฺูู ุจุฑุฏุงุฑูุง ููุงุฏุฑ
ุฑุง ุฏุฑ ฺฉูุงุฑ ฺฉุฏฺฏุฑ ุฏุฑ ุญุงูุธู ูุฑุงุฑ ูโุฏููุฏุ ุงุถุงูู ฺฉุฑุฏู ฺฉ ุนูุตุฑ ุฌุฏุฏ ุจู ุงูุชูุง ุจุฑุฏุงุฑ ููฺฉู ุงุณุช ูุงุฒููุฏ
ุงุฎุชุตุงุต ุญุงูุธู ุฌุฏุฏ ู ฺฉูพ ฺฉุฑุฏู ุนูุงุตุฑ ูุฏู ุจู ูฺฉุงู ุฌุฏุฏ ุจุงุดุฏุ ุงฺฏุฑ ูุถุง ฺฉุงู ุจุฑุง ูุฑุงุฑ ุฏุงุฏู
ููู ุนูุงุตุฑ ุฏุฑ ฺฉูุงุฑ ฺฉุฏฺฏุฑ ุฏุฑ ูุญู ฺฉููู ุจุฑุฏุงุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ. ุฏุฑ ุงู ุญุงูุชุ ูุฑุฌุน ุจู ุงููู
ุนูุตุฑ ุจู ุญุงูุธูโุง ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ุขุฒุงุฏ ุดุฏู ุงุณุช. ููุงูู ูุฑุถโฺฏุฑ ุงุฒ ุจู ูุฌูุฏ ุขูุฏู ุงู ุดุฑุงุท
ุฏุฑ ุจุฑูุงููโูุง ุฌููฺฏุฑ ูโฺฉููุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ููุน <code>Vec&lt;T&gt;</code>ุ ุจู <a href="../nomicon/vec/vec.html">โThe Rustonomiconโ</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
</blockquote>
<h3 id="ูพูุงุด-ุจุฑ-ุฑู-ููุงุฏุฑ-ุฏุฑ-ฺฉ-ุจุฑุฏุงุฑ"><a class="header" href="#ูพูุงุด-ุจุฑ-ุฑู-ููุงุฏุฑ-ุฏุฑ-ฺฉ-ุจุฑุฏุงุฑ">ูพูุงุด ุจุฑ ุฑู ููุงุฏุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ</a></h3>
<p>ุจุฑุง ุฏุณุชุฑุณ ุจู ูุฑ ุนูุตุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ุจู ุชุฑุชุจุ ูโุชูุงูู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏุณโูุง
ุจุฑุง ุฏุณุชุฑุณ ุจู ฺฉ ุนูุตุฑ ุฏุฑ ูุฑ ุจุงุฑุ ุจุฑ ุฑู ุชูุงู ุนูุงุตุฑ ูพูุงุด ฺฉูู. ูุณุช ธ-ท ูุดุงู ูโุฏูุฏ
ฺฺฏููู ูโุชูุงู ุงุฒ ฺฉ ุญููู <code>for</code> ุจุฑุง ฺฏุฑูุชู ูุฑุฌุนโูุง ุบุฑูุงุจู ุชุบุฑ ุจู ูุฑ ุนูุตุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ
ุงุฒ ููุงุฏุฑ <code>i32</code> ุงุณุชูุงุฏู ฺฉุฑุฏ ู ุขููุง ุฑุง ฺุงูพ ฺฉุฑุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v = vec![100, 32, 57];
    for i in &amp;v {
        println!("{i}");
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-7: ฺุงูพ ูุฑ ุนูุตุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ุจุง ูพูุงุด ุจุฑ ุฑู ุนูุงุตุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>for</code></figcaption>
</figure>
<p>ููฺูู ูโุชูุงูู ุจุฑ ุฑู ูุฑุฌุนโูุง ูุงุจู ุชุบุฑ ุจู ูุฑ ุนูุตุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ูุงุจู ุชุบุฑ ูพูุงุด ฺฉูู
ุชุง ุชุบุฑุงุช ุฑู ุชูุงู ุนูุงุตุฑ ุงุนูุงู ฺฉูู. ุญููู <code>for</code> ุฏุฑ ูุณุช ธ-ธ ููุฏุงุฑ <code>50</code> ุฑุง ุจู ูุฑ ุนูุตุฑ ุงุถุงูู ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut v = vec![100, 32, 57];
    for i in &amp;mut v {
        *i += 50;
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-8: ูพูุงุด ุจุฑ ุฑู ูุฑุฌุนโูุง ูุงุจู ุชุบุฑ ุจู ุนูุงุตุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ</figcaption>
</figure>
<p>ุจุฑุง ุชุบุฑ ููุฏุงุฑ ูุฑุฌุน ูุงุจู ุชุบุฑุ ุจุงุฏ ุงุฒ ุนููฺฏุฑ * (dereference) ุงุณุชูุงุฏู ฺฉูู ุชุง ุจู ููุฏุงุฑ
ููุฌูุฏ ุฏุฑ <code>i</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ุณูพุณ ูโุชูุงูู ุงุฒ ุนููฺฏุฑ <code>+=</code> ุงุณุชูุงุฏู ฺฉูู. ุฏุฑุจุงุฑู ุนููฺฏุฑ dereference
ุฏุฑ ุจุฎุด <a href="ch15-02-deref.html#following-the-pointer-to-the-value-with-the-dereference-operator">โุฏูุจุงู ฺฉุฑุฏู ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ููุฏุงุฑ ุจุง ุนููฺฏุฑ dereferenceโ</a><!-- ignore --> ุฏุฑ ูุตู ฑต
ุจุดุชุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ูพูุงุด ุจุฑ ุฑู ฺฉ ุจุฑุฏุงุฑุ ฺู ุจู ุตูุฑุช ุบุฑูุงุจู ุชุบุฑ ู ฺู ุจู ุตูุฑุช ูุงุจู ุชุบุฑุ ุงูู ุงุณุช
ุฒุฑุง ุงุฒ ููุงูู ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ูพุฑู ูโฺฉูุฏ. ุงฺฏุฑ ุจุฎูุงูู ุฏุฑ ุจุฏูู ุญูููโูุง <code>for</code> ุฏุฑ ูุณุช ธ-ท
ู ูุณุช ธ-ธ ุขุชูโูุง ุฑุง ุฏุฑุฌ ุง ุญุฐู ฺฉููุ ุจุง ุฎุทุง ฺฉุงููพุงู ูุดุงุจู ุจุง ฺฉุฏ ฺฉู ุฏุฑ ูุณุช ธ-ถ ุฏุฏู
ุฑูุจุฑู ุฎูุงูู ุดุฏ. ูุฑุฌุน ุจู ุจุฑุฏุงุฑ ฺฉู ุญููู <code>for</code> ูฺฏู ูโุฏุงุฑุฏ ุงุฒ ุชุบุฑ ููุฒูุงู ฺฉู ุจุฑุฏุงุฑ
ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-enum-ุจุฑุง-ุฐุฎุฑู-ุงููุงุน-ูุฎุชูู"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-enum-ุจุฑุง-ุฐุฎุฑู-ุงููุงุน-ูุฎุชูู">ุงุณุชูุงุฏู ุงุฒ Enum ุจุฑุง ุฐุฎุฑู ุงููุงุน ูุฎุชูู</a></h3>
<p>ุจุฑุฏุงุฑูุง ููุท ูโุชูุงููุฏ ููุงุฏุฑ ุงุฒ ฺฉ ููุน ุฑุง ุฐุฎุฑู ฺฉููุฏ. ุงู ููุถูุน ููฺฉู ุงุณุช ฺฏุงู
ูุงุฎูุดุงูุฏ ุจุงุดุฏุ ูุทูุฆูุงู ููุงุฑุฏ ุงุณุชูุงุฏูโุง ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ูุงุฒ ุจู ุฐุฎุฑู ฺฉ ูุณุช
ุงุฒ ุขุชูโูุง ุจุง ุงููุงุน ูุฎุชูู ุฏุงุฑุฏ. ุฎูุดุจุฎุชุงููุ ูุชุบุฑูุง ฺฉ <code>enum</code> ุชุญุช ฺฉ ููุน
<code>enum</code> ุชุนุฑู ุดุฏูโุงูุฏุ ุจูุงุจุฑุงู ููุช ูุงุฒ ุจู ฺฉ ููุน ุจุฑุง ููุงุด ุนูุงุตุฑ ุงุฒ ุงููุงุน
ูุฎุชูู ุฏุงุฑุฏุ ูโุชูุงูุฏ ฺฉ <code>enum</code> ุชุนุฑู ฺฉุฑุฏู ู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูุฏ!</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ูโุฎูุงูู ููุงุฏุฑ ฺฉ ุฑุฏู ุงุฒ ฺฉ ุตูุญู ฺฏุณุชุฑุฏู ุฑุง ฺฉู ุจุฑุฎ ุงุฒ
ุณุชููโูุง ุขู ุดุงูู ุงุนุฏุงุฏ ุตุญุญุ ุจุฑุฎ ุดุงูู ุงุนุฏุงุฏ ุงุนุดุงุฑ ู ุจุฑุฎ ุดุงูู ุฑุดุชูโูุง
ูโุจุงุดูุฏุ ุฏุฑุงูุช ฺฉูู. ูโุชูุงูู ฺฉ <code>enum</code> ุชุนุฑู ฺฉูู ฺฉู ูุชุบุฑูุง ุขู ุงููุงุน
ูุฎุชูู ููุงุฏุฑ ุฑุง ูฺฏูุฏุงุฑ ฺฉููุฏุ ู ุชูุงู ูุชุบุฑูุง <code>enum</code> ุจู ุนููุงู ฺฉ ููุน ูุดุงุจู
(ุนู ููุน <code>enum</code>) ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดููุฏ. ุณูพุณ ูโุชูุงูู ฺฉ ุจุฑุฏุงุฑ ุงุฌุงุฏ ฺฉูู
ฺฉู ุงู <code>enum</code> ุฑุง ูฺฏูุฏุงุฑ ฺฉูุฏ ู ุฏุฑ ูุชุฌู ุงููุงุน ูุฎุชูู ุฑุง ุฐุฎุฑู ฺฉูุฏ. ุงู ููุถูุน
ุฏุฑ ูุณุช ธ-น ููุงุด ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    enum SpreadsheetCell {
        Int(i32),
        Float(f64),
        Text(String),
    }

    let row = vec![
        SpreadsheetCell::Int(3),
        SpreadsheetCell::Text(String::from("blue")),
        SpreadsheetCell::Float(10.12),
    ];
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-9: ุชุนุฑู ฺฉ <code>enum</code> ุจุฑุง ุฐุฎุฑู ุงููุงุน ูุฎุชูู ุฏุฑ ฺฉ ุจุฑุฏุงุฑ</figcaption>
</figure>
<p>Rust ุจุงุฏ ุจุฏุงูุฏ ฺู ุงููุงุน ุฏุฑ ุจุฑุฏุงุฑ ุฎูุงููุฏ ุจูุฏ ุชุง ุจุชูุงูุฏ ุฏุฑ ุฒูุงู ฺฉุงููพุงู
ุฏููุงู ูุดุฎุต ฺฉูุฏ ฺู ููุฏุงุฑ ุญุงูุธู ุฏุฑ heap ุจุฑุง ุฐุฎุฑู ูุฑ ุนูุตุฑ ูุงุฒ ุงุณุช.
ููฺูู ุจุงุฏ ุจู ุทูุฑ ุตุฑุญ ูุดุฎุต ฺฉูู ฺฉู ฺู ุงููุงุน ุฏุฑ ุงู ุจุฑุฏุงุฑ ูุฌุงุฒ ูุณุชูุฏ.
ุงฺฏุฑ Rust ุงุฌุงุฒู ูโุฏุงุฏ ฺฉู ุจุฑุฏุงุฑ ูุฑ ููุน ุฑุง ูฺฏูุฏุงุฑ ฺฉูุฏุ ุงุญุชูุงู ุฏุงุดุช ฺฉู
ฺฉ ุง ฺูุฏ ููุน ุจุงุนุซ ุงุฌุงุฏ ุฎุทุง ุฏุฑ ุนููุงุช ุงูุฌุงู ุดุฏู ุฑู ุนูุงุตุฑ ุจุฑุฏุงุฑ ุดููุฏ.
ุงุณุชูุงุฏู ุงุฒ ฺฉ <code>enum</code> ุจู ุนูุงูู ฺฉ ุนุจุงุฑุช <code>match</code> ุจู ุงู ูุนู ุงุณุช ฺฉู Rust
ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงุทููุงู ุญุงุตู ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ุชูุงู ุญุงูุชโูุง ููฺฉู ูุฏุฑุช ุดุฏูโุงูุฏุ
ููุงูุทูุฑ ฺฉู ุฏุฑ ูุตู ถ ุจุญุซ ุดุฏ.</p>
<p>ุงฺฏุฑ ูุฌููุนู ุฌุงูุน ุงุฒ ุงููุงุน ฺฉู ุจุฑูุงูู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฏุฑุงูุช ูโฺฉูุฏ ู ุจุงุฏ
ุฏุฑ ุจุฑุฏุงุฑ ุฐุฎุฑู ุดูุฏ ุฑุง ููโุฏุงูุฏุ ุชฺฉูฺฉ <code>enum</code> ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ. ุจู ุฌุง ุขูุ
ูโุชูุงูุฏ ุงุฒ ฺฉ ุดุก ูฺฺฏ (<code>trait object</code>) ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุฏุฑ ูุตู ฑธ
ููุฑุฏ ุจุฑุฑุณ ูุฑุงุฑ ุฎูุงูุฏ ฺฏุฑูุช.</p>
<p>ุงฺฉููู ฺฉู ุจุฑุฎ ุงุฒ ุฑุงุฌโุชุฑู ุฑูุดโูุง ุงุณุชูุงุฏู ุงุฒ ุจุฑุฏุงุฑูุง ุฑุง ุจุญุซ ฺฉุฑุฏูุ ูุทูุฆู ุดูุฏ
ฺฉู <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html">ูุณุชูุฏุงุช API</a><!-- ignore --> ุฑุง ุจุฑุง ุชูุงู ูุชุฏูุง ููุฏ ฺฉู ฺฉุชุงุจุฎุงูู
ุงุณุชุงูุฏุงุฑุฏ ุฑู <code>Vec&lt;T&gt;</code> ุชุนุฑู ฺฉุฑุฏู ุงุณุช ูุฑูุฑ ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุนูุงูู ุจุฑ <code>push</code>ุ
ูุชุฏ <code>pop</code> ุนูุตุฑ ุขุฎุฑ ุฑุง ุญุฐู ฺฉุฑุฏู ู ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<h3 id="ุญุฐู-ฺฉ-ุจุฑุฏุงุฑ-ุนูุงุตุฑ-ุขู-ุฑุง-ูุฒ-ุญุฐู-ูฺฉูุฏ"><a class="header" href="#ุญุฐู-ฺฉ-ุจุฑุฏุงุฑ-ุนูุงุตุฑ-ุขู-ุฑุง-ูุฒ-ุญุฐู-ูฺฉูุฏ">ุญุฐู ฺฉ ุจุฑุฏุงุฑุ ุนูุงุตุฑ ุขู ุฑุง ูุฒ ุญุฐู ูโฺฉูุฏ</a></h3>
<p>ูุงููุฏ ูุฑ <code>struct</code> ุฏฺฏุฑุ ฺฉ ุจุฑุฏุงุฑ ููุช ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ ุขุฒุงุฏ ูโุดูุฏุ
ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ธ-ฑฐ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    {
        let v = vec![1, 2, 3, 4];

        // do stuff with v
    } // &lt;- v goes out of scope and is freed here
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-10: ููุงุด ุฒูุงู ุญุฐู ุจุฑุฏุงุฑ ู ุนูุงุตุฑ ุขู</figcaption>
</figure>
<p>ููุช ุจุฑุฏุงุฑ ุญุฐู ูโุดูุฏุ ุชูุงู ูุญุชูุง ุขู ูุฒ ุญุฐู ูโุดููุฏุ ุจู ุงู ูุนู ฺฉู ุงุนุฏุงุฏ
ุตุญุญ ฺฉู ูฺฏูุฏุงุฑ ูโฺฉูุฏ ุชูุฒฺฉุงุฑ ูโุดููุฏ. ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุงุทููุงู ุญุงุตู ูโฺฉูุฏ
ฺฉู ูุฑ ูุฑุฌุน ุจู ูุญุชูุง ฺฉ ุจุฑุฏุงุฑ ููุท ุชุง ุฒูุงู ฺฉู ุฎูุฏ ุจุฑุฏุงุฑ ูุนุชุจุฑ ุงุณุช ุงุณุชูุงุฏู ุดูุฏ.</p>
<p>ุญุงู ุจู ููุน ูุฌููุนู ุจุนุฏ ูโูพุฑุฏุงุฒู: <code>String</code>!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฐุฎุฑู-ูุชููุง-ฺฉุฏฺฏุฐุงุฑ-ุดุฏู-utf-8-ุจุง--ุฑุดุชููุง-strings"><a class="header" href="#ุฐุฎุฑู-ูุชููุง-ฺฉุฏฺฏุฐุงุฑ-ุดุฏู-utf-8-ุจุง--ุฑุดุชููุง-strings">ุฐุฎุฑู ูุชูโูุง ฺฉุฏฺฏุฐุงุฑ ุดุฏู UTF-8 ุจุง  ุฑุดุชูโูุง (strings)</a></h2>
<p>ูุง ุฏุฑ ูุตู ด ุฏุฑุจุงุฑู ุฑุดุชูโูุง ุตุญุจุช ฺฉุฑุฏูุ ุงูุง ุงฺฉููู ุจู ุขูโูุง ุจุง ุนูู ุจุดุชุฑ ูฺฏุงู ุฎูุงูู ฺฉุฑุฏ.
Rustaceanูุง ุชุงุฒูโูุงุฑุฏ ูุนูููุงู ุจู ุฏูู ุชุฑฺฉุจ ุงุฒ ุณู ุนุงูู ุฏุฑ ุฑุดุชูโูุง ุฏฺุงุฑ ูุดฺฉู ูโุดููุฏ:
ฺฏุฑุงุด Rust ุจู ุขุดฺฉุงุฑุณุงุฒ ุฎุทุงูุง ููฺฉูุ ุฑุดุชูโูุง ุจู ุนููุงู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ูพฺุฏูโุชุฑ ุงุฒ ุขูฺู
ุจุณุงุฑ ุงุฒ ุจุฑูุงููโููุณุงู ุชุตูุฑ ูโฺฉููุฏุ ู UTF-8. ุงู ุนูุงูู ุจู ูุญู ุชุฑฺฉุจ ูโุดููุฏ ฺฉู ูโุชูุงููุฏ
ุจุฑุง ฺฉุณุงู ฺฉู ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑ ูโุขูุฏ ุฏุดูุงุฑ ุจุงุดูุฏ.</p>
<p>ูุง ุฑุดุชูโูุง ุฑุง ุฏุฑ ุฒููู ูุฌููุนูโูุง ุจุฑุฑุณ ูโฺฉููุ ุฒุฑุง ุฑุดุชูโูุง ุจู ุนููุงู ูุฌููุนูโุง ุงุฒ ุจุงุชโูุง
ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏุ ุจู ุนูุงูู ุชุนุฏุงุฏ ูุชุฏ ุจุฑุง ุงุฑุงุฆู ูุงุจูุชโูุง ููุฏ ุฒูุงู ฺฉู ุงู ุจุงุชโูุง
ุจู ุนููุงู ูุชู ุชูุณุฑ ูโุดููุฏ. ุฏุฑ ุงู ุจุฎุดุ ุฏุฑุจุงุฑู ุนููุงุชโูุง ฺฉู ุฑู <code>String</code> ุงูุฌุงู ูโุดูุฏ
ู ูุฑ ููุน ูุฌููุนูโุง ุขูโูุง ุฑุง ุฏุงุฑุฏุ ูุงููุฏ ุงุฌุงุฏุ ุจูโุฑูุฒุฑุณุงูุ ู ุฎูุงูุฏู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.
ููฺูู ุชูุงูุชโูุง <code>String</code> ุจุง ุณุงุฑ ูุฌููุนูโูุง ุฑุง ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูโุฏููุ ุจูโูฺู ูุญูู ูพฺุฏฺฏ
ุงูุฏุณโฺฏุฐุงุฑ ุฏุฑ ฺฉ <code>String</code> ุจู ุฏูู ุชูุงูุชโูุง ุจู ุชูุณุฑ ุฏุงุฏูโูุง <code>String</code> ุชูุณุท ุงูุณุงูโูุง
ู ฺฉุงููพูุชุฑูุง.</p>
<h3 id="ุฑุดุชู-string-ฺุณุช"><a class="header" href="#ุฑุดุชู-string-ฺุณุช">ุฑุดุชู (string) ฺุณุชุ</a></h3>
<p>ุงุจุชุฏุง ุชุนุฑู ูโฺฉูู ฺฉู ููุธูุฑ ูุง ุงุฒ ุงุตุทูุงุญ <em>ุฑุดุชู</em> ฺุณุช. Rust ููุท ฺฉ ููุน ุฑุดุชู ุฏุฑ ุฒุจุงู
ูุณุชู ุฎูุฏ ุฏุงุฑุฏ ฺฉู ููุงู ูุทุนู ุฑุดุชู <code>str</code> ุงุณุช ฺฉู ูุนูููุงู ุจู ุตูุฑุช ูุฑุถ ฺฏุฑูุชู ุดุฏู <code>&amp;str</code>
ุฏุฏู ูโุดูุฏ. ุฏุฑ ูุตู ด ุฏุฑุจุงุฑู <em>ูุทุนูโูุง ุฑุดุชู</em> ุตุญุจุช ฺฉุฑุฏูุ ฺฉู ุงุฑุฌุงุนุงุช ุจู ุฏุงุฏูโูุง ุฑุดุชูโุง
ฺฉุฏฺฏุฐุงุฑ ุดุฏู UTF-8 ูุณุชูุฏ ฺฉู ุฏุฑ ุฌุง ุฏฺฏุฑ ุฐุฎุฑู ุดุฏูโุงูุฏ. ุจู ุนููุงู ูุซุงูุ ุฑุดุชูโูุง
ูุชุฑุงู ุฏุฑ ุจุงูุฑ ุจุฑูุงูู ุฐุฎุฑู ูโุดููุฏ ู ุจูุงุจุฑุงู ูุทุนูโูุง ุฑุดุชู ูุณุชูุฏ.</p>
<p>ููุน <code>String</code>ุ ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ุงุฑุงุฆู ุดุฏู ุงุณุช ู ูู ูุณุชููุงู ุฏุฑ ุฒุจุงู ูุณุชู
ฺฉุฏฺฏุฐุงุฑ ุดุฏูุ ฺฉ ููุน ุฑุดุชู ุฑุดุฏูพุฐุฑุ ูุงุจู ุชุบุฑุ ู ูุงูฺฉ UTF-8 ุงุณุช. ููุช Rustaceanูุง
ุจู โุฑุดุชูโูุงโ ุฏุฑ Rust ุงุดุงุฑู ูโฺฉููุฏุ ููฺฉู ุงุณุช ุจู ููุน <code>String</code> ุง ูุทุนู ุฑุดุชู <code>&amp;str</code> ุงุดุงุฑู
ฺฉููุฏุ ูู ููุท ฺฉ ุงุฒ ุงู ุฏู ููุน. ุงฺฏุฑฺู ุงู ุจุฎุด ุนูุฏุชุงู ุฏุฑุจุงุฑู <code>String</code> ุงุณุชุ ุงูุง ูุฑ ุฏู ููุน
ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ุจู ุดุฏุช ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑูุฏ ู ูุฑ ุฏู <code>String</code> ู ูุทุนูโูุง
ุฑุดุชู ฺฉุฏฺฏุฐุงุฑ UTF-8 ุฏุงุฑูุฏ.</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-ุฑุดุชู-strings-ุฌุฏุฏ"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ุฑุดุชู-strings-ุฌุฏุฏ">ุงุฌุงุฏ ฺฉ ุฑุดุชู (strings) ุฌุฏุฏ</a></h3>
<p>ุจุณุงุฑ ุงุฒ ุนููุงุช ูุดุงุจู ููุฌูุฏ ุฏุฑ <code>Vec&lt;T&gt;</code> ุจุฑุง <code>String</code> ูุฒ ุฏุฑ ุฏุณุชุฑุณ ุงุณุชุ ุฒุฑุง <code>String</code>
ุฏุฑ ูุงูุน ุจู ุนููุงู ฺฉ ูพูุดุด ุจุฑ ุฑู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ุจุงุชโูุง ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ุจุง ุจุฑุฎ
ุถูุงูุชโูุงุ ูุญุฏูุฏุชโูุงุ ู ูุงุจูุชโูุง ุงุถุงู. ูุซุงู ุงุฒ ฺฉ ุชุงุจุน ฺฉู ุจู ููุงู ุฑูุด ุจุง
<code>Vec&lt;T&gt;</code> ู <code>String</code> ฺฉุงุฑ ูโฺฉูุฏุ ุชุงุจุน <code>new</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ููููู ุงุณุชุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช
ธ-ฑฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::new();
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-11: ุงุฌุงุฏ ฺฉ <code>String</code> ุฌุฏุฏ ู ุฎุงู</figcaption>
</figure>
<p>ุงู ุฎุท ฺฉ ุฑุดุชู ุฌุฏุฏ ู ุฎุงู ุจู ูุงู <code>s</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ูโุชูุงูู ุฏุงุฏูโูุง ุฑุง ุฏุฑ ุขู ุจุงุฑฺฏุฐุงุฑ ฺฉูู.
ุงุบูุจุ ุฏุงุฏูโูุง ุงูููโุง ุฎูุงูู ุฏุงุดุช ฺฉู ูโุฎูุงูู ุฑุดุชู ุฑุง ุจุง ุขูโูุง ุดุฑูุน ฺฉูู. ุจุฑุง ุงู ฺฉุงุฑุ
ุงุฒ ูุชุฏ <code>to_string</code> ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุจุฑ ุฑู ูุฑ ููุน ฺฉู ูฺฺฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ
ูโฺฉูุฏุ ููุงููุฏ ุฑุดุชูโูุง ูุชุฑุงูุ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ูุณุช ธ-ฑฒ ุฏู ูุซุงู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let data = "initial contents";

    let s = data.to_string();

    // the method also works on a literal directly:
    let s = "initial contents".to_string();
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-12: ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>to_string</code> ุจุฑุง ุงุฌุงุฏ ฺฉ <code>String</code> ุงุฒ ฺฉ ุฑุดุชู ูุชุฑุงู</figcaption>
</figure>
<p>ุงู ฺฉุฏ ฺฉ ุฑุดุชู ุญุงู <code>initial contents</code> ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ุชุงุจุน <code>String::from</code> ุจุฑุง ุงุฌุงุฏ ฺฉ <code>String</code> ุงุฒ ฺฉ ุฑุดุชู ูุชุฑุงู
ุงุณุชูุงุฏู ฺฉูู. ฺฉุฏ ุฏุฑ ูุณุช ธ-ฑณ ูุนุงุฏู ฺฉุฏ ุงุณุช ฺฉู ุฏุฑ ูุณุช ธ-ฑฒ ุงุฒ <code>to_string</code> ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s = String::from("initial contents");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-13: ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>String::from</code> ุจุฑุง ุงุฌุงุฏ ฺฉ <code>String</code> ุงุฒ ฺฉ ุฑุดุชู ูุชุฑุงู</figcaption>
</figure>
<p>ุงุฒ ุขูุฌุง ฺฉู ุฑุดุชูโูุง ุจุฑุง ููุงุฑุฏ ุจุณุงุฑ ุงุณุชูุงุฏู ูโุดููุฏุ ูโุชูุงูู ุงุฒ ุจุณุงุฑ ุงุฒ APIูุง
ุฌูุฑฺฉ ูุฎุชูู ุจุฑุง ุฑุดุชูโูุง ุงุณุชูุงุฏู ฺฉูู ฺฉู ฺฏุฒููโูุง ุฒุงุฏ ุฑุง ุฏุฑ ุงุฎุชุงุฑ ูุง ูุฑุงุฑ ูโุฏููุฏ.
ุจุฑุฎ ุงุฒ ุงูโูุง ููฺฉู ุงุณุช ุจู ูุธุฑ ุงุถุงู ุจุงูุฏุ ุงูุง ูุฑฺฉุฏุงู ุฌุงฺฏุงู ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑูุฏ!
ุฏุฑ ุงู ููุฑุฏุ <code>String::from</code> ู <code>to_string</code> ุนููฺฉุฑุฏ ฺฉุณุงู ุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุงูุชุฎุงุจ ุจู ุขูโูุง
ูุณุฆูู ุณุจฺฉ ู ุฎูุงูุง ฺฉุฏ ุงุณุช.</p>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฑุดุชูโูุง ุจุง ฺฉุฏฺฏุฐุงุฑ UTF-8 ูุณุชูุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ูุฑ ุฏุงุฏูโุง ฺฉู
ุจู ุทูุฑ ุตุญุญ ฺฉุฏฺฏุฐุงุฑ ุดุฏู ุจุงุดุฏ ุฑุง ุฏุฑ ุขูโูุง ูุฑุงุฑ ุฏููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ธ-ฑด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let hello = String::from("ุงูุณูุงู ุนูููู");
    let hello = String::from("Dobrรฝ den");
    let hello = String::from("Hello");
    let hello = String::from("ืฉืืื");
    let hello = String::from("เคจเคฎเคธเฅเคคเฅ");
    let hello = String::from("ใใใซใกใฏ");
    let hello = String::from("์๋ํ์ธ์");
    let hello = String::from("ไฝๅฅฝ");
    let hello = String::from("Olรก");
    let hello = String::from("ะะดัะฐะฒััะฒัะนัะต");
    let hello = String::from("Hola");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-14: ุฐุฎุฑู ุณูุงูโูุง ุจู ุฒุจุงูโูุง ูุฎุชูู ุฏุฑ ุฑุดุชูโูุง</figcaption>
</figure>
<p>ุชูุงู ุงู ููุงุฑุฏ ููุงุฏุฑ ูุนุชุจุฑ <code>String</code> ูุณุชูุฏ.</p>
<h3 id="ุจูุฑูุฒุฑุณุงู-ฺฉ-ุฑุดุชู"><a class="header" href="#ุจูุฑูุฒุฑุณุงู-ฺฉ-ุฑุดุชู">ุจูโุฑูุฒุฑุณุงู ฺฉ ุฑุดุชู</a></h3>
<p>ฺฉ <code>String</code> ูโุชูุงูุฏ ุงุฒ ูุธุฑ ุงูุฏุงุฒู ุฑุดุฏ ฺฉูุฏ ู ูุญุชูุง ุขู ุชุบุฑ ฺฉูุฏุ ููุงูุทูุฑ ฺฉู ูุญุชูุง
ฺฉ <code>Vec&lt;T&gt;</code> ุชุบุฑ ูโฺฉูุฏุ ุงฺฏุฑ ุฏุงุฏู ุจุดุชุฑ ุจู ุขู ุงุถุงูู ฺฉูู. ุนูุงูู ุจุฑ ุงูุ ูโุชูุงูู ุจู ุฑุงุญุช
ุงุฒ ุนููฺฏุฑ <code>+</code> ุง ูุงฺฉุฑู <code>format!</code> ุจุฑุง ุงูุญุงู ููุงุฏุฑ <code>String</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<h4 id="ุงูุญุงู-ุจู-ฺฉ-ุฑุดุชู-string-ุจุง-push_str-ู-push"><a class="header" href="#ุงูุญุงู-ุจู-ฺฉ-ุฑุดุชู-string-ุจุง-push_str-ู-push">ุงูุญุงู ุจู ฺฉ ุฑุดุชู (string) ุจุง <code>push_str</code> ู <code>push</code></a></h4>
<p>ูุง ูโุชูุงูู ฺฉ <code>String</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>push_str</code> ุจุฑุง ุงูุญุงู ฺฉ ูุทุนู ุฑุดุชู ุฑุดุฏ ุฏููุ
ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ธ-ฑต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::from("foo");
    s.push_str("bar");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-15: ุงูุญุงู ฺฉ ูุทุนู ุฑุดุชู ุจู ฺฉ <code>String</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>push_str</code></figcaption>
</figure>
<p>ุจุนุฏ ุงุฒ ุงู ุฏู ุฎุทุ ููุฏุงุฑ <code>s</code> ุดุงูู <code>foobar</code> ุฎูุงูุฏ ุจูุฏ. ูุชุฏ <code>push_str</code> ฺฉ ูุทุนู ุฑุดุชู ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ูโฺฏุฑุฏ
ุฒุฑุง ูุง ูุฒููุงู ููโุฎูุงูู ูุงูฺฉุช ูพุงุฑุงูุชุฑ ุฑุง ุจฺฏุฑู. ุจุฑุง ูุซุงูุ ุฏุฑ ฺฉุฏ ฺฉู ุฏุฑ ูุณุช ธ-ฑถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ
ูุง ูโุฎูุงูู ุจุชูุงูู ูพุณ ุงุฒ ุงูุญุงู ูุญุชูุง <code>s2</code> ุจู <code>s1</code> ููฺูุงู ุงุฒ <code>s2</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s1 = String::from("foo");
    let s2 = "bar";
    s1.push_str(s2);
    println!("s2 is {s2}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-16: ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุทุนู ุฑุดุชู ูพุณ ุงุฒ ุงูุญุงู ูุญุชูุง ุขู ุจู ฺฉ <code>String</code></figcaption>
</figure>
<p>ุงฺฏุฑ ูุชุฏ <code>push_str</code> ูุงูฺฉุช <code>s2</code> ุฑุง ูโฺฏุฑูุชุ ููโุชูุงูุณุชู ููุฏุงุฑ ุขู ุฑุง ุฏุฑ ุฎุท ุขุฎุฑ ฺุงูพ ฺฉูู. ุจุง ุงู ุญุงูุ
ุงู ฺฉุฏ ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ูโุฑูุฏ ฺฉุงุฑ ูโฺฉูุฏ!</p>
<p>ูุชุฏ <code>push</code> ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ ู ุขู ุฑุง ุจู <code>String</code> ุงุถุงูู ูโฺฉูุฏ. ูุณุช ธ-ฑท
ุญุฑู <em>l</em> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>push</code> ุจู ฺฉ <code>String</code> ุงุถุงูู ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut s = String::from("lo");
    s.push('l');
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-17: ุงุถุงูู ฺฉุฑุฏู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุจู ููุฏุงุฑ <code>String</code> ุจุง ุงุณุชูุงุฏู ุงุฒ <code>push</code></figcaption>
</figure>
<p>ุฏุฑ ูุชุฌูุ ููุฏุงุฑ <code>s</code> ุดุงูู <code>lol</code> ุฎูุงูุฏ ุจูุฏ.</p>
<h4 id="ุงูุญุงู-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุนููฺฏุฑ--ุง-ูุงฺฉุฑู-format"><a class="header" href="#ุงูุญุงู-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุนููฺฏุฑ--ุง-ูุงฺฉุฑู-format">ุงูุญุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>+</code> ุง ูุงฺฉุฑู <code>format!</code></a></h4>
<p>ุงุบูุจุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุฏู ุฑุดุชู ููุฌูุฏ ุฑุง ุจุง ูู ุชุฑฺฉุจ ฺฉูุฏ. ฺฉ ุงุฒ ุฑุงูโูุง ุงูุฌุงู ุงู ฺฉุงุฑ
ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>+</code> ุงุณุชุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ธ-ฑธ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s1 = String::from("Hello, ");
    let s2 = String::from("world!");
    let s3 = s1 + &amp;s2; // note s1 has been moved here and can no longer be used
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-18: ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>+</code> ุจุฑุง ุชุฑฺฉุจ ุฏู ููุฏุงุฑ <code>String</code> ุฏุฑ ฺฉ ููุฏุงุฑ <code>String</code> ุฌุฏุฏ</figcaption>
</figure>
<p>ููุฏุงุฑ <code>s3</code> ุดุงูู <code>Hello, world!</code> ุฎูุงูุฏ ุจูุฏ. ุฏูู ุงูฺฉู <code>s1</code> ูพุณ ุงุฒ ุงู ุงูุญุงู ุฏฺฏุฑ ูุนุชุจุฑ ูุณุช
ู ุฏูู ุงูฺฉู ูุง ุงุฒ ฺฉ ูุฑุฌุน ุจู <code>s2</code> ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุจู ุงูุถุง ูุชุฏ ฺฉู ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ
ุนููฺฏุฑ <code>+</code> ูุฑุงุฎูุงู ูโุดูุฏ ูุฑุจูุท ุงุณุช. ุนููฺฏุฑ <code>+</code> ุงุฒ ูุชุฏ <code>add</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุงูุถุง ุขู ุจู ุดฺฉู ุฒุฑ ุงุณุช:</p>
<pre><code class="language-rust ignore">fn add(self, s: &amp;str) -&gt; String {</code></pre>
<p>ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏุ ุดูุง <code>add</code> ุฑุง ุฎูุงูุฏ ุฏุฏ ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ู ุงููุงุน ูุฑุชุจุท ุชุนุฑู ุดุฏู ุงุณุช.
ุงูุฌุงุ ูุง ุงููุงุน ูุดุฎุต ุฑุง ุฌุงฺฏุฒู ฺฉุฑุฏูโุงูุ ฺฉู ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ููฺฏุงู ูุฑุงุฎูุงู ุงู ูุชุฏ ุจุง ููุงุฏุฑ
<code>String</code> ุงุชูุงู ูโุงูุชุฏ. ุฏุฑุจุงุฑู ุฌูุฑฺฉโูุง ุฏุฑ ูุตู ฑฐ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุงู ุงูุถุง ุจู ูุง ุณุฑูุฎโูุง ูโุฏูุฏ
ุชุง ุจุชูุงูู ุจุฎุดโูุง ฺุงูุดโุจุฑุงูฺฏุฒ ุนููฺฏุฑ <code>+</code> ุฑุง ุฏุฑฺฉ ฺฉูู.</p>
<p>ุงููุ <code>s2</code> ฺฉ <code>&amp;</code> ุฏุงุฑุฏุ ุจู ุงู ูุนู ฺฉู ูุง ฺฉ <em>ูุฑุฌุน</em> ุงุฒ ุฑุดุชู ุฏูู ุฑุง ุจู ุฑุดุชู ุงูู ุงุถุงูู ูโฺฉูู.
ุงู ุจู ุฏูู ูพุงุฑุงูุชุฑ <code>s</code> ุฏุฑ ุชุงุจุน <code>add</code> ุงุณุช: ูุง ููุท ูโุชูุงูู ฺฉ <code>&amp;str</code> ุฑุง ุจู ฺฉ <code>String</code> ุงุถุงูู ฺฉููุ
ููโุชูุงูู ุฏู ููุฏุงุฑ <code>String</code> ุฑุง ุจุง ูู ุฌูุน ฺฉูู. ุงูุง ุตุจุฑ ฺฉูุฏโููุน <code>&amp;s2</code>ุ <code>&amp;String</code> ุงุณุชุ ูู <code>&amp;str</code>
ููุงูุทูุฑ ฺฉู ุฏุฑ ูพุงุฑุงูุชุฑ ุฏูู <code>add</code> ูุดุฎุต ุดุฏู ุงุณุช. ูพุณ ฺุฑุง ฺฉุฏ ุฏุฑ ูุณุช ธ-ฑธ ฺฉุงููพุงู ูโุดูุฏุ</p>
<p>ุฏูู ุงูฺฉู ูโุชูุงูู ุงุฒ <code>&amp;s2</code> ุฏุฑ ูุฑุงุฎูุงู <code>add</code> ุงุณุชูุงุฏู ฺฉูู ุงู ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุขุฑฺฏููุงู
<code>&amp;String</code> ุฑุง ุจู <code>&amp;str</code> ุชุจุฏู ฺฉูุฏ. ููฺฏุงู ฺฉู ูุง ูุชุฏ <code>add</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ Rust ุงุฒ ฺฉ
<em>coercion deref</em> ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุฏุฑ ุงูุฌุง <code>&amp;s2</code> ุฑุง ุจู <code>&amp;s2[..]</code> ุชุจุฏู ูโฺฉูุฏ. ูุง ุงู ููุถูุน
ุฑุง ุฏุฑ ูุตู ฑต ุจู ุทูุฑ ุนููโุชุฑ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุงุฒ ุขูุฌุง ฺฉู <code>add</code> ูุงูฺฉุช ูพุงุฑุงูุชุฑ <code>s</code> ุฑุง ููโฺฏุฑุฏุ
<code>s2</code> ูพุณ ุงุฒ ุงู ุนููุงุช ููฺูุงู ฺฉ <code>String</code> ูุนุชุจุฑ ุจุงู ุฎูุงูุฏ ูุงูุฏ.</p>
<p>ุฏููุ ูโุชูุงูู ุฏุฑ ุงูุถุง ุจุจูู ฺฉู <code>add</code> ูุงูฺฉุช <code>self</code> ุฑุง ูโฺฏุฑุฏ ุฒุฑุง <code>self</code> ฺฉ <code>&amp;</code> ูุฏุงุฑุฏ.
ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู <code>s1</code> ุฏุฑ ูุณุช ธ-ฑธ ุจู ูุฑุงุฎูุงู <code>add</code> ููุชูู ูโุดูุฏ ู ูพุณ ุงุฒ ุขู ุฏฺฏุฑ ูุนุชุจุฑ ูุฎูุงูุฏ ุจูุฏ.
ุจูุงุจุฑุงูุ ุงฺฏุฑฺู <code>let s3 = s1 + &amp;s2;</code> ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ูุฑ ุฏู ุฑุดุชู ุฑุง ฺฉูพ ูโฺฉูุฏ ู ฺฉ ุฑุดุชู ุฌุฏุฏ ุงุฌุงุฏ
ูโฺฉูุฏุ ุงู ุนุจุงุฑุช ุฏุฑ ูุงูุน ูุงูฺฉุช <code>s1</code> ุฑุง ูโฺฏุฑุฏุ ฺฉ ฺฉูพ ุงุฒ ูุญุชูุง <code>s2</code> ุฑุง ุงุถุงูู ูโฺฉูุฏุ ู ุณูพุณ ูุงูฺฉุช
ูุชุฌู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ฺฉูพโูุง ุฒุงุฏ ุงูุฌุงู ูโุฏูุฏุ ุงูุง ุงูุทูุฑ ูุณุชุ
ูพุงุฏูโุณุงุฒ ฺฉุงุฑุขูุฏุชุฑ ุงุฒ ฺฉูพ ฺฉุฑุฏู ุงุณุช.</p>
<p>ุงฺฏุฑ ูุงุฒ ุจู ุงูุญุงู ฺูุฏู ุฑุดุชู ุฏุงุดุชู ุจุงุดูุ ุฑูุชุงุฑ ุนููฺฏุฑ <code>+</code> ุฏุณุชโููพุงฺฏุฑ ูโุดูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s1 = String::from("tic");
    let s2 = String::from("tac");
    let s3 = String::from("toe");

    let s = s1 + "-" + &amp;s2 + "-" + &amp;s3;
<span class="boring">}</span></code></pre></pre>
<p>ุฏุฑ ุงู ููุทูุ ููุฏุงุฑ <code>s</code> ุจุฑุงุจุฑ ุจุง <code>tic-tac-toe</code> ุฎูุงูุฏ ุจูุฏ. ุจุง ุชูุงู ุงู <code>+</code> ู ฺฉุงุฑุงฺฉุชุฑูุง <code>"</code>ุ
ุฏุฏู ุงูฺฉู ฺู ุงุชูุงู ูโุงูุชุฏ ุฏุดูุงุฑ ุงุณุช. ุจุฑุง ุชุฑฺฉุจ ุฑุดุชูโูุง ุจู ุฑูุดโูุง ูพฺุฏูโุชุฑุ ูโุชูุงูู
ุจู ุฌุง ุขู ุงุฒ ูุงฺฉุฑู <code>format!</code> ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s1 = String::from("tic");
    let s2 = String::from("tac");
    let s3 = String::from("toe");

    let s = format!("{s1}-{s2}-{s3}");
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ูุฒ ููุฏุงุฑ <code>s</code> ุฑุง ุจู <code>tic-tac-toe</code> ุชูุธู ูโฺฉูุฏ. ูุงฺฉุฑู <code>format!</code> ุดุจู ุจู <code>println!</code> ฺฉุงุฑ ูโฺฉูุฏุ
ุงูุง ุจู ุฌุง ฺุงูพ ุฎุฑูุฌ ุฑู ุตูุญูุ ฺฉ <code>String</code> ุจุง ูุญุชูุง ููุฑุฏ ูุธุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุณุฎู ฺฉุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ
<code>format!</code> ุจุณุงุฑ ุฎูุงูุงุชุฑ ุงุณุช ู ฺฉุฏ ฺฉู ุชูุณุท ูุงฺฉุฑู <code>format!</code> ุชููุฏ ูโุดูุฏ ุงุฒ ูุฑุงุฌุน ุงุณุชูุงุฏู ูโฺฉูุฏุ
ุจูุงุจุฑุงู ุงู ูุฑุงุฎูุงู ูุงูฺฉุช ูฺโฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุงุด ุฑุง ููโฺฏุฑุฏ.</p>
<h3 id="ุงูุฏุณฺฏุฐุงุฑ-ุฏุฑ-ุฑุดุชููุง"><a class="header" href="#ุงูุฏุณฺฏุฐุงุฑ-ุฏุฑ-ุฑุดุชููุง">ุงูุฏุณโฺฏุฐุงุฑ ุฏุฑ ุฑุดุชูโูุง</a></h3>
<p>ุฏุฑ ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑุ ุฏุณุชุฑุณ ุจู ฺฉุงุฑุงฺฉุชุฑูุง ูููุฑุฏ ุฏุฑ ฺฉ ุฑุดุชู ุจุง ุงุดุงุฑู ุจู ุขูโูุง
ุชูุณุท ุงูุฏุณ (index)ฺฉ ุนููุงุช ูุนุชุจุฑ ู ุฑุงุฌ ุงุณุช. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุชูุงุด ฺฉูุฏ ุฏุฑ Rust ุจุง ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ
ุงูุฏุณโฺฏุฐุงุฑ ุจู ุจุฎุดโูุง ุงุฒ ฺฉ <code>String</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏุ ุจุง ุฎุทุง ููุงุฌู ูโุดูุฏ. ฺฉุฏ ูุงูุนุชุจุฑ
ุฏุฑ ูุณุช ธ-ฑน ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let s1 = String::from("hello");
    let h = s1[0];
<span class="boring">}</span></code></pre>
<figcaption>Listing 8-19: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ ุงูุฏุณโฺฏุฐุงุฑ ุจุง ฺฉ <code>String</code></figcaption>
</figure>
<p>ุงู ฺฉุฏ ุจู ุฎุทุง ุฒุฑ ููุฌุฑ ุฎูุงูุฏ ุดุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling collections v0.1.0 (file:///projects/collections)
error[E0277]: the type `str` cannot be indexed by `{integer}`
 --&gt; src/main.rs:3:16
  |
3 |     let h = s1[0];
  |                ^ string indices are ranges of `usize`
  |
  = help: the trait `SliceIndex&lt;str&gt;` is not implemented for `{integer}`, which is required by `String: Index&lt;_&gt;`
  = note: you can use `.chars().nth()` or `.bytes().nth()`
          for more information, see chapter 8 in The Book: &lt;https://doc.rust-lang.org/book/ch08-02-strings.html#indexing-into-strings&gt;
  = help: the trait `SliceIndex&lt;[_]&gt;` is implemented for `usize`
  = help: for that trait implementation, expected `[_]`, found `str`
  = note: required for `String` to implement `Index&lt;{integer}&gt;`

For more information about this error, try `rustc --explain E0277`.
error: could not compile `collections` (bin "collections") due to 1 previous error
</code></pre>
<p>ุฎุทุง ู ุชูุถุญุงุช ุขู ฺฏูุง ููุถูุน ุงุณุช: ุฑุดุชูโูุง Rust ุงุฒ ุงูุฏุณโฺฏุฐุงุฑ ูพุดุชุจุงู ููโฺฉููุฏ. ุงูุง ฺุฑุงุ
ุจุฑุง ูพุงุณุฎ ุจู ุงู ุณุคุงูุ ุจุงุฏ ุฏุฑุจุงุฑู ูุญูู ุฐุฎุฑูโุณุงุฒ ุฑุดุชูโูุง ุฏุฑ ุญุงูุธู ุชูุณุท Rust ุตุญุจุช ฺฉูู.</p>
<h4 id="ููุงุด-ุฏุงุฎู"><a class="header" href="#ููุงุด-ุฏุงุฎู">ููุงุด ุฏุงุฎู</a></h4>
<p>ฺฉ <code>String</code> ุฏุฑ ูุงูุน ฺฉ ูพูุดุด ุจุฑ ุฑู <code>Vec&lt;u8&gt;</code> ุงุณุช. ุจุงุฏ ุจู ุจุฑุฎ ุงุฒ ูุซุงูโูุง ุฑุดุชูโูุง ฺฉุฏฺฏุฐุงุฑ
ุดุฏู UTF-8 ุฏุฑ ูุณุช ธ-ฑด ูฺฏุงู ฺฉูู. ุงุจุชุฏุง ุงู ููุฑุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let hello = String::from("ุงูุณูุงู ุนูููู");
</span><span class="boring">    let hello = String::from("Dobrรฝ den");
</span><span class="boring">    let hello = String::from("Hello");
</span><span class="boring">    let hello = String::from("ืฉืืื");
</span><span class="boring">    let hello = String::from("เคจเคฎเคธเฅเคคเฅ");
</span><span class="boring">    let hello = String::from("ใใใซใกใฏ");
</span><span class="boring">    let hello = String::from("์๋ํ์ธ์");
</span><span class="boring">    let hello = String::from("ไฝๅฅฝ");
</span><span class="boring">    let hello = String::from("Olรก");
</span><span class="boring">    let hello = String::from("ะะดัะฐะฒััะฒัะนัะต");
</span>    let hello = String::from("Hola");
<span class="boring">}</span></code></pre></pre>
<p>ุฏุฑ ุงู ุญุงูุชุ ููุฏุงุฑ <code>len</code> ุจุฑุงุจุฑ ุจุง <code>4</code> ุฎูุงูุฏ ุจูุฏุ ุจู ุงู ูุนู ฺฉู ุจุฑุฏุงุฑ ฺฉู ุฑุดุชู <code>"Hola"</code> ุฑุง
ุฐุฎุฑู ูโฺฉูุฏ ด ุจุงุช ุทูู ุฏุงุฑุฏ. ูุฑ ฺฉ ุงุฒ ุงู ุญุฑูู ููฺฏุงู ฺฉุฏฺฏุฐุงุฑ ุฏุฑ UTF-8 ฺฉ ุจุงุช ูโฺฏุฑุฏ.
ุจุง ุงู ุญุงูุ ุฎุท ุฒุฑ ููฺฉู ุงุณุช ุดูุง ุฑุง ุดฺฏูุชโุฒุฏู ฺฉูุฏ (ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ุฑุดุชู ุจุง ุญุฑู ุจุฒุฑฺฏ
ุณุฑูฺฉ <em>Ze</em> ุขุบุงุฒ ูโุดูุฏุ ูู ุนุฏุฏ ณ):</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let hello = String::from("ุงูุณูุงู ุนูููู");
</span><span class="boring">    let hello = String::from("Dobrรฝ den");
</span><span class="boring">    let hello = String::from("Hello");
</span><span class="boring">    let hello = String::from("ืฉืืื");
</span><span class="boring">    let hello = String::from("เคจเคฎเคธเฅเคคเฅ");
</span><span class="boring">    let hello = String::from("ใใใซใกใฏ");
</span><span class="boring">    let hello = String::from("์๋ํ์ธ์");
</span><span class="boring">    let hello = String::from("ไฝๅฅฝ");
</span><span class="boring">    let hello = String::from("Olรก");
</span>    let hello = String::from("ะะดัะฐะฒััะฒัะนัะต");
<span class="boring">    let hello = String::from("Hola");
</span><span class="boring">}</span></code></pre></pre>
<p>ุงฺฏุฑ ุงุฒ ุดูุง ูพุฑุณุฏู ุดูุฏ ุทูู ุงู ุฑุดุชู ฺูุฏุฑ ุงุณุชุ ููฺฉู ุงุณุช ุจฺฏูุฏ ฑฒ. ุงูุง ุฏุฑ ูุงูุนุ ูพุงุณุฎ Rust
ฒด ุงุณุช: ุงู ุชุนุฏุงุฏ ุจุงุชโูุง ุงุณุช ฺฉู ุจุฑุง ฺฉุฏฺฏุฐุงุฑ โะะดัะฐะฒััะฒัะนัะตโ ุฏุฑ UTF-8 ูุงุฒ ุงุณุชุ ุฒุฑุง ูุฑ ููุฏุงุฑ
ุงุณฺฉุงูุฑ Unicode ุฏุฑ ุงู ุฑุดุชู ฒ ุจุงุช ูุถุง ุฐุฎุฑูโุณุงุฒ ูโฺฏุฑุฏ. ุจูุงุจุฑุงูุ ฺฉ ุงูุฏุณ (index)ุฏุฑ ุจุงุชโูุง ุฑุดุชู
ููุดู ุจุง ฺฉ ููุฏุงุฑ ุงุณฺฉุงูุฑ Unicode ูุนุชุจุฑ ูุทุงุจูุช ูุฏุงุฑุฏ. ุจุฑุง ูุดุงู ุฏุงุฏู ุงู ููุถูุนุ ฺฉุฏ ูุงูุนุชุจุฑ
ุฒุฑ ุฏุฑ Rust ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:</p>
<pre><code class="language-rust ignore does_not_compile">let hello = "ะะดัะฐะฒััะฒัะนัะต";
let answer = &amp;hello[0];</code></pre>
<p>ุดูุง ูุจูุงู ูโุฏุงูุฏ ฺฉู ููุฏุงุฑ <code>answer</code> ุจุฑุงุจุฑ ุจุง <code>ะ</code>ุ ุงููู ุญุฑูุ ูุฎูุงูุฏ ุจูุฏ. ููุช ุฏุฑ UTF-8 ฺฉุฏฺฏุฐุงุฑ
ูโุดูุฏุ ุงููู ุจุงุช ุงุฒ <code>ะ</code> ุจุฑุงุจุฑ ุจุง <code>208</code> ู ุฏููู ุจุงุช ุจุฑุงุจุฑ ุจุง <code>151</code> ุงุณุชุ ุจูุงุจุฑุงู ููฺฉู ุงุณุช ุจู ูุธุฑ
ุจุฑุณุฏ ฺฉู <code>answer</code> ุจุงุฏ ุฏุฑ ูุงูุน <code>208</code> ุจุงุดุฏุ ุงูุง <code>208</code> ุจู ุชููุง ฺฉ ฺฉุงุฑุงฺฉุชุฑ ูุนุชุจุฑ ูุณุช. ุจุงุฒฺฏุฑุฏุงูุฏู
<code>208</code> ุงุญุชูุงูุงู ฺุฒ ูุณุช ฺฉู ฺฉ ฺฉุงุฑุจุฑ ุจุฎูุงูุฏ ุงฺฏุฑ ุฏุฑุฎูุงุณุช ุงููู ุญุฑู ุงู ุฑุดุชู ุฑุง ุฏุงุดุชู ุจุงุดุฏุ
ุจุง ุงู ุญุงูุ ุงู ุชููุง ุฏุงุฏูโุง ุงุณุช ฺฉู Rust ุฏุฑ ุงูุฏุณ (index)ุจุงุช ฐ ุฏุงุฑุฏ. ฺฉุงุฑุจุฑุงู ุจู ุทูุฑ ฺฉู ููโุฎูุงููุฏ
ููุฏุงุฑ ุจุงุช ุจุงุฒฺฏุฑุฏุงูุฏู ุดูุฏุ ุญุช ุงฺฏุฑ ุฑุดุชู ููุท ุญุฑูู ูุงุชู ุฏุงุดุชู ุจุงุดุฏ: ุงฺฏุฑ <code>&amp;"hi"[0]</code> ฺฉ ฺฉุฏ ูุนุชุจุฑ
ุจูุฏ ฺฉู ููุฏุงุฑ ุจุงุช ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ููุฏุงุฑ <code>104</code> ู ูู <code>h</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูพุงุณุฎ ุงู ุงุณุช ฺฉู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ ููุฏุงุฑ ุบุฑููุชุธุฑู ู ุงุฌุงุฏ ุจุงฺฏโูุง ฺฉู ููฺฉู ุงุณุช ููุฑุงู
ฺฉุดู ูุดููุฏุ Rust ุงู ฺฉุฏ ุฑุง ุงุตูุงู ฺฉุงููพุงู ููโฺฉูุฏ ู ุงุฒ ุณูุกุชูุงููโูุง ุฏุฑ ุงูุงู ูุฑุขูุฏ ุชูุณุนู ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<h4 id="ุจุงุชูุง-ููุงุฏุฑ-ุงุณฺฉุงูุฑ-ู-ุฎูุดููุง-ฺฏุฑุงูู-ุงูู-ุฎุฏุง-ูู"><a class="header" href="#ุจุงุชูุง-ููุงุฏุฑ-ุงุณฺฉุงูุฑ-ู-ุฎูุดููุง-ฺฏุฑุงูู-ุงูู-ุฎุฏุง-ูู">ุจุงุชโูุงุ ููุงุฏุฑ ุงุณฺฉุงูุฑ ู ุฎูุดูโูุง ฺฏุฑุงูู! ุงูู ุฎุฏุง ูู!</a></h4>
<p>ูฺฉุชู ุฏฺฏุฑ ุฏุฑุจุงุฑู UTF-8 ุงู ุงุณุช ฺฉู ุฏุฑ ูุงูุน ุณู ุฑูุด ูุฑุชุจุท ุจุฑุง ูุดุงูุฏู ุฑุดุชูโูุง ุงุฒ ุฏุฏฺฏุงู Rust ูุฌูุฏ ุฏุงุฑุฏ:
ุจู ุตูุฑุช ุจุงุชุ ููุงุฏุฑ ุงุณฺฉุงูุฑุ ู ุฎูุดูโูุง ฺฏุฑุงูู (ูุฒุฏฺฉโุชุฑู ฺุฒ ุจู ฺุฒ ฺฉู ูุง <em>ุญุฑูู</em> ูโูุงูู).</p>
<p>ุงฺฏุฑ ุจู ฺฉููู ููุฏ โเคจเคฎเคธเฅเคคเฅโ ููุดุชู ุดุฏู ุฏุฑ ุงุณฺฉุฑูพุช Devanagari ูฺฏุงู ฺฉููุ ุงู ฺฉููู ุจู ุตูุฑุช ฺฉ ุจุฑุฏุงุฑ
ุงุฒ ููุงุฏุฑ <code>u8</code> ุฐุฎุฑู ูโุดูุฏ ฺฉู ุจู ุดฺฉู ุฒุฑ ุงุณุช:</p>
<pre><code class="language-text">[224, 164, 168, 224, 164, 174, 224, 164, 184, 224, 165, 141, 224, 164, 164,
224, 165, 135]
</code></pre>
<p>ุงู ฑธ ุจุงุช ุงุณุช ู ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ฺฉุงููพูุชุฑูุง ุฏุฑ ููุงุช ุงู ุฏุงุฏู ุฑุง ุฐุฎุฑู ูโฺฉููุฏ.
ุงฺฏุฑ ุจู ุขูโูุง ุจู ุนููุงู ููุงุฏุฑ ุงุณฺฉุงูุฑ Unicode ูฺฏุงู ฺฉููุ ฺฉู ููุงู ููุน <code>char</code> ุฏุฑ Rust ุงุณุชุ ุงู ุจุงุชโูุง
ุจู ุงู ุตูุฑุช ุจู ูุธุฑ ูโุฑุณูุฏ:</p>
<pre><code class="language-text">['เคจ', 'เคฎ', 'เคธ', 'เฅ', 'เคค', 'เฅ']
</code></pre>
<p>ุงูุฌุง ุดุด ููุฏุงุฑ <code>char</code> ูุฌูุฏ ุฏุงุฑุฏุ ุงูุง ููุฏุงุฑ ฺูุงุฑู ู ุดุดู ุญุฑูู ูุณุชูุฏ: ุงูโูุง ุฏุงฺฉุฑุชฺฉโูุง ูุณุชูุฏ ฺฉู
ุจู ุชููุง ูุนูุง ูุฏุงุฑูุฏ. ุฏุฑ ููุงุชุ ุงฺฏุฑ ุจู ุขูโูุง ุจู ุนููุงู ุฎูุดูโูุง ฺฏุฑุงูู ูฺฏุงู ฺฉููุ ููุงู ฺุฒ
ฺฉู ฺฉ ูุฑุฏ ุจู ุนููุงู ุญุฑูู ฺฉููู ููุฏ ุชุดุฎุต ูโุฏูุฏุ ุงูุทูุฑ ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-text">["เคจ", "เคฎ", "เคธเฅ", "เคคเฅ"]
</code></pre>
<p>Rust ุฑูุดโูุง ูุฎุชูู ุจุฑุง ุชูุณุฑ ุฏุงุฏู ุฎุงู ุฑุดุชู ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ฺฉุงููพูุชุฑูุง ุฐุฎุฑู ูโฺฉููุฏุ ุจูุงุจุฑุงู ูุฑ
ุจุฑูุงูู ูโุชูุงูุฏ ุชูุณุฑ ุฑุง ฺฉู ูุงุฒ ุฏุงุฑุฏ ุงูุชุฎุงุจ ฺฉูุฏุ ุตุฑู ูุธุฑ ุงุฒ ุงูฺฉู ุฏุงุฏู ุจู ฺู ุฒุจุงู ุงูุณุงู ุงุณุช.</p>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ุฏูุงู ุงูฺฉู Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ุฏุฑ ฺฉ <code>String</code> ุงูุฏุณโฺฏุฐุงุฑ ฺฉูู ุชุง ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุฑุง
ุฏุฑุงูุช ฺฉูู ุงู ุงุณุช ฺฉู ุนููุงุช ุงูุฏุณโฺฏุฐุงุฑ ุจุงุฏ ููุดู ุฏุฑ ุฒูุงู ุซุงุจุช (O(1)) ุงูุฌุงู ุดูุฏ. ุงูุง ุงูฺฉุงู
ุชุถูู ุงู ุนููฺฉุฑุฏ ุจุง ฺฉ <code>String</code> ูุฌูุฏ ูุฏุงุฑุฏุ ุฒุฑุง Rust ุจุงุฏ ูุญุชูุงุช ุฑุง ุงุฒ ุงุจุชุฏุง ุชุง ุงูุฏุณ (index)ูุฑูุฑ ฺฉูุฏ ุชุง
ุชุนู ฺฉูุฏ ฺฉู ฺูุฏ ฺฉุงุฑุงฺฉุชุฑ ูุนุชุจุฑ ูุฌูุฏ ุฏุงุฑุฏ.</p>
<h3 id="ุจุฑุด-ุฑุดุชููุง"><a class="header" href="#ุจุฑุด-ุฑุดุชููุง">ุจุฑุด ุฑุดุชูโูุง</a></h3>
<p>ุงูุฏุณโฺฏุฐุงุฑ ุฏุฑ ฺฉ ุฑุดุชู ุงุบูุจ ุงุฏู ุฎูุจ ูุณุช ุฒุฑุง ูุดุฎุต ูุณุช ฺฉู ููุน ุจุงุฒฺฏุดุช ุนููุงุช ุงูุฏุณโฺฏุฐุงุฑ
ุฑุดุชู ฺู ุจุงุฏ ุจุงุดุฏ: ฺฉ ููุฏุงุฑ ุจุงุชุ ฺฉ ฺฉุงุฑุงฺฉุชุฑุ ฺฉ ุฎูุดู ฺฏุฑุงููุ ุง ฺฉ ูุทุนู ุฑุดุชู. ุจูุงุจุฑุงูุ
ุงฺฏุฑ ูุงูุนุงู ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุงูุฏุณโูุง ุจุฑุง ุงุฌุงุฏ ูุทุนูโูุง ุฑุดุชู ุฏุงุฑุฏุ Rust ุงุฒ ุดูุง ูโุฎูุงูุฏ
ุจุดุชุฑ ูุดุฎุต ฺฉูุฏ.</p>
<p>ุจู ุฌุง ุงูุฏุณโฺฏุฐุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>[]</code> ู ฺฉ ุนุฏุฏุ ูโุชูุงูุฏ ุงุฒ <code>[]</code> ุจุง ฺฉ ุจุงุฒู ุงุณุชูุงุฏู ฺฉูุฏ
ุชุง ฺฉ ูุทุนู ุฑุดุชู ฺฉู ุดุงูู ุจุงุชโูุง ุฎุงุต ุงุณุช ุงุฌุงุฏ ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let hello = "ะะดัะฐะฒััะฒัะนัะต";

let s = &amp;hello[0..4];
<span class="boring">}</span></code></pre></pre>
<p>ุงูุฌุงุ <code>s</code> ฺฉ <code>&amp;str</code> ุฎูุงูุฏ ุจูุฏ ฺฉู ุดุงูู ฺูุงุฑ ุจุงุช ุงูู ุฑุดุชู ุงุณุช. ูพุดโุชุฑ ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ูุฑ
ฺฉ ุงุฒ ุงู ฺฉุงุฑุงฺฉุชุฑูุง ุฏู ุจุงุช ุทูู ุฏุงุฑูุฏุ ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ููุฏุงุฑ <code>s</code> ุจุฑุงุจุฑ ุจุง <code>ะะด</code> ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุงฺฏุฑ ุณุน ฺฉูู ููุท ุจุฎุด ุงุฒ ุจุงุชโูุง ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุฑุง ุจุง ฺุฒ ูุซู <code>&amp;hello[0..1]</code> ุจุฑุด ุฏููุ
Rust ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฏฺุงุฑ ุฎุทุง ูโุดูุฏุ ุจู ููุงู ุดฺฉู ฺฉู ุงฺฏุฑ ฺฉ ุงูุฏุณ (index)ูุงูุนุชุจุฑ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ
ุฏุณุชุฑุณ ุฏุงุฏู ุดูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling collections v0.1.0 (file:///projects/collections)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.43s
     Running `target/debug/collections`
thread 'main' panicked at src/main.rs:4:19:
byte index 1 is not a char boundary; it is inside 'ะ' (bytes 0..2) of `ะะดัะฐะฒััะฒัะนัะต`
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ููฺฏุงู ุงุฌุงุฏ ูุทุนูโูุง ุฑุดุชู ุจุง ุจุงุฒูโูุง ุจุงุฏ ุงุญุชุงุท ฺฉูุฏุ ุฒุฑุง ุงู ฺฉุงุฑ ููฺฉู ุงุณุช ุจุงุนุซ ุฎุฑุงุจ
ุจุฑูุงูู ุดูุง ุดูุฏ.</p>
<h3 id="ูุชุฏูุง-ุจุฑุง-ูพูุงุด-ุฏุฑ-ุฑุดุชููุง"><a class="header" href="#ูุชุฏูุง-ุจุฑุง-ูพูุงุด-ุฏุฑ-ุฑุดุชููุง">ูุชุฏูุง ุจุฑุง ูพูุงุด ุฏุฑ ุฑุดุชูโูุง</a></h3>
<p>ุจูุชุฑู ุฑุงู ุจุฑุง ฺฉุงุฑ ุจุง ุจุฎุดโูุง ุงุฒ ุฑุดุชูโูุง ุงู ุงุณุช ฺฉู ุจู ูุถูุญ ูุดุฎุต ฺฉูุฏ ฺฉู ุขุง ูโุฎูุงูุฏ
ุฑู ฺฉุงุฑุงฺฉุชุฑูุง ุง ุจุงุชโูุง ฺฉุงุฑ ฺฉูุฏ. ุจุฑุง ููุงุฏุฑ ุงุณฺฉุงูุฑ Unicode ูููุฑุฏุ ุงุฒ ูุชุฏ <code>chars</code> ุงุณุชูุงุฏู ฺฉูุฏ.
ูุฑุงุฎูุงู <code>chars</code> ุฑู <code>"ะะด"</code> ุฏู ููุฏุงุฑ ุงุฒ ููุน <code>char</code> ุฑุง ุฌุฏุง ฺฉุฑุฏู ู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ู ูโุชูุงูุฏ
ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฌู ูพูุงุด ฺฉูุฏ ุชุง ุจู ูุฑ ุนูุตุฑ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for c in "ะะด".chars() {
    println!("{c}");
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-text">ะ
ะด
</code></pre>
<p>ุจู ุตูุฑุช ุฌุงฺฏุฒูุ ูุชุฏ <code>bytes</code> ูุฑ ุจุงุช ุฎุงู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ููฺฉู ุงุณุช ุจุฑุง ุญูุฒู ฺฉุงุฑ ุดูุง ููุงุณุจ ุจุงุดุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for b in "ะะด".bytes() {
    println!("{b}");
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ฺูุงุฑ ุจุงุช ฺฉู ุงู ุฑุดุชู ุฑุง ุชุดฺฉู ูโุฏููุฏ ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-text">208
151
208
180
</code></pre>
<p>ุงูุง ุญุชูุงู ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุงุฏุฑ ุงุณฺฉุงูุฑ Unicode ูุนุชุจุฑ ููฺฉู ุงุณุช ุงุฒ ุจุด ุงุฒ ฺฉ ุจุงุช ุชุดฺฉู ุดุฏู ุจุงุดูุฏ.</p>
<p>ุฏุฑุงูุช ุฎูุดูโูุง ฺฏุฑุงูู ุงุฒ ุฑุดุชูโูุงุ ููุงููุฏ ุงุณฺฉุฑูพุช Devanagariุ ูพฺุฏู ุงุณุชุ ุจูุงุจุฑุงู ุงู ูุงุจูุช
ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ููโุดูุฏ. ุงฺฏุฑ ุจู ุงู ูุงุจูุช ูุงุฒ ุฏุงุฑุฏุ ฺฉุฑุงุชโูุง ุฏุฑ
<a href="https://crates.io/">crates.io</a><!-- ignore --> ููุฌูุฏ ูุณุชูุฏ.</p>
<h3 id="ุฑุดุชููุง-ุงููุฏุฑ-ุณุงุฏู-ูุณุชูุฏ"><a class="header" href="#ุฑุดุชููุง-ุงููุฏุฑ-ุณุงุฏู-ูุณุชูุฏ">ุฑุดุชูโูุง ุงููุฏุฑ ุณุงุฏู ูุณุชูุฏ</a></h3>
<p>ุจู ุทูุฑ ุฎูุงุตูุ ุฑุดุชูโูุง ูพฺุฏู ูุณุชูุฏ. ุฒุจุงูโูุง ุจุฑูุงููโููุณ ูุฎุชูู ุงูุชุฎุงุจโูุง ูุชูุงูุช ุฏุฑุจุงุฑู ูุญูู
ููุงุด ุงู ูพฺุฏฺฏ ุจู ุจุฑูุงููโููุณ ูโฺฉููุฏ. Rust ุงูุชุฎุงุจ ฺฉุฑุฏู ุงุณุช ฺฉู ูุฏุฑุช ุตุญุญ ุฏุงุฏูโูุง
<code>String</code> ุฑูุชุงุฑ ูพุดโูุฑุถ ุจุฑุง ุชูุงู ุจุฑูุงููโูุง Rust ุจุงุดุฏุ ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ุจุฑูุงููโููุณุงู
ุจุงุฏ ุฏุฑ ุงุจุชุฏุง ุจุดุชุฑ ุฏุฑุจุงุฑู ูุฏุฑุช ุฏุงุฏูโูุง UTF-8 ูฺฉุฑ ฺฉููุฏ. ุงู ูุนุงููู ูพฺุฏฺฏ ุจุดุชุฑ ุงุฒ ุฑุดุชูโูุง
ุฑุง ูุณุจุช ุจู ุณุงุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ูุดุงู ูโุฏูุฏุ ุงูุง ุงุฒ ููุงุฌูู ุจุง ุฎุทุงูุง ูุฑุจูุท ุจู ฺฉุงุฑุงฺฉุชุฑูุง
ุบุฑ-ASCII ุฏุฑ ูุฑุงุญู ุจุนุฏ ฺุฑุฎู ุชูุณุนู ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<p>ุฎุจุฑ ุฎูุจ ุงู ุงุณุช ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุนููฺฉุฑุฏูุง ุฒุงุฏ ุฑุง ุจุฑ ุงุณุงุณ ุงููุงุน <code>String</code> ู <code>&amp;str</code>
ุจุฑุง ฺฉูฺฉ ุจู ูุฏุฑุช ุตุญุญ ุงู ุดุฑุงุท ูพฺุฏู ุงุฑุงุฆู ูโุฏูุฏ. ุญุชูุงู ูุณุชูุฏุงุช ุฑุง ุจุฑุง ูุชุฏูุง ููุฏ ูุงููุฏ
<code>contains</code> ุจุฑุง ุฌุณุชุฌู ุฏุฑ ฺฉ ุฑุดุชู ู <code>replace</code> ุจุฑุง ุฌุงฺฏุฒู ุจุฎุดโูุง ุงุฒ ฺฉ ุฑุดุชู ุจุง ุฑุดุชูโุง ุฏฺฏุฑ
ุจุฑุฑุณ ฺฉูุฏ.</p>
<p>ุจุงุฏ ุจู ฺุฒ ฺฉู ฺฉูุชุฑ ูพฺุฏู ุจุฑูู: ูุด ููพโูุง!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฐุฎุฑู-ฺฉูุฏูุง-ุจุง-ููุงุฏุฑ-ูุฑุชุจุท-ุฏุฑ-ูุด-ููพูุง"><a class="header" href="#ุฐุฎุฑู-ฺฉูุฏูุง-ุจุง-ููุงุฏุฑ-ูุฑุชุจุท-ุฏุฑ-ูุด-ููพูุง">ุฐุฎุฑู ฺฉูุฏูุง ุจุง ููุงุฏุฑ ูุฑุชุจุท ุฏุฑ ูุด ููพโูุง</a></h2>
<p>ุขุฎุฑู ููุฑุฏ ุงุฒ ูุฌููุนูโูุง ุฑุงุฌ ูุงุ <em>ูุด ููพ</em> ุงุณุช. ููุน <code>HashMap&lt;K, V&gt;</code> ฺฉ ูฺฏุงุดุช ุงุฒ ฺฉูุฏูุง
ุจุง ููุน <code>K</code> ุจู ููุงุฏุฑ ุจุง ููุน <code>V</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ <em>ุชุงุจุน ูุด</em> ุฐุฎุฑู ูโฺฉูุฏุ ฺฉู ุชุนู ูโฺฉูุฏ
ฺฺฏููู ุงู ฺฉูุฏูุง ู ููุงุฏุฑ ุฏุฑ ุญุงูุธู ูุฑุงุฑ ุจฺฏุฑูุฏ. ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุงุฒ ุงู ููุน
ุณุงุฎุชุงุฑ ุฏุงุฏู ูพุดุชุจุงู ูโฺฉููุฏุ ุงูุง ุงุบูุจ ุงุฒ ูุงูโูุง ูุชูุงูุช ูุงููุฏ <em>ูุด</em>ุ <em>ููพ</em>ุ <em>ุดุก</em>ุ
<em>ุฌุฏูู ูุด</em>ุ <em>ุฏุงุฑฺฉุชูุฑ</em>ุ ุง <em>ุขุฑุงู ุงุฑุชุจุงุท</em> ุจุฑุง ุงุดุงุฑู ุจู ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p>ูุด ููพโูุง ุฒูุงู ููุฏ ูุณุชูุฏ ฺฉู ุจุฎูุงูุฏ ุฏุงุฏูโูุง ุฑุง ูู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูุฏุณุ ูุงููุฏ ุจุฑุฏุงุฑูุงุ
ุจูฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ฺฉูุฏ ฺฉู ูโุชูุงูุฏ ูุฑ ููุน ุจุงุดุฏุ ุฌุณุชุฌู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ฺฉ ุจุงุฒุ
ูโุชูุงูุฏ ุงูุชุงุฒ ูุฑ ุชู ุฑุง ุฏุฑ ฺฉ ูุด ููพ ุฐุฎุฑู ฺฉูุฏ ฺฉู ูุฑ ฺฉูุฏ ูุงู ฺฉ ุชู ู ูุฑ ููุฏุงุฑ
ุงูุชุงุฒ ุขู ุชู ุจุงุดุฏ. ุจุง ุฏุงุดุชู ูุงู ฺฉ ุชูุ ูโุชูุงูุฏ ุงูุชุงุฒ ุขู ุฑุง ุจุงุฒุงุจ ฺฉูุฏ.</p>
<p>ุฏุฑ ุงู ุจุฎุดุ ุจู API ุงุตู ูุด ููพโูุง ูโูพุฑุฏุงุฒูุ ุงูุง ุงูฺฉุงูุงุช ุจุดุชุฑ ุฏุฑ ุชูุงุจุน ุชุนุฑู ุดุฏู
ุฑู <code>HashMap&lt;K, V&gt;</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุฌูุฏ ุฏุงุฑุฏ. ูุงููุฏ ููุดูุ ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู
ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุจุฑุฑุณ ฺฉูุฏ.</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-ูุด-ููพ-ุฌุฏุฏ"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ูุด-ููพ-ุฌุฏุฏ">ุงุฌุงุฏ ฺฉ ูุด ููพ ุฌุฏุฏ</a></h3>
<p>ฺฉ ุงุฒ ุฑุงูโูุง ุงุฌุงุฏ ฺฉ ูุด ููพ ุฎุงู ุงุณุชูุงุฏู ุงุฒ <code>new</code> ู ุงูุฒูุฏู ุนูุงุตุฑ ุจุง <code>insert</code> ุงุณุช.
ุฏุฑ ูุณุช ธ-ฒฐุ ูุง ุงูุชุงุฒุงุช ุฏู ุชู ุจู ูุงูโูุง <em>Blue</em> ู <em>Yellow</em> ุฑุง ูพฺฏุฑ ูโฺฉูู. ุชู
ุขุจ ุจุง ฑฐ ุงูุชุงุฒ ู ุชู ุฒุฑุฏ ุจุง ตฐ ุงูุชุงุฒ ุดุฑูุน ูโฺฉููุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let mut scores = HashMap::new();

    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Yellow"), 50);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-20: ุงุฌุงุฏ ฺฉ ูุด ููพ ุฌุฏุฏ ู ุฏุฑุฌ ุชุนุฏุงุฏ ฺฉูุฏ ู ููุฏุงุฑ</figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงุจุชุฏุง ุจุงุฏ <code>HashMap</code> ุฑุง ุงุฒ ุจุฎุด ูุฌููุนูโูุง ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ <code>use</code>
ฺฉูู. ุงุฒ ูุงู ุณู ูุฌููุนู ุฑุงุฌ ูุงุ ุงู ฺฉ ฺฉูุชุฑ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏุ ุจูุงุจุฑุงู ุจู ุทูุฑ
ูพุดโูุฑุถ ุฏุฑ ูุญุฏูุฏู ูุงุฑุฏ ููโุดูุฏ. ููฺููุ ูุด ููพโูุง ุงุฒ ุญูุงุช ฺฉูุชุฑ ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ
ุจุฑุฎูุฑุฏุงุฑูุฏุ ุจุฑุง ูุซุงูุ ูฺ ูุงฺฉุฑู ุฏุงุฎู ุจุฑุง ุณุงุฎุช ุขูโูุง ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>ููุงููุฏ ุจุฑุฏุงุฑูุงุ ูุด ููพโูุง ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ุฑู heap ุฐุฎุฑู ูโฺฉููุฏ. ุงู <code>HashMap</code> ุฏุงุฑุง
ฺฉูุฏูุง ุงุฒ ููุน <code>String</code> ู ููุงุฏุฑ ุงุฒ ููุน <code>i32</code> ุงุณุช. ูุงููุฏ ุจุฑุฏุงุฑูุงุ ูุด ููพโูุง ููฺฏู ูุณุชูุฏ:
ุชูุงู ฺฉูุฏูุง ุจุงุฏ ุงุฒ ฺฉ ููุน ุจุงุดูุฏ ู ุชูุงู ููุงุฏุฑ ูุฒ ุจุงุฏ ุงุฒ ฺฉ ููุน ุจุงุดูุฏ.</p>
<h3 id="ุฏุณุชุฑุณ-ุจู-ููุงุฏุฑ-ุฏุฑ-ฺฉ-ูุด-ููพ"><a class="header" href="#ุฏุณุชุฑุณ-ุจู-ููุงุฏุฑ-ุฏุฑ-ฺฉ-ูุด-ููพ">ุฏุณุชุฑุณ ุจู ููุงุฏุฑ ุฏุฑ ฺฉ ูุด ููพ</a></h3>
<p>ูโุชูุงูู ฺฉ ููุฏุงุฑ ุฑุง ุจุง ุงุฑุงุฆู ฺฉูุฏ ุขู ุจู ูุชุฏ <code>get</code> ุงุฒ ูุด ููพ ุฏุฑุงูุช ฺฉููุ ููุงูุทูุฑ ฺฉู
ุฏุฑ ูุณุช ธ-ฒฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let mut scores = HashMap::new();

    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Yellow"), 50);

    let team_name = String::from("Blue");
    let score = scores.get(&amp;team_name).copied().unwrap_or(0);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-21: ุฏุณุชุฑุณ ุจู ุงูุชุงุฒ ุชู Blue ุฐุฎุฑู ุดุฏู ุฏุฑ ูุด ููพ</figcaption>
</figure>
<p>ุงูุฌุงุ ููุฏุงุฑ <code>score</code> ุจุฑุงุจุฑ ุจุง ููุฏุงุฑ ุฎูุงูุฏ ุจูุฏ ฺฉู ุจู ุชู Blue ูุฑุชุจุท ุงุณุชุ ู ูุชุฌู <code>10</code> ุฎูุงูุฏ ุจูุฏ.
ูุชุฏ <code>get</code> ฺฉ <code>Option&lt;&amp;V&gt;</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงฺฏุฑ ูฺ ููุฏุงุฑ ุจุฑุง ุขู ฺฉูุฏ ุฏุฑ ูุด ููพ ูุฌูุฏ ูุฏุงุดุชู
ุจุงุดุฏุ <code>get</code> ููุฏุงุฑ <code>None</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุจุฑูุงูู ููุฏุงุฑ <code>Option</code> ุฑุง ุจุง ูุฑุงุฎูุงู <code>copied</code>
ุจุฑุง ุฏุฑุงูุช ฺฉ <code>Option&lt;i32&gt;</code> ุจู ุฌุง <code>Option&lt;&amp;i32&gt;</code> ูุฏุฑุช ูโฺฉูุฏุ ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>unwrap_or</code>
ููุฏุงุฑ <code>score</code> ุฑุง ุจู ุตูุฑ ุชูุธู ูโฺฉูุฏ ุงฺฏุฑ <code>scores</code> ฺฉ ูุฑูุฏ ุจุฑุง ฺฉูุฏ ูุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ูโุชูุงูู ุจุฑ ุฑู ูุฑ ุฌูุช ฺฉูุฏโููุฏุงุฑ ุฏุฑ ฺฉ ูุด ููพ ูุดุงุจู ฺฉุงุฑ ฺฉู ุจุง ุจุฑุฏุงุฑูุง ุงูุฌุงู ูโุฏููุ
ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>for</code> ูพูุงุด ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let mut scores = HashMap::new();

    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Yellow"), 50);

    for (key, value) in &amp;scores {
        println!("{key}: {value}");
    }
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ูุฑ ุฌูุช ุฑุง ุจู ุชุฑุชุจ ุฏูุฎูุงู ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-text">Yellow: 50
Blue: 10
</code></pre>
<h3 id="ูุด-ููพูุง-ู-ูุงูฺฉุช"><a class="header" href="#ูุด-ููพูุง-ู-ูุงูฺฉุช">ูุด ููพโูุง ู ูุงูฺฉุช</a></h3>
<p>ุจุฑุง ุงููุงุน ฺฉู ูฺฺฏ <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ูุงููุฏ <code>i32</code>ุ ููุงุฏุฑ ุฏุฑูู ูุด ููพ ฺฉูพ ูโุดููุฏ.
ุจุฑุง ููุงุฏุฑ ูุงูฺฉ ูุงููุฏ <code>String</code>ุ ููุงุฏุฑ ููุชูู ุดุฏู ู ูุด ููพ ูุงูฺฉ ุขูโูุง ุฎูุงูุฏ ุดุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ
ูุณุช ธ-ฒฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let field_name = String::from("Favorite color");
    let field_value = String::from("Blue");

    let mut map = HashMap::new();
    map.insert(field_name, field_value);
    // field_name and field_value are invalid at this point, try using them and
    // see what compiler error you get!
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-22: ูุดุงู ุฏุงุฏู ุงูฺฉู ฺฉูุฏูุง ู ููุงุฏุฑ ูพุณ ุงุฒ ูุงุฑุฏ ุดุฏู ุจู ูุด ููพุ ูุชุนูู ุจู ุขู ูโุดููุฏ</figcaption>
</figure>
<p>ูพุณ ุงุฒ ุงูุชูุงู ูุชุบุฑูุง <code>field_name</code> ู <code>field_value</code> ุจู ูุด ููพ ุจุง ูุฑุงุฎูุงู <code>insert</code>ุ ุฏฺฏุฑ ููโุชูุงูู
ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุงฺฏุฑ ูุฑุงุฌุน ุจู ููุงุฏุฑ ุฑุง ุฏุฑูู ูุด ููพ ูุงุฑุฏ ฺฉููุ ููุงุฏุฑ ุจู ูุด ููพ ููุชูู ูุฎูุงููุฏ ุดุฏ. ููุงุฏุฑ ฺฉู
ูุฑุงุฌุน ุจู ุขูโูุง ุงุดุงุฑู ูโฺฉููุฏ ุจุงุฏ ุญุฏุงูู ุชุง ุฒูุงู ฺฉู ูุด ููพ ูุนุชุจุฑ ุงุณุชุ ูุนุชุจุฑ ุจุงู ุจูุงููุฏ. ุฏุฑุจุงุฑู
ุงู ูุณุงุฆู ุฏุฑ ุจุฎุด <a href="ch10-03-lifetime-syntax.html#validating-references-with-lifetimes">โุชุฃุฏ ูุฑุงุฌุน ุจุง ุนูุฑูุงโ</a><!-- ignore -->
ุฏุฑ ูุตู ฑฐ ุจุดุชุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุจูุฑูุฒุฑุณุงู-ฺฉ-ูุด-ููพ"><a class="header" href="#ุจูุฑูุฒุฑุณุงู-ฺฉ-ูุด-ููพ">ุจูโุฑูุฒุฑุณุงู ฺฉ ูุด ููพ</a></h3>
<p>ุงฺฏุฑฺู ุชุนุฏุงุฏ ุฌูุชโูุง ฺฉูุฏ ู ููุฏุงุฑ ูุงุจู ุงูุฒุงุด ุงุณุชุ ูุฑ ฺฉูุฏ ฺฉุชุง ููุท ูโุชูุงูุฏ ฺฉ ููุฏุงุฑ
ูุฑุชุจุท ุฏุงุดุชู ุจุงุดุฏ (ุงูุง ูู ุจุงูุนฺฉุณ: ุจุฑุง ูุซุงูุ ูุฑ ุฏู ุชู Blue ู Yellow ูโุชูุงููุฏ ููุฏุงุฑ <code>10</code>
ุฑุง ุฏุฑ ูุด ููพ <code>scores</code> ุฐุฎุฑู ฺฉููุฏ).</p>
<p>ููุช ูโุฎูุงูุฏ ุฏุงุฏูโูุง ุฑุง ุฏุฑ ฺฉ ูุด ููพ ุชุบุฑ ุฏูุฏุ ุจุงุฏ ุชุตูู ุจฺฏุฑุฏ ฺฺฏููู ุจุง ุญุงูุช ฺฉู
ฺฉ ฺฉูุฏ ูุจูุงู ุฏุงุฑุง ููุฏุงุฑ ุงุณุช ุจุฑุฎูุฑุฏ ฺฉูุฏ. ูโุชูุงูุฏ ููุฏุงุฑ ูุฏู ุฑุง ุจุง ููุฏุงุฑ ุฌุฏุฏ ุฌุงฺฏุฒู ฺฉูุฏ
ู ููุฏุงุฑ ูุฏู ุฑุง ฺฉุงููุงู ูุงุฏุฏู ุจฺฏุฑุฏ. ูโุชูุงูุฏ ููุฏุงุฑ ูุฏู ุฑุง ูฺฏู ุฏุงุฑุฏ ู ููุฏุงุฑ ุฌุฏุฏ ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏุ
ููุท ููุฏุงุฑ ุฌุฏุฏ ุฑุง ุงุถุงูู ฺฉูุฏ ุงฺฏุฑ ฺฉูุฏ <em>ูุฏุงุฑุฏ</em> ูุจูุงู ฺฉ ููุฏุงุฑ. ุง ูโุชูุงูุฏ ููุฏุงุฑ ูุฏู ู ููุฏุงุฑ ุฌุฏุฏ
ุฑุง ุจุง ูู ุชุฑฺฉุจ ฺฉูุฏ. ุจุงุฏ ุจุจูู ฺฺฏููู ูุฑ ฺฉ ุงุฒ ุงู ฺฉุงุฑูุง ุฑุง ุงูุฌุงู ุฏูู!</p>
<h4 id="ุจุงุฒููุณ-ฺฉ-ููุฏุงุฑ"><a class="header" href="#ุจุงุฒููุณ-ฺฉ-ููุฏุงุฑ">ุจุงุฒููุณ ฺฉ ููุฏุงุฑ</a></h4>
<p>ุงฺฏุฑ ฺฉ ฺฉูุฏ ู ููุฏุงุฑ ุฑุง ุจู ฺฉ ูุด ููพ ูุงุฑุฏ ฺฉูู ู ุณูพุณ ููุงู ฺฉูุฏ ุฑุง ุจุง ฺฉ ููุฏุงุฑ ูุชูุงูุช ูุงุฑุฏ ฺฉููุ
ููุฏุงุฑ ฺฉู ุจุง ุขู ฺฉูุฏ ูุฑุชุจุท ุงุณุช ุฌุงฺฏุฒู ุฎูุงูุฏ ุดุฏ. ุญุช ุงฺฏุฑ ฺฉุฏ ุฏุฑ ูุณุช ธ-ฒณ ุฏูุจุงุฑ <code>insert</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ
ูุด ููพ ููุท ฺฉ ุฌูุช ฺฉูุฏโููุฏุงุฑ ุฑุง ุดุงูู ุฎูุงูุฏ ุดุฏ ุฒุฑุง ูุง ููุฏุงุฑ ูุฑุชุจุท ุจุง ฺฉูุฏ ุชู Blue ุฑุง ุฏุฑ ูุฑ ุฏู ุจุงุฑ ูุงุฑุฏ ูโฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let mut scores = HashMap::new();

    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Blue"), 25);

    println!("{scores:?}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-23: ุฌุงฺฏุฒู ฺฉ ููุฏุงุฑ ุฐุฎุฑู ุดุฏู ุจุง ฺฉ ฺฉูุฏ ุฎุงุต</figcaption>
</figure>
<p>ุงู ฺฉุฏ ููุฏุงุฑ <code>{"Blue": 25}</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ. ููุฏุงุฑ ุงุตู <code>10</code> ุจุงุฒููุณ ุดุฏู ุงุณุช.</p>
<p><a id="only-inserting-a-value-if-the-key-has-no-value"></a></p>
<h4 id="ุงุถุงูู-ฺฉุฑุฏู-ฺฉ-ฺฉูุฏ-ู-ููุฏุงุฑ-ููุท-ุงฺฏุฑ-ฺฉูุฏ-ูุฌูุฏ-ูุฏุงุฑุฏ"><a class="header" href="#ุงุถุงูู-ฺฉุฑุฏู-ฺฉ-ฺฉูุฏ-ู-ููุฏุงุฑ-ููุท-ุงฺฏุฑ-ฺฉูุฏ-ูุฌูุฏ-ูุฏุงุฑุฏ">ุงุถุงูู ฺฉุฑุฏู ฺฉ ฺฉูุฏ ู ููุฏุงุฑ ููุท ุงฺฏุฑ ฺฉูุฏ ูุฌูุฏ ูุฏุงุฑุฏ</a></h4>
<p>ุจุฑุฑุณ ุงูฺฉู ุขุง ฺฉ ฺฉูุฏ ุฎุงุต ุฏุฑ ูุด ููพ ุฏุงุฑุง ููุฏุงุฑ ุงุณุช ุง ุฎุฑ ู ุณูพุณ ุงูุฌุงู ุงูุฏุงูุงุช ุฒุฑ ุฑุงุฌ ุงุณุช:
ุงฺฏุฑ ฺฉูุฏ ุฏุฑ ูุด ููพ ูุฌูุฏ ุฏุงุฑุฏุ ููุฏุงุฑ ููุฌูุฏ ุจุงุฏ ููุงูุทูุฑ ฺฉู ูุณุช ุจุงู ุจูุงูุฏุ ุงฺฏุฑ ฺฉูุฏ ูุฌูุฏ ูุฏุงุฑุฏุ
ุขู ุฑุง ุจู ููุฑุงู ฺฉ ููุฏุงุฑ ูุงุฑุฏ ฺฉูุฏ.</p>
<p>ูุด ููพโูุง ฺฉ API ุฎุงุต ุจุฑุง ุงู ฺฉุงุฑ ุฏุงุฑูุฏ ฺฉู ุจู ูุงู <code>entry</code> ุดูุงุฎุชู ูโุดูุฏ ู ฺฉูุฏ ฺฉู ูโุฎูุงูุฏ ุจุฑุฑุณ ฺฉูุฏ
ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ. ููุฏุงุฑ ุจุงุฒฺฏุดุช ูุชุฏ <code>entry</code> ฺฉ enum ุจู ูุงู <code>Entry</code> ุงุณุช ฺฉู ูุดุงูโุฏููุฏู ููุฏุงุฑ
ุงุณุช ฺฉู ููฺฉู ุงุณุช ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ุง ูุฏุงุดุชู ุจุงุดุฏ. ูุฑุถ ฺฉูุฏ ูโุฎูุงูู ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ฺฉูุฏ ุชู Yellow
ุฏุงุฑุง ููุฏุงุฑ ูุฑุชุจุท ุงุณุช ุง ุฎุฑ. ุงฺฏุฑ ูุฏุงุฑุฏุ ูโุฎูุงูู ููุฏุงุฑ <code>50</code> ุฑุง ูุงุฑุฏ ฺฉููุ ู ูููุทูุฑ ุจุฑุง ุชู Blue.
ุจุง ุงุณุชูุงุฏู ุงุฒ API <code>entry</code>ุ ฺฉุฏ ุจู ุดฺฉู ูุณุช ธ-ฒด ุฎูุงูุฏ ุจูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let mut scores = HashMap::new();
    scores.insert(String::from("Blue"), 10);

    scores.entry(String::from("Yellow")).or_insert(50);
    scores.entry(String::from("Blue")).or_insert(50);

    println!("{scores:?}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-24: ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>entry</code> ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ููุฏุงุฑ ููุท ุฏุฑ ุตูุฑุช ฺฉู ฺฉูุฏ ูุจูุงู ููุฏุงุฑ ูุฏุงุฑุฏ</figcaption>
</figure>
<p>ูุชุฏ <code>or_insert</code> ุฑู <code>Entry</code> ุจู ฺฏูููโุง ุชุนุฑู ุดุฏู ุงุณุช ฺฉู ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ ุจู ููุฏุงุฑ ูุฑุชุจุท ุจุง ฺฉูุฏ
<code>Entry</code> ุจุฑูโฺฏุฑุฏุงูุฏ ุงฺฏุฑ ุขู ฺฉูุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ู ุงฺฏุฑ ููุ ูพุงุฑุงูุชุฑ ุฑุง ุจู ุนููุงู ููุฏุงุฑ ุฌุฏุฏ ุจุฑุง
ุงู ฺฉูุฏ ูุงุฑุฏ ฺฉุฑุฏู ู ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ ุจู ููุฏุงุฑ ุฌุฏุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุชฺฉูฺฉ ุจุณุงุฑ ุชูุฒุชุฑ ุงุฒ ููุดุชู
ููุทู ุจู ุตูุฑุช ุฏุณุช ุงุณุช ู ุนูุงูู ุจุฑ ุงูุ ุจุง ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุจูุชุฑ ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุงุฌุฑุง ฺฉุฏ ุฏุฑ ูุณุช ธ-ฒด ููุฏุงุฑ <code>{"Yellow": 50, "Blue": 10}</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ. ุงููู ูุฑุงุฎูุงู ุจู <code>entry</code>
ฺฉูุฏ ุชู Yellow ุฑุง ุจุง ููุฏุงุฑ <code>50</code> ูุงุฑุฏ ูโฺฉูุฏ ุฒุฑุง ุชู Yellow ูุจูุงู ููุฏุงุฑ ูุฏุงุฑุฏ. ุฏููู ูุฑุงุฎูุงู
ุจู <code>entry</code> ูุด ููพ ุฑุง ุชุบุฑ ููโุฏูุฏ ุฒุฑุง ุชู Blue ูุจูุงู ููุฏุงุฑ <code>10</code> ุฑุง ุฏุงุฑุฏ.</p>
<h4 id="ุจูุฑูุฒุฑุณุงู-ฺฉ-ููุฏุงุฑ-ุจุฑ-ุงุณุงุณ-ููุฏุงุฑ-ูุฏู"><a class="header" href="#ุจูุฑูุฒุฑุณุงู-ฺฉ-ููุฏุงุฑ-ุจุฑ-ุงุณุงุณ-ููุฏุงุฑ-ูุฏู">ุจูโุฑูุฒุฑุณุงู ฺฉ ููุฏุงุฑ ุจุฑ ุงุณุงุณ ููุฏุงุฑ ูุฏู</a></h4>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ููุงุฑุฏ ุงุณุชูุงุฏู ุฑุงุฌ ุจุฑุง ูุด ููพโูุง ุงู ุงุณุช ฺฉู ููุฏุงุฑ ฺฉ ฺฉูุฏ ุฑุง ุฌุณุชุฌู ฺฉุฑุฏู ู ุณูพุณ ุจุฑ ุงุณุงุณ
ููุฏุงุฑ ูุฏู ุขู ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูู. ุจุฑุง ูุซุงูุ ูุณุช ธ-ฒต ฺฉุฏ ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุชุนุฏุงุฏ ุฏูุนุงุช ุธุงูุฑ ุดุฏู
ูุฑ ฺฉููู ุฏุฑ ฺฉ ูุชู ุฑุง ูโุดูุงุฑุฏ. ูุง ุงุฒ ฺฉ ูุด ููพ ุจุง ฺฉููุงุช ุจู ุนููุงู ฺฉูุฏ ู ููุฏุงุฑ ุจุฑุง ูฺฏูุฏุงุฑ ุชุนุฏุงุฏ ุฏูุนุงุช
ุธุงูุฑ ุดุฏู ูุฑ ฺฉููู ุงุณุชูุงุฏู ูโฺฉูู. ุงฺฏุฑ ุงู ุงููู ุจุงุฑ ุจุงุดุฏ ฺฉู ฺฉ ฺฉููู ุฑุง ูุดุงูุฏู ูโฺฉููุ ุงุจุชุฏุง ููุฏุงุฑ
<code>0</code> ุฑุง ูุงุฑุฏ ูโฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::collections::HashMap;

    let text = "hello world wonderful world";

    let mut map = HashMap::new();

    for word in text.split_whitespace() {
        let count = map.entry(word).or_insert(0);
        *count += 1;
    }

    println!("{map:?}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 8-25: ุดูุงุฑุด ุชุนุฏุงุฏ ูููุน ฺฉููุงุช ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุด ููพ ฺฉู ฺฉููุงุช ู ุชุนุฏุงุฏ ุฏูุนุงุช ุขูโูุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ููุฏุงุฑ <code>{"world": 2, "hello": 1, "wonderful": 1}</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ. ููฺฉู ุงุณุช ููู ุฌูุชโูุง
ฺฉูุฏโููุฏุงุฑ ุฑุง ุจู ุชุฑุชุจ ุฏฺฏุฑ ูุดุงูุฏู ฺฉูุฏ: ุจู ุจุฎุด <a href="ch08-03-hash-maps.html#accessing-values-in-a-hash-map">โุฏุณุชุฑุณ ุจู ููุงุฏุฑ ุฏุฑ ฺฉ ูุด ููพโ</a><!-- ignore -->
ุฑุฌูุน ฺฉูุฏ ฺฉู ุชูุถุญ ูโุฏูุฏ ูพูุงุด ุจุฑ ุฑู ฺฉ ูุด ููพ ุจู ุตูุฑุช ุฏูุฎูุงู ุงูุฌุงู ูโุดูุฏ.</p>
<p>ูุชุฏ <code>split_whitespace</code> ฺฉ iterator ุจุฑ ุฑู ุฒุฑุฑุดุชูโูุง ฺฉู ุจุง ูุถุง ุฎุงู ุฌุฏุง ุดุฏูโุงูุฏ ุงุฒ ููุฏุงุฑ ููุฌูุฏ
ุฏุฑ <code>text</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุชุฏ <code>or_insert</code> ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ (<code>&amp;mut V</code>) ุจู ููุฏุงุฑ ูุฑุชุจุท ุจุง ฺฉูุฏ ูุดุฎุต
ุจุฑูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุขู ฺฉูุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ููุฏุงุฑ ุจุงุฒฺฏุดุช ููุงู ููุฏุงุฑ ููุฌูุฏ ุงุณุชุ ู ุงฺฏุฑ ููุ ูพุงุฑุงูุชุฑ
ุฑุง ุจู ุนููุงู ููุฏุงุฑ ุฌุฏุฏ ุจุฑุง ุงู ฺฉูุฏ ูุงุฑุฏ ูโฺฉูุฏ ู ูุฑุฌุน ูุงุจู ุชุบุฑ ุจู ููุฏุงุฑ ุฌุฏุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.
ุฏุฑ ุงูุฌุงุ ูุง ุงู ูุฑุฌุน ูุงุจู ุชุบุฑ ุฑุง ุฏุฑ ูุชุบุฑ <code>count</code> ุฐุฎุฑู ูโฺฉููุ ุจูุงุจุฑุงู ุจุฑุง ุชุฎุตุต ููุฏุงุฑ
ุจู ุขูุ ุจุงุฏ ุงุจุชุฏุง <code>count</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ ุณุชุงุฑู (<code>*</code>) dereference ฺฉูู. ูุฑุฌุน ูุงุจู ุชุบุฑ
ุฏุฑ ุงูุชูุง ุญููู <code>for</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏุ ุจูุงุจุฑุงู ุชูุงู ุงู ุชุบุฑุงุช ุงูู ูุณุชูุฏ ู ููุงูู
ูุฑุถโฺฏุฑ ุฑุง ููุถ ููโฺฉููุฏ.</p>
<h3 id="ุชูุงุจุน-ูุด"><a class="header" href="#ุชูุงุจุน-ูุด">ุชูุงุจุน ูุด</a></h3>
<p>ุจู ุทูุฑ ูพุดโูุฑุถุ <code>HashMap</code> ุงุฒ ฺฉ ุชุงุจุน ูุด ุจู ูุงู <em>SipHash</em> ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ููุงููุช ุฏุฑ ุจุฑุงุจุฑ
ุญููุงุช ุงูฺฉุงุฑ ุณุฑูุณ (DoS) ูุฑุจูุท ุจู ุฌุฏุงูู ูุด<sup class="footnote-reference"><a href="#siphash">1</a></sup><!-- ignore --> ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงู ุณุฑุนโุชุฑู
ุงูฺฏูุฑุชู ูุด ููุฌูุฏ ูุณุชุ ุงูุง ูุจุงุฏูู ุจุฑุง ุงููุช ุจูุชุฑ ุจุง ฺฉุงูุด ุนููฺฉุฑุฏ ุงุฑุฒุดููุฏ ุงุณุช. ุงฺฏุฑ ฺฉุฏ ุฎูุฏ ุฑุง
ูพุฑููุงู ฺฉูุฏ ู ูุชูุฌู ุดูุฏ ฺฉู ุชุงุจุน ูุด ูพุดโูุฑุถ ุจุฑุง ุงูุฏุงู ุดูุง ุจุณุงุฑ ฺฉูุฏ ุงุณุชุ ูโุชูุงูุฏ ุจุง ูุดุฎุต ฺฉุฑุฏู
ฺฉ ูุดโฺฉููุฏู ุฏฺฏุฑ ุขู ุฑุง ุชุบุฑ ุฏูุฏ. ฺฉ <em>ูุดโฺฉููุฏู</em> ููุน ุงุณุช ฺฉู ูฺฺฏ <code>BuildHasher</code> ุฑุง ูพุงุฏูโุณุงุฒ
ูโฺฉูุฏ. ุฏุฑุจุงุฑู ูฺฺฏโูุง (traits) ู ูุญูู ูพุงุฏูโุณุงุฒ ุขูโูุง ุฏุฑ <a href="ch10-02-traits.html">ูุตู ฑฐ</a><!-- ignore --> ุตุญุจุช
ุฎูุงูู ฺฉุฑุฏ. ูุงุฒ ูุณุช ุญุชูุงู ูุดโฺฉููุฏู ุฎูุฏ ุฑุง ุงุฒ ุงุจุชุฏุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุฏุฑ
<a href="https://crates.io/">crates.io</a><!-- ignore --> ฺฉุชุงุจุฎุงููโูุง ููุฌูุฏ ูุณุชูุฏ ฺฉู ุชูุณุท ฺฉุงุฑุจุฑุงู Rust ุจู
ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดุฏูโุงูุฏ ู ูุดโฺฉููุฏูโูุง ุจุง ุจุณุงุฑ ุงุฒ ุงูฺฏูุฑุชูโูุง ูุด ุฑุงุฌ ุงุฑุงุฆู ูโุฏููุฏ.</p>
<div class="footnote-definition" id="siphash"><sup class="footnote-definition-label">1</sup>
<p><a href="https://en.wikipedia.org/wiki/SipHash">https://en.wikipedia.org/wiki/SipHash</a></p>
</div>
<h2 id="ุฎูุงุตู-7"><a class="header" href="#ุฎูุงุตู-7">ุฎูุงุตู</a></h2>
<p>ุจุฑุฏุงุฑูุงุ ุฑุดุชูโูุงุ ู ูุด ููพโูุง ููุฏุงุฑ ุฒุงุฏ ุงุฒ ูุงุจูุชโูุง ููุฑุฏ ูุงุฒ ุจุฑุง ุฐุฎุฑูุ ุฏุณุชุฑุณุ ู
ุชุบุฑ ุฏุงุฏูโูุง ุฏุฑ ุจุฑูุงููโูุง ุฑุง ูุฑุงูู ูโฺฉููุฏ. ุฏุฑ ุงูุฌุง ฺูุฏ ุชูุฑู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุงฺฉููู ุจุงุฏ
ูุงุฏุฑ ุจู ุญู ุขูโูุง ุจุงุดุฏ:</p>
<ol>
<li>ุจุง ุฏุงุดุชู ฺฉ ูุณุช ุงุฒ ุงุนุฏุงุฏ ุตุญุญุ ุงุฒ ฺฉ ุจุฑุฏุงุฑ ุงุณุชูุงุฏู ฺฉุฑุฏู ู ูุงูู (ููุช ูุฑุชุจโุณุงุฒ ุดูุฏุ ููุฏุงุฑ ฺฉู
ุฏุฑ ูููุนุช ูุณุท ูุฑุงุฑ ุฏุงุฑุฏ) ู ูุฏ (ููุฏุงุฑ ฺฉู ุจุดุชุฑู ุจุงุฑ ุธุงูุฑ ูโุดูุฏุ ฺฉ ูุด ููพ ุฏุฑ ุงูุฌุง ููุฏ ุฎูุงูุฏ ุจูุฏ)
ูุณุช ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ.</li>
<li>ุฑุดุชูโูุง ุฑุง ุจู ุฒุจุงู ูุงุชู ุฎูฺฉ ุชุจุฏู ฺฉูุฏ. ุงููู ุตุงูุช ูุฑ ฺฉููู ุจู ุงูุชูุง ฺฉููู ููุชูู ุดุฏู ู <em>ay</em>
ุจู ุขู ุงุถุงูู ูโุดูุฏุ ุจูุงุจุฑุงู <em>first</em> ุจู <em>irst-fay</em> ุชุจุฏู ูโุดูุฏ. ฺฉููุงุช ฺฉู ุจุง ฺฉ ุญุฑู ุตุฏุงุฏุงุฑ
ุดุฑูุน ูโุดููุฏุ <em>hay</em> ุจู ุงูุชูุง ุขูโูุง ุงุถุงูู ูโุดูุฏ (<em>apple</em> ุจู <em>apple-hay</em> ุชุจุฏู ูโุดูุฏ). ุฌุฒุฆุงุช
ูุฑุจูุท ุจู ฺฉุฏฺฏุฐุงุฑ UTF-8 ุฑุง ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ!</li>
<li>ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุด ููพ ู ุจุฑุฏุงุฑูุงุ ฺฉ ุฑุงุจุท ูุชู ุงุฌุงุฏ ฺฉูุฏ ุชุง ุจู ฺฉุงุฑุจุฑ ุงูฺฉุงู ุงุถุงูู ฺฉุฑุฏู ูุงู ฺฉุงุฑููุฏุงู
ุจู ฺฉ ุฏูพุงุฑุชูุงู ุฏุฑ ุดุฑฺฉุช ุฑุง ุจุฏูุฏุ ุจุฑุง ูุซุงูุ โAdd Sally to Engineeringโ ุง โAdd Amir to Salesโ.
ุณูพุณ ุจู ฺฉุงุฑุจุฑ ุงุฌุงุฒู ุฏูุฏ ูุณุช ุงุฒ ุชูุงู ุงูุฑุงุฏ ุฏุฑ ฺฉ ุฏูพุงุฑุชูุงู ุง ุชูุงู ุงูุฑุงุฏ ุฏุฑ ุดุฑฺฉุช ุจุฑ ุงุณุงุณ
ุฏูพุงุฑุชูุงูุ ูุฑุชุจ ุดุฏู ุจู ุตูุฑุช ุญุฑูู ุงููุจุงุ ุจุงุฒุงุจ ฺฉูุฏ.</li>
</ol>
<p>ูุณุชูุฏุงุช API ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุชุฏูุง ุฑุง ฺฉู ุจุฑุฏุงุฑูุงุ ุฑุดุชูโูุงุ ู ูุด ููพโูุง ุฏุงุฑูุฏ ู ุจุฑุง ุงู ุชูุฑูโูุง
ููุฏ ุฎูุงููุฏ ุจูุฏ ุชูุตู ูโฺฉููุฏ!</p>
<p>ูุง ูุงุฑุฏ ุจุฑูุงููโูุง ูพฺุฏูโุชุฑ ุดุฏูโุงู ฺฉู ุฏุฑ ุขูโูุง ุนููุงุช ููฺฉู ุงุณุช ุจุง ุดฺฉุณุช ููุงุฌู ุดููุฏุ ุจูุงุจุฑุงู
ุฒูุงู ููุงุณุจ ุงุณุช ุชุง ุฏุฑุจุงุฑู ูุฏุฑุช ุฎุทุง ุตุญุจุช ฺฉูู. ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ุงุฏุงูู ุงูุฌุงู ุฎูุงูู ุฏุงุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูุฏุฑุช-ุฎุทุงูุง"><a class="header" href="#ูุฏุฑุช-ุฎุทุงูุง">ูุฏุฑุช ุฎุทุงูุง</a></h1>
<p>ุฎุทุงูุง ูุงูุนุช ุฏุฑ ูุฑูโุงูุฒุงุฑ ูุณุชูุฏุ ุจูุงุจุฑุงู Rust ุชุนุฏุงุฏ ูฺฺฏ ุจุฑุง ูุฏุฑุช ุดุฑุงุท ฺฉู ุฏุฑ ุขูโูุง
ฺุฒ ุงุดุชุจุงู ูโุฑูุฏ ุงุฑุงุฆู ูโุฏูุฏ. ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏุ Rust ุดูุง ุฑุง ูุฌุจูุฑ ูโฺฉูุฏ ุงูฺฉุงู ูููุน ุฎุทุง ุฑุง
ุชุดุฎุต ุฏุงุฏู ู ุงูุฏุงู ุงูุฌุงู ุฏูุฏ ุชุง ฺฉุฏ ุดูุง ฺฉุงููพุงู ุดูุฏ. ุงู ุงูุฒุงู ุจุฑูุงูู ุดูุง ุฑุง ููุงููโุชุฑ ูโฺฉูุฏ
ุฒุฑุง ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ูุจู ุงุฒ ุงูุชุดุงุฑ ฺฉุฏ ุจู ุชููุฏุ ุฎุทุงูุง ุฑุง ฺฉุดู ฺฉุฑุฏู ู ุขูโูุง ุฑุง ุจู ุฏุฑุณุช ูุฏุฑุช
ูโฺฉูุฏ!</p>
<p>Rust ุฎุทุงูุง ุฑุง ุจู ุฏู ุฏุณุชู ุงุตู ุชูุณู ูโฺฉูุฏ: ุฎุทุงูุง <em>ูุงุจู ุจุงุฒุงุจ</em> ู ุฎุทุงูุง <em>ุบุฑูุงุจู ุจุงุฒุงุจ</em>.
ุจุฑุง ฺฉ ุฎุทุง ูุงุจู ุจุงุฒุงุจุ ูุงููุฏ ุฎุทุง <em>ูุงู ุงูุช ูุดุฏ</em>ุ ุงุญุชูุงูุงู ูโุฎูุงูู ูุดฺฉู ุฑุง ุจู ฺฉุงุฑุจุฑ
ฺฏุฒุงุฑุด ุฏูู ู ุนููุงุช ุฑุง ุฏูุจุงุฑู ุงูุฌุงู ุฏูู. ุฎุทุงูุง ุบุฑูุงุจู ุจุงุฒุงุจ ููุดู ูุดุงููโูุง ุจุงฺฏโูุง ูุณุชูุฏุ
ูุงููุฏ ุชูุงุด ุจุฑุง ุฏุณุชุฑุณ ุจู ูฺฉุงู ุฎุงุฑุฌ ุงุฒ ุงูุชูุง ฺฉ ุขุฑุงูุ ุจูุงุจุฑุงู ูโุฎูุงูู ุจูุงูุงุตูู ุจุฑูุงูู
ุฑุง ูุชููู ฺฉูู.</p>
<p>ุจุดุชุฑ ุฒุจุงูโูุง ุจู ุงู ุฏู ููุน ุฎุทุง ุชูุงูุช ูุงุฆู ููโุดููุฏ ู ูุฑ ุฏู ุฑุง ุจู ฺฉ ุดฺฉู ูุฏุฑุช ูโฺฉููุฏุ
ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฉุงูุฒูโูุง ูุงููุฏ ุงุณุชุซูุงูุง. Rust ุงุณุชุซูุงูุง ูุฏุงุฑุฏ. ุฏุฑ ุนูุถุ ููุน <code>Result&lt;T, E&gt;</code> ุจุฑุง
ุฎุทุงูุง ูุงุจู ุจุงุฒุงุจ ู ูุงฺฉุฑู <code>panic!</code> ฺฉู ุงุฌุฑุง ุจุฑูุงูู ุฑุง ุฒูุงู ฺฉู ุจุง ฺฉ ุฎุทุง ุบุฑูุงุจู ุจุงุฒุงุจ
ุฑูุจุฑู ูโุดูุฏ ูุชููู ูโฺฉูุฏุ ุงุฑุงุฆู ูโุฏูุฏ. ุงู ูุตู ุงุจุชุฏุง ุจู ูุฑุงุฎูุงู <code>panic!</code> ูโูพุฑุฏุงุฒุฏ ู ุณูพุณ
ุฏุฑ ููุฑุฏ ุจุงุฒฺฏุฑุฏุงูุฏู ููุงุฏุฑ <code>Result&lt;T, E&gt;</code> ุตุญุจุช ูโฺฉูุฏ. ุนูุงูู ุจุฑ ุงูุ ููุงุญุธุงุช ุฑุง ููฺฏุงู ุชุตููโฺฏุฑ
ุฏุฑ ููุฑุฏ ุงูฺฉู ุขุง ุณุน ุฏุฑ ุจุงุฒุงุจ ุงุฒ ฺฉ ุฎุทุง ฺฉูู ุง ุงุฌุฑุง ุจุฑูุงูู ุฑุง ูุชููู ฺฉููุ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฎุทุงูุง-ุบุฑูุงุจู-ุจุงุฒุงุจ-ุจุง-panic"><a class="header" href="#ุฎุทุงูุง-ุบุฑูุงุจู-ุจุงุฒุงุจ-ุจุง-panic">ุฎุทุงูุง ุบุฑูุงุจู ุจุงุฒุงุจ ุจุง <code>panic!</code></a></h2>
<p>ฺฏุงู ุงููุงุช ุงุชูุงูุงุช ุจุฏ ุฏุฑ ฺฉุฏ ุดูุง ุฑุฎ ูโุฏูุฏ ู ูฺ ฺฉุงุฑ ููโุชูุงูุฏ ุฏุฑ ููุฑุฏ ุขู ุงูุฌุงู ุฏูุฏ. ุฏุฑ ุงู ููุงุฑุฏุ
Rust ูุงฺฉุฑู <code>panic!</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ. ุฏู ุฑุงู ุจุฑุง ุงุฌุงุฏ ฺฉ ุฎุทุง ุจุง <code>panic!</code> ูุฌูุฏ ุฏุงุฑุฏ: ุจุง ุงูุฌุงู ุนูู
ฺฉู ุจุงุนุซ ุงุฌุงุฏ ุฎุทุง ูโุดูุฏ (ูุงููุฏ ุฏุณุชุฑุณ ุจู ฺฉ ุงูุฏุณ (index)ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุฏุฑ ฺฉ ุขุฑุงู) ุง ุจุง ุตุฑุงุญุช
ูุฑุงุฎูุงู ูุงฺฉุฑู <code>panic!</code>. ุฏุฑ ูุฑ ุฏู ุญุงูุชุ ูุง ฺฉ ุฎุทุง ุฏุฑ ุจุฑูุงูู ุฎูุฏ ุงุฌุงุฏ ูโฺฉูู. ุจู ุทูุฑ ูพุดโูุฑุถุ
ุงู ุฎุทุงูุง ฺฉ ูพุงู ุฎุทุง ฺุงูพ ูโฺฉููุฏุ ุงุณุชฺฉ ุฑุง unwind ูโฺฉููุฏุ ุฏุงุฏูโูุง ุฑุง ูพุงฺฉุณุงุฒ ูโฺฉููุฏ ู ุจุฑูุงูู
ุฑุง ูุชููู ูโฺฉููุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุชุบุฑ ูุญุทุ ูโุชูุงูุฏ Rust ุฑุง ูุฌุจูุฑ ฺฉูุฏ ููฺฏุงู ูููุน ฺฉ
<code>panic</code>ุ ุงุณุชฺฉ ูุฑุงุฎูุงู ุฑุง ููุงุด ุฏูุฏ ุชุง ุฑุฏุงุจ ููุจุน ุฎุทุง ุขุณุงูโุชุฑ ุดูุฏ.</p>
<section class="note" aria-role="note">
<h3 id="unwinding-the-stack-ุง-ูุชููู-ฺฉุฑุฏู-ุฏุฑ-ูพุงุณุฎ-ุจู-ฺฉ-panic"><a class="header" href="#unwinding-the-stack-ุง-ูุชููู-ฺฉุฑุฏู-ุฏุฑ-ูพุงุณุฎ-ุจู-ฺฉ-panic">Unwinding the Stack ุง ูุชููู ฺฉุฑุฏู ุฏุฑ ูพุงุณุฎ ุจู ฺฉ Panic</a></h3>
<p>ุจู ุทูุฑ ูพุดโูุฑุถุ ููฺฏุงู ฺฉู ฺฉ ุฎุทุง ุฑุฎ ูโุฏูุฏุ ุจุฑูุงูู ุดุฑูุน ุจู <em>unwinding</em> ูโฺฉูุฏุ ฺฉู ุจู ูุนู ุงู
ุงุณุช ฺฉู Rust ุงุณุชฺฉ ุฑุง ุจู ุณูุช ุจุงูุง ูพูุงุด ูโฺฉูุฏ ู ุฏุงุฏูโูุง ุฑุง ุงุฒ ูุฑ ุชุงุจุน ฺฉู ุจุง ุขู ุจุฑุฎูุฑุฏ ูโฺฉูุฏ
ูพุงฺฉุณุงุฒ ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ูพูุงุด ุจู ุจุงูุง ู ูพุงฺฉุณุงุฒ ฺฉุงุฑ ุฒุงุฏ ุงุณุช. ุจูุงุจุฑุงูุ Rust ุจู ุดูุง ุงุฌุงุฒู
ูโุฏูุฏ ฺฏุฒูู ุฌุงฺฏุฒู <em>abort</em> ฺฉุฑุฏู ููุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ฺฉู ุจุฑูุงูู ุฑุง ุจุฏูู ูพุงฺฉุณุงุฒ ูุชููู ูโฺฉูุฏ.</p>
<p>ุญุงูุธูโุง ฺฉู ุจุฑูุงูู ุงุณุชูุงุฏู ูโฺฉุฑุฏ ูุงุฒ ุจู ูพุงฺฉุณุงุฒ ุชูุณุท ุณุณุชู ุนุงูู ุฎูุงูุฏ ุฏุงุดุช. ุงฺฏุฑ ุฏุฑ ูพุฑูฺู
ุฎูุฏ ูุงุฒ ุฏุงุฑุฏ ุชุง ูุงู ุจุงูุฑ ุญุงุตู ุฑุง ุชุง ุญุฏ ููฺฉู ฺฉูฺฺฉ ฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ unwind ุจู abort ุฏุฑ
ุฒูุงู ุฎุทุง ุชุบุฑ ุฏูุฏ ุจุง ุงุถุงูู ฺฉุฑุฏู <code>panic = 'abort'</code> ุจู ุจุฎุดโูุง ููุงุณุจ <code>[profile]</code> ุฏุฑ ูุงู
<em>Cargo.toml</em> ุฎูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ูโุฎูุงูุฏ ุฏุฑ ุญุงูุช release ุฏุฑ ุฒูุงู ูููุน ุฎุทุง ูุชููู ุดูุฏุ
ุงู ููุฑุฏ ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre><code class="language-toml">[profile.release]
panic = 'abort'
</code></pre>
</section>
<p>ุจุงุฏ ูุฑุงุฎูุงู <code>panic!</code> ุฑุง ุฏุฑ ฺฉ ุจุฑูุงูู ุณุงุฏู ุงูุชุญุงู ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust should_panic panics edition2021">fn main() {
    panic!("crash and burn");
}</code></pre></pre>
</figure>
<p>ููุช ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏุ ฺุฒ ุดุจู ุจู ุงู ุฎูุงูุฏ ุฏุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling panic v0.1.0 (file:///projects/panic)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.25s
     Running `target/debug/panic`
thread 'main' panicked at src/main.rs:2:5:
crash and burn
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ูุฑุงุฎูุงู <code>panic!</code> ูพุงู ุฎุทุง ููุฌูุฏ ุฏุฑ ุฏู ุฎุท ุขุฎุฑ ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ. ุฎุท ุงูู ูพุงู ุฎุทุง <code>panic!</code> ูุง
ู ูฺฉุงู ุฏุฑ ฺฉุฏ ููุจุน ูุง ฺฉู ุงู ุฎุทุง ุฑุฎ ุฏุงุฏู ุงุณุช ุฑุง ูุดุงู ูโุฏูุฏ: <em>src/main.rs:2:5</em> ูุดุงู ูโุฏูุฏ
ฺฉู ุงู ุฎุท ุฏููุ ูพูุฌูู ฺฉุงุฑุงฺฉุชุฑ ุฏุฑ ูุงู <em>src/main.rs</em> ูุง ุงุณุช.</p>
<p>ุฏุฑ ุงู ููุฑุฏุ ุฎุท ูุดุงู ุฏุงุฏู ุดุฏู ุจุฎุด ุงุฒ ฺฉุฏ ูุง ุงุณุชุ ู ุงฺฏุฑ ุจู ุขู ุฎุท ุจุฑููุ ูุฑุงุฎูุงู ูุงฺฉุฑู
<code>panic!</code> ุฑุง ูโุจูู. ุฏุฑ ููุงุฑุฏ ุฏฺฏุฑุ ูุฑุงุฎูุงู <code>panic!</code> ููฺฉู ุงุณุช ุฏุฑ ฺฉุฏ ุจุงุดุฏ ฺฉู ฺฉุฏ ูุง ุขู ุฑุง
ูุฑุงุฎูุงู ูโฺฉูุฏุ ู ูุงู ูุงู ู ุดูุงุฑู ุฎุท ฺฏุฒุงุฑุด ุดุฏู ุชูุณุท ูพุงู ุฎุทุง ฺฉุฏ ุงุฒ ุฏฺฏุฑุงู ุฑุง ูุดุงู ูโุฏูุฏ
ฺฉู ุฏุฑ ุขู ูุงฺฉุฑู <code>panic!</code> ูุฑุงุฎูุงู ุดุฏู ุงุณุชุ ูู ุฎุท ุงุฒ ฺฉุฏ ูุง ฺฉู ุฏุฑ ููุงุช ููุฌุฑ ุจู ูุฑุงุฎูุงู
<code>panic!</code> ุดุฏ.</p>
<p><a id="using-a-panic-backtrace"></a></p>
<p>ูุง ูโุชูุงูู ุงุฒ backtrace ุชูุงุจุน ฺฉู ูุฑุงุฎูุงู <code>panic!</code> ุงุฒ ุขูโูุง ุขูุฏู ุงุณุช ุงุณุชูุงุฏู ฺฉูู ุชุง ุจุฎุด ฺฉุฏ
ูุง ฺฉู ุจุงุนุซ ูุดฺฉู ุดุฏู ุงุณุช ุฑุง ูพุฏุง ฺฉูู. ุจุฑุง ุฏุฑฺฉ ูุญูู ุงุณุชูุงุฏู ุงุฒ backtrace ฺฉ <code>panic!</code>ุ ุจุงุฏ
ฺฉ ูุซุงู ุฏฺฏุฑ ุจุจูู ู ูุดุงูุฏู ฺฉูู ุฒูุงู ฺฉู ฺฉ ูุฑุงุฎูุงู <code>panic!</code> ุงุฒ ฺฉ ฺฉุชุงุจุฎุงูู ุจู ุฏูู ฺฉ ุจุงฺฏ
ุฏุฑ ฺฉุฏ ูุง ุฑุฎ ูโุฏูุฏุ ุจู ุฌุง ุงูฺฉู ฺฉุฏ ูุง ูุณุชููุงู ูุงฺฉุฑู ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ฺฺฏููู ุงุณุช. ูุณุช น-ฑ
ฺฉุฏ ุฏุงุฑุฏ ฺฉู ุชูุงุด ูโฺฉูุฏ ุจู ฺฉ ุงูุฏุณ (index)ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ฺฉู ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุงูุฏุณโูุง ูุนุชุจุฑ ุงุณุช
ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust should_panic panics edition2021">fn main() {
    let v = vec![1, 2, 3];

    v[99];
}</code></pre></pre>
<figcaption>Listing 9-1: ุชูุงุด ุจุฑุง ุฏุณุชุฑุณ ุจู ุนูุตุฑ ฺฉู ุฎุงุฑุฌ ุงุฒ ุงูุชูุง ุจุฑุฏุงุฑ ุงุณุชุ ฺฉู ููุฌุฑ ุจู ูุฑุงุฎูุงู <code>panic!</code> ุฎูุงูุฏ ุดุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ูุง ุณุน ุฏุงุฑู ุจู ุนูุตุฑ ุตุฏู ุจุฑุฏุงุฑ ุฎูุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉูู (ฺฉู ุฏุฑ ุงูุฏุณ (index)นน ุงุณุช ุฒุฑุง ุงูุฏุณโฺฏุฐุงุฑ ุงุฒ ุตูุฑ ุดุฑูุน ูโุดูุฏ)ุ ุงูุง ุจุฑุฏุงุฑ ููุท ุณู ุนูุตุฑ ุฏุงุฑุฏ. ุฏุฑ ุงู ูุถุนุชุ Rust ุจุง ฺฉ ุฎุทุง ูุชููู ูโุดูุฏ. ุงุณุชูุงุฏู ุงุฒ <code>[]</code> ูุฑุงุฑ ุงุณุช ฺฉ ุนูุตุฑ ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ุงูุง ุงฺฏุฑ ฺฉ ุงูุฏุณ (index)ูุงูุนุชุจุฑ ุฑุง ุงุฑุงุฆู ุฏูุฏุ ูฺ ุนูุตุฑ ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู Rust ุจุชูุงูุฏ ุจู ุฏุฑุณุช ุจุงุฒฺฏุฑุฏุงูุฏ.</p>
<p>ุฏุฑ ุฒุจุงู Cุ ุชูุงุด ุจุฑุง ุฎูุงูุฏู ูุฑุงุชุฑ ุงุฒ ุงูุชูุง ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฑูุชุงุฑ ูุงูุดุฎุต ุฏุงุฑุฏ. ููฺฉู ุงุณุช ูุฑ ฺุฒ ฺฉู ุฏุฑ ูฺฉุงู ุญุงูุธูโุง ฺฉู ุจุง ุขู ุนูุตุฑ ุฏุฑ ุณุงุฎุชุงุฑ ุฏุงุฏู ูุทุงุจูุช ุฏุงุฑุฏ ุจุงุดุฏ ุฑุง ุฏุฑุงูุช ฺฉูุฏุ ุญุช ุงฺฏุฑ ุขู ุญุงูุธู ูุชุนูู ุจู ุขู ุณุงุฎุชุงุฑ ูุจุงุดุฏ. ุงู ุจู ุนููุงู <em>buffer overread</em> ุดูุงุฎุชู ูโุดูุฏ ู ูโุชูุงูุฏ ุจู ุขุณุจโูพุฐุฑโูุง ุงููุช ููุฌุฑ ุดูุฏ ุงฺฏุฑ ฺฉ ููุงุฌู ุจุชูุงูุฏ ุงูุฏุณ (index)ุฑุง ุจู ฺฏูููโุง ุฏุณุชฺฉุงุฑ ฺฉูุฏ ฺฉู ุฏุงุฏูโูุง ุฑุง ุจุฎูุงูุฏ ฺฉู ูุจุงุฏ ุจู ุขูโูุง ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ ู ูพุณ ุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฐุฎุฑู ุดุฏูโุงูุฏ.</p>
<p>ุจุฑุง ูุญุงูุธุช ุงุฒ ุจุฑูุงูู ุดูุง ุฏุฑ ุจุฑุงุจุฑ ุงู ููุน ุขุณุจโูพุฐุฑุ ุงฺฏุฑ ุชูุงุด ฺฉูุฏ ฺฉ ุนูุตุฑ ุฑุง ุฏุฑ ฺฉ ุงูุฏุณ ฺฉู ูุฌูุฏ ูุฏุงุฑุฏ ุจุฎูุงูุฏุ Rust ุงุฌุฑุง ุจุฑูุงูู ุฑุง ูุชููู ฺฉุฑุฏู ู ุงุฒ ุงุฏุงูู ุฏุงุฏู ุงูุชูุงุน ูโฺฉูุฏ. ุจุงุฏ ุงู ููุถูุน ุฑุง ุงูุชุญุงู ฺฉูู ู ุจุจูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling panic v0.1.0 (file:///projects/panic)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.27s
     Running `target/debug/panic`
thread 'main' panicked at src/main.rs:4:6:
index out of bounds: the len is 3 but the index is 99
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ุงู ุฎุทุง ุจู ุฎุท ด ูุงู <em>main.rs</em> ูุง ุงุดุงุฑู ูโฺฉูุฏุ ุฌุง ฺฉู ุณุน ุฏุงุฑู ุจู ุงูุฏุณ (index)<code>99</code> ุจุฑุฏุงุฑ <code>v</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉูู.</p>
<p>ุฎุท <code>note:</code> ุจู ูุง ูโฺฏูุฏ ฺฉู ูโุชูุงูู ูุชุบุฑ ูุญุท <code>RUST_BACKTRACE</code> ุฑุง ุชูุธู ฺฉูู ุชุง ฺฉ backtrace ุฏููุงู ุงุฒ ุขูฺู ุจุงุนุซ ุฎุทุง ุดุฏู ุงุณุช ุฏุฑุงูุช ฺฉูู. ฺฉ <em>backtrace</em> ูุณุช ุงุฒ ุชูุงู ุชูุงุจุน ุงุณุช ฺฉู ุชุง ุงู ููุทู ูุฑุงุฎูุงู ุดุฏูโุงูุฏ. backtraceูุง ุฏุฑ Rust ูุงููุฏ ุฒุจุงูโูุง ุฏฺฏุฑ ฺฉุงุฑ ูโฺฉููุฏ: ฺฉูุฏ ุฎูุงูุฏู backtrace ุงู ุงุณุช ฺฉู ุงุฒ ุจุงูุง ุดุฑูุน ฺฉุฑุฏู ู ุชุง ุฒูุงู ฺฉู ูุงูโูุง ฺฉู ุดูุง ููุดุชูโุงุฏ ุฑุง ุจุจูุฏุ ุจุฎูุงูุฏ. ุงู ููุงู ุฌุง ุงุณุช ฺฉู ูุดฺฉู ุงุฒ ุขูุฌุง ููุดุฃ ฺฏุฑูุชู ุงุณุช. ุฎุทูุท ุจุงูุงุชุฑ ุงุฒ ุขู ููุทู ฺฉุฏ ุงุณุช ฺฉู ฺฉุฏ ุดูุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุงุณุชุ ุฎุทูุท ูพุงูโุชุฑ ฺฉุฏ ุงุณุช ฺฉู ฺฉุฏ ุดูุง ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุงุณุช. ุงู ุฎุทูุท ูุจู ู ุจุนุฏ ููฺฉู ุงุณุช ุดุงูู ฺฉุฏ ูุณุชู Rustุ ฺฉุฏ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏุ ุง ุฌุนุจู(crate)ูุง ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏ ุจุงุดูุฏ. ุจุงุฏ ุจุง ุชูุธู ูุชุบุฑ ูุญุท <code>RUST_BACKTRACE</code> ุจู ูุฑ ููุฏุงุฑ ุจู ุบุฑ ุงุฒ <code>0</code> ฺฉ backtrace ุฏุฑุงูุช ฺฉูู. ูุณุช น-ฒ ุฎุฑูุฌ ูุดุงุจู ฺุฒ ุฑุง ฺฉู ุฎูุงูุฏ ุฏุฏ ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><code class="language-console">$ RUST_BACKTRACE=1 cargo run
thread 'main' panicked at src/main.rs:4:6:
index out of bounds: the len is 3 but the index is 99
stack backtrace:
   0: rust_begin_unwind
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/std/src/panicking.rs:662:5
   1: core::panicking::panic_fmt
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/panicking.rs:74:14
   2: core::panicking::panic_bounds_check
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/panicking.rs:276:5
   3: &lt;usize as core::slice::index::SliceIndex&lt;[T]&gt;&gt;::index
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/slice/index.rs:302:10
   4: core::slice::index::&lt;impl core::ops::index::Index&lt;I&gt; for [T]&gt;::index
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/slice/index.rs:16:9
   5: &lt;alloc::vec::Vec&lt;T,A&gt; as core::ops::index::Index&lt;I&gt;&gt;::index
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/alloc/src/vec/mod.rs:2920:9
   6: panic::main
             at ./src/main.rs:4:6
   7: core::ops::function::FnOnce::call_once
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/ops/function.rs:250:5
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.
</code></pre>
<figcaption>Listing 9-2: backtrace ุชููุฏ ุดุฏู ุชูุณุท ูุฑุงุฎูุงู ุจู <code>panic!</code> ฺฉู ููุช ูุชุบุฑ ูุญุท <code>RUST_BACKTRACE</code> ุชูุธู ุดุฏู ุงุณุช ููุงุด ุฏุงุฏู ูโุดูุฏ</figcaption>
</figure>
<p>ุงู ููุฏุงุฑ ุฒุงุฏ ุฎุฑูุฌ ุงุณุช! ุฎุฑูุฌ ุฏูู ููฺฉู ุงุณุช ุจุณุชู ุจู ุณุณุชู ุนุงูู ู ูุณุฎู Rust ุดูุง ูุชูุงูุช ุจุงุดุฏ. ุจุฑุง ุฏุฑุงูุช backtraceูุง ุจุง ุงู ุงุทูุงุนุงุชุ ุจุงุฏ ููุงุฏูุง ุงุดฺฉุงูโุฒุฏุง (debug symbols) ูุนุงู ุจุงุดูุฏ. ููุงุฏูุง ุงุดฺฉุงูโุฒุฏุง ุจู ุทูุฑ ูพุดโูุฑุถ ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ <code>cargo build</code> ุง <code>cargo run</code> ุจุฏูู ููฺฏ <code>--release</code> ูุนุงู ูุณุชูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ุงูุฌุงู ุฏุงุฏู.</p>
<p>ุฏุฑ ุฎุฑูุฌ ูุณุช น-ฒุ ุฎุท ถ ุงุฒ backtrace ุจู ุฎุท ุฏุฑ ูพุฑูฺู ูุง ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ุจุงุนุซ ูุดฺฉู ุดุฏู ุงุณุช: ุฎุท ด ูุงู <em>src/main.rs</em>. ุงฺฏุฑ ููโุฎูุงูู ุจุฑูุงูู ูุง ุฏฺุงุฑ ุฎุทุง ุดูุฏุ ุจุงุฏ ุจุฑุฑุณ ุฎูุฏ ุฑุง ุงุฒ ูฺฉุงู ฺฉู ุชูุณุท ุงููู ุฎุท ฺฉู ุงุดุงุฑู ุจู ูุงู ฺฉู ููุดุชูโุงู ุฏุงุฑุฏุ ุขุบุงุฒ ฺฉูู. ุฏุฑ ูุณุช น-ฑุ ุฌุง ฺฉู ุจู ุนูุฏ ฺฉุฏ ููุดุชูโุงู ฺฉู ุจุงุนุซ ุฎุทุง ุดูุฏุ ุฑุงู ุญู ุฑูุน ุงู ุฎุทุง ุงู ุงุณุช ฺฉู ุฏุฑุฎูุงุณุช ฺฉ ุนูุตุฑ ูุฑุงุชุฑ ุงุฒ ูุญุฏูุฏู ุงูุฏุณโูุง ุจุฑุฏุงุฑ ูฺฉูู. ุฒูุงู ฺฉู ฺฉุฏ ุดูุง ุฏุฑ ุขูุฏู ุฏฺุงุฑ ุฎุทุง ูโุดูุฏุ ุจุงุฏ ุจูููุฏ ฺฉู ฺฉุฏ ุจุง ฺู ููุงุฏุฑ ฺู ุนูู ุงูุฌุงู ูโุฏูุฏ ฺฉู ุจุงุนุซ ุฎุทุง ูโุดูุฏ ู ฺฉุฏ ฺู ฺฉุงุฑ ุจุงุฏ ุงูุฌุงู ุฏูุฏ.</p>
<p>ูุง ุฏุฑ ุจุฎุด <a href="ch09-03-to-panic-or-not-to-panic.html#to-panic-or-not-to-panic">โTo <code>panic!</code> or Not to <code>panic!</code>โ</a><!-- ignore --> ฺฉู ุจุนุฏุงู ุฏุฑ ุงู ูุตู ุขูุฏู ุงุณุชุ ุฏูุจุงุฑู ุจู ููุถูุน <code>panic!</code> ู ุฒูุงู ฺฉู ุจุงุฏ ู ูุจุงุฏ ุงุฒ <code>panic!</code> ุจุฑุง ูุฏุฑุช ุดุฑุงุท ุฎุทุง ุงุณุชูุงุฏู ฺฉูู ุจุงุฒุฎูุงูู ฺฏุดุช. ุงฺฉูููุ ุจู ุจุฑุฑุณ ูุญูู ุจุงุฒุงุจ ุงุฒ ฺฉ ุฎุทุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Result</code> ูโูพุฑุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฎุทุงูุง-ูุงุจู-ุจุงุฒุงุจ-ุจุง-result"><a class="header" href="#ุฎุทุงูุง-ูุงุจู-ุจุงุฒุงุจ-ุจุง-result">ุฎุทุงูุง ูุงุจู ุจุงุฒุงุจ ุจุง <code>Result</code></a></h2>
<p>ุจุดุชุฑ ุฎุทุงูุง ุจู ุงูุฏุงุฒูโุง ุฌุฏ ูุณุชูุฏ ฺฉู ูุงุฒ ุจู ุชููู ฺฉุงูู ุจุฑูุงูู ุฏุงุดุชู ุจุงุดูุฏ. ฺฏุงู ุงููุงุช ููุช
ฺฉ ุชุงุจุน ุจุง ุดฺฉุณุช ููุงุฌู ูโุดูุฏุ ุฏูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ุจู ุฑุงุญุช ุชูุณุฑ ฺฉุฑุฏู ู ุจู ุขู
ูพุงุณุฎ ุฏูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุจุฎูุงูุฏ ฺฉ ูุงู ุฑุง ุจุงุฒ ฺฉูุฏ ู ุงู ุนููุงุช ุจู ุฏูู ูุฌูุฏ ูุฏุงุดุชู ูุงู ุดฺฉุณุช
ุจุฎูุฑุฏุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ูุงู ุฑุง ุงุฌุงุฏ ฺฉูุฏ ุจู ุฌุง ุงูฺฉู ูุฑุขูุฏ ุฑุง ูุชููู ฺฉูุฏ.</p>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ุงุฒ ุจุฎุด <a href="ch02-00-guessing-game-tutorial.html#handling-potential-failure-with-result">โHandling Potential Failure with <code>Result</code>โ</a><!-- ignore -->
ุฏุฑ ูุตู ฒ ฺฉู <code>Result</code> ุจู ุตูุฑุช ฺฉ enum ุชุนุฑู ุดุฏู ฺฉู ุฏู ุญุงูุช ุฏุงุฑุฏุ <code>Ok</code> ู <code>Err</code>ุ ุจู ุตูุฑุช ุฒุฑ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Result&lt;T, E&gt; {
    Ok(T),
    Err(E),
}
<span class="boring">}</span></code></pre></pre>
<p><code>T</code> ู <code>E</code> ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ูุณุชูุฏ: ูุง ุฏุฑุจุงุฑู ุฌูุฑฺฉโูุง ุจู ุทูุฑ ฺฉุงููโุชุฑ ุฏุฑ ูุตู ฑฐ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.
ฺุฒ ฺฉู ุงฺฉููู ุจุงุฏ ุจุฏุงูุฏ ุงู ุงุณุช ฺฉู <code>T</code> ููุงุงูฺฏุฑ ููุน ููุฏุงุฑ ุงุณุช ฺฉู ุฏุฑ ุญุงูุช ููููุช ุฏุฑ ุฏุงุฎู <code>Ok</code>
ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏุ ู <code>E</code> ููุงุงูฺฏุฑ ููุน ุฎุทุง ุงุณุช ฺฉู ุฏุฑ ุญุงูุช ุดฺฉุณุช ุฏุฑ ุฏุงุฎู <code>Err</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.
ุฒุฑุง <code>Result</code> ุงู ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุฑุง ุฏุงุฑุฏุ ูโุชูุงูู ููุน <code>Result</code> ู ุชูุงุจุน ุชุนุฑู ุดุฏู ุฑู ุขู ุฑุง
ุฏุฑ ุจุณุงุฑ ุงุฒ ุดุฑุงุท ูุฎุชูู ฺฉู ููุงุฏุฑ ููููุช ู ุฎุทุง ููฺฉู ุงุณุช ูุชูุงูุช ุจุงุดูุฏุ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุจุงุฏ ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ฺฉูู ฺฉู ฺฉ ููุฏุงุฑ <code>Result</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุฒุฑุง ุงู ุชุงุจุน ููฺฉู ุงุณุช ุจุง ุดฺฉุณุช
ููุงุฌู ุดูุฏ. ุฏุฑ ูุณุช น-ณ ุณุน ูโฺฉูู ฺฉ ูุงู ุฑุง ุจุงุฒ ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::fs::File;

fn main() {
    let greeting_file_result = File::open("hello.txt");
}</code></pre></pre>
<figcaption>Listing 9-3: ุจุงุฒ ฺฉุฑุฏู ฺฉ ูุงู</figcaption>
</figure>
<p>ููุน ุจุงุฒฺฏุดุช <code>File::open</code> ฺฉ <code>Result&lt;T, E&gt;</code> ุงุณุช. ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ <code>T</code> ุชูุณุท ูพุงุฏูโุณุงุฒ
<code>File::open</code> ุจุง ููุน ููุฏุงุฑ ููููุชุ ุนู <code>std::fs::File</code>ุ ฺฉู ฺฉ ูุงู ููุฏู ุงุณุชุ ููุฏุงุฑุฏู
ุดุฏู ุงุณุช. ููุน <code>E</code> ุงุณุชูุงุฏู ุดุฏู ุฏุฑ ููุฏุงุฑ ุฎุทุง <code>std::io::Error</code> ุงุณุช. ุงู ููุน ุจุงุฒฺฏุดุช ุจู ุงู ูุนู
ุงุณุช ฺฉู ูุฑุงุฎูุงู <code>File::open</code> ููฺฉู ุงุณุช ููููุชโุขูุฒ ุจุงุดุฏ ู ฺฉ ูุงู ููุฏู ุจุงุฒฺฏุฑุฏุงูุฏ ฺฉู ูโุชูุงูู ุงุฒ
ุขู ุจุฑุง ุฎูุงูุฏู ุง ููุดุชู ุงุณุชูุงุฏู ฺฉูู. ููฺูู ููฺฉู ุงุณุช ุงู ูุฑุงุฎูุงู ุจุง ุดฺฉุณุช ููุงุฌู ุดูุฏ: ุจุฑุง ูุซุงูุ
ูุงู ููฺฉู ุงุณุช ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ ุง ููฺฉู ุงุณุช ูุฌูุฒ ุฏุณุชุฑุณ ุจู ูุงู ุฑุง ูุฏุงุดุชู ุจุงุดู. ุชุงุจุน <code>File::open</code>
ุจุงุฏ ุฑูุด ุฏุงุดุชู ุจุงุดุฏ ุชุง ุจู ูุง ุจฺฏูุฏ ฺฉู ุขุง ููููุชโุขูุฒ ุจูุฏ ุง ุดฺฉุณุช ุฎูุฑุฏ ู ุฏุฑ ุนู ุญุงู ูุงู ููุฏู ุง
ุงุทูุงุนุงุช ุฎุทุง ุฑุง ุจู ูุง ุจุฏูุฏ. ุงู ุงุทูุงุนุงุช ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู enum <code>Result</code> ููุชูู ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุญุงูุช ฺฉู <code>File::open</code> ููููุชโุขูุฒ ุจุงุดุฏุ ููุฏุงุฑ ุฏุฑ ูุชุบุฑ <code>greeting_file_result</code> ฺฉ ููููู ุงุฒ <code>Ok</code>
ุฎูุงูุฏ ุจูุฏ ฺฉู ฺฉ ูุงู ููุฏู ุฑุง ุดุงูู ูโุดูุฏ. ุฏุฑ ุญุงูุช ฺฉู ุจุง ุดฺฉุณุช ููุงุฌู ุดูุฏุ ููุฏุงุฑ ุฏุฑ
<code>greeting_file_result</code> ฺฉ ููููู ุงุฒ <code>Err</code> ุฎูุงูุฏ ุจูุฏ ฺฉู ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ููุน ุฎุทุง ฺฉู ุฑุฎ
ุฏุงุฏู ุงุณุช ุฑุง ุดุงูู ูโุดูุฏ.</p>
<p>ุจุงุฏ ุจู ฺฉุฏ ุฏุฑ ูุณุช น-ณ ุงุถุงูู ฺฉูู ุชุง ุงูุฏุงูุงุช ูุชูุงูุช ุจุณุชู ุจู ููุฏุงุฑ ฺฉู <code>File::open</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ
ุงูุฌุงู ุฏูู. ูุณุช น-ด ฺฉ ุฑูุด ุจุฑุง ูุฏุฑุช <code>Result</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงุจุฒุงุฑ ูพุงูุ ุนู ุนุจุงุฑุช <code>match</code>
ฺฉู ุฏุฑ ูุตู ถ ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชุ ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust should_panic edition2021">use std::fs::File;

fn main() {
    let greeting_file_result = File::open("hello.txt");

    let greeting_file = match greeting_file_result {
        Ok(file) =&gt; file,
        Err(error) =&gt; panic!("Problem opening the file: {error:?}"),
    };
}</code></pre></pre>
<figcaption>Listing 9-4: ุงุณุชูุงุฏู ุงุฒ ุนุจุงุฑุช <code>match</code> ุจุฑุง ูุฏุฑุช ุญุงูุชโูุง <code>Result</code> ฺฉู ููฺฉู ุงุณุช ุจุงุฒฺฏุฑุฏุงูุฏู ุดูุฏ</figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุงููุฏ enum <code>Option</code>ุ enum <code>Result</code> ู ุญุงูุงุช ุขู ุจู ูุณูู prelude ุจู ูุญุฏูุฏู ุขูุฑุฏู ุดุฏูโุงูุฏุ ุจูุงุจุฑุงู ูุงุฒ ูุณุช ูุจู ุงุฒ ุญุงูุงุช <code>Ok</code> ู <code>Err</code> ุฏุฑ ุจุงุฒููุง <code>match</code> ุงุฒ <code>Result::</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ููุช ูุชุฌู <code>Ok</code> ุจุงุดุฏุ ุงู ฺฉุฏ ููุฏุงุฑ ุฏุงุฎู <code>file</code> ุฑุง ุงุฒ ุญุงูุช <code>Ok</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ุณูพุณ ุขู ููุฏุงุฑ ูุงู ููุฏู ุฑุง ุจู ูุชุบุฑ <code>greeting_file</code> ุงุฎุชุตุงุต ูโุฏูู. ุจุนุฏ ุงุฒ <code>match</code>ุ ูโุชูุงูู ุงุฒ ูุงู ููุฏู ุจุฑุง ุฎูุงูุฏู ุง ููุดุชู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุจุงุฒู ุฏฺฏุฑ <code>match</code> ุญุงูุช ุฒูุงู ุฑุง ูุฏุฑุช ูโฺฉูุฏ ฺฉู ุงุฒ <code>File::open</code> ฺฉ ููุฏุงุฑ <code>Err</code> ุฏุฑุงูุช ูโฺฉูู. ุฏุฑ ุงู ูุซุงูุ ุชุตูู ฺฏุฑูุชูโุงู ูุงฺฉุฑู <code>panic!</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ุงฺฏุฑ ูุงู <em>hello.txt</em> ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูุนู ูุง ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ ู ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ุงุฒ ูุงฺฉุฑู <code>panic!</code> ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling error-handling v0.1.0 (file:///projects/error-handling)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.73s
     Running `target/debug/error-handling`
thread 'main' panicked at src/main.rs:8:23:
Problem opening the file: Os { code: 2, kind: NotFound, message: "No such file or directory" }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ูุซู ููุดูุ ุงู ุฎุฑูุฌ ุฏููุงู ุจู ูุง ูโฺฏูุฏ ฺู ุงุดุชุจุงู ุฑุฎ ุฏุงุฏู ุงุณุช.</p>
<h3 id="ูุทุงุจูุช-ุจุฑ-ุงุณุงุณ-ุฎุทุงูุง-ูุฎุชูู"><a class="header" href="#ูุทุงุจูุช-ุจุฑ-ุงุณุงุณ-ุฎุทุงูุง-ูุฎุชูู">ูุทุงุจูุช ุจุฑ ุงุณุงุณ ุฎุทุงูุง ูุฎุชูู</a></h3>
<p>ฺฉุฏ ุฏุฑ ูุณุช น-ด ุฏุฑ ูุฑ ุตูุฑุช ฺฉู <code>File::open</code> ุจุง ุดฺฉุณุช ููุงุฌู ุดูุฏุ ูุงฺฉุฑู <code>panic!</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ูุง ูโุฎูุงูู ุงูุฏุงูุงุช ูุชูุงูุช ุจุฑุง ุฏูุงู ูุฎุชูู ุดฺฉุณุช ุงูุฌุงู ุฏูู. ุงฺฏุฑ <code>File::open</code> ุจู ุฏูู ูุฌูุฏ ูุฏุงุดุชู ูุงู ุดฺฉุณุช ุจุฎูุฑุฏุ ูโุฎูุงูู ูุงู ุฑุง ุงุฌุงุฏ ฺฉูู ู ููุฏู ูุงู ุฌุฏุฏ ุฑุง ุจุงุฒฺฏุฑุฏุงูู. ุงฺฏุฑ <code>File::open</code> ุจู ุฏูุงู ุฏฺฏุฑ ุดฺฉุณุช ุจุฎูุฑุฏโุจุฑุง ูุซุงูุ ุจู ุฏูู ูุฏุงุดุชู ูุฌูุฒ ุจุงุฒ ฺฉุฑุฏู ูุงูโููฺูุงู ูโุฎูุงูู ฺฉุฏ ูุงููุฏ ูุณุช น-ด <code>panic!</code> ฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑุ ฺฉ ุนุจุงุฑุช <code>match</code> ุฏุงุฎู ุงุถุงูู ูโฺฉูู ฺฉู ุฏุฑ ูุณุช น-ต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use std::fs::File;
use std::io::ErrorKind;

fn main() {
    let greeting_file_result = File::open("hello.txt");

    let greeting_file = match greeting_file_result {
        Ok(file) =&gt; file,
        Err(error) =&gt; match error.kind() {
            ErrorKind::NotFound =&gt; match File::create("hello.txt") {
                Ok(fc) =&gt; fc,
                Err(e) =&gt; panic!("Problem creating the file: {e:?}"),
            },
            other_error =&gt; {
                panic!("Problem opening the file: {other_error:?}");
            }
        },
    };
}</code></pre>
<figcaption>Listing 9-5: ูุฏุฑุช ุงููุงุน ูุฎุชูู ุฎุทุงูุง ุจู ุฑูุดโูุง ูุฎุชูู</figcaption>
</figure>
<p>ููุน ููุฏุงุฑ ฺฉู <code>File::open</code> ุฏุฑูู ุญุงูุช <code>Err</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ <code>io::Error</code> ุงุณุช ฺฉู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุงุฑุงุฆู ุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุณุช. ุงู ุณุงุฎุชุงุฑ ุฏุงุฑุง ูุชุฏ ุจู ูุงู <code>kind</code> ุงุณุช ฺฉู ูโุชูุงูู ุขู ุฑุง ุจุฑุง ุฏุฑุงูุช ููุฏุงุฑ <code>io::ErrorKind</code> ูุฑุงุฎูุงู ฺฉูู. enum <code>io::ErrorKind</code> ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ุดุฏู ู ุดุงูู ุญุงูุชโูุง ุงุณุช ฺฉู ุงููุงุน ูุฎุชูู ุฎุทุงูุง ููฺฉู ุฏุฑ ฺฉ ุนููุงุช <code>io</code> ุฑุง ููุงุด ูโุฏูุฏ. ุญุงูุช ฺฉู ูโุฎูุงูู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู <code>ErrorKind::NotFound</code> ุงุณุช ฺฉู ูุดุงู ูโุฏูุฏ ูุงู ููุฑุฏ ูุธุฑ ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ูููุฒ ูุฌูุฏ ูุฏุงุฑุฏ. ุจูุงุจุฑุงูุ ูุง ุจุฑ ุฑู <code>greeting_file_result</code> ูุทุงุจูุช ูโุฏููุ ุงูุง ููฺูู ฺฉ <code>match</code> ุฏุงุฎู ุจุฑ ุฑู <code>error.kind()</code> ุฏุงุฑู.</p>
<p>ุดุฑุท ฺฉู ูโุฎูุงูู ุฏุฑ <code>match</code> ุฏุงุฎู ุจุฑุฑุณ ฺฉูู ุงู ุงุณุช ฺฉู ุขุง ููุฏุงุฑ ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู ุชูุณุท <code>error.kind()</code> ููุงู ุญุงูุช <code>NotFound</code> ุงุฒ enum <code>ErrorKind</code> ุงุณุช ุง ุฎุฑ. ุงฺฏุฑ ฺูู ุจุงุดุฏุ ุณุน ูโฺฉูู ูุงู ุฑุง ุจุง <code>File::create</code> ุงุฌุงุฏ ฺฉูู. ุจุง ุงู ุญุงูุ ุงุฒ ุขูุฌุง ฺฉู <code>File::create</code> ูุฒ ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏุ ุจู ฺฉ ุจุงุฒู ุฏูู ุฏุฑ ุนุจุงุฑุช <code>match</code> ุฏุงุฎู ูุงุฒ ุฏุงุฑู. ููฺฏุงู ฺฉู ูุงู ููโุชูุงูุฏ ุงุฌุงุฏ ุดูุฏุ ฺฉ ูพุงู ุฎุทุง ูุชูุงูุช ฺุงูพ ูโุดูุฏ. ุจุงุฒู ุฏูู <code>match</code> ุจุฑูู ุจู ููุงู ุดฺฉู ุจุงู ูโูุงูุฏุ ุจูุงุจุฑุงู ุจุฑูุงูู ุจุฑุง ูุฑ ุฎุทุง ุจู ุฌุฒ ุฎุทุง ูุฌูุฏ ูุฏุงุดุชู ูุงูุ ุจุง ุฎุทุง ูุชููู ูโุดูุฏ.</p>
<section class="note" aria-role="note">
<h4 id="ุฌุงฺฏุฒููุง-ุจุฑุง-ุงุณุชูุงุฏู-ุงุฒ-match-ุจุง-resultt-e"><a class="header" href="#ุฌุงฺฏุฒููุง-ุจุฑุง-ุงุณุชูุงุฏู-ุงุฒ-match-ุจุง-resultt-e">ุฌุงฺฏุฒูโูุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุจุง <code>Result&lt;T, E&gt;</code></a></h4>
<p>ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุฒุงุฏ ุงุณุช! ุนุจุงุฑุช <code>match</code> ุจุณุงุฑ ููุฏ ุงุณุช ุงูุง ููฺูุงู ุงุจุชุฏุง ูุญุณูุจ ูโุดูุฏ.
ุฏุฑ ูุตู ฑณุ ุฏุฑุจุงุฑู closures ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช ฺฉู ุฏุฑ ุจุณุงุฑ ุงุฒ ูุชุฏูุง ฺฉู ุฑู <code>Result&lt;T, E&gt;</code>
ุชุนุฑู ุดุฏูโุงูุฏ ุงุณุชูุงุฏู ูโุดููุฏ. ุงู ูุชุฏูุง ูโุชูุงููุฏ ููฺฏุงู ูุฏุฑุช ููุงุฏุฑ <code>Result&lt;T, E&gt;</code> ุฏุฑ ฺฉุฏ ุดูุงุ
ูุฎุชุตุฑุชุฑ ุงุฒ ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุจุงุดูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ุฏุฑ ุงูุฌุง ุฑุงู ุฏฺฏุฑ ุจุฑุง ููุดุชู ููุงู ููุทู ูุดุงู ุฏุงุฏู ุดุฏู ุฏุฑ ูุณุช น-ต ุขูุฑุฏู ุดุฏู ุงุณุชุ
ุงู ุจุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ closures ู ูุชุฏ <code>unwrap_or_else</code>:</p>
<pre><code class="language-rust ignore">use std::fs::File;
use std::io::ErrorKind;

fn main() {
    let greeting_file = File::open("hello.txt").unwrap_or_else(|error| {
        if error.kind() == ErrorKind::NotFound {
            File::create("hello.txt").unwrap_or_else(|error| {
                panic!("Problem creating the file: {error:?}");
            })
        } else {
            panic!("Problem opening the file: {error:?}");
        }
    });
}</code></pre>
<p>ุงฺฏุฑฺู ุงู ฺฉุฏ ููุงู ุฑูุชุงุฑ ูุณุช น-ต ุฑุง ุฏุงุฑุฏุ ุงูุง ุดุงูู ูฺ ุนุจุงุฑุช <code>match</code> ูุณุช ู ุฎูุงูุฏู ุขู ุชูุฒุชุฑ ุงุณุช.
ุจุนุฏ ุงุฒ ุฎูุงูุฏู ูุตู ฑณุ ุจู ุงู ูุซุงู ุจุงุฒฺฏุฑุฏุฏ ู ูุชุฏ <code>unwrap_or_else</code> ุฑุง ุฏุฑ ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ
ุจุฑุฑุณ ฺฉูุฏ. ุจุณุงุฑ ุงุฒ ุงู ูุชุฏูุง ูโุชูุงููุฏ ุนุจุงุฑุชโูุง <code>match</code> ุชู ุฏุฑ ุชู ุฑุง ููฺฏุงู ฺฉุงุฑ ุจุง ุฎุทุงูุง ุณุงุฏู ฺฉููุฏ.</p>
</section>
<h4 id="ูุงูุจุฑูุง-ุจุฑุง-ุชููู-ุจุฑูุงูู-ุฏุฑ-ุตูุฑุช-ุฎุทุง-unwrap-ู-expect"><a class="header" href="#ูุงูุจุฑูุง-ุจุฑุง-ุชููู-ุจุฑูุงูู-ุฏุฑ-ุตูุฑุช-ุฎุทุง-unwrap-ู-expect">ูุงูโุจุฑูุง ุจุฑุง ุชููู ุจุฑูุงูู ุฏุฑ ุตูุฑุช ุฎุทุง: <code>unwrap</code> ู <code>expect</code></a></h4>
<p>ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุจู ุงูุฏุงุฒู ฺฉุงู ุฎูุจ ฺฉุงุฑ ูโฺฉูุฏุ ุงูุง ููฺฉู ุงุณุช ฺฉู ุทููุงู ุจุงุดุฏ ู ููุดู ุจู ุฎูุจ ูุช
ุฑุง ููุชูู ูฺฉูุฏ. ููุน <code>Result&lt;T, E&gt;</code> ุฏุงุฑุง ุจุณุงุฑ ุงุฒ ูุชุฏูุง ฺฉูฺฉ ุงุณุช ฺฉู ุจุฑุง ุงูุฌุงู ูุธุงู ุฎุงุตโุชุฑ ุชุนุฑู
ุดุฏูโุงูุฏ. ูุชุฏ <code>unwrap</code> ฺฉ ุฑูุด ูุงูโุจุฑ ุงุณุช ฺฉู ุฏููุงู ูุงููุฏ ุนุจุงุฑุช <code>match</code> ฺฉู ุฏุฑ ูุณุช น-ด ููุดุชูุ
ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ุงฺฏุฑ ููุฏุงุฑ <code>Result</code> ุฏุฑ ุญุงูุช <code>Ok</code> ุจุงุดุฏุ <code>unwrap</code> ููุฏุงุฑ ุฏุงุฎู <code>Ok</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.
ุงฺฏุฑ ููุฏุงุฑ <code>Result</code> ุฏุฑ ุญุงูุช <code>Err</code> ุจุงุดุฏุ <code>unwrap</code> ูุงฺฉุฑู <code>panic!</code> ุฑุง ุจุฑุง ูุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุฏุฑ ุงูุฌุง
ฺฉ ูุซุงู ุงุฒ ุงุณุชูุงุฏู ุงุฒ <code>unwrap</code> ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust should_panic edition2021">use std::fs::File;

fn main() {
    let greeting_file = File::open("hello.txt").unwrap();
}</code></pre></pre>
</figure>
<p>ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุจุฏูู ูุงู <em>hello.txt</em> ุงุฌุฑุง ฺฉููุ ฺฉ ูพุงู ุฎุทุง ุงุฒ ูุฑุงุฎูุงู <code>panic!</code> ฺฉู ูุชุฏ <code>unwrap</code> ุงูุฌุงู
ูโุฏูุฏ ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-text">thread 'main' panicked at src/main.rs:4:49:
called `Result::unwrap()` on an `Err` value: Os { code: 2, kind: NotFound, message: "No such file or directory" }
</code></pre>
<p>ุจู ููู ุชุฑุชุจุ ูุชุฏ <code>expect</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ูพุงู ุฎุทุง ูุงฺฉุฑู <code>panic!</code> ุฑุง ูุฒ ุงูุชุฎุงุจ ฺฉูู. ุงุณุชูุงุฏู
ุงุฒ <code>expect</code> ุจู ุฌุง <code>unwrap</code> ู ุงุฑุงุฆู ูพุงูโูุง ุฎุทุง ุฎูุจ ูโุชูุงูุฏ ูุช ุดูุง ุฑุง ุจูุชุฑ ููุชูู ฺฉูุฏ ู ูพฺฏุฑ ููุจุน
ฺฉ ุฎุทุง ุฑุง ุขุณุงูโุชุฑ ฺฉูุฏ. ุณูุชฺฉุณ <code>expect</code> ุจู ุงู ุดฺฉู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust should_panic edition2021">use std::fs::File;

fn main() {
    let greeting_file = File::open("hello.txt")
        .expect("hello.txt should be included in this project");
}</code></pre></pre>
</figure>
<p>ูุง ุงุฒ <code>expect</code> ุจู ููุงู ุดููโุง ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ูโฺฉูู: ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ูุงู ููุฏู ุง ูุฑุงุฎูุงู ูุงฺฉุฑู <code>panic!</code>. ูพุงู ุฎุทุง ฺฉู ุชูุณุท <code>expect</code> ุฏุฑ ูุฑุงุฎูุงู <code>panic!</code> ุงุณุชูุงุฏู ูโุดูุฏุ ูพุงุฑุงูุชุฑ ุงุณุช ฺฉู ูุง ุจู <code>expect</code> ูโุฏููุ ุจู ุฌุง ูพุงู ูพุดโูุฑุถ <code>panic!</code> ฺฉู ุชูุณุท <code>unwrap</code> ุงุณุชูุงุฏู ูโุดูุฏ. ุงูุฌุง ฺุฒ ุงุณุช ฺฉู ุจู ูุธุฑ ูโุฑุณุฏ:</p>
<pre><code class="language-text">thread 'main' panicked at src/main.rs:5:10:
hello.txt should be included in this project: Os { code: 2, kind: NotFound, message: "No such file or directory" }
</code></pre>
<p>ุฏุฑ ฺฉุฏ ุจุง ฺฉูุช ุชููุฏุ ุจุดุชุฑ Rustaceanูุง <code>expect</code> ุฑุง ุจู ุฌุง <code>unwrap</code> ุงูุชุฎุงุจ ูโฺฉููุฏ ู ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุงูฺฉู ฺุฑุง ุนููุงุช ุจุงุฏ ููุดู ููููุชโุขูุฒ ุจุงุดุฏ ุงุฑุงุฆู ูโุฏููุฏ. ุจู ุงู ุชุฑุชุจุ ุงฺฏุฑ ูุฑุถุงุช ุดูุง ูุฑฺฏุฒ ุงุดุชุจุงู ุซุงุจุช ุดููุฏุ ุงุทูุงุนุงุช ุจุดุชุฑ ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุงุดฺฉุงูโุฒุฏุง ุฎูุงูุฏ ุฏุงุดุช.</p>
<h3 id="ุงูุชุดุงุฑ-ุฎุทุงูุง-propagating-errors"><a class="header" href="#ุงูุชุดุงุฑ-ุฎุทุงูุง-propagating-errors">ุงูุชุดุงุฑ ุฎุทุงูุง (Propagating Errors)</a></h3>
<p>ููุช ูพุงุฏูโุณุงุฒ ฺฉ ุชุงุจุน ฺุฒ ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ฺฉู ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏุ ุจู ุฌุง ูุฏุฑุช ุฎุทุง ุฏุฑูู ุฎูุฏ ุชุงุจุนุ ูโุชูุงูุฏ ุฎุทุง ุฑุง ุจู ฺฉุฏ ฺฉู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุงุณุช ุจุงุฒฺฏุฑุฏุงูุฏ ุชุง ุชุตูู ุจฺฏุฑุฏ ฺู ฺฉุงุฑ ุงูุฌุงู ุฏูุฏ. ุงู ุจู ุนููุงู <em>ุงูุชุดุงุฑ ุฎุทุง</em> ุดูุงุฎุชู ูโุดูุฏ ู ฺฉูุชุฑู ุจุดุชุฑ ุจู ฺฉุฏ ฺฉู ูุฑุงุฎูุงู ูโฺฉูุฏ ูโุฏูุฏุ ุฌุง ฺฉู ููฺฉู ุงุณุช ุงุทูุงุนุงุช ุง ููุทู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุนู ฺฉูุฏ ฺฺฏููู ุจุงุฏ ุฎุทุง ูุฏุฑุช ุดูุฏ ุจุดุชุฑ ุงุฒ ุขูฺู ุฏุฑ ุฒููู ฺฉุฏ ุดูุง ููุฌูุฏ ุงุณุช.</p>
<p>ุจุฑุง ูุซุงูุ ูุณุช น-ถ ฺฉ ุชุงุจุน ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ูุงู ฺฉุงุฑุจุฑ ุฑุง ุงุฒ ฺฉ ูุงู ูโุฎูุงูุฏ. ุงฺฏุฑ ูุงู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ ุง ูุงุจู ุฎูุงูุฏู ูุจุงุดุฏุ ุงู ุชุงุจุน ุขู ุฎุทุงูุง ุฑุง ุจู ฺฉุฏ ฺฉู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fs::File;
use std::io::{self, Read};

fn read_username_from_file() -&gt; Result&lt;String, io::Error&gt; {
    let username_file_result = File::open("hello.txt");

    let mut username_file = match username_file_result {
        Ok(file) =&gt; file,
        Err(e) =&gt; return Err(e),
    };

    let mut username = String::new();

    match username_file.read_to_string(&amp;mut username) {
        Ok(_) =&gt; Ok(username),
        Err(e) =&gt; Err(e),
    }
}
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 9-6: ฺฉ ุชุงุจุน ฺฉู ุฎุทุงูุง ุฑุง ุจู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุจุงุฒูโฺฏุฑุฏุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>match</code></figcaption>
</figure>
<p>ุงู ุชุงุจุน ูโุชูุงูุฏ ุจู ุฑูุด ุจุณุงุฑ ฺฉูุชุงูโุชุฑ ููุดุชู ุดูุฏุ ุงูุง ูุง ูุฑุงุฑ ุงุณุช ุจุง ุงูุฌุงู ุจุณุงุฑ ุงุฒ ฺฉุงุฑูุง ุจู ุตูุฑุช ุฏุณุชุ ูุฏุฑุช ุฎุทุงูุง ุฑุง ุจุฑุฑุณ ฺฉูู. ุฏุฑ ุงูุชูุงุ ุฑุงู ฺฉูุชุงูโุชุฑ ุฑุง ูุดุงู ุฎูุงูู ุฏุงุฏ. ุจุงุฏ ุงุจุชุฏุง ุจู ููุน ุจุงุฒฺฏุดุช ุชุงุจุน ูฺฏุงู ฺฉูู: <code>Result&lt;String, io::Error&gt;</code>. ุงู ุจู ุงู ูุนูุงุณุช ฺฉู ุชุงุจุน ููุฏุงุฑ ุงุฒ ููุน <code>Result&lt;T, E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุฌุง ฺฉู ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ <code>T</code> ุจุง ููุน ูุดุฎุต <code>String</code> ููุฏุงุฑุฏู ุดุฏู ุงุณุช ู ููุน ุฌูุฑฺฉ <code>E</code> ุจุง ููุน ูุดุฎุต <code>io::Error</code>.</p>
<p>ุงฺฏุฑ ุงู ุชุงุจุน ุจุฏูู ูฺ ูุดฺฉู ููููุชโุขูุฒ ุจุงุดุฏุ ฺฉุฏ ฺฉู ุงู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ฺฉ ููุฏุงุฑ <code>Ok</code> ุฏุฑุงูุช ูโฺฉูุฏ ฺฉู ฺฉ <code>String</code> ุฑุง ูฺฏูุฏุงุฑ ูโฺฉูุฏโูุงู ฺฉุงุฑุจุฑโุง ฺฉู ุงู ุชุงุจุน ุงุฒ ูุงู ุฎูุงูุฏู ุงุณุช. ุงฺฏุฑ ุงู ุชุงุจุน ุจุง ูุดฺฉู ููุงุฌู ุดูุฏุ ฺฉุฏ ฺฉู ุขู ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุงุณุช ฺฉ ููุฏุงุฑ <code>Err</code> ุฏุฑุงูุช ูโฺฉูุฏ ฺฉู ฺฉ ููููู ุงุฒ <code>io::Error</code> ุฑุง ูฺฏูุฏุงุฑ ูโฺฉูุฏ ฺฉู ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ูุดฺฉูุงุช ฺฉู ุฑุฎ ุฏุงุฏูโุงูุฏ ุดุงูู ูโุดูุฏ. ูุง <code>io::Error</code> ุฑุง ุจู ุนููุงู ููุน ุจุงุฒฺฏุดุช ุงู ุชุงุจุน ุงูุชุฎุงุจ ฺฉุฑุฏู ุฒุฑุง ุงู ููุงู ููุน ุงุณุช ฺฉู ููุฏุงุฑ ุฎุทุง ุงุฒ ูุฑ ุฏู ุนููุงุช ูุฑุงุฎูุงู ุดุฏู ุฏุฑ ุจุฏูู ุงู ุชุงุจุน ฺฉู ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑูุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ: ุชุงุจุน <code>File::open</code> ู ูุชุฏ <code>read_to_string</code>.</p>
<p>ุจุฏูู ุชุงุจุน ุจุง ูุฑุงุฎูุงู ุชุงุจุน <code>File::open</code> ุดุฑูุน ูโุดูุฏ. ุณูพุณ ููุฏุงุฑ <code>Result</code> ุฑุง ุจุง ฺฉ <code>match</code> ูุดุงุจู
ุขูฺู ุฏุฑ ูุณุช น-ด ุฏุฏู ูุฏุฑุช ูโฺฉูู. ุงฺฏุฑ <code>File::open</code> ูููู ุดูุฏุ ููุฏู ูุงู ุฏุฑ ูุชุบุฑ ุงูฺฏู <code>file</code>
ุจู ููุฏุงุฑ ุฏุฑ ูุชุบุฑ ูุงุจู ุชุบุฑ <code>username_file</code> ุชุจุฏู ูโุดูุฏ ู ุชุงุจุน ุงุฏุงูู ูโุงุจุฏ. ุฏุฑ ุญุงูุช <code>Err</code>ุ
ุจู ุฌุง ูุฑุงุฎูุงู <code>panic!</code>ุ ุงุฒ ฺฉูุฏูุงฺู <code>return</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุฒูุฏุชุฑ ุงุฒ ุชุงุจุน ุฎุงุฑุฌ ุดูู ู ููุฏุงุฑ
ุฎุทุง ุงุฒ <code>File::open</code> ฺฉู ุงฺฉููู ุฏุฑ ูุชุบุฑ ุงูฺฏู <code>e</code> ูุฑุงุฑ ุฏุงุฑุฏ ุฑุง ุจู ฺฉุฏ ฺฉู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ุจุงุฒฺฏุฑุฏุงูู.</p>
<p>ุจูุงุจุฑุงูุ ุงฺฏุฑ ฺฉ ููุฏู ูุงู ุฏุฑ <code>username_file</code> ุฏุงุดุชู ุจุงุดูุ ุชุงุจุน ุณูพุณ ฺฉ <code>String</code> ุฌุฏุฏ ุฏุฑ ูุชุบุฑ
<code>username</code> ุงุฌุงุฏ ฺฉุฑุฏู ู ูุชุฏ <code>read_to_string</code> ุฑุง ุฑู ููุฏู ูุงู ุฏุฑ <code>username_file</code> ูุฑุงุฎูุงู ูโฺฉูุฏ
ุชุง ูุญุชูุง ูุงู ุฑุง ุฏุฑ <code>username</code> ุจุฎูุงูุฏ. ูุชุฏ <code>read_to_string</code> ูุฒ ฺฉ ููุฏุงุฑ <code>Result</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ
ุฒุฑุง ููฺฉู ุงุณุช ุจุง ุดฺฉุณุช ููุงุฌู ุดูุฏุ ุญุช ุงฺฏุฑ <code>File::open</code> ูููู ุจูุฏู ุจุงุดุฏ. ุจูุงุจุฑุงูุ ุจู ฺฉ <code>match</code>
ุฏฺฏุฑ ุจุฑุง ูุฏุฑุช ุขู <code>Result</code> ูุงุฒ ุฏุงุฑู: ุงฺฏุฑ <code>read_to_string</code> ูููู ุดูุฏุ ุขูฺฏุงู ุชุงุจุน ูุง ููููุชโุขูุฒ
ุจูุฏู ู ูุงู ฺฉุงุฑุจุฑ ุงุฒ ูุงู ฺฉู ุงฺฉููู ุฏุฑ <code>username</code> ุงุณุชุ ุฏุฑูู ฺฉ <code>Ok</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ
<code>read_to_string</code> ุดฺฉุณุช ุจุฎูุฑุฏุ ููุฏุงุฑ ุฎุทุง ุฑุง ุจู ููุงู ุดููโุง ฺฉู ููุฏุงุฑ ุฎุทุง ุฑุง ุฏุฑ <code>match</code> ฺฉู ููุฏุงุฑ
ุจุงุฒฺฏุดุช <code>File::open</code> ุฑุง ูุฏุฑุช ูโฺฉุฑุฏ ุจุงุฒูโฺฏุฑุฏุงูู. ุจุง ุงู ุญุงูุ ูุงุฒ ูุณุช ฺฉู ุจู ุตุฑุงุญุช ุจฺฏูู
<code>return</code>ุ ุฒุฑุง ุงู ุขุฎุฑู ุนุจุงุฑุช ุฏุฑ ุชุงุจุน ุงุณุช.</p>
<p>ฺฉุฏ ฺฉู ุงู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุณูพุณ ูุฏุฑุช ุฏุฑุงูุช ููุฏุงุฑ <code>Ok</code> ฺฉู ุดุงูู ฺฉ ูุงู ฺฉุงุฑุจุฑ ุงุณุช ุง
ููุฏุงุฑ <code>Err</code> ฺฉู ุดุงูู ฺฉ <code>io::Error</code> ุงุณุช ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุงู ุจู ฺฉุฏ ฺฉู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุจุณุชฺฏ ุฏุงุฑุฏ
ฺฉู ุชุตูู ุจฺฏุฑุฏ ุจุง ุงู ููุงุฏุฑ ฺู ฺฉุงุฑ ุงูุฌุงู ุฏูุฏ. ุงฺฏุฑ ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ฺฉ ููุฏุงุฑ <code>Err</code> ุฏุฑุงูุช ฺฉูุฏุ
ูโุชูุงูุฏ <code>panic!</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ู ุจุฑูุงูู ุฑุง ูุชููู ฺฉูุฏุ ุงุฒ ฺฉ ูุงู ฺฉุงุฑุจุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ฺฉูุฏุ ุง
ุจู ุฌุง ูุงู ูุงู ฺฉุงุฑุจุฑ ุฑุง ุงุฒ ูฺฉุงู ุฏฺฏุฑ ุฌุณุชุฌู ฺฉูุฏุ ุจุฑุง ูุซุงู. ูุง ุงุทูุงุนุงุช ฺฉุงู ุฏุฑุจุงุฑู ุงูฺฉู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู
ุฏููุงู ฺู ูโุฎูุงูุฏ ุงูุฌุงู ุฏูุฏ ูุฏุงุฑูุ ุจูุงุจุฑุงู ุชูุงู ุงุทูุงุนุงุช ููููุช ุง ุฎุทุง ุฑุง ุจู ุจุงูุง ููุชูู ูโฺฉูู
ุชุง ุขู ุฑุง ุจู ุฏุฑุณุช ูุฏุฑุช ฺฉูุฏ.</p>
<p>ุงู ุงูฺฏู ุงูุชุดุงุฑ ุฎุทุงูุง ุฏุฑ Rust ุขูโูุฏุฑ ุฑุงุฌ ุงุณุช ฺฉู Rust ุนููฺฏุฑ <code>?</code> ุฑุง ุจุฑุง ุขุณุงูโุชุฑ ฺฉุฑุฏู ุงู ฺฉุงุฑ
ูุฑุงูู ูโฺฉูุฏ.</p>
<h4 id="ฺฉ-ูุงูุจุฑ-ุจุฑุง-ุงูุชุดุงุฑ-ุฎุทุงูุง-ุนููฺฏุฑ-"><a class="header" href="#ฺฉ-ูุงูุจุฑ-ุจุฑุง-ุงูุชุดุงุฑ-ุฎุทุงูุง-ุนููฺฏุฑ-">ฺฉ ูุงูโุจุฑ ุจุฑุง ุงูุชุดุงุฑ ุฎุทุงูุง: ุนููฺฏุฑ <code>?</code></a></h4>
<p>ูุณุช น-ท ูพุงุฏูโุณุงุฒ <code>read_username_from_file</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ููุงู ุนููฺฉุฑุฏ ูุณุช น-ถ ุฑุง ุฏุงุฑุฏุ
ุงูุง ุงู ูพุงุฏูโุณุงุฒ ุงุฒ ุนููฺฏุฑ <code>?</code> ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fs::File;
use std::io::{self, Read};

fn read_username_from_file() -&gt; Result&lt;String, io::Error&gt; {
    let mut username_file = File::open("hello.txt")?;
    let mut username = String::new();
    username_file.read_to_string(&amp;mut username)?;
    Ok(username)
}
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 9-7: ฺฉ ุชุงุจุน ฺฉู ุฎุทุงูุง ุฑุง ุจู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>?</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ุนููฺฏุฑ <code>?</code> ฺฉู ูพุณ ุงุฒ ฺฉ ููุฏุงุฑ <code>Result</code> ูุฑุงุฑ ูโฺฏุฑุฏ ุชูุฑุจุงู ุจู ููุงู ุดููโุง ุนูู ูโฺฉูุฏ ฺฉู ุนุจุงุฑุงุช
<code>match</code> ฺฉู ุจุฑุง ูุฏุฑุช ููุงุฏุฑ <code>Result</code> ุฏุฑ ูุณุช น-ถ ุชุนุฑู ฺฉุฑุฏู. ุงฺฏุฑ ููุฏุงุฑ <code>Result</code> ุฏุฑ ุญุงูุช
<code>Ok</code> ุจุงุดุฏุ ููุฏุงุฑ ุฏุฑูู <code>Ok</code> ุงุฒ ุงู ุนุจุงุฑุช ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ู ุจุฑูุงูู ุงุฏุงูู ูโุงุจุฏ. ุงฺฏุฑ ููุฏุงุฑ ุฏุฑ ุญุงูุช
<code>Err</code> ุจุงุดุฏุ ููุฏุงุฑ <code>Err</code> ุงุฒ ฺฉู ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ุจู ฺฏูููโุง ฺฉู ุงูฺฏุงุฑ ฺฉูุฏูุงฺู <code>return</code> ุฑุง
ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู ุชุง ููุฏุงุฑ ุฎุทุง ุจู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ููุชูู ุดูุฏ.</p>
<p>ุชูุงูุช ุจู ฺฉุงุฑ ฺฉู ุนุจุงุฑุช <code>match</code> ุฏุฑ ูุณุช น-ถ ุงูุฌุงู ูโุฏูุฏ ู ฺฉุงุฑ ฺฉู ุนููฺฏุฑ <code>?</code> ุงูุฌุงู ูโุฏูุฏ ูุฌูุฏ
ุฏุงุฑุฏ: ููุงุฏุฑ ุฎุทุง ฺฉู ุนููฺฏุฑ <code>?</code> ุฑู ุขูโูุง ูุฑุงุฎูุงู ูโุดูุฏ ุงุฒ ุทุฑู ุชุงุจุน <code>from</code> ฺฉู ุฏุฑ ูฺฺฏ
<code>From</code> ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏู ุงุณุช ุนุจูุฑ ูโฺฉููุฏุ ฺฉู ุจุฑุง ุชุจุฏู ููุงุฏุฑ ุงุฒ ฺฉ ููุน ุจู ููุน ุฏฺฏุฑ
ุงุณุชูุงุฏู ูโุดูุฏ. ููุช ุนููฺฏุฑ <code>?</code> ุชุงุจุน <code>from</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏุ ููุน ุฎุทุง ุฏุฑุงูุช ุดุฏู ุจู ููุน ุฎุทุง
ุชุนุฑู ุดุฏู ุฏุฑ ููุน ุจุงุฒฺฏุดุช ุชุงุจุน ูุนู ุชุจุฏู ูโุดูุฏ. ุงู ููุถูุน ุฒูุงู ููุฏ ุงุณุช ฺฉู ฺฉ ุชุงุจุน ฺฉ ููุน ุฎุทุง
ุฑุง ุจุฑุง ููุงุด ุชูุงู ุฑุงูโูุง ฺฉู ููฺฉู ุงุณุช ฺฉ ุชุงุจุน ุดฺฉุณุช ุจุฎูุฑุฏ ุจุงุฒฺฏุฑุฏุงูุฏุ ุญุช ุงฺฏุฑ ุจุฎุดโูุง ููฺฉู ุงุณุช
ุจู ุฏูุงู ุจุณุงุฑ ูุฎุชูู ุดฺฉุณุช ุจุฎูุฑูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูโุชูุงูู ุชุงุจุน <code>read_username_from_file</code> ุฏุฑ ูุณุช น-ท ุฑุง ุชุบุฑ ุฏูู ุชุง ฺฉ ููุน ุฎุทุง ุณูุงุฑุด ุจู ูุงู <code>OurError</code> ฺฉู ุชุนุฑู ฺฉุฑุฏูโุงู ุจุงุฒฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ููฺูู <code>impl From&lt;io::Error&gt; for OurError</code> ุฑุง ุชุนุฑู ฺฉูู ุชุง ฺฉ ููููู ุงุฒ <code>OurError</code> ุฑุง ุงุฒ ฺฉ <code>io::Error</code> ุจุณุงุฒุฏุ ุณูพุณ ูุฑุงุฎูุงูโูุง ุนููฺฏุฑ <code>?</code> ุฏุฑ ุจุฏูู ุชุงุจุน <code>read_username_from_file</code> ุชุงุจุน <code>from</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ู ููุน ุฎุทุงูุง ุฑุง ุจุฏูู ูุงุฒ ุจู ุงูุฒูุฏู ฺฉุฏ ุงุถุงู ุจู ุชุงุจุน ุชุจุฏู ูโฺฉููุฏ.</p>
<p>ุฏุฑ ุฒููู ูุณุช น-ทุ ุนููฺฏุฑ <code>?</code> ุฏุฑ ุงูุชูุง ูุฑุงุฎูุงู <code>File::open</code> ููุฏุงุฑ ุฏุฑูู ฺฉ <code>Ok</code> ุฑุง ุจู ูุชุบุฑ <code>username_file</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุฎุทุง ุฑุฎ ุฏูุฏุ ุนููฺฏุฑ <code>?</code> ุฒูุฏุชุฑ ุงุฒ ฺฉู ุชุงุจุน ุฎุงุฑุฌ ุดุฏู ู ูุฑ ููุฏุงุฑ <code>Err</code> ุฑุง ุจู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ููู ููุถูุน ุจุฑุง ุนููฺฏุฑ <code>?</code> ุฏุฑ ุงูุชูุง ูุฑุงุฎูุงู <code>read_to_string</code> ุตุฏู ูโฺฉูุฏ.</p>
<p>ุนููฺฏุฑ <code>?</code> ููุฏุงุฑ ุฒุงุฏ ุงุฒ ฺฉุฏ ุงุถุงู ุฑุง ุญุฐู ฺฉุฑุฏู ู ูพุงุฏูโุณุงุฒ ุงู ุชุงุจุน ุฑุง ุณุงุฏูโุชุฑ ูโฺฉูุฏ. ุญุช ูโุชูุงูู ุงู ฺฉุฏ ุฑุง ุจุดุชุฑ ฺฉูุชุงู ฺฉูู ุจุง ุฒูุฌุฑู ฺฉุฑุฏู ูุฑุงุฎูุงู ูุชุฏูุง ุจูุงูุงุตูู ุจุนุฏ ุงุฒ <code>?</code>ุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช น-ธ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fs::File;
use std::io::{self, Read};

fn read_username_from_file() -&gt; Result&lt;String, io::Error&gt; {
    let mut username = String::new();

    File::open("hello.txt")?.read_to_string(&amp;mut username)?;

    Ok(username)
}
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 9-8: ุฒูุฌุฑู ฺฉุฑุฏู ูุฑุงุฎูุงู ูุชุฏูุง ูพุณ ุงุฒ ุนููฺฏุฑ <code>?</code></figcaption>
</figure>
<p>ูุง ุงุฌุงุฏ <code>String</code> ุฌุฏุฏ ุฏุฑ <code>username</code> ุฑุง ุจู ุงุจุชุฏุง ุชุงุจุน ููุชูู ฺฉุฑุฏูโุงูุ ุขู ูุณูุช ุชุบุฑ ูฺฉุฑุฏู ุงุณุช. ุจู ุฌุง ุงุฌุงุฏ ฺฉ ูุชุบุฑ <code>username_file</code>ุ ูุง ูุฑุงุฎูุงู <code>read_to_string</code> ุฑุง ูุณุชููุงู ุจู ูุชุฌู <code>File::open("hello.txt")?</code> ุฒูุฌุฑู ฺฉุฑุฏูโุงู. ููฺูุงู ฺฉ ุนููฺฏุฑ <code>?</code> ุฏุฑ ุงูุชูุง ูุฑุงุฎูุงู <code>read_to_string</code> ุฏุงุฑู ู ููฺูุงู ููุฏุงุฑ <code>Ok</code> ุดุงูู <code>username</code> ุฑุง ุฒูุงู ฺฉู ูุฑ ุฏู <code>File::open</code> ู <code>read_to_string</code> ูููู ูุณุชูุฏ ุจุงุฒูโฺฏุฑุฏุงููุ ุจู ุฌุง ุจุงุฒฺฏุฑุฏุงูุฏู ุฎุทุงูุง. ุนููฺฉุฑุฏ ุฏูุจุงุฑู ููุงููุฏ ูุณุช น-ถ ู ูุณุช น-ท ุงุณุชุ ุงู ููุท ฺฉ ุฑูุด ูุชูุงูุช ู ฺฉุงุฑุจุฑูพุณูุฏุชุฑ ุจุฑุง ููุดุชู ุขู ุงุณุช.</p>
<p>ูุณุช น-น ุฑูุด ุจุฑุง ฺฉูุชุงูโุชุฑ ฺฉุฑุฏู ุงู ฺฉุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>fs::read_to_string</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fs;
use std::io;

fn read_username_from_file() -&gt; Result&lt;String, io::Error&gt; {
    fs::read_to_string("hello.txt")
}
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 9-9: ุงุณุชูุงุฏู ุงุฒ <code>fs::read_to_string</code> ุจู ุฌุง ุจุงุฒ ฺฉุฑุฏู ู ุณูพุณ ุฎูุงูุฏู ูุงู</figcaption>
</figure>
<p>ุฎูุงูุฏู ฺฉ ูุงู ุจู ฺฉ ุฑุดุชู ฺฉ ุนููุงุช ูุณุจุชุงู ุฑุงุฌ ุงุณุชุ ุจูุงุจุฑุงู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุงุจุน ููุงุณุจ <code>fs::read_to_string</code> ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ูุงู ุฑุง ุจุงุฒ ูโฺฉูุฏุ ฺฉ <code>String</code> ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏุ ูุญุชูุง ูุงู ุฑุง ูโุฎูุงูุฏุ ูุญุชูุง ุฑุง ุฏุฑ ุขู <code>String</code> ูุฑุงุฑ ูโุฏูุฏ ู ุขู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงูุจุชูุ ุงุณุชูุงุฏู ุงุฒ <code>fs::read_to_string</code> ุจู ูุง ูุฑุตุช ุจุฑุง ุชูุถุญ ุชูุงู ูุฏุฑุช ุฎุทุงูุง ููโุฏูุฏุ ุจูุงุจุฑุงู ุงุจุชุฏุง ุขู ุฑุง ุจู ุฑูุด ุทููุงูโุชุฑ ุงูุฌุงู ุฏุงุฏู.</p>
<h4 id="ุฌุง-ฺฉู-ูุชูุงู-ุงุฒ-ุนููฺฏุฑ--ุงุณุชูุงุฏู-ฺฉุฑุฏ"><a class="header" href="#ุฌุง-ฺฉู-ูุชูุงู-ุงุฒ-ุนููฺฏุฑ--ุงุณุชูุงุฏู-ฺฉุฑุฏ">ุฌุง ฺฉู ูโุชูุงู ุงุฒ ุนููฺฏุฑ <code>?</code> ุงุณุชูุงุฏู ฺฉุฑุฏ</a></h4>
<p>ุนููฺฏุฑ <code>?</code> ููุท ุฏุฑ ุชูุงุจุน ุงุณุชูุงุฏู ูโุดูุฏ ฺฉู ููุน ุจุงุฒฺฏุดุช ุขูโูุง ุจุง ููุฏุงุฑ ุงุณุชูุงุฏู ุดุฏู ุชูุณุท <code>?</code> ุณุงุฒฺฏุงุฑ ุจุงุดุฏ. ุงู ุจู ุงู ุฏูู ุงุณุช ฺฉู ุนููฺฏุฑ <code>?</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุฒูุฏููฺฏุงู ฺฉ ููุฏุงุฑ ุงุฒ ุชุงุจุน ุชุนุฑู ุดุฏู ุงุณุชุ ุจู ููุงู ุดููโุง ฺฉู ุนุจุงุฑุช <code>match</code> ุฏุฑ ูุณุช น-ถ ุชุนุฑู ุดุฏู ุงุณุช. ุฏุฑ ูุณุช น-ถุ <code>match</code> ุงุฒ ฺฉ ููุฏุงุฑ <code>Result</code> ุงุณุชูุงุฏู ูโฺฉุฑุฏ ู ุจุงุฒู ุจุงุฒฺฏุดุช ุฒูุฏููฺฏุงู ฺฉ ููุฏุงุฑ <code>Err(e)</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ููุน ุจุงุฒฺฏุดุช ุชุงุจุน ุจุงุฏ ฺฉ <code>Result</code> ุจุงุดุฏ ุชุง ุจุง ุงู ุจุงุฒฺฏุดุช ุณุงุฒฺฏุงุฑ ุจุงุดุฏ.</p>
<p>ุฏุฑ ูุณุช น-ฑฐุ ุจุงุฏ ุจู ุฎุทุง ฺฉู ุฏุฑุงูุช ูโฺฉูู ููุช ฺฉู ุงุฒ ุนููฺฏุฑ <code>?</code> ุฏุฑ ฺฉ ุชุงุจุน <code>main</code> ุจุง ููุน ุจุงุฒฺฏุดุชโุง ฺฉู ุจุง ููุน ููุฏุงุฑ ุงุณุชูุงุฏู ุดุฏู ุฏุฑ <code>?</code> ุณุงุฒฺฏุงุฑ ูุณุช ุงุณุชูุงุฏู ูโฺฉูู ูฺฏุงู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::fs::File;

fn main() {
    let greeting_file = File::open("hello.txt")?;
}</code></pre>
<figcaption>Listing 9-10: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>?</code> ุฏุฑ ุชุงุจุน <code>main</code> ฺฉู ููุน ุจุงุฒฺฏุดุช ุขู <code>()</code> ุงุณุช ู ฺฉุงููพุงู ููโุดูุฏ.</figcaption>
</figure>
<p>ุงู ฺฉุฏ ฺฉ ูุงู ุฑุง ุจุงุฒ ูโฺฉูุฏุ ฺฉู ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏ. ุนููฺฏุฑ <code>?</code> ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู ุชูุณุท <code>File::open</code> ุฑุง ุฏูุจุงู ูโฺฉูุฏุ ุงูุง ุงู ุชุงุจุน <code>main</code> ููุน ุจุงุฒฺฏุดุช <code>()</code> ุฏุงุฑุฏุ ูู <code>Result</code>. ููุช ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ูโฺฉููุ ูพุงู ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling error-handling v0.1.0 (file:///projects/error-handling)
error[E0277]: the `?` operator can only be used in a function that returns `Result` or `Option` (or another type that implements `FromResidual`)
 --&gt; src/main.rs:4:48
  |
3 | fn main() {
  | --------- this function should return `Result` or `Option` to accept `?`
4 |     let greeting_file = File::open("hello.txt")?;
  |                                                ^ cannot use the `?` operator in a function that returns `()`
  |
  = help: the trait `FromResidual&lt;Result&lt;Infallible, std::io::Error&gt;&gt;` is not implemented for `()`
help: consider adding return type
  |
3 ~ fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
4 |     let greeting_file = File::open("hello.txt")?;
5 +     Ok(())
  |

For more information about this error, try `rustc --explain E0277`.
error: could not compile `error-handling` (bin "error-handling") due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ููุท ูโุชูุงู ุงุฒ ุนููฺฏุฑ <code>?</code> ุฏุฑ ุชูุงุจุน ฺฉู ููุน ุจุงุฒฺฏุดุช ุขูโูุง <code>Result</code>ุ <code>Option</code>ุ ุง ููุน ุฏฺฏุฑ ฺฉู <code>FromResidual</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏ.</p>
<p>ุจุฑุง ุฑูุน ุงู ุฎุทุงุ ุฏู ุงูุชุฎุงุจ ุฏุงุฑุฏ. ฺฉ ุงู ุงุณุช ฺฉู ููุน ุจุงุฒฺฏุดุช ุชุงุจุน ุฎูุฏ ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ุจุง ููุฏุงุฑ ฺฉู ุงุฒ ุนููฺฏุฑ <code>?</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุณุงุฒฺฏุงุฑ ุจุงุดุฏุ ุจู ุดุฑุท ฺฉู ูุญุฏูุฏุช ูุงูุน ุงุฒ ุงูุฌุงู ุงู ฺฉุงุฑ ูุฏุงุดุชู ุจุงุดุฏ. ุงูุชุฎุงุจ ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ุงุฒ ฺฉ <code>match</code> ุง ฺฉ ุงุฒ ูุชุฏูุง <code>Result&lt;T, E&gt;</code> ุจุฑุง ูุฏุฑุช <code>Result&lt;T, E&gt;</code> ุจู ุดููโุง ฺฉู ููุงุณุจ ุงุณุช ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ูพุงู ุฎุทุง ููฺูู ุงุดุงุฑู ฺฉุฑุฏ ฺฉู <code>?</code> ูโุชูุงูุฏ ุจุง ููุงุฏุฑ <code>Option&lt;T&gt;</code> ูุฒ ุงุณุชูุงุฏู ุดูุฏ. ููุงููุฏ ุงุณุชูุงุฏู ุงุฒ <code>?</code> ุฑู <code>Result</code>ุ ููุท ูโุชูุงูุฏ ุงุฒ <code>?</code> ุฑู <code>Option</code> ุฏุฑ ุชุงุจุน ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ฺฉ <code>Option</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุฑูุชุงุฑ ุนููฺฏุฑ <code>?</code> ููุช ุฑู ฺฉ <code>Option&lt;T&gt;</code> ูุฑุงุฎูุงู ูโุดูุฏ ุดุจู ุจู ุฑูุชุงุฑ ุขู ููุช ุฑู ฺฉ <code>Result&lt;T, E&gt;</code> ูุฑุงุฎูุงู ูโุดูุฏ: ุงฺฏุฑ ููุฏุงุฑ <code>None</code> ุจุงุดุฏุ <code>None</code> ุฒูุฏููฺฏุงู ุงุฒ ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ. ุงฺฏุฑ ููุฏุงุฑ <code>Some</code> ุจุงุดุฏุ ููุฏุงุฑ ุฏุงุฎู <code>Some</code> ููุฏุงุฑ ูุชุฌู ุนุจุงุฑุช ุงุณุช ู ุชุงุจุน ุงุฏุงูู ูโุฏูุฏ. ูุณุช น-ฑฑ ูุซุงู ุงุฒ ุชุงุจุน ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุขุฎุฑู ฺฉุงุฑุงฺฉุชุฑ ุฎุท ุงูู ูุชู ุฏุงุฏู ุดุฏู ุฑุง ูพุฏุง ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">fn last_char_of_first_line(text: &amp;str) -&gt; Option&lt;char&gt; {
    text.lines().next()?.chars().last()
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    assert_eq!(
</span><span class="boring">        last_char_of_first_line("Hello, world\nHow are you today?"),
</span><span class="boring">        Some('d')
</span><span class="boring">    );
</span><span class="boring">
</span><span class="boring">    assert_eq!(last_char_of_first_line(""), None);
</span><span class="boring">    assert_eq!(last_char_of_first_line("\nhi"), None);
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 9-11: ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>?</code> ุฑู ฺฉ ููุฏุงุฑ <code>Option&lt;T&gt;</code></figcaption>
</figure>
<p>ุงู ุชุงุจุน <code>Option&lt;char&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ุฒุฑุง ููฺฉู ุงุณุช ฺฉ ฺฉุงุฑุงฺฉุชุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุงูุง ููฺฉู ุงุณุช ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ. ุงู ฺฉุฏ ุขุฑฺฏููุงู ูุทุนู ุฑุดุชู <code>text</code> ุฑุง ูโฺฏุฑุฏ ู ูุชุฏ <code>lines</code> ุฑุง ุฑู ุขู ูุฑุงุฎูุงู ูโฺฉูุฏุ ฺฉู ฺฉ iterator ุฑู ุฎุทูุท ุฏุฑูู ุฑุดุชู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ฺูู ุงู ุชุงุจุน ูโุฎูุงูุฏ ุฎุท ุงูู ุฑุง ุจุฑุฑุณ ฺฉูุฏุ <code>next</code> ุฑุง ุฑู iterator ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ุงููู ููุฏุงุฑ ุงุฒ iterator ุฑุง ุฏุฑุงูุช ฺฉูุฏ. ุงฺฏุฑ <code>text</code> ุฑุดุชูโุง ุฎุงู ุจุงุดุฏุ ุงู ูุฑุงุฎูุงู ุจู <code>next</code> ููุฏุงุฑ <code>None</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ฺฉู ุฏุฑ ุงู ุตูุฑุช ุงุฒ <code>?</code> ุจุฑุง ูุชููู ฺฉุฑุฏู ู ุจุงุฒฺฏุฑุฏุงูุฏู <code>None</code> ุงุฒ <code>last_char_of_first_line</code> ุงุณุชูุงุฏู ูโฺฉูู. ุงฺฏุฑ <code>text</code> ุฑุดุชู ุฎุงู ูุจุงุดุฏุ <code>next</code> ฺฉ ููุฏุงุฑ <code>Some</code> ุดุงูู ฺฉ ูุทุนู ุฑุดุชู ุงุฒ ุฎุท ุงูู ุฏุฑ <code>text</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ุนููฺฏุฑ <code>?</code> ูุทุนู ุฑุดุชู ุฑุง ุงุณุชุฎุฑุงุฌ ูโฺฉูุฏ ู ูโุชูุงูู ูุชุฏ <code>chars</code> ุฑุง ุฑู ุขู ูุฑุงุฎูุงู ฺฉูู ุชุง ฺฉ iterator ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุขู ุฏุฑุงูุช ฺฉูู. ูุง ุจู ุขุฎุฑู ฺฉุงุฑุงฺฉุชุฑ ุฏุฑ ุงู ุฎุท ุงูู ุนูุงููโููุฏ ูุณุชูุ ุจูุงุจุฑุงู ูุชุฏ <code>last</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ุขุฎุฑู ููุฑุฏ ุฏุฑ iterator ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุงู ฺฉ <code>Option</code> ุงุณุช ุฒุฑุง ููฺฉู ุงุณุช ุฎุท ุงูู ุฑุดุชูโุง ุฎุงู ุจุงุดุฏุ ุจุฑุง ูุซุงูุ ุงฺฏุฑ <code>text</code> ุจุง ฺฉ ุฎุท ุฎุงู ุดุฑูุน ุดูุฏ ุงูุง ฺฉุงุฑุงฺฉุชุฑูุง ุฏุฑ ุฎุทูุท ุฏฺฏุฑ ุฏุงุดุชู ุจุงุดุฏุ ูุงููุฏ <code>"\nhi"</code>. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุขุฎุฑู ฺฉุงุฑุงฺฉุชุฑ ุฏุฑ ุฎุท ุงูู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุฏุฑ ุญุงูุช <code>Some</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ. ุนููฺฏุฑ <code>?</code> ุฏุฑ ูุงูู ุจู ูุง ุฑุงู ูุฎุชุตุฑ ุจุฑุง ุจุงู ุงู ููุทู ูโุฏูุฏ ู ุงุฌุงุฒู ูโุฏูุฏ ุชุงุจุน ุฑุง ุฏุฑ ฺฉ ุฎุท ูพุงุฏูโุณุงุฒ ฺฉูู. ุงฺฏุฑ ููโุชูุงูุณุชู ุงุฒ ุนููฺฏุฑ <code>?</code> ุฑู <code>Option</code> ุงุณุชูุงุฏู ฺฉููุ ุจุงุฏ ุงู ููุทู ุฑุง ุจุง ูุฑุงุฎูุงู ูุชุฏูุง ุจุดุชุฑ ุง ฺฉ ุนุจุงุฑุช <code>match</code> ูพุงุฏูโุณุงุฒ ูโฺฉุฑุฏู.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุนููฺฏุฑ <code>?</code> ุฑู ฺฉ <code>Result</code> ุฏุฑ ฺฉ ุชุงุจุน ฺฉู ฺฉ <code>Result</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏุ ู ูโุชูุงูุฏ ุงุฒ ุนููฺฏุฑ <code>?</code> ุฑู ฺฉ <code>Option</code> ุฏุฑ ฺฉ ุชุงุจุน ฺฉู ฺฉ <code>Option</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏุ ุงูุง ููโุชูุงูุฏ ุงู ุฏู ุฑุง ุจุง ูู ุชุฑฺฉุจ ฺฉูุฏ. ุนููฺฏุฑ <code>?</code> ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ฺฉ <code>Result</code> ุฑุง ุจู ฺฉ <code>Option</code> ุง ุจุฑุนฺฉุณ ุชุจุฏู ููโฺฉูุฏุ ุฏุฑ ุงู ููุงุฑุฏุ ูโุชูุงูุฏ ุงุฒ ูุชุฏูุง ูุงููุฏ <code>ok</code> ุฑู <code>Result</code> ุง <code>ok_or</code> ุฑู <code>Option</code> ุจุฑุง ุชุจุฏู ุตุฑุญ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุชุง ฺฉูููุ ุชูุงู ุชูุงุจุน <code>main</code> ฺฉู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู ููุฏุงุฑ <code>()</code> ุจุงุฒูโฺฏุฑุฏุงูุฏูุฏ. ุชุงุจุน <code>main</code> ุฎุงุต ุงุณุช ุฒุฑุง ููุทู ูุฑูุฏ ู ุฎุฑูุฌ ฺฉ ุจุฑูุงูู ุงุฌุฑุง ุงุณุชุ ู ูุญุฏูุฏุชโูุง ุฏุฑ ููุน ุจุงุฒฺฏุดุช ุขู ูุฌูุฏ ุฏุงุฑุฏ ุชุง ุจุฑูุงูู ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ูโุฑูุฏ ุฑูุชุงุฑ ฺฉูุฏ.</p>
<p>ุฎูุดุจุฎุชุงููุ <code>main</code> ูโุชูุงูุฏ ฺฉ <code>Result&lt;(), E&gt;</code> ูุฒ ุจุงุฒฺฏุฑุฏุงูุฏ. ูุณุช น-ฑฒ ฺฉุฏ ูุณุช น-ฑฐ ุฑุง ุฏุงุฑุฏุ ุงูุง ููุน ุจุงุฒฺฏุดุช <code>main</code> ุฑุง ุจู <code>Result&lt;(), Box&lt;dyn Error&gt;&gt;</code> ุชุบุฑ ุฏุงุฏูโุงู ู ฺฉ ููุฏุงุฑ ุจุงุฒฺฏุดุช <code>Ok(())</code> ุจู ุงูุชูุง ุขู ุงุถุงูู ฺฉุฑุฏูโุงู. ุงู ฺฉุฏ ุงฺฉููู ฺฉุงููพุงู ูโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use std::error::Error;
use std::fs::File;

fn main() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let greeting_file = File::open("hello.txt")?;

    Ok(())
}</code></pre>
<figcaption>Listing 9-12: ุชุบุฑ ุชุงุจุน <code>main</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู <code>Result&lt;(), E&gt;</code> ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ุนููฺฏุฑ <code>?</code> ุฑู ููุงุฏุฑ <code>Result</code> ุงุณุชูุงุฏู ุดูุฏ.</figcaption>
</figure>
<p>ููุน <code>Box&lt;dyn Error&gt;</code> ฺฉ <em>ุดุก ูฺฺฏ</em> (trait object) ุงุณุช ฺฉู ุฏุฑ ุจุฎุด <a href="ch18-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types">โUsing Trait Objects that Allow for Values of Different Typesโ</a><!-- ignore --> ุฏุฑ ูุตู ฑธ ุฏุฑุจุงุฑู ุขู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ูโุชูุงูุฏ <code>Box&lt;dyn Error&gt;</code> ุฑุง ุจู ูุนูุง โูุฑ ููุน ุฎุทุงโ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. ุงุณุชูุงุฏู ุงุฒ <code>?</code> ุฑู ฺฉ ููุฏุงุฑ <code>Result</code> ุฏุฑ ฺฉ ุชุงุจุน <code>main</code> ุจุง ููุน ุฎุทุง <code>Box&lt;dyn Error&gt;</code> ูุฌุงุฒ ุงุณุช ุฒุฑุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ูุฑ ููุฏุงุฑ <code>Err</code> ุฒูุฏุชุฑ ุจุงุฒฺฏุฑุฏุงูุฏู ุดูุฏ. ุงฺฏุฑฺู ุจุฏูู ุงู ุชุงุจุน <code>main</code> ููุท ุฎุทุงูุง ููุน <code>std::io::Error</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุจุง ูุดุฎุต ฺฉุฑุฏู <code>Box&lt;dyn Error&gt;</code>ุ ุงู ุงูุถุง ุญุช ุงฺฏุฑ ฺฉุฏ ุจุดุชุฑ ฺฉู ุฎุทุงูุง ุฏฺฏุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ุจู ุจุฏูู <code>main</code> ุงุถุงูู ุดูุฏุ ุตุญุญ ุจุงู ูโูุงูุฏ.</p>
<p>ููุช ฺฉ ุชุงุจุน <code>main</code> ฺฉ <code>Result&lt;(), E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุจุฑูุงูู ุงุฌุฑุง ุจุง ููุฏุงุฑ <code>0</code> ุฎุงุฑุฌ ูโุดูุฏ ุงฺฏุฑ <code>main</code> ููุฏุงุฑ <code>Ok(())</code> ุจุงุฒฺฏุฑุฏุงูุฏ ู ุจุง ฺฉ ููุฏุงุฑ ุบุฑ ุตูุฑ ุฎุงุฑุฌ ูโุดูุฏ ุงฺฏุฑ <code>main</code> ููุฏุงุฑ <code>Err</code> ุจุงุฒฺฏุฑุฏุงูุฏ. ุจุฑูุงููโูุง ุงุฌุฑุง ููุดุชู ุดุฏู ุฏุฑ C ููฺฏุงู ุฎุฑูุฌ ููุงุฏุฑ ุตุญุญ ุจุงุฒูโฺฏุฑุฏุงููุฏ: ุจุฑูุงููโูุง ฺฉู ุจุง ููููุช ุฎุงุฑุฌ ูโุดููุฏ ููุฏุงุฑ ุตุญุญ <code>0</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ ู ุจุฑูุงููโูุง ฺฉู ุฏฺุงุฑ ุฎุทุง ูโุดููุฏ ููุฏุงุฑ ุบุฑ ุงุฒ <code>0</code> ุจุงุฒูโฺฏุฑุฏุงููุฏ. Rust ูุฒ ููุงุฏุฑ ุตุญุญ ุฑุง ุงุฒ ุจุฑูุงููโูุง ุงุฌุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ุจุง ุงู ูุฑุงุฑุฏุงุฏ ุณุงุฒฺฏุงุฑ ุจุงุดุฏ.</p>
<p>ุชุงุจุน <code>main</code> ูโุชูุงูุฏ ูุฑ ููุน ุฑุง ฺฉู ูฺฺฏ <a href="https://doc.rust-lang.org/std/process/trait.Termination.html"><code>std::process::Termination</code></a><!-- ignore --> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจุงุฒฺฏุฑุฏุงูุฏุ ฺฉู ุดุงูู ุชุงุจุน <code>report</code> ุงุณุช ฺฉู ฺฉ <code>ExitCode</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Termination</code> ุจุฑุง ุงููุงุน ุฎูุฏุชุงู ูุทุงูุนู ฺฉูุฏ.</p>
<p>ุงฺฉููู ฺฉู ุฌุฒุฆุงุช ูุฑุงุฎูุงู <code>panic!</code> ุง ุจุงุฒฺฏุฑุฏุงูุฏู <code>Result</code> ุฑุง ุจุฑุฑุณ ฺฉุฑุฏูุ ุจุงุฏ ุจู ููุถูุน ูุญูู ุชุตููโฺฏุฑ ุฏุฑุจุงุฑู ุงูฺฉู ฺฉุฏุงูฺฉ ุฏุฑ ฺู ููุงุฑุฏ ููุงุณุจ ุงุณุช ุจุงุฒฺฏุฑุฏู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุขุง-ุจุงุฏ-ุงุฒ-panic-ุงุณุชูุงุฏู-ฺฉูู-ุง-ูู"><a class="header" href="#ุขุง-ุจุงุฏ-ุงุฒ-panic-ุงุณุชูุงุฏู-ฺฉูู-ุง-ูู">ุขุง ุจุงุฏ ุงุฒ <code>panic!</code> ุงุณุชูุงุฏู ฺฉูู ุง ููุ</a></h2>
<p>ฺฺฏููู ุชุตูู ูโฺฏุฑุฏ ฺฉู ฺู ุฒูุงู ุจุงุฏ <code>panic!</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ู ฺู ุฒูุงู ุจุงุฏ ฺฉ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ููุช ฺฉุฏ ุฏฺุงุฑ ุฎุทุง ูโุดูุฏุ ูฺ ุฑุงู ุจุฑุง ุจุงุฒุงุจ ูุฌูุฏ ูุฏุงุฑุฏ. ุดูุง ูโุชูุงูุฏ ุฏุฑ ูุฑ ูุถุนุช ุฎุทุงุ ฺู ูุงุจู ุจุงุฒุงุจ ุจุงุดุฏ ู ฺู ูุจุงุดุฏุ <code>panic!</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ุงูุง ุฏุฑ ุงู ุตูุฑุชุ ุดูุง ุจู ุฌุง ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุชุตูู ูโฺฏุฑุฏ ฺฉู ูุถุนุช ุบุฑูุงุจู ุจุงุฒุงุจ ุงุณุช. ููุช ุชุตูู ูโฺฏุฑุฏ ฺฉ ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุจู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ฺฏุฒููโูุง ูโุฏูุฏ. ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ูโุชูุงูุฏ ุงูุชุฎุงุจ ฺฉูุฏ ฺฉู ุชูุงุด ฺฉูุฏ ุฎุทุง ุฑุง ุจู ุฑูุด ฺฉู ุจุฑุง ูุถุนุช ุฎูุฏุด ููุงุณุจ ุงุณุช ุจุงุฒุงุจ ฺฉูุฏุ ุง ูโุชูุงูุฏ ุชุตูู ุจฺฏุฑุฏ ฺฉู ููุฏุงุฑ <code>Err</code> ุฏุฑ ุงู ููุฑุฏ ุบุฑูุงุจู ุจุงุฒุงุจ ุงุณุช ู ุจูุงุจุฑุงู <code>panic!</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ู ุฎุทุง ูุงุจู ุจุงุฒุงุจ ุดูุง ุฑุง ุจู ฺฉ ุฎุทุง ุบุฑูุงุจู ุจุงุฒุงุจ ุชุจุฏู ฺฉูุฏ. ุจูุงุจุฑุงูุ ุจุงุฒฺฏุฑุฏุงูุฏู <code>Result</code> ฺฉ ุงูุชุฎุงุจ ูพุดโูุฑุถ ุฎูุจ ุงุณุช ููุช ุชุงุจุน ุชุนุฑู ูโฺฉูุฏ ฺฉู ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏ.</p>
<p>ุฏุฑ ูุถุนุชโูุง ูุงููุฏ ูุซุงูโูุงุ ฺฉุฏ ูููููโุณุงุฒ (prototype) ู ุขุฒูููโูุงุ ููุงุณุจโุชุฑ ุงุณุช ฺฉู ฺฉุฏ ุจููุณุฏ ฺฉู ูุชููู ุดูุฏ ุจู ุฌุง ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code>. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺุฑุงุ ุณูพุณ ูุถุนุชโูุง ุฑุง ุจุญุซ ฺฉูู ฺฉู ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุจูููุฏ ฺฉู ุดฺฉุณุช ุบุฑููฺฉู ุงุณุชุ ุงูุง ุดูุง ุจู ุนููุงู ฺฉ ุงูุณุงู ูโุชูุงูุฏ. ุงู ูุตู ุจุง ุจุฑุฎ ุฏุณุชูุฑุงูุนููโูุง ฺฉู ุฏุฑุจุงุฑู ุชุตููโฺฏุฑ ุฏุฑุจุงุฑู ุงูฺฉู ุขุง ุฏุฑ ฺฉุฏ ฺฉุชุงุจุฎุงูู ุจุงุฏ ุงุฒ <code>panic!</code> ุงุณุชูุงุฏู ฺฉุฑุฏ ุง ููุ ุจู ูพุงุงู ุฎูุงูุฏ ุฑุณุฏ.</p>
<h3 id="ูุซุงููุง-ฺฉุฏ-ูููููุณุงุฒ-ู-ุขุฒููููุง"><a class="header" href="#ูุซุงููุง-ฺฉุฏ-ูููููุณุงุฒ-ู-ุขุฒููููุง">ูุซุงูโูุงุ ฺฉุฏ ูููููโุณุงุฒุ ู ุขุฒูููโูุง</a></h3>
<p>ููุช ูุซุงู ูโููุณุฏ ุชุง ฺฉ ููููู ุฑุง ุชูุถุญ ุฏูุฏุ ููฺูู ุงูุฒูุฏู ฺฉุฏ ูุฏุฑุช ุฎุทุง ูุฏุฑุชููุฏ ูโุชูุงูุฏ ูุซุงู ุฑุง ฺฉูุชุฑ ูุงุถุญ ฺฉูุฏ. ุฏุฑ ูุซุงูโูุงุ ุงู ูฺฉุชู ูููุฏู ูโุดูุฏ ฺฉู ูุฑุงุฎูุงู ุจู ูุชุฏ ูุงููุฏ <code>unwrap</code> ฺฉู ููฺฉู ุงุณุช ูุชููู ุดูุฏุ ุจู ุนููุงู ฺฉ ุฌุงฺฏุฒู ุจุฑุง ุฑูุด ฺฉู ูโุฎูุงูุฏ ุจุฑูุงูู ุดูุง ุฎุทุงูุง ุฑุง ูุฏุฑุช ฺฉูุฏ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏุ ฺฉู ูโุชูุงูุฏ ุจุณุชู ุจู ุขูฺู ุจูู ฺฉุฏ ุดูุง ุงูุฌุงู ูโุฏูุฏ ูุชูุงูุช ุจุงุดุฏ.</p>
<p>ุจู ููู ุชุฑุชุจุ ูุชุฏูุง <code>unwrap</code> ู <code>expect</code> ุจุณุงุฑ ููุฏ ูุณุชูุฏ ููุช ฺฉู ุฏุฑ ุญุงู ูููููโุณุงุฒ ูุณุชุฏ ู ูููุฒ ุชุตูู ูฺฏุฑูุชูโุงุฏ ฺฉู ฺฺฏููู ุฎุทุงูุง ุฑุง ูุฏุฑุช ฺฉูุฏ. ุขูโูุง ูุดุงููโูุง ูุงุถุญ ุฏุฑ ฺฉุฏ ุดูุง ูโฺฏุฐุงุฑูุฏ ุจุฑุง ุฒูุงู ฺฉู ุขูุงุฏู ุจุงุดุฏ ุจุฑูุงูู ุฎูุฏ ุฑุง ูุฏุฑุชููุฏุชุฑ ฺฉูุฏ.</p>
<p>ุงฺฏุฑ ฺฉ ูุชุฏ ุฏุฑ ฺฉ ุขุฒููู ุดฺฉุณุช ุจุฎูุฑุฏุ ูโุฎูุงูุฏ ฺฉู ุขุฒููู ุดฺฉุณุช ุจุฎูุฑุฏุ ุญุช ุงฺฏุฑ ุขู ูุชุฏ ูฺฺฏโุง ฺฉู ุชุญุช ุขุฒููู ูุฑุงุฑ ุฏุงุฑุฏ ูุจุงุดุฏ. ุงุฒ ุขูุฌุง ฺฉู <code>panic!</code> ุฑุงู ุงุณุช ฺฉู ฺฉ ุขุฒููู ุจู ุนููุงู ุดฺฉุณุชโุฎูุฑุฏู ุนูุงูุชโฺฏุฐุงุฑ ูโุดูุฏุ ูุฑุงุฎูุงู <code>unwrap</code> ุง <code>expect</code> ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุจุงุฏ ุงุชูุงู ุจูุชุฏ.</p>
<h3 id="ููุงุฑุฏ-ฺฉู-ุดูุง-ุงุทูุงุนุงุช-ุจุดุชุฑ-ูุณุจุช-ุจู-ฺฉุงููพุงูุฑ-ุฏุงุฑุฏ"><a class="header" href="#ููุงุฑุฏ-ฺฉู-ุดูุง-ุงุทูุงุนุงุช-ุจุดุชุฑ-ูุณุจุช-ุจู-ฺฉุงููพุงูุฑ-ุฏุงุฑุฏ">ููุงุฑุฏ ฺฉู ุดูุง ุงุทูุงุนุงุช ุจุดุชุฑ ูุณุจุช ุจู ฺฉุงููพุงูุฑ ุฏุงุฑุฏ</a></h3>
<p>ููฺูู ููุงุณุจ ุงุณุช ฺฉู <code>unwrap</code> ุง <code>expect</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ููุช ููุทู ุฏฺฏุฑ ุฏุงุฑุฏ ฺฉู ุชุถูู ูโฺฉูุฏ ููุฏุงุฑ <code>Result</code> ุฏุงุฑุง ฺฉ ููุฏุงุฑ <code>Ok</code> ุฎูุงูุฏ ุจูุฏุ ุงูุง ุงู ููุทู ฺุฒ ูุณุช ฺฉู ฺฉุงููพุงูุฑ ุขู ุฑุง ุจูููุฏ. ุดูุง ููฺูุงู ฺฉ ููุฏุงุฑ <code>Result</code> ุฏุงุฑุฏ ฺฉู ุจุงุฏ ูุฏุฑุช ฺฉูุฏ: ุนููุงุช ฺฉู ูุฑุงุฎูุงู ูโฺฉูุฏ ููฺูุงู ุงูฺฉุงู ุดฺฉุณุช ุฎูุฑุฏู ุฏุงุฑุฏุ ุญุช ุงฺฏุฑ ุจู ุตูุฑุช ููุทู ุฏุฑ ูุถุนุช ุฎุงุต ุดูุง ุบุฑููฺฉู ุจุงุดุฏ. ุงฺฏุฑ ูโุชูุงูุฏ ุจุง ุจุงุฒุฑุณ ุฏุณุช ฺฉุฏ ุชุถูู ฺฉูุฏ ฺฉู ูุฑฺฏุฒ ฺฉ ุญุงูุช <code>Err</code> ูุฎูุงูุฏ ุฏุงุดุชุ ฺฉุงููุงู ูุงุจู ูุจูู ุงุณุช ฺฉู <code>unwrap</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ู ุญุช ุจูุชุฑ ุงุณุช ฺฉู ุฏูู ุฎูุฏ ุฑุง ุฏุฑ ูุชู <code>expect</code> ูุณุชูุฏ ฺฉูุฏ. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::net::IpAddr;

    let home: IpAddr = "127.0.0.1"
        .parse()
        .expect("Hardcoded IP address should be valid");
<span class="boring">}</span></code></pre></pre>
<p>ูุง ฺฉ ููููู <code>IpAddr</code> ุฑุง ุจุง ุชุฌุฒู ฺฉ ุฑุดุชู ุซุงุจุชโุดุฏู ุงุฌุงุฏ ูโฺฉูู. ูุง ูโุชูุงูู ุจุจูู ฺฉู <code>127.0.0.1</code> ฺฉ ุขุฏุฑุณ IP ูุนุชุจุฑ ุงุณุชุ ุจูุงุจุฑุงู ุงุณุชูุงุฏู ุงุฒ <code>expect</code> ุฏุฑ ุงูุฌุง ูุงุจู ูุจูู ุงุณุช. ุจุง ุงู ุญุงูุ ุฏุงุดุชู ฺฉ ุฑุดุชู ุซุงุจุชโุดุฏู ู ูุนุชุจุฑ ููุน ุจุงุฒฺฏุดุช ูุชุฏ <code>parse</code> ุฑุง ุชุบุฑ ููโุฏูุฏ: ูุง ููฺูุงู ฺฉ ููุฏุงุฑ <code>Result</code> ุฏุฑุงูุช ูโฺฉูู ู ฺฉุงููพุงูุฑ ููฺูุงู ูุง ุฑุง ูุฌุจูุฑ ูโฺฉูุฏ ฺฉู ุจุง <code>Result</code> ุจุฑุฎูุฑุฏ ฺฉููุ ุงูฺฏุงุฑ ฺฉู ุญุงูุช <code>Err</code> ููฺฉู ุงุณุชุ ุฒุฑุง ฺฉุงููพุงูุฑ ุจู ุงูุฏุงุฒู ฺฉุงู ููุดููุฏ ูุณุช ุชุง ุจุจูุฏ ุงู ุฑุดุชู ููุดู ฺฉ ุขุฏุฑุณ IP ูุนุชุจุฑ ุงุณุช. ุงฺฏุฑ ุฑุดุชู ุขุฏุฑุณ IP ุงุฒ ฺฉ ฺฉุงุฑุจุฑ ูโุขูุฏ ุจู ุฌุง ุงูฺฉู ุฏุฑ ุจุฑูุงูู ุซุงุจุช ุดุฏู ุจุงุดุฏ ู ุจูุงุจุฑุงู ุงูฺฉุงู ุดฺฉุณุช ูุฌูุฏ ุฏุงุดุชุ ูุทุนุงู ูโุฎูุงุณุชู ฺฉู <code>Result</code> ุฑุง ุจู ุฑูุด ูุฏุฑุชููุฏุชุฑ ูุฏุฑุช ฺฉูู. ุงุดุงุฑู ุจู ุงู ูุฑุถ ฺฉู ุงู ุขุฏุฑุณ IP ุซุงุจุชโุดุฏู ุงุณุชุ ูุง ุฑุง ุชุฑุบุจ ูโฺฉูุฏ ฺฉู ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ุฏุฑุงูุช ุขุฏุฑุณ IP ุงุฒ ููุจุน ุฏฺฏุฑ ุฏุฑ ุขูุฏูุ <code>expect</code> ุฑุง ุจู ฺฉุฏ ูุฏุฑุช ุฎุทุง ุจูุชุฑ ุชุบุฑ ุฏูู.</p>
<h3 id="ุฏุณุชูุฑุงูุนูููุง-ุจุฑุง-ูุฏุฑุช-ุฎุทุงูุง"><a class="header" href="#ุฏุณุชูุฑุงูุนูููุง-ุจุฑุง-ูุฏุฑุช-ุฎุทุงูุง">ุฏุณุชูุฑุงูุนููโูุง ุจุฑุง ูุฏุฑุช ุฎุทุงูุง</a></h3>
<p>ุชูุตู ูโุดูุฏ ฺฉู ฺฉุฏ ุดูุง ุฒูุงู ฺฉู ููฺฉู ุงุณุช ุจู ูุถุนุช ูุงููุงุณุจ ุจุฑุณุฏุ ุฏฺุงุฑ <code>panic!</code> ุดูุฏ. ุฏุฑ ุงู ุฒูููุ ฺฉ <em>ูุถุนุช ูุงููุงุณุจ</em> ุฒูุงู ุฑุฎ ูโุฏูุฏ ฺฉู ุจุฑุฎ ูุฑุถุงุชุ ุชุถููโูุงุ ูุฑุงุฑุฏุงุฏูุงุ ุง ุชุบุฑูุงูพุฐุฑโูุง ุดฺฉุณุชู ุดููุฏุ ูุงููุฏ ุฒูุงู ฺฉู ููุงุฏุฑ ูุงูุนุชุจุฑุ ููุงุฏุฑ ูุชูุงูุถุ ุง ููุงุฏุฑ ฺฏูุดุฏู ุจู ฺฉุฏ ุดูุง ูพุงุณ ุฏุงุฏู ูโุดููุฏโุจู ุนูุงูู ฺฉ ุง ุจุดุชุฑ ุงุฒ ุดุฑุงุท ุฒุฑ:</p>
<ul>
<li>ูุถุนุช ูุงููุงุณุจ ฺุฒ ุบุฑููุชุธุฑู ุงุณุชุ ุจุฑ ุฎูุงู ฺุฒ ฺฉู ุงุญุชูุงูุงู ฺฏูฺฏุงู ุฑุฎ ูโุฏูุฏุ ูุงููุฏ ฺฉุงุฑุจุฑ ฺฉู ุฏุงุฏูโูุง ุฑุง ุฏุฑ ูุงูุจ ุงุดุชุจุงู ูุงุฑุฏ ูโฺฉูุฏ.</li>
<li>ฺฉุฏ ุดูุง ูพุณ ุงุฒ ุงู ููุทู ูุงุฒ ุฏุงุฑุฏ ฺฉู ุจู ุนุฏู ูุฌูุฏ ุฏุฑ ุงู ูุถุนุช ูุงููุงุณุจ ุชฺฉู ฺฉูุฏุ ุจู ุฌุง ุงูฺฉู ูุดฺฉู ุฑุง ุฏุฑ ูุฑ ูุฑุญูู ุจุฑุฑุณ ฺฉูุฏ.</li>
<li>ุฑุงู ููุงุณุจ ุจุฑุง ุฑูุฒฺฏุฐุงุฑ ุงู ุงุทูุงุนุงุช ุฏุฑ ููุนโูุง ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏ ูุฌูุฏ ูุฏุงุฑุฏ. ูุง ุฏุฑ ุจุฎุด <a href="ch18-03-oo-design-patterns.html#encoding-states-and-behavior-as-types">โุฑูุฒฺฏุฐุงุฑ ูุถุนุชโูุง ู ุฑูุชุงุฑ ุจู ุนููุงู ููุนโูุงโ</a><!-- ignore --> ุฏุฑ ูุตู ฑธ ฺฉ ูุซุงู ุงุฒ ุขูฺู ฺฉู ููุธูุฑูุงู ุงุณุช ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</li>
</ul>
<p>ุงฺฏุฑ ฺฉุณ ฺฉุฏ ุดูุง ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ู ููุงุฏุฑ ฺฉู ููุทู ูุณุชูุฏ ุฑุง ูพุงุณ ุฏูุฏุ ุจูุชุฑ ุงุณุช ฺฉู ฺฉ ุฎุทุง ุจุงุฒฺฏุฑุฏุงูุฏ ุชุง ฺฉุงุฑุจุฑ ฺฉุชุงุจุฎุงูู ุจุชูุงูุฏ ุชุตูู ุจฺฏุฑุฏ ฺฉู ุฏุฑ ุขู ููุฑุฏ ฺู ฺฉุงุฑ ุงูุฌุงู ุฏูุฏ. ุจุง ุงู ุญุงูุ ุฏุฑ ููุงุฑุฏ ฺฉู ุงุฏุงูู ุฏุงุฏู ูโุชูุงูุฏ ูุงุงูู ุง ูุถุฑ ุจุงุดุฏุ ุจูุชุฑู ุงูุชุฎุงุจ ููฺฉู ุงุณุช ูุฑุงุฎูุงู <code>panic!</code> ู ูุดุฏุงุฑ ุจู ุดุฎุต ฺฉู ุงุฒ ฺฉุชุงุจุฎุงูู ุดูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุฏุฑุจุงุฑู ุจุงฺฏ ุฏุฑ ฺฉุฏ ุขูโูุง ุจุงุดุฏ ุชุง ุจุชูุงููุฏ ุขู ุฑุง ุฏุฑ ุญู ุชูุณุนู ุฑูุน ฺฉููุฏ. ุจู ููู ุชุฑุชุจุ <code>panic!</code> ุงุบูุจ ููุงุณุจ ุงุณุช ุงฺฏุฑ ฺฉุฏ ุฎุงุฑุฌ ฺฉู ุงุฒ ฺฉูุชุฑู ุดูุง ุฎุงุฑุฌ ุงุณุช ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ู ุขู ฺฉุฏ ฺฉ ูุถุนุช ูุงูุนุชุจุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุดูุง ูฺ ุฑุงู ุจุฑุง ุฑูุน ุขู ูุฏุงุฑุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุฒูุงู ฺฉู ุดฺฉุณุช ููุฑุฏ ุงูุชุธุงุฑ ุงุณุชุ ููุงุณุจโุชุฑ ุงุณุช ฺฉู ฺฉ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏ ุชุง ฺฉ ูุฑุงุฎูุงู <code>panic!</code>. ูุซุงูโูุง ุดุงูู ูพุฑุฏุงุฒุด ูุณุชูุฏ ฺฉู ุฏุงุฏูโูุง ูุงุฏุฑุณุช ุฏุฑุงูุช ูโฺฉูุฏ ุง ฺฉ ุฏุฑุฎูุงุณุช HTTP ฺฉู ุจุงุฒฺฏุดุช ูุถุนุช ูุดุงู ูโุฏูุฏ ฺฉู ุจู ูุญุฏูุฏุช ูุฑุฎ ุจุฑุฎูุฑุฏ ฺฉุฑุฏูโุงุฏ. ุฏุฑ ุงู ููุงุฑุฏุ ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code> ูุดุงู ูโุฏูุฏ ฺฉู ุดฺฉุณุช ฺฉ ุงุญุชูุงู ููุฑุฏ ุงูุชุธุงุฑ ุงุณุช ฺฉู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุจุงุฏ ุชุตูู ุจฺฏุฑุฏ ฺฺฏููู ุขู ุฑุง ูุฏุฑุช ฺฉูุฏ.</p>
<p>ููุช ฺฉุฏ ุดูุง ุนููุงุช ุงูุฌุงู ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ุฏุฑ ุตูุฑุช ูุฑุงุฎูุงู ุจุง ููุงุฏุฑ ูุงูุนุชุจุฑ ฺฉุงุฑุจุฑ ุฑุง ุฏุฑ ูุนุฑุถ ุฎุทุฑ ูุฑุงุฑ ุฏูุฏุ ฺฉุฏ ุดูุง ุจุงุฏ ุงุจุชุฏุง ููุงุฏุฑ ุฑุง ุชุฃุฏ ฺฉูุฏ ู ุงฺฏุฑ ููุงุฏุฑ ูุงูุนุชุจุฑ ูุณุชูุฏ ุฏฺุงุฑ <code>panic!</code> ุดูุฏ. ุงู ุจุดุชุฑ ุจู ุฏูุงู ุงูู ุงุณุช: ุชูุงุด ุจุฑุง ุงูุฌุงู ุนููุงุช ุฑู ุฏุงุฏูโูุง ูุงูุนุชุจุฑ ูโุชูุงูุฏ ฺฉุฏ ุดูุง ุฑุง ุฏุฑ ูุนุฑุถ ุขุณุจโูพุฐุฑโูุง ูุฑุงุฑ ุฏูุฏ. ุงู ุฏูู ุงุตู ุงุณุช ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงฺฏุฑ ุดูุง ุชูุงุด ฺฉูุฏ ุจู ุญุงูุธู ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏุ ุฏฺุงุฑ <code>panic!</code> ูโุดูุฏ: ุชูุงุด ุจุฑุง ุฏุณุชุฑุณ ุจู ุญุงูุธูโุง ฺฉู ุจู ุณุงุฎุชุงุฑ ุฏุงุฏู ุฌุงุฑ ุชุนูู ูุฏุงุฑุฏ ฺฉ ูุดฺฉู ุงููุช ุฑุงุฌ ุงุณุช. ุชูุงุจุน ุงุบูุจ <em>ูุฑุงุฑุฏุงุฏูุง</em> ุฏุงุฑูุฏ: ุฑูุชุงุฑ ุขูโูุง ููุท ุฏุฑ ุตูุฑุช ุชุถูู ูโุดูุฏ ฺฉู ูุฑูุฏโูุง ูุงุฒููุฏโูุง ุฎุงุต ุฑุง ุจุฑุขูุฑุฏู ฺฉููุฏ. ุฏฺุงุฑ <code>panic!</code> ุดุฏู ููุช ฺฉู ูุฑุงุฑุฏุงุฏ ููุถ ูโุดูุฏ ููุทู ุงุณุช ุฒุฑุง ููุถ ูุฑุงุฑุฏุงุฏ ููุดู ูุดุงูโุฏููุฏู ฺฉ ุจุงฺฏ ุฏุฑ ุทุฑู ูุฑุงุฎูุงูโฺฉููุฏู ุงุณุช ู ููุน ุฎุทุง ูุณุช ฺฉู ุจุฎูุงูุฏ ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุจู ุทูุฑ ุตุฑุญ ูุฏุฑุช ฺฉูุฏ. ุฏุฑ ูุงูุนุ ูฺ ุฑุงู ูุนููู ุจุฑุง ุจุงุฒุงุจ ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ูุฌูุฏ ูุฏุงุฑุฏุ <em>ุจุฑูุงููโููุณุงู ูุฑุงุฎูุงูโฺฉููุฏู</em> ุจุงุฏ ฺฉุฏ ุฑุง ุงุตูุงุญ ฺฉููุฏ. ูุฑุงุฑุฏุงุฏูุง ฺฉ ุชุงุจุนุ ุจู ุฎุตูุต ุฒูุงู ฺฉู ููุถ ุขู ุจุงุนุซ <code>panic!</code> ูโุดูุฏุ ุจุงุฏ ุฏุฑ ูุณุชูุฏุงุช API ุชุงุจุน ุชูุถุญ ุฏุงุฏู ุดููุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุฏุงุดุชู ุจุฑุฑุณโูุง ุฎุทุง ุฏุฑ ุชูุงู ุชูุงุจุน ุดูุง ุจุณุงุฑ ุทููุงู ู ูุงุฎูุดุงูุฏ ุฎูุงูุฏ ุจูุฏ. ุฎูุดุจุฎุชุงููุ ุดูุง ูโุชูุงูุฏ ุงุฒ ุณุณุชู ููุน Rust (ู ุฏุฑ ูุชุฌู ุจุฑุฑุณ ููุน ฺฉู ุชูุณุท ฺฉุงููพุงูุฑ ุงูุฌุงู ูโุดูุฏ) ุจุฑุง ุงูุฌุงู ุจุณุงุฑ ุงุฒ ุจุฑุฑุณโูุง ุงุณุชูุงุฏู ฺฉูุฏ. ุงฺฏุฑ ุชุงุจุน ุดูุง ฺฉ ููุน ุฎุงุต ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ุจุง ุงุทููุงู ุงุฒ ุงูฺฉู ฺฉุงููพุงูุฑ ูุจูุงู ุชุถูู ฺฉุฑุฏู ุงุณุช ฺฉู ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุฏุงุฑุฏุ ููุทู ฺฉุฏ ุฎูุฏ ุฑุง ูพุด ุจุจุฑุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุดูุง ฺฉ ููุน ุจู ุฌุง ฺฉ <code>Option</code> ุฏุงุดุชู ุจุงุดุฏุ ุจุฑูุงูู ุดูุง ุงูุชุธุงุฑ ุฏุงุฑุฏ ฺฉู <em>ฺุฒ</em> ุจู ุฌุง <em>ูฺโฺุฒ</em> ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุณูพุณ ฺฉุฏ ุดูุง ูุงุฒ ุจู ูุฏุฑุช ุฏู ุญุงูุช ุจุฑุง ุญุงูุชโูุง <code>Some</code> ู <code>None</code> ูุฏุงุฑุฏ: ููุท ฺฉ ุญุงูุช ุจุฑุง ุฏุงุดุชู ฺฉ ููุฏุงุฑ ุจู ุทูุฑ ูุทุน ุฎูุงูุฏ ุฏุงุดุช. ฺฉุฏ ฺฉู ุณุน ูโฺฉูุฏ ูฺโฺุฒ ุจู ุชุงุจุน ุดูุง ูพุงุณ ุฏูุฏ ุญุช ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏุ ุจูุงุจุฑุงู ุชุงุจุน ุดูุง ูุงุฒ ุจู ุจุฑุฑุณ ุงู ุญุงูุช ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุฏุงุฑุฏ. ูุซุงู ุฏฺฏุฑ ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุน ุนุฏุฏ ุจุฏูู ุนูุงูุช ูุงููุฏ <code>u32</code> ุงุณุช ฺฉู ุชุถูู ูโฺฉูุฏ ูพุงุฑุงูุชุฑ ูุฑฺฏุฒ ููู ูุฎูุงูุฏ ุจูุฏ.</p>
<h3 id="ุงุฌุงุฏ-ุงููุงุน-ุณูุงุฑุด-ุจุฑุง-ุงุนุชุจุงุฑุณูุฌ"><a class="header" href="#ุงุฌุงุฏ-ุงููุงุน-ุณูุงุฑุด-ุจุฑุง-ุงุนุชุจุงุฑุณูุฌ">ุงุฌุงุฏ ุงููุงุน ุณูุงุฑุด ุจุฑุง ุงุนุชุจุงุฑุณูุฌ</a></h3>
<p>ุจุงุฏ ุงุฏู ุงุณุชูุงุฏู ุงุฒ ุณุณุชู ููุน Rust ุจุฑุง ุงุทููุงู ุงุฒ ุฏุงุดุชู ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุฑุง ฺฉ ูุฏู ูุฑุงุชุฑ ุจุจุฑู ู ุจู ุงุฌุงุฏ ฺฉ ููุน ุณูุงุฑุด ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ูฺฏุงู ฺฉูู. ุจุงุฒ ุญุฏุณ ุนุฏุฏ ุฏุฑ ูุตู ฒ ุฑุง ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ฺฉุฏ ูุง ุงุฒ ฺฉุงุฑุจุฑ ุฎูุงุณุช ุชุง ฺฉ ุนุฏุฏ ุจู ฑ ุชุง ฑฐฐ ุญุฏุณ ุจุฒูุฏ. ูุง ูุฑฺฏุฒ ุงุนุชุจุงุฑุณูุฌ ูฺฉุฑุฏู ฺฉู ุญุฏุณ ฺฉุงุฑุจุฑ ุจู ุงู ุงุนุฏุงุฏ ุจุงุดุฏ ูุจู ุงุฒ ุงูฺฉู ุขู ุฑุง ุจุง ุนุฏุฏ ูุฎู ููุงุณู ฺฉููุ ููุท ุจุฑุฑุณ ฺฉุฑุฏู ฺฉู ุญุฏุณ ูุซุจุช ุจุงุดุฏ. ุฏุฑ ุงู ููุฑุฏุ ูพุงูุฏูุง ฺูุฏุงู ุดุฏุฏ ูุจูุฏูุฏ: ุฎุฑูุฌ ูุง ุจุง ูพุงูโูุง โุฎู ุจุฒุฑฺฏโ ุง โุฎู ฺฉูฺฺฉโ ููฺูุงู ุฏุฑุณุช ุจูุฏ. ุงูุง ุงู ูโุชูุงูุฏ ุจูุจูุฏ ููุฏ ุจุงุดุฏ ฺฉู ฺฉุงุฑุจุฑ ุฑุง ุจู ุณูุช ุญุฏุณโูุง ูุนุชุจุฑ ูุฏุงุช ฺฉูู ู ุฑูุชุงุฑ ูุชูุงูุช ุฏุงุดุชู ุจุงุดู ููุช ฺฉุงุฑุจุฑ ุนุฏุฏ ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุญุฏุณ ูโุฒูุฏ ุฏุฑ ููุงุจู ุฒูุงู ฺฉูุ ุจุฑุง ูุซุงูุ ุญุฑูู ุชุงูพ ูโฺฉูุฏ.</p>
<p>ฺฉ ุฑุงู ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ุงู ุงุณุช ฺฉู ุญุฏุณ ุฑุง ุจู ุฌุง ููุท ฺฉ <code>u32</code>ุ ุจู ุตูุฑุช ฺฉ <code>i32</code> ุชุฌุฒู ฺฉูู ุชุง ุงุฌุงุฒู ุฏูู ุงุนุฏุงุฏ ููู ูุฒ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดููุฏุ ู ุณูพุณ ฺฉ ุจุฑุฑุณ ุจุฑุง ุงูฺฉู ุนุฏุฏ ุฏุฑ ูุญุฏูุฏู ุงุณุช ุง ูู ุงุถุงูู ฺฉููุ ูุงููุฏ ุฒุฑ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span><span class="boring">use std::cmp::Ordering;
</span><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span>    loop {
        // --snip--

<span class="boring">        println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">        let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">        io::stdin()
</span><span class="boring">            .read_line(&amp;mut guess)
</span><span class="boring">            .expect("Failed to read line");
</span><span class="boring">
</span>        let guess: i32 = match guess.trim().parse() {
            Ok(num) =&gt; num,
            Err(_) =&gt; continue,
        };

        if guess &lt; 1 || guess &gt; 100 {
            println!("The secret number will be between 1 and 100.");
            continue;
        }

        match guess.cmp(&amp;secret_number) {
            // --snip--
<span class="boring">            Ordering::Less =&gt; println!("Too small!"),
</span><span class="boring">            Ordering::Greater =&gt; println!("Too big!"),
</span><span class="boring">            Ordering::Equal =&gt; {
</span><span class="boring">                println!("You win!");
</span><span class="boring">                break;
</span><span class="boring">            }
</span><span class="boring">        }
</span>    }
<span class="boring">}</span></code></pre>
</figure>
<p>ุนุจุงุฑุช <code>if</code> ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ููุฏุงุฑ ูุง ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุงุณุชุ ุจู ฺฉุงุฑุจุฑ ุฏุฑุจุงุฑู ูุดฺฉู ุงุทูุงุน ูโุฏูุฏ ู <code>continue</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ุชฺฉุฑุงุฑ ุจุนุฏ ุญููู ุดุฑูุน ุดูุฏ ู ุฏุฑุฎูุงุณุช ฺฉ ุญุฏุณ ุฏฺฏุฑ ุดูุฏ. ุจุนุฏ ุงุฒ ุนุจุงุฑุช <code>if</code>ุ ูโุชูุงูู ุจุง ููุงุณู ุจู <code>guess</code> ู ุนุฏุฏ ูุฎู ุงุฏุงูู ุฏููุ ุฒุฑุง ูโุฏุงูู ฺฉู <code>guess</code> ุจู ฑ ู ฑฐฐ ุงุณุช.</p>
<p>ุจุง ุงู ุญุงูุ ุงู ฺฉ ุฑุงูโุญู ุงุฏูโุขู ูุณุช: ุงฺฏุฑ ุจุณุงุฑ ุญุงุช ุจุงุดุฏ ฺฉู ุจุฑูุงูู ููุท ุจุฑ ุฑู ููุงุฏุฑ ุจู ฑ ู ฑฐฐ ุนูู ฺฉูุฏุ ู ุจุฑูุงูู ุชูุงุจุน ุฒุงุฏ ุจุง ุงู ูุงุฒ ุฏุงุดุชู ุจุงุดุฏุ ุฏุงุดุชู ฺูู ุจุฑุฑุณโูุง ุฏุฑ ูุฑ ุชุงุจุน ุฎุณุชูโฺฉููุฏู ุฎูุงูุฏ ุจูุฏ (ู ููฺฉู ุงุณุช ุนููฺฉุฑุฏ ุฑุง ุชุญุช ุชุฃุซุฑ ูุฑุงุฑ ุฏูุฏ).</p>
<p>ุฏุฑ ุนูุถุ ูโุชูุงูู ฺฉ ููุน ุฌุฏุฏ ุงุฌุงุฏ ฺฉูู ู ุงุนุชุจุงุฑุณูุฌโูุง ุฑุง ุฏุฑ ฺฉ ุชุงุจุน ุจุฑุง ุงุฌุงุฏ ฺฉ ููููู ุงุฒ ููุน ุฌุฏุฏ ูุฑุงุฑ ุฏูู ุจู ุฌุง ุชฺฉุฑุงุฑ ุงุนุชุจุงุฑุณูุฌโูุง ุฏุฑ ูููโุฌุง. ุจู ุงู ุชุฑุชุจุ ุงุณุชูุงุฏู ุงุฒ ููุน ุฌุฏุฏ ุฏุฑ ุงูุถุงูุง ุชูุงุจุน ุงูู ุงุณุช ู ูโุชูุงู ุจุง ุงุทููุงู ุงุฒ ููุงุฏุฑ ฺฉู ุฏุฑุงูุช ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉุฑุฏ. ูุณุช น-ฑณ ฺฉ ุฑูุด ุจุฑุง ุชุนุฑู ฺฉ ููุน <code>Guess</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ููุท ฺฉ ููููู ุงุฒ <code>Guess</code> ุงุฌุงุฏ ูโฺฉูุฏ ุงฺฏุฑ ุชุงุจุน <code>new</code> ููุฏุงุฑ ุจู ฑ ู ฑฐฐ ุฏุฑุงูุช ฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct Guess {
    value: i32,
}

impl Guess {
    pub fn new(value: i32) -&gt; Guess {
        if value &lt; 1 || value &gt; 100 {
            panic!("Guess value must be between 1 and 100, got {value}.");
        }

        Guess { value }
    }

    pub fn value(&amp;self) -&gt; i32 {
        self.value
    }
}
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 9-13: ฺฉ ููุน <code>Guess</code> ฺฉู ููุท ุจุง ููุงุฏุฑ ุจู ฑ ู ฑฐฐ ุงุฏุงูู ูโุฏูุฏ</figcaption>
</figure>
<p>ุงุจุชุฏุง ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจู ูุงู <code>Guess</code> ุชุนุฑู ูโฺฉูู ฺฉู ุฏุงุฑุง ฺฉ ููุฏ ุจู ูุงู <code>value</code> ุงุณุช ฺฉู ฺฉ <code>i32</code> ูฺฏู ูโุฏุงุฑุฏ. ุงูุฌุง ุฌุง ุงุณุช ฺฉู ุนุฏุฏ ุฐุฎุฑู ุฎูุงูุฏ ุดุฏ.</p>
<p>ุณูพุณ ฺฉ ุชุงุจุน ูุงุจุณุชู ุจู ูุงู <code>new</code> ุฑู <code>Guess</code> ูพุงุฏูโุณุงุฒ ูโฺฉูู ฺฉู ูููููโูุง ุงุฒ ููุงุฏุฑ <code>Guess</code> ุงุฌุงุฏ ูโฺฉูุฏ. ุชุงุจุน <code>new</code> ุจู ฺฏูููโุง ุชุนุฑู ุดุฏู ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุจู ูุงู <code>value</code> ุงุฒ ููุน <code>i32</code> ุฏุงุดุชู ุจุงุดุฏ ู ฺฉ <code>Guess</code> ุจุงุฒฺฏุฑุฏุงูุฏ. ฺฉุฏ ฺฉู ุฏุฑ ุจุฏูู ุชุงุจุน <code>new</code> ูุฑุงุฑ ุฏุงุฑุฏ ููุฏุงุฑ <code>value</code> ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ุจู ฑ ู ฑฐฐ ุงุณุช. ุงฺฏุฑ ููุฏุงุฑ <code>value</code> ุงู ุขุฒููู ุฑุง ูพุงุณ ูฺฉูุฏุ ฺฉ ูุฑุงุฎูุงู ุจู <code>panic!</code> ุงูุฌุงู ูโุฏููุ ฺฉู ุจู ุจุฑูุงููโููุณ ฺฉู ฺฉุฏ ูุฑุงุฎูุงูโฺฉููุฏู ุฑุง ูโููุณุฏ ูุดุฏุงุฑ ูโุฏูุฏ ฺฉู ุจุงฺฏ ุฏุงุฑุฏ ฺฉู ุจุงุฏ ุจุฑุทุฑู ฺฉูุฏุ ุฒุฑุง ุงุฌุงุฏ ฺฉ <code>Guess</code> ุจุง ููุฏุงุฑ <code>value</code> ุฎุงุฑุฌ ุงุฒ ุงู ูุญุฏูุฏู ูุฑุงุฑุฏุงุฏ ุชุงุจุน <code>Guess::new</code> ุฑุง ููุถ ูโฺฉูุฏ. ุดุฑุงุท ฺฉู ููฺฉู ุงุณุช ุจุงุนุซ <code>panic!</code> ุฏุฑ <code>Guess::new</code> ุดูุฏ ุจุงุฏ ุฏุฑ ูุณุชูุฏุงุช ุนููู API ุขู ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑุฏุ ูุง ุฏุฑ ูุตู ฑด ุฏุฑุจุงุฑู ูุฑุงุฑุฏุงุฏูุง ูุณุชูุฏุงุช ฺฉู ูุดุงูโุฏููุฏู ุงุญุชูุงู ูููุน <code>panic!</code> ูุณุชูุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุงฺฏุฑ ููุฏุงุฑ <code>value</code> ุขุฒููู ุฑุง ูพุงุณ ฺฉูุฏุ ฺฉ <code>Guess</code> ุฌุฏุฏ ุจุง ููุฏ <code>value</code> ุชูุธู ุดุฏู ุจู ูพุงุฑุงูุชุฑ <code>value</code> ุงุฌุงุฏ ูโฺฉูู ู <code>Guess</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูู.</p>
<p>ุณูพุณ ฺฉ ูุชุฏ ุจู ูุงู <code>value</code> ูพุงุฏูโุณุงุฒ ูโฺฉูู ฺฉู <code>self</code> ุฑุง ูุฑุถ ูโฺฏุฑุฏุ ูฺ ูพุงุฑุงูุชุฑ ุฏฺฏุฑ ูุฏุงุฑุฏ ู ฺฉ <code>i32</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ููุน ูุชุฏ ฺฏุงู ุงููุงุช <em>getter</em> ูุงูุฏู ูโุดูุฏ ุฒุฑุง ูุฏู ุขู ุฏุฑุงูุช ุฏุงุฏูโุง ุงุฒ ููุฏูุง ุฎูุฏ ู ุจุงุฒฺฏุฑุฏุงูุฏู ุขู ุงุณุช. ุงู ูุชุฏ ุนููู ุถุฑูุฑ ุงุณุช ุฒุฑุง ููุฏ <code>value</code> ุณุงุฎุชุงุฑ ุฏุงุฏู <code>Guess</code> ุฎุตูุต ุงุณุช. ููู ุงุณุช ฺฉู ููุฏ <code>value</code> ุฎุตูุต ุจุงุดุฏ ุชุง ฺฉุฏ ฺฉู ุงุฒ ุณุงุฎุชุงุฑ <code>Guess</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ูุฌุงุฒ ูุจุงุดุฏ ููุฏุงุฑ <code>value</code> ุฑุง ูุณุชููุงู ุชูุธู ฺฉูุฏ: ฺฉุฏ ฺฉู ุฎุงุฑุฌ ุงุฒ ูุงฺูู ุงุณุช <em>ุจุงุฏ</em> ุงุฒ ุชุงุจุน <code>Guess::new</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ููููู ุงุฒ <code>Guess</code> ุงุณุชูุงุฏู ฺฉูุฏุ ู ุจูุงุจุฑุงู ุชุถูู ูโุดูุฏ ฺฉู ูฺ ุฑุงู ุจุฑุง ุงุฌุงุฏ ฺฉ <code>Guess</code> ุจุง ููุฏุงุฑ <code>value</code> ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุชูุณุท ุดุฑุงุท ุฏุฑ ุชุงุจุน <code>Guess::new</code> ุจุฑุฑุณ ูุดุฏู ุจุงุดุฏ.</p>
<p>ุชุงุจุน ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ ุง ููุท ุงุนุฏุงุฏ ุจู ฑ ู ฑฐฐ ุจุงุฒูโฺฏุฑุฏุงูุฏ ูโุชูุงูุฏ ุฏุฑ ุงูุถุง ุฎูุฏ ุงุนูุงู ฺฉูุฏ ฺฉู ฺฉ <code>Guess</code> ูโฺฏุฑุฏ ุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุจู ุฌุง ฺฉ <code>i32</code> ู ูุงุฒ ุจู ุงูุฌุงู ุจุฑุฑุณโูุง ุงุถุงู ุฏุฑ ุจุฏูู ุฎูุฏ ูุฏุงุฑุฏ.</p>
<h2 id="ุฎูุงุตู-8"><a class="header" href="#ุฎูุงุตู-8">ุฎูุงุตู</a></h2>
<p>ูฺฺฏโูุง ูุฏุฑุช ุฎุทุง Rust ุทุฑุงุญ ุดุฏูโุงูุฏ ุชุง ุจู ุดูุง ฺฉูฺฉ ฺฉููุฏ ฺฉุฏ ูุฏุฑุชููุฏุชุฑ ุจููุณุฏ. ูุงฺฉุฑู <code>panic!</code> ูุดุงู ูโุฏูุฏ ฺฉู ุจุฑูุงูู ุดูุง ุฏุฑ ุญุงูุช ูุฑุงุฑ ุฏุงุฑุฏ ฺฉู ููโุชูุงูุฏ ุขู ุฑุง ูุฏุฑุช ฺฉูุฏ ู ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ูุฑุขูุฏ ุฑุง ูุชููู ฺฉูุฏ ุจู ุฌุง ุงูฺฉู ุณุน ฺฉูุฏ ุจุง ููุงุฏุฑ ูุงูุนุชุจุฑ ุง ูุงุฏุฑุณุช ุงุฏุงูู ุฏูุฏ. Enum <code>Result</code> ุงุฒ ุณุณุชู ููุน Rust ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉู ุนููุงุช ููฺฉู ุงุณุช ุจู ุฑูุด ุดฺฉุณุช ุจุฎูุฑุฏ ฺฉู ฺฉุฏ ุดูุง ูโุชูุงูุฏ ุงุฒ ุขู ุจุงุฒุงุจ ฺฉูุฏ. ูโุชูุงูุฏ ุงุฒ <code>Result</code> ุจุฑุง ุงุทูุงุน ุฏุงุฏู ุจู ฺฉุฏ ฺฉู ฺฉุฏ ุดูุง ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุจุงุฏ ููููุช ุง ุดฺฉุณุช ุงุญุชูุงู ุฑุง ูุฒ ูุฏุฑุช ฺฉูุฏ. ุงุณุชูุงุฏู ุงุฒ <code>panic!</code> ู <code>Result</code> ุฏุฑ ุดุฑุงุท ููุงุณุจ ุจุงุนุซ ูโุดูุฏ ฺฉุฏ ุดูุง ุฏุฑ ุจุฑุงุจุฑ ูุดฺฉูุงุช ุงุฌุชูุงุจโูุงูพุฐุฑ ูุงุจู ุงุทููุงูโุชุฑ ุดูุฏ.</p>
<p>ุญุงูุง ฺฉู ุฑุงูโูุง ููุฏ ุงุณุชูุงุฏู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฒ ุฌูุฑฺฉโูุง ุจุง Enums <code>Option</code> ู <code>Result</code> ุฑุง ุฏุฏูโุงุฏุ ุฏุฑุจุงุฑู ูุญูู ุนููฺฉุฑุฏ ุฌูุฑฺฉโูุง ู ูุญูู ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุฏุฑ ฺฉุฏ ุฎูุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุงููุงุน-ุฌูุฑฺฉ-ูฺฺฏูุง-traits-ู-ุทูู-ุนูุฑูุง-lifetimes"><a class="header" href="#ุงููุงุน-ุฌูุฑฺฉ-ูฺฺฏูุง-traits-ู-ุทูู-ุนูุฑูุง-lifetimes">ุงููุงุน ุฌูุฑฺฉุ ูฺฺฏโูุง (Traits)ุ ู ุทูู ุนูุฑูุง (Lifetimes)</a></h1>
<p>ูุฑ ุฒุจุงู ุจุฑูุงููโููุณ ุงุจุฒุงุฑูุง ุจุฑุง ูุฏุฑุช ููุซุฑ ุชฺฉุฑุงุฑ ููุงูู ุฏุงุฑุฏ. ุฏุฑ Rustุ ฺฉ ุงุฒ ุงู ุงุจุฒุงุฑูุง <em>ุฌูุฑฺฉโูุง</em> ูุณุชูุฏ: ุฌุงฺฏุฒูโูุง ุงูุชุฒุงุน ุจุฑุง ุงููุงุน ูุดุฎุต ุง ูฺฺฏโูุง ุฏฺฏุฑ. ูุง ูโุชูุงูู ุฑูุชุงุฑ ุฌูุฑฺฉโูุง ุง ูุญูู ุงุฑุชุจุงุท ุขูโูุง ุจุง ุฌูุฑฺฉโูุง ุฏฺฏุฑ ุฑุง ุจุงู ฺฉูู ุจุฏูู ุงูฺฉู ุจุฏุงูู ููฺฏุงู ฺฉุงููพุงู ู ุงุฌุฑุง ฺฉุฏ ฺู ฺุฒ ุฌุงฺฏุฒู ุขูโูุง ุฎูุงูุฏ ุดุฏ.</p>
<p>ุชูุงุจุน ูโุชูุงููุฏ ูพุงุฑุงูุชุฑูุง ุงุฒ ููุน ุฌูุฑฺฉ ุจฺฏุฑูุฏุ ุจู ุฌุง ฺฉ ููุน ูุดุฎุต ูุงููุฏ <code>i32</code> ุง <code>String</code>ุ ุจู ููุงู ุฑูุด ฺฉู ูพุงุฑุงูุชุฑูุง ุจุง ููุงุฏุฑ ูุงุดูุงุฎุชู ูโฺฏุฑูุฏ ุชุง ุจุชูุงููุฏ ฺฉุฏ ูุดุงุจู ุฑุง ุฑู ููุงุฏุฑ ูุดุฎุต ูุฎุชูู ุงุฌุฑุง ฺฉููุฏ. ุฏุฑ ูุงูุนุ ูุง ูุจูุงู ุฏุฑ ูุตู ถ ุจุง <code>Option&lt;T&gt;</code>ุ ุฏุฑ ูุตู ธ ุจุง <code>Vec&lt;T&gt;</code> ู <code>HashMap&lt;K, V&gt;</code>ุ ู ุฏุฑ ูุตู น ุจุง <code>Result&lt;T, E&gt;</code> ุงุฒ ุฌูุฑฺฉโูุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุฏุฑ ุงู ูุตูุ ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช ฺฉู ฺฺฏููู ุงููุงุนุ ุชูุงุจุนุ ู ูุชุฏูุง ุฎูุฏ ุฑุง ุจุง ุฌูุฑฺฉโูุง ุชุนุฑู ฺฉูุฏ!</p>
<p>ุงุจุชุฏุง ูุญูู ุงุณุชุฎุฑุงุฌ ฺฉ ุชุงุจุน ุจุฑุง ฺฉุงูุด ุชฺฉุฑุงุฑ ฺฉุฏ ุฑุง ูุฑูุฑ ูโฺฉูู. ุณูพุณ ุงุฒ ููุงู ุชฺฉูฺฉ ุจุฑุง ุงุฌุงุฏ ฺฉ ุชุงุจุน ุฌูุฑฺฉ ุงุฒ ุฏู ุชุงุจุน ฺฉู ุชููุง ุฏุฑ ููุน ูพุงุฑุงูุชุฑูุงุดุงู ูุชูุงูุช ูุณุชูุฏ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ. ููฺูู ุชูุถุญ ุฎูุงูู ุฏุงุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุงุฒ ุงููุงุน ุฌูุฑฺฉ ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง (struct) ู ุดูุงุฑุดโูุง (enum) ุงุณุชูุงุฏู ฺฉุฑุฏ.</p>
<p>ุณูพุณ ุงุฏ ูโฺฏุฑุฏ ฺฉู ฺฺฏููู ุงุฒ <em>ูฺฺฏโูุง</em> (Traits) ุจุฑุง ุชุนุฑู ุฑูุชุงุฑ ุจู ุตูุฑุช ุฌูุฑฺฉ ุงุณุชูุงุฏู ฺฉูุฏ. ูโุชูุงูุฏ ูฺฺฏโูุง ุฑุง ุจุง ุงููุงุน ุฌูุฑฺฉ ุชุฑฺฉุจ ฺฉูุฏ ุชุง ููุน ุฌูุฑฺฉ ุฑุง ูุญุฏูุฏ ฺฉูุฏ ฺฉู ููุท ุขู ููุนโูุง ุฑุง ุจูพุฐุฑุฏ ฺฉู ุฑูุชุงุฑ ุฎุงุต ุฏุงุฑูุฏุ ุจู ุฌุง ูุฑ ููุน.</p>
<p>ุฏุฑ ููุงุชุ ุฏุฑุจุงุฑู <em>ุทูู ุนูุฑโูุง</em> (Lifetimes) ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ: ููุน ุงุฒ ุฌูุฑฺฉโูุง ฺฉู ุจู ฺฉุงููพุงูุฑ ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ูุญูู ุงุฑุชุจุงุท ูุฑุงุฌุน ุจุง ฺฉุฏฺฏุฑ ูโุฏููุฏ. ุทูู ุนูุฑูุง ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ุงุทูุงุนุงุช ฺฉุงู ุฏุฑุจุงุฑู ููุงุฏุฑ ูุฑุถ ฺฏุฑูุชู ุดุฏู ุจู ฺฉุงููพุงูุฑ ุจุฏูู ุชุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุฑุงุฌุน ุฏุฑ ุดุฑุงุท ุจุดุชุฑ ูุนุชุจุฑ ุฎูุงููุฏ ุจูุฏ.</p>
<h2 id="ุญุฐู-ุชฺฉุฑุงุฑ-ุจุง-ุงุณุชุฎุฑุงุฌ-ฺฉ-ุชุงุจุน"><a class="header" href="#ุญุฐู-ุชฺฉุฑุงุฑ-ุจุง-ุงุณุชุฎุฑุงุฌ-ฺฉ-ุชุงุจุน">ุญุฐู ุชฺฉุฑุงุฑ ุจุง ุงุณุชุฎุฑุงุฌ ฺฉ ุชุงุจุน</a></h2>
<p>ุฌูุฑฺฉโูุง ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉู ููุนโูุง ูุดุฎุต ุฑุง ุจุง ฺฉ ุฌุงฺฏุฒู ฺฉู ููุงุงูฺฏุฑ ฺูุฏู ููุน ุงุณุช ุฌุงฺฏุฒู ฺฉูู ุชุง ุชฺฉุฑุงุฑ ฺฉุฏ ุฑุง ุญุฐู ฺฉูู. ูุจู ุงุฒ ูุฑูุฏ ุจู ูุญู ุฌูุฑฺฉโูุงุ ุงุจุชุฏุง ุจู ูุญูู ุญุฐู ุชฺฉุฑุงุฑ ุจู ุฑูุด ฺฉู ุดุงูู ุงููุงุน ุฌูุฑฺฉ ููโุดูุฏุ ุจุง ุงุณุชุฎุฑุงุฌ ฺฉ ุชุงุจุน ฺฉู ููุงุฏุฑ ูุดุฎุต ุฑุง ุจุง ฺฉ ุฌุงฺฏุฒู ฺฉู ููุงุงูฺฏุฑ ููุงุฏุฑ ฺูุฏฺฏุงูู ุงุณุช ุฌุงฺฏุฒู ูโฺฉูุฏุ ูฺฏุงู ุฎูุงูู ฺฉุฑุฏ. ุณูพุณ ุงุฒ ููุงู ุชฺฉูฺฉ ุจุฑุง ุงุณุชุฎุฑุงุฌ ฺฉ ุชุงุจุน ุฌูุฑฺฉ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ! ุจุง ุจุฑุฑุณ ูุญูู ุชุดุฎุต ฺฉุฏ ุชฺฉุฑุงุฑ ฺฉู ูโุชูุงูุฏ ุจู ฺฉ ุชุงุจุน ุงุณุชุฎุฑุงุฌ ฺฉูุฏุ ุดุฑูุน ุจู ุชุดุฎุต ฺฉุฏ ุชฺฉุฑุงุฑ ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุฌูุฑฺฉโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจุง ุจุฑูุงูู ฺฉูุชุงู ุฏุฑ ูุณุช ฑฐ-ฑ ฺฉู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฑุง ุฏุฑ ฺฉ ูุณุช ูพุฏุง ูโฺฉูุฏุ ุดุฑูุน ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let number_list = vec![34, 50, 25, 100, 65];

    let mut largest = &amp;number_list[0];

    for number in &amp;number_list {
        if number &gt; largest {
            largest = number;
        }
    }

    println!("The largest number is {largest}");
<span class="boring">    assert_eq!(*largest, 100);
</span>}</code></pre></pre>
<figcaption>Listing 10-1: ุงูุชู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฏุฑ ฺฉ ูุณุช ุงุนุฏุงุฏ</figcaption>
</figure>
<p>ูุง ฺฉ ูุณุช ุงุฒ ุงุนุฏุงุฏ ุตุญุญ ุฑุง ุฏุฑ ูุชุบุฑ <code>number_list</code> ุฐุฎุฑู ูโฺฉูู ู ฺฉ ูุฑุฌุน ุจู ุงููู ุนุฏุฏ ุฏุฑ ูุณุช ุฑุง ุฏุฑ ูุชุบุฑ ุจู ูุงู <code>largest</code> ูุฑุงุฑ ูโุฏูู. ุณูพุณ ุชูุงู ุงุนุฏุงุฏ ูุณุช ุฑุง ูพูุงุด ูโฺฉูู ู ุงฺฏุฑ ุนุฏุฏ ูุนู ุจุฒุฑฺฏโุชุฑ ุงุฒ ุนุฏุฏ ุฐุฎุฑู ุดุฏู ุฏุฑ <code>largest</code> ุจุงุดุฏุ ูุฑุฌุน ุฏุฑ ุขู ูุชุบุฑ ุฑุง ุฌุงฺฏุฒู ูโฺฉูู. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุนุฏุฏ ูุนู ฺฉูฺฺฉโุชุฑ ุง ูุณุงู ุจุง ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฏุฏู ุดุฏู ุชุงฺฉููู ุจุงุดุฏุ ูุชุบุฑ ุชุบุฑ ููโฺฉูุฏ ู ฺฉุฏ ุจู ุนุฏุฏ ุจุนุฏ ุฏุฑ ูุณุช ูโุฑูุฏ. ูพุณ ุงุฒ ุจุฑุฑุณ ุชูุงู ุงุนุฏุงุฏ ุฏุฑ ูุณุชุ <code>largest</code> ุจุงุฏ ุจู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุงุดุงุฑู ฺฉูุฏ ฺฉู ุฏุฑ ุงู ููุฑุฏ ฑฐฐ ุงุณุช.</p>
<p>ุงฺฉููู ุงุฒ ูุง ุฎูุงุณุชู ุดุฏู ุงุณุช ฺฉู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฑุง ุฏุฑ ุฏู ูุณุช ูุฎุชูู ุงุนุฏุงุฏ ูพุฏุง ฺฉูู. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ูโุชูุงูู ุงูุชุฎุงุจ ฺฉูู ฺฉู ฺฉุฏ ุฏุฑ ูุณุช ฑฐ-ฑ ุฑุง ุชฺฉุฑุงุฑ ฺฉูู ู ุงุฒ ููุงู ููุทู ุฏุฑ ุฏู ูฺฉุงู ูุฎุชูู ุฏุฑ ุจุฑูุงูู ุงุณุชูุงุฏู ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฐ-ฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let number_list = vec![34, 50, 25, 100, 65];

    let mut largest = &amp;number_list[0];

    for number in &amp;number_list {
        if number &gt; largest {
            largest = number;
        }
    }

    println!("The largest number is {largest}");

    let number_list = vec![102, 34, 6000, 89, 54, 2, 43, 8];

    let mut largest = &amp;number_list[0];

    for number in &amp;number_list {
        if number &gt; largest {
            largest = number;
        }
    }

    println!("The largest number is {largest}");
}</code></pre></pre>
<figcaption>Listing 10-2: ฺฉุฏ ุจุฑุง ุงูุชู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฏุฑ <em>ุฏู</em> ูุณุช ุงุนุฏุงุฏ</figcaption>
</figure>
<p>ุงฺฏุฑฺู ุงู ฺฉุฏ ฺฉุงุฑ ูโฺฉูุฏุ ุชฺฉุฑุงุฑ ฺฉุฏ ุฎุณุชูโฺฉููุฏู ู ูุณุชุนุฏ ุฎุทุงุณุช. ููฺูู ููุช ุจุฎูุงูู ฺฉุฏ ุฑุง ุชุบุฑ ุฏููุ ุจุงุฏ ุจู ุงุฏ ุฏุงุดุชู ุจุงุดู ฺฉู ุขู ุฑุง ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ุจูโุฑูุฒุฑุณุงู ฺฉูู.</p>
<p>ุจุฑุง ุญุฐู ุงู ุชฺฉุฑุงุฑุ ฺฉ ุงูุชุฒุงุน ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ุจุง ุชุนุฑู ฺฉ ุชุงุจุน ฺฉู ุฑู ูุฑ ูุณุช ุงุฒ ุงุนุฏุงุฏ ุตุญุญ ฺฉู ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูพุงุณ ุฏุงุฏู ูโุดูุฏ ุนูู ูโฺฉูุฏ. ุงู ุฑุงูโุญู ฺฉุฏ ูุง ุฑุง ูุงุถุญโุชุฑ ูโฺฉูุฏ ู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ููููู ุงูุชู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฏุฑ ฺฉ ูุณุช ุฑุง ุจู ุตูุฑุช ุงูุชุฒุงุน ุจุงู ฺฉูู.</p>
<p>ุฏุฑ ูุณุช ฑฐ-ณุ ฺฉุฏ ฺฉู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฑุง ูพุฏุง ูโฺฉูุฏ ุฏุฑ ุชุงุจุน ุจู ูุงู <code>largest</code> ุงุณุชุฎุฑุงุฌ ูโฺฉูู. ุณูพุณ ุงู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฑุง ุฏุฑ ุฏู ูุณุช ุงุฒ ูุณุช ฑฐ-ฒ ูพุฏุง ฺฉูู. ููฺูู ูโุชูุงูู ุงุฒ ุงู ุชุงุจุน ุฑู ูุฑ ูุณุช ุฏฺฏุฑ ุงุฒ ููุงุฏุฑ <code>i32</code> ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุขูุฏู ุฏุงุดุชู ุจุงุดู ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn largest(list: &amp;[i32]) -&gt; &amp;i32 {
    let mut largest = &amp;list[0];

    for item in list {
        if item &gt; largest {
            largest = item;
        }
    }

    largest
}

fn main() {
    let number_list = vec![34, 50, 25, 100, 65];

    let result = largest(&amp;number_list);
    println!("The largest number is {result}");
<span class="boring">    assert_eq!(*result, 100);
</span>
    let number_list = vec![102, 34, 6000, 89, 54, 2, 43, 8];

    let result = largest(&amp;number_list);
    println!("The largest number is {result}");
<span class="boring">    assert_eq!(*result, 6000);
</span>}</code></pre></pre>
<figcaption>Listing 10-3: ฺฉุฏ ุงูุชุฒุงุน ุจุฑุง ุงูุชู ุจุฒุฑฺฏโุชุฑู ุนุฏุฏ ุฏุฑ ุฏู ูุณุช</figcaption>
</figure>
<p>ุชุงุจุน <code>largest</code> ฺฉ ูพุงุฑุงูุชุฑ ุจู ูุงู <code>list</code> ุฏุงุฑุฏ ฺฉู ููุงุงูฺฏุฑ ูุฑ ุจุฎุด ูุดุฎุต ุงุฒ ููุงุฏุฑ <code>i32</code> ุงุณุช ฺฉู ููฺฉู ุงุณุช ุจู ุชุงุจุน ูพุงุณ ุฏูู. ุฏุฑ ูุชุฌูุ ููุช ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ฺฉุฏ ุฑู ููุงุฏุฑ ูุดุฎุต ฺฉู ูพุงุณ ูโุฏูู ุงุฌุฑุง ูโุดูุฏ.</p>
<p>ุจู ุทูุฑ ุฎูุงุตูุ ูุฑุงุญู ุฒุฑ ุฑุง ุจุฑุง ุชุบุฑ ฺฉุฏ ุงุฒ ูุณุช ฑฐ-ฒ ุจู ูุณุช ฑฐ-ณ ุท ฺฉุฑุฏู:</p>
<ol>
<li>ฺฉุฏ ุชฺฉุฑุงุฑ ุฑุง ุดูุงุณุง ฺฉูุฏ.</li>
<li>ฺฉุฏ ุชฺฉุฑุงุฑ ุฑุง ุจู ุจุฏูู ฺฉ ุชุงุจุน ุงุณุชุฎุฑุงุฌ ฺฉุฑุฏู ู ูุฑูุฏโูุง ู ููุงุฏุฑ ุจุงุฒฺฏุดุช ุขู ฺฉุฏ ุฑุง ุฏุฑ ุงูุถุง ุชุงุจุน ูุดุฎุต ฺฉูุฏ.</li>
<li>ุฏู ููููู ุงุฒ ฺฉุฏ ุชฺฉุฑุงุฑ ุฑุง ุจู ุฌุง ุขู ุจุง ูุฑุงุฎูุงู ุชุงุจุน ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ.</li>
</ol>
<p>ุฏุฑ ูุฑุญูู ุจุนุฏุ ุงุฒ ููู ูุฑุงุญู ุจุง ุฌูุฑฺฉโูุง ุจุฑุง ฺฉุงูุด ุชฺฉุฑุงุฑ ฺฉุฏ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ. ููุงูุทูุฑ ฺฉู ุจุฏูู ุชุงุจุน ูโุชูุงูุฏ ุฑู ฺฉ <code>list</code> ุงูุชุฒุงุน ุจู ุฌุง ููุงุฏุฑ ูุดุฎุต ุนูู ฺฉูุฏุ ุฌูุฑฺฉโูุง ุจู ฺฉุฏ ุงุฌุงุฒู ูโุฏููุฏ ฺฉู ุฑู ุงููุงุน ุงูุชุฒุงุน ุนูู ฺฉูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ุฏู ุชุงุจุน ุฏุงุดุชู: ฺฉ ฺฉู ุจุฒุฑฺฏโุชุฑู ููุฑุฏ ุฑุง ุฏุฑ ฺฉ ุจุฎุด ุงุฒ ููุงุฏุฑ <code>i32</code> ูพุฏุง ูโฺฉูุฏ ู ุฏฺฏุฑ ฺฉู ุจุฒุฑฺฏโุชุฑู ููุฑุฏ ุฑุง ุฏุฑ ฺฉ ุจุฎุด ุงุฒ ููุงุฏุฑ <code>char</code> ูพุฏุง ูโฺฉูุฏ. ฺฺฏููู ูโุชูุงูู ุงู ุชฺฉุฑุงุฑ ุฑุง ุญุฐู ฺฉููุ ุจุงุฏ ูพุฏุง ฺฉูู!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงููุงุน-ุฏุงุฏู-ุฌูุฑฺฉ"><a class="header" href="#ุงููุงุน-ุฏุงุฏู-ุฌูุฑฺฉ">ุงููุงุน ุฏุงุฏู ุฌูุฑฺฉ</a></h2>
<p>ูุง ุงุฒ ุฌูุฑฺฉโูุง ุจุฑุง ุงุฌุงุฏ ุชุนุฑูโูุง ุจุฑุง ููุงุฑุฏ ูุงููุฏ ุงูุถุง ุชูุงุจุน ุง ุณุงุฎุชุงุฑูุง (struct) ุงุณุชูุงุฏู ูโฺฉููุ ฺฉู ุณูพุณ ูโุชูุงูู ุจุง ุงููุงุน ุฏุงุฏู ูุดุฎุต ูุฎุชูู ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูู. ุจุงุฏ ุงุจุชุฏุง ุจุจูู ฺฺฏููู ูโุชูุงู ุชูุงุจุนุ ุณุงุฎุชุงุฑูุงุ ุดูุงุฑุดโูุง (enum)ุ ู ูุชุฏูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ุชุนุฑู ฺฉุฑุฏ. ุณูพุณ ุฏุฑุจุงุฑู ุงูฺฉู ุฌูุฑฺฉโูุง ฺฺฏููู ุจุฑ ุนููฺฉุฑุฏ ฺฉุฏ ุชุฃุซุฑ ูโฺฏุฐุงุฑูุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุฏุฑ-ุชุนุฑู-ุชูุงุจุน"><a class="header" href="#ุฏุฑ-ุชุนุฑู-ุชูุงุจุน">ุฏุฑ ุชุนุฑู ุชูุงุจุน</a></h3>
<p>ููฺฏุงู ุชุนุฑู ฺฉ ุชุงุจุน ฺฉู ุงุฒ ุฌูุฑฺฉโูุง ุงุณุชูุงุฏู ูโฺฉูุฏุ ุฌูุฑฺฉโูุง ุฑุง ุฏุฑ ุงูุถุง ุชุงุจุน ูุฑุงุฑ ูโุฏููุ ุฌุง ฺฉู ูุนูููุงู ููุน ุฏุงุฏู ูพุงุฑุงูุชุฑูุง ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุฑุง ูุดุฎุต ูโฺฉูู. ุงู ฺฉุงุฑ ฺฉุฏ ูุง ุฑุง ุงูุนุทุงูโูพุฐุฑุชุฑ ูโฺฉูุฏ ู ุจู ูุฑุงุฎูุงูโฺฉููุฏฺฏุงู ุชุงุจุน ูุง ุนููฺฉุฑุฏ ุจุดุชุฑ ุงุฑุงุฆู ูโุฏูุฏุ ุฏุฑ ุญุงู ฺฉู ุงุฒ ุชฺฉุฑุงุฑ ฺฉุฏ ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<p>ุจุง ุงุฏุงูู ุชุงุจุน <code>largest</code>ุ ูุณุช ฑฐ-ด ุฏู ุชุงุจุน ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ูุฑ ุฏู ุจุฒุฑฺฏโุชุฑู ููุฏุงุฑ ุฑุง ุฏุฑ ฺฉ ุจุฎุด (slice) ูพุฏุง ูโฺฉููุฏ. ุณูพุณ ุงูโูุง ุฑุง ุจู ฺฉ ุชุงุจุน ูุงุญุฏ ฺฉู ุงุฒ ุฌูุฑฺฉโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุฑฺฉุจ ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn largest_i32(list: &amp;[i32]) -&gt; &amp;i32 {
    let mut largest = &amp;list[0];

    for item in list {
        if item &gt; largest {
            largest = item;
        }
    }

    largest
}

fn largest_char(list: &amp;[char]) -&gt; &amp;char {
    let mut largest = &amp;list[0];

    for item in list {
        if item &gt; largest {
            largest = item;
        }
    }

    largest
}

fn main() {
    let number_list = vec![34, 50, 25, 100, 65];

    let result = largest_i32(&amp;number_list);
    println!("The largest number is {result}");
<span class="boring">    assert_eq!(*result, 100);
</span>
    let char_list = vec!['y', 'm', 'a', 'q'];

    let result = largest_char(&amp;char_list);
    println!("The largest char is {result}");
<span class="boring">    assert_eq!(*result, 'y');
</span>}</code></pre></pre>
<figcaption>Listing 10-4: ุฏู ุชุงุจุน ฺฉู ููุท ุฏุฑ ูุงูโูุง ู ุงููุงุน ููุฌูุฏ ุฏุฑ ุงูุถุงูุงุดุงู ูุชูุงูุช ูุณุชูุฏ</figcaption>
</figure>
<p>ุชุงุจุน <code>largest_i32</code> ููุงู ุชุงุจุน ุงุณุช ฺฉู ุฏุฑ ูุณุช ฑฐ-ณ ุงุณุชุฎุฑุงุฌ ฺฉุฑุฏู ู ุจุฒุฑฺฏโุชุฑู ููุฏุงุฑ <code>i32</code> ุฑุง ุฏุฑ ฺฉ ุจุฎุด ูพุฏุง ูโฺฉูุฏ. ุชุงุจุน <code>largest_char</code> ุจุฒุฑฺฏโุชุฑู ููุฏุงุฑ <code>char</code> ุฑุง ุฏุฑ ฺฉ ุจุฎุด ูพุฏุง ูโฺฉูุฏ. ุจุฏูู ุชูุงุจุน ุฏุงุฑุง ฺฉุฏ ฺฉุณุงู ูุณุชูุฏุ ุจูุงุจุฑุงู ุจุง ูุนุฑู ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุฏุฑ ฺฉ ุชุงุจุน ูุงุญุฏุ ุชฺฉุฑุงุฑ ุฑุง ุญุฐู ูโฺฉูู.</p>
<p>ุจุฑุง ูพุงุฑุงูุชุฑ ฺฉุฑุฏู ููุนโูุง ุฏุฑ ฺฉ ุชุงุจุน ุฌุฏุฏุ ุจุงุฏ ูุงู ูพุงุฑุงูุชุฑ ููุน ุฑุง ูุดุฎุต ฺฉููุ ููุงูุทูุฑ ฺฉู ุจุฑุง ูพุงุฑุงูุชุฑูุง ููุฏุงุฑ ุฏุฑ ฺฉ ุชุงุจุน ุงูุฌุงู ูโุฏูู. ูโุชูุงูุฏ ุงุฒ ูุฑ ุดูุงุณูโุง ุจู ุนููุงู ูุงู ูพุงุฑุงูุชุฑ ููุน ุงุณุชูุงุฏู ฺฉูุฏ. ุงูุง ุงุฒ ุขูุฌุง ฺฉู ุทุจู ูุฑุงุฑุฏุงุฏุ ูุงูโูุง ูพุงุฑุงูุชุฑ ููุน ุฏุฑ Rust ฺฉูุชุงู ูุณุชูุฏุ ุงุบูุจ ููุท ฺฉ ุญุฑูุ ู ูุฑุงุฑุฏุงุฏ ูุงูโฺฏุฐุงุฑ ููุน ุฏุฑ Rust UpperCamelCase ุงุณุชุ ูุง ุงุฒ <code>T</code> ุงุณุชูุงุฏู ูโฺฉูู. ฺฉูุชุงู ุจุฑุง <em>type</em>ุ <code>T</code> ุงูุชุฎุงุจ ูพุดโูุฑุถ ุจุดุชุฑ ุจุฑูุงููโููุณุงู Rust ุงุณุช.</p>
<p>ููุช ุงุฒ ฺฉ ูพุงุฑุงูุชุฑ ุฏุฑ ุจุฏูู ุชุงุจุน ุงุณุชูุงุฏู ูโฺฉููุ ุจุงุฏ ูุงู ูพุงุฑุงูุชุฑ ุฑุง ุฏุฑ ุงูุถุง ุงุนูุงู ฺฉูู ุชุง ฺฉุงููพุงูุฑ ุจุฏุงูุฏ ุขู ูุงู ุจู ฺู ูุนูุงุณุช. ุจู ุทูุฑ ูุดุงุจูุ ููุช ุงุฒ ูุงู ูพุงุฑุงูุชุฑ ููุน ุฏุฑ ุงูุถุง ุชุงุจุน ุงุณุชูุงุฏู ูโฺฉููุ ุจุงุฏ ูุงู ูพุงุฑุงูุชุฑ ููุน ุฑุง ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุขู ุงุนูุงู ฺฉูู. ุจุฑุง ุชุนุฑู ุชุงุจุน ุฌูุฑฺฉ <code>largest</code>ุ ูุงู ููุนโูุง ุฑุง ุฏุงุฎู ูพุฑุงูุชุฒูุง ุฒุงููโุงุ <code>&lt;&gt;</code>ุ ุจู ูุงู ุชุงุจุน ู ูุณุช ูพุงุฑุงูุชุฑ ูุฑุงุฑ ูโุฏููุ ูุงููุฏ ุฒุฑ:</p>
<pre><code class="language-rust ignore">fn largest&lt;T&gt;(list: &amp;[T]) -&gt; &amp;T {</code></pre>
<p>ุงู ุชุนุฑู ุฑุง ุจู ุงู ุตูุฑุช ูโุฎูุงูู: ุชุงุจุน <code>largest</code> ุจุฑ ุฑู ฺฉ ููุน <code>T</code> ุฌูุฑฺฉ ุงุณุช. ุงู ุชุงุจุน ฺฉ ูพุงุฑุงูุชุฑ ุจู ูุงู <code>list</code> ุฏุงุฑุฏุ ฺฉู ฺฉ ุจุฎุด ุงุฒ ููุงุฏุฑ ููุน <code>T</code> ุงุณุช. ุชุงุจุน <code>largest</code> ฺฉ ูุฑุฌุน ุจู ููุฏุงุฑ ุงุฒ ููุงู ููุน <code>T</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุณุช ฑฐ-ต ุชุนุฑู ุชุงุจุน ุชุฑฺฉุจ <code>largest</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ููุน ุฏุงุฏู ุฌูุฑฺฉ ุฏุฑ ุงูุถุง ุขู ุฑุง ูุดุงู ูโุฏูุฏ. ุงู ูุณุช ููฺูู ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุชุงุจุน ุฑุง ุจุง ฺฉ ุจุฎุด ุงุฒ ููุงุฏุฑ <code>i32</code> ุง ููุงุฏุฑ <code>char</code> ูุฑุงุฎูุงู ฺฉุฑุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ููโุดูุฏุ ุงูุง ุจุนุฏุงู ุฏุฑ ุงู ูุตู ุขู ุฑุง ุฑูุน ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">fn largest&lt;T&gt;(list: &amp;[T]) -&gt; &amp;T {
    let mut largest = &amp;list[0];

    for item in list {
        if item &gt; largest {
            largest = item;
        }
    }

    largest
}

fn main() {
    let number_list = vec![34, 50, 25, 100, 65];

    let result = largest(&amp;number_list);
    println!("The largest number is {result}");

    let char_list = vec!['y', 'm', 'a', 'q'];

    let result = largest(&amp;char_list);
    println!("The largest char is {result}");
}</code></pre>
<figcaption>Listing 10-5: ุชุงุจุน <code>largest</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉุ ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ููโุดูุฏ</figcaption>
</figure>
<p>ุงฺฏุฑ ููู ุญุงูุง ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉููุ ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0369]: binary operation `&gt;` cannot be applied to type `&amp;T`
 --&gt; src/main.rs:5:17
  |
5 |         if item &gt; largest {
  |            ---- ^ ------- &amp;T
  |            |
  |            &amp;T
  |
help: consider restricting type parameter `T`
  |
1 | fn largest&lt;T: std::cmp::PartialOrd&gt;(list: &amp;[T]) -&gt; &amp;T {
  |             ++++++++++++++++++++++

For more information about this error, try `rustc --explain E0369`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>ูุชู ฺฉูฺฉ ุจู <code>std::cmp::PartialOrd</code> ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ฺฉ <em>ูฺฺฏ</em> (trait) ุงุณุชุ ู ูุง ุฏุฑ ุจุฎุด ุจุนุฏ ุฏุฑุจุงุฑู ูฺฺฏโูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ุจุฏุงูุฏ ฺฉู ุงู ุฎุทุง ุจุงู ูโฺฉูุฏ ฺฉู ุจุฏูู ุชุงุจุน <code>largest</code> ุจุฑุง ููู ููุนโูุง ููฺฉู ฺฉู <code>T</code> ูโุชูุงูุฏ ุจุงุดุฏุ ฺฉุงุฑ ููโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ูโุฎูุงูู ููุงุฏุฑ ููุน <code>T</code> ุฑุง ุฏุฑ ุจุฏูู ููุงุณู ฺฉููุ ููุท ูโุชูุงูู ุงุฒ ููุนโูุง ุงุณุชูุงุฏู ฺฉูู ฺฉู ููุงุฏุฑุดุงู ูุงุจู ูุฑุชุจโุณุงุฒ ุจุงุดุฏ. ุจุฑุง ูุนุงู ฺฉุฑุฏู ููุงุณูโูุงุ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูฺฺฏ <code>std::cmp::PartialOrd</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ุฑู ููุนโูุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ (ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุงู ูฺฺฏ ุจู ุถููู ุฌ ูุฑุงุฌุนู ฺฉูุฏ). ุจุง ุฏูุจุงู ฺฉุฑุฏู ูพุดููุงุฏ ูุชู ฺฉูฺฉุ ููุนโูุง ูุนุชุจุฑ ุจุฑุง <code>T</code> ุฑุง ุจู ุขูโูุง ฺฉู <code>PartialOrd</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ูุญุฏูุฏ ูโฺฉูู ู ุงู ูุซุงู ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏุ ุฒุฑุง ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูฺฺฏ <code>PartialOrd</code> ุฑุง ุจุฑุง ูุฑ ุฏู ููุน <code>i32</code> ู <code>char</code> ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช.</p>
<h3 id="ุฏุฑ-ุชุนุฑู-ุณุงุฎุชุงุฑูุง-struct"><a class="header" href="#ุฏุฑ-ุชุนุฑู-ุณุงุฎุชุงุฑูุง-struct">ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑูุง (Struct)</a></h3>
<p>ูุง ูโุชูุงูู ุณุงุฎุชุงุฑูุง ุฑุง ูุฒ ุจู ฺฏูููโุง ุชุนุฑู ฺฉูู ฺฉู ุงุฒ ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุฏุฑ ฺฉ ุง ฺูุฏ ููุฏ ุงุณุชูุงุฏู ฺฉููุฏุ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู <code>&lt;&gt;</code>. ูุณุช ฑฐ-ถ ุณุงุฎุชุงุฑ <code>Point&lt;T&gt;</code> ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ููุงุฏุฑ ูุฎุชุตุงุช <code>x</code> ู <code>y</code> ุงุฒ ูุฑ ููุน ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point&lt;T&gt; {
    x: T,
    y: T,
}

fn main() {
    let integer = Point { x: 5, y: 10 };
    let float = Point { x: 1.0, y: 4.0 };
}</code></pre></pre>
<figcaption>Listing 10-6: ุณุงุฎุชุงุฑ <code>Point&lt;T&gt;</code> ฺฉู ููุงุฏุฑ <code>x</code> ู <code>y</code> ุงุฒ ููุน <code>T</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ</figcaption>
</figure>
<p>ูุญู ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑูุง ูุดุงุจู ุงุณุชูุงุฏู ุขูโูุง ุฏุฑ ุชุนุฑู ุชูุงุจุน ุงุณุช. ุงุจุชุฏุง ูุงู ูพุงุฑุงูุชุฑ ููุน ุฑุง ุฏุฑ ุฏุงุฎู ูพุฑุงูุชุฒูุง ุฒุงููโุง ุจูุงูุงุตูู ูพุณ ุงุฒ ูุงู ุณุงุฎุชุงุฑ ุงุนูุงู ูโฺฉูู. ุณูพุณ ููุน ุฌูุฑฺฉ ุฑุง ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑ ุงุณุชูุงุฏู ูโฺฉููุ ุฌุง ฺฉู ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููุน ุฏุงุฏู ูุดุฎุต ุฑุง ูุดุฎุต ูโฺฉุฑุฏู.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงุฒ ุขูุฌุง ฺฉู ููุท ฺฉ ููุน ุฌูุฑฺฉ ุจุฑุง ุชุนุฑู <code>Point&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงู ุชุนุฑู ุจุงู ูโฺฉูุฏ ฺฉู ุณุงุฎุชุงุฑ <code>Point&lt;T&gt;</code> ุจุฑุง ฺฉ ููุน <code>T</code> ุฌูุฑฺฉ ุงุณุช ู ููุฏูุง <code>x</code> ู <code>y</code> <em>ูุฑ ุฏู</em> ุงุฒ ููุงู ููุน ูุณุชูุฏุ ูุฑฺู ฺฉู ุขู ููุน ุจุงุดุฏ. ุงฺฏุฑ ูููููโุง ุงุฒ <code>Point&lt;T&gt;</code> ุงุฌุงุฏ ฺฉูู ฺฉู ููุงุฏุฑ ุขู ุงููุงุน ูุฎุชูู ุฏุงุดุชู ุจุงุดูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฐ-ท ุขูุฏู ุงุณุชุ ฺฉุฏ ูุง ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">struct Point&lt;T&gt; {
    x: T,
    y: T,
}

fn main() {
    let wont_work = Point { x: 5, y: 4.0 };
}</code></pre>
<figcaption>Listing 10-7: ููุฏูุง <code>x</code> ู <code>y</code> ุจุงุฏ ุงุฒ ููุงู ููุน ุจุงุดูุฏ ุฒุฑุง ูุฑ ุฏู ุฏุงุฑุง ููุน ุฏุงุฏู ุฌูุฑฺฉ <code>T</code> ูุณุชูุฏ.</figcaption>
</figure>
<p>ุฏุฑ ุงู ูุซุงูุ ููุช ููุฏุงุฑ ุนุฏุฏ ุตุญุญ <code>5</code> ุฑุง ุจู <code>x</code> ุงุฎุชุตุงุต ูโุฏููุ ุจู ฺฉุงููพุงูุฑ ุงุทูุงุน ูโุฏูู ฺฉู ููุน ุฌูุฑฺฉ <code>T</code> ุจุฑุง ุงู ููููู ุงุฒ <code>Point&lt;T&gt;</code> ฺฉ ุนุฏุฏ ุตุญุญ ุฎูุงูุฏ ุจูุฏ. ุณูพุณ ููุช <code>4.0</code> ุฑุง ุจุฑุง <code>y</code> ูุดุฎุต ูโฺฉููุ ฺฉู ุชุนุฑู ฺฉุฑุฏูโุงู ููุงู ููุน <code>x</code> ุฑุง ุฏุงุดุชู ุจุงุดุฏุ ฺฉ ุฎุทุง ุนุฏู ุชุทุงุจู ููุน ุฏุฑุงูุช ูโฺฉููุ ูุงููุฏ ุงู:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0308]: mismatched types
 --&gt; src/main.rs:7:38
  |
7 |     let wont_work = Point { x: 5, y: 4.0 };
  |                                      ^^^ expected integer, found floating-point number

For more information about this error, try `rustc --explain E0308`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>ุจุฑุง ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ <code>Point</code> ฺฉู ุฏุฑ ุขู <code>x</code> ู <code>y</code> ูุฑ ุฏู ุฌูุฑฺฉ ูุณุชูุฏ ุงูุง ูโุชูุงููุฏ ุงููุงุน ูุฎุชูู ุฏุงุดุชู ุจุงุดูุฏุ ูโุชูุงูู ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ฺูุฏฺฏุงูู ุงุณุชูุงุฏู ฺฉูู. ุจุฑุง ูุซุงูุ ุฏุฑ ูุณุช ฑฐ-ธุ ุชุนุฑู <code>Point</code> ุฑุง ุชุบุฑ ูโุฏูู ุชุง ุจุฑุง ููุนโูุง <code>T</code> ู <code>U</code> ุฌูุฑฺฉ ุจุงุดุฏุ ุฌุง ฺฉู <code>x</code> ุงุฒ ููุน <code>T</code> ู <code>y</code> ุงุฒ ููุน <code>U</code> ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point&lt;T, U&gt; {
    x: T,
    y: U,
}

fn main() {
    let both_integer = Point { x: 5, y: 10 };
    let both_float = Point { x: 1.0, y: 4.0 };
    let integer_and_float = Point { x: 5, y: 4.0 };
}</code></pre></pre>
<figcaption>Listing 10-8: ฺฉ ุณุงุฎุชุงุฑ <code>Point&lt;T, U&gt;</code> ุฌูุฑฺฉ ุจุฑ ุฑู ุฏู ููุนุ ุจู ุทูุฑ ฺฉู <code>x</code> ู <code>y</code> ูโุชูุงููุฏ ููุงุฏุฑ ุงุฒ ุงููุงุน ูุฎุชูู ุจุงุดูุฏ</figcaption>
</figure>
<p>ุญุงูุง ุชูุงู ูููููโูุง <code>Point</code> ูุดุงู ุฏุงุฏู ุดุฏู ูุนุชุจุฑ ูุณุชูุฏ! ุดูุง ูโุชูุงูุฏ ุจู ุชุนุฏุงุฏ ุฏูุฎูุงู ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุฏุฑ ฺฉ ุชุนุฑู ุงุณุชูุงุฏู ฺฉูุฏุ ุงูุง ุงุณุชูุงุฏู ุงุฒ ุชุนุฏุงุฏ ุฒุงุฏ ุฎูุงูุง ฺฉุฏ ุดูุง ุฑุง ุฏุดูุงุฑ ูโฺฉูุฏ. ุงฺฏุฑ ูโุจูุฏ ฺฉู ูุงุฒ ุจู ุงููุงุน ุฌูุฑฺฉ ุฒุงุฏ ุฏุฑ ฺฉุฏ ุฎูุฏ ุฏุงุฑุฏุ ููฺฉู ุงุณุช ูุดุงูโุฏููุฏู ุงู ุจุงุดุฏ ฺฉู ฺฉุฏ ุดูุง ูุงุฒ ุจู ุณุงุฎุชุงุฑุจูุฏ ูุฌุฏุฏ ุจู ุจุฎุดโูุง ฺฉูฺฺฉโุชุฑ ุฏุงุฑุฏ.</p>
<h3 id="ุฏุฑ-ุชุนุฑู-ุดูุงุฑุดูุง-enum"><a class="header" href="#ุฏุฑ-ุชุนุฑู-ุดูุงุฑุดูุง-enum">ุฏุฑ ุชุนุฑู ุดูุงุฑุดโูุง (Enum)</a></h3>
<p>ููุงูุทูุฑ ฺฉู ุจุง ุณุงุฎุชุงุฑูุง ุงูุฌุงู ุฏุงุฏูุ ูโุชูุงูู ุดูุงุฑุดโูุง ุฑุง ุจู ฺฏูููโุง ุชุนุฑู ฺฉูู ฺฉู ููุน ุฏุงุฏูโูุง ุฌูุฑฺฉ ุฑุง ุฏุฑ ุญุงูุชโูุง ุฎูุฏ ูฺฏู ุฏุงุฑูุฏ. ุจุงุฏ ุฏูุจุงุฑู ุจู ุดูุงุฑุด <code>Option&lt;T&gt;</code> ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ูโุฏูุฏ ู ุฏุฑ ูุตู ถ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏู ูฺฏุงู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Option&lt;T&gt; {
    Some(T),
    None,
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุชุนุฑู ุงฺฉููู ุจุงุฏ ุจุฑุง ุดูุง ุจุดุชุฑ ูุนูุง ูพุฏุง ฺฉูุฏ. ููุงูุทูุฑ ฺฉู ูโุจูุฏุ ุดูุงุฑุด <code>Option&lt;T&gt;</code> ุจุฑ ุฑู ููุน <code>T</code> ุฌูุฑฺฉ ุงุณุช ู ุฏู ุญุงูุช ุฏุงุฑุฏ: <code>Some</code> ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>T</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ ู ุญุงูุช <code>None</code> ฺฉู ูฺ ููุฏุงุฑ ุฑุง ูฺฏู ููโุฏุงุฑุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุดูุงุฑุด <code>Option&lt;T&gt;</code>ุ ูโุชูุงูู ููููู ุงูุชุฒุงุน ฺฉ ููุฏุงุฑ ุงุฎุชุงุฑ ุฑุง ุจุงู ฺฉููุ ู ุงุฒ ุขูุฌุง ฺฉู <code>Option&lt;T&gt;</code> ุฌูุฑฺฉ ุงุณุชุ ูโุชูุงูู ุงุฒ ุงู ุงูุชุฒุงุน ุจุฏูู ุชูุฌู ุจู ููุน ููุฏุงุฑ ุงุฎุชุงุฑ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุดูุงุฑุดโูุง ูุฒ ูโุชูุงููุฏ ุงุฒ ุงููุงุน ุฌูุฑฺฉ ฺูุฏฺฏุงูู ุงุณุชูุงุฏู ฺฉููุฏ. ุชุนุฑู ุดูุงุฑุด <code>Result</code> ฺฉู ุฏุฑ ูุตู น ุงุณุชูุงุฏู ฺฉุฑุฏู ฺฉ ูุซุงู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Result&lt;T, E&gt; {
    Ok(T),
    Err(E),
}
<span class="boring">}</span></code></pre></pre>
<p>ุดูุงุฑุด <code>Result</code> ุจุฑ ุฑู ุฏู ููุน ุฌูุฑฺฉ <code>T</code> ู <code>E</code> ุงุณุช ู ุฏู ุญุงูุช ุฏุงุฑุฏ: <code>Ok</code> ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>T</code> ูฺฏู ูโุฏุงุฑุฏ ู <code>Err</code> ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>E</code> ูฺฏู ูโุฏุงุฑุฏ. ุงู ุชุนุฑู ุงุณุชูุงุฏู ุงุฒ ุดูุงุฑุด <code>Result</code> ุฑุง ุฏุฑ ูุฑ ุฌุง ฺฉู ฺฉ ุนููุงุช ููฺฉู ุงุณุช ูููู ุดูุฏ (ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>T</code> ุจุงุฒฺฏุฑุฏุงูุฏ) ุง ุดฺฉุณุช ุจุฎูุฑุฏ (ฺฉ ุฎุทุง ุงุฒ ููุน <code>E</code> ุจุงุฒฺฏุฑุฏุงูุฏ) ุขุณุงู ูโฺฉูุฏ. ุฏุฑ ูุงูุนุ ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ฺฉ ูุงู ุฏุฑ ูุณุช น-ณ ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุฌุง ฺฉู <code>T</code> ุจุง ููุน <code>std::fs::File</code> ูพุฑ ุดุฏู ุจูุฏ ููุช ูุงู ุจุง ููููุช ุจุงุฒ ุดุฏ ู <code>E</code> ุจุง ููุน <code>std::io::Error</code> ูพุฑ ุดุฏู ุจูุฏ ููุช ูุดฺฉูุงุช ุฏุฑ ุจุงุฒ ฺฉุฑุฏู ูุงู ูุฌูุฏ ุฏุงุดุช.</p>
<p>ููุช ูุถุนุชโูุง ุฏุฑ ฺฉุฏ ุฎูุฏ ุฑุง ุดูุงุณุง ฺฉุฑุฏุฏ ฺฉู ฺูุฏู ุชุนุฑู ุณุงุฎุชุงุฑ ุง ุดูุงุฑุด ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ููุท ุฏุฑ ููุน ููุงุฏุฑ ูฺฏูุฏุงุฑ ุดุฏู ูุชูุงูุช ูุณุชูุฏุ ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ููุนโูุง ุฌูุฑฺฉ ุงุฒ ุชฺฉุฑุงุฑ ุฌููฺฏุฑ ฺฉูุฏ.</p>
<h3 id="ุฏุฑ-ุชุนุฑู-ูุชุฏูุง"><a class="header" href="#ุฏุฑ-ุชุนุฑู-ูุชุฏูุง">ุฏุฑ ุชุนุฑู ูุชุฏูุง</a></h3>
<p>ูุง ูโุชูุงูู ูุชุฏูุง ุฑุง ุฑู ุณุงุฎุชุงุฑูุง ู ุดูุงุฑุดโูุง ูพุงุฏูโุณุงุฒ ฺฉูู (ููุงูุทูุฑ ฺฉู ุฏุฑ ูุตู ต ุงูุฌุงู ุฏุงุฏู) ู ุงุฒ ุงููุงุน ุฌูุฑฺฉ ุฏุฑ ุชุนุฑู ุขูโูุง ูุฒ ุงุณุชูุงุฏู ฺฉูู. ูุณุช ฑฐ-น ุณุงุฎุชุงุฑ <code>Point&lt;T&gt;</code> ฺฉู ุฏุฑ ูุณุช ฑฐ-ถ ุชุนุฑู ฺฉุฑุฏู ุฑุง ูุดุงู ูโุฏูุฏุ ุจุง ูุชุฏ ุจู ูุงู <code>x</code> ฺฉู ุฑู ุขู ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point&lt;T&gt; {
    x: T,
    y: T,
}

impl&lt;T&gt; Point&lt;T&gt; {
    fn x(&amp;self) -&gt; &amp;T {
        &amp;self.x
    }
}

fn main() {
    let p = Point { x: 5, y: 10 };

    println!("p.x = {}", p.x());
}</code></pre></pre>
<figcaption>Listing 10-9: ูพุงุฏูโุณุงุฒ ูุชุฏ ุจู ูุงู <code>x</code> ุฑู ุณุงุฎุชุงุฑ <code>Point&lt;T&gt;</code> ฺฉู ฺฉ ูุฑุฌุน ุจู ููุฏ <code>x</code> ุงุฒ ููุน <code>T</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ฺฉ ูุชุฏ ุจู ูุงู <code>x</code> ุฑู <code>Point&lt;T&gt;</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ฺฉ ูุฑุฌุน ุจู ุฏุงุฏู ููุฌูุฏ ุฏุฑ ููุฏ <code>x</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุงุฏ <code>T</code> ุฑุง ุจูุงูุงุตูู ุจุนุฏ ุงุฒ <code>impl</code> ุงุนูุงู ฺฉูู ุชุง ุจุชูุงูู ุงุฒ <code>T</code> ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ุฏุงุฑู ูุชุฏูุง ุฑุง ุฑู ููุน <code>Point&lt;T&gt;</code> ูพุงุฏูโุณุงุฒ ูโฺฉููุ ุงุณุชูุงุฏู ฺฉูู. ุจุง ุงุนูุงู <code>T</code> ุจู ุนููุงู ฺฉ ููุน ุฌูุฑฺฉ ุจุนุฏ ุงุฒ <code>impl</code>ุ Rust ูโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู ููุน ููุฌูุฏ ุฏุฑ ูพุฑุงูุชุฒูุง ุฒุงููโุง ุฏุฑ <code>Point</code> ฺฉ ููุน ุฌูุฑฺฉ ุงุณุชุ ูู ฺฉ ููุน ูุดุฎุต. ูโุชูุงูุณุชู ูุงู ูุชูุงูุช ุงุฒ ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ ุงุนูุงูโุดุฏู ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑ ุจุฑุง ุงู ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ ุงูุชุฎุงุจ ฺฉููุ ุงูุง ุงุณุชูุงุฏู ุงุฒ ููุงู ูุงู ฺฉ ุนุฑู ุงุณุช. ุงฺฏุฑ ฺฉ ูุชุฏ ุฑุง ุฏุฑูู ฺฉ <code>impl</code> ฺฉู ฺฉ ููุน ุฌูุฑฺฉ ุงุนูุงู ูโฺฉูุฏ ุจููุณุฏุ ุขู ูุชุฏ ุฑู ูุฑ ูููููโุง ุงุฒ ุขู ููุน ุชุนุฑู ูโุดูุฏุ ุจุฏูู ุชูุฌู ุจู ุงูฺฉู ฺู ููุน ูุดุฎุต ุฌุงฺฏุฒู ููุน ุฌูุฑฺฉ ูโุดูุฏ.</p>
<p>ููฺูู ูโุชูุงูู ูุญุฏูุฏุชโูุง ุจุฑ ุฑู ููุนโูุง ุฌูุฑฺฉ ููฺฏุงู ุชุนุฑู ูุชุฏูุง ุฑู ฺฉ ููุน ูุดุฎุต ฺฉูู. ูโุชูุงููุ ุจุฑุง ูุซุงูุ ูุชุฏูุง ุฑุง ููุท ุฑู ูููููโูุง <code>Point&lt;f32&gt;</code> ูพุงุฏูโุณุงุฒ ฺฉููุ ูู ุฑู ูููููโูุง <code>Point&lt;T&gt;</code> ุจุง ูุฑ ููุน ุฌูุฑฺฉ. ุฏุฑ ูุณุช ฑฐ-ฑฐ ุงุฒ ููุน ูุดุฎุต <code>f32</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุจู ุงู ูุนู ฺฉู ูฺ ููุน ุฑุง ุจุนุฏ ุงุฒ <code>impl</code> ุงุนูุงู ููโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct Point&lt;T&gt; {
</span><span class="boring">    x: T,
</span><span class="boring">    y: T,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; Point&lt;T&gt; {
</span><span class="boring">    fn x(&amp;self) -&gt; &amp;T {
</span><span class="boring">        &amp;self.x
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl Point&lt;f32&gt; {
    fn distance_from_origin(&amp;self) -&gt; f32 {
        (self.x.powi(2) + self.y.powi(2)).sqrt()
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let p = Point { x: 5, y: 10 };
</span><span class="boring">
</span><span class="boring">    println!("p.x = {}", p.x());
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 10-10: ฺฉ ุจููฺฉ <code>impl</code> ฺฉู ููุท ุจุฑุง ฺฉ ุณุงุฎุชุงุฑ ุจุง ฺฉ ููุน ูุดุฎุต ุจุฑุง ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ <code>T</code> ุงุนูุงู ูโุดูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุจู ุงู ูุนู ุงุณุช ฺฉู ููุน <code>Point&lt;f32&gt;</code> ุฏุงุฑุง ฺฉ ูุชุฏ <code>distance_from_origin</code> ุฎูุงูุฏ ุจูุฏุ ุณุงุฑ ูููููโูุง <code>Point&lt;T&gt;</code> ฺฉู <code>T</code> ุงุฒ ููุน <code>f32</code> ูุณุชูุฏุ ุงู ูุชุฏ ุฑุง ุชุนุฑู ูุฎูุงููุฏ ฺฉุฑุฏ. ุงู ูุชุฏ ูุงุตูู ููุทู ูุง ุงุฒ ููุทูโุง ุจุง ูุฎุชุตุงุช (0.0, 0.0) ุฑุง ุงูุฏุงุฒูโฺฏุฑ ูโฺฉูุฏ ู ุงุฒ ุนููุงุช ุฑุงุถ ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ููุท ุจุฑุง ููุนโูุง ุงุนุฏุงุฏ ุงุนุดุงุฑ ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ.</p>
<p>ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุฏุฑ ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ ููุดู ุจุง ุขูโูุง ฺฉู ุฏุฑ ุงูุถุงูุง ูุชุฏ ููุงู ุณุงุฎุชุงุฑ ุงุณุชูุงุฏู ูโุดููุฏ ฺฉุณุงู ูุณุชูุฏ. ูุณุช ฑฐ-ฑฑ ุงุฒ ููุนโูุง ุฌูุฑฺฉ <code>X1</code> ู <code>Y1</code> ุจุฑุง ุณุงุฎุชุงุฑ <code>Point</code> ู <code>X2</code> ู <code>Y2</code> ุจุฑุง ุงูุถุง ูุชุฏ <code>mixup</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ูุซุงู ุฑุง ูุงุถุญโุชุฑ ฺฉูุฏ. ุงู ูุชุฏ ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>Point</code> ุงุฌุงุฏ ูโฺฉูุฏ ุจุง ููุฏุงุฑ <code>x</code> ุงุฒ <code>Point</code> <code>self</code> (ุงุฒ ููุน <code>X1</code>) ู ููุฏุงุฑ <code>y</code> ุงุฒ <code>Point</code> ูพุงุณโุฏุงุฏูโุดุฏู (ุงุฒ ููุน <code>Y2</code>).</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point&lt;X1, Y1&gt; {
    x: X1,
    y: Y1,
}

impl&lt;X1, Y1&gt; Point&lt;X1, Y1&gt; {
    fn mixup&lt;X2, Y2&gt;(self, other: Point&lt;X2, Y2&gt;) -&gt; Point&lt;X1, Y2&gt; {
        Point {
            x: self.x,
            y: other.y,
        }
    }
}

fn main() {
    let p1 = Point { x: 5, y: 10.4 };
    let p2 = Point { x: "Hello", y: 'c' };

    let p3 = p1.mixup(p2);

    println!("p3.x = {}, p3.y = {}", p3.x, p3.y);
}</code></pre></pre>
<figcaption>Listing 10-11: ฺฉ ูุชุฏ ฺฉู ุงุฒ ููุนโูุง ุฌูุฑฺฉ ูุชูุงูุช ุงุฒ ุชุนุฑู ุณุงุฎุชุงุฑ ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุชุงุจุน <code>main</code>ุ ฺฉ <code>Point</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู <code>x</code> ุขู ฺฉ <code>i32</code> (ุจุง ููุฏุงุฑ <code>5</code>) ู <code>y</code> ุขู ฺฉ <code>f64</code> (ุจุง ููุฏุงุฑ <code>10.4</code>) ุงุณุช. ูุชุบุฑ <code>p2</code> ฺฉ ุณุงุฎุชุงุฑ <code>Point</code> ุงุณุช ฺฉู <code>x</code> ุขู ฺฉ ูุทุนู ุฑุดุชู (ุจุง ููุฏุงุฑ <code>"Hello"</code>) ู <code>y</code> ุขู ฺฉ <code>char</code> (ุจุง ููุฏุงุฑ <code>c</code>) ุงุณุช. ูุฑุงุฎูุงู <code>mixup</code> ุฑู <code>p1</code> ุจุง ุขุฑฺฏููุงู <code>p2</code> ุจู ูุง <code>p3</code> ุฑุง ูโุฏูุฏุ ฺฉู <code>x</code> ุขู ฺฉ <code>i32</code> ุฎูุงูุฏ ุจูุฏ ุฒุฑุง <code>x</code> ุงุฒ <code>p1</code> ุขูุฏู ุงุณุช. ูุชุบุฑ <code>p3</code> ฺฉ <code>char</code> ุจุฑุง <code>y</code> ุฎูุงูุฏ ุฏุงุดุช ุฒุฑุง <code>y</code> ุงุฒ <code>p2</code> ุขูุฏู ุงุณุช. ูุฑุงุฎูุงู ูุงฺฉุฑู <code>println!</code> ููุฏุงุฑ <code>p3.x = 5, p3.y = c</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ูุฏู ุงู ูุซุงู ุงู ุงุณุช ฺฉู ูุถุนุช ุฑุง ูุดุงู ุฏูุฏ ฺฉู ุฏุฑ ุขู ุจุฑุฎ ูพุงุฑุงูุชุฑูุง ุฌูุฑฺฉ ุจุง <code>impl</code> ุงุนูุงู ูโุดููุฏ ู ุจุฑุฎ ุฏฺฏุฑ ุจุง ุชุนุฑู ูุชุฏ ุงุนูุงู ูโุดููุฏ. ุฏุฑ ุงูุฌุงุ ูพุงุฑุงูุชุฑูุง ุฌูุฑฺฉ <code>X1</code> ู <code>Y1</code> ุจุนุฏ ุงุฒ <code>impl</code> ุงุนูุงู ุดุฏูโุงูุฏ ุฒุฑุง ุจุง ุชุนุฑู ุณุงุฎุชุงุฑ ููุฑุงู ูุณุชูุฏ. ูพุงุฑุงูุชุฑูุง ุฌูุฑฺฉ <code>X2</code> ู <code>Y2</code> ุจุนุฏ ุงุฒ <code>fn mixup</code> ุงุนูุงู ุดุฏูโุงูุฏ ุฒุฑุง ููุท ุจู ูุชุฏ ูุฑุจูุท ูุณุชูุฏ.</p>
<h3 id="ุนููฺฉุฑุฏ-ฺฉุฏ-ฺฉู-ุงุฒ-ุฌูุฑฺฉูุง-ุงุณุชูุงุฏู-ูฺฉูุฏ"><a class="header" href="#ุนููฺฉุฑุฏ-ฺฉุฏ-ฺฉู-ุงุฒ-ุฌูุฑฺฉูุง-ุงุณุชูุงุฏู-ูฺฉูุฏ">ุนููฺฉุฑุฏ ฺฉุฏ ฺฉู ุงุฒ ุฌูุฑฺฉโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ</a></h3>
<p>ููฺฉู ุงุณุช ุงู ุณูุงู ุจุฑุง ุดูุง ูพุด ุจุงุฏ ฺฉู ุขุง ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉุ ูุฒููโุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุฌูุฏ ุฏุงุฑุฏ ุง ุฎุฑ. ุฎุจุฑ ุฎูุจ ุงู ุงุณุช ฺฉู ุงุณุชูุงุฏู ุงุฒ ุงููุงุน ุฌูุฑฺฉ ุจุฑูุงูู ุดูุง ุฑุง ฺฉูุฏุชุฑ ุงุฒ ุญุงูุช ฺฉู ุงุฒ ุงููุงุน ูุดุฎุต ุงุณุชูุงุฏู ูโฺฉุฑุฏุฏุ ููโฺฉูุฏ.</p>
<p>Rust ุงู ฺฉุงุฑ ุฑุง ุจุง ุงูุฌุงู ูุฑุขูุฏ ุจู ูุงู <em>ุชฺฉโุฑุฎุชโุณุงุฒ</em> (monomorphization) ุฑู ฺฉุฏ ฺฉู ุงุฒ ุฌูุฑฺฉโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงูุฌุงู ูโุฏูุฏ. <em>ุชฺฉโุฑุฎุชโุณุงุฒ</em> ูุฑุขูุฏ ุชุจุฏู ฺฉุฏ ุฌูุฑฺฉ ุจู ฺฉุฏ ูุดุฎุต ุงุณุช ุจุง ูพุฑ ฺฉุฑุฏู ุงููุงุน ูุดุฎุต ฺฉู ููฺฏุงู ฺฉุงููพุงู ุงุณุชูุงุฏู ูโุดููุฏ. ุฏุฑ ุงู ูุฑุขูุฏุ ฺฉุงููพุงูุฑ ุจุฑุนฺฉุณ ูุฑุงุญู ฺฉู ุจุฑุง ุงุฌุงุฏ ุชุงุจุน ุฌูุฑฺฉ ุฏุฑ ูุณุช ฑฐ-ต ุงุณุชูุงุฏู ฺฉุฑุฏู ุฑุง ุงูุฌุงู ูโุฏูุฏ: ฺฉุงููพุงูุฑ ุจู ุชูุงู ุฌุงูุง ฺฉู ฺฉุฏ ุฌูุฑฺฉ ูุฑุงุฎูุงู ุดุฏู ูฺฏุงู ูโฺฉูุฏ ู ฺฉุฏ ุฑุง ุจุฑุง ุงููุงุน ูุดุฎุต ฺฉู ฺฉุฏ ุฌูุฑฺฉ ุจุง ุขูโูุง ูุฑุงุฎูุงู ุดุฏู ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ุจุงุฏ ุจุจูู ุงู ฺฉุงุฑ ฺฺฏููู ุงูุฌุงู ูโุดูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุดูุงุฑุด ุฌูุฑฺฉ <code>Option&lt;T&gt;</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let integer = Some(5);
let float = Some(5.0);
<span class="boring">}</span></code></pre></pre>
<p>ููุช Rust ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ูโฺฉูุฏุ ูุฑุขูุฏ ุชฺฉโุฑุฎุชโุณุงุฒ ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุฏุฑ ุทูู ุงู ูุฑุขูุฏุ ฺฉุงููพุงูุฑ ููุงุฏุฑ ุงุณุชูุงุฏู ุดุฏู ุฏุฑ ูููููโูุง <code>Option&lt;T&gt;</code> ุฑุง ูโุฎูุงูุฏ ู ุฏู ููุน <code>Option&lt;T&gt;</code> ุฑุง ุดูุงุณุง ูโฺฉูุฏ: ฺฉ <code>i32</code> ู ุฏฺฏุฑ <code>f64</code>. ุจู ุงู ุชุฑุชุจุ ุชุนุฑู ุฌูุฑฺฉ <code>Option&lt;T&gt;</code> ุฑุง ุจู ุฏู ุชุนุฑู ูฺู ุจุฑุง <code>i32</code> ู <code>f64</code> ฺฏุณุชุฑุด ูโุฏูุฏ ู ุจูุงุจุฑุงู ุชุนุฑู ุฌูุฑฺฉ ุฑุง ุจุง ุชุนุฑูโูุง ูุดุฎุต ุฌุงฺฏุฒู ูโฺฉูุฏ.</p>
<p>ูุณุฎู ุชฺฉโุฑุฎุชโุณุงุฒ ุดุฏู ฺฉุฏ ุดุจู ุจู ฺุฒ ุจู ูุธุฑ ูโุฑุณุฏ (ฺฉุงููพุงูุฑ ุงุฒ ูุงูโูุง ูุชูุงูุช ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงูุง ุจุฑุง ุชูุถุญ ุงุฒ ุงู ูุงูโูุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู):</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">enum Option_i32 {
    Some(i32),
    None,
}

enum Option_f64 {
    Some(f64),
    None,
}

fn main() {
    let integer = Option_i32::Some(5);
    let float = Option_f64::Some(5.0);
}</code></pre></pre>
</figure>
<p>ุดูุงุฑุด ุฌูุฑฺฉ <code>Option&lt;T&gt;</code> ุจุง ุชุนุฑูโูุง ูุดุฎุต ุงุฌุงุฏ ุดุฏู ุชูุณุท ฺฉุงููพุงูุฑ ุฌุงฺฏุฒู ุดุฏู ุงุณุช. ุงุฒ ุขูุฌุง ฺฉู Rust ฺฉุฏ ุฌูุฑฺฉ ุฑุง ุจู ฺฉุฏ ฺฉู ููุน ุฑุง ุฏุฑ ูุฑ ููููู ูุดุฎุต ูโฺฉูุฏ ฺฉุงููพุงู ูโฺฉูุฏุ ูฺ ูุฒููโุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ูพุฑุฏุงุฎุช ููโฺฉูู. ููุช ฺฉุฏ ุงุฌุฑุง ูโุดูุฏุ ุฏููุงู ููุงูโุทูุฑ ุนูู ูโฺฉูุฏ ฺฉู ุงฺฏุฑ ูุฑ ุชุนุฑู ุฑุง ุจู ุตูุฑุช ุฏุณุช ุชฺฉุฑุงุฑ ฺฉุฑุฏู ุจูุฏู. ูุฑุขูุฏ ุชฺฉโุฑุฎุชโุณุงุฒ ุฌูุฑฺฉโูุง Rust ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุณุงุฑ ฺฉุงุฑุขูุฏ ูโฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูฺฺฏูุง-traits-ุชุนุฑู-ุฑูุชุงุฑ-ูุดุชุฑฺฉ"><a class="header" href="#ูฺฺฏูุง-traits-ุชุนุฑู-ุฑูุชุงุฑ-ูุดุชุฑฺฉ">ูฺฺฏโูุง (Traits): ุชุนุฑู ุฑูุชุงุฑ ูุดุชุฑฺฉ</a></h2>
<p>ฺฉ <em>ูฺฺฏ</em> (trait) ุนููฺฉุฑุฏ ุฑุง ฺฉู ฺฉ ููุน ุฎุงุต ุฏุงุฑุฏ ุชุนุฑู ูโฺฉูุฏ ู ูโุชูุงูุฏ ุจุง ุงููุงุน ุฏฺฏุฑ ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ. ูุง ูโุชูุงูู ุงุฒ traitูุง ุจุฑุง ุชุนุฑู ุฑูุชุงุฑ ูุดุชุฑฺฉ ุจู ุตูุฑุช ุงูุชุฒุงุน ุงุณุชูุงุฏู ฺฉูู. ููฺูู ูโุชูุงูู ุงุฒ <em>ูุญุฏูุฏุชโูุง ูฺฺฏ</em> (trait bounds) ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ฺฉ ููุน ุฌูุฑฺฉ ูโุชูุงูุฏ ูุฑ ููุน ุจุงุดุฏ ฺฉู ุฑูุชุงุฑ ุฎุงุต ุฏุงุฑุฏุ ุงุณุชูุงุฏู ฺฉูู.</p>
<blockquote>
<p>ุชูุฌู: ูฺฺฏโูุง ุดุจู ุจู ููููู ูุณุชูุฏ ฺฉู ุงุบูุจ ุฏุฑ ุฒุจุงูโูุง ุฏฺฏุฑ ุจู ูุงู <em>interfaces</em> ุดูุงุฎุชู ูโุดูุฏุ ุงูุจุชู ุจุง ุจุฑุฎ ุชูุงูุชโูุง.</p>
</blockquote>
<h3 id="ุชุนุฑู-ฺฉ-trait"><a class="header" href="#ุชุนุฑู-ฺฉ-trait">ุชุนุฑู ฺฉ trait</a></h3>
<p>ุฑูุชุงุฑ ฺฉ ููุน ุดุงูู ูุชุฏูุง ุงุณุช ฺฉู ูโุชูุงูู ุฑู ุขู ููุน ูุฑุงุฎูุงู ฺฉูู. ุงููุงุน ูุฎุชูู ฺฉ ุฑูุชุงุฑ ูุดุชุฑฺฉ ุฏุงุฑูุฏ ุงฺฏุฑ ุจุชูุงูู ููุงู ูุชุฏูุง ุฑุง ุฑู ุชูุงู ุขู ุงููุงุน ูุฑุงุฎูุงู ฺฉูู. ุชุนุฑู ูฺฺฏโูุง ุฑุงู ุจุฑุง ฺฏุฑููโุจูุฏ ุงูุถุงูุง ูุชุฏูุง ุจุง ูู ุงุณุช ุชุง ูุฌููุนูโุง ุงุฒ ุฑูุชุงุฑูุง ุฑุง ฺฉู ุจุฑุง ุฏุณุชุงุจ ุจู ฺฉ ูุฏู ุฎุงุต ุถุฑูุฑ ุงุณุชุ ุชุนุฑู ฺฉูู.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ฺูุฏู ุณุงุฎุชุงุฑ ุฏุงุฏู ุฏุงุฑู ฺฉู ุงููุงุน ู ููุงุฏุฑ ูุฎุชูู ุงุฒ ูุชู ุฑุง ูฺฏู ูโุฏุงุฑูุฏ: ฺฉ ุณุงุฎุชุงุฑ <code>NewsArticle</code> ฺฉู ฺฉ ุฎุจุฑ ุฐุฎุฑู ุดุฏู ุฏุฑ ฺฉ ูฺฉุงู ุฎุงุต ุฑุง ูฺฏู ูโุฏุงุฑุฏ ู ฺฉ ุณุงุฎุชุงุฑ <code>Tweet</code> ฺฉู ูโุชูุงูุฏ ุญุฏุงฺฉุซุฑ ฒธฐ ฺฉุงุฑุงฺฉุชุฑ ุจู ููุฑุงู ูุชุงุฏุชุง ฺฉู ูุดุงู ูโุฏูุฏ ุขุง ุงู ฺฉ ุชูุช ุฌุฏุฏุ ุจุงุฒุชูุชุ ุง ูพุงุณุฎ ุจู ุชูุช ุฏฺฏุฑ ุจูุฏู ุงุณุช ุฑุง ูฺฏู ุฏุงุฑุฏ.</p>
<p>ูุง ูโุฎูุงูู ฺฉ ฺฉุชุงุจุฎุงูู ฺฏุฑุฏุขูุฑูุฏู ุฑุณุงูู ุจู ูุงู <code>aggregator</code> ุงุฌุงุฏ ฺฉูู ฺฉู ุจุชูุงูุฏ ุฎูุงุตูโูุง ุงุฒ ุฏุงุฏูโูุง ฺฉู ููฺฉู ุงุณุช ุฏุฑ ฺฉ ููููู ุงุฒ <code>NewsArticle</code> ุง <code>Tweet</code> ุฐุฎุฑู ุดุฏู ุจุงุดูุฏุ ููุงุด ุฏูุฏ. ุจุฑุง ุงู ฺฉุงุฑุ ูุงุฒ ุจู ุฎูุงุตูโุง ุงุฒ ูุฑ ููุน ุฏุงุฑู ู ุงู ุฎูุงุตู ุฑุง ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>summarize</code> ุฑู ฺฉ ููููู ุฏุฑุฎูุงุณุช ุฎูุงูู ฺฉุฑุฏ. ูุณุช ฑฐ-ฑฒ ุชุนุฑู ฺฉ ูฺฺฏ ุนููู <code>Summary</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุงู ุฑูุชุงุฑ ุฑุง ุจุงู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub trait Summary {
    fn summarize(&amp;self) -&gt; String;
}</code></pre>
<figcaption>Listing 10-12: ูฺฺฏ <code>Summary</code> ฺฉู ุดุงูู ุฑูุชุงุฑ ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉ ูุชุฏ <code>summarize</code> ุงุณุช</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ฺฉ ูฺฺฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุงฺู <code>trait</code> ู ุณูพุณ ูุงู ูฺฺฏุ ฺฉู ุฏุฑ ุงูุฌุง <code>Summary</code> ุงุณุชุ ุงุนูุงู ูโฺฉูู. ููฺูู ูฺฺฏ ุฑุง ุจู ุนููุงู <code>pub</code> ุงุนูุงู ูโฺฉูู ุชุง ฺฉุฑุงุชโูุง ฺฉู ุจู ุงู ฺฉุฑุงุช ูุงุจุณุชู ูุณุชูุฏ ูุฒ ุจุชูุงููุฏ ุงุฒ ุงู ูฺฺฏ ุงุณุชูุงุฏู ฺฉููุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ฺูุฏ ูุซุงู ุฎูุงูู ุฏุฏ. ุฏุฑ ุฏุงุฎู ุขฺฉููุงุฏูุงุ ุงูุถุงูุง ูุชุฏ ุฑุง ุงุนูุงู ูโฺฉูู ฺฉู ุฑูุชุงุฑูุง ููุนโูุง ฺฉู ุงู ูฺฺฏ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุชูุตู ูโฺฉููุฏุ ฺฉู ุฏุฑ ุงู ููุฑุฏ <code>fn summarize(&amp;self) -&gt; String</code> ุงุณุช.</p>
<p>ุจุนุฏ ุงุฒ ุงูุถุง ูุชุฏุ ุจู ุฌุง ุงุฑุงุฆู ฺฉ ูพุงุฏูโุณุงุฒ ุฏุฑ ุฏุงุฎู ุขฺฉููุงุฏูุงุ ุงุฒ ฺฉ ููุทูโูุฑฺฏูู ุงุณุชูุงุฏู ูโฺฉูู. ูุฑ ููุน ฺฉู ุงู ูฺฺฏ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจุงุฏ ุฑูุชุงุฑ ุณูุงุฑุด ุฎูุฏ ุฑุง ุจุฑุง ุจุฏูู ูุชุฏ ุงุฑุงุฆู ุฏูุฏ. ฺฉุงููพุงูุฑ ุงุทููุงู ุฎูุงูุฏ ุฏุงุฏ ฺฉู ูุฑ ููุน ฺฉู ูฺฺฏ <code>Summary</code> ุฑุง ุฏุงุฑุฏุ ูุชุฏ <code>summarize</code> ุฑุง ุฏููุงู ุจุง ุงู ุงูุถุง ุชุนุฑู ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ฺฉ ูฺฺฏ ูโุชูุงูุฏ ฺูุฏู ูุชุฏ ุฏุฑ ุจุฏูู ุฎูุฏ ุฏุงุดุชู ุจุงุดุฏ: ุงูุถุงูุง ูุชุฏูุง ุจู ุตูุฑุช ฺฉ ุฎุท ุฏุฑ ูุฑ ุฎุท ููุฑุณุช ูโุดููุฏ ู ูุฑ ุฎุท ุจุง ฺฉ ููุทูโูุฑฺฏูู ูพุงุงู ูโุงุจุฏ.</p>
<h3 id="ูพุงุฏูุณุงุฒ-ฺฉ-ูฺฺฏ-trait-ุฑู-ฺฉ-ููุน"><a class="header" href="#ูพุงุฏูุณุงุฒ-ฺฉ-ูฺฺฏ-trait-ุฑู-ฺฉ-ููุน">ูพุงุฏูโุณุงุฒ ฺฉ ูฺฺฏ (trait) ุฑู ฺฉ ููุน</a></h3>
<p>ุงฺฉููู ฺฉู ุงูุถุงูุง ููุฑุฏ ูุธุฑ ูุชุฏูุง ูฺฺฏ <code>Summary</code> ุฑุง ุชุนุฑู ฺฉุฑุฏูโุงูุ ูโุชูุงูู ุขู ุฑุง ุฑู ููุนโูุง ููุฌูุฏ ุฏุฑ ฺฏุฑุฏุขูุฑูุฏู ุฑุณุงูู ุฎูุฏ ูพุงุฏูโุณุงุฒ ฺฉูู. ูุณุช ฑฐ-ฑณ ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ ูฺฺฏ <code>Summary</code> ุฑู ุณุงุฎุชุงุฑ <code>NewsArticle</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุงุฒ ุชุชุฑุ ููุณูุฏูุ ู ูฺฉุงู ุจุฑุง ุงุฌุงุฏ ููุฏุงุฑ ุจุงุฒฺฏุดุช <code>summarize</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจุฑุง ุณุงุฎุชุงุฑ <code>Tweet</code>ุ ูุชุฏ <code>summarize</code> ุฑุง ุจู ุตูุฑุช ูุงู ฺฉุงุฑุจุฑ ุจู ููุฑุงู ุชูุงู ูุชู ุชูุช ุชุนุฑู ูโฺฉููุ ุจุง ูุฑุถ ุงูฺฉู ูุญุชูุง ุชูุช ูุจูุงู ุจู ฒธฐ ฺฉุงุฑุงฺฉุชุฑ ูุญุฏูุฏ ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub trait Summary {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span>pub struct NewsArticle {
    pub headline: String,
    pub location: String,
    pub author: String,
    pub content: String,
}

impl Summary for NewsArticle {
    fn summarize(&amp;self) -&gt; String {
        format!("{}, by {} ({})", self.headline, self.author, self.location)
    }
}

pub struct Tweet {
    pub username: String,
    pub content: String,
    pub reply: bool,
    pub retweet: bool,
}

impl Summary for Tweet {
    fn summarize(&amp;self) -&gt; String {
        format!("{}: {}", self.username, self.content)
    }
}</code></pre>
<figcaption>Listing 10-13: ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Summary</code> ุฑู ููุนโูุง <code>NewsArticle</code> ู <code>Tweet</code></figcaption>
</figure>
<p>ูพุงุฏูโุณุงุฒ ฺฉ ูฺฺฏ ุฑู ฺฉ ููุน ูุดุงุจู ูพุงุฏูโุณุงุฒ ูุชุฏูุง ูุนููู ุงุณุช. ุชูุงูุช ุงู ุงุณุช ฺฉู ุจุนุฏ ุงุฒ <code>impl</code>ุ ูุงู ูฺฺฏโุง ฺฉู ูโุฎูุงูู ูพุงุฏูโุณุงุฒ ฺฉูู ุฑุง ูุฑุงุฑ ูโุฏููุ ุณูพุณ ุงุฒ ฺฉููู ฺฉูุฏ <code>for</code> ุงุณุชูุงุฏู ูโฺฉูู ู ุณูพุณ ูุงู ููุน ฺฉู ูโุฎูุงูู ูฺฺฏ ุฑุง ุจุฑุง ุขู ูพุงุฏูโุณุงุฒ ฺฉูู ูุดุฎุต ูโฺฉูู. ุฏุฑูู ุจููฺฉ <code>impl</code>ุ ุงูุถุงูุง ูุชุฏ ฺฉู ุชุนุฑู ูฺฺฏ ูุดุฎุต ฺฉุฑุฏูโุงูุฏ ุฑุง ูุฑุงุฑ ูโุฏูู. ุจู ุฌุง ุงุถุงูู ฺฉุฑุฏู ฺฉ ููุทูโูุฑฺฏูู ุจุนุฏ ุงุฒ ูุฑ ุงูุถุงุ ุงุฒ ุขฺฉููุงุฏูุง ุงุณุชูุงุฏู ูโฺฉูู ู ุจุฏูู ูุชุฏ ุฑุง ุจุง ุฑูุชุงุฑ ุฎุงุต ฺฉู ูโุฎูุงูู ูุชุฏูุง ูฺฺฏ ุจุฑุง ููุน ุฎุงุต ุฏุงุดุชู ุจุงุดูุฏ ูพุฑ ูโฺฉูู.</p>
<p>ุญุงูุง ฺฉู ฺฉุชุงุจุฎุงูู ูฺฺฏ <code>Summary</code> ุฑุง ุฑู <code>NewsArticle</code> ู <code>Tweet</code> ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุชุ ฺฉุงุฑุจุฑุงู ุงู ฺฉุฑุงุช ูโุชูุงููุฏ ูุชุฏูุง ูฺฺฏ ุฑุง ุฑู ูููููโูุง <code>NewsArticle</code> ู <code>Tweet</code> ูุฑุงุฎูุงู ฺฉููุฏุ ุจู ููุงู ุฑูุด ฺฉู ูุชุฏูุง ูุนููู ุฑุง ูุฑุงุฎูุงู ูโฺฉูู. ุชููุง ุชูุงูุช ุงู ุงุณุช ฺฉู ฺฉุงุฑุจุฑ ุจุงุฏ ูฺฺฏ ุฑุง ุจู ููุฑุงู ููุนโูุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ฺฉูุฏ. ุฏุฑ ุงูุฌุง ูุซุงู ุงุฒ ุงูฺฉู ฺฺฏููู ฺฉ ฺฉุฑุงุช ุจุงูุฑ ูโุชูุงูุฏ ุงุฒ ฺฉุฑุงุช ฺฉุชุงุจุฎุงูู <code>aggregator</code> ูุง ุงุณุชูุงุฏู ฺฉูุฏ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-rust ignore">use aggregator::{Summary, Tweet};

fn main() {
    let tweet = Tweet {
        username: String::from("horse_ebooks"),
        content: String::from(
            "of course, as you probably already know, people",
        ),
        reply: false,
        retweet: false,
    };

    println!("1 new tweet: {}", tweet.summarize());
}</code></pre>
<p>ุงู ฺฉุฏ <code>1 new tweet: horse_ebooks: of course, as you probably already know, people</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ฺฉุฑุงุชโูุง ุฏฺฏุฑ ฺฉู ุจู ฺฉุฑุงุช <code>aggregator</code> ูุงุจุณุชู ูุณุชูุฏ ูุฒ ูโุชูุงููุฏ ูฺฺฏ <code>Summary</code> ุฑุง ุจู ูุญุฏูุฏู ูุงุฑุฏ ฺฉููุฏ ุชุง <code>Summary</code> ุฑุง ุฑู ููุนโูุง ุฎูุฏุดุงู ูพุงุฏูโุณุงุฒ ฺฉููุฏ. ฺฉ ุงุฒ ูุญุฏูุฏุชโูุง ฺฉู ุจุงุฏ ุจู ุขู ุชูุฌู ุฏุงุดุช ุงู ุงุณุช ฺฉู ูุง ููุท ูโุชูุงูู ฺฉ ูฺฺฏ ุฑุง ุฑู ฺฉ ููุน ูพุงุฏูโุณุงุฒ ฺฉูู ุงฺฏุฑ ุง ูฺฺฏ ุง ููุนุ ุง ูุฑ ุฏูุ ุจู ฺฉุฑุงุช ูุง ูุญู ุจุงุดูุฏ. ุจุฑุง ูุซุงูุ ูุง ูโุชูุงูู ูฺฺฏโูุง ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุงููุฏ <code>Display</code> ุฑุง ุฑู ฺฉ ููุน ุณูุงุฑุด ูุงููุฏ <code>Tweet</code> ุจู ุนููุงู ุจุฎุด ุงุฒ ุนููฺฉุฑุฏ ฺฉุฑุงุช <code>aggregator</code> ูพุงุฏูโุณุงุฒ ฺฉูู ุฒุฑุง ููุน <code>Tweet</code> ุจู ฺฉุฑุงุช <code>aggregator</code> ูุญู ุงุณุช. ููฺูู ูโุชูุงูู <code>Summary</code> ุฑุง ุฑู <code>Vec&lt;T&gt;</code> ุฏุฑ ฺฉุฑุงุช <code>aggregator</code> ูพุงุฏูโุณุงุฒ ฺฉูู ุฒุฑุง ูฺฺฏ <code>Summary</code> ุจู ฺฉุฑุงุช <code>aggregator</code> ูุญู ุงุณุช.</p>
<p>ุงูุง ููโุชูุงูู ูฺฺฏโูุง ุฎุงุฑุฌ ุฑุง ุฑู ููุนโูุง ุฎุงุฑุฌ ูพุงุฏูโุณุงุฒ ฺฉูู. ุจุฑุง ูุซุงูุ ููโุชูุงูู ูฺฺฏ <code>Display</code> ุฑุง ุฑู <code>Vec&lt;T&gt;</code> ุฏุฑ ฺฉุฑุงุช <code>aggregator</code> ูพุงุฏูโุณุงุฒ ฺฉูู ุฒุฑุง <code>Display</code> ู <code>Vec&lt;T&gt;</code> ูุฑ ุฏู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏูโุงูุฏ ู ุจู ฺฉุฑุงุช <code>aggregator</code> ูุญู ูุณุชูุฏ. ุงู ูุญุฏูุฏุช ุจุฎุด ุงุฒ ุฎุงุตุช ุจู ูุงู <em>ุงูุณุฌุงู</em> (coherence) ู ุจู ุทูุฑ ุฎุงุตโุชุฑ <em>ูุงููู ุชู</em> (orphan rule) ุงุณุชุ ฺฉู ุจู ุงู ุฏูู ูุงูฺฏุฐุงุฑ ุดุฏู ุงุณุช ฺฉู ููุน ูุงูุฏ ูุฌูุฏ ูุฏุงุฑุฏ. ุงู ูุงููู ุงุทููุงู ูโุฏูุฏ ฺฉู ฺฉุฏ ุฏฺฏุฑุงู ููโุชูุงูุฏ ฺฉุฏ ุดูุง ุฑุง ุฎุฑุงุจ ฺฉูุฏ ู ุจุฑุนฺฉุณ. ุจุฏูู ุงู ูุงูููุ ุฏู ฺฉุฑุงุช ูโุชูุงูุณุชูุฏ ููุงู ูฺฺฏ ุฑุง ุจุฑุง ููุงู ููุน ูพุงุฏูโุณุงุฒ ฺฉููุฏ ู Rust ููโุฏุงูุณุช ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ุฑุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h3 id="ูพุงุฏูุณุงุฒูุง-ูพุดูุฑุถ"><a class="header" href="#ูพุงุฏูุณุงุฒูุง-ูพุดูุฑุถ">ูพุงุฏูโุณุงุฒโูุง ูพุดโูุฑุถ</a></h3>
<p>ฺฏุงู ุงููุงุช ููุฏ ุงุณุช ฺฉู ุฑูุชุงุฑ ูพุดโูุฑุถ ุจุฑุง ุจุฑุฎ ุง ููู ูุชุฏูุง ฺฉ ูฺฺฏ ุฏุงุดุชู ุจุงุดุฏ ุจู ุฌุง ุงูฺฉู ูพุงุฏูโุณุงุฒโูุง ุจุฑุง ุชูุงู ูุชุฏูุง ุฏุฑ ูุฑ ููุน ุงุฌุจุงุฑ ุจุงุดูุฏ. ุณูพุณุ ููุช ูฺฺฏ ุฑุง ุฑู ฺฉ ููุน ุฎุงุต ูพุงุฏูโุณุงุฒ ูโฺฉููุ ูโุชูุงูู ุฑูุชุงุฑ ูพุดโูุฑุถ ูุฑ ูุชุฏ ุฑุง ูฺฏู ุฏุงุฑู ุง ุฌุงฺฏุฒู ฺฉูู.</p>
<p>ุฏุฑ ูุณุช ฑฐ-ฑดุ ฺฉ ุฑุดุชู ูพุดโูุฑุถ ุจุฑุง ูุชุฏ <code>summarize</code> ูฺฺฏ <code>Summary</code> ูุดุฎุต ูโฺฉูู ุจู ุฌุง ุงูฺฉู ููุท ุงูุถุง ูุชุฏ ุฑุง ุชุนุฑู ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฐ-ฑฒ ุงูุฌุงู ุฏุงุฏู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub trait Summary {
    fn summarize(&amp;self) -&gt; String {
        String::from("(Read more...)")
    }
}
<span class="boring">
</span><span class="boring">pub struct NewsArticle {
</span><span class="boring">    pub headline: String,
</span><span class="boring">    pub location: String,
</span><span class="boring">    pub author: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for NewsArticle {}
</span><span class="boring">
</span><span class="boring">pub struct Tweet {
</span><span class="boring">    pub username: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">    pub reply: bool,
</span><span class="boring">    pub retweet: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for Tweet {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}: {}", self.username, self.content)
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 10-14: ุชุนุฑู ูฺฺฏ <code>Summary</code> ุจุง ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุจุฑุง ูุชุฏ <code>summarize</code></figcaption>
</figure>
<p>ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุจุฑุง ุฎูุงุตู ฺฉุฑุฏู ูููููโูุง <code>NewsArticle</code>ุ ฺฉ ุจููฺฉ <code>impl</code> ุฎุงู ุจุง <code>impl Summary for NewsArticle {}</code> ูุดุฎุต ูโฺฉูู.</p>
<p>ุงฺฏุฑฺู ุฏฺฏุฑ ูุชุฏ <code>summarize</code> ุฑุง ูุณุชููุงู ุฑู <code>NewsArticle</code> ุชุนุฑู ููโฺฉููุ ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุงุฑุงุฆู ุฏุงุฏูโุงู ู ูุดุฎุต ฺฉุฑุฏูโุงู ฺฉู <code>NewsArticle</code> ูฺฺฏ <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ุฏุฑ ูุชุฌูุ ููฺูุงู ูโุชูุงูู ูุชุฏ <code>summarize</code> ุฑุง ุฑู ฺฉ ููููู ุงุฒ <code>NewsArticle</code> ูุฑุงุฎูุงู ฺฉููุ ูุงููุฏ ุงู:</p>
<pre><code class="language-rust ignore"><span class="boring">use aggregator::{self, NewsArticle, Summary};
</span><span class="boring">
</span><span class="boring">fn main() {
</span>    let article = NewsArticle {
        headline: String::from("Penguins win the Stanley Cup Championship!"),
        location: String::from("Pittsburgh, PA, USA"),
        author: String::from("Iceburgh"),
        content: String::from(
            "The Pittsburgh Penguins once again are the best \
             hockey team in the NHL.",
        ),
    };

    println!("New article available! {}", article.summarize());
<span class="boring">}</span></code></pre>
<p>ุงู ฺฉุฏ <code>New article available! (Read more...)</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุงุฌุงุฏ ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุงุฒ ุจู ุชุบุฑ ฺุฒ ุฏุฑ ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Summary</code> ุฑู <code>Tweet</code> ุฏุฑ ูุณุช ฑฐ-ฑณ ูุฏุงุฑุฏ. ุฏูู ุขู ุงู ุงุณุช ฺฉู ูุญู ุจุฑุง ุจุงุฒููุณ ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ููุงููุฏ ูุญู ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉ ูุชุฏ ูฺฺฏ ุงุณุช ฺฉู ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุฏุงุฑุฏ.</p>
<p>ูพุงุฏูโุณุงุฒโูุง ูพุดโูุฑุถ ูโุชูุงููุฏ ูุชุฏูุง ุฏฺฏุฑ ุฑุง ุฏุฑ ููุงู ูฺฺฏ ูุฑุงุฎูุงู ฺฉููุฏุ ุญุช ุงฺฏุฑ ุขู ูุชุฏูุง ุฏฺฏุฑ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุฏุงุดุชู ุจุงุดูุฏ. ุจู ุงู ุฑูุดุ ฺฉ ูฺฺฏ ูโุชูุงูุฏ ููุฏุงุฑ ุฒุงุฏ ุนููฺฉุฑุฏ ููุฏ ุงุฑุงุฆู ุฏูุฏ ู ููุท ุงุฒ ูพุงุฏูโุณุงุฒุงู ุจุฎูุงูุฏ ฺฉู ุจุฎุด ุงุฒ ุขู ุฑุง ูุดุฎุต ฺฉููุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูู ูฺฺฏ <code>Summary</code> ุฑุง ุจู ฺฏูููโุง ุชุนุฑู ฺฉูู ฺฉู ฺฉ ูุชุฏ <code>summarize_author</code> ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูพุงุฏูโุณุงุฒ ุขู ุงูุฒุงู ุงุณุช ู ุณูพุณ ฺฉ ูุชุฏ <code>summarize</code> ุชุนุฑู ฺฉูู ฺฉู ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุฏุงุฑุฏ ู ูุชุฏ <code>summarize_author</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ:</p>
<pre><code class="language-rust noplayground">pub trait Summary {
    fn summarize_author(&amp;self) -&gt; String;

    fn summarize(&amp;self) -&gt; String {
        format!("(Read more from {}...)", self.summarize_author())
    }
}
<span class="boring">
</span><span class="boring">pub struct Tweet {
</span><span class="boring">    pub username: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">    pub reply: bool,
</span><span class="boring">    pub retweet: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for Tweet {
</span><span class="boring">    fn summarize_author(&amp;self) -&gt; String {
</span><span class="boring">        format!("@{}", self.username)
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุณุฎู ุงุฒ <code>Summary</code>ุ ููุท ุจุงุฏ <code>summarize_author</code> ุฑุง ููฺฏุงู ฺฉู ูฺฺฏ ุฑุง ุฑู ฺฉ ููุน ูพุงุฏูโุณุงุฒ ูโฺฉููุ ุชุนุฑู ฺฉูู:</p>
<pre><code class="language-rust ignore"><span class="boring">pub trait Summary {
</span><span class="boring">    fn summarize_author(&amp;self) -&gt; String;
</span><span class="boring">
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("(Read more from {}...)", self.summarize_author())
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct Tweet {
</span><span class="boring">    pub username: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">    pub reply: bool,
</span><span class="boring">    pub retweet: bool,
</span><span class="boring">}
</span><span class="boring">
</span>impl Summary for Tweet {
    fn summarize_author(&amp;self) -&gt; String {
        format!("@{}", self.username)
    }
}</code></pre>
<p>ุจุนุฏ ุงุฒ ุงูฺฉู <code>summarize_author</code> ุฑุง ุชุนุฑู ฺฉุฑุฏูุ ูโุชูุงูู ูุชุฏ <code>summarize</code> ุฑุง ุฑู ูููููโูุง ุณุงุฎุชุงุฑ <code>Tweet</code> ูุฑุงุฎูุงู ฺฉููุ ู ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ <code>summarize</code>ุ ุชุนุฑู ูุชุฏ <code>summarize_author</code> ฺฉู ุงุฑุงุฆู ุฏุงุฏูโุงู ุฑุง ูุฑุงุฎูุงู ุฎูุงูุฏ ฺฉุฑุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุง <code>summarize_author</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงูุ ูฺฺฏ <code>Summary</code> ุฑูุชุงุฑ ูุชุฏ <code>summarize</code> ุฑุง ุจุฏูู ูุงุฒ ุจู ููุดุชู ฺฉุฏ ุงุถุงู ุจู ูุง ุฏุงุฏู ุงุณุช. ุจู ุงู ุดฺฉู ุนูู ูโฺฉูุฏ:</p>
<pre><code class="language-rust ignore"><span class="boring">use aggregator::{self, Summary, Tweet};
</span><span class="boring">
</span><span class="boring">fn main() {
</span>    let tweet = Tweet {
        username: String::from("horse_ebooks"),
        content: String::from(
            "of course, as you probably already know, people",
        ),
        reply: false,
        retweet: false,
    };

    println!("1 new tweet: {}", tweet.summarize());
<span class="boring">}</span></code></pre>
<p>ุงู ฺฉุฏ <code>1 new tweet: (Read more from @horse_ebooks...)</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงูฺฉุงู ูุฑุงุฎูุงู ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุงุฒ ฺฉ ูพุงุฏูโุณุงุฒ ุจุงุฒููุณ ุดุฏู ุงุฒ ููุงู ูุชุฏ ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<h3 id="ูฺฺฏูุง-traits-ุจู-ุนููุงู-ูพุงุฑุงูุชุฑูุง"><a class="header" href="#ูฺฺฏูุง-traits-ุจู-ุนููุงู-ูพุงุฑุงูุชุฑูุง">ูฺฺฏโูุง (traits) ุจู ุนููุงู ูพุงุฑุงูุชุฑูุง</a></h3>
<p>ุงฺฉููู ฺฉู ูโุฏุงูุฏ ฺฺฏููู ูฺฺฏโูุง ุฑุง ุชุนุฑู ู ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูโุชูุงูู ุจุฑุฑุณ ฺฉูู ฺฉู ฺฺฏููู ุงุฒ ูฺฺฏโูุง ุจุฑุง ุชุนุฑู ุชูุงุจุน ฺฉู ุงููุงุน ูุฎุชูู ุฑุง ูโูพุฐุฑูุฏ ุงุณุชูุงุฏู ฺฉูู. ูุง ุงุฒ ูฺฺฏ <code>Summary</code> ฺฉู ุฑู ููุนโูุง <code>NewsArticle</code> ู <code>Tweet</code> ุฏุฑ ูุณุช ฑฐ-ฑณ ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ุชุง ุชุงุจุน ุจู ูุงู <code>notify</code> ุชุนุฑู ฺฉูู ฺฉู ูุชุฏ <code>summarize</code> ุฑุง ุฑู ูพุงุฑุงูุชุฑ <code>item</code> ุฎูุฏ ูุฑุงุฎูุงู ูโฺฉูุฏุ ฺฉู ุงุฒ ููุน ุงุณุช ฺฉู ูฺฺฏ <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑุ ุงุฒ ูุญู <code>impl Trait</code> ุงุณุชูุงุฏู ูโฺฉููุ ูุงููุฏ ุงู:</p>
<pre><code class="language-rust ignore"><span class="boring">pub trait Summary {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct NewsArticle {
</span><span class="boring">    pub headline: String,
</span><span class="boring">    pub location: String,
</span><span class="boring">    pub author: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for NewsArticle {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}, by {} ({})", self.headline, self.author, self.location)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct Tweet {
</span><span class="boring">    pub username: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">    pub reply: bool,
</span><span class="boring">    pub retweet: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for Tweet {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}: {}", self.username, self.content)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>pub fn notify(item: &amp;impl Summary) {
    println!("Breaking news! {}", item.summarize());
}</code></pre>
<p>ุจู ุฌุง ฺฉ ููุน ูุดุฎุต ุจุฑุง ูพุงุฑุงูุชุฑ <code>item</code>ุ ฺฉููู ฺฉูุฏ <code>impl</code> ู ูุงู ูฺฺฏ ุฑุง ูุดุฎุต ูโฺฉูู. ุงู ูพุงุฑุงูุชุฑ ูุฑ ููุน ุฑุง ฺฉู ูฺฺฏ ูุดุฎุตโุดุฏู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ูโูพุฐุฑุฏ. ุฏุฑ ุจุฏูู <code>notify</code>ุ ูโุชูุงูู ูุฑ ูุชุฏ ุฑู <code>item</code> ฺฉู ุงุฒ ูฺฺฏ <code>Summary</code> ุขูุฏู ุจุงุดุฏุ ูุงููุฏ <code>summarize</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ูโุชูุงูู <code>notify</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ู ูุฑ ูููููโุง ุงุฒ <code>NewsArticle</code> ุง <code>Tweet</code> ุฑุง ุจู ุขู ูพุงุณ ุฏูู. ฺฉุฏ ฺฉู ุชุงุจุน ุฑุง ุจุง ูุฑ ููุน ุฏฺฏุฑุ ูุงููุฏ ฺฉ <code>String</code> ุง ฺฉ <code>i32</code> ูุฑุงุฎูุงู ฺฉูุฏุ ฺฉุงููพุงู ููโุดูุฏ ุฒุฑุง ุขู ููุนโูุง ูฺฺฏ <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉููุฏ.</p>
<!-- Old headings. Do not remove or links may break. -->
<p><a id="fixing-the-largest-function-with-trait-bounds"></a></p>
<h4 id="ูุญู-ูุญุฏูุฏุช-ูฺฺฏ-trait-bound-syntax"><a class="header" href="#ูุญู-ูุญุฏูุฏุช-ูฺฺฏ-trait-bound-syntax">ูุญู ูุญุฏูุฏุช ูฺฺฏ (Trait Bound Syntax)</a></h4>
<p>ูุญู <code>impl Trait</code> ุจุฑุง ููุงุฑุฏ ุณุงุฏู ููุงุณุจ ุงุณุช ุงูุง ุฏุฑ ูุงูุน ฺฉ ุดฺฉู ฺฉูุชุงูโุดุฏู ุงุฒ ฺฉ ูุฑู ุทููุงูโุชุฑ ุจู ูุงู <em>ูุญุฏูุฏุช ูฺฺฏ</em> (trait bound) ุงุณุชุ ุจู ุงู ุตูุฑุช:</p>
<pre><code class="language-rust ignore">pub fn notify&lt;T: Summary&gt;(item: &amp;T) {
    println!("Breaking news! {}", item.summarize());
}</code></pre>
<p>ุงู ูุฑู ุทููุงู ูุนุงุฏู ูุซุงู ุจุฎุด ูุจู ุงุณุช ุงูุง ููุตูโุชุฑ ุงุณุช. ูุง ูุญุฏูุฏุชโูุง ูฺฺฏ ุฑุง ุจุง ุงุนูุงู ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุจุนุฏ ุงุฒ ฺฉ ุฏูโููุทู ู ุฏุงุฎู ูพุฑุงูุชุฒูุง ุฒุงููโุง ูุฑุงุฑ ูโุฏูู.</p>
<p>ูุญู <code>impl Trait</code> ุฏุฑ ููุงุฑุฏ ุณุงุฏู ููุงุณุจ ุงุณุช ู ฺฉุฏ ุฑุง ูุฎุชุตุฑุชุฑ ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ูุญู ฺฉุงููโุชุฑ ูุญุฏูุฏุช ูฺฺฏ ูโุชูุงูุฏ ูพฺุฏฺฏ ุจุดุชุฑ ุฑุง ุฏุฑ ููุงุฑุฏ ุฏฺฏุฑ ุจุงู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูู ุฏู ูพุงุฑุงูุชุฑ ุฏุงุดุชู ุจุงุดู ฺฉู ูฺฺฏ <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ุงูุฌุงู ุงู ฺฉุงุฑ ุจุง ูุญู <code>impl Trait</code> ุจู ุงู ุตูุฑุช ุงุณุช:</p>
<pre><code class="language-rust ignore">pub fn notify(item1: &amp;impl Summary, item2: &amp;impl Summary) {</code></pre>
<p>ุงุณุชูุงุฏู ุงุฒ <code>impl Trait</code> ููุงุณุจ ุงุณุช ุงฺฏุฑ ุจุฎูุงูู ุงู ุชุงุจุน ุงุฌุงุฒู ุฏูุฏ <code>item1</code> ู <code>item2</code> ุงููุงุน ูุฎุชูู ุฏุงุดุชู ุจุงุดูุฏ (ุจู ุดุฑุท ฺฉู ูุฑ ุฏู ููุน ูฺฺฏ <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ). ุงูุง ุงฺฏุฑ ุจุฎูุงูู ูุฑ ุฏู ูพุงุฑุงูุชุฑ ฺฉ ููุน ฺฉุณุงู ุฏุงุดุชู ุจุงุดูุฏุ ุจุงุฏ ุงุฒ ูุญุฏูุฏุช ูฺฺฏ ุงุณุชูุงุฏู ฺฉููุ ูุงููุฏ ุงู:</p>
<pre><code class="language-rust ignore">pub fn notify&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T) {</code></pre>
<p>ููุน ุฌูุฑฺฉ <code>T</code> ฺฉู ุจู ุนููุงู ููุน ูพุงุฑุงูุชุฑูุง <code>item1</code> ู <code>item2</code> ูุดุฎุต ุดุฏู ุงุณุชุ ุชุงุจุน ุฑุง ูุญุฏูุฏ ูโฺฉูุฏ ุจู ุงู ุตูุฑุช ฺฉู ููุน ูุดุฎุต ููุฏุงุฑ ูพุงุณโุฏุงุฏูโุดุฏู ุจู ุนููุงู ุขุฑฺฏููุงู ุจุฑุง <code>item1</code> ู <code>item2</code> ุจุงุฏ ฺฉุณุงู ุจุงุดุฏ.</p>
<h4 id="ูุดุฎุต-ฺฉุฑุฏู-ูุญุฏูุฏุชูุง-ูฺฺฏ-ฺูุฏฺฏุงูู-ุจุง-ูุญู-"><a class="header" href="#ูุดุฎุต-ฺฉุฑุฏู-ูุญุฏูุฏุชูุง-ูฺฺฏ-ฺูุฏฺฏุงูู-ุจุง-ูุญู-">ูุดุฎุต ฺฉุฑุฏู ูุญุฏูุฏุชโูุง ูฺฺฏ ฺูุฏฺฏุงูู ุจุง ูุญู <code>+</code></a></h4>
<p>ูุง ููฺูู ูโุชูุงูู ุจุด ุงุฒ ฺฉ ูุญุฏูุฏุช ูฺฺฏ ูุดุฎุต ฺฉูู. ูุฑุถ ฺฉูุฏ ูโุฎูุงูู <code>notify</code> ุงุฒ ูุฑูุชโุจูุฏ ููุงุด (display formatting) ู ููฺูู <code>summarize</code> ุฑู <code>item</code> ุงุณุชูุงุฏู ฺฉูุฏ: ุฏุฑ ุชุนุฑู <code>notify</code> ูุดุฎุต ูโฺฉูู ฺฉู <code>item</code> ุจุงุฏ ูุฑ ุฏู ูฺฺฏ <code>Display</code> ู <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุงู ฺฉุงุฑ ุฑุง ูโุชูุงูู ุจุง ูุญู <code>+</code> ุงูุฌุงู ุฏูู:</p>
<pre><code class="language-rust ignore">pub fn notify(item: &amp;(impl Summary + Display)) {</code></pre>
<p>ูุญู <code>+</code> ููฺูู ุจุง ูุญุฏูุฏุช ูฺฺฏ ุฑู ุงููุงุน ุฌูุฑฺฉ ูุนุชุจุฑ ุงุณุช:</p>
<pre><code class="language-rust ignore">pub fn notify&lt;T: Summary + Display&gt;(item: &amp;T) {</code></pre>
<p>ุจุง ูุดุฎุต ฺฉุฑุฏู ุงู ุฏู ูุญุฏูุฏุช ูฺฺฏุ ุจุฏูู <code>notify</code> ูโุชูุงูุฏ ูุชุฏ <code>summarize</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ู ุงุฒ <code>{}</code> ุจุฑุง ูุฑูุชโุจูุฏ <code>item</code> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h4 id="ูุญุฏูุฏุชูุง-ูฺฺฏ-ูุงุถุญุชุฑ-ุจุง-ุจูุฏูุง-where"><a class="header" href="#ูุญุฏูุฏุชูุง-ูฺฺฏ-ูุงุถุญุชุฑ-ุจุง-ุจูุฏูุง-where">ูุญุฏูุฏุชโูุง ูฺฺฏ ูุงุถุญโุชุฑ ุจุง ุจูุฏูุง <code>where</code></a></h4>
<p>ุงุณุชูุงุฏู ุงุฒ ุชุนุฏุงุฏ ุฒุงุฏ ูุญุฏูุฏุช ูฺฺฏ ูุนุงุจ ุฎูุฏ ุฑุง ุฏุงุฑุฏ. ูุฑ ุฌูุฑฺฉ ูุญุฏูุฏุชโูุง ูฺฺฏ ูุฎุตูุต ุจู ุฎูุฏ ุฑุง ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุชูุงุจุน ุจุง ฺูุฏู ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ูโุชูุงููุฏ ุดุงูู ุงุทูุงุนุงุช ุฒุงุฏ ุฏุฑุจุงุฑู ูุญุฏูุฏุชโูุง ูฺฺฏ ุจู ูุงู ุชุงุจุน ู ูุณุช ูพุงุฑุงูุชุฑูุง ุขู ุจุงุดูุฏุ ฺฉู ุจุงุนุซ ุณุฎุช ุดุฏู ุฎูุงูุฏู ุงูุถุง ุชุงุจุน ูโุดูุฏ. ุจู ููู ุฏููุ Rust ูุญู ุฌุงฺฏุฒู ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ูุญุฏูุฏุชโูุง ูฺฺฏ ุฏุฑ ุฏุงุฎู ฺฉ ุจูุฏ <code>where</code> ูพุณ ุงุฒ ุงูุถุง ุชุงุจุน ุงุฑุงุฆู ูโุฏูุฏ. ุจูุงุจุฑุงูุ ุจู ุฌุง ููุดุชู ุงู:</p>
<pre><code class="language-rust ignore">fn some_function&lt;T: Display + Clone, U: Clone + Debug&gt;(t: &amp;T, u: &amp;U) -&gt; i32 {</code></pre>
<p>ูโุชูุงูู ุงุฒ ฺฉ ุจูุฏ <code>where</code> ุจู ุงู ุตูุฑุช ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><code class="language-rust ignore">fn some_function&lt;T, U&gt;(t: &amp;T, u: &amp;U) -&gt; i32
where
    T: Display + Clone,
    U: Clone + Debug,
{
<span class="boring">    unimplemented!()
</span><span class="boring">}</span></code></pre>
<p>ุงูุถุง ุงู ุชุงุจุน ฺฉูุชุฑ ุดููุบ ุงุณุช: ูุงู ุชุงุจุนุ ูุณุช ูพุงุฑุงูุชุฑูุงุ ู ููุน ุจุงุฒฺฏุดุช ุจู ูู ูุฒุฏฺฉโุชุฑ ูุณุชูุฏุ ูุดุงุจู ฺฉ ุชุงุจุน ุจุฏูู ูุญุฏูุฏุชโูุง ูฺฺฏ ุฒุงุฏ.</p>
<h3 id="ุจุงุฒฺฏุฑุฏุงูุฏู-ููุนูุง-ฺฉู-ูฺฺฏูุง-ุฑุง-ูพุงุฏูุณุงุฒ-ูฺฉููุฏ"><a class="header" href="#ุจุงุฒฺฏุฑุฏุงูุฏู-ููุนูุง-ฺฉู-ูฺฺฏูุง-ุฑุง-ูพุงุฏูุณุงุฒ-ูฺฉููุฏ">ุจุงุฒฺฏุฑุฏุงูุฏู ููุนโูุง ฺฉู ูฺฺฏโูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ</a></h3>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ูุญู <code>impl Trait</code> ุฏุฑ ูููุนุช ุจุงุฒฺฏุดุช ุงุณุชูุงุฏู ฺฉูู ุชุง ููุฏุงุฑ ุงุฒ ููุน ฺฉู ฺฉ ูฺฺฏ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจุงุฒฺฏุฑุฏุงููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-rust ignore"><span class="boring">pub trait Summary {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct NewsArticle {
</span><span class="boring">    pub headline: String,
</span><span class="boring">    pub location: String,
</span><span class="boring">    pub author: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for NewsArticle {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}, by {} ({})", self.headline, self.author, self.location)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct Tweet {
</span><span class="boring">    pub username: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">    pub reply: bool,
</span><span class="boring">    pub retweet: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for Tweet {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}: {}", self.username, self.content)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn returns_summarizable() -&gt; impl Summary {
    Tweet {
        username: String::from("horse_ebooks"),
        content: String::from(
            "of course, as you probably already know, people",
        ),
        reply: false,
        retweet: false,
    }
}</code></pre>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ <code>impl Summary</code> ุจุฑุง ููุน ุจุงุฒฺฏุดุชุ ูุดุฎุต ูโฺฉูู ฺฉู ุชุงุจุน <code>returns_summarizable</code> ููุฏุงุฑ ุงุฒ ููุน ฺฉู ูฺฺฏ <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุจุฏูู ูุงุฒ ุจู ูุงู ุจุฑุฏู ุงุฒ ููุน ูุดุฎุต. ุฏุฑ ุงู ููุฑุฏุ <code>returns_summarizable</code> ฺฉ <code>Tweet</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงูุง ฺฉุฏ ฺฉู ุงู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ูุงุฒ ุจู ุฏุงูุณุชู ุงู ููุถูุน ูุฏุงุฑุฏ.</p>
<p>ุชูุงูุง ูุดุฎุต ฺฉุฑุฏู ฺฉ ููุน ุจุงุฒฺฏุดุช ุชููุง ุจุฑ ุงุณุงุณ ูฺฺฏโุง ฺฉู ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุจู ูฺู ุฏุฑ ุฒููู closures ู iterators ููุฏ ุงุณุชุ ฺฉู ุฏุฑ ูุตู ฑณ ุจู ุขูโูุง ูโูพุฑุฏุงุฒู. closures ู iterators ููุนโูุง ุงุฌุงุฏ ูโฺฉููุฏ ฺฉู ุชููุง ฺฉุงููพุงูุฑ ุขูโูุง ุฑุง ูโุดูุงุณุฏ ุง ููุนโูุง ฺฉู ุจุณุงุฑ ุทููุงู ูุณุชูุฏ ุชุง ูุดุฎุต ุดููุฏ. ูุญู <code>impl Trait</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุจู ุทูุฑ ูุฎุชุตุฑ ูุดุฎุต ฺฉูุฏ ฺฉ ุชุงุจุน ููุน ฺฉู ูฺฺฏ <code>Iterator</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุจุฏูู ูุงุฒ ุจู ููุดุชู ฺฉ ููุน ุจุณุงุฑ ุทููุงู.</p>
<p>ุจุง ุงู ุญุงูุ ููุท ุฒูุงู ูโุชูุงูุฏ ุงุฒ <code>impl Trait</code> ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ฺฉ ููุน ุจุงุฒฺฏุฑุฏุงูุฏู ุดูุฏ. ุจุฑุง ูุซุงูุ ุงู ฺฉุฏ ฺฉู ุง ฺฉ <code>NewsArticle</code> ุง ฺฉ <code>Tweet</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ููุน ุจุงุฒฺฏุดุช ุจู ุนููุงู <code>impl Summary</code> ูุดุฎุต ุดุฏูุ ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">pub trait Summary {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct NewsArticle {
</span><span class="boring">    pub headline: String,
</span><span class="boring">    pub location: String,
</span><span class="boring">    pub author: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for NewsArticle {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}, by {} ({})", self.headline, self.author, self.location)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct Tweet {
</span><span class="boring">    pub username: String,
</span><span class="boring">    pub content: String,
</span><span class="boring">    pub reply: bool,
</span><span class="boring">    pub retweet: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Summary for Tweet {
</span><span class="boring">    fn summarize(&amp;self) -&gt; String {
</span><span class="boring">        format!("{}: {}", self.username, self.content)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn returns_summarizable(switch: bool) -&gt; impl Summary {
    if switch {
        NewsArticle {
            headline: String::from(
                "Penguins win the Stanley Cup Championship!",
            ),
            location: String::from("Pittsburgh, PA, USA"),
            author: String::from("Iceburgh"),
            content: String::from(
                "The Pittsburgh Penguins once again are the best \
                 hockey team in the NHL.",
            ),
        }
    } else {
        Tweet {
            username: String::from("horse_ebooks"),
            content: String::from(
                "of course, as you probably already know, people",
            ),
            reply: false,
            retweet: false,
        }
    }
}</code></pre>
<p>ุจุงุฒฺฏุฑุฏุงูุฏู ุง ฺฉ <code>NewsArticle</code> ุง ฺฉ <code>Tweet</code> ูุฌุงุฒ ูุณุช ุจู ุฏูู ูุญุฏูุฏุชโูุง ุฏุฑ ูุญูู ูพุงุฏูโุณุงุฒ ูุญู <code>impl Trait</code> ุฏุฑ ฺฉุงููพุงูุฑ. ูุง ูุญูู ููุดุชู ฺฉ ุชุงุจุน ุจุง ุงู ุฑูุชุงุฑ ุฑุง ุฏุฑ ุจุฎุด <a href="ch18-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types">โุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ูฺฺฏ ฺฉู ููุงุฏุฑ ุงุฒ ููุนโูุง ูุฎุชูู ุฑุง ูุฌุงุฒ ูโุณุงุฒุฏโ</a><!-- ignore --> ุฏุฑ ูุตู ฑธ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ูุญุฏูุฏุชูุง-ูฺฺฏ-ุจุฑุง-ูพุงุฏูุณุงุฒ-ุดุฑุท-ูุชุฏูุง"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ูุญุฏูุฏุชูุง-ูฺฺฏ-ุจุฑุง-ูพุงุฏูุณุงุฒ-ุดุฑุท-ูุชุฏูุง">ุงุณุชูุงุฏู ุงุฒ ูุญุฏูุฏุชโูุง ูฺฺฏ ุจุฑุง ูพุงุฏูโุณุงุฒ ุดุฑุท ูุชุฏูุง</a></h3>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุญุฏูุฏุช ูฺฺฏ ุฏุฑ ฺฉ ุจููฺฉ <code>impl</code> ฺฉู ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุงุณุชูุงุฏู ูโฺฉูุฏุ ูโุชูุงูู ูุชุฏูุง ุฑุง ุจู ุทูุฑ ุดุฑุท ุจุฑุง ููุนโูุง ฺฉู ูฺฺฏโูุง ูุดุฎุตโุดุฏู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ูพุงุฏูโุณุงุฒ ฺฉูู. ุจุฑุง ูุซุงูุ ููุน <code>Pair&lt;T&gt;</code> ุฏุฑ ูุณุช ฑฐ-ฑต ููุดู ุชุงุจุน <code>new</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุชุง ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>Pair&lt;T&gt;</code> ุจุงุฒฺฏุฑุฏุงูุฏ (ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ุงุฒ ุจุฎุด <a href="ch05-03-method-syntax.html#defining-methods">โุชุนุฑู ูุชุฏูุงโ</a><!-- ignore --> ุฏุฑ ูุตู ต ฺฉู <code>Self</code> ฺฉ ูุงู ูุณุชุนุงุฑ ุจุฑุง ููุน ุจููฺฉ <code>impl</code> ุงุณุช ฺฉู ุฏุฑ ุงูุฌุง <code>Pair&lt;T&gt;</code> ุงุณุช). ุงูุง ุฏุฑ ุจููฺฉ <code>impl</code> ุจุนุฏุ <code>Pair&lt;T&gt;</code> ููุท ูุชุฏ <code>cmp_display</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุงฺฏุฑ ููุน ุฏุงุฎู <code>T</code> ูฺฺฏ <code>PartialOrd</code> ฺฉู ููุงุณู ุฑุง ููฺฉู ูโฺฉูุฏ <em>ู</em> ูฺฺฏ <code>Display</code> ฺฉู ฺุงูพ ุฑุง ููฺฉู ูโฺฉูุฏุ ูพุงุฏูโุณุงุฒ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::fmt::Display;

struct Pair&lt;T&gt; {
    x: T,
    y: T,
}

impl&lt;T&gt; Pair&lt;T&gt; {
    fn new(x: T, y: T) -&gt; Self {
        Self { x, y }
    }
}

impl&lt;T: Display + PartialOrd&gt; Pair&lt;T&gt; {
    fn cmp_display(&amp;self) {
        if self.x &gt;= self.y {
            println!("The largest member is x = {}", self.x);
        } else {
            println!("The largest member is y = {}", self.y);
        }
    }
}</code></pre>
<figcaption>Listing 10-15: ูพุงุฏูโุณุงุฒ ุดุฑุท ูุชุฏูุง ุฑู ฺฉ ููุน ุฌูุฑฺฉ ุจุฑ ุงุณุงุณ ูุญุฏูุฏุชโูุง ูฺฺฏ</figcaption>
</figure>
<p>ูุง ููฺูู ูโุชูุงูู ฺฉ ูฺฺฏ ุฑุง ุจู ุทูุฑ ุดุฑุท ุจุฑุง ูุฑ ููุน ฺฉู ูฺฺฏ ุฏฺฏุฑ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูพุงุฏูโุณุงุฒ ฺฉูู. ูพุงุฏูโุณุงุฒโูุง ฺฉ ูฺฺฏ ุฑู ูุฑ ููุน ฺฉู ูุญุฏูุฏุชโูุง ูฺฺฏ ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ <em>ูพุงุฏูโุณุงุฒโูุง ฺฉู</em> (blanket implementations) ูุงูุฏู ูโุดููุฏ ู ุจู ุทูุฑ ฺฏุณุชุฑุฏู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ุงุณุชูุงุฏู ูโุดููุฏ. ุจุฑุง ูุซุงูุ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูฺฺฏ <code>ToString</code> ุฑุง ุฑู ูุฑ ููุน ฺฉู ูฺฺฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ุจููฺฉ <code>impl</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุดุจู ุจู ุงู ฺฉุฏ ุงุณุช:</p>
<pre><code class="language-rust ignore">impl&lt;T: Display&gt; ToString for T {
    // --snip--
}</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงู ูพุงุฏูโุณุงุฒ ฺฉู ุฑุง ุฏุงุฑุฏุ ูโุชูุงูู ูุชุฏ <code>to_string</code> ุชุนุฑูโุดุฏู ุชูุณุท ูฺฺฏ <code>ToString</code> ุฑุง ุฑู ูุฑ ููุน ฺฉู ูฺฺฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูุฑุงุฎูุงู ฺฉูู. ุจุฑุง ูุซุงูุ ูโุชูุงูู ุงุนุฏุงุฏ ุตุญุญ ุฑุง ุจู ููุงุฏุฑ <code>String</code> ูุชูุงุธุฑุดุงู ุชุจุฏู ฺฉูู ูุงููุฏ ุงู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s = 3.to_string();
<span class="boring">}</span></code></pre></pre>
<p>ูพุงุฏูโุณุงุฒโูุง ฺฉู ุฏุฑ ูุณุชูุฏุงุช ูฺฺฏ ุฏุฑ ุจุฎุด โImplementorsโ ุธุงูุฑ ูโุดููุฏ.</p>
<p>ูฺฺฏโูุง ู ูุญุฏูุฏุชโูุง ูฺฺฏ ุจู ูุง ุงูฺฉุงู ูโุฏููุฏ ฺฉู ฺฉุฏ ุจููุณู ฺฉู ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุจุฑุง ฺฉุงูุด ุชฺฉุฑุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ ุงูุง ููฺูู ุจู ฺฉุงููพุงูุฑ ูุดุฎุต ฺฉูุฏ ฺฉู ูโุฎูุงูู ููุน ุฌูุฑฺฉ ุฑูุชุงุฑ ุฎุงุต ุฏุงุดุชู ุจุงุดุฏ. ุณูพุณ ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุงุฒ ุงุทูุงุนุงุช ูุญุฏูุฏุช ูฺฺฏ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุชูุงู ููุนโูุง ูุดุฎุต ุงุณุชูุงุฏูโุดุฏู ุจุง ฺฉุฏ ูุง ุฑูุชุงุฑ ุตุญุญ ุฑุง ุงุฑุงุฆู ูโุฏููุฏ. ุฏุฑ ุฒุจุงูโูุง ุชุงูพโฺฏุฐุงุฑ ูพูุงุ ูุง ููฺฏุงู ุงุฌุฑุง ุฎุทุง ุฏุฑุงูุช ูโฺฉูู ุงฺฏุฑ ฺฉ ูุชุฏ ุฑู ฺฉ ููุน ฺฉู ุขู ูุชุฏ ุฑุง ุชุนุฑู ูฺฉุฑุฏู ูุฑุงุฎูุงู ฺฉูู. ุงูุง Rust ุงู ุฎุทุงูุง ุฑุง ุจู ุฒูุงู ฺฉุงููพุงู ููุชูู ูโฺฉูุฏ ุชุง ูุง ูุฌุจูุฑ ุดูู ูุดฺฉูุงุช ุฑุง ูุจู ุงุฒ ุงูฺฉู ฺฉุฏ ูุง ุงุฌุฑุง ุดูุฏ ุจุฑุทุฑู ฺฉูู. ุนูุงูู ุจุฑ ุงูุ ูุงุฒ ุจู ููุดุชู ฺฉุฏ ูุฏุงุฑู ฺฉู ุฑูุชุงุฑ ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุฑุณ ฺฉูุฏ ุฒุฑุง ูุจูุงู ุขู ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุฑุฑุณ ฺฉุฑุฏูโุงู. ุงู ฺฉุงุฑ ุนููฺฉุฑุฏ ุฑุง ุจูุจูุฏ ูโุจุฎุดุฏ ุจุฏูู ุงูฺฉู ุงูุนุทุงูโูพุฐุฑ ุฌูุฑฺฉโูุง ุฑุง ูุฑุจุงู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุนุชุจุงุฑุณูุฌ-ูุฑุงุฌุน-ุจุง-ุทูู-ุนูุฑูุง"><a class="header" href="#ุงุนุชุจุงุฑุณูุฌ-ูุฑุงุฌุน-ุจุง-ุทูู-ุนูุฑูุง">ุงุนุชุจุงุฑุณูุฌ ูุฑุงุฌุน ุจุง ุทูู ุนูุฑูุง</a></h2>
<p>ุทูู ุนูุฑูุง ููุน ุฏฺฏุฑ ุงุฒ ุฌูุฑฺฉโูุง ูุณุชูุฏ ฺฉู ูุง ูุจูุงู ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุจู ุฌุง ุงุทููุงู ุงุฒ ุงูฺฉู ฺฉ ููุน ุฑูุชุงุฑ ููุฑุฏ ูุธุฑ ูุง ุฑุง ุฏุงุฑุฏุ ุทูู ุนูุฑูุง ุชุถูู ูโฺฉููุฏ ฺฉู ูุฑุงุฌุน ุจู ุงูุฏุงุฒูโุง ฺฉู ูุงุฒ ุฏุงุฑู ูุนุชุจุฑ ุจุงู ูโูุงููุฏ.</p>
<p>ฺฉ ุงุฒ ุฌุฒุฆุงุช ฺฉู ุฏุฑ ุจุฎุด <a href="ch04-02-references-and-borrowing.html#references-and-borrowing">โูุฑุงุฌุน ู ูุฑุถ ฺฏุฑูุชูโ</a><!-- ignore --> ุฏุฑ ูุตู ด ุจุฑุฑุณ ูฺฉุฑุฏู ุงู ุงุณุช ฺฉู ูุฑ ูุฑุฌุน ุฏุฑ Rust ุฏุงุฑุง ฺฉ <em>ุทูู ุนูุฑ</em> ุงุณุชุ ฺฉู ูุญุฏูุฏูโุง ุงุณุช ฺฉู ุขู ูุฑุฌุน ุฏุฑ ุขู ูุนุชุจุฑ ุงุณุช. ุจุดุชุฑ ุงููุงุชุ ุทูู ุนูุฑูุง ุถูู ู ุงุณุชูุชุงุฌโุดุฏู ูุณุชูุฏุ ุฏููุงู ูุงููุฏ ุงููุงุน. ูุง ููุท ุฒูุงู ูุงุฒ ุฏุงุฑู ฺฉู ููุนโูุง ุฑุง ุญุงุดูโููุณ ฺฉูู ฺฉู ฺูุฏู ููุน ููฺฉู ุจุงุดูุฏ. ุจู ุทูุฑ ูุดุงุจูุ ูุง ููุท ุฒูุงู ูุงุฒ ุฏุงุฑู ฺฉู ุทูู ุนูุฑูุง ุฑุง ุญุงุดูโููุณ ฺฉูู ฺฉู ุทูู ุนูุฑ ูุฑุงุฌุน ุจุชูุงููุฏ ุจู ฺูุฏ ุฑูุด ูุฎุชูู ูุฑุชุจุท ุจุงุดูุฏ. Rust ูุง ุฑุง ููุฒู ูโฺฉูุฏ ุชุง ุฑูุงุจุท ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุงุฑุงูุชุฑูุง ุฌูุฑฺฉ ุทูู ุนูุฑ ุญุงุดูโููุณ ฺฉูู ุชุง ุงุทููุงู ุญุงุตู ฺฉูู ฺฉู ูุฑุงุฌุน ูุงูุน ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุทุนุงู ูุนุชุจุฑ ุฎูุงููุฏ ุจูุฏ.</p>
<p>ุญุงุดูโููุณ ุทูู ุนูุฑ ููููู ูุณุช ฺฉู ุจุดุชุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏุงุดุชู ุจุงุดูุฏุ ุจูุงุจุฑุงู ููฺฉู ุงุณุช ุงู ููุถูุน ุจุฑุง ุดูุง ูุงุขุดูุง ุจุงุดุฏ. ุงฺฏุฑฺู ุฏุฑ ุงู ูุตู ุทูู ุนูุฑูุง ุฑุง ุจู ุทูุฑ ฺฉุงูู ูพูุดุด ููโุฏููุ ุงูุง ุฑูุดโูุง ุฑุงุฌ ฺฉู ููฺฉู ุงุณุช ุจุง ูุญู ุทูู ุนูุฑ ููุงุฌู ุดูุฏ ุฑุง ุจุฑุฑุณ ูโฺฉูู ุชุง ุจุชูุงูุฏ ุจุง ุงู ููููู ุขุดูุง ุดูุฏ.</p>
<h3 id="ุฌููฺฏุฑ-ุงุฒ-ูุฑุงุฌุน-ุขูุฒุงู-dangling-references-ุจุง-ุทูู-ุนูุฑูุง"><a class="header" href="#ุฌููฺฏุฑ-ุงุฒ-ูุฑุงุฌุน-ุขูุฒุงู-dangling-references-ุจุง-ุทูู-ุนูุฑูุง">ุฌููฺฏุฑ ุงุฒ ูุฑุงุฌุน ุขูุฒุงู (Dangling References) ุจุง ุทูู ุนูุฑูุง</a></h3>
<p>ูุฏู ุงุตู ุทูู ุนูุฑูุง ุฌููฺฏุฑ ุงุฒ <em>ูุฑุงุฌุน ุขูุฒุงู</em> ุงุณุชุ ฺฉู ุจุงุนุซ ูโุดููุฏ ฺฉ ุจุฑูุงูู ุจู ุฏุงุฏูโูุง ุบุฑ ุงุฒ ุฏุงุฏูโูุง ฺฉู ูุฑุงุฑ ุจูุฏู ูุฑุงุฌุนู ฺฉูุฏ ุงุดุงุฑู ฺฉูุฏ. ุจุฑูุงููโุง ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ุฏุฑ ูุณุช ฑฐ-ฑถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ู ุฏุงุฑุง ฺฉ ูุญุฏูุฏู ุฎุงุฑุฌ ู ฺฉ ูุญุฏูุฏู ุฏุงุฎู ุงุณุช.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let r;

    {
        let x = 5;
        r = &amp;x;
    }

    println!("r: {r}");
}</code></pre>
<figcaption>Listing 10-16: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุฑุฌุน ฺฉู ููุฏุงุฑ ุขู ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ุดุฏู ุงุณุช</figcaption>
</figure>
<blockquote>
<p>ุชูุฌู: ูุซุงูโูุง ูุณุช ฑฐ-ฑถุ ฑฐ-ฑทุ ู ฑฐ-ฒณ ูุชุบุฑูุง ุฑุง ุจุฏูู ููุฏุงุฑ ุงููู ุงุนูุงู ูโฺฉููุฏุ ุจูุงุจุฑุงู ูุงู ูุชุบุฑ ุฏุฑ ูุญุฏูุฏู ุฎุงุฑุฌ ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ ูฺฏุงู ุงููุ ุงู ููฺฉู ุงุณุช ุฏุฑ ุชุถุงุฏ ุจุง ุนุฏู ูุฌูุฏ ููุงุฏุฑ null ุฏุฑ Rust ุจู ูุธุฑ ุจุฑุณุฏ. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุณุน ฺฉูู ุงุฒ ูุชุบุฑ ูุจู ุงุฒ ููุฏุงุฑุฏู ุขู ุงุณุชูุงุฏู ฺฉููุ ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏุ ฺฉู ูุดุงู ูโุฏูุฏ Rust ูุงูุนุงู ููุงุฏุฑ null ุฑุง ูุฌุงุฒ ููโุฏุงูุฏ.</p>
</blockquote>
<p>ูุญุฏูุฏู ุฎุงุฑุฌ ฺฉ ูุชุบุฑ ุจู ูุงู <code>r</code> ุฑุง ุจุฏูู ููุฏุงุฑ ุงููู ุงุนูุงู ูโฺฉูุฏุ ู ูุญุฏูุฏู ุฏุงุฎู ฺฉ ูุชุบุฑ ุจู ูุงู <code>x</code> ุฑุง ุจุง ููุฏุงุฑ ุงููู <code>5</code> ุงุนูุงู ูโฺฉูุฏ. ุฏุฑ ุฏุงุฎู ูุญุฏูุฏู ุฏุงุฎูุ ุชูุงุด ูโฺฉูู ููุฏุงุฑ <code>r</code> ุฑุง ุจู ุนููุงู ฺฉ ูุฑุฌุน ุจู <code>x</code> ุชูุธู ฺฉูู. ุณูพุณ ูุญุฏูุฏู ุฏุงุฎู ุจู ูพุงุงู ูโุฑุณุฏ ู ุณุน ูโฺฉูู ููุฏุงุฑ ููุฌูุฏ ุฏุฑ <code>r</code> ุฑุง ฺุงูพ ฺฉูู. ุงู ฺฉุฏ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ ุฒุฑุง ููุฏุงุฑ ฺฉู <code>r</code> ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ูุจู ุงุฒ ุงูฺฉู ุณุน ฺฉูู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ุดุฏู ุงุณุช. ูพุงู ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0597]: `x` does not live long enough
 --&gt; src/main.rs:6:13
  |
5 |         let x = 5;
  |             - binding `x` declared here
6 |         r = &amp;x;
  |             ^^ borrowed value does not live long enough
7 |     }
  |     - `x` dropped here while still borrowed
8 |
9 |     println!("r: {r}");
  |                  --- borrow later used here

For more information about this error, try `rustc --explain E0597`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>ูพุงู ุฎุทุง ูโฺฏูุฏ ฺฉู ูุชุบุฑ <code>x</code> โุจู ุงูุฏุงุฒู ฺฉุงู ุทูู ุนูุฑ ูุฏุงุฑุฏ.โ ุฏูู ุงู ุงุณุช ฺฉู <code>x</code> ููุช ูุญุฏูุฏู ุฏุงุฎู ุฏุฑ ุฎุท ท ูพุงุงู ูโุงุจุฏุ ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ. ุงูุง <code>r</code> ููฺูุงู ุจุฑุง ูุญุฏูุฏู ุฎุงุฑุฌ ูุนุชุจุฑ ุงุณุชุ ุฒุฑุง ูุญุฏูุฏู ุขู ุจุฒุฑฺฏโุชุฑ ุงุณุชุ ูโฺฏูู ฺฉู โุทูู ุนูุฑ ุจุดุชุฑ ุฏุงุฑุฏ.โ ุงฺฏุฑ Rust ุจู ุงู ฺฉุฏ ุงุฌุงุฒู ฺฉุงุฑ ฺฉุฑุฏู ูโุฏุงุฏุ <code>r</code> ุจู ุญุงูุธูโุง ุงุดุงุฑู ูโฺฉุฑุฏ ฺฉู ููุช <code>x</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ุดุฏ ุขุฒุงุฏ ุดุฏู ุงุณุชุ ู ูุฑ ฺฉุงุฑ ฺฉู ุณุน ูโฺฉุฑุฏู ุจุง <code>r</code> ุงูุฌุงู ุฏูู ุจู ุฏุฑุณุช ฺฉุงุฑ ููโฺฉุฑุฏ. ูพุณ ฺฺฏููู Rust ุชุดุฎุต ูโุฏูุฏ ฺฉู ุงู ฺฉุฏ ูุงูุนุชุจุฑ ุงุณุชุ ุงุฒ ฺฉ ุจุฑุฑุณโฺฉููุฏู ูุฑุถ (borrow checker) ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<h3 id="ุจุฑุฑุณฺฉููุฏู-ูุฑุถ-borrow-checker"><a class="header" href="#ุจุฑุฑุณฺฉููุฏู-ูุฑุถ-borrow-checker">ุจุฑุฑุณโฺฉููุฏู ูุฑุถ (Borrow Checker)</a></h3>
<p>ฺฉุงููพุงูุฑ Rust ุฏุงุฑุง ฺฉ <em>ุจุฑุฑุณโฺฉููุฏู ูุฑุถ</em> ุงุณุช ฺฉู ูุญุฏูุฏูโูุง ุฑุง ููุงุณู ูโฺฉูุฏ ุชุง ุชุนู ฺฉูุฏ ฺฉู ุขุง ุชูุงู ูุฑุถโูุง ูุนุชุจุฑ ูุณุชูุฏ ุง ุฎุฑ. ูุณุช ฑฐ-ฑท ููุงู ฺฉุฏ ูุณุช ฑฐ-ฑถ ุฑุง ูุดุงู ูโุฏูุฏ ุงูุง ุจุง ุญุงุดูโููุณโูุง ฺฉู ุทูู ุนูุฑ ูุชุบุฑูุง ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let r;                // ---------+-- 'a
                          //          |
    {                     //          |
        let x = 5;        // -+-- 'b  |
        r = &amp;x;           //  |       |
    }                     // -+       |
                          //          |
    println!("r: {r}");   //          |
}                         // ---------+</code></pre>
<figcaption>Listing 10-17: ุญุงุดูโููุณ ุทูู ุนูุฑูุง <code>r</code> ู <code>x</code> ฺฉู ุจู ุชุฑุชุจ ุจู ูุงูโูุง <code>'a</code> ู <code>'b</code> ูุงูโฺฏุฐุงุฑ ุดุฏูโุงูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ุทูู ุนูุฑ <code>r</code> ุฑุง ุจุง <code>'a</code> ู ุทูู ุนูุฑ <code>x</code> ุฑุง ุจุง <code>'b</code> ุญุงุดูโููุณ ฺฉุฑุฏูโุงู. ููุงูุทูุฑ ฺฉู ูโุจูุฏุ ุจููฺฉ ุฏุงุฎู <code>'b</code> ุจุณุงุฑ ฺฉูฺฺฉโุชุฑ ุงุฒ ุจููฺฉ ุทูู ุนูุฑ ุฎุงุฑุฌ <code>'a</code> ุงุณุช. ุฏุฑ ุฒูุงู ฺฉุงููพุงูุ Rust ุงูุฏุงุฒู ุฏู ุทูู ุนูุฑ ุฑุง ููุงุณู ูโฺฉูุฏ ู ูโุจูุฏ ฺฉู <code>r</code> ุฏุงุฑุง ุทูู ุนูุฑ <code>'a</code> ุงุณุช ุงูุง ุจู ุญุงูุธูโุง ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ุทูู ุนูุฑ ุขู <code>'b</code> ุงุณุช. ุจุฑูุงูู ุฑุฏ ูโุดูุฏ ุฒุฑุง <code>'b</code> ฺฉูุชุงูโุชุฑ ุงุฒ <code>'a</code> ุงุณุช: ููุถูุน ูุฑุฌุน ุจู ุงูุฏุงุฒู ูุฑุฌุน ุฒูุฏู ูุณุช.</p>
<p>ูุณุช ฑฐ-ฑธ ฺฉุฏ ุฑุง ุงุตูุงุญ ูโฺฉูุฏ ุชุง ฺฉ ูุฑุฌุน ุขูุฒุงู ูุฏุงุดุชู ุจุงุดุฏ ู ุจุฏูู ูฺ ุฎุทุง ฺฉุงููพุงู ุดูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;            // ----------+-- 'b
                          //           |
    let r = &amp;x;           // --+-- 'a  |
                          //   |       |
    println!("r: {r}");   //   |       |
                          // --+       |
}                         // ----------+</code></pre></pre>
<figcaption>Listing 10-18: ฺฉ ูุฑุฌุน ูุนุชุจุฑ ุฒุฑุง ุฏุงุฏูโูุง ุทูู ุนูุฑ ุทููุงูโุชุฑ ุงุฒ ูุฑุฌุน ุฏุงุฑูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ <code>x</code> ุฏุงุฑุง ุทูู ุนูุฑ <code>'b</code> ุงุณุช ฺฉู ุฏุฑ ุงู ููุฑุฏ ุจุฒุฑฺฏโุชุฑ ุงุฒ <code>'a</code> ุงุณุช. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู <code>r</code> ูโุชูุงูุฏ ุจู <code>x</code> ุงุดุงุฑู ฺฉูุฏ ุฒุฑุง Rust ูโุฏุงูุฏ ฺฉู ูุฑุฌุน ุฏุฑ <code>r</code> ููุดู ุฏุฑ ุญุงู ฺฉู <code>x</code> ูุนุชุจุฑ ุงุณุชุ ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุญุงูุง ฺฉู ูโุฏุงูุฏ ุทูู ุนูุฑ ูุฑุงุฌุน ฺุณุช ู ฺฺฏููู Rust ุทูู ุนูุฑูุง ุฑุง ุชุญูู ูโฺฉูุฏ ุชุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุฑุงุฌุน ููุดู ูุนุชุจุฑ ุฎูุงููุฏ ุจูุฏุ ุจุงุฏ ุทูู ุนูุฑูุง ุฌูุฑฺฉ ูพุงุฑุงูุชุฑูุง ู ููุงุฏุฑ ุจุงุฒฺฏุดุช ุฑุง ุฏุฑ ุฒููู ุชูุงุจุน ุจุฑุฑุณ ฺฉูู.</p>
<h3 id="ุทูู-ุนูุฑูุง-ุฌูุฑฺฉ-ุฏุฑ-ุชูุงุจุน"><a class="header" href="#ุทูู-ุนูุฑูุง-ุฌูุฑฺฉ-ุฏุฑ-ุชูุงุจุน">ุทูู ุนูุฑูุง ุฌูุฑฺฉ ุฏุฑ ุชูุงุจุน</a></h3>
<p>ูุง ุชุงุจุน ุฎูุงูู ููุดุช ฺฉู ุทููุงูโุชุฑู ูุทุนู ุฑุดุชู (string slice) ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุชุงุจุน ุฏู ูุทุนู ุฑุดุชู ูโฺฏุฑุฏ ู ฺฉ ูุทุนู ุฑุดุชู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูพุณ ุงุฒ ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>longest</code>ุ ฺฉุฏ ุฏุฑ ูุณุช ฑฐ-ฑน ุจุงุฏ <code>The longest string is abcd</code> ุฑุง ฺุงูพ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">fn main() {
    let string1 = String::from("abcd");
    let string2 = "xyz";

    let result = longest(string1.as_str(), string2);
    println!("The longest string is {result}");
}</code></pre>
<figcaption>Listing 10-19: ฺฉ ุชุงุจุน <code>main</code> ฺฉู ุชุงุจุน <code>longest</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ุทููุงูโุชุฑู ูุทุนู ุฑุดุชู ุฑุง ูพุฏุง ฺฉูุฏ</figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูโุฎูุงูู ุชุงุจุน ูุทุนู ุฑุดุชูโูุงุ ฺฉู ูุฑุงุฌุน ูุณุชูุฏุ ุจฺฏุฑุฏ ูู ุฑุดุชูโูุงุ ุฒุฑุง ููโุฎูุงูู ุชุงุจุน <code>longest</code> ูุงูฺฉุช ูพุงุฑุงูุชุฑูุง ุฎูุฏ ุฑุง ุจฺฏุฑุฏ. ุจุฑุง ุจุญุซ ุจุดุชุฑ ุฏุฑุจุงุฑู ุงูฺฉู ฺุฑุง ูพุงุฑุงูุชุฑูุง ฺฉู ุฏุฑ ูุณุช ฑฐ-ฑน ุงุณุชูุงุฏู ูโฺฉูู ููุงูโูุง ูุณุชูุฏ ฺฉู ูโุฎูุงููุ ุจู ุจุฎุด <a href="ch04-03-slices.html#string-slices-as-parameters">โูุทุนู ุฑุดุชูโูุง ุจู ุนููุงู ูพุงุฑุงูุชุฑูุงโ</a><!-- ignore --> ุฏุฑ ูุตู ด ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุณุน ฺฉูู ุชุงุจุน <code>longest</code> ุฑุง ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฐ-ฒฐ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ูพุงุฏูโุณุงุฒ ฺฉููุ ฺฉุงููพุงู ููโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest(x: &amp;str, y: &amp;str) -&gt; &amp;str {
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}</code></pre>
<figcaption>Listing 10-20: ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>longest</code> ฺฉู ุทููุงูโุชุฑู ูุทุนู ุฑุดุชู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุงูุง ูููุฒ ฺฉุงููพุงู ููโุดูุฏ</figcaption>
</figure>
<p>ุจู ุฌุง ุขูุ ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู ฺฉู ุฏุฑุจุงุฑู ุทูู ุนูุฑูุง ุตุญุจุช ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0106]: missing lifetime specifier
 --&gt; src/main.rs:9:33
  |
9 | fn longest(x: &amp;str, y: &amp;str) -&gt; &amp;str {
  |               ----     ----     ^ expected named lifetime parameter
  |
  = help: this function's return type contains a borrowed value, but the signature does not say whether it is borrowed from `x` or `y`
help: consider introducing a named lifetime parameter
  |
9 | fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
  |           ++++     ++          ++          ++

For more information about this error, try `rustc --explain E0106`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>ูุชู ฺฉูฺฉ ูุดุงู ูโุฏูุฏ ฺฉู ููุน ุจุงุฒฺฏุดุช ูุงุฒ ุจู ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฌูุฑฺฉ ุฏุงุฑุฏ ุฒุฑุง Rust ููโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุจู <code>x</code> ุงุดุงุฑู ูโฺฉูุฏ ุง ุจู <code>y</code>. ุฏุฑ ูุงูุนุ ูุง ูู ููโุฏุงููุ ุฒุฑุง ุจููฺฉ <code>if</code> ุฏุฑ ุจุฏูู ุงู ุชุงุจุน ฺฉ ูุฑุฌุน ุจู <code>x</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ุจููฺฉ <code>else</code> ฺฉ ูุฑุฌุน ุจู <code>y</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ!</p>
<p>ููุช ุงู ุชุงุจุน ุฑุง ุชุนุฑู ูโฺฉููุ ููุงุฏุฑ ูุดุฎุต ฺฉู ุจู ุงู ุชุงุจุน ูพุงุณ ุฏุงุฏู ูโุดููุฏ ุฑุง ููโุฏุงููุ ุจูุงุจุฑุงู ููโุฏุงูู ฺฉู ุขุง ุญุงูุช <code>if</code> ุง ุญุงูุช <code>else</code> ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ. ููฺูู ุทูู ุนูุฑูุง ูุดุฎุต ูุฑุงุฌุน ูพุงุณโุฏุงุฏูโุดุฏู ุฑุง ููโุฏุงููุ ุจูุงุจุฑุงู ููโุชูุงูู ุจู ูุญุฏูุฏูโูุง ูุงููุฏ ูุณุชโูุง ฑฐ-ฑท ู ฑฐ-ฑธ ูฺฏุงู ฺฉูู ุชุง ุชุนู ฺฉูู ฺฉู ูุฑุฌุน ฺฉู ุจุงุฒูโฺฏุฑุฏุงูู ููุดู ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ. ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ูู ููโุชูุงูุฏ ุงู ููุถูุน ุฑุง ุชุนู ฺฉูุฏ ุฒุฑุง ููโุฏุงูุฏ ฺฺฏููู ุทูู ุนูุฑูุง <code>x</code> ู <code>y</code> ุจู ุทูู ุนูุฑ ููุฏุงุฑ ุจุงุฒฺฏุดุช ูุฑุชุจุท ูุณุชูุฏ. ุจุฑุง ุฑูุน ุงู ุฎุทุงุ ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฌูุฑฺฉ ุงุถุงูู ูโฺฉูู ฺฉู ุฑุงุจุทู ุจู ูุฑุงุฌุน ุฑุง ุชุนุฑู ูโฺฉููุฏ ุชุง ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุจุชูุงูุฏ ุชุญูู ุฎูุฏ ุฑุง ุงูุฌุงู ุฏูุฏ.</p>
<h3 id="ูุญู-ุญุงุดูููุณ-ุทูู-ุนูุฑ"><a class="header" href="#ูุญู-ุญุงุดูููุณ-ุทูู-ุนูุฑ">ูุญู ุญุงุดูโููุณ ุทูู ุนูุฑ</a></h3>
<p>ุญุงุดูโููุณ ุทูู ุนูุฑ ุทูู ุนูุฑ ูฺโฺฉ ุงุฒ ูุฑุงุฌุน ุฑุง ุชุบุฑ ููโุฏูุฏ. ุจูฺฉูุ ุขูโูุง ุฑูุงุจุท ุทูู ุนูุฑูุง ฺูุฏู ูุฑุฌุน ุฑุง ุจุฏูู ุชุฃุซุฑ ุจุฑ ุทูู ุนูุฑูุง ุชูุตู ูโฺฉููุฏ. ููุงูุทูุฑ ฺฉู ุชูุงุจุน ูโุชูุงููุฏ ูุฑ ููุน ุฑุง ุจูพุฐุฑูุฏ ููุช ุงูุถุง ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุฑุง ูุดุฎุต ูโฺฉูุฏุ ุชูุงุจุน ูโุชูุงููุฏ ูุฑุงุฌุน ุจุง ูุฑ ุทูู ุนูุฑ ุฑุง ุจูพุฐุฑูุฏ ุจุง ูุดุฎุต ฺฉุฑุฏู ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฌูุฑฺฉ.</p>
<p>ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุงุฑุง ูุญู ฺฉู ุบุฑูุนููู ุงุณุช: ูุงูโูุง ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุจุงุฏ ุจุง ฺฉ ุขูพุงุณุชุฑูู (<code>'</code>) ุดุฑูุน ุดููุฏ ู ูุนูููุงู ููู ุญุฑูู ฺฉูฺฺฉ ู ุจุณุงุฑ ฺฉูุชุงู ูุณุชูุฏุ ูุงููุฏ ููุนโูุง ุฌูุฑฺฉ. ุจุดุชุฑ ุงูุฑุงุฏ ุงุฒ ูุงู <code>'a</code> ุจุฑุง ุงููู ุญุงุดูโููุณ ุทูู ุนูุฑ ุงุณุชูุงุฏู ูโฺฉููุฏ. ูุง ุญุงุดูโููุณโูุง ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฑุง ุจุนุฏ ุงุฒ <code>&amp;</code> ฺฉ ูุฑุฌุน ูุฑุงุฑ ูโุฏูู ู ุงุฒ ฺฉ ูุงุตูู ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุญุงุดูโููุณ ุงุฒ ููุน ูุฑุฌุน ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ุฏุฑ ุงูุฌุง ฺูุฏ ูุซุงู ุขูุฑุฏู ุดุฏู ุงุณุช: ฺฉ ูุฑุฌุน ุจู ฺฉ <code>i32</code> ุจุฏูู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑุ ฺฉ ูุฑุฌุน ุจู ฺฉ <code>i32</code> ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุจู ูุงู <code>'a</code> ุฏุงุฑุฏุ ู ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ ุจู ฺฉ <code>i32</code> ฺฉู ููฺูู ุทูู ุนูุฑ <code>'a</code> ุฏุงุฑุฏ:</p>
<pre><code class="language-rust ignore">&amp;i32        // ฺฉ ูุฑุฌุน
&amp;'a i32     // ฺฉ ูุฑุฌุน ุจุง ุทูู ุนูุฑ ุตุฑุญ
&amp;'a mut i32 // ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ ุจุง ุทูู ุนูุฑ ุตุฑุญ</code></pre>
<p>ฺฉ ุญุงุดูโููุณ ุทูู ุนูุฑ ุจู ุชููุง ูุนูุง ุฒุงุฏ ูุฏุงุฑุฏ ุฒุฑุง ุญุงุดูโููุณโูุง ุจุฑุง ุชูุถุญ ุฏุงุฏู ุจู Rust ูุณุชูุฏ ฺฉู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฌูุฑฺฉ ฺูุฏู ูุฑุฌุน ฺฺฏููู ุจู ฺฉุฏฺฏุฑ ูุฑุชุจุท ูุณุชูุฏ. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ุญุงุดูโููุณโูุง ุทูู ุนูุฑ ฺฺฏููู ุฏุฑ ุฒููู ุชุงุจุน <code>longest</code> ุจู ฺฉุฏฺฏุฑ ูุฑุชุจุท ูุณุชูุฏ.</p>
<h3 id="ุญุงุดูููุณ-ุทูู-ุนูุฑ-ุฏุฑ-ุงูุถุงูุง-ุชูุงุจุน"><a class="header" href="#ุญุงุดูููุณ-ุทูู-ุนูุฑ-ุฏุฑ-ุงูุถุงูุง-ุชูุงุจุน">ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุฑ ุงูุถุงูุง ุชูุงุจุน</a></h3>
<p>ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุญุงุดูโููุณโูุง ุทูู ุนูุฑ ุฏุฑ ุงูุถุงูุง ุชูุงุจุนุ ุจุงุฏ ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฌูุฑฺฉ ุฑุง ุฏุฑ ุฏุงุฎู ูพุฑุงูุชุฒูุง ุฒุงููโุง ุจู ูุงู ุชุงุจุน ู ูุณุช ูพุงุฑุงูุชุฑ ุงุนูุงู ฺฉููุ ููุงูุทูุฑ ฺฉู ุจุง ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุงูุฌุงู ุฏุงุฏู.</p>
<p>ูุง ูโุฎูุงูู ุงูุถุง ูุญุฏูุฏุช ุฒุฑ ุฑุง ุจุงู ฺฉูุฏ: ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชุง ุฒูุงู ฺฉู ูุฑ ุฏู ูพุงุฑุงูุชุฑ ูุนุชุจุฑ ูุณุชูุฏ ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ. ุงู ุฑุงุจุทู ุจู ุทูู ุนูุฑูุง ูพุงุฑุงูุชุฑูุง ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุณุช. ุทูู ุนูุฑ ุฑุง ุจู ูุงู <code>'a</code> ูโูุงูู ู ุณูพุณ ุขู ุฑุง ุจู ูุฑ ูุฑุฌุน ุงุถุงูู ูโฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฐ-ฒฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}</code></pre></pre>
<figcaption>Listing 10-21: ุชุนุฑู ุชุงุจุน <code>longest</code> ฺฉู ูุดุฎุต ูโฺฉูุฏ ุชูุงู ูุฑุงุฌุน ุฏุฑ ุงูุถุง ุจุงุฏ ุทูู ุนูุฑ ฺฉุณุงู ุจู ูุงู <code>'a</code> ุฏุงุดุชู ุจุงุดูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุจุงุฏ ฺฉุงููพุงู ุดูุฏ ู ูุชุฌู ููุฑุฏ ูุธุฑ ูุง ุฑุง ุฒูุงู ฺฉู ุจุง ุชุงุจุน <code>main</code> ุฏุฑ ูุณุช ฑฐ-ฑน ุงุณุชูุงุฏู ูโฺฉูู ุชููุฏ ฺฉูุฏ.</p>
<p>ุงูุถุง ุชุงุจุน ุงฺฉููู ุจู Rust ูโฺฏูุฏ ฺฉู ุจุฑุง ุจุฑุฎ ุทูู ุนูุฑ <code>'a</code>ุ ุชุงุจุน ุฏู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ ฺฉู ูุฑ ุฏู ูุทุนู ุฑุดุชูโูุง ูุณุชูุฏ ฺฉู ุญุฏุงูู ุจู ูุฏุช ุทูู ุนูุฑ <code>'a</code> ุฒูุฏฺฏ ูโฺฉููุฏ. ุงูุถุง ุชุงุจุน ููฺูู ุจู Rust ูโฺฏูุฏ ฺฉู ูุทุนู ุฑุดุชูโุง ฺฉู ุงุฒ ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ุญุฏุงูู ุจู ูุฏุช ุทูู ุนูุฑ <code>'a</code> ุฒูุฏฺฏ ูโฺฉูุฏ. ุฏุฑ ุนููุ ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุทูู ุนูุฑ ูุฑุฌุน ฺฉู ุชูุณุท ุชุงุจุน <code>longest</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ููุงู ุทูู ุนูุฑ ฺฉูฺฺฉุชุฑ ููุงุฏุฑ ุงุดุงุฑูโุดุฏู ุชูุณุท ุขุฑฺฏููุงูโูุง ุชุงุจุน ุงุณุช. ุงู ุฑูุงุจุท ฺุฒ ุงุณุช ฺฉู ูุง ูโุฎูุงูู Rust ููฺฏุงู ุชุญูู ุงู ฺฉุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏุ ููุช ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฑุง ุฏุฑ ุงู ุงูุถุง ุชุงุจุน ูุดุฎุต ูโฺฉููุ ุทูู ุนูุฑ ูฺโฺฉ ุงุฒ ููุงุฏุฑ ูพุงุณโุฏุงุฏูโุดุฏู ุง ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุฑุง ุชุบุฑ ููโุฏูู. ุจูฺฉูุ ูุดุฎุต ูโฺฉูู ฺฉู ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุจุงุฏ ูุฑ ููุฏุงุฑ ุฑุง ฺฉู ุจู ุงู ูุญุฏูุฏุชโูุง ูพุงุจูุฏ ูุณุช ุฑุฏ ฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุงุจุน <code>longest</code> ูุงุฒ ุจู ุฏุงูุณุชู ุฏูู ุงูฺฉู <code>x</code> ู <code>y</code> ฺูุฏุฑ ุฒูุฏู ุฎูุงููุฏ ูุงูุฏ ูุฏุงุฑุฏุ ุชููุง ุงูฺฉู ุจุฑุฎ ูุญุฏูุฏูโูุง ูโุชูุงููุฏ ุฌุงฺฏุฒู <code>'a</code> ุดููุฏ ฺฉู ุงู ุงูุถุง ุฑุง ุจุฑุขูุฑุฏู ฺฉููุฏ.</p>
<p>ููฺฏุงู ุญุงุดูโููุณ ุทูู ุนูุฑูุง ุฏุฑ ุชูุงุจุนุ ุญุงุดูโููุณโูุง ุฏุฑ ุงูุถุง ุชุงุจุน ูุฑุงุฑ ูโฺฏุฑูุฏุ ูู ุฏุฑ ุจุฏูู ุชุงุจุน. ุญุงุดูโููุณโูุง ุทูู ุนูุฑ ุจุฎุด ุงุฒ ูุฑุงุฑุฏุงุฏ ุชุงุจุน ูโุดููุฏุ ูุดุงุจู ุงููุงุน ููุฌูุฏ ุฏุฑ ุงูุถุง. ุฏุงุดุชู ุงูุถุง ุชุงุจุน ฺฉู ุดุงูู ูุฑุงุฑุฏุงุฏ ุทูู ุนูุฑ ุงุณุช ุจู ุงู ูุนู ุงุณุช ฺฉู ุชุญูู ฺฉู ฺฉุงููพุงูุฑ Rust ุงูุฌุงู ูโุฏูุฏ ูโุชูุงูุฏ ุณุงุฏูโุชุฑ ุจุงุดุฏ. ุงฺฏุฑ ูุดฺฉู ุฏุฑ ูุญูู ุญุงุดูโููุณ ฺฉ ุชุงุจุน ุง ูุญูู ูุฑุงุฎูุงู ุขู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุฎุทุงูุง ฺฉุงููพุงูุฑ ูโุชูุงููุฏ ุจู ุจุฎุด ูุดุฎุต ุงุฒ ฺฉุฏ ูุง ู ูุญุฏูุฏุชโูุง ุงุดุงุฑู ฺฉููุฏ. ุงฺฏุฑุ ุจู ุฌุง ุขูุ ฺฉุงููพุงูุฑ Rust ุงุณุชูุชุงุฌ ุจุดุชุฑ ุฏุฑุจุงุฑู ุขูฺู ฺฉู ูุตุฏ ุฏุงุฑู ุฑูุงุจุท ุทูู ุนูุฑูุง ุจุงุดูุฏ ุงูุฌุงู ุฏูุฏุ ฺฉุงููพุงูุฑ ููฺฉู ุงุณุช ููุท ุจุชูุงูุฏ ุจู ุงุณุชูุงุฏูโุง ุงุฒ ฺฉุฏ ูุง ุงุดุงุฑู ฺฉูุฏ ฺฉู ฺูุฏู ูุฑุญูู ุฏูุฑ ุงุฒ ุนูุช ูุดฺฉู ุจุงุดุฏ.</p>
<p>ููุช ูุฑุงุฌุน ูุดุฎุต ุฑุง ุจู <code>longest</code> ูพุงุณ ูโุฏููุ ุทูู ุนูุฑ ูุดุฎุต ฺฉู ุจุฑุง <code>'a</code> ุฌุงฺฏุฒู ูโุดูุฏ ุจุฎุด ุงุฒ ูุญุฏูุฏู <code>x</code> ุงุณุช ฺฉู ุจุง ูุญุฏูุฏู <code>y</code> ููโูพูุดุงู ุฏุงุฑุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุทูู ุนูุฑ ุฌูุฑฺฉ <code>'a</code> ุทูู ุนูุฑ ูุดุฎุต ุฑุง ูโฺฏุฑุฏ ฺฉู ุจุฑุงุจุฑ ุจุง ฺฉูฺฺฉโุชุฑู ุทูู ุนูุฑูุง <code>x</code> ู <code>y</code> ุงุณุช. ุงุฒ ุขูุฌุง ฺฉู ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุฑุง ุจุง ููุงู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ <code>'a</code> ุญุงุดูโููุณ ฺฉุฑุฏูโุงูุ ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ูุฒ ุจุฑุง ูุฏุช ฺฉูฺฺฉโุชุฑู ุทูู ุนูุฑูุง <code>x</code> ู <code>y</code> ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุจุงุฏ ุจุจูู ุญุงุดูโููุณ ุทูู ุนูุฑูุง ฺฺฏููู ุชุงุจุน <code>longest</code> ุฑุง ูุญุฏูุฏ ูโฺฉูุฏ ุจุง ูพุงุณ ุฏุงุฏู ูุฑุงุฌุน ฺฉู ุทูู ุนูุฑูุง ูุดุฎุต ูุฎุชูู ุฏุงุฑูุฏ. ูุณุช ฑฐ-ฒฒ ฺฉ ูุซุงู ุณุงุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let string1 = String::from("long string is long");

    {
        let string2 = String::from("xyz");
        let result = longest(string1.as_str(), string2.as_str());
        println!("The longest string is {result}");
    }
}
<span class="boring">
</span><span class="boring">fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
</span><span class="boring">    if x.len() &gt; y.len() {
</span><span class="boring">        x
</span><span class="boring">    } else {
</span><span class="boring">        y
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 10-22: ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>longest</code> ุจุง ูุฑุงุฌุน ุจู ููุงุฏุฑ <code>String</code> ฺฉู ุทูู ุนูุฑูุง ูุดุฎุต ูุฎุชูู ุฏุงุฑูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงู ูุซุงูุ <code>string1</code> ุชุง ูพุงุงู ูุญุฏูุฏู ุฎุงุฑุฌ ูุนุชุจุฑ ุงุณุชุ <code>string2</code> ุชุง ูพุงุงู ูุญุฏูุฏู ุฏุงุฎู ูุนุชุจุฑ ุงุณุชุ ู <code>result</code> ุจู ฺุฒ ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ุชุง ูพุงุงู ูุญุฏูุฏู ุฏุงุฎู ูุนุชุจุฑ ุงุณุช. ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฎูุงูุฏ ุฏุฏ ฺฉู ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุขู ุฑุง ุชุฃุฏ ูโฺฉูุฏุ ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏ ู <code>The longest string is long string is long</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุญุงูุ ุจุงุฏ ูุซุงู ุฑุง ุงูุชุญุงู ฺฉูู ฺฉู ูุดุงู ุฏูุฏ ุทูู ุนูุฑ ูุฑุฌุน ุฏุฑ <code>result</code> ุจุงุฏ ฺฉูฺฺฉโุชุฑู ุทูู ุนูุฑ ุฏู ุขุฑฺฏููุงู ุจุงุดุฏ. ุงุนูุงู ูุชุบุฑ <code>result</code> ุฑุง ุจู ุจุฑูู ุงุฒ ูุญุฏูุฏู ุฏุงุฎู ููุชูู ูโฺฉููุ ุงูุง ููุฏุงุฑุฏู ุจู ูุชุบุฑ <code>result</code> ุฑุง ุฏุฑูู ูุญุฏูุฏู ุจุง <code>string2</code> ูฺฏู ูโุฏุงุฑู. ุณูพุณ <code>println!</code> ฺฉู ุงุฒ <code>result</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุฑุง ุจู ุจุฑูู ุงุฒ ูุญุฏูุฏู ุฏุงุฎูุ ูพุณ ุงุฒ ูพุงุงู ูุญุฏูุฏู ุฏุงุฎู ููุชูู ูโฺฉูู. ฺฉุฏ ุฏุฑ ูุณุช ฑฐ-ฒณ ฺฉุงููพุงู ููโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let string1 = String::from("long string is long");
    let result;
    {
        let string2 = String::from("xyz");
        result = longest(string1.as_str(), string2.as_str());
    }
    println!("The longest string is {result}");
}
<span class="boring">
</span><span class="boring">fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
</span><span class="boring">    if x.len() &gt; y.len() {
</span><span class="boring">        x
</span><span class="boring">    } else {
</span><span class="boring">        y
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 10-23: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>result</code> ูพุณ ุงุฒ ุงูฺฉู <code>string2</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ุดุฏู ุงุณุช</figcaption>
</figure>
<p>ููุช ุชูุงุด ูโฺฉูู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉููุ ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0597]: `string2` does not live long enough
 --&gt; src/main.rs:6:44
  |
5 |         let string2 = String::from("xyz");
  |             ------- binding `string2` declared here
6 |         result = longest(string1.as_str(), string2.as_str());
  |                                            ^^^^^^^ borrowed value does not live long enough
7 |     }
  |     - `string2` dropped here while still borrowed
8 |     println!("The longest string is {result}");
  |                                     -------- borrow later used here

For more information about this error, try `rustc --explain E0597`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ุจุฑุง ุงูฺฉู <code>result</code> ุจุฑุง ุฏุณุชูุฑ <code>println!</code> ูุนุชุจุฑ ุจุงุดุฏุ <code>string2</code> ุจุงุฏ ุชุง ูพุงุงู ูุญุฏูุฏู ุฎุงุฑุฌ ูุนุชุจุฑ ุจุงุดุฏ. Rust ุงู ุฑุง ูโุฏุงูุฏ ุฒุฑุง ุทูู ุนูุฑูุง ูพุงุฑุงูุชุฑูุง ุชุงุจุน ู ููุงุฏุฑ ุจุงุฒฺฏุดุช ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุงู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ <code>'a</code> ุญุงุดูโููุณ ฺฉุฑุฏูโุงู.</p>
<p>ุจู ุนููุงู ุงูุณุงูุ ูโุชูุงูู ุจู ุงู ฺฉุฏ ูฺฏุงู ฺฉูู ู ุจุจูู ฺฉู <code>string1</code> ุทููุงูโุชุฑ ุงุฒ <code>string2</code> ุงุณุชุ ู ุจูุงุจุฑุงูุ <code>result</code> ฺฉ ูุฑุฌุน ุจู <code>string1</code> ุฎูุงูุฏ ุฏุงุดุช. ุฒุฑุง <code>string1</code> ูููุฒ ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูุดุฏู ุงุณุชุ ฺฉ ูุฑุฌุน ุจู <code>string1</code> ุจุฑุง ุฏุณุชูุฑ <code>println!</code> ููฺูุงู ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ. ุจุง ุงู ุญุงูุ ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุจุจูุฏ ฺฉู ุงู ูุฑุฌุน ุฏุฑ ุงู ููุฑุฏ ูุนุชุจุฑ ุงุณุช. ูุง ุจู Rust ฺฏูุชูโุงู ฺฉู ุทูู ุนูุฑ ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชูุณุท ุชุงุจุน <code>longest</code> ููุงู ุทูู ุนูุฑ ฺฉูฺฺฉโุชุฑู ูุฑุฌุนโูุง ูพุงุณโุฏุงุฏูโุดุฏู ุงุณุช. ุจูุงุจุฑุงูุ ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ฺฉุฏ ุฏุฑ ูุณุช ฑฐ-ฒณ ุฑุง ุจู ุนููุงู ุฏุงุดุชู ฺฉ ูุฑุฌุน ูุงูุนุชุจุฑ ุงุญุชูุงู ุฑุฏ ูโฺฉูุฏ.</p>
<p>ุณุน ฺฉูุฏ ุขุฒูุงุดโูุง ุจุดุชุฑ ุทุฑุงุญ ฺฉูุฏ ฺฉู ููุงุฏุฑ ู ุทูู ุนูุฑ ูุฑุงุฌุน ูพุงุณโุฏุงุฏูโุดุฏู ุจู ุชุงุจุน <code>longest</code> ู ูุญูู ุงุณุชูุงุฏู ุงุฒ ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุฑุง ุชุบุฑ ุฏููุฏ. ูุฑุถุงุช ุฏุฑุจุงุฑู ุงูฺฉู ุขุง ุขุฒูุงุดโูุง ุดูุง ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุฑุง ูพุงุณ ูโฺฉููุฏ ุง ูู ุงุฌุงุฏ ฺฉูุฏุ ุณูพุณ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง ุฏุฑุณุช ูโฺฏูุฏ!</p>
<h3 id="ุชูฺฉุฑ-ุจุฑ-ุงุณุงุณ-ุทูู-ุนูุฑูุง"><a class="header" href="#ุชูฺฉุฑ-ุจุฑ-ุงุณุงุณ-ุทูู-ุนูุฑูุง">ุชูฺฉุฑ ุจุฑ ุงุณุงุณ ุทูู ุนูุฑูุง</a></h3>
<p>ูุญูู ูุงุฒ ุดูุง ุจู ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุจู ุขูฺู ฺฉู ุชุงุจุน ุดูุง ุงูุฌุงู ูโุฏูุฏ ุจุณุชฺฏ ุฏุงุฑุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>longest</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ููุดู ุงููู ูพุงุฑุงูุชุฑ ุฑุง ุจู ุฌุง ุทููุงูโุชุฑู ูุทุนู ุฑุดุชู ุจุงุฒฺฏุฑุฏุงูุฏุ ูุงุฒ ุจู ูุดุฎุต ฺฉุฑุฏู ุทูู ุนูุฑ ุจุฑุง ูพุงุฑุงูุชุฑ <code>y</code> ูุฎูุงูู ุฏุงุดุช. ฺฉุฏ ุฒุฑ ฺฉุงููพุงู ูโุดูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "efghijklmnopqrstuvwxyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;str) -&gt; &amp;'a str {
    x
}</code></pre></pre>
</figure>
<p>ูุง ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ <code>'a</code> ุจุฑุง ูพุงุฑุงูุชุฑ <code>x</code> ู ููุน ุจุงุฒฺฏุดุช ูุดุฎุต ฺฉุฑุฏูโุงูุ ุงูุง ุจุฑุง ูพุงุฑุงูุชุฑ <code>y</code> ููุ ุฒุฑุง ุทูู ุนูุฑ <code>y</code> ูฺ ุฑุงุจุทูโุง ุจุง ุทูู ุนูุฑ <code>x</code> ุง ููุฏุงุฑ ุจุงุฒฺฏุดุช ูุฏุงุฑุฏ.</p>
<p>ููฺฏุงู ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ ูุฑุฌุน ุงุฒ ฺฉ ุชุงุจุนุ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุจุฑุง ููุน ุจุงุฒฺฏุดุช ุจุงุฏ ุจุง ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุง ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ. ุงฺฏุฑ ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุจู ฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุง ุงุดุงุฑู ูฺฉูุฏุ ุจุงุฏ ุจู ููุฏุงุฑ ฺฉู ุฏุฑ ุงู ุชุงุจุน ุงุฌุงุฏ ุดุฏู ุงุณุช ุงุดุงุฑู ฺฉูุฏ. ุจุง ุงู ุญุงูุ ุงู ฺฉ ูุฑุฌุน ุขูุฒุงู ุฎูุงูุฏ ุจูุฏ ุฒุฑุง ููุฏุงุฑ ุฏุฑ ูพุงุงู ุชุงุจุน ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ. ุจู ุงู ูพุงุฏูโุณุงุฒ ูุงูููู ุชุงุจุน <code>longest</code> ฺฉู ฺฉุงููพุงู ููโุดูุฏ ุชูุฌู ฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest&lt;'a&gt;(x: &amp;str, y: &amp;str) -&gt; &amp;'a str {
    let result = String::from("really long string");
    result.as_str()
}</code></pre>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ุญุช ุงฺฏุฑ ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ <code>'a</code> ุจุฑุง ููุน ุจุงุฒฺฏุดุช ูุดุฎุต ฺฉุฑุฏู ุจุงุดูุ ุงู ูพุงุฏูโุณุงุฒ ฺฉุงููพุงู ููโุดูุฏ ุฒุฑุง ุทูู ุนูุฑ ููุฏุงุฑ ุจุงุฒฺฏุดุช ุจู ูฺ ูุฌู ุจู ุทูู ุนูุฑ ูพุงุฑุงูุชุฑูุง ูุฑุชุจุท ูุณุช. ูพุงู ุฎุทุง ฺฉู ุฏุฑุงูุช ูโฺฉูู ุจู ุงู ุดฺฉู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0515]: cannot return value referencing local variable `result`
  --&gt; src/main.rs:11:5
   |
11 |     result.as_str()
   |     ------^^^^^^^^^
   |     |
   |     returns a value referencing data owned by the current function
   |     `result` is borrowed here

For more information about this error, try `rustc --explain E0515`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>ูุดฺฉู ุงู ุงุณุช ฺฉู <code>result</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ ู ุฏุฑ ูพุงุงู ุชุงุจุน <code>longest</code> ูพุงฺฉ ูโุดูุฏ. ููฺูู ุณุน ูโฺฉูู ฺฉ ูุฑุฌุน ุจู <code>result</code> ุฑุง ุงุฒ ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูู. ูฺ ุฑุงู ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุจุชูุงูู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ูุดุฎุต ฺฉูู ฺฉู ูุฑุฌุน ุขูุฒุงู ุฑุง ุชุบุฑ ุฏูุฏุ ู Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ฺฉ ูุฑุฌุน ุขูุฒุงู ุงุฌุงุฏ ฺฉูู. ุฏุฑ ุงู ููุฑุฏุ ุจูุชุฑู ุฑุงู ุญู ุงู ุงุณุช ฺฉู ฺฉ ููุน ุฏุงุฏู ูุงูฺฉ (owned) ุจู ุฌุง ฺฉ ูุฑุฌุน ุจุงุฒฺฏุฑุฏุงูู ุชุง ุชุงุจุน ูุฑุงุฎูุงูโฺฉููุฏู ูุณุฆูู ูพุงฺฉโุณุงุฒ ููุฏุงุฑ ุจุงุดุฏ.</p>
<p>ุฏุฑ ููุงุชุ ูุญู ุทูู ุนูุฑูุง ุฏุฑุจุงุฑู ุงุฑุชุจุงุท ุฏุงุฏู ุทูู ุนูุฑูุง ูพุงุฑุงูุชุฑูุง ู ููุงุฏุฑ ุจุงุฒฺฏุดุช ุชูุงุจุน ุงุณุช. ููุช ุงู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ุดุฏุ Rust ุงุทูุงุนุงุช ฺฉุงู ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ุนููุงุชโูุง ุงูู ุงุฒ ูุธุฑ ุญุงูุธู ู ููุน ุนููุงุชโูุง ฺฉู ุจุงุนุซ ุงุฌุงุฏ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุขูุฒุงู ุง ููุถ ุงูู ุญุงูุธู ูโุดููุฏุ ุฏุงุฑุฏ.</p>
<h3 id="ุญุงุดูููุณ-ุทูู-ุนูุฑ-ุฏุฑ-ุชุนุฑู-ุณุงุฎุชุงุฑูุง"><a class="header" href="#ุญุงุดูููุณ-ุทูู-ุนูุฑ-ุฏุฑ-ุชุนุฑู-ุณุงุฎุชุงุฑูุง">ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑูุง</a></h3>
<p>ุชุง ฺฉูููุ ุณุงุฎุชุงุฑูุง ฺฉู ุชุนุฑู ฺฉุฑุฏูโุงู ููู ุฏุงุฑุง ููุนโูุง ูุงูฺฉ ุจูุฏูโุงูุฏ. ูโุชูุงูู ุณุงุฎุชุงุฑูุง ุฑุง ุชุนุฑู ฺฉูู ฺฉู ูุฑุงุฌุน ูฺฏู ูโุฏุงุฑูุฏุ ุงูุง ุฏุฑ ุงู ุตูุฑุช ุจุงุฏ ุจุฑุง ูุฑ ูุฑุฌุน ุฏุฑ ุชุนุฑู ุณุงุฎุชุงุฑ ฺฉ ุญุงุดูโููุณ ุทูู ุนูุฑ ุงุถุงูู ฺฉูู. ูุณุช ฑฐ-ฒด ฺฉ ุณุงุฎุชุงุฑ ุจู ูุงู <code>ImportantExcerpt</code> ุฏุงุฑุฏ ฺฉู ฺฉ ูุทุนู ุฑุดุชู ูฺฏู ูโุฏุงุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct ImportantExcerpt&lt;'a&gt; {
    part: &amp;'a str,
}

fn main() {
    let novel = String::from("Call me Ishmael. Some years ago...");
    let first_sentence = novel.split('.').next().unwrap();
    let i = ImportantExcerpt {
        part: first_sentence,
    };
}</code></pre></pre>
<figcaption>Listing 10-24: ฺฉ ุณุงุฎุชุงุฑ ฺฉู ฺฉ ูุฑุฌุน ูฺฏู ูโุฏุงุฑุฏ ู ูุงุฒ ุจู ฺฉ ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุงุฑุฏ</figcaption>
</figure>
<p>ุงู ุณุงุฎุชุงุฑ ุฏุงุฑุง ฺฉ ููุฏ ุจู ูุงู <code>part</code> ุงุณุช ฺฉู ฺฉ ูุทุนู ุฑุดุชู ูฺฏู ูโุฏุงุฑุฏุ ฺฉู ฺฉ ูุฑุฌุน ุงุณุช. ููุงููุฏ ููุนโูุง ุฏุงุฏู ุฌูุฑฺฉุ ูุง ูุงู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฌูุฑฺฉ ุฑุง ุฏุฑ ุฏุงุฎู ูพุฑุงูุชุฒูุง ุฒุงููโุง ุจุนุฏ ุงุฒ ูุงู ุณุงุฎุชุงุฑ ุงุนูุงู ูโฺฉูู ุชุง ุจุชูุงูู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฑุง ุฏุฑ ุจุฏูู ุชุนุฑู ุณุงุฎุชุงุฑ ุงุณุชูุงุฏู ฺฉูู. ุงู ุญุงุดูโููุณ ุจู ุงู ูุนู ุงุณุช ฺฉู ฺฉ ููููู ุงุฒ <code>ImportantExcerpt</code> ููโุชูุงูุฏ ุจุดุชุฑ ุงุฒ ูุฑุฌุน ฺฉู ุฏุฑ ููุฏ <code>part</code> ุฎูุฏ ูฺฏู ูโุฏุงุฑุฏ ุฒูุฏู ุจูุงูุฏ.</p>
<p>ุชุงุจุน <code>main</code> ุฏุฑ ุงูุฌุง ฺฉ ููููู ุงุฒ ุณุงุฎุชุงุฑ <code>ImportantExcerpt</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ฺฉ ูุฑุฌุน ุจู ุงููู ุฌููู ุงุฒ <code>String</code> ฺฉู ุชูุณุท ูุชุบุฑ <code>novel</code> ูฺฏู ุฏุงุดุชู ูโุดูุฏุ ูฺฏู ูโุฏุงุฑุฏ. ุฏุงุฏูโูุง <code>novel</code> ูุจู ุงุฒ ุงุฌุงุฏ ููููู <code>ImportantExcerpt</code> ูุฌูุฏ ุฏุงุฑูุฏ. ุนูุงูู ุจุฑ ุงูุ <code>novel</code> ุชุง ุจุนุฏ ุงุฒ ุฎุฑูุฌ <code>ImportantExcerpt</code> ุงุฒ ูุญุฏูุฏู ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ููโุดูุฏุ ุจูุงุจุฑุงู ูุฑุฌุน ุฏุฑ ููููู <code>ImportantExcerpt</code> ูุนุชุจุฑ ุงุณุช.</p>
<h3 id="ุญุฐู-ุทูู-ุนูุฑ-lifetime-elision"><a class="header" href="#ุญุฐู-ุทูู-ุนูุฑ-lifetime-elision">ุญุฐู ุทูู ุนูุฑ (Lifetime Elision)</a></h3>
<p>ุขููุฎุชุฏ ฺฉู ูุฑ ูุฑุฌุน ุฏุงุฑุง ฺฉ ุทูู ุนูุฑ ุงุณุช ู ุดูุง ุจุงุฏ ุจุฑุง ุชูุงุจุน ุง ุณุงุฎุชุงุฑูุง ฺฉู ุงุฒ ูุฑุงุฌุน ุงุณุชูุงุฏู ูโฺฉููุฏ ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ูุดุฎุต ฺฉูุฏ. ุจุง ุงู ุญุงูุ ูุง ุชุงุจุน ุฏุฑ ูุณุช ด-น ุฏุงุดุชู ฺฉู ุฏูุจุงุฑู ุฏุฑ ูุณุช ฑฐ-ฒต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ฺฉู ุจุฏูู ุญุงุดูโููุณ ุทูู ุนูุฑ ฺฉุงููพุงู ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn first_word(s: &amp;str) -&gt; &amp;str {
    let bytes = s.as_bytes();

    for (i, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &amp;s[0..i];
        }
    }

    &amp;s[..]
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let my_string = String::from("hello world");
</span><span class="boring">
</span><span class="boring">    // first_word works on slices of `String`s
</span><span class="boring">    let word = first_word(&amp;my_string[..]);
</span><span class="boring">
</span><span class="boring">    let my_string_literal = "hello world";
</span><span class="boring">
</span><span class="boring">    // first_word works on slices of string literals
</span><span class="boring">    let word = first_word(&amp;my_string_literal[..]);
</span><span class="boring">
</span><span class="boring">    // Because string literals *are* string slices already,
</span><span class="boring">    // this works too, without the slice syntax!
</span><span class="boring">    let word = first_word(my_string_literal);
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 10-25: ฺฉ ุชุงุจุน ฺฉู ุฏุฑ ูุณุช ด-น ุชุนุฑู ฺฉุฑุฏู ู ุจุฏูู ุญุงุดูโููุณ ุทูู ุนูุฑ ฺฉุงููพุงู ุดุฏุ ุญุช ุจุง ุงูฺฉู ูพุงุฑุงูุชุฑ ู ููุน ุจุงุฒฺฏุดุช ูุฑุงุฌุน ูุณุชูุฏ</figcaption>
</figure>
<p>ุฏูู ุงูฺฉู ุงู ุชุงุจุน ุจุฏูู ุญุงุดูโููุณ ุทูู ุนูุฑ ฺฉุงููพุงู ูโุดูุฏ ุชุงุฑุฎ ุงุณุช: ุฏุฑ ูุณุฎูโูุง ุงููู (ูุจู ุงุฒ 1.0) ุงุฒ Rustุ ุงู ฺฉุฏ ฺฉุงููพุงู ููโุดุฏ ุฒุฑุง ูุฑ ูุฑุฌุน ูุงุฒ ุจู ฺฉ ุทูู ุนูุฑ ุตุฑุญ ุฏุงุดุช. ุฏุฑ ุขู ุฒูุงูุ ุงูุถุง ุชุงุจุน ุจู ุงู ุตูุฑุช ููุดุชู ูโุดุฏ:</p>
<pre><code class="language-rust ignore">fn first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;'a str {</code></pre>
<p>ูพุณ ุงุฒ ููุดุชู ููุฏุงุฑ ุฒุงุฏ ฺฉุฏ Rustุ ุชู Rust ูุชูุฌู ุดุฏ ฺฉู ุจุฑูุงููโููุณุงู Rust ุฏุฑ ูููุนุชโูุง ุฎุงุต ุญุงุดูโููุณโูุง ุทูู ุนูุฑ ฺฉุณุงู ุฑุง ุจุงุฑูุง ู ุจุงุฑูุง ูุงุฑุฏ ูโฺฉุฑุฏูุฏ. ุงู ูููุนุชโูุง ูุงุจู ูพุดโุจู ุจูุฏูุฏ ู ุงุฒ ฺูุฏ ุงูฺฏู ุชุนูโฺฉููุฏู ูพุฑู ูโฺฉุฑุฏูุฏ. ุชูุณุนูโุฏููุฏฺฏุงู ุงู ุงูฺฏููุง ุฑุง ุฏุฑ ฺฉุฏ ฺฉุงููพุงูุฑ ุจุฑูุงููโุฑุฒ ฺฉุฑุฏูุฏ ุชุง ุจุฑุฑุณโฺฉููุฏู ูุฑุถ ุจุชูุงูุฏ ุทูู ุนูุฑูุง ุฑุง ุฏุฑ ุงู ูููุนุชโูุง ุงุณุชูุชุงุฌ ฺฉูุฏ ู ูุงุฒ ุจู ุญุงุดูโููุณ ุตุฑุญ ูุจุงุดุฏ.</p>
<p>ุงู ุจุฎุด ุงุฒ ุชุงุฑุฎ Rust ูุฑุชุจุท ุงุณุช ุฒุฑุง ููฺฉู ุงุณุช ุงูฺฏููุง ุชุนูโฺฉููุฏู ุจุดุชุฑ ุธุงูุฑ ุดููุฏ ู ุจู ฺฉุงููพุงูุฑ ุงุถุงูู ุดููุฏ. ุฏุฑ ุขูุฏูุ ุญุช ุญุงุดูโููุณโูุง ุทูู ุนูุฑ ฺฉูุชุฑ ููฺฉู ุงุณุช ูุงุฒู ุจุงุดุฏ.</p>
<p>ุงูฺฏููุง ฺฉู ุฏุฑ ุชุญูู ูุฑุงุฌุน Rust ุจุฑูุงููโุฑุฒ ุดุฏูโุงูุฏ <em>ููุงูู ุญุฐู ุทูู ุนูุฑ</em> (lifetime elision rules) ูุงูุฏู ูโุดููุฏ. ุงูโูุง ููุงูู ูุณุชูุฏ ฺฉู ุจุฑูุงููโููุณุงู ุจุงุฏ ุฑุนุงุช ฺฉููุฏุ ุจูฺฉู ูุฌููุนูโุง ุงุฒ ููุงุฑุฏ ุฎุงุต ูุณุชูุฏ ฺฉู ฺฉุงููพุงูุฑ ุขูโูุง ุฑุง ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ ู ุงฺฏุฑ ฺฉุฏ ุดูุง ุจุง ุงู ููุงุฑุฏ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ูุงุฒ ุจู ููุดุชู ุทูู ุนูุฑูุง ุจู ุตูุฑุช ุตุฑุญ ูุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ููุงูู ุญุฐู ุทูู ุนูุฑ ุงุณุชูุชุงุฌ ฺฉุงูู ุงุฑุงุฆู ููโุฏููุฏ. ุงฺฏุฑ ูพุณ ุงุฒ ุงุนูุงู ููุงูู ุชูุณุท Rust ููฺูุงู ุงุจูุงู ุฏุฑ ููุฑุฏ ุทูู ุนูุฑ ูุฑุงุฌุน ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ฺฉุงููพุงูุฑ ุญุฏุณ ููโุฒูุฏ ฺฉู ุทูู ุนูุฑ ุจุงูโูุงูุฏู ฺู ุจุงุฏ ุจุงุดุฏ. ุจู ุฌุง ุญุฏุณ ุฒุฏูุ ฺฉุงููพุงูุฑ ุจู ุดูุง ุฎุทุง ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ุจุง ุงูุฒูุฏู ุญุงุดูโููุณโูุง ุทูู ุนูุฑ ุขู ุฑุง ุจุฑุทุฑู ฺฉูุฏ.</p>
<p>ุทูู ุนูุฑูุง ุฑู ูพุงุฑุงูุชุฑูุง ุชุงุจุน ุง ูุชุฏ <em>ุทูู ุนูุฑ ูุฑูุฏ</em> (input lifetimes) ูุงูุฏู ูโุดููุฏุ ู ุทูู ุนูุฑูุง ุฑู ููุงุฏุฑ ุจุงุฒฺฏุดุช <em>ุทูู ุนูุฑ ุฎุฑูุฌ</em> (output lifetimes) ูุงูุฏู ูโุดููุฏ.</p>
<p>ฺฉุงููพุงูุฑ ุงุฒ ุณู ูุงููู ุจุฑุง ุชุดุฎุต ุทูู ุนูุฑ ูุฑุงุฌุน ุงุณุชูุงุฏู ูโฺฉูุฏ ููุช ฺฉู ุญุงุดูโููุณโูุง ุตุฑุญ ูุฌูุฏ ูุฏุงุฑูุฏ. ูุงููู ุงูู ุจุฑุง ุทูู ุนูุฑูุง ูุฑูุฏ ุงุนูุงู ูโุดูุฏุ ู ูุงููู ุฏูู ู ุณูู ุจุฑุง ุทูู ุนูุฑูุง ุฎุฑูุฌ. ุงฺฏุฑ ฺฉุงููพุงูุฑ ุจู ุงูุชูุง ุงู ุณู ูุงููู ุจุฑุณุฏ ู ูููุฒ ูุฑุงุฌุน ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ ฺฉู ูุชูุงูุฏ ุทูู ุนูุฑูุง ุขูโูุง ุฑุง ุชุดุฎุต ุฏูุฏุ ฺฉุงููพุงูุฑ ุจุง ฺฉ ุฎุทุง ูุชููู ูโุดูุฏ. ุงู ููุงูู ุจู ุชุนุงุฑู <code>fn</code> ู ููฺูู ุจููฺฉโูุง <code>impl</code> ุงุนูุงู ูโุดููุฏ.</p>
<ul>
<li><strong>ูุงููู ุงูู</strong>: ฺฉุงููพุงูุฑ ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุจู ูุฑ ูพุงุฑุงูุชุฑ ฺฉู ฺฉ ูุฑุฌุน ุงุณุช ุงุฎุชุตุงุต ูโุฏูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ฺฉ ุชุงุจุน ุจุง ฺฉ ูพุงุฑุงูุชุฑ ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ูโฺฏุฑุฏ: <code>fn foo&lt;'a&gt;(x: &amp;'a i32)</code>ุ ฺฉ ุชุงุจุน ุจุง ุฏู ูพุงุฑุงูุชุฑ ุฏู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฌุฏุงฺฏุงูู ูโฺฏุฑุฏ: <code>fn foo&lt;'a, 'b&gt;(x: &amp;'a i32, y: &amp;'b i32)</code>ุ ู ุจู ููู ุชุฑุชุจ.</li>
<li><strong>ูุงููู ุฏูู</strong>: ุงฺฏุฑ ุฏููุงู ฺฉ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ูุฑูุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุขู ุทูู ุนูุฑ ุจู ุชูุงู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฎุฑูุฌ ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏ: <code>fn foo&lt;'a&gt;(x: &amp;'a i32) -&gt; &amp;'a i32</code>.</li>
<li><strong>ูุงููู ุณูู</strong>: ุงฺฏุฑ ฺูุฏู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ูุฑูุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุงูุง ฺฉ ุงุฒ ุขูโูุง <code>&amp;self</code> ุง <code>&amp;mut self</code> ุจุงุดุฏ ุฒุฑุง ุงู ฺฉ ูุชุฏ ุงุณุชุ ุทูู ุนูุฑ <code>self</code> ุจู ุชูุงู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฎุฑูุฌ ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏ. ุงู ูุงููู ุณูู ุฎูุงูุฏู ู ููุดุชู ูุชุฏูุง ุฑุง ุจุณุงุฑ ุขุณุงูโุชุฑ ูโฺฉูุฏ ุฒุฑุง ููุงุฏูุง ฺฉูุชุฑ ูุงุฒู ุงุณุช.</li>
</ul>
<p>ุจุงุฏ ูุงูููุฏ ฺฉูู ฺฉู ูุง ฺฉุงููพุงูุฑ ูุณุชู. ุงู ููุงูู ุฑุง ุจุฑุง ุชุดุฎุต ุทูู ุนูุฑ ูุฑุงุฌุน ุฏุฑ ุงูุถุง ุชุงุจุน <code>first_word</code> ุฏุฑ ูุณุช ฑฐ-ฒต ุงุนูุงู ูโฺฉูู. ุงูุถุง ุจุฏูู ูฺ ุทูู ุนูุฑ ฺฉู ุจุง ูุฑุงุฌุน ูุฑุชุจุท ุจุงุดุฏ ุดุฑูุน ูโุดูุฏ:</p>
<pre><code class="language-rust ignore">fn first_word(s: &amp;str) -&gt; &amp;str {</code></pre>
<p>ุณูพุณ ฺฉุงููพุงูุฑ ูุงููู ุงูู ุฑุง ุงุนูุงู ูโฺฉูุฏ ฺฉู ูุดุฎุต ูโฺฉูุฏ ูุฑ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฎุงุต ุฎูุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ. ูุง ุขู ุฑุง ุทุจู ูุนููู <code>'a</code> ูโูุงููุ ุจูุงุจุฑุงู ุงูุถุง ุงฺฉููู ุจู ุงู ุตูุฑุช ุงุณุช:</p>
<pre><code class="language-rust ignore">fn first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;str {</code></pre>
<p>ูุงููู ุฏูู ุงุนูุงู ูโุดูุฏ ุฒุฑุง ุฏููุงู ฺฉ ุทูู ุนูุฑ ูุฑูุฏ ูุฌูุฏ ุฏุงุฑุฏ. ูุงููู ุฏูู ูุดุฎุต ูโฺฉูุฏ ฺฉู ุทูู ุนูุฑ ฺฉ ูพุงุฑุงูุชุฑ ูุฑูุฏ ุจู ุทูู ุนูุฑ ุฎุฑูุฌ ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏุ ุจูุงุจุฑุงู ุงูุถุง ุงฺฉููู ุจู ุงู ุตูุฑุช ุงุณุช:</p>
<pre><code class="language-rust ignore">fn first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;'a str {</code></pre>
<p>ุญุงูุง ุชูุงู ูุฑุงุฌุน ุฏุฑ ุงู ุงูุถุง ุชุงุจุน ุทูู ุนูุฑ ุฏุงุฑูุฏ ู ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุชุญูู ุฎูุฏ ุฑุง ุจุฏูู ูุงุฒ ุจู ุจุฑูุงููโููุณ ุจุฑุง ุญุงุดูโููุณ ุทูู ุนูุฑูุง ุฏุฑ ุงู ุงูุถุง ุชุงุจุน ุงุฏุงูู ุฏูุฏ.</p>
<p>ุจุงุฏ ุจู ฺฉ ูุซุงู ุฏฺฏุฑ ูฺฏุงู ฺฉููุ ุงู ุจุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>longest</code> ฺฉู ุฏุฑ ุงุจุชุฏุง ูฺ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ูุฏุงุดุชุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฐ-ฒฐ ฺฉุงุฑ ุฎูุฏ ุฑุง ุจุง ุขู ุดุฑูุน ฺฉุฑุฏู:</p>
<pre><code class="language-rust ignore">fn longest(x: &amp;str, y: &amp;str) -&gt; &amp;str {</code></pre>
<p>ุจุงุฏ ูุงููู ุงูู ุฑุง ุงุนูุงู ฺฉูู: ูุฑ ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุฎุงุต ุฎูุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ. ุงู ุจุงุฑ ุฏู ูพุงุฑุงูุชุฑ ุฏุงุฑูุ ุจูุงุจุฑุงู ุฏู ุทูู ุนูุฑ ุฏุงุฑู:</p>
<pre><code class="language-rust ignore">fn longest&lt;'a, 'b&gt;(x: &amp;'a str, y: &amp;'b str) -&gt; &amp;str {</code></pre>
<p>ูโุจูุฏ ฺฉู ูุงููู ุฏูู ุงุนูุงู ููโุดูุฏ ุฒุฑุง ุจุด ุงุฒ ฺฉ ุทูู ุนูุฑ ูุฑูุฏ ูุฌูุฏ ุฏุงุฑุฏ. ูุงููู ุณูู ูุฒ ุงุนูุงู ููโุดูุฏ ุฒุฑุง <code>longest</code> ฺฉ ุชุงุจุน ุงุณุช ู ูู ฺฉ ูุชุฏุ ุจูุงุจุฑุงู ูฺ ฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุง <code>self</code> ูุณุชูุฏ. ูพุณ ุงุฒ ุนุจูุฑ ุงุฒ ุชูุงู ุณู ูุงูููุ ูููุฒ ุทูู ุนูุฑ ููุน ุจุงุฒฺฏุดุช ุฑุง ุชุนู ูฺฉุฑุฏูโุงู. ุจู ููู ุฏูู ุงุณุช ฺฉู ููฺฏุงู ุชูุงุด ุจุฑุง ฺฉุงููพุงู ฺฉุฏ ุฏุฑ ูุณุช ฑฐ-ฒฐ ุฎุทุง ฺฏุฑูุชู: ฺฉุงููพุงูุฑ ููุงูู ุญุฐู ุทูู ุนูุฑ ุฑุง ูุฑูุฑ ฺฉุฑุฏ ุงูุง ููฺูุงู ูุชูุงูุณุช ุชูุงู ุทูู ุนูุฑูุง ูุฑุงุฌุน ุฏุฑ ุงูุถุง ุฑุง ุชุนู ฺฉูุฏ.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุงููู ุณูู ูุงูุนุงู ููุท ุฏุฑ ุงูุถุงูุง ูุชุฏ ุงุนูุงู ูโุดูุฏุ ุจู ุจุฑุฑุณ ุทูู ุนูุฑูุง ุฏุฑ ุขู ุฒููู ูโูพุฑุฏุงุฒู ุชุง ุจุจูู ฺุฑุง ูุงููู ุณูู ุจุงุนุซ ูโุดูุฏ ฺฉู ุงุบูุจ ูุงุฒ ุจู ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุฑ ุงูุถุงูุง ูุชุฏ ูุฏุงุดุชู ุจุงุดู.</p>
<h3 id="ุญุงุดูููุณ-ุทูู-ุนูุฑ-ุฏุฑ-ุชุนุฑู-ูุชุฏูุง"><a class="header" href="#ุญุงุดูููุณ-ุทูู-ุนูุฑ-ุฏุฑ-ุชุนุฑู-ูุชุฏูุง">ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุฑ ุชุนุฑู ูุชุฏูุง</a></h3>
<p>ููุช ูุชุฏูุง ุฑุง ุฑู ฺฉ ุณุงุฎุชุงุฑ ุจุง ุทูู ุนูุฑูุง ูพุงุฏูโุณุงุฒ ูโฺฉููุ ุงุฒ ููุงู ูุญู ฺฉู ุจุฑุง ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุฏุฑ ูุณุช ฑฐ-ฑฑ ุงุณุชูุงุฏู ุดุฏู ุงุณุชุ ุจูุฑู ูโุจุฑู. ุฌุง ฺฉู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฑุง ุงุนูุงู ู ุงุณุชูุงุฏู ูโฺฉูู ุจู ุงู ุจุณุชฺฏ ุฏุงุฑุฏ ฺฉู ุขุง ุขูโูุง ุจู ููุฏูุง ุณุงุฎุชุงุฑ ุง ุจู ูพุงุฑุงูุชุฑูุง ู ููุงุฏุฑ ุจุงุฒฺฏุดุช ูุชุฏ ูุฑุจูุท ูุณุชูุฏ ุง ุฎุฑ.</p>
<p>ูุงูโูุง ุทูู ุนูุฑ ุจุฑุง ููุฏูุง ุณุงุฎุชุงุฑ ููุดู ุจุงุฏ ุจุนุฏ ุงุฒ ฺฉููู ฺฉูุฏ <code>impl</code> ุงุนูุงู ุดููุฏ ู ุณูพุณ ุจุนุฏ ุงุฒ ูุงู ุณุงุฎุชุงุฑ ุงุณุชูุงุฏู ุดููุฏุ ุฒุฑุง ุงู ุทูู ุนูุฑูุง ุจุฎุด ุงุฒ ููุน ุณุงุฎุชุงุฑ ูุณุชูุฏ.</p>
<p>ุฏุฑ ุงูุถุงูุง ูุชุฏ ุฏุฑ ุฏุงุฎู ุจููฺฉ <code>impl</code>ุ ูุฑุงุฌุน ููฺฉู ุงุณุช ุจู ุทูู ุนูุฑ ูุฑุงุฌุน ุฏุฑ ููุฏูุง ุณุงุฎุชุงุฑ ูุฑุชุจุท ุจุงุดูุฏุ ุง ููฺฉู ุงุณุช ูุณุชูู ุจุงุดูุฏ. ุนูุงูู ุจุฑ ุงูุ ููุงูู ุญุฐู ุทูู ุนูุฑ ุงุบูุจ ุจุงุนุซ ูโุดููุฏ ฺฉู ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุฑ ุงูุถุงูุง ูุชุฏ ุถุฑูุฑ ูุจุงุดุฏ. ุจุงุฏ ุจู ฺูุฏ ูุซุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑ <code>ImportantExcerpt</code> ฺฉู ุฏุฑ ูุณุช ฑฐ-ฒด ุชุนุฑู ฺฉุฑุฏูุ ูฺฏุงู ฺฉูู.</p>
<p>ุงุจุชุฏุง ุงุฒ ูุชุฏ ุจู ูุงู <code>level</code> ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุชููุง ูพุงุฑุงูุชุฑ ุขู ูุฑุฌุน ุจู <code>self</code> ุงุณุช ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุขู ฺฉ <code>i32</code> ุงุณุช ฺฉู ุจู ฺุฒ ุงุดุงุฑู ููโฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    part: &amp;'a str,
</span><span class="boring">}
</span><span class="boring">
</span>impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
    fn level(&amp;self) -&gt; i32 {
        3
    }
}
<span class="boring">
</span><span class="boring">impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    fn announce_and_return_part(&amp;self, announcement: &amp;str) -&gt; &amp;str {
</span><span class="boring">        println!("Attention please: {announcement}");
</span><span class="boring">        self.part
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let novel = String::from("Call me Ishmael. Some years ago...");
</span><span class="boring">    let first_sentence = novel.split('.').next().unwrap();
</span><span class="boring">    let i = ImportantExcerpt {
</span><span class="boring">        part: first_sentence,
</span><span class="boring">    };
</span><span class="boring">}</span></code></pre></pre>
<p>ุงุนูุงู ูพุงุฑุงูุชุฑ ุทูู ุนูุฑ ุจุนุฏ ุงุฒ <code>impl</code> ู ุงุณุชูุงุฏู ุงุฒ ุขู ุจุนุฏ ุงุฒ ูุงู ููุน ุงูุฒุงู ุงุณุชุ ุงูุง ูุง ูุงุฒ ุจู ุญุงุดูโููุณ ุทูู ุนูุฑ ูุฑุฌุน ุจู <code>self</code> ูุฏุงุฑู ุฒุฑุง ูุงููู ุงูู ุญุฐู ุงุนูุงู ูโุดูุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ูุซุงู ุงุณุช ฺฉู ูุงููู ุณูู ุญุฐู ุทูู ุนูุฑ ุงุนูุงู ูโุดูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    part: &amp;'a str,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    fn level(&amp;self) -&gt; i32 {
</span><span class="boring">        3
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
    fn announce_and_return_part(&amp;self, announcement: &amp;str) -&gt; &amp;str {
        println!("Attention please: {announcement}");
        self.part
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let novel = String::from("Call me Ishmael. Some years ago...");
</span><span class="boring">    let first_sentence = novel.split('.').next().unwrap();
</span><span class="boring">    let i = ImportantExcerpt {
</span><span class="boring">        part: first_sentence,
</span><span class="boring">    };
</span><span class="boring">}</span></code></pre></pre>
<p>ุฏู ุทูู ุนูุฑ ูุฑูุฏ ูุฌูุฏ ุฏุงุฑุฏุ ุจูุงุจุฑุงู Rust ูุงููู ุงูู ุญุฐู ุทูู ุนูุฑ ุฑุง ุงุนูุงู ูโฺฉูุฏ ู ุทูู ุนูุฑูุง ุฌุฏุงฺฏุงููโุง ุจู <code>&amp;self</code> ู <code>announcement</code> ูโุฏูุฏ. ุณูพุณุ ฺูู ฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุง <code>&amp;self</code> ุงุณุชุ ููุน ุจุงุฒฺฏุดุช ุทูู ุนูุฑ <code>&amp;self</code> ุฑุง ุฏุฑุงูุช ูโฺฉูุฏุ ู ุชูุงู ุทูู ุนูุฑูุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏูโุงูุฏ.</p>
<h3 id="ุทูู-ุนูุฑ-ุงุณุชุงุชฺฉ"><a class="header" href="#ุทูู-ุนูุฑ-ุงุณุชุงุชฺฉ">ุทูู ุนูุฑ ุงุณุชุงุชฺฉ</a></h3>
<p>ฺฉ ุทูู ุนูุฑ ุฎุงุต ฺฉู ุจุงุฏ ุฏุฑุจุงุฑู ุขู ุตุญุจุช ฺฉูู <code>'static</code> ุงุณุชุ ฺฉู ูุดุงู ูโุฏูุฏ ูุฑุฌุน ููุฑุฏ ูุธุฑ <em>ูโุชูุงูุฏ</em> ุจุฑุง ฺฉู ูุฏุช ุงุฌุฑุง ุจุฑูุงูู ุฒูุฏู ุจูุงูุฏ. ุชูุงู ุฑุดุชูโูุง ูุชุฑ ุฏุงุฑุง ุทูู ุนูุฑ <code>'static</code> ูุณุชูุฏุ ฺฉู ูโุชูุงูู ุขู ุฑุง ุจู ุงู ุตูุฑุช ุญุงุดูโููุณ ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s: &amp;'static str = "I have a static lifetime.";
<span class="boring">}</span></code></pre></pre>
<p>ูุชู ุงู ุฑุดุชู ูุณุชููุงู ุฏุฑ ุจุงูุฑ ุจุฑูุงูู ุฐุฎุฑู ูโุดูุฏุ ฺฉู ููุดู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ุจูุงุจุฑุงูุ ุทูู ุนูุฑ ุชูุงู ุฑุดุชูโูุง ูุชุฑ <code>'static</code> ุงุณุช.</p>
<p>ููฺฉู ุงุณุช ุฏุฑ ูพุงูโูุง ุฎุทุง ูพุดููุงุฏูุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุทูู ุนูุฑ <code>'static</code> ุจุจูุฏ. ุงูุง ูุจู ุงุฒ ูุดุฎุต ฺฉุฑุฏู ุทูู ุนูุฑ <code>'static</code> ุจุฑุง ฺฉ ูุฑุฌุนุ ูฺฉุฑ ฺฉูุฏ ฺฉู ุขุง ูุฑุฌุน ฺฉู ุฏุงุฑุฏ ูุงูุนุงู ุจุฑุง ฺฉู ูุฏุช ุงุฌุฑุง ุจุฑูุงูู ุฒูุฏู ุงุณุช ุง ุฎุฑุ ู ุขุง ูโุฎูุงูุฏ ฺูู ุจุงุดุฏ. ุจุดุชุฑ ุงููุงุชุ ฺฉ ูพุงู ุฎุทุง ฺฉู ุทูู ุนูุฑ <code>'static</code> ุฑุง ูพุดููุงุฏ ูโุฏูุฏ ูุชุฌู ุชูุงุด ุจุฑุง ุงุฌุงุฏ ฺฉ ูุฑุฌุน ุขูุฒุงู ุง ูุงุณุงุฒฺฏุงุฑ ุทูู ุนูุฑูุง ููุฌูุฏ ุงุณุช. ุฏุฑ ฺูู ููุงุฑุฏุ ุฑุงู ุญู ุงู ุงุณุช ฺฉู ุงู ูุดฺฉูุงุช ุฑุง ุจุฑุทุฑู ฺฉูุฏุ ูู ุงูฺฉู ุทูู ุนูุฑ <code>'static</code> ุฑุง ูุดุฎุต ฺฉูุฏ.</p>
<h2 id="ูพุงุฑุงูุชุฑูุง-ููุน-ุฌูุฑฺฉ-ูุญุฏูุฏุช-ูฺฺฏ-ู-ุทูู-ุนูุฑูุง-ุจุง-ูู"><a class="header" href="#ูพุงุฑุงูุชุฑูุง-ููุน-ุฌูุฑฺฉ-ูุญุฏูุฏุช-ูฺฺฏ-ู-ุทูู-ุนูุฑูุง-ุจุง-ูู">ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉุ ูุญุฏูุฏุช ูฺฺฏุ ู ุทูู ุนูุฑูุง ุจุง ูู</a></h2>
<p>ุจุงุฏ ุจู ุทูุฑ ูุฎุชุตุฑ ุจู ูุญู ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉุ ูุญุฏูุฏุช ูฺฺฏุ ู ุทูู ุนูุฑูุง ุฏุฑ ฺฉ ุชุงุจุน ูฺฏุงู ฺฉูู!</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest_with_an_announcement(
</span><span class="boring">        string1.as_str(),
</span><span class="boring">        string2,
</span><span class="boring">        "Today is someone's birthday!",
</span><span class="boring">    );
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>use std::fmt::Display;

fn longest_with_an_announcement&lt;'a, T&gt;(
    x: &amp;'a str,
    y: &amp;'a str,
    ann: T,
) -&gt; &amp;'a str
where
    T: Display,
{
    println!("Announcement! {ann}");
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}</code></pre></pre>
<p>ุงู ุชุงุจุน <code>longest</code> ุงุฒ ูุณุช ฑฐ-ฒฑ ุงุณุช ฺฉู ุทููุงูโุชุฑู ูุทุนู ุฑุดุชู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงูุง ุงฺฉููู ฺฉ ูพุงุฑุงูุชุฑ ุงุถุงู ุจู ูุงู <code>ann</code> ุฏุงุฑุฏ ฺฉู ุงุฒ ููุน ุฌูุฑฺฉ <code>T</code> ุงุณุชุ ฺฉู ูโุชูุงูุฏ ุจุง ูุฑ ููุน ฺฉู ูฺฺฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูพุฑ ุดูุฏุ ููุงูุทูุฑ ฺฉู ุชูุณุท ุจูุฏ <code>where</code> ูุดุฎุต ุดุฏู ุงุณุช. ุงู ูพุงุฑุงูุชุฑ ุงุถุงู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>{}</code> ฺุงูพ ุฎูุงูุฏ ุดุฏุ ุจู ููู ุฏูู ูุญุฏูุฏุช ูฺฺฏ <code>Display</code> ุถุฑูุฑ ุงุณุช. ุงุฒ ุขูุฌุง ฺฉู ุทูู ุนูุฑูุง ููุน ุฌูุฑฺฉ ูุณุชูุฏุ ุงุนูุงู ุทูู ุนูุฑ <code>'a</code> ู ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ <code>T</code> ุฏุฑ ููุงู ูุณุช ุฏุงุฎู ูพุฑุงูุชุฒูุง ุฒุงููโุง ุจุนุฏ ุงุฒ ูุงู ุชุงุจุน ูุฑุงุฑ ูโฺฏุฑูุฏ.</p>
<h2 id="ุฎูุงุตู-9"><a class="header" href="#ุฎูุงุตู-9">ุฎูุงุตู</a></h2>
<p>ุฏุฑ ุงู ูุตู ูุทุงูุจ ุฒุงุฏ ุฑุง ูพูุดุด ุฏุงุฏู! ุญุงูุง ฺฉู ุจุง ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉุ ูฺฺฏโูุง ู ูุญุฏูุฏุชโูุง ูฺฺฏุ ู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ุฌูุฑฺฉ ุขุดูุง ุดุฏุฏุ ุขูุงุฏู ูุณุชุฏ ุชุง ฺฉุฏ ุจุฏูู ุชฺฉุฑุงุฑ ุจููุณุฏ ฺฉู ุฏุฑ ุจุณุงุฑ ุงุฒ ูููุนุชโูุง ูุฎุชูู ฺฉุงุฑ ฺฉูุฏ. ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉู ฺฉุฏ ุฑุง ุฑู ุงููุงุน ูุฎุชูู ุงุนูุงู ฺฉูุฏ. ูฺฺฏโูุง ู ูุญุฏูุฏุชโูุง ูฺฺฏ ุงุทููุงู ุญุงุตู ูโฺฉููุฏ ฺฉู ุญุช ุจุง ุงูฺฉู ููุนโูุง ุฌูุฑฺฉ ูุณุชูุฏุ ุฑูุชุงุฑ ููุฑุฏ ูุงุฒ ฺฉุฏ ุฑุง ุฎูุงููุฏ ุฏุงุดุช. ุดูุง ุงุฏ ฺฏุฑูุชุฏ ฺฺฏููู ุงุฒ ุญุงุดูโููุณ ุทูู ุนูุฑ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ุงู ฺฉุฏ ุงูุนุทุงูโูพุฐุฑ ูฺ ูุฑุฌุน ุขูุฒุงู ูุฎูุงูุฏ ุฏุงุดุช. ู ุชูุงู ุงู ุชุญููโูุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงูุฌุงู ูโุดูุฏุ ฺฉู ุจุฑ ุนููฺฉุฑุฏ ุฒูุงู ุงุฌุฑุง ุชุฃุซุฑ ูุฏุงุฑุฏ!</p>
<p>ุจุงูุฑ ฺฉูุฏ ุง ููุ ูุทุงูุจ ุจุดุชุฑ ุจุฑุง ุงุฏฺฏุฑ ุฏุฑ ููุฑุฏ ููุถูุนุงุช ฺฉู ุฏุฑ ุงู ูุตู ุจุญุซ ุดุฏ ูุฌูุฏ ุฏุงุฑุฏ: ูุตู ฑธ ุจู ุงุดุงุก ูฺฺฏ (trait objects) ูโูพุฑุฏุงุฒุฏุ ฺฉู ุฑุงู ุฏฺฏุฑ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏโูุง ุงุณุช. ููฺูู ุณูุงุฑููุง ูพฺุฏูโุชุฑ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุดุงูู ุญุงุดูโููุณ ุทูู ุนูุฑ ูุณุชูุฏ ู ููุท ุฏุฑ ุณูุงุฑููุง ุจุณุงุฑ ูพุดุฑูุชู ุจู ุขูโูุง ูุงุฒ ุฎูุงูุฏ ุฏุงุดุช. ุจุฑุง ุงู ููุงุฑุฏุ ุจุงุฏ <a href="../reference/index.html">ูุฑุฌุน Rust</a> ุฑุง ูุทุงูุนู ฺฉูุฏ. ุงูุง ุจุนุฏ ุงุฒ ุงูุ ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช ฺฉู ฺฺฏููู ุชุณุชโูุง ุฏุฑ Rust ุจููุณุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉุฏ ุดูุง ููุงูุทูุฑ ฺฉู ุจุงุฏ ฺฉุงุฑ ูโฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ููุดุชู-ุชุณุชูุง-ุฎูุฏฺฉุงุฑ"><a class="header" href="#ููุดุชู-ุชุณุชูุง-ุฎูุฏฺฉุงุฑ">ููุดุชู ุชุณุชโูุง ุฎูุฏฺฉุงุฑ</a></h1>
<p>ุฏุฑ ููุงููโุง ุฏุฑ ุณุงู ฑนทฒ ุจู ูุงู โThe Humble Programmerโุ Edsger W. Dijkstra ฺฏูุช:<br />
ยซุขุฒูุงุด ุจุฑูุงูู ูโุชูุงูุฏ ุฑุงู ุจุณุงุฑ ูุคุซุฑ ุจุฑุง ูุดุงู ุฏุงุฏู ูุฌูุฏ ุจุงฺฏโูุง ุจุงุดุฏุ ุงูุง ุจุฑุง ูุดุงู ุฏุงุฏู ุนุฏู ูุฌูุฏ ุขูโูุง ฺฉุงููุงู ูุงฺฉุงู ุงุณุช.ยป<br />
ุงู ุจู ุงู ูุนู ูุณุช ฺฉู ูุจุงุฏ ุชูุงุด ฺฉูู ุชุง ุฌุง ฺฉู ููฺฉู ุงุณุช ุขุฒูุงุด ฺฉูู!</p>
<p>ุฏุฑุณุช ุฏุฑ ุจุฑูุงููโูุง ูุง ูุฒุงู ุงูุทุจุงู ฺฉุฏ ูุง ุจุง ุขูฺู ฺฉู ูุตุฏ ุงูุฌุงูุด ุฑุง ุฏุงุฑูุ ุงุณุช. Rust ุจุง ูฺฏุฑุงู ุจุงูุง ุฏุฑุจุงุฑู ุฏุฑุณุช ุจุฑูุงููโูุง ุทุฑุงุญ ุดุฏู ุงุณุชุ ุงูุง ุฏุฑุณุช ูพฺุฏู ู ุงุซุจุงุช ุขู ุขุณุงู ูุณุช. ุณุณุชู ููุน Rust ุจุฎุด ุนุธู ุงุฒ ุงู ุจุงุฑ ุฑุง ุจู ุฏูุด ูโฺฉุดุฏุ ุงูุง ุณุณุชู ููุน ููโุชูุงูุฏ ููู ฺุฒ ุฑุง ูพูุดุด ุฏูุฏ. ุจู ููู ุฏููุ Rust ุดุงูู ูพุดุชุจุงู ุจุฑุง ููุดุชู ุชุณุชโูุง ุฎูุฏฺฉุงุฑ ูุฑูโุงูุฒุงุฑ ุงุณุช.</p>
<p>ูุฑุถ ฺฉูุฏ ฺฉ ุชุงุจุน ุจู ูุงู <code>add_two</code> ูโููุณู ฺฉู ฒ ุฑุง ุจู ูุฑ ุนุฏุฏ ฺฉู ุจู ุขู ูพุงุณ ุฏุงุฏู ุดูุฏ ุงุถุงูู ูโฺฉูุฏ. ุงูุถุง ุงู ุชุงุจุน ฺฉ ุนุฏุฏ ุตุญุญ ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโูพุฐุฑุฏ ู ฺฉ ุนุฏุฏ ุตุญุญ ุจู ุนููุงู ูุชุฌู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ููฺฏุงู ฺฉู ุงู ุชุงุจุน ุฑุง ูพุงุฏูโุณุงุฒ ู ฺฉุงููพุงู ูโฺฉููุ Rust ุชูุงู ุจุฑุฑุณโูุง ููุน ู ูุฑุถโฺฏุฑ ุฑุง ฺฉู ุชุง ฺฉููู ุขููุฎุชูโุงุฏ ุงูุฌุงู ูโุฏูุฏ ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉูุ ุจู ุนููุงู ูุซุงูุ ูุง ฺฉ ููุฏุงุฑ <code>String</code> ุง ฺฉ ูุฑุฌุน ูุงูุนุชุจุฑ ุฑุง ุจู ุงู ุชุงุจุน ูพุงุณ ููโุฏูู. ุงูุง Rust <em>ููโุชูุงูุฏ</em> ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุงู ุชุงุจุน ุฏููุงู ููุงู ฺฉุงุฑ ุฑุง ฺฉู ูุง ูุตุฏ ุฏุงุฑู ุงูุฌุงู ุฏูุฏุ ฺฉู ุจุงุฒฺฏุฑุฏุงูุฏู ูพุงุฑุงูุชุฑ ุจู ุนูุงูู ฒ ุงุณุช ูู ูุซูุงู ูพุงุฑุงูุชุฑ ุจู ุนูุงูู ฑฐ ุง ูพุงุฑุงูุชุฑ ูููุง ตฐ! ุงูุฌุง ุฌุง ุงุณุช ฺฉู ุชุณุชโูุง ูุงุฑุฏ ูโุดููุฏ.</p>
<p>ูุง ูโุชูุงูู ุชุณุชโูุง ุจููุณู ฺฉูุ ุจู ุนููุงู ูุซุงูุ ุชุฃุฏ ูโฺฉููุฏ ฺฉู ููุช <code>3</code> ุฑุง ุจู ุชุงุจุน <code>add_two</code> ูพุงุณ ูโุฏููุ ููุฏุงุฑ ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู <code>5</code> ุงุณุช. ูโุชูุงูู ุงู ุชุณุชโูุง ุฑุง ูุฑ ุฒูุงู ฺฉู ุชุบุฑ ุฏุฑ ฺฉุฏ ุฎูุฏ ุงุฌุงุฏ ูโฺฉูู ุงุฌุฑุง ฺฉูู ุชุง ูุทูุฆู ุดูู ฺฉู ูุฑ ุฑูุชุงุฑ ุฏุฑุณุช ฺฉู ูุฌูุฏ ุฏุงุดุชู ุชุบุฑ ูฺฉุฑุฏู ุงุณุช.</p>
<p>ุชุณุชโููุณ ฺฉ ููุงุฑุช ูพฺุฏู ุงุณุช: ุงฺฏุฑฺู ููโุชูุงูู ุฏุฑ ฺฉ ูุตู ุชูุงู ุฌุฒุฆุงุช ูุฑุจูุท ุจู ูุญูู ููุดุชู ุชุณุชโูุง ุฎูุจ ุฑุง ูพูุดุด ุฏููุ ุฏุฑ ุงู ูุตู ุฏุฑุจุงุฑู ูฺฉุงูฺฉ ุชุณููุงุช ุชุณุช Rust ุจุญุซ ุฎูุงูู ฺฉุฑุฏ. ุฏุฑุจุงุฑู ุญุงุดูโููุณโูุง ู ูุงฺฉุฑููุง ฺฉู ููฺฏุงู ููุดุชู ุชุณุชโูุง ุฏุฑ ุงุฎุชุงุฑ ุฏุงุฑุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏุ ุฑูุชุงุฑ ูพุดโูุฑุถ ู ฺฏุฒููโูุง ุงุฑุงุฆูโุดุฏู ุจุฑุง ุงุฌุฑุง ุชุณุชโูุง ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ู ูุญูู ุณุงุฒูุงูุฏู ุชุณุชโูุง ุจู ุชุณุชโูุง ูุงุญุฏ ู ุชุณุชโูุง ฺฉูพุงุฑฺู ุฑุง ุงุฏ ุฎูุงูู ฺฏุฑูุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฺฏููู-ุชุณุช-ุจููุณู"><a class="header" href="#ฺฺฏููู-ุชุณุช-ุจููุณู">ฺฺฏููู ุชุณุช ุจููุณู</a></h2>
<p>ุชุณุชโูุง ุชูุงุจุน ุฏุฑ Rust ูุณุชูุฏ ฺฉู ุจุฑุฑุณ ูโฺฉููุฏ ฺฉุฏ ุบุฑุชุณุช ุจู ุดฺฉู ููุฑุฏ ุงูุชุธุงุฑ ฺฉุงุฑ ูโฺฉูุฏ. ุจุฏูู ุชูุงุจุน ุชุณุช ูุนูููุงู ุงู ุณู ุนูู ุฑุง ุงูุฌุงู ูโุฏูุฏ:</p>
<ul>
<li>ุชูุธู ูุฑ ุฏุงุฏู ุง ูุถุนุช ููุฑุฏ ูุงุฒ.</li>
<li>ุงุฌุฑุง ฺฉุฏ ฺฉู ูโุฎูุงูุฏ ุชุณุช ฺฉูุฏ.</li>
<li>ุชุฃุฏ ุงูฺฉู ูุชุงุฌ ููุงู ฺุฒ ุงุณุช ฺฉู ุงูุชุธุงุฑ ุฏุงุฑุฏ.</li>
</ul>
<p>ุจุงุฏ ุจู ูฺฺฏโูุง ฺฉู Rust ุจู ุทูุฑ ุฎุงุต ุจุฑุง ููุดุชู ุชุณุชโูุง ฺฉู ุงู ุงูุฏุงูุงุช ุฑุง ุงูุฌุงู ูโุฏููุฏ ูุฑุงูู ฺฉุฑุฏู ุงุณุช ูฺฏุงู ุจูุฏุงุฒู. ุงู ูฺฺฏโูุง ุดุงูู ูฺฺฏ <code>test</code>ุ ฺูุฏ ูุงฺฉุฑู ู ูฺฺฏ <code>should_panic</code> ูุณุชูุฏ.</p>
<h3 id="ุขูุงุชูู-ฺฉ-ุชุงุจุน-ุชุณุช"><a class="header" href="#ุขูุงุชูู-ฺฉ-ุชุงุจุน-ุชุณุช">ุขูุงุชูู ฺฉ ุชุงุจุน ุชุณุช</a></h3>
<p>ุฏุฑ ุณุงุฏูโุชุฑู ุญุงูุชุ ฺฉ ุชุณุช ุฏุฑ Rust ฺฉ ุชุงุจุน ุงุณุช ฺฉู ุจุง ูฺฺฏ <code>test</code> ุญุงุดูโููุณ ุดุฏู ุงุณุช. ูฺฺฏโูุง ูุชุงุฏุงุฏูโูุง ุฏุฑุจุงุฑู ุจุฎุดโูุง ฺฉุฏ Rust ูุณุชูุฏุ ฺฉ ูุซุงู ูฺฺฏ <code>derive</code> ุงุณุช ฺฉู ุฏุฑ ูุตู ต ุจุง ุณุงุฎุชุงุฑูุง ุงุณุชูุงุฏู ฺฉุฑุฏู. ุจุฑุง ุชุบุฑ ฺฉ ุชุงุจุน ุจู ฺฉ ุชุงุจุน ุชุณุชุ <code>#[test]</code> ุฑุง ุจู ุฎุท ูุจู ุงุฒ <code>fn</code> ุงุถุงูู ฺฉูุฏ. ููุช ุชุณุชโูุง ุฎูุฏ ุฑุง ุจุง ูุฑูุงู <code>cargo test</code> ุงุฌุฑุง ูโฺฉูุฏุ Rust ฺฉ ุจุงูุฑ ุชุณุช ุฑุงูุฑ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุชูุงุจุน ุญุงุดูโููุณโุดุฏู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ู ฺฏุฒุงุฑุด ูโุฏูุฏ ฺฉู ุขุง ูุฑ ุชุงุจุน ุชุณุช ูููู ุง ูุงูููู ุจูุฏู ุงุณุช.</p>
<p>ูุฑ ุฒูุงู ฺฉู ฺฉ ูพุฑูฺู ฺฉุชุงุจุฎุงููโุง ุฌุฏุฏ ุจุง Cargo ุงุฌุงุฏ ูโฺฉููุ ฺฉ ูุงฺูู ุชุณุช ุจุง ฺฉ ุชุงุจุน ุชุณุช ุฏุฑ ุขู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑุง ูุง ุชููุฏ ูโุดูุฏ. ุงู ูุงฺูู ฺฉ ูุงูุจ ุจุฑุง ููุดุชู ุชุณุชโูุง ุดูุง ูุฑุงูู ูโฺฉูุฏ ุชุง ูุงุฒ ุจู ุฌุณุชุฌู ุณุงุฎุชุงุฑ ู ูุญู ุฏูู ูุฑ ุจุงุฑ ฺฉู ฺฉ ูพุฑูฺู ุฌุฏุฏ ุดุฑูุน ูโฺฉูุฏ ูุฏุงุดุชู ุจุงุดุฏ. ูโุชูุงูุฏ ูุฑ ุชุนุฏุงุฏ ุชุงุจุน ุชุณุช ุงุถุงู ู ูุฑ ุชุนุฏุงุฏ ูุงฺูู ุชุณุช ุงุถุงู ฺฉู ูโุฎูุงูุฏ ุงุถุงูู ฺฉูุฏ!</p>
<p>ูุง ุจุฑุฎ ุงุฒ ุฌูุจูโูุง ูุญูู ุนููฺฉุฑุฏ ุชุณุชโูุง ุฑุง ุจุง ุขุฒูุงุด ูุงูุจ ุชุณุช ูุจู ุงุฒ ุงูฺฉู ูุงูุนุงู ฺฉุฏ ุฑุง ุชุณุช ฺฉูู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุณูพุณ ุชุณุชโูุง ุฏุฑ ุฏูุง ูุงูุน ูโููุณู ฺฉู ุจุฑุฎ ฺฉุฏูุง ฺฉู ููุดุชูโุงู ุฑุง ูุฑุงุฎูุงู ูโฺฉููุฏ ู ุชุฃุฏ ูโฺฉููุฏ ฺฉู ุฑูุชุงุฑ ุขู ุตุญุญ ุงุณุช.</p>
<p>ุจุงุฏ ฺฉ ูพุฑูฺู ฺฉุชุงุจุฎุงููโุง ุฌุฏุฏ ุจู ูุงู <code>adder</code> ุงุฌุงุฏ ฺฉูู ฺฉู ุฏู ุนุฏุฏ ุฑุง ุจุง ูู ุฌูุน ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo new adder --lib
     Created library `adder` project
$ cd adder
</code></pre>
<p>ูุญุชูุงุช ูุงู <em>src/lib.rs</em> ุฏุฑ ฺฉุชุงุจุฎุงูู <code>adder</code> ุดูุง ุจุงุฏ ุดุจู ุจู ูุณุช ฑฑ-ฑ ุจุงุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<!-- manual-regeneration
cd listings/ch11-writing-automated-tests
rm -rf listing-11-01
cargo new listing-11-01 --lib --name adder
cd listing-11-01
echo "$ cargo test" > output.txt
RUSTFLAGS="-A unused_variables -A dead_code" RUST_TEST_THREADS=1 cargo test >> output.txt 2>&1
git diff output.txt # commit any relevant changes; discard irrelevant ones
cd ../../..
-->
<pre><code class="language-rust noplayground">pub fn add(left: u64, right: u64) -&gt; u64 {
    left + right
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn it_works() {
        let result = add(2, 2);
        assert_eq!(result, 4);
    }
}</code></pre>
<figcaption>Listing 11-1: ฺฉุฏ ฺฉู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชูุณุท <code>cargo new</code> ุชููุฏ ูโุดูุฏ</figcaption>
</figure>
<p>ุงู ูุงู ุจุง ฺฉ ุชุงุจุน ููููู ุจู ูุงู <code>add</code> ุดุฑูุน ูโุดูุฏ ุชุง ฺุฒ ุจุฑุง ุชุณุช ฺฉุฑุฏู ุฏุงุดุชู ุจุงุดู.</p>
<p>ูุนูุงู ุฑู ุชุงุจุน <code>it_works</code> ุชูุฑฺฉุฒ ูโฺฉูู. ุจู ุญุงุดูโููุณ <code>#[test]</code> ุชูุฌู ฺฉูุฏ: ุงู ูฺฺฏ ูุดุงู ูโุฏูุฏ ฺฉู ุงู ฺฉ ุชุงุจุน ุชุณุช ุงุณุชุ ุจูุงุจุฑุงู ุชุณุช ุฑุงูุฑ ูโุฏุงูุฏ ฺฉู ุงู ุชุงุจุน ุฑุง ุจู ุนููุงู ฺฉ ุชุณุช ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. ููฺฉู ุงุณุช ุชูุงุจุน ุบุฑุชุณุช ูุฒ ุฏุฑ ูุงฺูู <code>tests</code> ุฏุงุดุชู ุจุงุดู ฺฉู ุจู ุชูุธู ุณูุงุฑููุง ูุดุชุฑฺฉ ุง ุงูุฌุงู ุนููุงุชโูุง ูุดุชุฑฺฉ ฺฉูฺฉ ูโฺฉููุฏุ ุจูุงุจุฑุงู ููุดู ุจุงุฏ ูุดุฎุต ฺฉูู ฺฉุฏุงู ุชูุงุจุน ุชุณุช ูุณุชูุฏ.</p>
<p>ุจุฏูู ุชุงุจุน ููููู ุงุฒ ูุงฺฉุฑู <code>assert_eq!</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู <code>result</code>ุ ฺฉู ุญุงู ูุชุฌู ูุฑุงุฎูุงู <code>add</code> ุจุง ููุงุฏุฑ ฒ ู ฒ ุงุณุชุ ุจุฑุงุจุฑ ุจุง ด ุจุงุดุฏ. ุงู ุงุทููุงู ุจู ุนููุงู ฺฉ ูุซุงู ุงุฒ ูุฑูุช ฺฉ ุชุณุช ูุนููู ุนูู ูโฺฉูุฏ. ุจุงุฏ ุขู ุฑุง ุงุฌุฑุง ฺฉูู ุชุง ุจุจูู ุงู ุชุณุช ูพุงุณ ูโุดูุฏ.</p>
<p>ูุฑูุงู <code>cargo test</code> ุชูุงู ุชุณุชโูุง ูพุฑูฺู ูุง ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฑ-ฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.57s
     Running unittests src/lib.rs (file:///projects/adder/target/debug/deps/adder-7acb243c25ffd9dc)

running 1 test
test tests::it_works ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
</code></pre>
<figcaption>Listing 11-2: ุฎุฑูุฌ ุงุฌุฑุง ุชุณุช ฺฉู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชููุฏ ุดุฏู ุงุณุช</figcaption>
</figure>
<p>Cargo ุชุณุช ุฑุง ฺฉุงููพุงู ู ุงุฌุฑุง ฺฉุฑุฏ. ุฎุท <code>running 1 test</code> ุฑุง ูโุจูู. ุฎุท ุจุนุฏ ูุงู ุชุงุจุน ุชุณุช ุชููุฏุดุฏู ุฑุง ูุดุงู ูโุฏูุฏุ ฺฉู <code>tests::it_works</code> ูุงู ุฏุงุฑุฏุ ู ูุชุฌู ุงุฌุฑุง ุขู ุชุณุช <code>ok</code> ุงุณุช. ุฎูุงุตู ฺฉู <code>test result: ok.</code> ูุดุงู ูโุฏูุฏ ฺฉู ุชูุงู ุชุณุชโูุง ูพุงุณ ุดุฏูโุงูุฏุ ู ุจุฎุด ฺฉู <code>1 passed; 0 failed</code> ุฑุง ูโุฎูุงูุฏ ุชุนุฏุงุฏ ุชุณุชโูุง ฺฉู ูพุงุณ ุดุฏูโุงูุฏ ุง ูุงูููู ุจูุฏูโุงูุฏ ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<p>ุงู ุงูฺฉุงู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ฺฉ ุชุณุช ุฑุง ุจู ุนููุงู ูุงุฏุฏูโฺฏุฑูุชูโุดุฏู ุนูุงูุชโฺฏุฐุงุฑ ฺฉูู ุชุง ุฏุฑ ฺฉ ููููู ุฎุงุต ุงุฌุฑุง ูุดูุฏุ ูุง ุงู ููุฑุฏ ุฑุง ุฏุฑ ุจุฎุด <a href="ch11-02-running-tests.html#ignoring-some-tests-unless-specifically-requested">โูุงุฏุฏูโฺฏุฑูุชู ุจุฑุฎ ุชุณุชโูุง ูฺฏุฑ ุงูฺฉู ุตุฑุญุงู ุฏุฑุฎูุงุณุช ุดููุฏโ</a><!-- ignore --> ุฏุฑ ุงุฏุงูู ุงู ูุตู ูพูุดุด ุฎูุงูู ุฏุงุฏ. ฺูู ุงูุฌุง ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูุฏุงุฏูโุงูุ ุฎูุงุตู <code>0 ignored</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<p>ุขูุงุฑ <code>0 measured</code> ุจุฑุง ุชุณุชโูุง ุจูฺูุงุฑฺฉ ุงุณุช ฺฉู ุนููฺฉุฑุฏ ุฑุง ุงูุฏุงุฒูโฺฏุฑ ูโฺฉููุฏ. ุชุณุชโูุง ุจูฺูุงุฑฺฉุ ุฏุฑ ุฒูุงู ููุดุชู ุงู ูุชูุ ููุท ุฏุฑ ูุณุฎู ุดุจุงูู Rust ููุฌูุฏ ูุณุชูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ูุณุชูุฏุงุช ูุฑุจูุท ุจู <a href="../unstable-book/library-features/test.html">ุชุณุชโูุง ุจูฺูุงุฑฺฉ</a> ุฑุง ุจุจูุฏ.</p>
<p>ูุง ูโุชูุงูู ฺฉ ุขุฑฺฏููุงู ุจู ูุฑูุงู <code>cargo test</code> ุจุฏูู ุชุง ููุท ุชุณุชโูุง ฺฉู ูุงู ุขูโูุง ุจุง ฺฉ ุฑุดุชู ูุทุงุจูุช ุฏุงุฑุฏ ุงุฌุฑุง ุดููุฏุ ุงู ุจู <em>ููุชุฑ ฺฉุฑุฏู</em> ูุนุฑูู ุงุณุช ู ูุง ุขู ุฑุง ุฏุฑ ุจุฎุด <a href="ch11-02-running-tests.html#running-a-subset-of-tests-by-name">โุงุฌุฑุง ุฒุฑูุฌููุนูโุง ุงุฒ ุชุณุชโูุง ุจุง ูุงูโ</a><!-- ignore --> ูพูุดุด ุฎูุงูู ุฏุงุฏ. ุงูุฌุง ูุง ุชุณุชโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฑุง ููุชุฑ ูฺฉุฑุฏูโุงูุ ุจูุงุจุฑุงู ูพุงุงู ุฎูุงุตู <code>0 filtered out</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<p>ูุณูุช ุจุนุฏ ุฎุฑูุฌ ุชุณุช ฺฉู ุจุง <code>Doc-tests adder</code> ุดุฑูุน ูโุดูุฏุ ูุชุงุฌ ูุฑ ุชุณุช ูุณุชูุฏุงุช ุฑุง ูุดุงู ูโุฏูุฏ. ูููุฒ ูฺ ุชุณุช ูุณุชูุฏุงุช ูุฏุงุฑูุ ุงูุง Rust ูโุชูุงูุฏ ูุฑ ููููู ฺฉุฏ ฺฉู ุฏุฑ ูุณุชูุฏุงุช API ูุง ุธุงูุฑ ูโุดูุฏ ุฑุง ฺฉุงููพุงู ฺฉูุฏ. ุงู ูฺฺฏ ุจู ููฺฏุงู ูฺฏู ุฏุงุดุชู ูุณุชูุฏุงุช ู ฺฉุฏ ุดูุง ฺฉูฺฉ ูโฺฉูุฏ! ูุง ูุญูู ููุดุชู ุชุณุชโูุง ูุณุชูุฏุงุช ุฑุง ุฏุฑ ุจุฎุด <a href="ch14-02-publishing-to-crates-io.html#documentation-comments-as-tests">โุชูุถุญุงุช ูุณุชูุฏุงุช ุจู ุนููุงู ุชุณุชโูุงโ</a><!-- ignore --> ุงุฒ ูุตู ฑด ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ุฎุฑูุฌ <code>Doc-tests</code> ุฑุง ูุงุฏุฏู ูโฺฏุฑู.</p>
<p>ุจุงุฏ ุชุณุช ุฑุง ูุทุงุจู ูุงุฒูุง ุฎูุฏ ุดุฎุตโุณุงุฒ ฺฉูู. ุงุจุชุฏุง ูุงู ุชุงุจุน <code>it_works</code> ุฑุง ุจู ฺฉ ูุงู ุฏฺฏุฑุ ูุงููุฏ <code>exploration</code> ุชุบุฑ ุฏูุฏุ ุจู ุงู ุตูุฑุช:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust noplayground">pub fn add(left: u64, right: u64) -&gt; u64 {
    left + right
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn exploration() {
        let result = add(2, 2);
        assert_eq!(result, 4);
    }
}</code></pre>
<p>ุณูพุณ ุฏูุจุงุฑู <code>cargo test</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุฎุฑูุฌ ุงฺฉููู ุจู ุฌุง <code>it_works</code> ูุงู <code>exploration</code> ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.59s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 1 test
test tests::exploration ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุญุงูุง ฺฉ ุชุณุช ุฏฺฏุฑ ุงุถุงูู ูโฺฉููุ ุงูุง ุงู ุจุงุฑ ุชุณุช ูโููุณู ฺฉู ุดฺฉุณุช ุจุฎูุฑุฏ! ุชุณุชโูุง ุฒูุงู ุดฺฉุณุช ูโุฎูุฑูุฏ ฺฉู ฺุฒ ุฏุฑ ุชุงุจุน ุชุณุช ุจุงุนุซ ุงุฌุงุฏ panic ุดูุฏ. ูุฑ ุชุณุช ุฏุฑ ฺฉ ูุฎ (thread) ุฌุฏุฏ ุงุฌุฑุง ูโุดูุฏุ ู ููุช ูุฎ ุงุตู ูโุจูุฏ ฺฉู ฺฉ ูุฎ ุชุณุช ูุชููู ุดุฏู ุงุณุชุ ุชุณุช ุจู ุนููุงู ุดฺฉุณุชโุฎูุฑุฏู ุนูุงูุชโฺฏุฐุงุฑ ูโุดูุฏ. ุฏุฑ ูุตู นุ ุฏุฑุจุงุฑู ุงูฺฉู ุณุงุฏูโุชุฑู ุฑุงู ุจุฑุง panic ฺฉุฑุฏู ูุฑุงุฎูุงู ูุงฺฉุฑู <code>panic!</code> ุงุณุช ุตุญุจุช ฺฉุฑุฏู. ุชุงุจุน ุฌุฏุฏ ุจู ูุงู <code>another</code> ูุงุฑุฏ ฺฉูุฏ ุชุง ูุงู <em>src/lib.rs</em> ุดูุง ุดุจู ุจู ูุณุช ฑฑ-ณ ุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust panics noplayground">pub fn add(left: u64, right: u64) -&gt; u64 {
    left + right
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn exploration() {
        let result = add(2, 2);
        assert_eq!(result, 4);
    }

    #[test]
    fn another() {
        panic!("Make this test fail");
    }
}</code></pre>
<figcaption>Listing 11-3: ุงุถุงูู ฺฉุฑุฏู ฺฉ ุชุณุช ุฏูู ฺฉู ุจู ุฏูู ูุฑุงุฎูุงู ูุงฺฉุฑู <code>panic!</code> ุดฺฉุณุช ูโุฎูุฑุฏ</figcaption>
</figure>
<p>ุฏูุจุงุฑู ุชุณุชโูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo test</code> ุงุฌุฑุง ฺฉูุฏ. ุฎุฑูุฌ ุจุงุฏ ุดุจู ุจู ูุณุช ฑฑ-ด ุจุงุดุฏุ ฺฉู ูุดุงู ูโุฏูุฏ ุชุณุช <code>exploration</code> ูููู ุดุฏู ุงุณุช ู <code>another</code> ุดฺฉุณุช ุฎูุฑุฏู ุงุณุช.</p>
<figure class="listing">
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.72s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 2 tests
test tests::another ... FAILED
test tests::exploration ... ok

failures:

---- tests::another stdout ----
thread 'tests::another' panicked at src/lib.rs:17:9:
Make this test fail
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::another

test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<figcaption>Listing 11-4: ูุชุงุฌ ุชุณุช ุฒูุงู ฺฉู ฺฉ ุชุณุช ูููู ูโุดูุฏ ู ฺฉ ุชุณุช ุดฺฉุณุช ูโุฎูุฑุฏ</figcaption>
</figure>
<p>ุจู ุฌุง <code>ok</code>ุ ุฎุท <code>test tests::another</code> ูุดุงู ูโุฏูุฏ <code>FAILED</code>. ุฏู ุจุฎุด ุฌุฏุฏ ุจู ูุชุงุฌ ูุฑุฏ ู ุฎูุงุตู ุธุงูุฑ ูโุดูุฏ: ุจุฎุด ุงูู ุฏูู ุฏูู ุดฺฉุณุช ูุฑ ุชุณุช ุฑุง ูุดุงู ูโุฏูุฏ. ุฏุฑ ุงู ููุฑุฏุ ูุง ุฌุฒุฆุงุช ุฑุง ุฏุฑุงูุช ูโฺฉูู ฺฉู <code>another</code> ุจู ุฏูู <code>panicked at 'Make this test fail'</code> ุฏุฑ ุฎุท ฑท ูุงู <em>src/lib.rs</em> ุดฺฉุณุช ุฎูุฑุฏู ุงุณุช. ุจุฎุด ุจุนุฏ ููุท ูุงู ุชูุงู ุชุณุชโูุง ุดฺฉุณุชโุฎูุฑุฏู ุฑุง ูุณุช ูโฺฉูุฏุ ฺฉู ููุช ุชุนุฏุงุฏ ุฒุงุฏ ุชุณุช ู ุฎุฑูุฌโูุง ุดฺฉุณุชโุฎูุฑุฏู ุฒุงุฏ ูุณุชูุฏ ููุฏ ุงุณุช. ูุง ูโุชูุงูู ูุงู ฺฉ ุชุณุช ุดฺฉุณุชโุฎูุฑุฏู ุฑุง ุจุฑุง ุงุฌุฑุง ููุท ููุงู ุชุณุช ุงุณุชูุงุฏู ฺฉูู ุชุง ุฑุงุญุชโุชุฑ ุขู ุฑุง ุงุดฺฉุงูโุฒุฏุง ฺฉููุ ูุง ุฏุฑ ุจุฎุด <a href="ch11-02-running-tests.html#controlling-how-tests-are-run">โฺฉูุชุฑู ูุญูู ุงุฌุฑุง ุชุณุชโูุงโ</a><!-- ignore --> ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุฑูุดโูุง ุงุฌุฑุง ุชุณุชโูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุฎุท ุฎูุงุตู ุฏุฑ ุงูุชูุง ููุงุด ุฏุงุฏู ูโุดูุฏ: ุจู ุทูุฑ ฺฉูุ ูุชุฌู ุชุณุช ูุง <code>FAILED</code> ุงุณุช. ฺฉ ุชุณุช ูููู ุดุฏ ู ฺฉ ุชุณุช ุดฺฉุณุช ุฎูุฑุฏ.</p>
<p>ุญุงูุง ฺฉู ุฏุฏุฏ ูุชุงุฌ ุชุณุช ุฏุฑ ุณูุงุฑููุง ูุฎุชูู ฺฺฏููู ุจู ูุธุฑ ูโุฑุณูุฏุ ุจุงุฏ ุจู ุจุฑุฎ ุงุฒ ูุงฺฉุฑููุง ุฏฺฏุฑ ุจู ุฌุฒ <code>panic!</code> ฺฉู ุฏุฑ ุชุณุชโูุง ููุฏ ูุณุชูุฏ ูฺฏุงู ุจูุฏุงุฒู.</p>
<h3 id="ุจุฑุฑุณ-ูุชุงุฌ-ุจุง-ูุงฺฉุฑู-assert"><a class="header" href="#ุจุฑุฑุณ-ูุชุงุฌ-ุจุง-ูุงฺฉุฑู-assert">ุจุฑุฑุณ ูุชุงุฌ ุจุง ูุงฺฉุฑู <code>assert!</code></a></h3>
<p>ูุงฺฉุฑู <code>assert!</code> ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ุดุฏู ุงุณุชุ ุฒูุงู ููุฏ ุงุณุช ฺฉู ุจุฎูุงูุฏ ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ฺฉ ุดุฑุท ุฏุฑ ฺฉ ุชุณุช ุจู <code>true</code> ุงุฑุฒุงุจ ูโุดูุฏ. ูุงฺฉุฑู <code>assert!</code> ฺฉ ุขุฑฺฏููุงู ูโฺฏุฑุฏ ฺฉู ุจู ฺฉ ููุฏุงุฑ ุจูู ุงุฑุฒุงุจ ูโุดูุฏ. ุงฺฏุฑ ููุฏุงุฑ <code>true</code> ุจุงุดุฏุ ูฺ ุงุชูุงู ููโุงูุชุฏ ู ุชุณุช ูพุงุณ ูโุดูุฏ. ุงฺฏุฑ ููุฏุงุฑ <code>false</code> ุจุงุดุฏุ ูุงฺฉุฑู <code>assert!</code> ูุฑุงุฎูุงู <code>panic!</code> ุฑุง ุงูุฌุงู ูโุฏูุฏ ุชุง ุจุงุนุซ ุดฺฉุณุช ุชุณุช ุดูุฏ. ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert!</code> ุจู ูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุจุฑุฑุณ ฺฉูู ฺฉู ฺฉุฏ ูุง ููุงูุทูุฑ ฺฉู ูุตุฏ ุฏุงุฑู ุนูู ูโฺฉูุฏ.</p>
<p>ุฏุฑ ูุตู ตุ ูุณุช ต-ฑตุ ุงุฒ ฺฉ ุณุงุฎุชุงุฑ <code>Rectangle</code> ู ฺฉ ูุชุฏ <code>can_hold</code> ุงุณุชูุงุฏู ฺฉุฑุฏูุ ฺฉู ุฏุฑ ูุณุช ฑฑ-ต ุฏูุจุงุฑู ุชฺฉุฑุงุฑ ุดุฏู ุงุณุช. ุงู ฺฉุฏ ุฑุง ุฏุฑ ูุงู <em>src/lib.rs</em> ูุฑุงุฑ ุฏูุฏุ ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert!</code> ฺูุฏ ุชุณุช ุจุฑุง ุขู ุจููุณุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {
        self.width &gt; other.width &amp;&amp; self.height &gt; other.height
    }
}</code></pre>
<figcaption>Listing 11-5: ุณุงุฎุชุงุฑ <code>Rectangle</code> ู ูุชุฏ <code>can_hold</code> ุขู ุงุฒ ูุตู ต</figcaption>
</figure>
<p>ูุชุฏ <code>can_hold</code> ฺฉ ููุฏุงุฑ ุจูู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ฺฉ ููุฑุฏ ุงุณุชูุงุฏู ุนุงู ุจุฑุง ูุงฺฉุฑู <code>assert!</code> ุงุณุช. ุฏุฑ ูุณุช ฑฑ-ถุ ูุง ุชุณุช ูโููุณู ฺฉู ูุชุฏ <code>can_hold</code> ุฑุง ุจุง ุงุฌุงุฏ ฺฉ ููููู ุงุฒ <code>Rectangle</code> ฺฉู ุนุฑุถ ธ ู ุงุฑุชูุงุน ท ุฏุงุฑุฏ ุขุฒูุงุด ูโฺฉูุฏ ู ุชุฃุฏ ูโฺฉูุฏ ฺฉู ูโุชูุงูุฏ ููููู ุฏฺฏุฑ ุงุฒ <code>Rectangle</code> ฺฉู ุนุฑุถ ต ู ุงุฑุชูุงุน ฑ ุฏุงุฑุฏ ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Rectangle {
</span><span class="boring">    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {
</span><span class="boring">        self.width &gt; other.width &amp;&amp; self.height &gt; other.height
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn larger_can_hold_smaller() {
        let larger = Rectangle {
            width: 8,
            height: 7,
        };
        let smaller = Rectangle {
            width: 5,
            height: 1,
        };

        assert!(larger.can_hold(&amp;smaller));
    }
}</code></pre>
<figcaption>Listing 11-6: ุชุณุช ุจุฑุง <code>can_hold</code> ฺฉู ุจุฑุฑุณ ูโฺฉูุฏ ุขุง ฺฉ ูุณุชุทู ุจุฒุฑฺฏโุชุฑ ูโุชูุงูุฏ ูุงูุนุงู ฺฉ ูุณุชุทู ฺฉูฺฺฉโุชุฑ ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ุฏูุฏ</figcaption>
</figure>
<p>ุจู ุฎุท <code>use super::*;</code> ุฏุฑ ุฏุงุฎู ูุงฺูู <code>tests</code> ุชูุฌู ฺฉูุฏ. ูุงฺูู <code>tests</code> ฺฉ ูุงฺูู ูุนููู ุงุณุช ฺฉู ุงุฒ ููุงูู ุฏุฏูพุฐุฑ ูุนููู ฺฉู ุฏุฑ ูุตู ท ุฏุฑ ุจุฎุด <a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html">โูุณุฑูุง ุจุฑุง ุงุดุงุฑู ุจู ฺฉ ููุฑุฏ ุฏุฑ ุฏุฑุฎุช ูุงฺููโ</a><!-- ignore --> ูพูุดุด ุฏุงุฏู ูพุฑู ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุงฺูู <code>tests</code> ฺฉ ูุงฺูู ุฏุงุฎู ุงุณุชุ ุจุงุฏ ฺฉุฏ ฺฉู ุฏุฑ ูุงฺูู ุฎุงุฑุฌ ุงุณุช ุฑุง ุจู ุฏุงููู ูุงฺูู ุฏุงุฎู ุจุงูุฑู. ุฏุฑ ุงูุฌุง ุงุฒ ฺฉ glob ุงุณุชูุงุฏู ูโฺฉููุ ุจูุงุจุฑุงู ูุฑ ฺุฒ ฺฉู ุฏุฑ ูุงฺูู ุฎุงุฑุฌ ุชุนุฑู ฺฉูู ุจุฑุง ุงู ูุงฺูู <code>tests</code> ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<p>ุชุณุช ุฎูุฏ ุฑุง <code>larger_can_hold_smaller</code> ูุงูโฺฏุฐุงุฑ ฺฉุฑุฏูโุงูุ ู ุฏู ููููู <code>Rectangle</code> ฺฉู ูุงุฒ ุฏุงุดุชู ุฑุง ุงุฌุงุฏ ฺฉุฑุฏูโุงู. ุณูพุณ ูุงฺฉุฑู <code>assert!</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ู ูุชุฌู ูุฑุงุฎูุงู <code>larger.can_hold(&amp;smaller)</code> ุฑุง ุจู ุขู ูพุงุณ ุฏุงุฏู. ุงู ุนุจุงุฑุช ูุฑุงุฑ ุงุณุช <code>true</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุจูุงุจุฑุงู ุชุณุช ูุง ุจุงุฏ ูพุงุณ ุดูุฏ. ุจุงุฏ ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ!</p>
<pre><code class="language-console">$ cargo test
   Compiling rectangle v0.1.0 (file:///projects/rectangle)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.66s
     Running unittests src/lib.rs (target/debug/deps/rectangle-6584c4561e48942e)

running 1 test
test tests::larger_can_hold_smaller ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests rectangle

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ูพุงุณ ุดุฏ! ุญุงูุง ฺฉ ุชุณุช ุฏฺฏุฑ ุงุถุงูู ฺฉููุ ุงู ุจุงุฑ ุชุฃุฏ ูโฺฉูู ฺฉู ฺฉ ูุณุชุทู ฺฉูฺฺฉโุชุฑ ููโุชูุงูุฏ ฺฉ ูุณุชุทู ุจุฒุฑฺฏโุชุฑ ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ุฏูุฏ:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust noplayground"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Rectangle {
</span><span class="boring">    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {
</span><span class="boring">        self.width &gt; other.width &amp;&amp; self.height &gt; other.height
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn larger_can_hold_smaller() {
        // --snip--
<span class="boring">        let larger = Rectangle {
</span><span class="boring">            width: 8,
</span><span class="boring">            height: 7,
</span><span class="boring">        };
</span><span class="boring">        let smaller = Rectangle {
</span><span class="boring">            width: 5,
</span><span class="boring">            height: 1,
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        assert!(larger.can_hold(&amp;smaller));
</span>    }

    #[test]
    fn smaller_cannot_hold_larger() {
        let larger = Rectangle {
            width: 8,
            height: 7,
        };
        let smaller = Rectangle {
            width: 5,
            height: 1,
        };

        assert!(!smaller.can_hold(&amp;larger));
    }
}</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุชุฌู ุตุญุญ ุชุงุจุน <code>can_hold</code> ุฏุฑ ุงู ููุฑุฏ <code>false</code> ุงุณุชุ ุจุงุฏ ุขู ูุชุฌู ุฑุง ูุจู ุงุฒ ูพุงุณ ุฏุงุฏู ุจู ูุงฺฉุฑู <code>assert!</code> ููู ฺฉูู. ุจู ุงู ุชุฑุชุจุ ุชุณุช ูุง ุฒูุงู ูพุงุณ ูโุดูุฏ ฺฉู <code>can_hold</code> ููุฏุงุฑ <code>false</code> ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling rectangle v0.1.0 (file:///projects/rectangle)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.66s
     Running unittests src/lib.rs (target/debug/deps/rectangle-6584c4561e48942e)

running 2 tests
test tests::larger_can_hold_smaller ... ok
test tests::smaller_cannot_hold_larger ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests rectangle

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุฏู ุชุณุช ฺฉู ูพุงุณ ูโุดููุฏ! ุญุงูุง ุจุงุฏ ุจุจูู ููุช ุจุงฺฏ ุจู ฺฉุฏ ุฎูุฏ ูุงุฑุฏ ูโฺฉูู ฺู ุงุชูุงู ุจุฑุง ูุชุงุฌ ุชุณุช ูุง ูโุงูุชุฏ. ูพุงุฏูโุณุงุฒ ูุชุฏ <code>can_hold</code> ุฑุง ุจุง ุฌุงฺฏุฒู ุนูุงูุช ุจุฒุฑฺฏุชุฑ (<code>&gt;</code>) ุจุง ุนูุงูุช ฺฉูฺฺฉุชุฑ (<code>&lt;</code>) ููฺฏุงู ููุงุณู ุนุฑุถโูุง ุชุบุฑ ูโุฏูู:</p>
<pre><code class="language-rust not_desired_behavior noplayground"><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Rectangle {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">}
</span><span class="boring">
</span>// --snip--
impl Rectangle {
    fn can_hold(&amp;self, other: &amp;Rectangle) -&gt; bool {
        self.width &lt; other.width &amp;&amp; self.height &gt; other.height
    }
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn larger_can_hold_smaller() {
</span><span class="boring">        let larger = Rectangle {
</span><span class="boring">            width: 8,
</span><span class="boring">            height: 7,
</span><span class="boring">        };
</span><span class="boring">        let smaller = Rectangle {
</span><span class="boring">            width: 5,
</span><span class="boring">            height: 1,
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        assert!(larger.can_hold(&amp;smaller));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn smaller_cannot_hold_larger() {
</span><span class="boring">        let larger = Rectangle {
</span><span class="boring">            width: 8,
</span><span class="boring">            height: 7,
</span><span class="boring">        };
</span><span class="boring">        let smaller = Rectangle {
</span><span class="boring">            width: 5,
</span><span class="boring">            height: 1,
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        assert!(!smaller.can_hold(&amp;larger));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ุงุฌุฑุง ุชุณุชโูุง ุงฺฉููู ุฎุฑูุฌ ุฒุฑ ุฑุง ุชููุฏ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling rectangle v0.1.0 (file:///projects/rectangle)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.66s
     Running unittests src/lib.rs (target/debug/deps/rectangle-6584c4561e48942e)

running 2 tests
test tests::larger_can_hold_smaller ... FAILED
test tests::smaller_cannot_hold_larger ... ok

failures:

---- tests::larger_can_hold_smaller stdout ----
thread 'tests::larger_can_hold_smaller' panicked at src/lib.rs:28:9:
assertion failed: larger.can_hold(&amp;smaller)
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::larger_can_hold_smaller

test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุชุณุชโูุง ูุง ุจุงฺฏ ุฑุง ูพุฏุง ฺฉุฑุฏูุฏ! ุงุฒ ุขูุฌุง ฺฉู <code>larger.width</code> ููุฏุงุฑ <code>8</code> ู <code>smaller.width</code> ููุฏุงุฑ <code>5</code> ุฏุงุฑุฏุ ููุงุณู ุนุฑุถโูุง ุฏุฑ <code>can_hold</code> ุงฺฉููู <code>false</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ: ธ ฺฉูุชุฑ ุงุฒ ต ูุณุช.</p>
<h3 id="ุชุณุช-ุจุฑุงุจุฑ-ุจุง-ูุงฺฉุฑููุง-assert_eq-ู-assert_ne"><a class="header" href="#ุชุณุช-ุจุฑุงุจุฑ-ุจุง-ูุงฺฉุฑููุง-assert_eq-ู-assert_ne">ุชุณุช ุจุฑุงุจุฑ ุจุง ูุงฺฉุฑููุง <code>assert_eq!</code> ู <code>assert_ne!</code></a></h3>
<p>ฺฉ ุฑูุด ูุนููู ุจุฑุง ุจุฑุฑุณ ุนููฺฉุฑุฏุ ุชุณุช ุจุฑุงุจุฑ ุจู ูุชุฌู ฺฉุฏ ุชุญุช ุชุณุช ู ููุฏุงุฑ ููุฑุฏ ุงูุชุธุงุฑ ุงุณุช. ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert!</code> ู ูพุงุณ ุฏุงุฏู ฺฉ ุนุจุงุฑุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>==</code> ุงูุฌุงู ุฏูุฏ. ุจุง ุงู ุญุงูุ ุงู ฺฉ ุชุณุช ุจุณุงุฑ ูุนููู ุงุณุช ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฉ ุฌูุช ูุงฺฉุฑูโ<code>assert_eq!</code> ู <code>assert_ne!</code>โุจุฑุง ุงูุฌุงู ุงู ุชุณุช ุจู ุตูุฑุช ุฑุงุญุชโุชุฑ ูุฑุงูู ฺฉุฑุฏู ุงุณุช. ุงู ูุงฺฉุฑููุง ุจู ุชุฑุชุจ ุฏู ุขุฑฺฏููุงู ุฑุง ุจุฑุง ุจุฑุงุจุฑ ุง ูุงุจุฑุงุจุฑ ููุงุณู ูโฺฉููุฏ. ุงฺฏุฑ ุงุฏุนุง ุดฺฉุณุช ุจุฎูุฑุฏุ ุงู ูุงฺฉุฑููุง ุฏู ููุฏุงุฑ ุฑุง ูุฒ ฺุงูพ ูโฺฉููุฏุ ฺฉู ูุดุงูุฏู ุฏูู ุดฺฉุณุช ุชุณุช ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ. ุฏุฑ ููุงุจูุ ูุงฺฉุฑู <code>assert!</code> ููุท ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ููุฏุงุฑ <code>false</code> ุจุฑุง ุนุจุงุฑุช <code>==</code> ุฏุฑุงูุช ฺฉุฑุฏู ุงุณุชุ ุจุฏูู ฺุงูพ ููุงุฏุฑ ฺฉู ููุฌุฑ ุจู ููุฏุงุฑ <code>false</code> ุดุฏูโุงูุฏ.</p>
<p>ุฏุฑ ูุณุช ฑฑ-ทุ ุชุงุจุน ุจู ูุงู <code>add_two</code> ูโููุณู ฺฉู <code>ฒ</code> ุฑุง ุจู ูพุงุฑุงูุชุฑ ุฎูุฏ ุงุถุงูู ูโฺฉูุฏุ ุณูพุณ ุงู ุชุงุจุน ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert_eq!</code> ุชุณุช ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub fn add_two(a: usize) -&gt; usize {
    a + 2
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn it_adds_two() {
        let result = add_two(2);
        assert_eq!(result, 4);
    }
}</code></pre>
<figcaption>Listing 11-7: ุชุณุช ุชุงุจุน <code>add_two</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert_eq!</code></figcaption>
</figure>
<p>ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ูพุงุณ ูโุดูุฏ!</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.58s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 1 test
test tests::it_adds_two ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ฺฉ ูุชุบุฑ ุจู ูุงู <code>result</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู ูุชุฌู ูุฑุงุฎูุงู <code>add_two(2)</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุณูพุณ <code>result</code> ู <code>4</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงูโูุง ุจู <code>assert_eq!</code> ูพุงุณ ูโุฏูู. ุฎุท ุฎุฑูุฌ ุจุฑุง ุงู ุชุณุช <code>test tests::it_adds_two ... ok</code> ุงุณุชุ ู ูุชู <code>ok</code> ูุดุงู ูโุฏูุฏ ฺฉู ุชุณุช ูุง ูพุงุณ ุดุฏู ุงุณุช!</p>
<p>ุจุงุฏ ฺฉ ุจุงฺฏ ุจู ฺฉุฏ ุฎูุฏ ูุงุฑุฏ ฺฉูู ุชุง ุจุจูู ูุงฺฉุฑู <code>assert_eq!</code> ููุช ุดฺฉุณุช ูโุฎูุฑุฏ ฺฺฏููู ุจู ูุธุฑ ูโุฑุณุฏ. ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>add_two</code> ุฑุง ุชุบุฑ ูโุฏูู ุชุง ุจู ุฌุง <code>ฒ</code> ููุฏุงุฑ <code>ณ</code> ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre><code class="language-rust not_desired_behavior noplayground">pub fn add_two(a: usize) -&gt; usize {
    a + 3
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn it_adds_two() {
</span><span class="boring">        let result = add_two(2);
</span><span class="boring">        assert_eq!(result, 4);
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ุชุณุชโูุง ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.61s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 1 test
test tests::it_adds_two ... FAILED

failures:

---- tests::it_adds_two stdout ----
thread 'tests::it_adds_two' panicked at src/lib.rs:12:9:
assertion `left == right` failed
  left: 5
 right: 4
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::it_adds_two

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุชุณุช ูุง ุจุงฺฏ ุฑุง ูพุฏุง ฺฉุฑุฏ! ุชุณุช <code>it_adds_two</code> ุดฺฉุณุช ุฎูุฑุฏุ ู ูพุงู ุจู ูุง ูโฺฏูุฏ <code>assertion `left == right` failed</code> ู ููุงุฏุฑ <code>left</code> ู <code>right</code> ฺุณุชูุฏ. ุงู ูพุงู ุจู ูุง ฺฉูฺฉ ูโฺฉูุฏ ุงุดฺฉุงูโุฒุฏุง ุฑุง ุดุฑูุน ฺฉูู: ุขุฑฺฏููุงู <code>left</code>ุ ุฌุง ฺฉู ูุชุฌู ูุฑุงุฎูุงู <code>add_two(2)</code> ุฑุง ุฏุงุดุชูุ ููุฏุงุฑ <code>5</code> ุจูุฏุ ุงูุง ุขุฑฺฏููุงู <code>right</code> ููุฏุงุฑ <code>4</code> ุจูุฏ. ูโุชูุงูุฏ ุชุตูุฑ ฺฉูุฏ ฺฉู ุงู ููุถูุน ููุช ุชุนุฏุงุฏ ุฒุงุฏ ุชุณุช ุฏุงุดุชู ุจุงุดู ุจุณุงุฑ ููุฏ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุฑ ุจุฑุฎ ุฒุจุงูโูุง ู ฺุงุฑฺูุจโูุง ุชุณุชุ ูพุงุฑุงูุชุฑูุง ุชูุงุจุน ุจุฑุฑุณ ุจุฑุงุจุฑ <code>expected</code> ู <code>actual</code> ูุงูุฏู ูโุดููุฏ ู ุชุฑุชุจ ูุดุฎุต ฺฉุฑุฏู ุขุฑฺฏููุงูโูุง ููู ุงุณุช. ุงูุง ุฏุฑ Rustุ ุขูโูุง <code>left</code> ู <code>right</code> ูุงูุฏู ูโุดููุฏุ ู ุชุฑุชุจ ูุดุฎุต ฺฉุฑุฏู ููุฏุงุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ู ููุฏุงุฑ ฺฉู ฺฉุฏ ุชููุฏ ูโฺฉูุฏ ููู ูุณุช. ูโุชูุงูู ุงุฏุนุง ุฑุง ุฏุฑ ุงู ุชุณุช ุจู ุตูุฑุช <code>assert_eq!(4, result)</code> ุจููุณูุ ฺฉู ููุงู ูพุงู ุดฺฉุณุช ุฑุง ฺฉู <code>assertion failed: `(left == right)`</code> ููุงุด ูโุฏูุฏุ ุชููุฏ ูโฺฉูุฏ.</p>
<p>ูุงฺฉุฑู <code>assert_ne!</code> ุฒูุงู ูพุงุณ ูโุดูุฏ ฺฉู ุฏู ููุฏุงุฑ ฺฉู ุจู ุขู ูโุฏูู ุจุฑุงุจุฑ ูุจุงุดูุฏ ู ุดฺฉุณุช ูโุฎูุฑุฏ ุงฺฏุฑ ุจุฑุงุจุฑ ุจุงุดูุฏ. ุงู ูุงฺฉุฑู ุจุฑุง ููุงุฑุฏ ููุฏ ุงุณุช ฺฉู ูุทูุฆู ูุณุชู ฺฉ ููุฏุงุฑ <em>ฺู ุฎูุงูุฏ ุจูุฏ</em>ุ ุงูุง ูโุฏุงูู ฺฉู ููุฏุงุฑ ุจู ุทูุฑ ูุทุน <em>ฺู ูุจุงุฏ ุจุงุดุฏ</em>. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุชุงุจุน ุฑุง ุชุณุช ูโฺฉูู ฺฉู ุชุถูู ุดุฏู ุงุณุช ูุฑูุฏ ุฎูุฏ ุฑุง ุจู ููุน ุชุบุฑ ุฏูุฏุ ุงูุง ูุญูู ุชุบุฑ ูุฑูุฏ ุจู ุฑูุฒ ููุชูโุง ฺฉู ุชุณุชโูุง ุฎูุฏ ุฑุง ุงุฌุฑุง ูโฺฉูู ุจุณุชฺฏ ุฏุงุฑุฏุ ุจูุชุฑู ฺุฒ ฺฉู ูโุชูุงูู ุชุฃุฏ ฺฉูู ุงู ุงุณุช ฺฉู ุฎุฑูุฌ ุชุงุจุน ุจุฑุงุจุฑ ุจุง ูุฑูุฏ ูุณุช.</p>
<p>ุฏุฑ ูพุณโุฒูููุ ูุงฺฉุฑููุง <code>assert_eq!</code> ู <code>assert_ne!</code> ุจู ุชุฑุชุจ ุงุฒ ุนููฺฏุฑูุง <code>==</code> ู <code>!=</code> ุงุณุชูุงุฏู ูโฺฉููุฏ. ููุช ุงุฏุนุง ุดฺฉุณุช ูโุฎูุฑุฏุ ุงู ูุงฺฉุฑููุง ุขุฑฺฏููุงูโูุง ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงูุจโุจูุฏ ุฏุจุงฺฏ ฺุงูพ ูโฺฉููุฏุ ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ููุงุฏุฑ ููุงุณูโุดุฏู ุจุงุฏ ูฺฺฏโูุง <code>PartialEq</code> ู <code>Debug</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ. ุชูุงู ููุนโูุง ุงููู ู ุจุดุชุฑ ููุนโูุง ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงู ูฺฺฏโูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ุจุฑุง ุณุงุฎุชุงุฑูุง ู ุงูููโูุง ฺฉู ุฎูุฏุชุงู ุชุนุฑู ูโฺฉูุฏุ ุจุงุฏ <code>PartialEq</code> ุฑุง ุจุฑุง ุชุฃุฏ ุจุฑุงุจุฑ ุงู ููุนโูุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ููฺูู ุจุงุฏ <code>Debug</code> ุฑุง ุจุฑุง ฺุงูพ ููุงุฏุฑ ุฒูุงู ฺฉู ุงุฏุนุง ุดฺฉุณุช ูโุฎูุฑุฏ ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุฑ ุฏู ูฺฺฏ ูุงุจู ุงุดุชูุงู ูุณุชูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ต-ฑฒ ูุตู ต ุงุดุงุฑู ุดุฏุ ุงู ูุนูููุงู ุจู ุณุงุฏฺฏ ุงูุฒูุฏู ุญุงุดูโููุณ <code>#[derive(PartialEq, Debug)]</code> ุจู ุชุนุฑู ุณุงุฎุชุงุฑ ุง ุงููู ุดูุง ุงุณุช. ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุงู ูฺฺฏโูุง ู ุณุงุฑ ูฺฺฏโูุง ูุงุจู ุงุดุชูุงูุ ุจู ุถููู ุฌุ <a href="appendix-03-derivable-traits.html">โูฺฺฏโูุง ูุงุจู ุงุดุชูุงูโ</a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<h3 id="ุงูุฒูุฏู-ูพุงููุง-ุดฺฉุณุช-ุณูุงุฑุด"><a class="header" href="#ุงูุฒูุฏู-ูพุงููุง-ุดฺฉุณุช-ุณูุงุฑุด">ุงูุฒูุฏู ูพุงูโูุง ุดฺฉุณุช ุณูุงุฑุด</a></h3>
<p>ููฺูู ูโุชูุงูุฏ ฺฉ ูพุงู ุณูุงุฑุด ุจุฑุง ฺุงูพ ููุฑุงู ุจุง ูพุงู ุดฺฉุณุช ุจู ุนููุงู ุขุฑฺฏููุงูโูุง ุงุฎุชุงุฑ ุจู ูุงฺฉุฑููุง <code>assert!</code>ุ <code>assert_eq!</code> ู <code>assert_ne!</code> ุงุถุงูู ฺฉูุฏ. ูุฑ ุขุฑฺฏููุงู ฺฉู ุจุนุฏ ุงุฒ ุขุฑฺฏููุงูโูุง ุงุฌุจุงุฑ ูุดุฎุต ุดุฏู ุจุงุดุฏ ุจู ูุงฺฉุฑู <code>format!</code> (ฺฉู ุฏุฑ ูุตู ธ ุฏุฑ ุจุฎุด <a href="ch08-02-strings.html#concatenation-with-the--operator-or-the-format-macro">โุงุฏุบุงู ุจุง ุนููฺฏุฑ <code>+</code> ุง ูุงฺฉุฑู <code>format!</code>โ</a><!-- ignore --> ุจุญุซ ุดุฏ) ูพุงุณ ุฏุงุฏู ูโุดูุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ฺฉ ุฑุดุชู ูุงูุจ ฺฉู ุดุงูู ูฺฏูุฏุงุฑูุฏูโูุง <code>{}</code> ุงุณุช ู ููุงุฏุฑ ฺฉู ุฏุฑ ุขู ูฺฏูุฏุงุฑูุฏูโูุง ูุฑุงุฑ ูโฺฏุฑูุฏ ุฑุง ูพุงุณ ุฏูุฏ. ูพุงูโูุง ุณูุงุฑุด ุจุฑุง ูุณุชูุฏุณุงุฒ ูุนูุง ฺฉ ุงุฏุนุง ููุฏ ูุณุชูุฏุ ููุช ฺฉ ุชุณุช ุดฺฉุณุช ูโุฎูุฑุฏุ ุงุฏู ุจูุชุฑ ุงุฒ ูุดฺฉู ฺฉุฏ ุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ุชุงุจุน ุฏุงุฑู ฺฉู ุงูุฑุงุฏ ุฑุง ุจุง ูุงูุดุงู ุฎูุดุงูุฏ ูโฺฏูุฏ ู ูโุฎูุงูู ุชุณุช ฺฉูู ฺฉู ูุงู ฺฉู ุจู ุชุงุจุน ูพุงุณ ูโุฏูู ุฏุฑ ุฎุฑูุฌ ุธุงูุฑ ูโุดูุฏ:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust noplayground">pub fn greeting(name: &amp;str) -&gt; String {
    format!("Hello {name}!")
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn greeting_contains_name() {
        let result = greeting("Carol");
        assert!(result.contains("Carol"));
    }
}</code></pre>
<p>ูุงุฒููุฏโูุง ุงู ุจุฑูุงูู ูููุฒ ููุฑุฏ ุชูุงูู ูุฑุงุฑ ูฺฏุฑูุชูโุงูุฏุ ู ูุง ุชูุฑุจุงู ูุทูุฆู ูุณุชู ฺฉู ูุชู <code>Hello</code> ุฏุฑ ุงุจุชุฏุง ูพุงู ุฎูุดุงูุฏ ุชุบุฑ ุฎูุงูุฏ ฺฉุฑุฏ. ุชุตูู ฺฏุฑูุชู ฺฉู ููโุฎูุงูู ููุช ูุงุฒููุฏโูุง ุชุบุฑ ูโฺฉููุฏุ ุชุณุช ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉููุ ุจูุงุจุฑุงู ุจู ุฌุง ุจุฑุฑุณ ุจุฑุงุจุฑ ุฏูู ุจุง ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุฒ ุชุงุจุน <code>greeting</code>ุ ููุท ุชุฃุฏ ูโฺฉูู ฺฉู ุฎุฑูุฌ ุดุงูู ูุชู ูพุงุฑุงูุชุฑ ูุฑูุฏ ุงุณุช.</p>
<p>ุญุงูุง ุจุงุฏ ฺฉ ุจุงฺฏ ุจู ุงู ฺฉุฏ ูุงุฑุฏ ฺฉูู ุจุง ุชุบุฑ <code>greeting</code> ุจูโุทูุฑ ฺฉู <code>name</code> ุฑุง ุดุงูู ูุดูุฏ ุชุง ุจุจูู ูพุงู ุดฺฉุณุช ุชุณุช ูพุดโูุฑุถ ฺฺฏููู ุงุณุช:</p>
<pre><code class="language-rust not_desired_behavior noplayground">pub fn greeting(name: &amp;str) -&gt; String {
    String::from("Hello!")
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn greeting_contains_name() {
</span><span class="boring">        let result = greeting("Carol");
</span><span class="boring">        assert!(result.contains("Carol"));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ุงุฌุฑุง ุงู ุชุณุช ุฎุฑูุฌ ุฒุฑ ุฑุง ุชููุฏ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling greeter v0.1.0 (file:///projects/greeter)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.91s
     Running unittests src/lib.rs (target/debug/deps/greeter-170b942eb5bf5e3a)

running 1 test
test tests::greeting_contains_name ... FAILED

failures:

---- tests::greeting_contains_name stdout ----
thread 'tests::greeting_contains_name' panicked at src/lib.rs:12:9:
assertion failed: result.contains("Carol")
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::greeting_contains_name

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุงู ูุชุฌู ููุท ูุดุงู ูโุฏูุฏ ฺฉู ุงุฏุนุง ุดฺฉุณุช ุฎูุฑุฏู ุงุณุช ู ุฎุท ฺฉู ุงุฏุนุง ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ฺฉุฏุงู ุงุณุช. ฺฉ ูพุงู ุดฺฉุณุช ููุฏุชุฑ ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุฒ ุชุงุจุน <code>greeting</code> ุฑุง ฺุงูพ ูโฺฉุฑุฏ. ุจุงุฏ ฺฉ ูพุงู ุดฺฉุณุช ุณูุงุฑุด ุงุถุงูู ฺฉูู ฺฉู ุงุฒ ฺฉ ุฑุดุชู ูุงูุจ ุจุง ฺฉ ูฺฏูุฏุงุฑูุฏู ฺฉู ุจุง ููุฏุงุฑ ูุงูุน ุจุงุฒฺฏุดุช ุงุฒ ุชุงุจุน <code>greeting</code> ูพุฑ ุดุฏู ุงุณุชุ ุชุดฺฉู ุดุฏู ุจุงุดุฏ:</p>
<pre><code class="language-rust ignore"><span class="boring">pub fn greeting(name: &amp;str) -&gt; String {
</span><span class="boring">    String::from("Hello!")
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span>    #[test]
    fn greeting_contains_name() {
        let result = greeting("Carol");
        assert!(
            result.contains("Carol"),
            "Greeting did not contain name, value was `{result}`"
        );
    }
<span class="boring">}</span></code></pre>
<p>ุญุงูุง ููุช ุชุณุช ุฑุง ุงุฌุฑุง ูโฺฉููุ ฺฉ ูพุงู ุฎุทุง ุงุทูุงุนโุฑุณุงูโุชุฑ ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling greeter v0.1.0 (file:///projects/greeter)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.93s
     Running unittests src/lib.rs (target/debug/deps/greeter-170b942eb5bf5e3a)

running 1 test
test tests::greeting_contains_name ... FAILED

failures:

---- tests::greeting_contains_name stdout ----
thread 'tests::greeting_contains_name' panicked at src/lib.rs:12:9:
Greeting did not contain name, value was `Hello!`
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::greeting_contains_name

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ูุง ูโุชูุงูู ููุฏุงุฑ ูุงูุนโุง ฺฉู ุฏุฑ ุฎุฑูุฌ ุชุณุช ุฏุฑุงูุช ฺฉุฑุฏู ุฑุง ุจุจููุ ฺฉู ุจู ูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุงุดฺฉุงูโุฒุฏุง ฺฉูู ฺฉู ฺู ุงุชูุงู ุงูุชุงุฏ ุจู ุฌุง ุขูฺู ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชู ุงุชูุงู ุจูุชุฏ.</p>
<h3 id="ุจุฑุฑุณ-ูพุงูฺฉ-ุจุง-should_panic"><a class="header" href="#ุจุฑุฑุณ-ูพุงูฺฉ-ุจุง-should_panic">ุจุฑุฑุณ ูพุงูฺฉ ุจุง <code>should_panic</code></a></h3>
<p>ุนูุงูู ุจุฑ ุจุฑุฑุณ ููุงุฏุฑ ุจุงุฒฺฏุดุชุ ููู ุงุณุช ฺฉู ุจุฑุฑุณ ฺฉูู ฺฉุฏ ูุง ุดุฑุงุท ุฎุทุง ุฑุง ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ูุฏุฑุช ูโฺฉูุฏ. ุจุฑุง ูุซุงูุ ููุน <code>Guess</code> ุฑุง ฺฉู ุฏุฑ ูุตู นุ ูุณุช น-ฑณ ุงุฌุงุฏ ฺฉุฑุฏู ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. ุณุงุฑ ฺฉุฏูุง ฺฉู ุงุฒ <code>Guess</code> ุงุณุชูุงุฏู ูโฺฉููุฏ ุจู ุงู ุชุถูู ูุงุจุณุชู ูุณุชูุฏ ฺฉู ูููููโูุง <code>Guess</code> ููุท ููุงุฏุฑ ุจู ฑ ู ฑฐฐ ุฑุง ุดุงูู ูโุดููุฏ. ูโุชูุงูู ุชุณุช ุจููุณู ฺฉู ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุชูุงุด ุจุฑุง ุงุฌุงุฏ ฺฉ ููููู <code>Guess</code> ุจุง ููุฏุงุฑ ุฎุงุฑุฌ ุงุฒ ุงู ุจุงุฒู ููุฌุฑ ุจู ูพุงูฺฉ ูโุดูุฏ.</p>
<p>ุงู ฺฉุงุฑ ุฑุง ุจุง ุงูุฒูุฏู ูฺฺฏ <code>should_panic</code> ุจู ุชุงุจุน ุชุณุช ุฎูุฏ ุงูุฌุงู ูโุฏูู. ุงฺฏุฑ ฺฉุฏ ุฏุงุฎู ุชุงุจุน ูพุงูฺฉ ฺฉูุฏุ ุชุณุช ูพุงุณ ูโุดูุฏุ ุงฺฏุฑ ฺฉุฏ ุฏุงุฎู ุชุงุจุน ูพุงูฺฉ ูฺฉูุฏุ ุชุณุช ุดฺฉุณุช ูโุฎูุฑุฏ.</p>
<p>ูุณุช ฑฑ-ธ ฺฉ ุชุณุช ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุจุฑุฑุณ ูโฺฉูุฏ ุดุฑุงุท ุฎุทุง <code>Guess::new</code> ุฒูุงู ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ุฑุฎ ูโุฏููุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub struct Guess {
    value: i32,
}

impl Guess {
    pub fn new(value: i32) -&gt; Guess {
        if value &lt; 1 || value &gt; 100 {
            panic!("Guess value must be between 1 and 100, got {value}.");
        }

        Guess { value }
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    #[should_panic]
    fn greater_than_100() {
        Guess::new(200);
    }
}</code></pre>
<figcaption>Listing 11-8: ุชุณุช ฺฉุฑุฏู ุงูฺฉู ุขุง ฺฉ ุดุฑุท ุจุงุนุซ ฺฉ <code>panic!</code> ูโุดูุฏ</figcaption>
</figure>
<p>ูุง ูฺฺฏ <code>#[should_panic]</code> ุฑุง ุจุนุฏ ุงุฒ ูฺฺฏ <code>#[test]</code> ู ูุจู ุงุฒ ุชุงุจุน ุชุณุช ฺฉู ุจู ุขู ุงุนูุงู ูโุดูุฏ ูุฑุงุฑ ูโุฏูู. ุจุงุฏ ุจู ูุชุฌูโุง ฺฉู ููุช ุงู ุชุณุช ูพุงุณ ูโุดูุฏ ูฺฏุงู ฺฉูู:</p>
<pre><code class="language-console">$ cargo test
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.58s
     Running unittests src/lib.rs (target/debug/deps/guessing_game-57d70c3acb738f4d)

running 1 test
test tests::greater_than_100 - should panic ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests guessing_game

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุจู ูุธุฑ ุฎูุจ ูโุขุฏ! ุญุงูุง ุจุงุฏ ฺฉ ุจุงฺฏ ุฏุฑ ฺฉุฏ ุฎูุฏ ูุงุฑุฏ ฺฉูู ุจุง ุญุฐู ุดุฑุท ฺฉู ุชุงุจุน <code>new</code> ุฑุง ูุฌุจูุฑ ูโฺฉูุฏ ุงฺฏุฑ ููุฏุงุฑ ุจุดุชุฑ ุงุฒ ฑฐฐ ุจุงุดุฏ ูพุงูฺฉ ฺฉูุฏ:</p>
<pre><code class="language-rust not_desired_behavior noplayground"><span class="boring">pub struct Guess {
</span><span class="boring">    value: i32,
</span><span class="boring">}
</span><span class="boring">
</span>// --snip--
impl Guess {
    pub fn new(value: i32) -&gt; Guess {
        if value &lt; 1 {
            panic!("Guess value must be between 1 and 100, got {value}.");
        }

        Guess { value }
    }
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    #[should_panic]
</span><span class="boring">    fn greater_than_100() {
</span><span class="boring">        Guess::new(200);
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ููุช ุชุณุช ุฏุฑ ูุณุช ฑฑ-ธ ุฑุง ุงุฌุฑุง ูโฺฉููุ ุดฺฉุณุช ูโุฎูุฑุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.62s
     Running unittests src/lib.rs (target/debug/deps/guessing_game-57d70c3acb738f4d)

running 1 test
test tests::greater_than_100 - should panic ... FAILED

failures:

---- tests::greater_than_100 stdout ----
note: test did not panic as expected

failures:
    tests::greater_than_100

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุฏุฑ ุงู ููุฑุฏ ูพุงู ุฎู ููุฏ ุฏุฑุงูุช ููโฺฉููุ ุงูุง ููุช ุจู ุชุงุจุน ุชุณุช ูฺฏุงู ูโฺฉููุ ูโุจูู ฺฉู ุจุง <code>#[should_panic]</code> ุญุงุดูโููุณ ุดุฏู ุงุณุช. ุดฺฉุณุช ุจู ุงู ูุนูุงุณุช ฺฉู ฺฉุฏ ฺฉู ุฏุฑ ุชุงุจุน ุชุณุช ูุฑุงุฑ ุฏุงุฑุฏ ุจุงุนุซ ฺฉ ูพุงูฺฉ ูุดุฏู ุงุณุช.</p>
<p>ุชุณุชโูุง ฺฉู ุงุฒ <code>should_panic</code> ุงุณุชูุงุฏู ูโฺฉููุฏ ูโุชูุงููุฏ ุฏูู ูุจุงุดูุฏ. ฺฉ ุชุณุช <code>should_panic</code> ุญุช ุงฺฏุฑ ุชุณุช ุจุฑุง ุฏูู ุบุฑ ุงุฒ ุขูฺู ุงูุชุธุงุฑ ุฏุงุดุชู ูพุงูฺฉ ฺฉูุฏุ ูพุงุณ ูโุดูุฏ. ุจุฑุง ุฏููโุชุฑ ฺฉุฑุฏู ุชุณุชโูุง <code>should_panic</code>ุ ูโุชูุงูู ฺฉ ูพุงุฑุงูุชุฑ ุงุฎุชุงุฑ <code>expected</code> ุจู ูฺฺฏ <code>should_panic</code> ุงุถุงูู ฺฉูู. ุชุณุช ุฑุงูุฑ ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ูพุงู ุดฺฉุณุช ุดุงูู ูุชู ุงุฑุงุฆูโุดุฏู ุงุณุช. ุจุฑุง ูุซุงูุ ฺฉุฏ ุชุบุฑ ุฏุงุฏูโุดุฏู ุจุฑุง <code>Guess</code> ุฏุฑ ูุณุช ฑฑ-น ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ุชุงุจุน <code>new</code> ุจุง ูพุงูโูุง ูุฎุชูู ุจุณุชู ุจู ุงูฺฉู ููุฏุงุฑ ุฎู ฺฉูฺฺฉ ุง ุฎู ุจุฒุฑฺฏ ุจุงุดุฏ ูพุงูฺฉ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Guess {
</span><span class="boring">    value: i32,
</span><span class="boring">}
</span><span class="boring">
</span>// --snip--

impl Guess {
    pub fn new(value: i32) -&gt; Guess {
        if value &lt; 1 {
            panic!(
                "Guess value must be greater than or equal to 1, got {value}."
            );
        } else if value &gt; 100 {
            panic!(
                "Guess value must be less than or equal to 100, got {value}."
            );
        }

        Guess { value }
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    #[should_panic(expected = "less than or equal to 100")]
    fn greater_than_100() {
        Guess::new(200);
    }
}</code></pre>
<figcaption>Listing 11-9: ุชุณุช ฺฉุฑุฏู ฺฉ <code>panic!</code> ุจุง ฺฉ ูพุงู ูพุงูฺฉ ฺฉู ุญุงู ฺฉ ุฒุฑุฑุดุชู ูุดุฎุต ุงุณุช</figcaption>
</figure>
<p>ุงู ุชุณุช ูพุงุณ ูโุดูุฏ ุฒุฑุง ููุฏุงุฑ ฺฉู ุฏุฑ ูพุงุฑุงูุชุฑ <code>expected</code> ูฺฺฏ <code>should_panic</code> ูุฑุงุฑ ุฏุงุฏูโุงู ฺฉ ุฒุฑุฑุดุชู ุงุฒ ูพุงู ุงุณุช ฺฉู ุชุงุจุน <code>Guess::new</code> ุจุง ุขู ูพุงูฺฉ ูโฺฉูุฏ. ูโุชูุงูุณุชู ฺฉู ูพุงู ูพุงูฺฉ ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ุฑุง ูุดุฎุต ฺฉููุ ฺฉู ุฏุฑ ุงู ููุฑุฏ ูโุดุฏ <code>Guess value must be less than or equal to 100, got 200</code>. ุขูฺู ุงูุชุฎุงุจ ูโฺฉูุฏ ุจุณุชฺฏ ุจู ุงู ุฏุงุฑุฏ ฺฉู ฺู ููุฏุงุฑ ุงุฒ ูพุงู ูพุงูฺฉ ููุญุตุฑ ุจู ูุฑุฏ ุง ูพูุง ุงุณุช ู ฺูุฏุฑ ูโุฎูุงูุฏ ุชุณุช ุดูุง ุฏูู ุจุงุดุฏ. ุฏุฑ ุงู ููุฑุฏุ ฺฉ ุฒุฑุฑุดุชู ุงุฒ ูพุงู ูพุงูฺฉ ฺฉุงู ุงุณุช ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ฺฉุฏ ุฏุฑ ุชุงุจุน ุชุณุช ููุฑุฏ <code>else if value &gt; 100</code> ุฑุง ุงุฌุฑุง ูโฺฉูุฏ.</p>
<p>ุจุฑุง ุฏุฏู ุงูฺฉู ููุช ฺฉ ุชุณุช <code>should_panic</code> ุจุง ฺฉ ูพุงู <code>expected</code> ุดฺฉุณุช ูโุฎูุฑุฏ ฺู ุงุชูุงู ูโุงูุชุฏุ ุจุงุฏ ุฏูุจุงุฑู ฺฉ ุจุงฺฏ ุจู ฺฉุฏ ุฎูุฏ ูุงุฑุฏ ฺฉูู ุจุง ุฌุงุจูโุฌุง ฺฉุฑุฏู ุจุฏููโูุง ุจููฺฉโูุง <code>if value &lt; 1</code> ู <code>else if value &gt; 100</code>:</p>
<pre><code class="language-rust ignore not_desired_behavior"><span class="boring">pub struct Guess {
</span><span class="boring">    value: i32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Guess {
</span><span class="boring">    pub fn new(value: i32) -&gt; Guess {
</span>        if value &lt; 1 {
            panic!(
                "Guess value must be less than or equal to 100, got {value}."
            );
        } else if value &gt; 100 {
            panic!(
                "Guess value must be greater than or equal to 1, got {value}."
            );
        }
<span class="boring">
</span><span class="boring">        Guess { value }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    #[should_panic(expected = "less than or equal to 100")]
</span><span class="boring">    fn greater_than_100() {
</span><span class="boring">        Guess::new(200);
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ุงู ุจุงุฑ ููุช ุชุณุช <code>should_panic</code> ุฑุง ุงุฌุฑุง ูโฺฉููุ ุดฺฉุณุช ุฎูุงูุฏ ุฎูุฑุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.66s
     Running unittests src/lib.rs (target/debug/deps/guessing_game-57d70c3acb738f4d)

running 1 test
test tests::greater_than_100 - should panic ... FAILED

failures:

---- tests::greater_than_100 stdout ----
thread 'tests::greater_than_100' panicked at src/lib.rs:12:13:
Guess value must be greater than or equal to 1, got 200.
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
note: panic did not contain expected string
      panic message: `"Guess value must be greater than or equal to 1, got 200."`,
 expected substring: `"less than or equal to 100"`

failures:
    tests::greater_than_100

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ูพุงู ุดฺฉุณุช ูุดุงู ูโุฏูุฏ ฺฉู ุงู ุชุณุช ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชู ูพุงูฺฉ ฺฉุฑุฏุ ุงูุง ูพุงู ูพุงูฺฉ ุดุงูู ุฑุดุชู ููุฑุฏ ุงูุชุธุงุฑ <code>less than or equal to 100</code> ูุจูุฏ. ูพุงู ูพุงูฺฉ ฺฉู ุฏุฑ ุงู ููุฑุฏ ุฏุฑุงูุช ฺฉุฑุฏู <code>Guess value must be greater than or equal to 1, got 200.</code> ุจูุฏ. ุญุงูุง ูโุชูุงูู ุดุฑูุน ุจู ูพุฏุง ฺฉุฑุฏู ูุญู ุจุงฺฏ ฺฉูู!</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-resultt-e-ุฏุฑ-ุชุณุชูุง"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-resultt-e-ุฏุฑ-ุชุณุชูุง">ุงุณุชูุงุฏู ุงุฒ <code>Result&lt;T, E&gt;</code> ุฏุฑ ุชุณุชโูุง</a></h3>
<p>ุชุณุชโูุง ูุง ุชุง ุงูุฌุง ููู ุฒูุงู ฺฉู ุดฺฉุณุช ูโุฎูุฑูุฏ ูพุงูฺฉ ูโฺฉููุฏ. ููฺูู ูโุชูุงูู ุชุณุชโูุง ุจููุณู ฺฉู ุงุฒ <code>Result&lt;T, E&gt;</code> ุงุณุชูุงุฏู ฺฉููุฏ! ุฏุฑ ุงูุฌุง ุชุณุช ูุณุช ฑฑ-ฑ ุฑุง ุจุงุฒููุณ ฺฉุฑุฏูโุงู ุชุง ุงุฒ <code>Result&lt;T, E&gt;</code> ุงุณุชูุงุฏู ฺฉูุฏ ู ุจู ุฌุง ูพุงูฺฉ ฺฉุฑุฏูุ ฺฉ <code>Err</code> ุจุงุฒฺฏุฑุฏุงูุฏ:</p>
<pre><code class="language-rust noplayground"><span class="boring">pub fn add(left: u64, right: u64) -&gt; u64 {
</span><span class="boring">    left + right
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span>    #[test]
    fn it_works() -&gt; Result&lt;(), String&gt; {
        let result = add(2, 2);

        if result == 4 {
            Ok(())
        } else {
            Err(String::from("two plus two does not equal four"))
        }
    }
<span class="boring">}</span></code></pre>
<p>ุชุงุจุน <code>it_works</code> ุงฺฉููู ููุน ุจุงุฒฺฏุดุช <code>Result&lt;(), String&gt;</code> ุฏุงุฑุฏ. ุฏุฑ ุจุฏูู ุชุงุจุนุ ุจู ุฌุง ูุฑุงุฎูุงู ูุงฺฉุฑู <code>assert_eq!</code>ุ ููุช ุชุณุช ูพุงุณ ูโุดูุฏ <code>Ok(())</code> ู ููุช ุชุณุช ุดฺฉุณุช ูโุฎูุฑุฏ ฺฉ <code>Err</code> ุจุง ฺฉ <code>String</code> ุฏุงุฎู ุขู ุจุงุฒูโฺฏุฑุฏุงูู.</p>
<p>ููุดุชู ุชุณุชโูุง ฺฉู ฺฉ <code>Result&lt;T, E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงููุฏ ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ุนููฺฏุฑ ุณูุงู <code>?</code> ุฏุฑ ุจุฏูู ุชุณุชโูุง ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉู ูโุชูุงูุฏ ุฑุงู ุฑุงุญุช ุจุฑุง ููุดุชู ุชุณุชโูุง ุจุงุดุฏ ฺฉู ุงฺฏุฑ ูุฑ ุนููุงุช ุฏุฑ ุขูโูุง ฺฉ ูุงุฑุงูุช <code>Err</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุดฺฉุณุช ุจุฎูุฑูุฏ.</p>
<p>ุดูุง ููโุชูุงูุฏ ุงุฒ ุญุงุดูโููุณ <code>#[should_panic]</code> ุฏุฑ ุชุณุชโูุง ฺฉู ุงุฒ <code>Result&lt;T, E&gt;</code> ุงุณุชูุงุฏู ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ุชุฃุฏ ุงูฺฉู ฺฉ ุนููุงุช ฺฉ ูุงุฑุงูุช <code>Err</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ <em>ุงุฒ</em> ุนููฺฏุฑ ุณูุงู ุฑู ููุฏุงุฑ <code>Result&lt;T, E&gt;</code> ุงุณุชูุงุฏู ูฺฉูุฏ. ุฏุฑ ุนูุถุ ุงุฒ <code>assert!(value.is_err())</code> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุญุงูุง ฺฉู ฺูุฏู ุฑูุด ุจุฑุง ููุดุชู ุชุณุชโูุง ุฑุง ุงุฏ ฺฏุฑูุชุฏุ ุจุงุฏ ูฺฏุงู ุจู ุขูฺู ููฺฏุงู ุงุฌุฑุง ุชุณุชโูุง ุงุชูุงู ูโุงูุชุฏ ุจูุฏุงุฒู ู ฺฏุฒููโูุง ูุฎุชูู ุฑุง ฺฉู ูโุชูุงูู ุจุง <code>cargo test</code> ุงุณุชูุงุฏู ฺฉูู ุจุฑุฑุณ ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฉูุชุฑู-ูุญูู-ุงุฌุฑุง-ุชุณุชูุง"><a class="header" href="#ฺฉูุชุฑู-ูุญูู-ุงุฌุฑุง-ุชุณุชูุง">ฺฉูุชุฑู ูุญูู ุงุฌุฑุง ุชุณุชโูุง</a></h2>
<p>ุฏููุงู ููุงูุทูุฑ ฺฉู <code>cargo run</code> ฺฉุฏ ุดูุง ุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ู ุจุงูุฑ ุญุงุตู ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ <code>cargo test</code> ฺฉุฏ ุดูุง ุฑุง ุฏุฑ ุญุงูุช ุชุณุช ฺฉุงููพุงู ฺฉุฑุฏู ู ุจุงูุฑ ุชุณุช ุญุงุตู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ. ุฑูุชุงุฑ ูพุดโูุฑุถ ุจุงูุฑ ุชููุฏุดุฏู ุชูุณุท <code>cargo test</code> ุงู ุงุณุช ฺฉู ุชูุงู ุชุณุชโูุง ุฑุง ุจู ุตูุฑุช ููุงุฒ ุงุฌุฑุง ฺฉุฑุฏู ู ุฎุฑูุฌ ุชููุฏ ุดุฏู ุฏุฑ ุทูู ุงุฌุฑุง ุชุณุชโูุง ุฑุง ุถุจุท ฺฉูุฏ. ุงู ฺฉุงุฑ ุงุฒ ููุงุด ุฎุฑูุฌ ุฌููฺฏุฑ ฺฉุฑุฏู ู ุฎูุงูุฏู ุฎุฑูุฌ ูุฑุชุจุท ุจุง ูุชุงุฌ ุชุณุช ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ูโุชูุงูุฏ ุจุง ูุดุฎุต ฺฉุฑุฏู ฺฏุฒููโูุง ุฎุท ูุฑูุงู ุงู ุฑูุชุงุฑ ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏ.</p>
<p>ุจุฑุฎ ฺฏุฒููโูุง ุฎุท ูุฑูุงู ุจู <code>cargo test</code> ูโุฑููุฏ ู ุจุฑุฎ ุฏฺฏุฑ ุจู ุจุงูุฑ ุชุณุช ุญุงุตู ุงุฑุณุงู ูโุดููุฏ. ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุงู ุฏู ููุน ุขุฑฺฏููุงูุ ุขุฑฺฏููุงูโูุง ฺฉู ุจู <code>cargo test</code> ูโุฑููุฏ ุฑุง ุฐฺฉุฑ ฺฉูุฏ ู ุณูพุณ ุฌุฏุงฺฉููุฏู <code>--</code> ู ุขุฑฺฏููุงูโูุง ฺฉู ุจู ุจุงูุฑ ุชุณุช ูโุฑููุฏ ุฑุง ุจุงูุฑุฏ. ุงุฌุฑุง <code>cargo test --help</code> ฺฏุฒููโูุง ุฑุง ููุงุด ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ุจุง <code>cargo test</code> ุงุณุชูุงุฏู ฺฉูุฏุ ู ุงุฌุฑุง <code>cargo test -- --help</code> ฺฏุฒููโูุง ุฑุง ฺฉู ูโุชูุงูุฏ ูพุณ ุงุฒ ุฌุฏุงฺฉููุฏู ุงุณุชูุงุฏู ฺฉูุฏ ููุงุด ูโุฏูุฏ. ุงู ฺฏุฒููโูุง ููฺูู ุฏุฑ <a href="https://doc.rust-lang.org/rustc/tests/index.html">ุจุฎุด โุชุณุชโูุงโ</a> ุงุฒ <a href="https://doc.rust-lang.org/rustc/index.html">ฺฉุชุงุจ rustc</a> ูุณุชูุฏ ุดุฏูโุงูุฏ.</p>
<h3 id="ุงุฌุฑุง-ุชุณุชูุง-ุจู-ุตูุฑุช-ููุงุฒ-ุง-ูุชูุงู"><a class="header" href="#ุงุฌุฑุง-ุชุณุชูุง-ุจู-ุตูุฑุช-ููุงุฒ-ุง-ูุชูุงู">ุงุฌุฑุง ุชุณุชโูุง ุจู ุตูุฑุช ููุงุฒ ุง ูุชูุงู</a></h3>
<p>ููุช ฺูุฏู ุชุณุช ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ุจู ุทูุฑ ูพุดโูุฑุถ ุงู ุชุณุชโูุง ุจู ุตูุฑุช ููุงุฒ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง (threads) ุงุฌุฑุง ูโุดููุฏุ ุจู ุงู ูุนู ฺฉู ุณุฑุนโุชุฑ ุจู ูพุงุงู ูโุฑุณูุฏ ู ุจุงุฒุฎูุฑุฏ ุณุฑุนโุชุฑ ุฏุฑุงูุช ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ุชุณุชโูุง ุจู ุตูุฑุช ููโุฒูุงู ุงุฌุฑุง ูโุดููุฏุ ุจุงุฏ ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุชุณุชโูุง ุดูุง ุจู ฺฉุฏฺฏุฑ ุง ุจู ูฺ ุญุงูุช ูุดุชุฑฺฉุ ุงุฒ ุฌููู ฺฉ ูุญุท ูุดุชุฑฺฉ ูุงููุฏ ุฏุงุฑฺฉุชูุฑ ฺฉุงุฑ ุฌุงุฑ ุง ูุชุบุฑูุง ูุญุทุ ูุงุจุณุชู ูุณุชูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ูุฑ ฺฉ ุงุฒ ุชุณุชโูุง ุดูุง ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ฺฉู ฺฉ ูุงู ุจู ูุงู <em>test-output.txt</em> ุฑู ุฏุณฺฉ ุงุฌุงุฏ ฺฉุฑุฏู ู ุฏุงุฏูโูุง ุฏุฑ ุขู ูุงู ูโููุณุฏ. ุณูพุณ ูุฑ ุชุณุช ุฏุงุฏูโูุง ููุฌูุฏ ุฏุฑ ุขู ูุงู ุฑุง ุฎูุงูุฏู ู ุชุฃุฏ ูโฺฉูุฏ ฺฉู ูุงู ุดุงูู ฺฉ ููุฏุงุฑ ุฎุงุต ุงุณุชุ ฺฉู ุฏุฑ ูุฑ ุชุณุช ูุชูุงูุช ุงุณุช. ฺูู ุชุณุชโูุง ุจู ุทูุฑ ููโุฒูุงู ุงุฌุฑุง ูโุดููุฏุ ููฺฉู ุงุณุช ฺฉ ุชุณุช ูุงู ุฑุง ุฏุฑ ุฒูุงู ฺฉู ุชุณุช ุฏฺฏุฑ ุฏุฑ ุญุงู ููุดุชู ู ุฎูุงูุฏู ูุงู ุงุณุชุ ุจุงุฒููุณ ฺฉูุฏ. ุฏุฑ ุงู ุตูุฑุชุ ุชุณุช ุฏูู ุดฺฉุณุช ุฎูุงูุฏ ุฎูุฑุฏุ ูู ุจู ุงู ุฏูู ฺฉู ฺฉุฏ ุงุดุชุจุงู ุงุณุช ุจูฺฉู ุจู ุงู ุฏูู ฺฉู ุชุณุชโูุง ุฏุฑ ููฺฏุงู ุงุฌุฑุง ููุงุฒ ุจุง ฺฉุฏฺฏุฑ ุชุฏุงุฎู ูพุฏุง ฺฉุฑุฏูโุงูุฏ. ฺฉ ุฑุงูโุญู ุงู ุงุณุช ฺฉู ูุทูุฆู ุดูุฏ ูุฑ ุชุณุช ุจู ฺฉ ูุงู ูุชูุงูุช ูโููุณุฏุ ุฑุงูโุญู ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ุชุณุชโูุง ุฑุง ฺฉ ฺฉ ุงุฌุฑุง ฺฉูุฏ.</p>
<p>ุงฺฏุฑ ููโุฎูุงูุฏ ุชุณุชโูุง ุจู ุตูุฑุช ููุงุฒ ุงุฌุฑุง ุดููุฏ ุง ุงฺฏุฑ ูโุฎูุงูุฏ ฺฉูุชุฑู ุจุดุชุฑ ุจุฑ ุชุนุฏุงุฏ ูุฎโูุง ุงุณุชูุงุฏูโุดุฏู ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ููฺฏ <code>--test-threads</code> ู ุชุนุฏุงุฏ ูุฎโูุง ฺฉู ูโุฎูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุฑุง ุจู ุจุงูุฑ ุชุณุช ุงุฑุณุงู ฺฉูุฏ. ุจู ูุซุงู ุฒุฑ ุชูุฌู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo test -- --test-threads=1
</code></pre>
<p>ูุง ุชุนุฏุงุฏ ูุฎโูุง ุชุณุช ุฑุง ุจู <code>1</code> ุชูุธู ฺฉุฑุฏูุ ุจู ุจุฑูุงูู ูโฺฏูู ุงุฒ ูฺ ููุงุฒโุณุงุฒ ุงุณุชูุงุฏู ูฺฉูุฏ. ุงุฌุฑุง ุชุณุชโูุง ุจุง ฺฉ ูุฎ ุจุดุชุฑ ุงุฒ ุงุฌุฑุง ุขูโูุง ุจู ุตูุฑุช ููุงุฒ ุทูู ูโฺฉุดุฏุ ุงูุง ุชุณุชโูุง ุฏุฑ ุตูุฑุช ฺฉู ุญุงูุช ูุดุชุฑฺฉ ุฏุงุดุชู ุจุงุดูุฏ ุจุง ฺฉุฏฺฏุฑ ุชุฏุงุฎู ูพุฏุง ููโฺฉููุฏ.</p>
<h3 id="ููุงุด-ุฎุฑูุฌ-ุชูุงุจุน"><a class="header" href="#ููุงุด-ุฎุฑูุฌ-ุชูุงุจุน">ููุงุด ุฎุฑูุฌ ุชูุงุจุน</a></h3>
<p>ุจู ุทูุฑ ูพุดโูุฑุถุ ุงฺฏุฑ ฺฉ ุชุณุช ูพุงุณ ุดูุฏุ ฺฉุชุงุจุฎุงูู ุชุณุช Rust ูุฑ ฺุฒ ฺฉู ุจู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ฺุงูพ ุดุฏู ุฑุง ุถุจุท ูโฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุฏุฑ ฺฉ ุชุณุช ุงุฒ <code>println!</code> ุงุณุชูุงุฏู ฺฉูู ู ุชุณุช ูพุงุณ ุดูุฏุ ุฎุฑูุฌ <code>println!</code> ุฑุง ุฏุฑ ุชุฑููุงู ูุฎูุงูู ุฏุฏุ ููุท ุฎุท ฺฉู ูุดุงู ูโุฏูุฏ ุชุณุช ูพุงุณ ุดุฏู ุงุณุช ุฑุง ุฎูุงูู ุฏุฏ. ุงฺฏุฑ ฺฉ ุชุณุช ุดฺฉุณุช ุจุฎูุฑุฏุ ูุฑ ฺุฒ ฺฉู ุจู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ฺุงูพ ุดุฏู ุจุงุดุฏ ุฑุง ููุฑุงู ุจุง ูพุงู ุดฺฉุณุช ุฎูุงูู ุฏุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูุณุช ฑฑ-ฑฐ ฺฉ ุชุงุจุน ุณุงุฏู ุฏุงุฑุฏ ฺฉู ููุฏุงุฑ ูพุงุฑุงูุชุฑ ุฎูุฏ ุฑุง ฺุงูพ ฺฉุฑุฏู ู ููุฏุงุฑ ฑฐ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ููฺูู ฺฉ ุชุณุช ฺฉู ูพุงุณ ูโุดูุฏ ู ฺฉ ุชุณุช ฺฉู ุดฺฉุณุช ูโุฎูุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust panics noplayground">fn prints_and_returns_10(a: i32) -&gt; i32 {
    println!("I got the value {a}");
    10
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn this_test_will_pass() {
        let value = prints_and_returns_10(4);
        assert_eq!(value, 10);
    }

    #[test]
    fn this_test_will_fail() {
        let value = prints_and_returns_10(8);
        assert_eq!(value, 5);
    }
}</code></pre>
<figcaption>Listing 11-10: ุชุณุชโูุง ุจุฑุง ฺฉ ุชุงุจุน ฺฉู ุงุฒ <code>println!</code> ุงุณุชูุงุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ููุช ุงู ุชุณุชโูุง ุฑุง ุจุง <code>cargo test</code> ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling silly-function v0.1.0 (file:///projects/silly-function)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.58s
     Running unittests src/lib.rs (target/debug/deps/silly_function-160869f38cff9166)

running 2 tests
test tests::this_test_will_fail ... FAILED
test tests::this_test_will_pass ... ok

failures:

---- tests::this_test_will_fail stdout ----
I got the value 8
thread 'tests::this_test_will_fail' panicked at src/lib.rs:19:9:
assertion `left == right` failed
  left: 10
 right: 5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::this_test_will_fail

test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุฏุฑ ูฺ ุฌุง ุงู ุฎุฑูุฌ <code>I got the value 4</code> ฺฉู ููฺฏุงู ุงุฌุฑุง ุชุณุช ูพุงุณโุดุฏู ฺุงูพ ูโุดูุฏุ ููโุจูู. ุงู ุฎุฑูุฌ ุถุจุท ุดุฏู ุงุณุช. ุฎุฑูุฌ ุชุณุช ุดฺฉุณุชโุฎูุฑุฏูุ <code>I got the value 8</code>ุ ุฏุฑ ุจุฎุด ุฎูุงุตู ุฎุฑูุฌ ุชุณุช ุธุงูุฑ ูโุดูุฏ ฺฉู ุนูุช ุดฺฉุณุช ุชุณุช ุฑุง ูุฒ ูุดุงู ูโุฏูุฏ.</p>
<p>ุงฺฏุฑ ุจุฎูุงูู ููุงุฏุฑ ฺุงูพโุดุฏู ุจุฑุง ุชุณุชโูุง ูพุงุณโุดุฏู ุฑุง ูุฒ ุจุจููุ ูโุชูุงูู ุจู Rust ุจฺฏูู ฺฉู ุฎุฑูุฌ ุชุณุชโูุง ูููู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>--show-output</code> ูุฒ ููุงุด ุฏูุฏ:</p>
<pre><code class="language-console">$ cargo test -- --show-output
</code></pre>
<p>ููุช ุชุณุชโูุง ูุณุช ฑฑ-ฑฐ ุฑุง ุฏูุจุงุฑู ุจุง ููฺฏ <code>--show-output</code> ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-console">$ cargo test -- --show-output
   Compiling silly-function v0.1.0 (file:///projects/silly-function)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.60s
     Running unittests src/lib.rs (target/debug/deps/silly_function-160869f38cff9166)

running 2 tests
test tests::this_test_will_fail ... FAILED
test tests::this_test_will_pass ... ok

successes:

---- tests::this_test_will_pass stdout ----
I got the value 4


successes:
    tests::this_test_will_pass

failures:

---- tests::this_test_will_fail stdout ----
I got the value 8
thread 'tests::this_test_will_fail' panicked at src/lib.rs:19:9:
assertion `left == right` failed
  left: 10
 right: 5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::this_test_will_fail

test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<h3 id="ุงุฌุฑุง-ุฒุฑูุฌููุนูุง-ุงุฒ-ุชุณุชูุง-ุจุง-ูุงู"><a class="header" href="#ุงุฌุฑุง-ุฒุฑูุฌููุนูุง-ุงุฒ-ุชุณุชูุง-ุจุง-ูุงู">ุงุฌุฑุง ุฒุฑูุฌููุนูโุง ุงุฒ ุชุณุชโูุง ุจุง ูุงู</a></h3>
<p>ฺฏุงู ุงููุงุชุ ุงุฌุฑุง ฺฉ ูุฌููุนู ฺฉุงูู ุงุฒ ุชุณุชโูุง ูโุชูุงูุฏ ุฒูุงู ุฒุงุฏ ุจุจุฑุฏ. ุงฺฏุฑ ุฏุฑ ุญุงู ฺฉุงุฑ ุฑู ฺฉุฏ ุฏุฑ ฺฉ ุจุฎุด ุฎุงุต ูุณุชุฏุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ููุท ุชุณุชโูุง ูุฑุจูุท ุจู ุขู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ. ูโุชูุงูุฏ ุจุง ูพุงุณ ุฏุงุฏู ูุงู ุง ูุงูโูุง ุชุณุชโูุง ฺฉู ูโุฎูุงูุฏ ุงุฌุฑุง ฺฉูุฏ ุจู <code>cargo test</code>ุ ุงูุชุฎุงุจ ฺฉูุฏ ฺฉู ฺฉุฏุงู ุชุณุชโูุง ุงุฌุฑุง ุดููุฏ.</p>
<p>ุจุฑุง ูุดุงู ุฏุงุฏู ูุญูู ุงุฌุฑุง ฺฉ ุฒุฑูุฌููุนู ุงุฒ ุชุณุชโูุงุ ุงุจุชุฏุง ุณู ุชุณุช ุจุฑุง ุชุงุจุน <code>add_two</code> ุฎูุฏ ุงุฌุงุฏ ูโฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฑ-ฑฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ู ุงูุชุฎุงุจ ูโฺฉูู ฺฉุฏุงูโฺฉ ุฑุง ุงุฌุฑุง ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub fn add_two(a: usize) -&gt; usize {
    a + 2
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn add_two_and_two() {
        let result = add_two(2);
        assert_eq!(result, 4);
    }

    #[test]
    fn add_three_and_two() {
        let result = add_two(3);
        assert_eq!(result, 5);
    }

    #[test]
    fn one_hundred() {
        let result = add_two(100);
        assert_eq!(result, 102);
    }
}</code></pre>
<figcaption>Listing 11-11: ุณู ุชุณุช ุจุง ุณู ูุงู ูุฎุชูู</figcaption>
</figure>
<p>ุงฺฏุฑ ุชุณุชโูุง ุฑุง ุจุฏูู ูพุงุณ ุฏุงุฏู ูฺ ุขุฑฺฏููุงู ุงุฌุฑุง ฺฉููุ ููุงูุทูุฑ ฺฉู ูุจูุงู ุฏุฏูุ ุชูุงู ุชุณุชโูุง ุจู ุตูุฑุช ููุงุฒ ุงุฌุฑุง ูโุดููุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.62s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 3 tests
test tests::add_three_and_two ... ok
test tests::add_two_and_two ... ok
test tests::one_hundred ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<h4 id="ุงุฌุฑุง-ุชุณุชูุง-ูููุฑุฏ"><a class="header" href="#ุงุฌุฑุง-ุชุณุชูุง-ูููุฑุฏ">ุงุฌุฑุง ุชุณุชโูุง ูููุฑุฏ</a></h4>
<p>ูโุชูุงูู ูุงู ูุฑ ุชุงุจุน ุชุณุช ุฑุง ุจู <code>cargo test</code> ูพุงุณ ุฏูู ุชุง ููุท ููุงู ุชุณุช ุงุฌุฑุง ุดูุฏ:</p>
<pre><code class="language-console">$ cargo test one_hundred
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.69s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 1 test
test tests::one_hundred ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

</code></pre>
<p>ููุท ุชุณุช ุจุง ูุงู <code>one_hundred</code> ุงุฌุฑุง ุดุฏุ ุฏู ุชุณุช ุฏฺฏุฑ ุจุง ุงู ูุงู ูุทุงุจูุช ูุฏุงุดุชูุฏ. ุฎุฑูุฌ ุชุณุช ุจู ูุง ุงุทูุงุน ูโุฏูุฏ ฺฉู ุชุณุชโูุง ุจุดุชุฑ ูุฌูุฏ ุฏุงุดุชูโุงูุฏ ฺฉู ุงุฌุฑุง ูุดุฏูโุงูุฏ ู ุฏุฑ ุงูุชูุง <code>2 filtered out</code> ุฑุง ููุงุด ูโุฏูุฏ.</p>
<p>ููโุชูุงูู ุจู ุงู ุฑูุด ูุงู ฺูุฏู ุชุณุช ุฑุง ูุดุฎุต ฺฉููุ ููุท ุงููู ููุฏุงุฑ ฺฉู ุจู <code>cargo test</code> ุฏุงุฏู ูโุดูุฏ ุงุณุชูุงุฏู ุฎูุงูุฏ ุดุฏ. ุงูุง ุฑุงู ุจุฑุง ุงุฌุฑุง ฺูุฏู ุชุณุช ูุฌูุฏ ุฏุงุฑุฏ.</p>
<h4 id="ููุชุฑ-ฺฉุฑุฏู-ุจุฑุง-ุงุฌุฑุง-ฺูุฏู-ุชุณุช"><a class="header" href="#ููุชุฑ-ฺฉุฑุฏู-ุจุฑุง-ุงุฌุฑุง-ฺูุฏู-ุชุณุช">ููุชุฑ ฺฉุฑุฏู ุจุฑุง ุงุฌุฑุง ฺูุฏู ุชุณุช</a></h4>
<p>ูโุชูุงูู ุจุฎุด ุงุฒ ฺฉ ูุงู ุชุณุช ุฑุง ูุดุฎุต ฺฉููุ ู ูุฑ ุชุณุช ฺฉู ูุงูุด ุจุง ุขู ููุฏุงุฑ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ. ุจุฑุง ูุซุงูุ ฺูู ุฏู ุชุง ุงุฒ ูุงูโูุง ุชุณุชโูุง ูุง ุดุงูู <code>add</code> ูุณุชูุฏุ ูโุชูุงูู ุขู ุฏู ุฑุง ุจุง ุงุฌุฑุง <code>cargo test add</code> ุงุฌุฑุง ฺฉูู:</p>
<pre><code class="language-console">$ cargo test add
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.61s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 2 tests
test tests::add_three_and_two ... ok
test tests::add_two_and_two ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

</code></pre>
<p>ุงู ูุฑูุงู ุชูุงู ุชุณุชโูุง ฺฉู <code>add</code> ุฏุฑ ูุงูุดุงู ุฏุงุฑูุฏ ุฑุง ุงุฌุฑุง ฺฉุฑุฏ ู ุชุณุช ุจุง ูุงู <code>one_hundred</code> ุฑุง ููุชุฑ ฺฉุฑุฏ. ููฺูู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุงฺูู ฺฉู ฺฉ ุชุณุช ุฏุฑ ุขู ุธุงูุฑ ูโุดูุฏ ุจุฎุด ุงุฒ ูุงู ุชุณุช ูโุดูุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุชูุงู ุชุณุชโูุง ฺฉ ูุงฺูู ุฑุง ุจุง ููุชุฑ ฺฉุฑุฏู ุฑู ูุงู ูุงฺูู ุงุฌุฑุง ฺฉูู.</p>
<h3 id="ูุงุฏุฏู-ฺฏุฑูุชู-ุจุฑุฎ-ุชุณุชูุง-ูฺฏุฑ-ุงูฺฉู-ุตุฑุญุงู-ุฏุฑุฎูุงุณุช-ุดููุฏ"><a class="header" href="#ูุงุฏุฏู-ฺฏุฑูุชู-ุจุฑุฎ-ุชุณุชูุง-ูฺฏุฑ-ุงูฺฉู-ุตุฑุญุงู-ุฏุฑุฎูุงุณุช-ุดููุฏ">ูุงุฏุฏู ฺฏุฑูุชู ุจุฑุฎ ุชุณุชโูุง ูฺฏุฑ ุงูฺฉู ุตุฑุญุงู ุฏุฑุฎูุงุณุช ุดููุฏ</a></h3>
<p>ฺฏุงู ุงููุงุช ฺูุฏ ุชุณุช ุฎุงุต ูโุชูุงููุฏ ุจุณุงุฑ ููุชโฺฏุฑ ุจุงุดูุฏุ ุจูุงุจุฑุงู ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุขูโูุง ุฑุง ุฏุฑ ุงฺฉุซุฑ ุงุฌุฑุงูุง <code>cargo test</code> ุญุฐู ฺฉูุฏ. ุจู ุฌุง ูุณุช ฺฉุฑุฏู ุชูุงู ุชุณุชโูุง ฺฉู ูโุฎูุงูุฏ ุงุฌุฑุง ฺฉูุฏุ ูโุชูุงูุฏ ุชุณุชโูุง ููุชโฺฏุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>ignore</code> ุญุงุดูโููุณ ฺฉูุฏ ุชุง ุขูโูุง ุฑุง ุญุฐู ฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust noplayground"><span class="boring">pub fn add(left: u64, right: u64) -&gt; u64 {
</span><span class="boring">    left + right
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn it_works() {
        let result = add(2, 2);
        assert_eq!(result, 4);
    }

    #[test]
    #[ignore]
    fn expensive_test() {
        // code that takes an hour to run
    }
}</code></pre>
<p>ุจุนุฏ ุงุฒ <code>#[test]</code>ุ ุฎุท <code>#[ignore]</code> ุฑุง ุจู ุชุณุช ฺฉู ูโุฎูุงูู ุญุฐู ฺฉูู ุงุถุงูู ูโฺฉูู. ุญุงูุง ููุช ุชุณุชโูุง ุฎูุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ <code>it_works</code> ุงุฌุฑุง ูโุดูุฏุ ุงูุง <code>expensive_test</code> ุงุฌุฑุง ููโุดูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.60s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 2 tests
test tests::expensive_test ... ignored
test tests::it_works ... ok

test result: ok. 1 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุชุงุจุน <code>expensive_test</code> ุจู ุนููุงู <code>ignored</code> ููุฑุณุช ุดุฏู ุงุณุช. ุงฺฏุฑ ุจุฎูุงูู ููุท ุชุณุชโูุง ูุงุฏุฏูโฺฏุฑูุชูโุดุฏู ุฑุง ุงุฌุฑุง ฺฉููุ ูโุชูุงูู ุงุฒ <code>cargo test -- --ignored</code> ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><code class="language-console">$ cargo test -- --ignored
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.61s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 1 test
test expensive_test ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุจุง ฺฉูุชุฑู ุงูฺฉู ฺฉุฏุงู ุชุณุชโูุง ุงุฌุฑุง ูโุดููุฏุ ูโุชูุงูุฏ ูุทูุฆู ุดูุฏ ฺฉู ูุชุงุฌ <code>cargo test</code> ุดูุง ุจู ุณุฑุนุช ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดููุฏ. ููุช ุฏุฑ ููุทูโุง ูุณุชุฏ ฺฉู ููุทู ุงุณุช ูุชุงุฌ ุชุณุชโูุง <code>ignored</code> ุฑุง ุจุฑุฑุณ ฺฉูุฏ ู ุฒูุงู ุจุฑุง ุงูุชุธุงุฑ ูุชุงุฌ ุฏุงุฑุฏุ ูโุชูุงูุฏ ุจู ุฌุง ุขู <code>cargo test -- --ignored</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุงฺฏุฑ ูโุฎูุงูุฏ ุชูุงู ุชุณุชโูุง ุฑุง ุงุฌุฑุง ฺฉูุฏุ ฺู ูุงุฏุฏูโฺฏุฑูุชูโุดุฏู ู ฺู ูุดุฏูุ ูโุชูุงูุฏ <code>cargo test -- --include-ignored</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุณุงุฒูุงูุฏู-ุชุณุชูุง"><a class="header" href="#ุณุงุฒูุงูุฏู-ุชุณุชูุง">ุณุงุฒูุงูุฏู ุชุณุชโูุง</a></h2>
<p>ููุงูุทูุฑ ฺฉู ุฏุฑ ุงุจุชุฏุง ูุตู ุฐฺฉุฑ ุดุฏุ ุชุณุชโููุณ ฺฉ ุฑุดุชู ูพฺุฏู ุงุณุชุ ู ุงูุฑุงุฏ ูุฎุชูู ุงุฒ ุงุตุทูุงุญุงุช ู ุณุงุฒูุงูุฏู ูุชูุงูุช ุงุณุชูุงุฏู ูโฺฉููุฏ. ุฌุงูุนู Rust ุชุณุชโูุง ุฑุง ุจู ุฏู ุฏุณุชู ุงุตู ุชูุณู ูโฺฉูุฏ: ุชุณุชโูุง ูุงุญุฏ ู ุชุณุชโูุง ฺฉูพุงุฑฺู. <em>ุชุณุชโูุง ูุงุญุฏ</em> ฺฉูฺฺฉ ู ูุชูุฑฺฉุฒุชุฑ ูุณุชูุฏุ ฺฉ ูุงฺูู ุฑุง ุจู ุทูุฑ ุฌุฏุงฺฏุงูู ุฏุฑ ฺฉ ุฒูุงู ุชุณุช ูโฺฉููุฏ ู ูโุชูุงููุฏ ุฑุงุจุทโูุง ุฎุตูุต ุฑุง ุชุณุช ฺฉููุฏ. <em>ุชุณุชโูุง ฺฉูพุงุฑฺู</em> ฺฉุงููุงู ุฎุงุฑุฌ ูุณุจุช ุจู ฺฉุชุงุจุฎุงูู ุดูุง ูุณุชูุฏ ู ุงุฒ ฺฉุฏ ุดูุง ููุงูุทูุฑ ฺฉู ูุฑ ฺฉุฏ ุฎุงุฑุฌ ุฏฺฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏุ ุชููุง ุงุฒ ุทุฑู ุฑุงุจุท ุนููู ุงุณุชูุงุฏู ูโฺฉููุฏ ู ููฺฉู ุงุณุช ฺูุฏู ูุงฺูู ุฑุง ุฏุฑ ูุฑ ุชุณุช ุจุฑุฑุณ ฺฉููุฏ.</p>
<p>ููุดุชู ูุฑ ุฏู ููุน ุชุณุช ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ูุทุนุงุช ฺฉุชุงุจุฎุงูู ุดูุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ู ุจุง ูู ฺฉุงุฑ ูโฺฉููุฏุ ููู ุงุณุช.</p>
<h3 id="ุชุณุชูุง-ูุงุญุฏ"><a class="header" href="#ุชุณุชูุง-ูุงุญุฏ">ุชุณุชโูุง ูุงุญุฏ</a></h3>
<p>ูุฏู ุชุณุชโูุง ูุงุญุฏ ุงู ุงุณุช ฺฉู ูุฑ ูุงุญุฏ ฺฉุฏ ุฑุง ุจู ุทูุฑ ุฌุฏุงฺฏุงูู ุงุฒ ุณุงุฑ ฺฉุฏูุง ุชุณุช ฺฉููุฏ ุชุง ุจู ุณุฑุนุช ูุดุฎุต ุดูุฏ ฺฉู ฺฉุฏ ฺฉุฌุง ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ ู ฺฉุฌุง ูู. ุชุณุชโูุง ูุงุญุฏ ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>src</em> ุฏุฑ ูุฑ ูุงู ุจุง ฺฉุฏ ฺฉู ุชุณุช ูโฺฉููุฏ ูุฑุงุฑ ูโุฏูุฏ. ฺฉููุงูุณูู ุงู ุงุณุช ฺฉู ฺฉ ูุงฺูู ุจู ูุงู <code>tests</code> ุฏุฑ ูุฑ ูุงู ุงุฌุงุฏ ฺฉูุฏ ุชุง ุชูุงุจุน ุชุณุช ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ ู ูุงฺูู ุฑุง ุจุง <code>cfg(test)</code> ุญุงุดูโููุณ ฺฉูุฏ.</p>
<h4 id="ูุงฺูู-ุชุณุชูุง-ู-cfgtest"><a class="header" href="#ูุงฺูู-ุชุณุชูุง-ู-cfgtest">ูุงฺูู ุชุณุชโูุง ู <code>#[cfg(test)]</code></a></h4>
<p>ุญุงุดูโููุณ <code>#[cfg(test)]</code> ุฑู ูุงฺูู <code>tests</code> ุจู Rust ูโฺฏูุฏ ฺฉู ฺฉุฏ ุชุณุช ููุท ููุช ฺฉู <code>cargo test</code> ุงุฌุฑุง ุดูุฏ ฺฉุงููพุงู ู ุงุฌุฑุง ุดูุฏุ ูู ููุช ฺฉู <code>cargo build</code> ุงุฌุฑุง ุดูุฏ. ุงู ุจุงุนุซ ุตุฑููโุฌู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ููุช ููุท ูโุฎูุงูุฏ ฺฉุชุงุจุฎุงูู ุฑุง ุจุณุงุฒุฏ ูโุดูุฏ ู ูุถุง ฺฉูุชุฑ ุฏุฑ ูุชุฌู ฺฉุงููพุงูโุดุฏู ูโฺฏุฑุฏ ุฒุฑุง ุชุณุชโูุง ุดุงูู ููโุดููุฏ. ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ฺูู ุชุณุชโูุง ฺฉูพุงุฑฺู ุฏุฑ ฺฉ ุฏุงุฑฺฉุชูุฑ ุฌุฏุงฺฏุงูู ูุฑุงุฑ ูโฺฏุฑูุฏุ ูุงุฒ ุจู ุญุงุดูโููุณ <code>#[cfg(test)]</code> ูุฏุงุฑูุฏ. ุจุง ุงู ุญุงูุ ฺูู ุชุณุชโูุง ูุงุญุฏ ุฏุฑ ููุงู ูุงูโูุง ฺฉู ฺฉุฏ ูุฑุงุฑ ุฏุงุฑุฏ ูุฑุงุฑ ูโฺฏุฑูุฏุ ุงุฒ <code>#[cfg(test)]</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉู ูุจุงุฏ ุฏุฑ ูุชุฌู ฺฉุงููพุงูโุดุฏู ูุฑุงุฑ ฺฏุฑูุฏ.</p>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ููุช ูพุฑูฺู ุฌุฏุฏ <code>adder</code> ุฑุง ุฏุฑ ุจุฎุด ุงูู ุงู ูุตู ุชููุฏ ฺฉุฑุฏูุ Cargo ุงู ฺฉุฏ ุฑุง ุจุฑุง ูุง ุชููุฏ ฺฉุฑุฏ:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust noplayground">pub fn add(left: u64, right: u64) -&gt; u64 {
    left + right
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn it_works() {
        let result = add(2, 2);
        assert_eq!(result, 4);
    }
}</code></pre>
<p>ุฑู ูุงฺูู <code>tests</code> ฺฉู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชููุฏ ุดุฏู ุงุณุชุ ูฺฺฏ <code>cfg</code> ูุฎูู <em>ูพฺฉุฑุจูุฏ</em> ุงุณุช ู ุจู Rust ูโฺฏูุฏ ฺฉู ุขุชู ุฒุฑ ููุท ุฏุฑ ุตูุฑุช ูุฌูุฏ ฺฉ ฺฏุฒูู ูพฺฉุฑุจูุฏ ูุดุฎุต ฺฏูุฌุงูุฏู ุดูุฏ. ุฏุฑ ุงู ููุฑุฏุ ฺฏุฒูู ูพฺฉุฑุจูุฏ <code>test</code> ุงุณุชุ ฺฉู ุชูุณุท Rust ุจุฑุง ฺฉุงููพุงู ู ุงุฌุฑุง ุชุณุชโูุง ุงุฑุงุฆู ูโุดูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>cfg</code>ุ Cargo ฺฉุฏ ุชุณุช ูุง ุฑุง ููุท ุฏุฑ ุตูุฑุช ฺฉู ุชุณุชโูุง ุฑุง ุจู ุทูุฑ ูุนุงู ุจุง <code>cargo test</code> ุงุฌุฑุง ฺฉููุ ฺฉุงููพุงู ูโฺฉูุฏ. ุงู ุดุงูู ูุฑ ุชุงุจุน ฺฉูฺฉ ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุงู ูุงฺูู ุจุงุดุฏ ูุฒ ูโุดูุฏุ ุนูุงูู ุจุฑ ุชูุงุจุน ฺฉู ุจุง <code>#[test]</code> ุญุงุดูโููุณ ุดุฏูโุงูุฏ.</p>
<h4 id="ุชุณุช-ุชูุงุจุน-ุฎุตูุต"><a class="header" href="#ุชุณุช-ุชูุงุจุน-ุฎุตูุต">ุชุณุช ุชูุงุจุน ุฎุตูุต</a></h4>
<p>ุฏุฑ ุฌุงูุนู ุชุณุชโููุณ ุจุญุซโูุง ุฏุฑุจุงุฑู ุงูฺฉู ุขุง ุชูุงุจุน ุฎุตูุต ุจุงุฏ ูุณุชููุงู ุชุณุช ุดููุฏ ุง ูู ูุฌูุฏ ุฏุงุฑุฏุ ู ุจุฑุฎ ุฒุจุงูโูุง ุชุณุช ฺฉุฑุฏู ุชูุงุจุน ุฎุตูุต ุฑุง ุฏุดูุงุฑ ุง ุบุฑููฺฉู ูโฺฉููุฏ. ุตุฑู ูุธุฑ ุงุฒ ุงูฺฉู ุงุฒ ฺฉุฏุงู ุงุฏุฆูููฺ ุชุณุชโููุณ ูพุฑู ูโฺฉูุฏุ ููุงูู ุฎุตูุตโุณุงุฒ Rust ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุชูุงุจุน ุฎุตูุต ุฑุง ุชุณุช ฺฉูุฏ. ฺฉุฏ ฺฉู ุฏุฑ ูุณุช ฑฑ-ฑฒ ุจุง ุชุงุจุน ุฎุตูุต <code>internal_adder</code> ุงุฑุงุฆู ุดุฏู ุงุณุช ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub fn add_two(a: usize) -&gt; usize {
    internal_adder(a, 2)
}

fn internal_adder(left: usize, right: usize) -&gt; usize {
    left + right
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn internal() {
        let result = internal_adder(2, 2);
        assert_eq!(result, 4);
    }
}</code></pre>
<figcaption>Listing 11-12: ุชุณุช ฺฉ ุชุงุจุน ุฎุตูุต</figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุงุจุน <code>internal_adder</code> ุจุง <code>pub</code> ุนูุงูุชโฺฏุฐุงุฑ ูุดุฏู ุงุณุช. ุชุณุชโูุง ููุท ฺฉุฏ Rust ูุณุชูุฏุ ู ูุงฺูู <code>tests</code> ููุท ฺฉ ูุงฺูู ุฏฺฏุฑ ุงุณุช. ููุงูุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html">โูุณุฑูุง ุจุฑุง ุงุดุงุฑู ุจู ฺฉ ููุฑุฏ ุฏุฑ ุฏุฑุฎุช ูุงฺููโ</a><!-- ignore --> ุจุญุซ ุดุฏุ ุขุชูโูุง ููุฌูุฏ ุฏุฑ ูุงฺููโูุง ูุฑุฒูุฏ ูโุชูุงููุฏ ุงุฒ ุขุชูโูุง ููุฌูุฏ ุฏุฑ ูุงฺููโูุง ูุงูุฏ ุฎูุฏ ุงุณุชูุงุฏู ฺฉููุฏ. ุฏุฑ ุงู ุชุณุชุ ุชูุงู ุขุชูโูุง ูุงูุฏ ูุงฺูู <code>tests</code> ุฑุง ุจุง <code>use super::*</code> ุจู ุฏุงููู ูุงุฑุฏ ูโฺฉููุ ู ุณูพุณ ุชุณุช ูโุชูุงูุฏ <code>internal_adder</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ุงฺฏุฑ ูฺฉุฑ ูโฺฉูุฏ ุชูุงุจุน ุฎุตูุต ูุจุงุฏ ุชุณุช ุดููุฏุ ูฺ ฺุฒ ุฏุฑ Rust ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุดูุง ุฑุง ูุฌุจูุฑ ุจู ุงูุฌุงู ุงู ฺฉุงุฑ ฺฉูุฏ.</p>
<h3 id="ุชุณุชูุง-ฺฉูพุงุฑฺู"><a class="header" href="#ุชุณุชูุง-ฺฉูพุงุฑฺู">ุชุณุชโูุง ฺฉูพุงุฑฺู</a></h3>
<p>ุฏุฑ Rustุ ุชุณุชโูุง ฺฉูพุงุฑฺู ฺฉุงููุงู ุฎุงุฑุฌ ูุณุจุช ุจู ฺฉุชุงุจุฎุงูู ุดูุง ูุณุชูุฏ. ุขูโูุง ุงุฒ ฺฉุชุงุจุฎุงูู ุดูุง ููุงูุทูุฑ ฺฉู ูุฑ ฺฉุฏ ุฏฺฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏุ ฺฉู ุจู ุงู ูุนู ุงุณุช ฺฉู ููุท ูโุชูุงููุฏ ุชูุงุจุน ุฑุง ฺฉู ุจุฎุด ุงุฒ ุฑุงุจุท ุนููู ฺฉุชุงุจุฎุงูู ุดูุง ูุณุชูุฏ ูุฑุงุฎูุงู ฺฉููุฏ. ูุฏู ุขูโูุง ุงู ุงุณุช ฺฉู ุจุฑุฑุณ ฺฉููุฏ ุขุง ูุณูุชโูุง ูุฎุชูู ฺฉุชุงุจุฎุงูู ุดูุง ุจุง ฺฉุฏฺฏุฑ ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉููุฏ ุง ูู. ูุงุญุฏูุง ฺฉุฏ ฺฉู ุจู ุชููุง ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉููุฏ ูโุชูุงููุฏ ููฺฏุงู ฺฉูพุงุฑฺูโุณุงุฒ ูุดฺฉู ุฏุงุดุชู ุจุงุดูุฏุ ุจูุงุจุฑุงู ูพูุดุด ุชุณุช ฺฉุฏ ฺฉูพุงุฑฺู ูุฒ ููู ุงุณุช. ุจุฑุง ุงุฌุงุฏ ุชุณุชโูุง ฺฉูพุงุฑฺูุ ุงุจุชุฏุง ุจู ฺฉ ุฏุงุฑฺฉุชูุฑ ุจู ูุงู <em>tests</em> ูุงุฒ ุฏุงุฑุฏ.</p>
<h4 id="ุฏุงุฑฺฉุชูุฑ-tests"><a class="header" href="#ุฏุงุฑฺฉุชูุฑ-tests">ุฏุงุฑฺฉุชูุฑ <em>tests</em></a></h4>
<p>ูุง ฺฉ ุฏุงุฑฺฉุชูุฑ ุจู ูุงู <em>tests</em> ุฏุฑ ุณุทุญ ุจุงูุง ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู ุฎูุฏุ ุฏุฑ ฺฉูุงุฑ <em>src</em> ุงุฌุงุฏ ูโฺฉูู. Cargo ูโุฏุงูุฏ ฺฉู ุจุงุฏ ุจู ุฏูุจุงู ูุงูโูุง ุชุณุช ฺฉูพุงุฑฺู ุฏุฑ ุงู ุฏุงุฑฺฉุชูุฑ ุจฺฏุฑุฏุฏ. ุณูพุณ ูโุชูุงูู ุจู ูุฑ ุชุนุฏุงุฏ ูุงู ุชุณุช ฺฉู ูโุฎูุงูู ุงุฌุงุฏ ฺฉููุ ู Cargo ูุฑ ฺฉ ุงุฒ ูุงูโูุง ุฑุง ุจู ุนููุงู ฺฉ crate ุฌุฏุงฺฏุงูู ฺฉุงููพุงู ูโฺฉูุฏ.</p>
<p>ุจุงุฏ ฺฉ ุชุณุช ฺฉูพุงุฑฺู ุงุฌุงุฏ ฺฉูู. ุจุง ฺฉุฏ ฺฉู ูููุฒ ุฏุฑ ูุงู <em>src/lib.rs</em> ุงุฒ ูุณุช ฑฑ-ฑฒ ูุฑุงุฑ ุฏุงุฑุฏุ ฺฉ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุงุฌุงุฏ ฺฉูุฏ ู ฺฉ ูุงู ุฌุฏุฏ ุจู ูุงู <em>tests/integration_test.rs</em> ุจุณุงุฒุฏ. ุณุงุฎุชุงุฑ ุฏุงุฑฺฉุชูุฑ ุดูุง ุจุงุฏ ุจู ุงู ุตูุฑุช ุจุงุดุฏ:</p>
<pre><code class="language-text">adder
โโโ Cargo.lock
โโโ Cargo.toml
โโโ src
โยย โโโ lib.rs
โโโ tests
    โโโ integration_test.rs
</code></pre>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฑฑ-ฑณ ุฑุง ุฏุฑ ูุงู <em>tests/integration_test.rs</em> ูุงุฑุฏ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: tests/integration_test.rs</span>
<pre><code class="language-rust ignore">use adder::add_two;

#[test]
fn it_adds_two() {
    let result = add_two(2);
    assert_eq!(result, 4);
}</code></pre>
<figcaption>Listing 11-13: ฺฉ ุชุณุช ฺฉูพุงุฑฺู ุจุฑุง ุชุงุจุน ุฏุฑ crate <code>adder</code></figcaption>
</figure>
<p>ูุฑ ูุงู ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ฺฉ crate ุฌุฏุงฺฏุงูู ุงุณุชุ ุจูุงุจุฑุงู ุจุงุฏ ฺฉุชุงุจุฎุงูู ุฎูุฏ ุฑุง ุจู ุฏุงููู ูุฑ crate ุชุณุช ูุงุฑุฏ ฺฉูู. ุจู ููู ุฏููุ ุฏุฑ ุจุงูุง ฺฉุฏ <code>use adder::add_two;</code> ุฑุง ุงุถุงูู ูโฺฉููุ ฺฉู ุฏุฑ ุชุณุชโูุง ูุงุญุฏ ูุงุฒ ุจู ุขู ูุฏุงุดุชู.</p>
<p>ูุงุฒ ูุณุช ูฺ ฺฉุฏ ุฏุฑ ูุงู <em>tests/integration_test.rs</em> ุฑุง ุจุง <code>#[cfg(test)]</code> ุนูุงูุชโฺฏุฐุงุฑ ฺฉูู. Cargo ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุฑุง ุจู ุทูุฑ ุฎุงุต ูุฏุฑุช ูโฺฉูุฏ ู ูุงูโูุง ููุฌูุฏ ุฏุฑ ุงู ุฏุงุฑฺฉุชูุฑ ุฑุง ููุท ุฒูุงู ฺฉู <code>cargo test</code> ุงุฌุฑุง ฺฉูู ฺฉุงููพุงู ูโฺฉูุฏ. ุงฺฉููู <code>cargo test</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1.31s
     Running unittests src/lib.rs (target/debug/deps/adder-1082c4b063a8fbe6)

running 1 test
test tests::internal ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration_test.rs (target/debug/deps/integration_test-1082c4b063a8fbe6)

running 1 test
test it_adds_two ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุณู ุจุฎุด ุฎุฑูุฌ ุดุงูู ุชุณุชโูุง ูุงุญุฏุ ุชุณุช ฺฉูพุงุฑฺูุ ู ุชุณุชโูุง ูุณุชูุฏุงุช ูุณุชูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงฺฏุฑ ูุฑ ุชุณุช ุฏุฑ ฺฉ ุจุฎุด ุดฺฉุณุช ุจุฎูุฑุฏุ ุจุฎุดโูุง ุจุนุฏ ุงุฌุฑุง ูุฎูุงููุฏ ุดุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ฺฉ ุชุณุช ูุงุญุฏ ุดฺฉุณุช ุจุฎูุฑุฏุ ูฺ ุฎุฑูุฌโุง ุจุฑุง ุชุณุชโูุง ฺฉูพุงุฑฺู ู ูุณุชูุฏุงุช ูุฌูุฏ ูุฎูุงูุฏ ุฏุงุดุช ุฒุฑุง ุขู ุชุณุชโูุง ููุท ุฏุฑ ุตูุฑุช ุงุฌุฑุง ูโุดููุฏ ฺฉู ุชูุงู ุชุณุชโูุง ูุงุญุฏ ูพุงุณ ุดููุฏ.</p>
<p>ุจุฎุด ุงูู ุจุฑุง ุชุณุชโูุง ูุงุญุฏ ููุงู ฺุฒ ุงุณุช ฺฉู ูุจูุงู ุฏุฏูโุงู: ฺฉ ุฎุท ุจุฑุง ูุฑ ุชุณุช ูุงุญุฏ (ฺฉ ุจู ูุงู <code>internal</code> ฺฉู ุฏุฑ ูุณุช ฑฑ-ฑฒ ุงุถุงูู ฺฉุฑุฏู) ู ุณูพุณ ฺฉ ุฎุท ุฎูุงุตู ุจุฑุง ุชุณุชโูุง ูุงุญุฏ.</p>
<p>ุจุฎุด ุชุณุชโูุง ฺฉูพุงุฑฺู ุจุง ุฎุท <code>Running tests/integration_test.rs</code> ุดุฑูุน ูโุดูุฏ. ุณูพุณ ฺฉ ุฎุท ุจุฑุง ูุฑ ุชุงุจุน ุชุณุช ุฏุฑ ุขู ุชุณุช ฺฉูพุงุฑฺู ู ฺฉ ุฎุท ุฎูุงุตู ุจุฑุง ูุชุงุฌ ุชุณุช ฺฉูพุงุฑฺู ุฏููุงู ูุจู ุงุฒ ุดุฑูุน ุจุฎุด <code>Doc-tests adder</code> ูุฌูุฏ ุฏุงุฑุฏ.</p>
<p>ูุฑ ูุงู ุชุณุช ฺฉูพุงุฑฺู ุจุฎุด ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ูุงูโูุง ุจุดุชุฑ ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุงุถุงูู ฺฉููุ ุจุฎุดโูุง ุจุดุชุฑ ุจุฑุง ุชุณุชโูุง ฺฉูพุงุฑฺู ุฎูุงูู ุฏุงุดุช.</p>
<p>ูุง ูููุฒ ูโุชูุงูู ฺฉ ุชุงุจุน ุชุณุช ุฎุงุต ุฏุฑ ฺฉูพุงุฑฺู ุฑุง ุจุง ูุดุฎุต ฺฉุฑุฏู ูุงู ุชุงุจุน ุชุณุช ุจู ุนููุงู ฺฉ ุขุฑฺฏููุงู ุจุฑุง <code>cargo test</code> ุงุฌุฑุง ฺฉูู. ุจุฑุง ุงุฌุฑุง ุชูุงู ุชุณุชโูุง ฺฉ ูุงู ุชุณุช ฺฉูพุงุฑฺู ุฎุงุตุ ุงุฒ ุขุฑฺฏููุงู <code>--test</code> ุจุฑุง <code>cargo test</code> ุจู ููุฑุงู ูุงู ูุงู ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo test --test integration_test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.64s
     Running tests/integration_test.rs (target/debug/deps/integration_test-82e7799c1bc62298)

running 1 test
test it_adds_two ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุงู ูุฑูุงู ููุท ุชุณุชโูุง ููุฌูุฏ ุฏุฑ ูุงู <em>tests/integration_test.rs</em> ุฑุง ุงุฌุฑุง ูโฺฉูุฏ.</p>
<h4 id="ุฒุฑูุงฺูููุง-ุฏุฑ-ุชุณุชูุง-ฺฉูพุงุฑฺู"><a class="header" href="#ุฒุฑูุงฺูููุง-ุฏุฑ-ุชุณุชูุง-ฺฉูพุงุฑฺู">ุฒุฑูุงฺููโูุง ุฏุฑ ุชุณุชโูุง ฺฉูพุงุฑฺู</a></h4>
<p>ุจุง ุงุถุงูู ฺฉุฑุฏู ุชุณุชโูุง ฺฉูพุงุฑฺู ุจุดุชุฑุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ูุงูโูุง ุจุดุชุฑ ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุจุฑุง ฺฉูฺฉ ุจู ุณุงุฒูุงูุฏู ุขูโูุง ุงุฌุงุฏ ฺฉูุฏุ ุจุฑุง ูุซุงูุ ูโุชูุงูุฏ ุชูุงุจุน ุชุณุช ุฑุง ุจุฑ ุงุณุงุณ ุนููฺฉุฑุฏ ฺฉู ุชุณุช ูโฺฉููุฏ ฺฏุฑููโุจูุฏ ฺฉูุฏ. ููุงูุทูุฑ ฺฉู ูุจูุงู ุฐฺฉุฑ ุดุฏุ ูุฑ ูุงู ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุจู ุนููุงู ฺฉ crate ุฌุฏุงฺฏุงูู ฺฉุงููพุงู ูโุดูุฏุ ฺฉู ุจุฑุง ุงุฌุงุฏ ุฏุงูููโูุง ุฌุฏุงฺฏุงูู ููุฏ ุงุณุช ุชุง ุจุดุชุฑ ุดุจู ูุญูู ุงุณุชูุงุฏู ฺฉุงุฑุจุฑุงู ููุง ุงุฒ crate ุดูุง ุจุงุดุฏ. ุจุง ุงู ุญุงูุ ุงู ุจู ุงู ูุนู ุงุณุช ฺฉู ูุงูโูุง ููุฌูุฏ ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุฑูุชุงุฑ ฺฉุณุงู ุจุง ูุงูโูุง ููุฌูุฏ ุฏุฑ <em>src</em> ูุฏุงุฑูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุตู ท ุฏุฑุจุงุฑู ุฌุฏุง ฺฉุฑุฏู ฺฉุฏ ุจู ูุงฺููโูุง ู ูุงูโูุง ุขููุฎุชุฏ.</p>
<p>ุงู ุฑูุชุงุฑ ูุชูุงูุช ูุงูโูุง ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุจุดุชุฑู ุชูุฌู ุฑุง ุฒูุงู ุฌูุจ ูโฺฉูุฏ ฺฉู ูุฌููุนูโุง ุงุฒ ุชูุงุจุน ฺฉูฺฉ ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ฺูุฏู ูุงู ุชุณุช ฺฉูพุงุฑฺู ุฏุงุฑุฏ ู ุณุน ูโฺฉูุฏ ูุฑุงุญู ุจุฎุด <a href="ch07-05-separating-modules-into-different-files.html">โุฌุฏุง ฺฉุฑุฏู ูุงฺููโูุง ุจู ูุงูโูุง ูุฎุชููโ</a><!-- ignore --> ุฏุฑ ูุตู ท ุฑุง ุจุฑุง ุงุณุชุฎุฑุงุฌ ุขูโูุง ุจู ฺฉ ูุงฺูู ูุดุชุฑฺฉ ุฏูุจุงู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ <em>tests/common.rs</em> ุงุฌุงุฏ ฺฉูู ู ฺฉ ุชุงุจุน ุจู ูุงู <code>setup</code> ุฏุฑ ุขู ูุฑุงุฑ ุฏููุ ูโุชูุงูู ฺฉุฏ ุจู <code>setup</code> ุงุถุงูู ฺฉูู ฺฉู ูโุฎูุงูู ุงุฒ ฺูุฏู ุชุงุจุน ุชุณุช ุฏุฑ ฺูุฏู ูุงู ุชุณุช ูุฑุงุฎูุงู ฺฉูู:</p>
<p><span class="filename">Filename: tests/common.rs</span></p>
<pre><code class="language-rust noplayground">pub fn setup() {
    // setup code specific to your library's tests would go here
}</code></pre>
<p>ููุช ุฏูุจุงุฑู ุชุณุชโูุง ุฑุง ุงุฌุฑุง ูโฺฉููุ ฺฉ ุจุฎุด ุฌุฏุฏ ุฏุฑ ุฎุฑูุฌ ุชุณุช ุจุฑุง ูุงู <em>common.rs</em> ุฎูุงูู ุฏุฏุ ุญุช ุงฺฏุฑ ุงู ูุงู ูฺ ุชุงุจุน ุชุณุช ูุฏุงุฑุฏ ู ุชุงุจุน <code>setup</code> ุฑุง ุงุฒ ูฺ ุฌุง ูุฑุงุฎูุงู ูฺฉุฑุฏูโุงู:</p>
<pre><code class="language-console">$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.89s
     Running unittests src/lib.rs (target/debug/deps/adder-92948b65e88960b4)

running 1 test
test tests::internal ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/common.rs (target/debug/deps/common-92948b65e88960b4)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration_test.rs (target/debug/deps/integration_test-92948b65e88960b4)

running 1 test
test it_adds_two ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุฏุงุดุชู <code>common</code> ุฏุฑ ูุชุงุฌ ุชุณุช ุจุง <code>running 0 tests</code> ููุงุด ุฏุงุฏู ุดุฏู ุจุฑุง ุขูุ ฺุฒ ูุจูุฏ ฺฉู ูโุฎูุงุณุชู. ูุง ููุท ูโุฎูุงุณุชู ุจุฑุฎ ฺฉุฏูุง ุฑุง ุจุง ุฏฺฏุฑ ูุงูโูุง ุชุณุช ฺฉูพุงุฑฺู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑู. ุจุฑุง ุฌููฺฏุฑ ุงุฒ ููุงุด <code>common</code> ุฏุฑ ุฎุฑูุฌ ุชุณุชุ ุจู ุฌุง ุงุฌุงุฏ <em>tests/common.rs</em>ุ ูุงู <em>tests/common/mod.rs</em> ุฑุง ุงุฌุงุฏ ูโฺฉูู. ุงฺฉููู ุณุงุฎุชุงุฑ ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู ุจู ุงู ุดฺฉู ุงุณุช:</p>
<pre><code class="language-text">โโโ Cargo.lock
โโโ Cargo.toml
โโโ src
โยย โโโ lib.rs
โโโ tests
    โโโ common
    โยย โโโ mod.rs
    โโโ integration_test.rs
</code></pre>
<p>ุงู ฺฉ ูุงูโฺฏุฐุงุฑ ูุฏู ุงุณุช ฺฉู Rust ูุฒ ุขู ุฑุง ุฏุฑฺฉ ูโฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch07-05-separating-modules-into-different-files.html#alternate-file-paths">โูุณุฑูุง ุฌุงฺฏุฒู ูุงูโ</a><!-- ignore --> ูุตู ท ุฐฺฉุฑ ุดุฏ. ูุงูโฺฏุฐุงุฑ ูุงู ุจู ุงู ุดฺฉู ุจู Rust ูโฺฏูุฏ ฺฉู ูุงฺูู <code>common</code> ุฑุง ุจู ุนููุงู ฺฉ ูุงู ุชุณุช ฺฉูพุงุฑฺู ุฏุฑ ูุธุฑ ูฺฏุฑุฏ. ููุช ฺฉุฏ ุชุงุจุน <code>setup</code> ุฑุง ุจู <em>tests/common/mod.rs</em> ููุชูู ูโฺฉูู ู ูุงู <em>tests/common.rs</em> ุฑุง ุญุฐู ูโฺฉููุ ุฏฺฏุฑ ุจุฎุด ูุฑุจูุทู ุฏุฑ ุฎุฑูุฌ ุชุณุช ุธุงูุฑ ูุฎูุงูุฏ ุดุฏ. ูุงูโูุง ููุฌูุฏ ุฏุฑ ุฒุฑุดุงุฎูโูุง ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุจู ุนููุงู crateโูุง ุฌุฏุงฺฏุงูู ฺฉุงููพุงู ููโุดููุฏ ุง ุจุฎุดโูุง ุฏุฑ ุฎุฑูุฌ ุชุณุช ูุฏุงุฑูุฏ.</p>
<p>ูพุณ ุงุฒ ุงุฌุงุฏ <em>tests/common/mod.rs</em>ุ ูโุชูุงูู ุงุฒ ุขู ุจู ุนููุงู ฺฉ ูุงฺูู ุฏุฑ ูุฑ ฺฉ ุงุฒ ูุงูโูุง ุชุณุช ฺฉูพุงุฑฺู ุงุณุชูุงุฏู ฺฉูู. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุงุฒ ูุฑุงุฎูุงู ุชุงุจุน <code>setup</code> ุงุฒ ุชุณุช <code>it_adds_two</code> ุฏุฑ <em>tests/integration_test.rs</em> ุขูุฏู ุงุณุช:</p>
<p><span class="filename">Filename: tests/integration_test.rs</span></p>
<pre><code class="language-rust ignore">use adder::add_two;

mod common;

#[test]
fn it_adds_two() {
    common::setup();

    let result = add_two(2);
    assert_eq!(result, 4);
}</code></pre>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงุนูุงู <code>mod common;</code> ูุดุงุจู ุงุนูุงู ูุงฺูู ุงุณุช ฺฉู ุฏุฑ ูุณุช ท-ฒฑ ูุดุงู ุฏุงุฏู. ุณูพุณุ ุฏุฑ ุชุงุจุน ุชุณุชุ ูโุชูุงูู ุชุงุจุน <code>common::setup()</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู.</p>
<h4 id="ุชุณุชูุง-ฺฉูพุงุฑฺู-ุจุฑุง-crateูุง-ุฏูุฏู"><a class="header" href="#ุชุณุชูุง-ฺฉูพุงุฑฺู-ุจุฑุง-crateูุง-ุฏูุฏู">ุชุณุชโูุง ฺฉูพุงุฑฺู ุจุฑุง crateโูุง ุฏูุฏู</a></h4>
<p>ุงฺฏุฑ ูพุฑูฺู ูุง ฺฉ crate ุฏูุฏู ุจุงุดุฏ ฺฉู ููุท ุดุงูู ฺฉ ูุงู <em>src/main.rs</em> ุงุณุช ู ูุงู <em>src/lib.rs</em> ูุฏุงุฑุฏุ ููโุชูุงูู ุชุณุชโูุง ฺฉูพุงุฑฺู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>tests</em> ุงุฌุงุฏ ฺฉูู ู ุชูุงุจุน ุชุนุฑูโุดุฏู ุฏุฑ ูุงู <em>src/main.rs</em> ุฑุง ุจุง ฺฉ ุนุจุงุฑุช <code>use</code> ุจู ุฏุงููู ูุงุฑุฏ ฺฉูู. ููุท crateโูุง ฺฉุชุงุจุฎุงููโุง ุชูุงุจุน ุฑุง ฺฉู ุณุงุฑ crateโูุง ูโุชูุงููุฏ ุงุณุชูุงุฏู ฺฉููุฏ ุฏุฑ ูุนุฑุถ ูุฑุงุฑ ูโุฏููุฏุ crateโูุง ุฏูุฏู ุจุฑุง ุงุฌุฑุง ูุณุชูู ุทุฑุงุญ ุดุฏูโุงูุฏ.</p>
<p>ุงู ฺฉ ุงุฒ ุฏูุงู ุงุณุช ฺฉู ูพุฑูฺูโูุง Rust ฺฉู ฺฉ ุฏูุฏู ุงุฑุงุฆู ูโุฏููุฏุ ูุนูููุงู ฺฉ ูุงู <em>src/main.rs</em> ุณุงุฏู ุฏุงุฑูุฏ ฺฉู ุจู ููุทู ููุฌูุฏ ุฏุฑ ูุงู <em>src/lib.rs</em> ูุฑุงุฎูุงู ูโฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุณุงุฎุชุงุฑุ ุชุณุชโูุง ฺฉูพุงุฑฺู ูโุชูุงููุฏ crate ฺฉุชุงุจุฎุงููโุง ุฑุง ุจุง <code>use</code> ุชุณุช ฺฉููุฏ ุชุง ูุงุจูุช ููู ุฑุง ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ุฏููุฏ. ุงฺฏุฑ ูุงุจูุช ููู ฺฉุงุฑ ฺฉูุฏุ ููุฏุงุฑ ฺฉู ฺฉุฏ ุฏุฑ ูุงู <em>src/main.rs</em> ูุฒ ฺฉุงุฑ ุฎูุงูุฏ ฺฉุฑุฏุ ู ูุงุฒ ุจู ุชุณุช ุขู ููุฏุงุฑ ฺฉู ุงุฒ ฺฉุฏ ูุณุช.</p>
<h2 id="ุฎูุงุตู-10"><a class="header" href="#ุฎูุงุตู-10">ุฎูุงุตู</a></h2>
<p>ูฺฺฏโูุง ุชุณุชโููุณ ุฏุฑ Rust ุฑุงู ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ูุญูู ุนููฺฉุฑุฏ ฺฉุฏ ูุฑุงูู ูโฺฉููุฏ ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ฺฉุฏ ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ูโุฑูุฏ ฺฉุงุฑ ูโฺฉูุฏุ ุญุช ุฒูุงู ฺฉู ุชุบุฑุงุช ุฏุฑ ุขู ุงุฌุงุฏ ูโฺฉูุฏ. ุชุณุชโูุง ูุงุญุฏ ุจุฎุดโูุง ูุฎุชูู ฺฉ ฺฉุชุงุจุฎุงูู ุฑุง ุจู ุทูุฑ ุฌุฏุงฺฏุงูู ุขุฒูุงุด ูโฺฉููุฏ ู ูโุชูุงููุฏ ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุฎุตูุต ุฑุง ุชุณุช ฺฉููุฏ. ุชุณุชโูุง ฺฉูพุงุฑฺู ุจุฑุฑุณ ูโฺฉููุฏ ฺฉู ุขุง ุจุฎุดโูุง ูุฎุชูู ฺฉุชุงุจุฎุงูู ุจู ุฏุฑุณุช ุจุง ฺฉุฏฺฏุฑ ฺฉุงุฑ ูโฺฉููุฏ ุง ููุ ู ุงุฒ ุฑุงุจุท ุนููู ฺฉุชุงุจุฎุงูู ุจุฑุง ุชุณุช ฺฉุฏ ุจู ููุงู ุฑูุด ฺฉู ฺฉุฏ ุฎุงุฑุฌ ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงุณุชูุงุฏู ูโฺฉููุฏ. ุญุช ุจุง ูุฌูุฏ ุงูฺฉู ุณุณุชู ููุนโูุง ู ููุงูู ูุงูฺฉุช ุฏุฑ Rust ุจู ุฌููฺฏุฑ ุงุฒ ุจุฑุฎ ุงููุงุน ุจุงฺฏโูุง ฺฉูฺฉ ูโฺฉูุฏุ ุชุณุชโูุง ููฺูุงู ุจุฑุง ฺฉุงูุด ุจุงฺฏโูุง ููุทู ฺฉู ุจู ูุญูู ุนููฺฉุฑุฏ ููุฑุฏ ุงูุชุธุงุฑ ฺฉุฏ ูุฑุจูุท ูโุดููุฏุ ููู ูุณุชูุฏ.</p>
<p>ุจุงุฏ ุฏุงูุด ุฎูุฏ ุฑุง ฺฉู ุฏุฑ ุงู ูุตู ู ูุตูโูุง ูุจู ุงุฏ ฺฏุฑูุชุฏุ ุชุฑฺฉุจ ฺฉุฑุฏู ู ุฑู ฺฉ ูพุฑูฺู ฺฉุงุฑ ฺฉูู!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ฺฉ-ูพุฑูฺู-ูุฑูุฏุฎุฑูุฌ-ุณุงุฎุช-ฺฉ-ุจุฑูุงูู-ุฎุท-ูุฑูุงู"><a class="header" href="#ฺฉ-ูพุฑูฺู-ูุฑูุฏุฎุฑูุฌ-ุณุงุฎุช-ฺฉ-ุจุฑูุงูู-ุฎุท-ูุฑูุงู">ฺฉ ูพุฑูฺู ูุฑูุฏ/ุฎุฑูุฌ: ุณุงุฎุช ฺฉ ุจุฑูุงูู ุฎุท ูุฑูุงู</a></h1>
<p>ุงู ูุตู ูุฑูุฑ ุจุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุชโูุง ุงุณุช ฺฉู ุชุง ฺฉููู ุขููุฎุชูโุงุฏ ู ููฺูู ุจุฑุฑุณ ฺูุฏ ูฺฺฏ ุฏฺฏุฑ ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ. ูุง ฺฉ ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ุฎูุงูู ุณุงุฎุช ฺฉู ุจุง ูุฑูุฏ/ุฎุฑูุฌ ูุงู ู ุฎุท ูุฑูุงู ุชุนุงูู ูโฺฉูุฏ ุชุง ุจุฑุฎ ุงุฒ ููุงูู Rust ุฑุง ฺฉู ุงฺฉููู ุฏุฑ ุงุฎุชุงุฑ ุฏุงุฑุฏ ุชูุฑู ฺฉูู.</p>
<p>ุณุฑุนุชุ ุงููุ ุฎุฑูุฌ ุชฺฉโุจุงูุฑ ู ูพุดุชุจุงู ฺูุฏโูพูุชูุฑู Rustุ ุขู ุฑุง ุจู ุฒุจุงู ุงุฏูโุขู ุจุฑุง ุงุฌุงุฏ ุงุจุฒุงุฑูุง ุฎุท ูุฑูุงู ุชุจุฏู ูโฺฉูุฏ. ุจูุงุจุฑุงู ุจุฑุง ูพุฑูฺู ุฎูุฏุ ูุณุฎูโุง ุงุฒ ุงุจุฒุงุฑ ุฌุณุชุฌู ุฎุท ูุฑูุงู ฺฉูุงุณฺฉ <code>grep</code> (<strong>g</strong>lobally search a <strong>r</strong>egular <strong>e</strong>xpression and <strong>p</strong>rint) ุฑุง ุฎูุงูู ุณุงุฎุช. ุฏุฑ ุณุงุฏูโุชุฑู ุญุงูุชุ <code>grep</code> ฺฉ ูุงู ูุดุฎุต ุฑุง ุจุฑุง ฺฉ ุฑุดุชู ูุดุฎุต ุฌุณุชุฌู ูโฺฉูุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ <code>grep</code> ุจู ุนููุงู ุขุฑฺฏููุงูโูุง ุฎูุฏ ูุณุฑ ูุงู ู ฺฉ ุฑุดุชู ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ. ุณูพุณ ูุงู ุฑุง ูโุฎูุงูุฏุ ุฎุทูุท ฺฉู ุดุงูู ุขุฑฺฏููุงู ุฑุดุชู ูุณุชูุฏ ุฑุง ูพุฏุง ูโฺฉูุฏ ู ุขู ุฎุทูุท ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุทูู ูุณุฑุ ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฉู ฺฺฏููู ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ูุง ุงุฒ ูฺฺฏโูุง ุชุฑููุงู ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุจุณุงุฑ ุงุฒ ุงุจุฒุงุฑูุง ุฎุท ูุฑูุงู ุฏฺฏุฑ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ูโฺฉููุฏ. ููุฏุงุฑ ฺฉ ูุชุบุฑ ูุญุท ุฑุง ุจุฑุง ุงุฌุงุฒู ุจู ฺฉุงุฑุจุฑ ุจุฑุง ูพฺฉุฑุจูุฏ ุฑูุชุงุฑ ุงุจุฒุงุฑ ุฎูุฏ ูโุฎูุงูู. ููฺูู ูพุงูโูุง ุฎุทุง ุฑุง ุจู ุฌุฑุงู ฺฉูุณูู ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ (<code>stderr</code>) ุจู ุฌุง ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ (<code>stdout</code>) ฺุงูพ ูโฺฉูู ุชุง ูุซูุงู ฺฉุงุฑุจุฑ ุจุชูุงูุฏ ุฎุฑูุฌ ููููุชโุขูุฒ ุฑุง ุจู ฺฉ ูุงู ูุฏุงุช ฺฉูุฏ ุฏุฑ ุญุงู ฺฉู ูููุฒ ูพุงูโูุง ุฎุทุง ุฑุง ุฑู ุตูุญู ูุดุงูุฏู ูโฺฉูุฏ.</p>
<p>ฺฉ ุงุฒ ุงุนุถุง ุฌุงูุนู Rustุ Andrew Gallantุ ูุณุฎูโุง ฺฉุงููุ ุจุณุงุฑ ุณุฑุน ุงุฒ <code>grep</code> ุจู ูุงู <code>ripgrep</code> ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุช. ุฏุฑ ููุงุณูุ ูุณุฎู ูุง ูุณุจุชุงู ุณุงุฏู ุฎูุงูุฏ ุจูุฏุ ุงูุง ุงู ูุตู ุจู ุดูุง ุจุฑุฎ ุงุฒ ุฏุงูุดโูุง ูพุงูโุง ฺฉู ุจุฑุง ุฏุฑฺฉ ูพุฑูฺูโูุง ูุงูุน ูุงููุฏ <code>ripgrep</code> ูุงุฒ ุฏุงุฑุฏ ุฑุง ุฎูุงูุฏ ุฏุงุฏ.</p>
<p>ูพุฑูฺู <code>grep</code> ูุง ุชุฑฺฉุจ ุงุฒ ุชุนุฏุงุฏ ููุงูู ุงุณุช ฺฉู ุชุงฺฉููู ุขููุฎุชูโุงุฏ:</p>
<ul>
<li>ุณุงุฒูุงูุฏู ฺฉุฏ (<a href="ch07-00-managing-growing-projects-with-packages-crates-and-modules.html">ูุตู ท</a><!-- ignore -->)</li>
<li>ุงุณุชูุงุฏู ุงุฒ ุจุฑุฏุงุฑูุง ู ุฑุดุชูโูุง (<a href="ch08-00-common-collections.html">ูุตู ธ</a><!-- ignore -->)</li>
<li>ูุฏุฑุช ุฎุทุงูุง (<a href="ch09-00-error-handling.html">ูุตู น</a><!-- ignore -->)</li>
<li>ุงุณุชูุงุฏู ุงุฒ ุตูุงุช ู ุทูู ุนูุฑูุง ุฏุฑ ููุงุฑุฏ ููุงุณุจ (<a href="ch10-00-generics.html">ูุตู ฑฐ</a><!-- ignore -->)</li>
<li>ููุดุชู ุชุณุชโูุง (<a href="ch11-00-testing.html">ูุตู ฑฑ</a><!-- ignore -->)</li>
</ul>
<p>ููฺูู ุจู ุทูุฑ ูุฎุชุตุฑ ุจู ูุนุฑู closuresุ iteratorsุ ู trait objects ูโูพุฑุฏุงุฒู ฺฉู ุจู ุทูุฑ ฺฉุงูู ุฏุฑ <a href="ch13-00-functional-features.html">ูุตู ฑณ</a><!-- ignore --> ู <a href="ch18-00-oop.html">ูุตู ฑธ</a><!-- ignore --> ูพูุดุด ุฏุงุฏู ุฎูุงููุฏ ุดุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูพุฐุฑุด-ุขุฑฺฏููุงููุง-ุฎุท-ูุฑูุงู"><a class="header" href="#ูพุฐุฑุด-ุขุฑฺฏููุงููุง-ุฎุท-ูุฑูุงู">ูพุฐุฑุด ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู</a></h2>
<p>ุจุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo new</code> ฺฉ ูพุฑูฺู ุฌุฏุฏ ุงุฌุงุฏ ฺฉูู. ูพุฑูฺู ุฎูุฏ ุฑุง <code>minigrep</code> ูโูุงูู ุชุง ุขู ุฑุง ุงุฒ ุงุจุฒุงุฑ <code>grep</code> ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุณุณุชู ุดูุง ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ูุชูุงุฒ ฺฉูู.</p>
<pre><code class="language-console">$ cargo new minigrep
     Created binary (application) `minigrep` project
$ cd minigrep
</code></pre>
<p>ุงููู ฺฉุงุฑ ุงู ุงุณุช ฺฉู <code>minigrep</code> ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุฎูุฏุ ุดุงูู ูุณุฑ ูุงู ู ุฑุดุชูโุง ุจุฑุง ุฌุณุชุฌูุ ุฑุง ุจูพุฐุฑุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูโุฎูุงูู ุจุชูุงูู ุจุฑูุงูู ุฎูุฏ ุฑุง ุจุง <code>cargo run</code>ุ ุฏู ุฎุท ุชุฑู ุจุฑุง ูุดุงู ุฏุงุฏู ุงูฺฉู ุขุฑฺฏููุงูโูุง ุจุนุฏ ุจุฑุง ุจุฑูุงูู ูุง ูุณุชูุฏ ู ูู ุจุฑุง <code>cargo</code>ุ ฺฉ ุฑุดุชู ุจุฑุง ุฌุณุชุฌู ู ฺฉ ูุณุฑ ูุงู ุจุฑุง ุฌุณุชุฌู ุงุฌุฑุง ฺฉููุ ูุงููุฏ ุฒุฑ:</p>
<pre><code class="language-console">$ cargo run -- searchstring example-filename.txt
</code></pre>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุจุฑูุงููโุง ฺฉู ุชูุณุท <code>cargo new</code> ุชููุฏ ุดุฏู ุงุณุช ููโุชูุงูุฏ ุขุฑฺฏููุงูโูุง ฺฉู ุจู ุขู ูโุฏูู ุฑุง ูพุฑุฏุงุฒุด ฺฉูุฏ. ุจุฑุฎ ฺฉุชุงุจุฎุงููโูุง ููุฌูุฏ ุฏุฑ <a href="https://crates.io/">crates.io</a> ูโุชูุงููุฏ ุจุฑุง ููุดุชู ุจุฑูุงููโุง ฺฉู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุฑุง ุจูพุฐุฑุฏ ฺฉูฺฉ ฺฉููุฏุ ุงูุง ฺูู ุดูุง ุชุงุฒู ุจุง ุงู ููููู ุขุดูุง ูโุดูุฏุ ุจุงุฏ ุงู ูุงุจูุช ุฑุง ุฎูุฏูุงู ูพุงุฏูโุณุงุฒ ฺฉูู.</p>
<h3 id="ุฎูุงูุฏู-ููุงุฏุฑ-ุขุฑฺฏููุงููุง"><a class="header" href="#ุฎูุงูุฏู-ููุงุฏุฑ-ุขุฑฺฏููุงููุง">ุฎูุงูุฏู ููุงุฏุฑ ุขุฑฺฏููุงูโูุง</a></h3>
<p>ุจุฑุง ุงูฺฉู <code>minigrep</code> ุจุชูุงูุฏ ููุงุฏุฑ ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุฑุง ฺฉู ุจู ุขู ูโุฏูู ุจุฎูุงูุฏุ ุจู ุชุงุจุน <code>std::env::args</code> ฺฉู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ุงุฑุงุฆู ุดุฏู ุงุณุช ูุงุฒ ุฎูุงูู ุฏุงุดุช. ุงู ุชุงุจุน ฺฉ iterator ุงุฒ ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ฺฉู ุจู <code>minigrep</code> ุฏุงุฏู ุดุฏู ุงุณุช ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุง ุฏุฑ <a href="ch13-00-functional-features.html">ูุตู ฑณ</a><!-- ignore --> ุจู ุทูุฑ ฺฉุงูู iteratorูุง ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ููุท ุจุงุฏ ุฏู ูฺฉุชู ุฏุฑุจุงุฑู iteratorูุง ุจุฏุงูุฏ: iteratorูุง ฺฉ ุณุฑ ููุงุฏุฑ ุชููุฏ ูโฺฉููุฏ ู ูุง ูโุชูุงูู ุชุงุจุน <code>collect</code> ุฑุง ุฑู ฺฉ iterator ูุฑุงุฎูุงู ฺฉูู ุชุง ุขู ุฑุง ุจู ฺฉ collectionุ ูุงููุฏ ฺฉ ุจุฑุฏุงุฑุ ฺฉู ุดุงูู ุชูุงู ุนูุงุตุฑ ุชููุฏุดุฏู ุชูุณุท iterator ุงุณุชุ ุชุจุฏู ฺฉูู.</p>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฑฒ-ฑ ุจู ุจุฑูุงูู <code>minigrep</code> ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ูุฑ ุขุฑฺฏููุงู ุฎุท ูุฑูุงู ฺฉู ุจู ุขู ุฏุงุฏู ุดุฏู ุฑุง ุจุฎูุงูุฏ ู ุณูพุณ ููุงุฏุฑ ุฑุง ุจู ฺฉ ุจุฑุฏุงุฑ ุฌูุนโุขูุฑ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::env;

fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();
    dbg!(args);
}</code></pre></pre>
<figcaption>Listing 12-1: ุฌูุนโุขูุฑ ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุจู ฺฉ ุจุฑุฏุงุฑ ู ฺุงูพ ุขูโูุง</figcaption>
</figure>
<p>ุงุจุชุฏุง ูุงฺูู <code>std::env</code> ุฑุง ุจุง ฺฉ ุฏุณุชูุฑ <code>use</code> ุจู ุฏุงููู ูุงุฑุฏ ูโฺฉูู ุชุง ุจุชูุงูู ุงุฒ ุชุงุจุน <code>args</code> ุขู ุงุณุชูุงุฏู ฺฉูู. ุชูุฌู ฺฉูุฏ ฺฉู ุชุงุจุน <code>std::env::args</code> ุฏุฑ ุฏู ุณุทุญ ูุงฺูู ุชู ุฏุฑ ุชู ูุฑุงุฑ ุฏุงุฑุฏ. ููุงูุทูุฑ ฺฉู ุฏุฑ <a href="ch07-04-bringing-paths-into-scope-with-the-use-keyword.html#creating-idiomatic-use-paths">ูุตู ท</a><!-- ignore --> ุจุญุซ ฺฉุฑุฏูุ ุฏุฑ ููุงุฑุฏ ฺฉู ุชุงุจุน ููุฑุฏูุธุฑ ุฏุฑ ุจุด ุงุฒ ฺฉ ูุงฺูู ุชู ุฏุฑ ุชู ูุฑุงุฑ ุฏุงุฑุฏุ ุชุฑุฌุญ ูโุฏูู ูุงฺูู ูุงูุฏ ุฑุง ุจู ุฏุงููู ูุงุฑุฏ ฺฉูู ูู ุชุงุจุน. ุจุง ุงู ฺฉุงุฑุ ูโุชูุงูู ุจู ุฑุงุญุช ุงุฒ ุชูุงุจุน ุฏฺฏุฑ <code>std::env</code> ุงุณุชูุงุฏู ฺฉูู. ููฺูู ุงู ุฑูุด ฺฉูุชุฑ ูุจูู ุงุณุช ูุณุจุช ุจู ุงุถุงูู ฺฉุฑุฏู <code>use std::env::args</code> ู ุณูพุณ ูุฑุงุฎูุงู ุชุงุจุน ุจุง ููุท <code>args</code>ุ ฺูู <code>args</code> ููฺฉู ุงุณุช ุจู ุฑุงุญุช ุจุง ฺฉ ุชุงุจุน ุชุนุฑูโุดุฏู ุฏุฑ ูุงฺูู ุฌุงุฑ ุงุดุชุจุงู ฺฏุฑูุชู ุดูุฏ.</p>
<section class="note" aria-role="note">
<h3 id="ุชุงุจุน-args-ู-ููฺฉุฏ-ูุงูุนุชุจุฑ"><a class="header" href="#ุชุงุจุน-args-ู-ููฺฉุฏ-ูุงูุนุชุจุฑ">ุชุงุจุน <code>args</code> ู ููฺฉุฏ ูุงูุนุชุจุฑ</a></h3>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู <code>std::env::args</code> ุงฺฏุฑ ูุฑ ุขุฑฺฏููุงู ุดุงูู ููฺฉุฏ ูุงูุนุชุจุฑ ุจุงุดุฏุ ูพุงูฺฉ ุฎูุงูุฏ ฺฉุฑุฏ. ุงฺฏุฑ ุจุฑูุงูู ุดูุง ูุงุฒ ุจู ูพุฐุฑุด ุขุฑฺฏููุงูโูุง ุจุง ููฺฉุฏ ูุงูุนุชุจุฑ ุฏุงุฑุฏุ ุจู ุฌุง ุขู ุงุฒ <code>std::env::args_os</code> ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุชุงุจุน ฺฉ iterator ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ููุงุฏุฑ <code>OsString</code> ุจู ุฌุง <code>String</code> ุชููุฏ ูโฺฉูุฏ. ูุง ุจุฑุง ุณุงุฏฺฏ <code>std::env::args</code> ุฑุง ุงูุฌุง ุงูุชุฎุงุจ ฺฉุฑุฏูโุงู ุฒุฑุง ููุงุฏุฑ <code>OsString</code> ุจุณุชู ุจู ูพูุชูุฑู ูุชูุงูุช ูุณุชูุฏ ู ฺฉุงุฑ ุจุง ุขูโูุง ูพฺุฏูโุชุฑ ุงุฒ ููุงุฏุฑ <code>String</code> ุงุณุช.</p>
</section>
<p>ุฏุฑ ุงููู ุฎุท ุงุฒ ุชุงุจุน <code>main</code>ุ ูุง ุชุงุจุน <code>env::args</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ู ุจูุงูุงุตูู ุงุฒ ุชุงุจุน <code>collect</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง iterator ุฑุง ุจู ฺฉ ุจุฑุฏุงุฑ ฺฉู ุดุงูู ุชูุงู ููุงุฏุฑ ุชููุฏโุดุฏู ุชูุณุท iterator ุงุณุชุ ุชุจุฏู ฺฉูู. ูโุชูุงูู ุงุฒ ุชุงุจุน <code>collect</code> ุจุฑุง ุงุฌุงุฏ ุงููุงุน ูุฎุชูู ุงุฒ collectionูุง ุงุณุชูุงุฏู ฺฉููุ ุจูุงุจุฑุงู ููุน <code>args</code> ุฑุง ุจู ุทูุฑ ุตุฑุญ ุจุง ุฐฺฉุฑ ูโฺฉูู ฺฉู ูโุฎูุงูู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ุฑุดุชูโูุง ุฏุงุดุชู ุจุงุดู. ุจุง ุงูฺฉู ุจู ูุฏุฑุช ูุงุฒ ุจู ุฐฺฉุฑ ููุนโูุง ุฏุฑ Rust ุฏุงุฑุฏุ ุชุงุจุน <code>collect</code> ฺฉ ุงุฒ ุชุงุจุนโูุง ุงุณุช ฺฉู ุงุบูุจ ุจุงุฏ ููุน ุขู ุฑุง ุฐฺฉุฑ ฺฉูุฏุ ุฒุฑุง Rust ููโุชูุงูุฏ ููุน collection ููุฑุฏ ูุธุฑ ุดูุง ุฑุง ุงุณุชูุจุงุท ฺฉูุฏ.</p>
<p>ุฏุฑ ููุงุชุ ุจุฑุฏุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู debug ฺุงูพ ูโฺฉูู. ุจุงุฏ ุงุจุชุฏุง ฺฉุฏ ุฑุง ุจุฏูู ุขุฑฺฏููุงู ุงุฌุฑุง ฺฉูู ู ุณูพุณ ุจุง ุฏู ุขุฑฺฏููุงู:</p>
<pre><code class="language-console">$ cargo run
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.61s
     Running `target/debug/minigrep`
[src/main.rs:5:5] args = [
    "target/debug/minigrep",
]
</code></pre>
<pre><code class="language-console">$ cargo run -- needle haystack
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1.57s
     Running `target/debug/minigrep needle haystack`
[src/main.rs:5:5] args = [
    "target/debug/minigrep",
    "needle",
    "haystack",
]
</code></pre>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุงููู ููุฏุงุฑ ุฏุฑ ุจุฑุฏุงุฑ <code>"target/debug/minigrep"</code> ุงุณุชุ ฺฉู ูุงู ุจุงูุฑ ูุง ุงุณุช. ุงู ุฑูุชุงุฑ ุจุง ูุณุช ุขุฑฺฏููุงูโูุง ุฏุฑ ุฒุจุงู C ูุทุงุจูุช ุฏุงุฑุฏ ู ุจู ุจุฑูุงููโูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ูุงู ฺฉู ุจุง ุขู ุงุฌุฑุง ุดุฏูโุงูุฏุ ุฏุฑ ุงุฌุฑุง ุฎูุฏ ุงุณุชูุงุฏู ฺฉููุฏ. ุฏุณุชุฑุณ ุจู ูุงู ุจุฑูุงูู ุงุบูุจ ููุฏ ุงุณุชุ ูุซูุงู ุจุฑุง ฺุงูพ ุขู ุฏุฑ ูพุงูโูุง ุง ุชุบุฑ ุฑูุชุงุฑ ุจุฑูุงูู ุจุฑ ุงุณุงุณ ูุงู ูุณุชุนุงุฑ ุฎุท ูุฑูุงู ฺฉู ุจุฑุง ุงุฌุฑุง ุจุฑูุงูู ุงุณุชูุงุฏู ุดุฏู ุงุณุช. ุงูุง ุจุฑุง ุงูุฏุงู ุงู ูุตูุ ุขู ุฑุง ูุงุฏุฏู ูโฺฏุฑู ู ููุท ุฏู ุขุฑฺฏููุงู ููุฑุฏ ูุงุฒ ุฑุง ุฐุฎุฑู ูโฺฉูู.</p>
<h3 id="ุฐุฎุฑู-ููุงุฏุฑ-ุขุฑฺฏููุงููุง-ุฏุฑ-ูุชุบุฑูุง"><a class="header" href="#ุฐุฎุฑู-ููุงุฏุฑ-ุขุฑฺฏููุงููุง-ุฏุฑ-ูุชุบุฑูุง">ุฐุฎุฑู ููุงุฏุฑ ุขุฑฺฏููุงูโูุง ุฏุฑ ูุชุบุฑูุง</a></h3>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุจุฑูุงูู ูุงุฏุฑ ุจู ุฏุณุชุฑุณ ุจู ููุงุฏุฑ ูุดุฎุตโุดุฏู ุจู ุนููุงู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุงุณุช. ุงฺฉููู ูุงุฒ ุฏุงุฑู ููุงุฏุฑ ุฏู ุขุฑฺฏููุงู ุฑุง ุฏุฑ ูุชุบุฑูุง ุฐุฎุฑู ฺฉูู ุชุง ุจุชูุงูู ุงุฒ ุขูโูุง ุฏุฑ ุจูู ุจุฑูุงูู ุงุณุชูุงุฏู ฺฉูู. ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ูุณุช ฑฒ-ฒ ุงูุฌุงู ูโุฏูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust should_panic noplayground">use std::env;

fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let query = &amp;args[1];
    let file_path = &amp;args[2];

    println!("Searching for {query}");
    println!("In file {file_path}");
}</code></pre>
<figcaption>Listing 12-2: ุงุฌุงุฏ ูุชุบุฑูุง ุจุฑุง ูฺฏูโุฏุงุฑ ุขุฑฺฏููุงู ุฌุณุชุฌู ู ูุณุฑ ูุงู</figcaption>
</figure>
<p>ููุงูุทูุฑ ฺฉู ููฺฏุงู ฺุงูพ ุจุฑุฏุงุฑ ูุดุงูุฏู ฺฉุฑุฏูุ ูุงู ุจุฑูุงูู ุงููู ููุฏุงุฑ ุฏุฑ ุจุฑุฏุงุฑ ุฑุง ุฏุฑ <code>args[0]</code> ุงุดุบุงู ูโฺฉูุฏุ ุจูุงุจุฑุงู ุขุฑฺฏููุงูโูุง ุฑุง ุงุฒ ุงูุฏุณ (index)ฑ ุดุฑูุน ูโฺฉูู. ุงููู ุขุฑฺฏููุงู ฺฉู <code>minigrep</code> ุฏุฑุงูุช ูโฺฉูุฏุ ุฑุดุชูโุง ุงุณุช ฺฉู ูโุฎูุงูู ุฌุณุชุฌู ฺฉููุ ุจูุงุจุฑุงู ฺฉ ูุฑุฌุน ุจู ุงููู ุขุฑฺฏููุงู ุฑุง ุฏุฑ ูุชุบุฑ <code>query</code> ูุฑุงุฑ ูโุฏูู. ุขุฑฺฏููุงู ุฏูู ูุณุฑ ูุงู ุฎูุงูุฏ ุจูุฏุ ุจูุงุจุฑุงู ฺฉ ูุฑุฌุน ุจู ุขุฑฺฏููุงู ุฏูู ุฑุง ุฏุฑ ูุชุบุฑ <code>file_path</code> ูุฑุงุฑ ูโุฏูู.</p>
<p>ูุง ุจู ุทูุฑ ูููุช ููุงุฏุฑ ุงู ูุชุบุฑูุง ุฑุง ฺุงูพ ูโฺฉูู ุชุง ุงุซุจุงุช ฺฉูู ฺฉู ฺฉุฏ ููุงูุทูุฑ ฺฉู ูโุฎูุงูู ฺฉุงุฑ ูโฺฉูุฏ. ุจุงุฏ ุฏูุจุงุฑู ุงู ุจุฑูุงูู ุฑุง ุจุง ุขุฑฺฏููุงูโูุง <code>test</code> ู <code>sample.txt</code> ุงุฌุฑุง ฺฉูู:</p>
<pre><code class="language-console">$ cargo run -- test sample.txt
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.0s
     Running `target/debug/minigrep test sample.txt`
Searching for test
In file sample.txt
</code></pre>
<p>ุนุงู ุงุณุชุ ุจุฑูุงูู ฺฉุงุฑ ูโฺฉูุฏ! ููุงุฏุฑ ุขุฑฺฏููุงูโูุง ููุฑุฏ ูุงุฒ ูุง ุฏุฑ ูุชุบุฑูุง ุฏุฑุณุช ุฐุฎุฑู ูโุดููุฏ. ุจุนุฏุงู ุจุฑุฎ ุงุฒ ุฎุทุงูุง ุฑุง ูุฏุฑุช ุฎูุงูู ฺฉุฑุฏุ ูุซู ููุช ฺฉู ฺฉุงุฑุจุฑ ูฺ ุขุฑฺฏููุงู ุงุฑุงุฆู ููโุฏูุฏุ ูุนูุงูุ ุขู ุดุฑุงุท ุฑุง ูุงุฏุฏู ูโฺฏุฑู ู ุฑู ุงูุฒูุฏู ูุงุจูุช ุฎูุงูุฏู ูุงู ุชูุฑฺฉุฒ ูโฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฎูุงูุฏู-ฺฉ-ูุงู"><a class="header" href="#ุฎูุงูุฏู-ฺฉ-ูุงู">ุฎูุงูุฏู ฺฉ ูุงู</a></h2>
<p>ุงฺฉููู ูุงุจูุช ุฎูุงูุฏู ูุงู ูุดุฎุตโุดุฏู ุฏุฑ ุขุฑฺฏููุงู <code>file_path</code> ุฑุง ุงุถุงูู ูโฺฉูู. ุงุจุชุฏุง ุจู ฺฉ ูุงู ููููู ุจุฑุง ุชุณุช ูุงุฒ ุฏุงุฑู: ุงุฒ ฺฉ ูุงู ุจุง ููุฏุงุฑ ฺฉู ูุชู ุฏุฑ ฺูุฏู ุฎุท ฺฉู ุจุฑุฎ ฺฉููุงุช ุฏุฑ ุขู ุชฺฉุฑุงุฑ ุดุฏูโุงูุฏ ุงุณุชูุงุฏู ูโฺฉูู. ูุณุช ฑฒ-ณ ุดุงูู ุดุนุฑ ุงุฒ ุงูู ุฏฺฉูุณูู ุงุณุช ฺฉู ุจู ุฎูุจ ุจุฑุง ุงู ููุธูุฑ ููุงุณุจ ุงุณุช! ฺฉ ูุงู ุจู ูุงู <em>poem.txt</em> ุฏุฑ ุณุทุญ ุงุตู ูพุฑูฺู ุฎูุฏ ุงุฌุงุฏ ฺฉูุฏ ู ุดุนุฑ โIโm Nobody! Who are you?โ ุฑุง ูุงุฑุฏ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: poem.txt</span>
<pre><code class="language-text">I'm nobody! Who are you?
Are you nobody, too?
Then there's a pair of us - don't tell!
They'd banish us, you know.

How dreary to be somebody!
How public, like a frog
To tell your name the livelong day
To an admiring bog!
</code></pre>
<figcaption>Listing 12-3: ุดุนุฑ ุงุฒ ุงูู ุฏฺฉูุณูู ฺฉู ููุฑุฏ ุชุณุช ููุงุณุจ ุงุณุช.</figcaption>
</figure>
<p>ุจุง ูุชู ุฏุฑ ุฌุง ุฎูุฏุ ูุงู <em>src/main.rs</em> ุฑุง ูุฑุงุด ฺฉุฑุฏู ู ฺฉุฏ ุจุฑุง ุฎูุงูุฏู ูุงู ุงุถุงูู ฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust should_panic noplayground">use std::env;
use std::fs;

fn main() {
    // --snip--
<span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let query = &amp;args[1];
</span><span class="boring">    let file_path = &amp;args[2];
</span><span class="boring">
</span><span class="boring">    println!("Searching for {query}");
</span>    println!("In file {file_path}");

    let contents = fs::read_to_string(file_path)
        .expect("Should have been able to read the file");

    println!("With text:\n{contents}");
}</code></pre>
<figcaption>Listing 12-4: ุฎูุงูุฏู ูุญุชูุง ูุงู ูุดุฎุตโุดุฏู ุชูุณุท ุขุฑฺฏููุงู ุฏูู</figcaption>
</figure>
<p>ุงุจุชุฏุง ุจุฎุด ูุฑุชุจุท ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจุง ฺฉ ุฏุณุชูุฑ <code>use</code> ูุงุฑุฏ ูโฺฉูู: ุจุฑุง ูุฏุฑุช ูุงูโูุง ุจู <code>std::fs</code> ูุงุฒ ุฏุงุฑู.</p>
<p>ุฏุฑ ุชุงุจุน <code>main</code>ุ ุฏุณุชูุฑ ุฌุฏุฏ <code>fs::read_to_string</code> ููุฏุงุฑ <code>file_path</code> ุฑุง ูโฺฏุฑุฏุ ุขู ูุงู ุฑุง ุจุงุฒ ูโฺฉูุฏ ู ููุฏุงุฑ ุงุฒ ููุน <code>std::io::Result&lt;String&gt;</code> ุฑุง ฺฉู ุดุงูู ูุญุชูุง ูุงู ุงุณุชุ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูพุณ ุงุฒ ุขูุ ุฏูุจุงุฑู ฺฉ ุฏุณุชูุฑ ูููุช <code>println!</code> ุงุถุงูู ูโฺฉูู ฺฉู ููุฏุงุฑ <code>contents</code> ุฑุง ูพุณ ุงุฒ ุฎูุงูุฏู ูุงู ฺุงูพ ูโฺฉูุฏ ุชุง ูุทูุฆู ุดูู ุจุฑูุงูู ุชุง ุงูุฌุง ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุจุงุฏ ุงู ฺฉุฏ ุฑุง ุจุง ูุฑ ุฑุดุชูโุง ุจู ุนููุงู ุงููู ุขุฑฺฏููุงู ุฎุท ูุฑูุงู (ฺูู ูููุฒ ุจุฎุด ุฌุณุชุฌู ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏูโุงู) ู ูุงู <em>poem.txt</em> ุจู ุนููุงู ุขุฑฺฏููุงู ุฏูู ุงุฌุฑุง ฺฉูู:</p>
<pre><code class="language-console">$ cargo run -- the poem.txt
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.0s
     Running `target/debug/minigrep the poem.txt`
Searching for the
In file poem.txt
With text:
I'm nobody! Who are you?
Are you nobody, too?
Then there's a pair of us - don't tell!
They'd banish us, you know.

How dreary to be somebody!
How public, like a frog
To tell your name the livelong day
To an admiring bog!

</code></pre>
<p>ุนุงู ุงุณุช! ฺฉุฏ ูุญุชูุง ูุงู ุฑุง ุฎูุงูุฏ ู ุณูพุณ ฺุงูพ ฺฉุฑุฏ. ุงูุง ฺฉุฏ ฺูุฏ ููุต ุฏุงุฑุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ุชุงุจุน <code>main</code> ฺูุฏู ูุณุฆููุช ุฏุงุฑุฏ: ุจู ุทูุฑ ฺฉูุ ุชูุงุจุน ูุงุถุญโุชุฑ ู ุขุณุงูโุชุฑ ุจุฑุง ูฺฏูุฏุงุฑ ูุณุชูุฏ ุงฺฏุฑ ูุฑ ุชุงุจุน ููุท ูุณุฆูู ฺฉ ุงุฏู ุจุงุดุฏ. ูุดฺฉู ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ูุง ุฎุทุงูุง ุฑุง ุจู ุฎูุจ ูุฏุฑุช ููโฺฉูู. ุจุฑูุงูู ูููุฒ ฺฉูฺฺฉ ุงุณุชุ ุจูุงุจุฑุงู ุงู ูุดฺฉูุงุช ูุดฺฉู ุจุฒุฑฺฏ ูุณุชูุฏุ ุงูุง ุจุง ุฑุดุฏ ุจุฑูุงููุ ุฑูุน ุขูโูุง ุจู ุตูุฑุช ุชูุฒ ุณุฎุชโุชุฑ ุฎูุงูุฏ ุดุฏ. ุจูุชุฑ ุงุณุช ฺฉู ุฒูุฏุชุฑ ุฏุฑ ูุฑุงูุฏ ุชูุณุนู ุจุฑูุงูู ุดุฑูุน ุจู ุจุงุฒุณุงุฒ ฺฉููุ ุฒุฑุง ุจุงุฒุณุงุฒ ฺฉุฏูุง ฺฉูุชุฑ ุจุณุงุฑ ุขุณุงูโุชุฑ ุงุณุช. ุฏุฑ ูุฑุญูู ุจุนุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฎูุงูู ุฏุงุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุจุงุฒุณุงุฒ-ุจุฑุง-ุจูุจูุฏ-ูุงฺููุงุฑ-ุจูุฏู-ู-ูุฏุฑุช-ุฎุทุงูุง"><a class="header" href="#ุจุงุฒุณุงุฒ-ุจุฑุง-ุจูุจูุฏ-ูุงฺููุงุฑ-ุจูุฏู-ู-ูุฏุฑุช-ุฎุทุงูุง">ุจุงุฒุณุงุฒ ุจุฑุง ุจูุจูุฏ ูุงฺููุงุฑ ุจูุฏู ู ูุฏุฑุช ุฎุทุงูุง</a></h2>
<p>ุจุฑุง ุจูุจูุฏ ุจุฑูุงูู ุฎูุฏุ ฺูุงุฑ ูุดฺฉู ฺฉู ุจู ุณุงุฎุชุงุฑ ุจุฑูุงูู ู ูุญูู ูุฏุฑุช ุฎุทุงูุง ุจุงูููู ูุฑุจูุท ูโุดููุฏ ุฑุง ุฑูุน ุฎูุงูู ฺฉุฑุฏ.</p>
<ul dir="rtl">
  <li>
    <strong>ุชฺฉโูุณุฆููุช ฺฉุฑุฏู ุชุงุจุน <code>main</code></strong>:  
    ุฏุฑ ุญุงู ุญุงุถุฑุ ุชุงุจุน <code>main</code> ุฏู ูุธูู ุฑุง ุงูุฌุงู ูโุฏูุฏ: ุชุฌุฒู ุขุฑฺฏููุงูโูุง ู ุฎูุงูุฏู ูุงูโูุง. ุจุง ุฑุดุฏ ุจุฑูุงููุ ุชุนุฏุงุฏ ูุธุงู ุฌุฏุงฺฏุงููโุง ฺฉู ุชุงุจุน <code>main</code> ุจุงุฏ ูุฏุฑุช ฺฉูุฏ ุงูุฒุงุด ุฎูุงูุฏ ุงูุช. ูุฑฺู ฺฉ ุชุงุจุน ูุณุฆููุชโูุง ุจุดุชุฑ ุฏุงุดุชู ุจุงุดุฏุ ุฏุฑฺฉ ุขู ุณุฎุชโุชุฑ ูโุดูุฏุ ุชุณุช ฺฉุฑุฏู ุขู ูพฺุฏูโุชุฑ ุฎูุงูุฏ ุดุฏ ู ุชุบุฑ ุขู ุจุฏูู ุขุณุจ ุจู ุจุฎุดโูุง ุฏฺฏุฑ ุฏุดูุงุฑุชุฑ ูโุดูุฏ. ุจูุชุฑ ุงุณุช ูุงุจูุชโูุง ุฑุง ุฌุฏุง ฺฉูู ุชุง ูุฑ ุชุงุจุน ููุท ูุณุฆูู ฺฉ ูุธูู ุจุงุดุฏ.
  </li>
  <li>
    <strong>ฺฏุฑููโุจูุฏ ูุชุบุฑูุง ูพฺฉุฑุจูุฏ</strong>:  
    ูุชุบุฑูุง ูุงููุฏ <code>query</code> ู <code>file_path</code> ูุชุบุฑูุง ูพฺฉุฑุจูุฏ ุจุฑุง ุจุฑูุงูู ูุง ูุณุชูุฏุ ุฏุฑ ุญุงู ฺฉู ูุชุบุฑูุง ูุงููุฏ <code>contents</code> ุจุฑุง ุงุฌุฑุง ููุทู ุจุฑูุงูู ุงุณุชูุงุฏู ูโุดููุฏ. ูุฑฺู ุชุงุจุน <code>main</code> ุทููุงูโุชุฑ ุดูุฏุ ุจู ูุชุบุฑูุง ุจุดุชุฑ ูุงุฒ ุฎูุงูุฏ ุฏุงุดุช ฺฉู ูุงุฑุฏ ุฏุงููู ุดููุฏุ ู ูุฑฺู ุชุนุฏุงุฏ ูุชุบุฑูุง ุจุดุชุฑ ุดูุฏุ ูพฺฏุฑ ูุฏู ูุฑ ูุชุบุฑ ุฏุดูุงุฑุชุฑ ุฎูุงูุฏ ุดุฏ. ุจูุชุฑ ุงุณุช ูุชุบุฑูุง ูพฺฉุฑุจูุฏ ุฑุง ุฏุฑ ฺฉ ุณุงุฎุชุงุฑ ฺฏุฑููโุจูุฏ ฺฉูู ุชุง ูุฏู ุขูโูุง ูุงุถุญโุชุฑ ุจุงุดุฏ.
  </li>
  <li>
    <strong>ุจูุจูุฏ ูพุงูโูุง ุฎุทุง</strong>:  
    ููฺฏุงู ุดฺฉุณุช ุฏุฑ ุฎูุงูุฏู ูุงูุ ุงุฒ <code>expect</code> ุจุฑุง ฺุงูพ ูพุงู ุฎุทุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงูุง ูพุงู ุฎุทุง ููุท <code>Should have been able to read the file</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ุฎูุงูุฏู ฺฉ ูุงู ูโุชูุงูุฏ ุจู ุฏูุงู ูุฎุชูู ุดฺฉุณุช ุจุฎูุฑุฏ: ูุซูุงู ููฺฉู ุงุณุช ูุงู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ ุง ููฺฉู ุงุณุช ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ุขู ุฑุง ูุฏุงุดุชู ุจุงุดู. ุฏุฑ ุญุงู ุญุงุถุฑุ ุจุฏูู ุชูุฌู ุจู ุดุฑุงุทุ ููุงู ูพุงู ุฎุทุง ุจุฑุง ููู ฺุฒ ฺุงูพ ูโุดูุฏ ฺฉู ุงุทูุงุนุงุช ุจู ฺฉุงุฑุจุฑ ููโุฏูุฏ.
  </li>
  <li>
    <strong>ฺฉูพุงุฑฺูโุณุงุฒ ูุฏุฑุช ุฎุทุงูุง</strong>:  
    ุงฺฏุฑ ฺฉุงุฑุจุฑ ุจุฑูุงูู ูุง ุฑุง ุจุฏูู ูุดุฎุต ฺฉุฑุฏู ุชุนุฏุงุฏ ฺฉุงู ุขุฑฺฏููุงู ุงุฌุฑุง ฺฉูุฏุ ฺฉ ุฎุทุง <code>index out of bounds</code> ุงุฒ Rust ุฏุฑุงูุช ูโฺฉููุฏ ฺฉู ุจู ูุถูุญ ูุดฺฉู ุฑุง ุชูุถุญ ููโุฏูุฏ. ุจูุชุฑ ุงุณุช ุชูุงู ฺฉุฏ ูุฏุฑุช ุฎุทุงูุง ุฏุฑ ฺฉ ูฺฉุงู ูุฑุงุฑ ฺฏุฑุฏ ุชุง ูฺฏูุฏุงุฑโฺฉููุฏฺฏุงู ุขูุฏู ุชููุง ฺฉ ูฺฉุงู ุฑุง ุจุฑุง ุจุฑุฑุณ ุชุบุฑุงุช ุฏุฑ ููุทู ูุฏุฑุช ุฎุทุง ุฏุงุดุชู ุจุงุดูุฏ. ุงู ฺฉุงุฑ ููฺูู ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ูพุงูโูุง ฺฉู ฺุงูพ ูโุดููุฏ ุจุฑุง ฺฉุงุฑุจุฑุงู ููุง ูุนูุงุฏุงุฑ ูุณุชูุฏ.
  </li>
</ul>
<h3 id="ุฌุฏุงุณุงุฒ-ูุธุงู-ุจุฑุง-ูพุฑูฺููุง-ุฏูุฏู"><a class="header" href="#ุฌุฏุงุณุงุฒ-ูุธุงู-ุจุฑุง-ูพุฑูฺููุง-ุฏูุฏู">ุฌุฏุงุณุงุฒ ูุธุงู ุจุฑุง ูพุฑูฺูโูุง ุฏูุฏู</a></h3>
<p>ูุดฺฉู ุชุฎุตุต ูุณุฆููุชโูุง ฺูุฏฺฏุงูู ุจู ุชุงุจุน <code>main</code> ุฏุฑ ุจุณุงุฑ ุงุฒ ูพุฑูฺูโูุง ุฏูุฏู ุฑุงุฌ ุงุณุช. ุจู ููู ุฏููุ ุฌุงูุนู Rust ุฏุณุชูุฑุงูุนููโูุง ุจุฑุง ุชูุณู ุฏุบุฏุบูโูุง ุฌุฏุงฺฏุงูู ฺฉ ุจุฑูุงูู ุฏูุฏู ุงุฑุงุฆู ุฏุงุฏู ุงุณุช. ุงู ูุฑุงูุฏ ุดุงูู ูุฑุงุญู ุฒุฑ ุงุณุช:</p>
<ul dir="rtl">
<li> ุจุฑูุงูู ุฎูุฏ ุฑุง ุจู ูุงูโูุง _main.rs_ ู _lib.rs_ ุชูุณู ฺฉุฑุฏู ู ููุทู ุจุฑูุงูู ุฑุง ุจู _lib.rs_ ููุชูู ฺฉูุฏ. </li>
<li> ุชุง ุฒูุงู ฺฉู ููุทู ุชุฌุฒู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ฺฉูฺฺฉ ุงุณุชุ ูโุชูุงูุฏ ุฏุฑ _main.rs_ ุจุงู ุจูุงูุฏ. </li>
<li> ููุช ููุทู ุชุฌุฒู ุขุฑฺฏููุงูโูุง ูพฺุฏู ุดุฏุ ุขู ุฑุง ุงุฒ _main.rs_ ุฌุฏุง ฺฉุฑุฏู ู ุจู _lib.rs_ ููุชูู ฺฉูุฏ. </li>
</ul>
<p>ูุธุงู ฺฉู ูพุณ ุงุฒ ุงู ูุฑุงูุฏ ุฏุฑ ุชุงุจุน <code>main</code> ุจุงู ูโูุงููุฏ ุจุงุฏ ูุญุฏูุฏ ุจู ููุงุฑุฏ ุฒุฑ ุจุงุดูุฏ:</p>
<ul dir="rtl">
<li> ูุฑุงุฎูุงู ููุทู ุชุฌุฒู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุจุง ููุงุฏุฑ ุขุฑฺฏููุงูโูุง </li>
<li> ุชูุธู ูุฑฺฏููู ูพฺฉุฑุจูุฏ ุฏฺฏุฑ </li>
<li> ูุฑุงุฎูุงู ฺฉ ุชุงุจุน `run` ุฏุฑ _lib.rs_ </li>
<li> ูุฏุฑุช ุฎุทุงูุง ุฏุฑ ุตูุฑุช ุจุงุฒฺฏุฑุฏุงูุฏู ุฎุทุง ุชูุณุท `run` </li>
</ul>
<p>ุงู ุงูฺฏู ุฏุฑุจุงุฑู ุฌุฏุงุณุงุฒ ูุธุงู ุงุณุช: <em>main.rs</em> ุงุฌุฑุง ุจุฑูุงูู ุฑุง ูุฏุฑุช ูโฺฉูุฏ ู <em>lib.rs</em> ุชูุงู ููุทู ูุฑุจูุท ุจู ฺฉุงุฑ ููุฑุฏ ูุธุฑ ุฑุง ูุฏุฑุช ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ููโุชูุงู ุชุงุจุน <code>main</code> ุฑุง ูุณุชููุงู ุชุณุช ฺฉุฑุฏุ ุงู ุณุงุฎุชุงุฑ ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชูุงู ููุทู ุจุฑูุงูู ุฎูุฏ ุฑุง ุจุง ุงูุชูุงู ุขู ุจู ุชูุงุจุน ุฏุฑ <em>lib.rs</em> ุชุณุช ฺฉูุฏ. ฺฉุฏ ฺฉู ุฏุฑ <em>main.rs</em> ุจุงู ูโูุงูุฏ ุจู ุงูุฏุงุฒู ฺฉุงู ฺฉูฺฺฉ ุฎูุงูุฏ ุจูุฏ ฺฉู ุจุง ุฎูุงูุฏู ุขู ุงุฒ ุตุญุช ุขู ุงุทููุงู ุญุงุตู ฺฉูุฏ. ุจุงุฏ ุจุฑูุงูู ุฎูุฏ ุฑุง ุจุง ูพุฑู ุงุฒ ุงู ูุฑุงูุฏ ุจุงุฒุณุงุฒ ฺฉูู.</p>
<h4 id="ุงุณุชุฎุฑุงุฌ-ุชุฌุฒูฺฉููุฏู-ุขุฑฺฏููุงููุง"><a class="header" href="#ุงุณุชุฎุฑุงุฌ-ุชุฌุฒูฺฉููุฏู-ุขุฑฺฏููุงููุง">ุงุณุชุฎุฑุงุฌ ุชุฌุฒูโฺฉููุฏู ุขุฑฺฏููุงูโูุง</a></h4>
<p>ูุง ูุงุจูุช ุชุฌุฒู ุขุฑฺฏููุงูโูุง ุฑุง ุจู ฺฉ ุชุงุจุน ุฌุฏุงฺฏุงูู ุงุณุชุฎุฑุงุฌ ูโฺฉูู ฺฉู ุชุงุจุน <code>main</code> ุขู ุฑุง ูุฑุงุฎูุงู ุฎูุงูุฏ ฺฉุฑุฏ ุชุง ุจุฑุง ุงูุชูุงู ููุทู ุชุฌุฒู ุขุฑฺฏููุงู ุฎุท ูุฑูุงู ุจู ูุงู <em>src/lib.rs</em> ุขูุงุฏู ุดูู. ูุณุช ฑฒ-ต ุดุฑูุน ุฌุฏุฏ ุชุงุจุน <code>main</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ุชุงุจุน ุฌุฏุฏ ุจู ูุงู <code>parse_config</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏุ ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ <em>src/main.rs</em> ุชุนุฑู ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span>fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let (query, file_path) = parse_config(&amp;args);

    // --snip--
<span class="boring">
</span><span class="boring">    println!("Searching for {query}");
</span><span class="boring">    println!("In file {file_path}");
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(file_path)
</span><span class="boring">        .expect("Should have been able to read the file");
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span>}

fn parse_config(args: &amp;[String]) -&gt; (&amp;str, &amp;str) {
    let query = &amp;args[1];
    let file_path = &amp;args[2];

    (query, file_path)
}</code></pre>
<figcaption>Listing 12-5: ุงุณุชุฎุฑุงุฌ ุชุงุจุน <code>parse_config</code> ุงุฒ <code>main</code></figcaption>
</figure>
<p>ูุง ููฺูุงู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุฑุง ุจู ฺฉ ุจุฑุฏุงุฑ ุฌูุนโุขูุฑ ูโฺฉููุ ุงูุง ุจู ุฌุง ุงูฺฉู ููุฏุงุฑ ุขุฑฺฏููุงู ุฏุฑ ุงูุฏุณ (index)ฑ ุฑุง ุจู ูุชุบุฑ <code>query</code> ู ููุฏุงุฑ ุขุฑฺฏููุงู ุฏุฑ ุงูุฏุณ (index)ฒ ุฑุง ุจู ูุชุบุฑ <code>file_path</code> ุฏุฑ ุชุงุจุน <code>main</code> ุงุฎุชุตุงุต ุฏููุ ฺฉู ุจุฑุฏุงุฑ ุฑุง ุจู ุชุงุจุน <code>parse_config</code> ุงุฑุณุงู ูโฺฉูู. ุชุงุจุน <code>parse_config</code> ุณูพุณ ููุทู ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฉุฏุงู ุขุฑฺฏููุงู ุฏุฑ ฺฉุฏุงู ูุชุบุฑ ูุฑุงุฑ ูโฺฏุฑุฏ ู ููุงุฏุฑ ุฑุง ุจู ุชุงุจุน <code>main</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุง ููฺูุงู ูุชุบุฑูุง <code>query</code> ู <code>file_path</code> ุฑุง ุฏุฑ <code>main</code> ุงุฌุงุฏ ูโฺฉููุ ุงูุง <code>main</code> ุฏฺฏุฑ ูุณุฆูู ุชุนู ุงุฑุชุจุงุท ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ู ูุชุบุฑูุง ูุณุช.</p>
<p>ุงู ุชุบุฑ ููฺฉู ุงุณุช ุจุฑุง ุจุฑูุงูู ฺฉูฺฺฉ ูุง ุฒุงุฏูโุฑู ุจู ูุธุฑ ุจุฑุณุฏุ ุงูุง ูุง ุฏุฑ ุญุงู ุจุงุฒุณุงุฒ ฺฉุฏ ุจู ุตูุฑุช ฺฏุงูโูุง ฺฉูฺฺฉ ู ุชุฏุฑุฌ ูุณุชู. ูพุณ ุงุฒ ุงุนูุงู ุงู ุชุบุฑุ ุฏูุจุงุฑู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุชุฌุฒู ุขุฑฺฏููุงู ููฺูุงู ฺฉุงุฑ ูโฺฉูุฏ. ุจุฑุฑุณ ูุฏุงูู ูพุดุฑูุช ฺฉุฏ ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉูุงุชุ ุนูุช ุขูโูุง ุฑุง ุณุฑุนโุชุฑ ุดูุงุณุง ฺฉูุฏ.</p>
<h4 id="ฺฏุฑููุจูุฏ-ููุงุฏุฑ-ูพฺฉุฑุจูุฏ"><a class="header" href="#ฺฏุฑููุจูุฏ-ููุงุฏุฑ-ูพฺฉุฑุจูุฏ">ฺฏุฑููโุจูุฏ ููุงุฏุฑ ูพฺฉุฑุจูุฏ</a></h4>
<p>ูโุชูุงูู ฺฉ ฺฏุงู ฺฉูฺฺฉ ุฏฺฏุฑ ุจุฑุง ุจูุจูุฏ ุจุดุชุฑ ุชุงุจุน <code>parse_config</code> ุจุฑุฏุงุฑู. ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง ฺฉ tuple ุจุงุฒูโฺฏุฑุฏุงููุ ุงูุง ุจูุงูุงุตูู ุขู tuple ุฑุง ุจู ูุณูุชโูุง ุฌุฏุงฺฏุงูู ุชูุณู ูโฺฉูู. ุงู ูุดุงููโุง ุงุณุช ฺฉู ุดุงุฏ ูููุฒ ุงูุชุฒุงุน ุฏุฑุณุช ูุฏุงุฑู.</p>
<p>ูุดุงูู ุฏฺฏุฑ ฺฉู ูุดุงู ูโุฏูุฏ ุฌุง ุจุฑุง ุจูุจูุฏ ูุฌูุฏ ุฏุงุฑุฏุ ูุณูุช <code>config</code> ุฏุฑ <code>parse_config</code> ุงุณุชุ ฺฉู ูุดุงู ูโุฏูุฏ ุฏู ููุฏุงุฑ ฺฉู ุจุงุฒูโฺฏุฑุฏุงูู ุจู ูู ูุฑุชุจุท ูุณุชูุฏ ู ูุฑ ุฏู ุจุฎุด ุงุฒ ฺฉ ููุฏุงุฑ ูพฺฉุฑุจูุฏ ูุณุชูุฏ. ูุง ุฏุฑ ุญุงู ุญุงุถุฑ ุงู ูุนูุง ุฑุง ุฏุฑ ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง ุจู ุฌุฒ ุจุง ฺฏุฑููโุจูุฏ ุฏู ููุฏุงุฑ ุฏุฑ ฺฉ tuple ููุชูู ููโฺฉููุ ุฏุฑ ุนูุถุ ุงู ุฏู ููุฏุงุฑ ุฑุง ุฏุฑ ฺฉ struct ูุฑุงุฑ ูโุฏูู ู ุจู ูุฑ ฺฉ ุงุฒ ููุฏูุง struct ูุงู ูุนูุงุฏุงุฑ ูโุฏูู. ุงูุฌุงู ุงู ฺฉุงุฑ ุฏุฑฺฉ ูุญูู ุงุฑุชุจุงุท ููุงุฏุฑ ูุฎุชูู ู ูุฏู ุขูโูุง ุฑุง ุจุฑุง ูฺฏูุฏุงุฑโฺฉููุฏฺฏุงู ุขูุฏู ุงู ฺฉุฏ ุขุณุงูโุชุฑ ูโฺฉูุฏ.</p>
<p>ูุณุช ฑฒ-ถ ุจูุจูุฏูุง ุชุงุจุน <code>parse_config</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust should_panic noplayground"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span>fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let config = parse_config(&amp;args);

    println!("Searching for {}", config.query);
    println!("In file {}", config.file_path);

    let contents = fs::read_to_string(config.file_path)
        .expect("Should have been able to read the file");

    // --snip--
<span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span>}

struct Config {
    query: String,
    file_path: String,
}

fn parse_config(args: &amp;[String]) -&gt; Config {
    let query = args[1].clone();
    let file_path = args[2].clone();

    Config { query, file_path }
}</code></pre>
<figcaption>Listing 12-6: ุจุงุฒุณุงุฒ <code>parse_config</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ ููููู ุงุฒ struct <code>Config</code></figcaption>
</figure>
<p>ูุง ฺฉ ุณุงุฎุชุงุฑ ุฌุฏุฏ ุจู ูุงู <code>Config</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ุฏุงุฑุง ููุฏูุง ุจุง ูุงูโูุง <code>query</code> ู <code>file_path</code> ุงุณุช. ุงูุถุง ุชุงุจุน <code>parse_config</code> ุงฺฉููู ูุดุงู ูโุฏูุฏ ฺฉู ุงู ุชุงุจุน ฺฉ ููุฏุงุฑ <code>Config</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุฏุฑ ุจุฏูู ุชุงุจุน <code>parse_config</code>ุ ุฌุง ฺฉู ูุจูุงู ุงุณูุงุณโูุง ุฑุดุชูโุง ุฑุง ฺฉู ุจู ููุงุฏุฑ <code>String</code> ุฏุฑ <code>args</code> ุงุดุงุฑู ูโฺฉุฑุฏูุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏูุ ุงฺฉููู <code>Config</code> ุฑุง ุทูุฑ ุชุนุฑู ูโฺฉูู ฺฉู ุฏุงุฑุง ููุงุฏุฑ <code>String</code> ูุชุนูู ุจู ุฎูุฏ ุจุงุดุฏ.</p>
<p>ูุชุบุฑ <code>args</code> ุฏุฑ ุชุงุจุน <code>main</code> ูุงูฺฉ ููุงุฏุฑ ุขุฑฺฏููุงู ุงุณุช ู ููุท ุจู ุชุงุจุน <code>parse_config</code> ุงุฌุงุฒู ูุฑุถ ฺฏุฑูุชู ุขูโูุง ุฑุง ูโุฏูุฏุ ุจู ุงู ูุนู ฺฉู ุงฺฏุฑ <code>Config</code> ุจุฎูุงูุฏ ูุงูฺฉ ููุงุฏุฑ ุฏุฑ <code>args</code> ุดูุฏุ ููุงูู ูุฑุถโฺฏุฑ Rust ุฑุง ููุถ ูโฺฉูู.</p>
<p>ฺูุฏู ุฑูุด ุจุฑุง ูุฏุฑุช ุฏุงุฏูโูุง <code>String</code> ูุฌูุฏ ุฏุงุฑุฏุ ุณุงุฏูโุชุฑู ู ุดุงุฏ ูุงฺฉุงุฑุขูุฏุชุฑู ุฑูุดุ ูุฑุงุฎูุงู ูุชุฏ <code>clone</code> ุฑู ููุงุฏุฑ ุงุณุช. ุงู ฺฉุงุฑ ฺฉ ฺฉูพ ฺฉุงูู ุงุฒ ุฏุงุฏูโูุง ุจุฑุง ููููู <code>Config</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ูุงูฺฉ ุขู ุงุณุช. ุงู ุฑูุด ุฒูุงู ู ุญุงูุธู ุจุดุชุฑ ูุณุจุช ุจู ุฐุฎุฑู ฺฉ ูุฑุฌุน ุจู ุฏุงุฏูโูุง ูุงุฒ ุฏุงุฑุฏ. ุจุง ุงู ุญุงูุ ฺฉูพ ฺฉุฑุฏู ุฏุงุฏูโูุง ุจุงุนุซ ูโุดูุฏ ฺฉู ฺฉุฏ ูุง ุจุณุงุฑ ุณุงุฏู ุดูุฏ ุฒุฑุง ูุงุฒ ุจู ูุฏุฑุช ุทูู ุนูุฑ ูุฑุงุฌุน ูุฏุงุฑูุ ุฏุฑ ุงู ุดุฑุงุทุ ุงุฒ ุฏุณุช ุฏุงุฏู ฺฉู ฺฉุงุฑุง ุจุฑุง ุฏุณุชุงุจ ุจู ุณุงุฏฺฏ ุงุฑุฒุดููุฏ ุงุณุช.</p>
<section class="note" aria-role="note">
<h3 id="ูุฒูููุง-ู-ูุฒุงุง-ุงุณุชูุงุฏู-ุงุฒ-clone"><a class="header" href="#ูุฒูููุง-ู-ูุฒุงุง-ุงุณุชูุงุฏู-ุงุฒ-clone">ูุฒููโูุง ู ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ <code>clone</code></a></h3>
<p>ุฏุฑ ุจู ุจุณุงุฑ ุงุฒ ุจุฑูุงููโููุณุงู Rustุ ุชูุงู ุจู ุงุณุชูุงุฏู ุงุฒ <code>clone</code> ุจุฑุง ุฑูุน ูุดฺฉูุงุช ูุงูฺฉุช ุจู ุฏูู ูุฒูู ุงุฌุฑุง ุขู ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ <a href="ch13-00-functional-features.html">ูุตู ฑณ</a><!-- ignore -->ุ ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช ฺฉู ฺฺฏููู ุฏุฑ ุงู ููุน ูููุนุชโูุง ุงุฒ ุฑูุดโูุง ฺฉุงุฑุขูุฏุชุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ุงูุง ุฏุฑ ุญุงู ุญุงุถุฑุ ฺฉูพ ฺฉุฑุฏู ฺูุฏ ุฑุดุชู ุจุฑุง ุงุฏุงูู ูพุดุฑูุช ุงุดฺฉุงู ูุฏุงุฑุฏ ุฒุฑุง ุงู ฺฉูพโูุง ููุท ฺฉโุจุงุฑ ุงูุฌุงู ูโุดููุฏ ู ูุณุฑ ูุงู ู ุฑุดุชู ุฌุณุชุฌู ุดูุง ุจุณุงุฑ ฺฉูฺฺฉ ูุณุชูุฏ. ุจูุชุฑ ุงุณุช ฺฉ ุจุฑูุงูู ฺฉุงุฑุง ฺฉู ฺฉู ูุงฺฉุงุฑุขูุฏ ุงุณุช ุฏุงุดุชู ุจุงุดุฏ ุชุง ุงูฺฉู ุฏุฑ ุงููู ุชูุงุด ุฎูุฏ ุจุฑุง ููุดุชู ฺฉุฏุ ุจูููโุณุงุฒ ุจุด ุงุฒ ุญุฏ ุงูุฌุงู ุฏูุฏ. ุจุง ุชุฌุฑุจู ุจุดุชุฑ ุฏุฑ Rustุ ุดุฑูุน ุจุง ุฑุงูโุญู ฺฉุงุฑุขูุฏุชุฑ ุขุณุงูโุชุฑ ุฎูุงูุฏ ุจูุฏุ ุงูุง ุฏุฑ ุญุงู ุญุงุถุฑ ุงุณุชูุงุฏู ุงุฒ <code>clone</code> ฺฉุงููุงู ูุงุจู ูุจูู ุงุณุช.</p>
</section>
<p>ูุง ุชุงุจุน <code>main</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉุฑุฏู ุชุง ูููููโุง ุงุฒ <code>Config</code> ฺฉู ุชูุณุท <code>parse_config</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุจู ูุงู <code>config</code> ูุฑุงุฑ ุฏูุฏุ ู ฺฉุฏ ฺฉู ูุจูุงู ุงุฒ ูุชุบุฑูุง ุฌุฏุงฺฏุงูู <code>query</code> ู <code>file_path</code> ุงุณุชูุงุฏู ูโฺฉุฑุฏุ ุงฺฉููู ุงุฒ ููุฏูุง ููุฌูุฏ ุฏุฑ struct <code>Config</code> ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<p>ุงฺฉููู ฺฉุฏ ูุง ุจูโูุถูุญ ูุดุงู ูโุฏูุฏ ฺฉู <code>query</code> ู <code>file_path</code> ุจู ูู ูุฑุชุจุท ูุณุชูุฏ ู ูุฏู ุขูโูุง ุชูุธู ูุญูู ฺฉุงุฑ ุจุฑูุงูู ุงุณุช. ูุฑ ฺฉุฏ ฺฉู ุงุฒ ุงู ููุงุฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ ูโุฏุงูุฏ ฺฉู ุจุงุฏ ุขูโูุง ุฑุง ุฏุฑ ููููู <code>config</code> ุฏุฑ ููุฏูุง ฺฉู ูุงู ุขูโูุง ุจุฑุง ูุฏูุดุงู ุงูุชุฎุงุจ ุดุฏู ุงุณุชุ ูพุฏุง ฺฉูุฏ.</p>
<h4 id="ุงุฌุงุฏ-ุณุงุฒูุฏู-ุจุฑุง-config"><a class="header" href="#ุงุฌุงุฏ-ุณุงุฒูุฏู-ุจุฑุง-config">ุงุฌุงุฏ ุณุงุฒูุฏู ุจุฑุง <code>Config</code></a></h4>
<p>ุชุง ุงูุฌุงุ ููุทู ูุณุฆูู ุชุฌุฒู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุฑุง ุงุฒ <code>main</code> ุงุณุชุฎุฑุงุฌ ฺฉุฑุฏู ู ุฏุฑ ุชุงุจุน <code>parse_config</code> ูุฑุงุฑ ุฏุงุฏูโุงู. ุงู ฺฉุงุฑ ุจู ูุง ฺฉูฺฉ ฺฉุฑุฏ ุจุจูู ฺฉู ููุงุฏุฑ <code>query</code> ู <code>file_path</code> ุจู ูู ูุฑุชุจุท ูุณุชูุฏ ู ุงู ุฑุงุจุทู ุจุงุฏ ุฏุฑ ฺฉุฏ ูุง ููุชูู ุดูุฏ. ุณูพุณ ฺฉ struct ุจู ูุงู <code>Config</code> ุงุถุงูู ฺฉุฑุฏู ุชุง ูุฏู ูุดุชุฑฺฉ <code>query</code> ู <code>file_path</code> ุฑุง ูุงูโฺฏุฐุงุฑ ฺฉูู ู ุจุชูุงูู ูุงู ููุงุฏุฑ ุฑุง ุจูโุนููุงู ููุฏูุง struct ุงุฒ ุชุงุจุน <code>parse_config</code> ุจุงุฒฺฏุฑุฏุงูู.</p>
<p>ุญุงูุง ฺฉู ูุฏู ุชุงุจุน <code>parse_config</code> ุงุฌุงุฏ ฺฉ ููููู ุงุฒ <code>Config</code> ุงุณุชุ ูโุชูุงูู <code>parse_config</code> ุฑุง ุงุฒ ฺฉ ุชุงุจุน ูุนููู ุจู ฺฉ ุชุงุจุน ุจุง ูุงู <code>new</code> ุชุบุฑ ุฏูู ฺฉู ุจู struct <code>Config</code> ูุฑุชุจุท ุงุณุช. ุงู ุชุบุฑ ฺฉุฏ ุฑุง ุจูโุตูุฑุช idiomaticโุชุฑ ูโฺฉูุฏ. ูุง ูโุชูุงูู ูููููโูุง ุงุฒ ุงููุงุน ููุฌูุฏ ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏุ ูุงููุฏ <code>String</code>ุ ุฑุง ุจุง ูุฑุงุฎูุงู <code>String::new</code> ุงุฌุงุฏ ฺฉูู. ุจู ููู ุชุฑุชุจุ ุจุง ุชุบุฑ <code>parse_config</code> ุจู ุชุงุจุน <code>new</code> ูุฑุชุจุท ุจุง <code>Config</code>ุ ูโุชูุงูู ูููููโูุง ุงุฒ <code>Config</code> ุฑุง ุจุง ูุฑุงุฎูุงู <code>Config::new</code> ุงุฌุงุฏ ฺฉูู. ูุณุช ฑฒ-ท ุชุบุฑุงุช ูุงุฒู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust should_panic noplayground"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span>fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let config = Config::new(&amp;args);
<span class="boring">
</span><span class="boring">    println!("Searching for {}", config.query);
</span><span class="boring">    println!("In file {}", config.file_path);
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)
</span><span class="boring">        .expect("Should have been able to read the file");
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span>
    // --snip--
}

// --snip--

<span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Config {
    fn new(args: &amp;[String]) -&gt; Config {
        let query = args[1].clone();
        let file_path = args[2].clone();

        Config { query, file_path }
    }
}</code></pre>
<figcaption>Listing 12-7: ุชุบุฑ <code>parse_config</code> ุจู <code>Config::new</code></figcaption>
</figure>
<p>ูุง ุชุงุจุน <code>main</code> ุฑุง ฺฉู ุฏุฑ ุขู <code>parse_config</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉุฑุฏู ุจูโุฑูุฒุฑุณุงู ฺฉุฑุฏูโุงู ุชุง ุจูโุฌุง ุขู <code>Config::new</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ูุงู <code>parse_config</code> ุฑุง ุจู <code>new</code> ุชุบุฑ ุฏุงุฏู ู ุขู ุฑุง ุฏุฑ ฺฉ ุจููฺฉ <code>impl</code> ูุฑุงุฑ ุฏุงุฏูโุงู ฺฉู ุชุงุจุน <code>new</code> ุฑุง ุจู <code>Config</code> ูุฑุชุจุท ูโฺฉูุฏ. ฺฉุฏ ุฑุง ุฏูุจุงุฑู ฺฉุงููพุงู ฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ฺฉุงุฑ ูโฺฉูุฏ.</p>
<h3 id="ุฑูุน-ูุดฺฉูุงุช-ูุฏุฑุช-ุฎุทุง"><a class="header" href="#ุฑูุน-ูุดฺฉูุงุช-ูุฏุฑุช-ุฎุทุง">ุฑูุน ูุดฺฉูุงุช ูุฏุฑุช ุฎุทุง</a></h3>
<p>ุญุงูุง ุฑู ุฑูุน ูุดฺฉูุงุช ูุฏุฑุช ุฎุทุง ฺฉุงุฑ ูโฺฉูู. ุจู ุฎุงุทุฑ ุจุงูุฑุฏ ฺฉู ุชูุงุด ุจุฑุง ุฏุณุชุฑุณ ุจู ููุงุฏุฑ ููุฌูุฏ ุฏุฑ ุจุฑุฏุงุฑ <code>args</code> ุฏุฑ ุงูุฏุณ (index)ฑ ุง ฒ ุจุงุนุซ ูโุดูุฏ ุจุฑูุงูู ุฏุฑ ุตูุฑุช ุฏุงุดุชู ฺฉูุชุฑ ุงุฒ ุณู ุขุชูุ ุฏฺุงุฑ ูุญุดุช ุดูุฏ. ุจุฑูุงูู ุฑุง ุจุฏูู ูฺ ุขุฑฺฏููุงู ุงุฌุฑุง ฺฉูุฏุ ุงู ุญุงูุช ุจู ุดฺฉู ุฒุฑ ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.0s
     Running `target/debug/minigrep`
thread 'main' panicked at src/main.rs:27:21:
index out of bounds: the len is 1 but the index is 1
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ุฎุท <code>index out of bounds: the len is 1 but the index is 1</code> ฺฉ ูพุงู ุฎุทุง ุงุณุช ฺฉู ุจุฑุง ุจุฑูุงููโููุณุงู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏู ุงุณุช. ุงู ูพุงู ุจู ฺฉุงุฑุจุฑุงู ููุง ฺฉูฺฉ ููโฺฉูุฏ ุชุง ุจููููุฏ ุจุงุฏ ฺู ฺฉุงุฑ ฺฉููุฏ. ุญุงูุง ุงู ูุดฺฉู ุฑุง ุฑูุน ูโฺฉูู.</p>
<h4 id="ุจูุจูุฏ-ูพุงู-ุฎุทุง"><a class="header" href="#ุจูุจูุฏ-ูพุงู-ุฎุทุง">ุจูุจูุฏ ูพุงู ุฎุทุง</a></h4>
<p>ุฏุฑ ูุณุช ฑฒ-ธุ ฺฉ ุจุฑุฑุณ ุฏุฑ ุชุงุจุน <code>new</code> ุงุถุงูู ูโฺฉูู ฺฉู ุจุฑุฑุณ ูโฺฉูุฏ ุขุง ุขุฑุงู ุจูโุงูุฏุงุฒู ฺฉุงู ุทููุงู ุงุณุช ุชุง ุจุชูุงู ุจู ุงูุฏุณโูุง ฑ ู ฒ ุฏุณุชุฑุณ ุฏุงุดุช. ุงฺฏุฑ ุทูู ุขุฑุงู ฺฉุงู ูุจุงุดุฏุ ุจุฑูุงูู ุฏฺุงุฑ ูุญุดุช ูโุดูุฏ ู ฺฉ ูพุงู ุฎุทุง ุจูุชุฑ ููุงุด ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let config = Config::new(&amp;args);
</span><span class="boring">
</span><span class="boring">    println!("Searching for {}", config.query);
</span><span class="boring">    println!("In file {}", config.file_path);
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)
</span><span class="boring">        .expect("Should have been able to read the file");
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span>    // --snip--
    fn new(args: &amp;[String]) -&gt; Config {
        if args.len() &lt; 3 {
            panic!("not enough arguments");
        }
        // --snip--
<span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Config { query, file_path }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-8: ุงูุฒูุฏู ุจุฑุฑุณ ุจุฑุง ุชุนุฏุงุฏ ุขุฑฺฏููุงูโูุง</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุดุจู ุจู <a href="ch09-03-to-panic-or-not-to-panic.html#creating-custom-types-for-validation">ุชุงุจุน <code>Guess::new</code> ฺฉู ุฏุฑ ูุณุช น-ฑณ ููุดุชู</a><!-- ignore --> ุงุณุชุ ุฌุง ฺฉู ููุช ุขุฑฺฏููุงู <code>value</code> ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ููุงุฏุฑ ูุนุชุจุฑ ุจูุฏุ <code>panic!</code> ูุฑุงุฎูุงู ฺฉุฑุฏู. ุจู ุฌุง ุจุฑุฑุณ ูุญุฏูุฏู ููุงุฏุฑุ ุฏุฑ ุงูุฌุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ุทูู <code>args</code> ุญุฏุงูู ุจุฑุงุจุฑ ุจุง <code>3</code> ุจุงุดุฏ ู ุจูู ุชุงุจุน ูโุชูุงูุฏ ุจุง ูุฑุถ ุงูฺฉู ุงู ุดุฑุท ุจุฑูุฑุงุฑ ุดุฏู ุงุณุชุ ุนูู ฺฉูุฏ. ุงฺฏุฑ <code>args</code> ฺฉูุชุฑ ุงุฒ ุณู ุขุชู ุฏุงุดุชู ุจุงุดุฏุ ุงู ุดุฑุท <code>true</code> ุฎูุงูุฏ ุจูุฏ ู ูุง ูุงฺฉุฑู <code>panic!</code> ุฑุง ุจุฑุง ุฎุงุชูู ุจุฑูุงูู ุจูุงูุงุตูู ูุฑุงุฎูุงู ูโฺฉูู.</p>
<p>ุจุง ุงู ฺูุฏ ุฎุท ุงุถุงู ุฏุฑ <code>new</code>ุ ุจุงุฏ ุฏูุจุงุฑู ุจุฑูุงูู ุฑุง ุจุฏูู ูฺ ุขุฑฺฏููุงู ุงุฌุฑุง ฺฉูู ุชุง ุจุจูู ุงฺฉููู ูพุงู ุฎุทุง ฺฺฏููู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.0s
     Running `target/debug/minigrep`
thread 'main' panicked at src/main.rs:26:13:
not enough arguments
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>ุงู ุฎุฑูุฌ ุจูุชุฑ ุงุณุช: ุงฺฉููู ฺฉ ูพุงู ุฎุทุง ููุทู ุฏุงุฑู. ุจุง ุงู ุญุงูุ ูููุฒ ุงุทูุงุนุงุช ุงุถุงู ุฏุงุฑู ฺฉู ููโุฎูุงูู ุจู ฺฉุงุฑุจุฑุงู ุฎูุฏ ุงุฑุงุฆู ุฏูู. ุดุงุฏ ุชฺฉูฺฉ ฺฉู ุฏุฑ ูุณุช น-ฑณ ุงุณุชูุงุฏู ฺฉุฑุฏู ุจูุชุฑู ฺฏุฒูู ุจุฑุง ุงูุฌุง ูุจุงุดุฏ: ฺฉ ูุฑุงุฎูุงู ุจู <code>panic!</code> ุจุฑุง ูุดฺฉู ุจุฑูุงููโููุณ ููุงุณุจโุชุฑ ุงุณุช ุชุง ฺฉ ูุดฺฉู ุงุณุชูุงุฏูุ <a href="ch09-03-to-panic-or-not-to-panic.html#guidelines-for-error-handling">ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู น ุจุญุซ ุดุฏ</a><!-- ignore -->. ุฏุฑ ุนูุถุ ุงุฒ ุชฺฉูฺฉ ุฏฺฏุฑ ฺฉู ุฏุฑ ูุตู น ุงุฏ ฺฏุฑูุชุฏ ุงุณุชูุงุฏู ูโฺฉููโ<a href="ch09-02-recoverable-errors-with-result.html">ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code></a><!-- ignore --> ฺฉู ูุดุงูโุฏููุฏู ููููุช ุง ุฎุทุง ุงุณุช.</p>
<p><a id="returning-a-result-from-new-instead-of-calling-panic"></a></p>
<h4 id="ุจุงุฒฺฏุฑุฏุงูุฏู-ฺฉ-result-ุจู-ุฌุง-ูุฑุงุฎูุงู-panic"><a class="header" href="#ุจุงุฒฺฏุฑุฏุงูุฏู-ฺฉ-result-ุจู-ุฌุง-ูุฑุงุฎูุงู-panic">ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code> ุจู ุฌุง ูุฑุงุฎูุงู <code>panic!</code></a></h4>
<p>ูุง ูโุชูุงูู ุจู ุฌุง ุขูุ ฺฉ ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูู ฺฉู ุฏุฑ ุตูุฑุช ููููุช ุดุงูู ฺฉ ููููู ุงุฒ <code>Config</code> ุจุงุดุฏ ู ุฏุฑ ุตูุฑุช ุฎุทุง ูุดฺฉู ุฑุง ุชูุตู ฺฉูุฏ. ููฺูู ูุตุฏ ุฏุงุฑู ูุงู ุชุงุจุน ุฑุง ุงุฒ <code>new</code> ุจู <code>build</code> ุชุบุฑ ุฏูู ุฒุฑุง ุจุณุงุฑ ุงุฒ ุจุฑูุงููโููุณุงู ุงูุชุธุงุฑ ุฏุงุฑูุฏ ฺฉู ุชูุงุจุน <code>new</code> ูุฑฺฏุฒ ุดฺฉุณุช ูุฎูุฑูุฏ. ููุช <code>Config::build</code> ุจุง <code>main</code> ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉูุฏุ ูโุชูุงูู ุงุฒ ููุน <code>Result</code> ุจุฑุง ุงุนูุงู ูุดฺฉู ุงุณุชูุงุฏู ฺฉูู. ุณูพุณ ูโุชูุงูู <code>main</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ฺฉ ูุงุฑุงูุช <code>Err</code> ุฑุง ุจู ฺฉ ูพุงู ุฎุทุง ุนููโุชุฑ ุจุฑุง ฺฉุงุฑุจุฑุงู ุฎูุฏ ุชุจุฏู ฺฉููุ ุจุฏูู ูุชูโูุง ุงุถุงู ูุฑุจูุท ุจู <code>thread 'main'</code> ู <code>RUST_BACKTRACE</code> ฺฉู ฺฉ ูุฑุงุฎูุงู ุจู <code>panic!</code> ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ูุณุช ฑฒ-น ุชุบุฑุงุช ุฑุง ฺฉู ุจุงุฏ ุฏุฑ ููุฏุงุฑ ุจุงุฒฺฏุดุช ุชุงุจุน ฺฉู ุงฺฉููู ุขู ุฑุง <code>Config::build</code> ูโูุงูู ู ุจุฏูู ุชุงุจุน ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code> ุงุฌุงุฏ ฺฉููุ ูุดุงู ูโุฏูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ุชุง ุฒูุงู ฺฉู <code>main</code> ุฑุง ูุฒ ุจูโุฑูุฒุฑุณุงู ูฺฉูู ฺฉุงููพุงู ููโุดูุฏุ ฺฉู ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ูุณุช ุจุนุฏ ุงูุฌุงู ุฎูุงูู ุฏุงุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let config = Config::new(&amp;args);
</span><span class="boring">
</span><span class="boring">    println!("Searching for {}", config.query);
</span><span class="boring">    println!("In file {}", config.file_path);
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)
</span><span class="boring">        .expect("Should have been able to read the file");
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Config {
    fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
        if args.len() &lt; 3 {
            return Err("not enough arguments");
        }

        let query = args[1].clone();
        let file_path = args[2].clone();

        Ok(Config { query, file_path })
    }
}</code></pre>
<figcaption>Listing 12-9: ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code> ุงุฒ <code>Config::build</code></figcaption>
</figure>
<h4 id="ุชุงุจุน-build-ู-ุจุงุฒฺฏุดุช-ููุฏุงุฑ-result"><a class="header" href="#ุชุงุจุน-build-ู-ุจุงุฒฺฏุดุช-ููุฏุงุฑ-result">ุชุงุจุน <code>build</code> ู ุจุงุฒฺฏุดุช ููุฏุงุฑ <code>Result</code></a></h4>
<p>ุชุงุจุน <code>build</code> ูุง ุงฺฉููู ฺฉ ููุฏุงุฑ <code>Result</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุฏุฑ ุตูุฑุช ููููุช ุดุงูู ฺฉ ููููู ุงุฒ <code>Config</code> ู ุฏุฑ ุตูุฑุช ุฎุทุง ฺฉ ููุฏุงุฑ ุฑุดุชูโุง ุซุงุจุช (<code>string literal</code>) ุงุณุช. ููุงุฏุฑ ุฎุทุง ูุง ููุดู ุฑุดุชูโูุง ุซุงุจุช ุจุง ุทูู ุนูุฑ <code>'static</code> ุฎูุงููุฏ ุจูุฏ.</p>
<p>ูุง ุฏู ุชุบุฑ ุฏุฑ ุจุฏูู ุชุงุจุน ุงุฌุงุฏ ฺฉุฑุฏูโุงู: ุจู ุฌุง ูุฑุงุฎูุงู <code>panic!</code> ุฒูุงู ฺฉู ฺฉุงุฑุจุฑ ุขุฑฺฏููุงูโูุง ฺฉุงู ุงุฑุงุฆู ููโุฏูุฏุ ุงฺฉููู ฺฉ ููุฏุงุฑ <code>Err</code> ุจุงุฒูโฺฏุฑุฏุงูู ู ููุฏุงุฑ ุจุงุฒฺฏุดุช <code>Config</code> ุฑุง ุฏุฑ ฺฉ <code>Ok</code> ูุฑุงุฑ ุฏุงุฏูโุงู. ุงู ุชุบุฑุงุช ุจุงุนุซ ูโุดููุฏ ุชุงุจุน ุจุง ุงูุถุง ููุน ุฌุฏุฏ ุฎูุฏ ุณุงุฒฺฏุงุฑ ุจุงุดุฏ.</p>
<p>ุจุงุฒฺฏุฑุฏุงูุฏู ููุฏุงุฑ <code>Err</code> ุงุฒ <code>Config::build</code> ุจู ุชุงุจุน <code>main</code> ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุดุช ุงุฒ ุชุงุจุน <code>build</code> ุฑุง ูุฏุฑุช ฺฉุฑุฏู ู ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุงุ ูุฑุขูุฏ ุฑุง ุจู ุดฺฉู ุชูุฒุชุฑ ุฎุงุชูู ุฏูุฏ.</p>
<p><a id="calling-confignew-and-handling-errors"></a></p>
<h4 id="ูุฑุงุฎูุงู-configbuild-ู-ูุฏุฑุช-ุฎุทุงูุง"><a class="header" href="#ูุฑุงุฎูุงู-configbuild-ู-ูุฏุฑุช-ุฎุทุงูุง">ูุฑุงุฎูุงู <code>Config::build</code> ู ูุฏุฑุช ุฎุทุงูุง</a></h4>
<p>ุจุฑุง ูุฏุฑุช ุญุงูุช ุฎุทุง ู ฺุงูพ ฺฉ ูพุงู ุฏูุณุชุงูู ุจุฑุง ฺฉุงุฑุจุฑุ ุจุงุฏ ุชุงุจุน <code>main</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูู ุชุง ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชูุณุท <code>Config::build</code> ุฑุง ูุฏุฑุช ฺฉูุฏ. ุงู ฺฉุงุฑ ุฏุฑ ูุณุช ฑฒ-ฑฐ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ููฺูู ูุณุฆููุช ุฎุงุชูู ุฏุงุฏู ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ุจุง ฺฉุฏ ุฎุทุง ุบุฑ ุตูุฑ ุฑุง ุงุฒ <code>panic!</code> ฺฏุฑูุชู ู ุจู ุตูุฑุช ุฏุณุช ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ. ฺฉุฏ ุฎุฑูุฌ ุบุฑ ุตูุฑ ุจู ุนููุงู ฺฉ ูุฑุงุฑุฏุงุฏ ุจุฑุง ุงุนูุงู ูุถุนุช ุฎุทุง ุจู ูุฑุขูุฏ ฺฉู ุจุฑูุงูู ูุง ุฑุง ูุฑุงุฎูุงูุฏู ุงุณุชุ ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span>use std::process;

fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let config = Config::build(&amp;args).unwrap_or_else(|err| {
        println!("Problem parsing arguments: {err}");
        process::exit(1);
    });

    // --snip--
<span class="boring">
</span><span class="boring">    println!("Searching for {}", config.query);
</span><span class="boring">    println!("In file {}", config.file_path);
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)
</span><span class="boring">        .expect("Should have been able to read the file");
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-10: ุฎุฑูุฌ ุจุง ฺฉุฏ ุฎุทุง ุฏุฑ ุตูุฑุช ุดฺฉุณุช ุฏุฑ ุณุงุฎุช ฺฉ <code>Config</code></figcaption>
</figure>
<p>ุฏุฑ ุงู ูุณุชูฺฏุ ูุง ุงุฒ ูุชุฏ ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู ฺฉู ูููุฒ ุฌุฒุฆุงุช ุขู ุฑุง ุจูโุทูุฑ ฺฉุงูู ูพูุดุด ูุฏุงุฏูโุงู: <code>unwrap_or_else</code>. ุงู ูุชุฏ ฺฉู ุฏุฑ ุงุณุชุงูุฏุงุฑุฏ ฺฉุชุงุจุฎุงูู Rust ุจุฑุง <code>Result&lt;T, E&gt;</code> ุชุนุฑู ุดุฏู ุงุณุชุ ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ ูุฏุฑุช ุฎุทุงูุง ุณูุงุฑุด ู ุจุฏูู ุงุณุชูุงุฏู ุงุฒ <code>panic!</code> ุฑุง ุชุนุฑู ฺฉูู. ุงฺฏุฑ ููุฏุงุฑ <code>Result</code> ุงุฒ ููุน <code>Ok</code> ุจุงุดุฏุ ุฑูุชุงุฑ ุงู ูุชุฏ ูุดุงุจู <code>unwrap</code> ุงุณุช: ููุฏุงุฑ ุฏุงุฎู ฺฉู <code>Ok</code> ุฏุฑ ุฎูุฏ ูุฑุงุฑ ุฏุงุฏู ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ููุฏุงุฑ ุงุฒ ููุน <code>Err</code> ุจุงุดุฏุ ุงู ูุชุฏ ฺฉุฏ ุฑุง ฺฉู ุฏุฑ <em>closure</em> ุชุนุฑู ฺฉุฑุฏูโุงู ุงุฌุฑุง ูโฺฉูุฏ. <em>Closure</em> ฺฉ ุชุงุจุน ูุงุดูุงุณ ุงุณุช ฺฉู ุขู ุฑุง ุชุนุฑู ฺฉุฑุฏู ู ุจูโุนููุงู ุขุฑฺฏููุงู ุจู <code>unwrap_or_else</code> ุงุฑุณุงู ูโฺฉูู.</p>
<p>ูุง closures ุฑุง ุจู ุชูุตู ุฏุฑ <a href="ch13-00-functional-features.html">ูุตู ฑณ</a> ุชูุถุญ ุฎูุงูู ุฏุงุฏ. ูุนูุงู ฺฉุงู ุงุณุช ุจุฏุงูุฏ ฺฉู <code>unwrap_or_else</code> ููุฏุงุฑ ุฏุงุฎู <code>Err</code> ุฑุง ุจู <em>closure</em> ูโุฏูุฏ. ุฏุฑ ุงูุฌุงุ ููุฏุงุฑ ุงุณุชุงุชฺฉ <code>"not enough arguments"</code> ฺฉู ุฏุฑ ูุณุชูฺฏ 12-9 ุงุถุงูู ฺฉุฑุฏูุ ุจู <em>closure</em> ุงุฑุณุงู ุดุฏู ู ุจู ุขุฑฺฏููุงู <code>err</code> ุชุฎุตุต ุฏุงุฏู ูโุดูุฏุ ฺฉู ุจู ุฎุท ุนููุฏโูุง ูุฑุงุฑ ุฏุงุฑุฏ. ฺฉุฏ ุฏุฑูู <em>closure</em> ุณูพุณ ูโุชูุงูุฏ ุงุฒ ููุฏุงุฑ <code>err</code> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ูุง ููฺูู ฺฉ ุฎุท ุฌุฏุฏ <code>use</code> ุงุถุงูู ฺฉุฑุฏูโุงู ุชุง <code>process</code> ุฑุง ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจู ูุญุฏูุฏู ุจุงูุฑู. ฺฉุฏ ฺฉู ุฏุฑ ุญุงูุช ุฎุทุง ุงุฌุฑุง ูโุดูุฏ ุชููุง ุดุงูู ุฏู ุฎุท ุงุณุช: ุงุจุชุฏุง ููุฏุงุฑ <code>err</code> ุฑุง ฺุงูพ ูโฺฉูู ู ุณูพุณ <code>process::exit</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู. ุชุงุจุน <code>process::exit</code> ุจูุงูุงุตูู ุจุฑูุงูู ุฑุง ูุชููู ฺฉุฑุฏู ู ุนุฏุฏ ฺฉู ุจูโุนููุงู ฺฉุฏ ูุถุนุช ุฎุฑูุฌ ุงุฑุณุงู ุดุฏู ุงุณุช ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุฑูุด ุดุจู ูุฏุฑุช ูุจุชู ุจุฑ <code>panic!</code> ุงุณุช ฺฉู ุฏุฑ ูุณุชูฺฏ 12-8 ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุงูุง ุฏฺฏุฑ ุฎุฑูุฌ ุงุถุงู ุชููุฏ ููโุดูุฏ. ุญุงูุง ุขู ุฑุง ุขุฒูุงุด ฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.48s
     Running `target/debug/minigrep`
Problem parsing arguments: not enough arguments
</code></pre>
<p>ุนุงู! ุงู ุฎุฑูุฌ ุจุฑุง ฺฉุงุฑุจุฑุงู ูุง ุจุณุงุฑ ุฏูุณุชุงููโุชุฑ ุงุณุช.</p>
<h3 id="ุฌุฏุงุณุงุฒ-ููุทู-ุงุฒ-main"><a class="header" href="#ุฌุฏุงุณุงุฒ-ููุทู-ุงุฒ-main">ุฌุฏุงุณุงุฒ ููุทู ุงุฒ <code>main</code></a></h3>
<p>ุงฺฉููู ฺฉู ุจุงุฒุขุฑุง ุจุฑุง ุชุฌุฒู ุชูุธูุงุช ุฑุง ุจู ูพุงุงู ุฑุณุงูุฏูโุงูุ ุจุงุฏ ุจู ููุทู ุจุฑูุงูู ุจูพุฑุฏุงุฒู. ููุงูโุทูุฑ ฺฉู ุฏุฑ <a href="ch12-03-improving-error-handling-and-modularity.html#separation-of-concerns-for-binary-projects">ยซุชูฺฉฺฉ ูฺฏุฑุงูโูุง ุจุฑุง ูพุฑูฺูโูุง ุจุงูุฑยป</a><!-- ignore --> ุจุงู ฺฉุฑุฏูุ ุชุงุจุน ุจู ูุงู <code>run</code> ุงุณุชุฎุฑุงุฌ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุชูุงู ููุทู ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ ุชุงุจุน <code>main</code> ูุฌูุฏ ุฏุงุฑุฏ ู ูุฑุจูุท ุจู ุชูุธูุงุช ุง ูุฏุฑุช ุฎุทุง ูุณุช ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ููฺฏุงู ฺฉู ฺฉุงุฑ ูุง ุชูุงู ุดูุฏุ <code>main</code> ูุฎุชุตุฑ ู ุขุณุงู ุจุฑุง ุจุฑุฑุณ ุฎูุงูุฏ ุจูุฏ ู ูโุชูุงูู ุชุณุชโูุง ุจุฑุง ุณุงุฑ ููุทูโูุง ุจููุณู.</p>
<p>ูุณุช ฑฒ-ฑฑ ุชุงุจุน ุงุณุชุฎุฑุงุฌโุดุฏู <code>run</code> ุฑุง ูุดุงู ูโุฏูุฏ. ูุนูุงู ููุท ุจูุจูุฏ ฺฉูฺฺฉ ุงูุฌุงู ูโุฏูู ฺฉู ุชุงุจุน ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉูู. ููฺูุงู ุชุงุจุน ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ุชุนุฑู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">use std::process;
</span><span class="boring">
</span>fn main() {
    // --snip--

<span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let config = Config::build(&amp;args).unwrap_or_else(|err| {
</span><span class="boring">        println!("Problem parsing arguments: {err}");
</span><span class="boring">        process::exit(1);
</span><span class="boring">    });
</span><span class="boring">
</span>    println!("Searching for {}", config.query);
    println!("In file {}", config.file_path);

    run(config);
}

fn run(config: Config) {
    let contents = fs::read_to_string(config.file_path)
        .expect("Should have been able to read the file");

    println!("With text:\n{contents}");
}

// --snip--
<span class="boring">
</span><span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-11: ุงุณุชุฎุฑุงุฌ ุชุงุจุน <code>run</code> ุงุฒ <code>main</code></figcaption>
</figure>
<p>ุจุง ุงู ุชุบุฑุงุชุ <code>main</code> ุงฺฉููู ุชุงุจุน <code>run</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ู ูุณุฆููุช ุงุฌุฑุง ููุทู ุงุตู ุจุฑูุงูู ุฑุง ุจู ุขู ูุงฺฏุฐุงุฑ ูโฺฉูุฏ. ุงู ุฌุฏุงุณุงุฒ ุจุงุนุซ ูโุดูุฏ ุชุงุจุน <code>main</code> ุณุงุฏูโุชุฑ ุดูุฏ ู ูุง ุจุชูุงูู ุชุณุชโูุง ุฏูู ุจุฑุง ุจุฎุดโูุง ูุฎุชูู ฺฉุฏ ุจููุณู. ุงู ุฑูุด ุจู ุจูุจูุฏ ูุงุจูุช ูฺฏูุฏุงุฑ ู ุฎูุงูุง ฺฉุฏ ฺฉูฺฉ ุดุงุงู ูโฺฉูุฏ.</p>
<h3 id="ุจุงุฒฺฏุฑุฏุงูุฏู-ุฎุทุงูุง-ุงุฒ-ุชุงุจุน-run"><a class="header" href="#ุจุงุฒฺฏุฑุฏุงูุฏู-ุฎุทุงูุง-ุงุฒ-ุชุงุจุน-run">ุจุงุฒฺฏุฑุฏุงูุฏู ุฎุทุงูุง ุงุฒ ุชุงุจุน <code>run</code></a></h3>
<p>ุงฺฉููู ฺฉู ููุทู ุจุงูโูุงูุฏู ุจุฑูุงูู ุฑุง ุฏุฑ ุชุงุจุน <code>run</code> ุฌุฏุง ฺฉุฑุฏูโุงูุ ูโุชูุงูู ูุงููุฏ <code>Config::build</code> ุฏุฑ ูุณุชูฺฏ 12-9ุ ูุฏุฑุช ุฎุทุง ุฑุง ุจูุจูุฏ ุจุฎุดู. ุจู ุฌุง ุงุฌุงุฒู ุฏุงุฏู ุจู ุจุฑูุงูู ุจุฑุง ุงุฌุฑุง <code>panic</code> ุจุง ูุฑุงุฎูุงู <code>expect</code>ุ ุชุงุจุน <code>run</code> ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู ฺฉ <code>Result&lt;T, E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุฑูฺฉุฑุฏ ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ ููุทู ูุฑุชุจุท ุจุง ูุฏุฑุช ุฎุทุง ุฑุง ุจู ุตูุฑุช ฺฉุงุฑุจุฑูพุณูุฏุงููโุง ุฏุฑ ุชุงุจุน <code>main</code> ูุชูุฑฺฉุฒ ฺฉูู. ุชุบุฑุงุช ูุงุฒู ุจุฑุง ุงูุถุง ู ุจุฏูู ุชุงุจุน <code>run</code> ุฏุฑ ูุณุชูฺฏ 12-12 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::fs;
</span><span class="boring">use std::process;
</span>use std::error::Error;

// --snip--

<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let config = Config::build(&amp;args).unwrap_or_else(|err| {
</span><span class="boring">        println!("Problem parsing arguments: {err}");
</span><span class="boring">        process::exit(1);
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    println!("Searching for {}", config.query);
</span><span class="boring">    println!("In file {}", config.file_path);
</span><span class="boring">
</span><span class="boring">    run(config);
</span><span class="boring">}
</span><span class="boring">
</span>fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let contents = fs::read_to_string(config.file_path)?;

    println!("With text:\n{contents}");

    Ok(())
}
<span class="boring">
</span><span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-12: ุชุบุฑ ุชุงุจุน <code>run</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู <code>Result</code></figcaption>
</figure>
<h3 id="ุชุบุฑุงุช-ููู"><a class="header" href="#ุชุบุฑุงุช-ููู">ุชุบุฑุงุช ููู</a></h3>
<ul dir="rtl">
  <li>
    <strong>ุชุบุฑ ููุน ุจุงุฒฺฏุดุช:</strong>  
    ููุน ุจุงุฒฺฏุดุช ุชุงุจุน <code>run</code> ุจู <code>Result&lt;(), Box&lt;dyn Error&gt;&gt;</code> ุชุบุฑ ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ุชุงุจุน ูุจูุงู ููุน ูุงุญุฏ (<code>()</code>) ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ฺฉู ููฺูุงู ุจุฑุง ุญุงูุช ููููุช ุญูุธ ุดุฏู ุงุณุช.  
    ุจุฑุง ููุน ุฎุทุง ุงุฒ ฺฉ <strong>ุดุก ุตูุงุช</strong> ุจู ูุงู <code>Box&lt;dyn Error&gt;</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู (ู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>use</code>ุ <code>std::error::Error</code> ุฑุง ุจู ูุญุฏูุฏู ุขูุฑุฏูโุงู). ุฏุฑ ูุตู 18 ุจุดุชุฑ ุฏุฑุจุงุฑู ุดุก ุตูุงุช ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ฺฉุงู ุงุณุช ุจุฏุงูุฏ ฺฉู <code>Box&lt;dyn Error&gt;</code> ุจู ุงู ูุนูุง ุงุณุช ฺฉู ุชุงุจุน ูโุชูุงูุฏ ููุน ุงุฒ ููุฏุงุฑ ุฑุง ฺฉู ุตูุช <code>Error</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุฒฺฏุฑุฏุงูุฏุ ุจุฏูู ุงูฺฉู ููุน ุฎุงุต ุฑุง ูุดุฎุต ฺฉูุฏ. ฺฉููู ฺฉูุฏ <code>dyn</code> ุจู ูุนูุง <strong>ุฏูุงูฺฉ</strong> ุงุณุช.
  </li>
  <li>
    <strong>ุญุฐู <code>expect</code> ู ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>?</code>:</strong>  
    ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ <code>panic!</code> ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุงุ ุนููฺฏุฑ <code>?</code> ููุฏุงุฑ ุฎุทุง ุฑุง ุงุฒ ุชุงุจุน ุฌุงุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ูุฑุงุฎูุงูโฺฉููุฏู ุจุชูุงูุฏ ุขู ุฑุง ูุฏุฑุช ฺฉูุฏ.
  </li>
  <li>
    <strong>ุจุงุฒฺฏุฑุฏุงูุฏู ููุฏุงุฑ <code>Ok</code> ุฏุฑ ุญุงูุช ููููุช:</strong>  
    ุชุงุจุน <code>run</code> ุงฺฉููู ุฏุฑ ุญุงูุช ููููุช ููุฏุงุฑ <code>Ok</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุง ููุน ููููุช ุชุงุจุน ุฑุง ุจู ุนููุงู <code>()</code> ุฏุฑ ุงูุถุง ุชุนุฑู ฺฉุฑุฏูโุงูุ ฺฉู ุจู ุงู ูุนูุง ุงุณุช ฺฉู ุจุงุฏ ููุฏุงุฑ ููุน ูุงุญุฏ ุฑุง ุฏุฑ ููุฏุงุฑ <code>Ok</code> ูุฑุงุฑ ุฏูู. ูุญู <code>Ok(())</code> ููฺฉู ุงุณุช ุฏุฑ ุงุจุชุฏุง ฺฉู ุนุฌุจ ุจู ูุธุฑ ุจุฑุณุฏุ ุงูุง ุงุณุชูุงุฏู ุงุฒ <code>()</code> ุจู ุงู ุตูุฑุช ุฑูุด ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ูุดุงู ุฏุงุฏู ุงู ุงุณุช ฺฉู ุชุงุจุน <code>run</code> ุชููุง ุจุฑุง ุชุฃุซุฑุงุช ุฌุงูุจ ูุฑุงุฎูุงู ุดุฏู ู ููุฏุงุฑ ุจุงุฒููโฺฏุฑุฏุงูุฏ ฺฉู ุจู ุขู ูุงุฒ ุฏุงุดุชู ุจุงุดู.
  </li>
</ul>
```
<h3 id="ุจุฑุฑุณ-ฺฉุฏ"><a class="header" href="#ุจุฑุฑุณ-ฺฉุฏ">ุจุฑุฑุณ ฺฉุฏ</a></h3>
<p>ุงุฌุฑุง ุงู ฺฉุฏ ุจุงุนุซ ูโุดูุฏ ฺฉู ฺฉุฏ ฺฉุงููพุงู ุดูุฏ ุงูุง ฺฉ ูุดุฏุงุฑ ููุงุด ุฏูุฏ:</p>
<pre><code class="language-console">$ cargo run -- the poem.txt
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
warning: unused `Result` that must be used
  --&gt; src/main.rs:19:5
   |
19 |     run(config);
   |     ^^^^^^^^^^^
   |
   = note: this `Result` may be an `Err` variant, which should be handled
   = note: `#[warn(unused_must_use)]` on by default
help: use `let _ = ...` to ignore the resulting value
   |
19 |     let _ = run(config);
   |     +++++++

warning: `minigrep` (bin "minigrep") generated 1 warning
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.71s
     Running `target/debug/minigrep the poem.txt`
Searching for the
In file poem.txt
With text:
I'm nobody! Who are you?
Are you nobody, too?
Then there's a pair of us - don't tell!
They'd banish us, you know.

How dreary to be somebody!
How public, like a frog
To tell your name the livelong day
To an admiring bog!

</code></pre>
<p>Rust ุจู ูุง ุงุฏุขูุฑ ูโฺฉูุฏ ฺฉู ฺฉุฏ ูุง ููุฏุงุฑ <code>Result</code> ุฑุง ูุงุฏุฏู ฺฏุฑูุชู ุงุณุช ู ุงู ููุฏุงุฑ ููฺฉู ุงุณุช ูุดุงูโุฏููุฏู ุจุฑูุฒ ุฎุทุง ุจุงุดุฏ. ุงูุง ูุง ุจุฑุฑุณ ููโฺฉูู ฺฉู ุขุง ุฎุทุง ุฑุฎ ุฏุงุฏู ุงุณุช ุง ุฎุฑุ ู ฺฉุงููพุงูุฑ ุจู ูุง ุงุฏุขูุฑ ูโฺฉูุฏ ฺฉู ุงุญุชูุงูุงู ูุงุฒ ุจู ูุฏุฑุช ุฎุทุง ุฏุฑ ุงู ุจุฎุด ุฏุงุฑู. ุงฺฉููู ุงู ูุดฺฉู ุฑุง ุงุตูุงุญ ุฎูุงูู ฺฉุฑุฏ.</p>
<h4 id="ูุฏุฑุช-ุฎุทุงูุง-ุจุงุฒฺฏุฑุฏุงูุฏูุดุฏู-ุงุฒ-run-ุฏุฑ-main"><a class="header" href="#ูุฏุฑุช-ุฎุทุงูุง-ุจุงุฒฺฏุฑุฏุงูุฏูุดุฏู-ุงุฒ-run-ุฏุฑ-main">ูุฏุฑุช ุฎุทุงูุง ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุงุฒ <code>run</code> ุฏุฑ <code>main</code></a></h4>
<p>ูุง ุฎุทุงูุง ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู ู ุจุง ุงุณุชูุงุฏู ุงุฒ ุชฺฉูฺฉ ูุดุงุจู ุขูฺู ุฏุฑ <code>Config::build</code> ุฏุฑ ูุณุช ฑฒ-ฑฐ ุงุณุชูุงุฏู ฺฉุฑุฏู ูุฏุฑุช ูโฺฉููุ ุงูุง ุจุง ฺฉ ุชูุงูุช ฺฉูฺฺฉ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">use std::process;
</span><span class="boring">
</span>fn main() {
    // --snip--

<span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let config = Config::build(&amp;args).unwrap_or_else(|err| {
</span><span class="boring">        println!("Problem parsing arguments: {err}");
</span><span class="boring">        process::exit(1);
</span><span class="boring">    });
</span><span class="boring">
</span>    println!("Searching for {}", config.query);
    println!("In file {}", config.file_path);

    if let Err(e) = run(config) {
        println!("Application error: {e}");
        process::exit(1);
    }
}
<span class="boring">
</span><span class="boring">fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Config {
</span><span class="boring">    query: String,
</span><span class="boring">    file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ูุง ุจู ุฌุง <code>unwrap_or_else</code> ุงุฒ <code>if let</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุฑุฑุณ ฺฉูู ุขุง <code>run</code> ฺฉ ููุฏุงุฑ <code>Err</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ุง ุฎุฑ ู ุฏุฑ ุตูุฑุช ูููุนุ <code>process::exit(1)</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ุชุงุจุน <code>run</code> ููุฏุงุฑ ุจุงุฒููโฺฏุฑุฏุงูุฏ ฺฉู ุจุฎูุงูู ุจู ููุงู ุดููโุง ฺฉู <code>Config::build</code> ููููู <code>Config</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุขู ุฑุง <code>unwrap</code> ฺฉูู. ุงุฒ ุขูุฌุง ฺฉู <code>run</code> ุฏุฑ ุตูุฑุช ููููุช ููุฏุงุฑ <code>()</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ูุง ููุท ุจู ุดูุงุณุง ฺฉ ุฎุทุง ุงููุช ูโุฏููุ ุจูุงุจุฑุงู ูุงุฒ ุจู <code>unwrap_or_else</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ููุฏุงุฑ ุขู ูุฏุงุฑูุ ฺฉู ุชููุง <code>()</code> ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุจุฏููโูุง <code>if let</code> ู <code>unwrap_or_else</code> ุฏุฑ ูุฑ ุฏู ุญุงูุช ฺฉุณุงู ูุณุชูุฏ: ูุง ุฎุทุง ุฑุง ฺุงูพ ฺฉุฑุฏู ู ุฎุงุฑุฌ ูโุดูู.</p>
<h3 id="ุชูุณู-ฺฉุฏ-ุจู-ฺฉ-ฺฉุชุงุจุฎุงูู"><a class="header" href="#ุชูุณู-ฺฉุฏ-ุจู-ฺฉ-ฺฉุชุงุจุฎุงูู">ุชูุณู ฺฉุฏ ุจู ฺฉ ฺฉุชุงุจุฎุงูู</a></h3>
<p>ูพุฑูฺู <code>minigrep</code> ูุง ุชุง ุงูุฌุง ุฎูุจ ูพุด ูโุฑูุฏ! ุงฺฉููู ฺฉุฏ ูุงู <em>src/main.rs</em> ุฑุง ุชูุณู ฺฉุฑุฏู ู ุจุฑุฎ ุงุฒ ฺฉุฏ ุฑุง ุจู ูุงู <em>src/lib.rs</em> ููุชูู ูโฺฉูู. ุจู ุงู ุชุฑุชุจุ ูโุชูุงูู ฺฉุฏ ุฑุง ุชุณุช ฺฉูู ู ูุงู <em>src/main.rs</em> ูุณุฆููุชโูุง ฺฉูุชุฑ ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุจุงุฏ ุชูุงู ฺฉุฏ ฺฉู ุฏุฑ ุชุงุจุน <code>main</code> ูุณุช ุงุฒ <em>src/main.rs</em> ุจู <em>src/lib.rs</em> ููุชูู ฺฉูู:</p>
<ul dir="rtl">
<li> ุชุนุฑู ุชุงุจุน `run` </li>
<li> ุฏุณุชูุฑุงุช `use` ูุฑุชุจุท </li>
<li> ุชุนุฑู `Config` </li>
<li> ุชุนุฑู ุชุงุจุน `Config::build` </li>
</ul>
<p>ูุญุชูุงุช ูุงู <em>src/lib.rs</em> ุจุงุฏ ุงูุถุงูุง ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑณ ุขูุฏู ุงุณุช ุฑุง ุฏุงุดุชู ุจุงุดุฏ (ุจุฏูู ุชูุงุจุน ุจุฑุง ุงุฎุชุตุงุฑ ุญุฐู ุดุฏู ุงุณุช). ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ุชุง ุฒูุงู ฺฉู <em>src/main.rs</em> ุฑุง ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ุชุบุฑ ูุฏูู ฺฉุงููพุงู ููโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::error::Error;
use std::fs;

pub struct Config {
    pub query: String,
    pub file_path: String,
}

impl Config {
    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
        // --snip--
<span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span>    }
}

pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    // --snip--
<span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    println!("With text:\n{contents}");
</span><span class="boring">
</span><span class="boring">    Ok(())
</span>}</code></pre>
<figcaption>Listing 12-13: ุงูุชูุงู <code>Config</code> ู <code>run</code> ุจู <em>src/lib.rs</em></figcaption>
</figure>
<p>ูุง ุจู ุทูุฑ ฺฏุณุชุฑุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>pub</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู: ุฏุฑ <code>Config</code>ุ ููุฏูุง ุขูุ ูุชุฏ <code>build</code> ู ููฺูู ุชุงุจุน <code>run</code>. ุงฺฉููู ฺฉ crate ฺฉุชุงุจุฎุงููโุง ุฏุงุฑู ฺฉู ฺฉ API ุนููู ุฏุงุฑุฏ ู ูโุชูุงูู ุขู ุฑุง ุชุณุช ฺฉูู!</p>
<p>ุญุงูุง ุจุงุฏ ฺฉุฏ ฺฉู ุจู <em>src/lib.rs</em> ููุชูู ฺฉุฑุฏูโุงู ุฑุง ุจู ูุญุฏูุฏู crate ุจุงูุฑ ุฏุฑ <em>src/main.rs</em> ุจุงูุฑูุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use std::env;
use std::process;

use minigrep::Config;

fn main() {
    // --snip--
<span class="boring">    let args: Vec&lt;String&gt; = env::args().collect();
</span><span class="boring">
</span><span class="boring">    let config = Config::build(&amp;args).unwrap_or_else(|err| {
</span><span class="boring">        println!("Problem parsing arguments: {err}");
</span><span class="boring">        process::exit(1);
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    println!("Searching for {}", config.query);
</span><span class="boring">    println!("In file {}", config.file_path);
</span><span class="boring">
</span>    if let Err(e) = minigrep::run(config) {
        // --snip--
<span class="boring">        println!("Application error: {e}");
</span><span class="boring">        process::exit(1);
</span>    }
}</code></pre>
<figcaption>Listing 12-14: ุงุณุชูุงุฏู ุงุฒ crate ฺฉุชุงุจุฎุงููโุง <code>minigrep</code> ุฏุฑ <em>src/main.rs</em></figcaption>
</figure>
<p>ูุง ุฎุท <code>use minigrep::Config</code> ุฑุง ุงุถุงูู ฺฉุฑุฏูโุงู ุชุง ููุน <code>Config</code> ุฑุง ุงุฒ crate ฺฉุชุงุจุฎุงููโุง ุจู ูุญุฏูุฏู crate ุจุงูุฑ ุจุงูุฑูุ ู ุชุงุจุน <code>run</code> ุฑุง ุจุง ูพุดููุฏ ูุงู crate ูุฑุงุฎูุงู ฺฉุฑุฏูโุงู. ุงฺฉููู ููู ูุงุจูุชโูุง ุจุงุฏ ูุชุตู ุดููุฏ ู ฺฉุงุฑ ฺฉููุฏ. ุจุฑูุงูู ุฑุง ุจุง <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ฺฉู ููู ฺุฒ ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ูุง! ุงู ฺฉ ฺฉุงุฑ ุณุฎุช ุจูุฏุ ุงูุง ูุง ุฎูุฏูุงู ุฑุง ุจุฑุง ููููุช ุฏุฑ ุขูุฏู ุขูุงุฏู ฺฉุฑุฏู. ุงฺฉููู ูุฏุฑุช ุฎุทุงูุง ุจุณุงุฑ ุขุณุงูโุชุฑ ุดุฏู ุงุณุช ู ฺฉุฏ ูุง ูุงฺููุงุฑุชุฑ ุดุฏู ุงุณุช. ุงุฒ ุงูุฌุง ุจู ุจุนุฏ ุชูุฑุจุงู ุชูุงู ฺฉุงุฑูุง ูุง ุฏุฑ ูุงู <em>src/lib.rs</em> ุงูุฌุงู ุฎูุงูุฏ ุดุฏ.</p>
<p>ุจุงุฏ ุงุฒ ุงู ูุงฺููุงุฑุช ุฌุฏุฏ ุจุฑุง ุงูุฌุงู ฺฉุงุฑ ุงุณุชูุงุฏู ฺฉูู ฺฉู ุจุง ฺฉุฏ ูุจู ุฏุดูุงุฑ ุจูุฏ ุงูุง ุจุง ฺฉุฏ ุฌุฏุฏ ุขุณุงู ุงุณุช: ููุดุชู ฺูุฏ ุชุณุช!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชูุณุนู-ูุงุจูุชูุง-ฺฉุชุงุจุฎุงูู-ุจุง-ุชูุณุนู-ุขุฒููููุญูุฑ-tdd-ุง-ููุงู-test-driven-development"><a class="header" href="#ุชูุณุนู-ูุงุจูุชูุง-ฺฉุชุงุจุฎุงูู-ุจุง-ุชูุณุนู-ุขุฒููููุญูุฑ-tdd-ุง-ููุงู-test-driven-development">ุชูุณุนู ูุงุจูุชโูุง ฺฉุชุงุจุฎุงูู ุจุง ุชูุณุนู ุขุฒูููโูุญูุฑ (TDD) ุง ููุงู (Test-Driven Development)</a></h2>
<p>ุงฺฉููู ฺฉู ููุทู ุฑุง ุจู <em>src/lib.rs</em> ุงุณุชุฎุฑุงุฌ ฺฉุฑุฏูโุงู ู ุฌูุนโุขูุฑ ุขุฑฺฏููุงูโูุง ู ูุฏุฑุช ุฎุทุงูุง ุฑุง ุฏุฑ <em>src/main.rs</em> ุจุงู ฺฏุฐุงุดุชูโุงูุ ููุดุชู ุชุณุช ุจุฑุง ูุงุจูุชโูุง ุงุตู ฺฉุฏ ูุง ุจุณุงุฑ ุขุณุงูโุชุฑ ุดุฏู ุงุณุช. ูโุชูุงูู ูุณุชููุงู ุชูุงุจุน ุฑุง ุจุง ุขุฑฺฏููุงูโูุง ูุฎุชูู ูุฑุงุฎูุงู ฺฉุฑุฏู ู ููุงุฏุฑ ุจุงุฒฺฏุดุช ุฑุง ุจุฑุฑุณ ฺฉููุ ุจุฏูู ุงูฺฉู ูุงุฒ ุจุงุดุฏ ุงุฒ ุจุงูุฑ ูุง ุงุฒ ุฎุท ูุฑูุงู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุฏุฑ ุงู ุจุฎุดุ ููุทู ุฌุณุชุฌู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑุขูุฏ ุชูุณุนู ุขุฒูููโูุญูุฑ (TDD) ุจู ุจุฑูุงูู <code>minigrep</code> ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ. ูุฑุงุญู ุงู ูุฑุขูุฏ ุจู ุดุฑุญ ุฒุฑ ุงุณุช:</p>
<ol dir="rtl">
  <li>ููุดุชู ฺฉ ุชุณุช ฺฉู ุดฺฉุณุช ูโุฎูุฑุฏ ู ุงุฌุฑุง ุขู ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ุจู ุฏูู ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชุฏ ุดฺฉุณุช ูโุฎูุฑุฏ.</li>
  <li>ููุดุชู ุง ุชุบุฑ ฺฉุฏ ุจู ุงูุฏุงุฒูโุง ฺฉู ุชุณุช ุฌุฏุฏ ูพุงุณ ุดูุฏ.</li>
  <li>ุจุงุฒุณุงุฒ ฺฉุฏ ฺฉู ุจู ุชุงุฒฺฏ ุงุถุงูู ุง ุชุบุฑ ุฏุงุฏู ุดุฏู ู ุงุทููุงู ุงุฒ ุงูฺฉู ุชุณุชโูุง ููฺูุงู ูพุงุณ ูโุดููุฏ.</li>
  <li>ุชฺฉุฑุงุฑ ุงุฒ ูุฑุญูู ฑ!</li>
</ol>
<p>TDD ุชููุง ฺฉ ุงุฒ ุฑูุดโูุง ููุดุชู ูุฑูโุงูุฒุงุฑ ุงุณุชุ ุงูุง ูโุชูุงูุฏ ุจู ุทุฑุงุญ ุจูุชุฑ ฺฉุฏ ฺฉูฺฉ ฺฉูุฏ. ููุดุชู ุชุณุช ูุจู ุงุฒ ููุดุชู ฺฉุฏ ฺฉู ุชุณุช ุฑุง ูพุงุณ ูโฺฉูุฏุ ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูพูุดุด ุชุณุช ุจุงูุง ุฏุฑ ุทูู ูุฑุขูุฏ ุญูุธ ุดูุฏ.</p>
<p>ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ TDD ูพุงุฏูโุณุงุฒ ูุงุจูุช ุฌุณุชุฌู ุฑุดุชู ฺฉูุฆุฑ ุฏุฑ ูุญุชูุง ูุงู ู ุชููุฏ ูุณุช ุงุฒ ุฎุทูุท ูุทุงุจู ุจุง ฺฉูุฆุฑ ุฑุง ุชูุณุนู ุฎูุงูู ุฏุงุฏ. ุงู ูุงุจูุช ุฑุง ุฏุฑ ุชุงุจุน ุจู ูุงู <code>search</code> ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ููุดุชู-ฺฉ-ุชุณุช-ฺฉู-ุดฺฉุณุช-ูุฎูุฑุฏ"><a class="header" href="#ููุดุชู-ฺฉ-ุชุณุช-ฺฉู-ุดฺฉุณุช-ูุฎูุฑุฏ">ููุดุชู ฺฉ ุชุณุช ฺฉู ุดฺฉุณุช ูโุฎูุฑุฏ</a></h3>
<p>ุงุฒ ุขูุฌุง ฺฉู ุฏฺฏุฑ ุจู ุขูโูุง ูุงุฒ ูุฏุงุฑูุ ุจุงุฏ ุนุจุงุฑุชโูุง <code>println!</code> ุฑุง ุงุฒ <em>src/lib.rs</em> ู <em>src/main.rs</em> ฺฉู ุจุฑุง ุจุฑุฑุณ ุฑูุชุงุฑ ุจุฑูุงูู ุงุณุชูุงุฏู ูโฺฉุฑุฏู ุญุฐู ฺฉูู. ุณูพุณุ ุฏุฑ <em>src/lib.rs</em>ุ ฺฉ ูุงฺูู <code>tests</code> ุจุง ฺฉ ุชุงุจุน ุชุณุช ุงุถุงูู ุฎูุงูู ฺฉุฑุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ <a href="ch11-01-writing-tests.html#the-anatomy-of-a-test-function">ูุตู ฑฑ</a> ุงูุฌุงู ุฏุงุฏู. ุชุงุจุน ุชุณุชุ ุฑูุชุงุฑ ฺฉู ูโุฎูุงูู ุชุงุจุน <code>search</code> ุฏุงุดุชู ุจุงุดุฏ ุฑุง ูุดุฎุต ูโฺฉูุฏ: ุงู ุชุงุจุน ฺฉ ฺฉูุฆุฑ ู ูุชู ุจุฑุง ุฌุณุชุฌู ุฏุฑุงูุช ูโฺฉูุฏ ู ุชููุง ุฎุทูุท ุงุฒ ูุชู ฺฉู ุดุงูู ฺฉูุฆุฑ ูุณุชูุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุณุช ฑฒ-ฑต ุงู ุชุณุช ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn one_result() {
        let query = "duct";
        let contents = "\
Rust:
safe, fast, productive.
Pick three.";

        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
    }
}</code></pre>
<figcaption>Listing 12-15: ุงุฌุงุฏ ฺฉ ุชุณุช ุดฺฉุณุชโุฎูุฑุฏู ุจุฑุง ุชุงุจุน <code>search</code> ฺฉู ุขุฑุฒู ูโฺฉูู ุฏุงุดุชู ุจุงุดู</figcaption>
</figure>
<p>ุงู ุชุณุช ุจู ุฏูุจุงู ุฑุดุชู <code>"duct"</code> ูโฺฏุฑุฏุฏ. ูุชู ฺฉู ุฏุฑ ุขู ุฌุณุชุฌู ูโฺฉูู ุดุงูู ุณู ุฎุท ุงุณุช ฺฉู ุชููุง ฺฉ ุงุฒ ุขูโูุง ุดุงูู <code>"duct"</code> ุงุณุช (ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจฺฉโุงุณูุด ุจุนุฏ ุงุฒ ุนูุงูุช ููู ููู ุจุงุฒฺฉููุฏู ุจู Rust ูโฺฏูุฏ ฺฉู ฺฉุงุฑุงฺฉุชุฑ newline ุฏุฑ ุงุจุชุฏุง ูุญุชูุงุช ุงู literal ุฑุดุชู ูุฑุงุฑ ูุฏูุฏ). ูุง ุชุฃุฏ ูโฺฉูู ฺฉู ููุฏุงุฑ ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู ุงุฒ ุชุงุจุน <code>search</code> ุชููุง ุดุงูู ุฎุท ุงุณุช ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู.</p>
<p>ูููุฒ ูุงุฏุฑ ุจู ุงุฌุฑุง ุงู ุชุณุช ู ูุดุงูุฏู ุดฺฉุณุช ุขู ูุณุชู ุฒุฑุง ุชุณุช ุญุช ฺฉุงููพุงู ููโุดูุฏ: ุชุงุจุน <code>search</code> ูููุฒ ูุฌูุฏ ูุฏุงุฑุฏ! ุจุฑ ุงุณุงุณ ุงุตูู TDDุ ูุง ุชููุง ุจู ุงูุฏุงุฒูโุง ฺฉุฏ ุงุถุงูู ูโฺฉูู ฺฉู ุชุณุช ฺฉุงููพุงู ู ุงุฌุฑุง ุดูุฏุ ุจุง ุงุถุงูู ฺฉุฑุฏู ฺฉ ุชุนุฑู ุงุฒ ุชุงุจุน <code>search</code> ฺฉู ููุดู ฺฉ ุจุฑุฏุงุฑ ุฎุงู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุณูพุณ ุชุณุช ุจุงุฏ ฺฉุงููพุงู ู ุดฺฉุณุช ุจุฎูุฑุฏ ุฒุฑุง ฺฉ ุจุฑุฏุงุฑ ุฎุงู ุจุง ฺฉ ุจุฑุฏุงุฑ ุดุงูู ุฎุท <code>"safe, fast, productive."</code> ูุทุงุจูุช ูุฏุงุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
    vec![]
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn one_result() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-16: ุชุนุฑู ุญุฏุงูู ฺฉุฏ ุจุฑุง ุชุงุจุน <code>search</code> ุชุง ุชุณุช ูุง ฺฉุงููพุงู ุดูุฏ</figcaption>
</figure>
<p>ูุชูุฌู ูโุดูุฏ ฺฉู ูุง ูุงุฒ ุฏุงุฑู ฺฉ ุทูู ุนูุฑ ุตุฑุญ <code>'a</code> ุฏุฑ ุงูุถุง ุชุงุจุน <code>search</code> ุชุนุฑู ฺฉูู ู ุงุฒ ุขู ุทูู ุนูุฑ ุจุง ุขุฑฺฏููุงู <code>contents</code> ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุณุชูุงุฏู ฺฉูู. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุฑ <a href="ch10-03-lifetime-syntax.html">ูุตู ฑฐ</a> ุชูุถุญ ุฏุงุฏู ฺฉู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ ูุดุฎุต ูโฺฉููุฏ ฺฉุฏุงู ุทูู ุนูุฑ ุขุฑฺฏููุงู ุจู ุทูู ุนูุฑ ููุฏุงุฑ ุจุงุฒฺฏุดุช ูุชุตู ุงุณุช. ุฏุฑ ุงู ููุฑุฏุ ูุง ูุดุฎุต ูโฺฉูู ฺฉู ุจุฑุฏุงุฑ ุจุงุฒฺฏุดุช ุจุงุฏ ุดุงูู ุจุฑุดโูุง ุฑุดุชูโุง ุจุงุดุฏ ฺฉู ุจู ุจุฑุดโูุง ุขุฑฺฏููุงู <code>contents</code> ุงุดุงุฑู ุฏุงุฑูุฏ (ูู ุขุฑฺฏููุงู <code>query</code>).</p>
<p>ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุจู Rust ูโฺฏูู ุฏุงุฏูโุง ฺฉู ุชูุณุท ุชุงุจุน <code>search</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ ุจู ุงูุฏุงุฒู ุฏุงุฏูโุง ฺฉู ุจู ุชุงุจุน <code>search</code> ุฏุฑ ุขุฑฺฏููุงู <code>contents</code> ููุชูู ูโุดูุฏ ุฒูุฏู ุฎูุงูุฏ ุจูุฏ. ุงู ููู ุงุณุช! ุฏุงุฏูโุง ฺฉู ุชูุณุท ฺฉ ุจุฑุด ูุฑุฌุน ุฏุงุฏู ูโุดูุฏ ุจุงุฏ ูุนุชุจุฑ ุจุงุดุฏ ุชุง ูุฑุฌุน ูุฒ ูุนุชุจุฑ ุจุงุดุฏุ ุงฺฏุฑ ฺฉุงููพุงูุฑ ูุฑุถ ฺฉูุฏ ฺฉู ูุง ุฏุฑ ุญุงู ุณุงุฎุชู ุจุฑุดโูุง ุฑุดุชูโุง ุงุฒ <code>query</code> ูุณุชู ุจู ุฌุง <code>contents</code>ุ ุจุฑุฑุณโูุง ุงูู ุฑุง ุจู ุงุดุชุจุงู ุงูุฌุงู ุฎูุงูุฏ ุฏุงุฏ.</p>
<p>ุงฺฏุฑ ุทูู ุนูุฑูุง ุฑุง ูุฑุงููุด ฺฉูู ู ุณุน ฺฉูู ุงู ุชุงุจุน ุฑุง ฺฉุงููพุงู ฺฉููุ ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo build
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
error[E0106]: missing lifetime specifier
  --&gt; src/lib.rs:28:51
   |
28 | pub fn search(query: &amp;str, contents: &amp;str) -&gt; Vec&lt;&amp;str&gt; {
   |                      ----            ----         ^ expected named lifetime parameter
   |
   = help: this function's return type contains a borrowed value, but the signature does not say whether it is borrowed from `query` or `contents`
help: consider introducing a named lifetime parameter
   |
28 | pub fn search&lt;'a&gt;(query: &amp;'a str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
   |              ++++         ++                 ++              ++

For more information about this error, try `rustc --explain E0106`.
error: could not compile `minigrep` (lib) due to 1 previous error
</code></pre>
<p>Rust ุจู ูฺ ูุฌู ููโุชูุงูุฏ ุจุฏุงูุฏ ฺฉุฏุงู ฺฉ ุงุฒ ุฏู ุขุฑฺฏููุงู ููุฑุฏ ูุงุฒ ุงุณุชุ ุจูุงุจุฑุงู ูุง ุจุงุฏ ุจู ุตูุฑุช ุตุฑุญ ุจู ุขู ุจฺฏูู. ุงุฒ ุขูุฌุง ฺฉู <code>contents</code> ุขุฑฺฏููุงู ุงุณุช ฺฉู ุดุงูู ุชูุงู ูุชู ูุง ุงุณุช ู ูุง ูโุฎูุงูู ูุณูุชโูุง ุงุฒ ุขู ูุชู ฺฉู ูุทุงุจูุช ุฏุงุฑูุฏ ุฑุง ุจุงุฒฺฏุฑุฏุงููุ ูโุฏุงูู ฺฉู <code>contents</code> ุขุฑฺฏููุงู ุงุณุช ฺฉู ุจุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู ุทูู ุนูุฑ ุจู ููุฏุงุฑ ุจุงุฒฺฏุดุช ูุชุตู ุดูุฏ.</p>
<p>ุฏฺฏุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ูุงุฒ ูุฏุงุฑูุฏ ุขุฑฺฏููุงูโูุง ุฑุง ุจู ููุงุฏุฑ ุจุงุฒฺฏุดุช ุฏุฑ ุงูุถุง ูุชุตู ฺฉูุฏุ ุงูุง ุงู ุชูุฑู ุจุง ฺฏุฐุดุช ุฒูุงู ุขุณุงูโุชุฑ ูโุดูุฏ. ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุงู ูุซุงู ุฑุง ุจุง ูุซุงูโูุง ููุฌูุฏ ุฏุฑ ุจุฎุด <a href="ch10-03-lifetime-syntax.html#validating-references-with-lifetimes">โุงุนุชุจุงุฑุณูุฌ ูุฑุงุฌุน ุจุง ุทูู ุนูุฑโ</a> ุงุฒ ูุตู ฑฐ ููุงุณู ฺฉูุฏ.</p>
<p>ุงฺฉููู ุจุงุฏ ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูู:</p>
<pre><code class="language-console">$ cargo test
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.97s
     Running unittests src/lib.rs (target/debug/deps/minigrep-9cd200e5fac0fc94)

running 1 test
test tests::one_result ... FAILED

failures:

---- tests::one_result stdout ----
thread 'tests::one_result' panicked at src/lib.rs:44:9:
assertion `left == right` failed
  left: ["safe, fast, productive."]
 right: []
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::one_result

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุนุงู ุงุณุชุ ุชุณุช ุฏููุง ููุงูุทูุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชู ุดฺฉุณุช ูโุฎูุฑุฏ. ุจุงุฏ ุชุณุช ุฑุง ูพุงุณ ฺฉูู!</p>
<h3 id="ููุดุชู-ฺฉุฏ-ุจุฑุง-ูพุงุณ-ฺฉุฑุฏู-ุชุณุช"><a class="header" href="#ููุดุชู-ฺฉุฏ-ุจุฑุง-ูพุงุณ-ฺฉุฑุฏู-ุชุณุช">ููุดุชู ฺฉุฏ ุจุฑุง ูพุงุณ ฺฉุฑุฏู ุชุณุช</a></h3>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุชุณุช ูุง ุจู ุฏูู ุงูฺฉู ููุดู ฺฉ ุจุฑุฏุงุฑ ุฎุงู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุดฺฉุณุช ูโุฎูุฑุฏ. ุจุฑุง ุฑูุน ุงู ูุดฺฉู ู ูพุงุฏูโุณุงุฒ <code>search</code>ุ ุจุฑูุงูู ูุง ุจุงุฏ ุงู ูุฑุงุญู ุฑุง ุฏูุจุงู ฺฉูุฏ:</p>
<ol dir="rtl">
  <li>ุชฺฉุฑุงุฑ ุงุฒ ุทุฑู ูุฑ ุฎุท ุงุฒ ูุญุชูุง ูุงู.</li>
  <li>ุจุฑุฑุณ ุงูฺฉู ุขุง ุฎุท ุดุงูู ุฑุดุชู ฺฉูุฆุฑ ูุง ูุณุช ุง ูู.</li>
  <li>ุงฺฏุฑ ุฎุท ุดุงูู ฺฉูุฆุฑ ุจูุฏุ ุขู ุฑุง ุจู ูุณุช ููุงุฏุฑ ุจุงุฒฺฏุดุช ุงุถุงูู ฺฉูู.</li>
  <li>ุงฺฏุฑ ูุจูุฏุ ฺฉุงุฑ ุงูุฌุงู ูุฏูู.</li>
  <li>ูุณุช ูุชุงุฌ ฺฉู ูุทุงุจูุช ุฏุงุฑูุฏ ุฑุง ุจุงุฒฺฏุฑุฏุงูู.</li>
</ol>
<p>ุจุงุฏ ูุฑ ูุฑุญูู ุฑุง ฺฉโฺฉ ุงุฌุฑุง ฺฉููุ ุจุง ุชฺฉุฑุงุฑ ุงุฒ ุทุฑู ุฎุทูุท ุดุฑูุน ูโฺฉูู.</p>
<h4 id="ุชฺฉุฑุงุฑ-ุงุฒ-ุทุฑู-ุฎุทูุท-ุจุง-ูุชุฏ-lines"><a class="header" href="#ุชฺฉุฑุงุฑ-ุงุฒ-ุทุฑู-ุฎุทูุท-ุจุง-ูุชุฏ-lines">ุชฺฉุฑุงุฑ ุงุฒ ุทุฑู ุฎุทูุท ุจุง ูุชุฏ <code>lines</code></a></h4>
<p>Rust ฺฉ ูุชุฏ ููุฏ ุจุฑุง ูุฏุฑุช ุชฺฉุฑุงุฑ ุฎุท ุจู ุฎุท ุฏุฑ ุฑุดุชูโูุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุจู ุทูุฑ ููุงุณุจ <code>lines</code> ูุงูุฏู ุดุฏู ุงุณุช ู ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑท ูุดุงู ุฏุงุฏู ุดุฏู ฺฉุงุฑ ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
    for line in contents.lines() {
        // do something with line
    }
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn one_result() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-17: ุชฺฉุฑุงุฑ ุงุฒ ุทุฑู ูุฑ ุฎุท ุฏุฑ <code>contents</code></figcaption>
</figure>
<p>ูุชุฏ <code>lines</code> ฺฉ iterator ุจุฑูโฺฏุฑุฏุงูุฏ. ูุง ุฏุฑ <a href="ch13-02-iterators.html">ูุตู ฑณ</a> ุนููุงู ุฏุฑ ููุฑุฏ iteratorูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏุ ุงูุง ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุจูุงู ุงู ุฑูุด ุงุณุชูุงุฏู ุงุฒ ฺฉ iterator ุฑุง ุฏุฑ <a href="ch03-05-control-flow.html#looping-through-a-collection-with-for">ูุณุช ณ-ต</a> ุฏุฏุฏุ ุฌุง ฺฉู ุงุฒ ฺฉ ุญููู <code>for</code> ุจุง ฺฉ iterator ุจุฑุง ุงุฌุฑุง ฺฉุฏ ุฑู ูุฑ ุขุชู ุฏุฑ ฺฉ ูุฌููุนู ุงุณุชูุงุฏู ฺฉุฑุฏู.</p>
<h4 id="ุฌุณุชุฌู-ุฏุฑ-ูุฑ-ุฎุท-ุจุฑุง-ฺฉูุฆุฑ"><a class="header" href="#ุฌุณุชุฌู-ุฏุฑ-ูุฑ-ุฎุท-ุจุฑุง-ฺฉูุฆุฑ">ุฌุณุชุฌู ุฏุฑ ูุฑ ุฎุท ุจุฑุง ฺฉูุฆุฑ</a></h4>
<p>ุงฺฉูููุ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุขุง ุฎุท ูุนู ุดุงูู ุฑุดุชู ฺฉูุฆุฑ ูุง ูุณุช ุง ูู. ุฎูุดุจุฎุชุงููุ ุฑุดุชูโูุง ฺฉ ูุชุฏ ููุฏ ุจู ูุงู <code>contains</code> ุฏุงุฑูุฏ ฺฉู ุงู ฺฉุงุฑ ุฑุง ุจุฑุง ูุง ุงูุฌุงู ูโุฏูุฏ! ฺฉ ูุฑุงุฎูุงู ุจู ูุชุฏ <code>contains</code> ุฑุง ุฏุฑ ุชุงุจุน <code>search</code> ุงุถุงูู ฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑธ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ููฺูุงู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
    for line in contents.lines() {
        if line.contains(query) {
            // do something with line
        }
    }
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn one_result() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-18: ุงุถุงูู ฺฉุฑุฏู ูุงุจูุช ุจุฑุฑุณ ุงูฺฉู ุขุง ุฎุท ุดุงูู ุฑุดุชู ููุฌูุฏ ุฏุฑ <code>query</code> ูุณุช ุง ูู</figcaption>
</figure>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง ุฏุฑ ุญุงู ุงุฌุงุฏ ูุงุจูุชโูุง ุจุดุชุฑ ูุณุชู. ุจุฑุง ุงูฺฉู ฺฉุฏ ฺฉุงููพุงู ุดูุฏุ ูุงุฒ ุฏุงุฑู ููุฏุงุฑ ุฑุง ุงุฒ ุจุฏูู ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูู ููุงูุทูุฑ ฺฉู ุฏุฑ ุงูุถุง ุชุงุจุน ุงุดุงุฑู ฺฉุฑุฏู.</p>
<h4 id="ุฐุฎุฑู-ุฎุทูุท-ูุทุงุจู"><a class="header" href="#ุฐุฎุฑู-ุฎุทูุท-ูุทุงุจู">ุฐุฎุฑู ุฎุทูุท ูุทุงุจู</a></h4>
<p>ุจุฑุง ุชฺฉูู ุงู ุชุงุจุนุ ูุงุฒ ุฏุงุฑู ุฑูุด ุจุฑุง ุฐุฎุฑู ุฎุทูุท ูุทุงุจู ฺฉู ูโุฎูุงูู ุจุงุฒฺฏุฑุฏุงูู ุฏุงุดุชู ุจุงุดู. ุจุฑุง ุงู ฺฉุงุฑุ ูโุชูุงูู ฺฉ ุจุฑุฏุงุฑ mutable ูุจู ุงุฒ ุญููู <code>for</code> ุงุฌุงุฏ ฺฉูู ู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>push</code> ฺฉ ุฎุท ุฑุง ุฏุฑ ุจุฑุฏุงุฑ ุฐุฎุฑู ฺฉูู. ุจุนุฏ ุงุฒ ุญููู <code>for</code>ุ ุจุฑุฏุงุฑ ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑฒ-ฑน ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
    let mut results = Vec::new();

    for line in contents.lines() {
        if line.contains(query) {
            results.push(line);
        }
    }

    results
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn one_result() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-19: ุฐุฎุฑู ุฎุทูุท ูุทุงุจู ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุขูโูุง</figcaption>
</figure>
<p>ุงฺฉููู ุชุงุจุน <code>search</code> ุจุงุฏ ููุท ุฎุทูุท ุฑุง ฺฉู ุดุงูู <code>query</code> ูุณุชูุฏ ุจุงุฒฺฏุฑุฏุงูุฏุ ู ุชุณุช ูุง ุจุงุฏ ูพุงุณ ุดูุฏ. ุจุงุฏ ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูู:</p>
<pre><code class="language-console">$ cargo test
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1.22s
     Running unittests src/lib.rs (target/debug/deps/minigrep-9cd200e5fac0fc94)

running 1 test
test tests::one_result ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/minigrep-9cd200e5fac0fc94)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests minigrep

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุชุณุช ูุง ูพุงุณ ุดุฏุ ุจูุงุจุฑุงู ูโุฏุงูู ฺฉู ฺฉุงุฑ ูโฺฉูุฏ!</p>
<p>ุฏุฑ ุงู ูุฑุญููุ ูโุชูุงูู ูุฑุตุชโูุง ุจุฑุง ุจุงุฒุณุงุฒ ูพุงุฏูโุณุงุฒ ุชุงุจุน ุฌุณุชุฌู ุฏุฑ ูุธุฑ ุจฺฏุฑู ู ุฏุฑ ุนู ุญุงู ุชุณุชโูุง ุฑุง ูพุงุณ ูฺฏู ุฏุงุฑู ุชุง ููุงู ูุงุจูุช ุฑุง ุญูุธ ฺฉูู. ฺฉุฏ ุฏุฑ ุชุงุจุน ุฌุณุชุฌู ฺูุฏุงู ุจุฏ ูุณุชุ ุงูุง ุงุฒ ุจุฑุฎ ูฺฺฏโูุง ููุฏ iteratorูุง ุงุณุชูุงุฏู ููโฺฉูุฏ. ูุง ุฏุฑ <a href="ch13-02-iterators.html">ูุตู ฑณ</a> ุจู ุงู ูุซุงู ุจุงุฒุฎูุงูู ฺฏุดุชุ ุฌุง ฺฉู iteratorูุง ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ูโฺฉูู ู ุจู ูุญูู ุจูุจูุฏ ุขู ูโูพุฑุฏุงุฒู.</p>
<h4 id="ุงุณุชูุงุฏู-ุงุฒ-ุชุงุจุน-search-ุฏุฑ-ุชุงุจุน-run"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ุชุงุจุน-search-ุฏุฑ-ุชุงุจุน-run">ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>search</code> ุฏุฑ ุชุงุจุน <code>run</code></a></h4>
<p>ุงฺฉููู ฺฉู ุชุงุจุน <code>search</code> ฺฉุงุฑ ูโฺฉูุฏ ู ุชุณุช ุดุฏู ุงุณุชุ ุจุงุฏ ุชุงุจุน <code>search</code> ุฑุง ุงุฒ ุชุงุจุน <code>run</code> ูุฑุงุฎูุงู ฺฉูู. ูุง ุจุงุฏ ููุฏุงุฑ <code>config.query</code> ู <code>contents</code> ฺฉู <code>run</code> ุงุฒ ูุงู ูโุฎูุงูุฏ ุฑุง ุจู ุชุงุจุน <code>search</code> ุจุฏูู. ุณูพุณ <code>run</code> ูุฑ ุฎุท ฺฉู ุงุฒ <code>search</code> ุจุฑฺฏุฑุฏุงูุฏู ุดุฏู ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust ignore"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let contents = fs::read_to_string(config.file_path)?;

    for line in search(&amp;config.query, &amp;contents) {
        println!("{line}");
    }

    Ok(())
}
<span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn one_result() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>ูุง ูููุฒ ุงุฒ ฺฉ ุญููู <code>for</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ูุฑ ุฎุท ุงุฒ <code>search</code> ู ฺุงูพ ุขู ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ุงฺฉููู ฺฉู ุจุฑูุงูู ุจุงุฏ ฺฉุงุฑ ฺฉูุฏ! ุจุงุฏ ุขู ุฑุง ุงูุชุญุงู ฺฉููุ ุงุจุชุฏุง ุจุง ฺฉูููโุง ฺฉู ุจุงุฏ ุฏููุงู ฺฉ ุฎุท ุงุฒ ุดุนุฑ ุงูู ุฏฺฉูุณูู ุฑุง ุจุฑฺฏุฑุฏุงูุฏ: <em>frog</em>.</p>
<pre><code class="language-console">$ cargo run -- frog poem.txt
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.38s
     Running `target/debug/minigrep frog poem.txt`
How public, like a frog
</code></pre>
<p>ุนุงู! ุญุงูุง ุจุงุฏ ฺฉูููโุง ุฑุง ุงูุชุญุงู ฺฉูู ฺฉู ฺูุฏู ุฎุท ุฑุง ูุทุงุจูุช ุฏูุฏุ ูุซู <em>body</em>:</p>
<pre><code class="language-console">$ cargo run -- body poem.txt
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.0s
     Running `target/debug/minigrep body poem.txt`
I'm nobody! Who are you?
Are you nobody, too?
How dreary to be somebody!
</code></pre>
<p>ู ุฏุฑ ููุงุชุ ูุทูุฆู ุดูู ฺฉู ููุช ฺฉูููโุง ุฑุง ุฌุณุชุฌู ูโฺฉูู ฺฉู ุฏุฑ ูฺ ุฌุง ุดุนุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ูุซู <em>monomorphization</em>ุ ูฺ ุฎุท ุฏุฑุงูุช ูุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run -- monomorphization poem.txt
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.0s
     Running `target/debug/minigrep monomorphization poem.txt`
</code></pre>
<p>ุนุงู! ูุง ูุณุฎู ฺฉูฺฺฉ ุงุฒ ฺฉ ุงุจุฒุงุฑ ฺฉูุงุณฺฉ ุณุงุฎุชู ู ฺุฒูุง ุฒุงุฏ ุฏุฑุจุงุฑู ูุญูู ุณุงุฎุชุงุฑุฏู ุจุฑูุงููโูุง ุขููุฎุชู. ููฺูู ฺฉู ุฏุฑุจุงุฑู ูุฑูุฏ ู ุฎุฑูุฌ ูุงูุ ุทูู ุนูุฑโูุงุ ุชุณุช ฺฉุฑุฏู ู ุชุฌุฒู ุฏุณุชูุฑุงุช ุฎุท ูุฑูุงู ุงุฏ ฺฏุฑูุชู.</p>
<p>ุจุฑุง ุชฺฉูู ุงู ูพุฑูฺูุ ุจู ุทูุฑ ูุฎุชุตุฑ ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฉู ฺฺฏููู ุจุง ูุชุบุฑูุง ูุญุท ฺฉุงุฑ ฺฉูู ู ฺฺฏููู ุจู ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ (standard error) ฺุงูพ ฺฉููุ ฺฉู ูุฑ ุฏู ุฏุฑ ููฺฏุงู ููุดุชู ุจุฑูุงููโูุง ุฎุท ูุฑูุงู ููุฏ ูุณุชูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฉุงุฑ-ุจุง-ูุชุบุฑูุง-ูุญุท"><a class="header" href="#ฺฉุงุฑ-ุจุง-ูุชุบุฑูุง-ูุญุท">ฺฉุงุฑ ุจุง ูุชุบุฑูุง ูุญุท</a></h2>
<p>ูุง ูุตุฏ ุฏุงุฑู ุจุฑูุงูู <code>minigrep</code> ุฑุง ุจุง ุงูุฒูุฏู ฺฉ ูฺฺฏ ุฌุฏุฏ ุจูุจูุฏ ุฏูู: ฺฏุฒููโุง ุจุฑุง ุฌุณุชุฌู
ุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ฺฉู ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุขู ุฑุง ุงุฒ ุทุฑู ฺฉ ูุชุบุฑ ูุญุท ูุนุงู ฺฉูุฏ. ูุง ูโุชูุงูู
ุงู ูฺฺฏ ุฑุง ุจู ุนููุงู ฺฉ ฺฏุฒูู ุฎุท ูุฑูุงู ูุฑุงุฑ ุฏูู ู ฺฉุงุฑุจุฑุงู ุฑุง ููุฒู ฺฉูู ฺฉู ูุฑ ุจุงุฑ ฺฉู ูโุฎูุงููุฏ
ุงู ูฺฺฏ ุงุนูุงู ุดูุฏ ุขู ุฑุง ูุงุฑุฏ ฺฉููุฏุ ุงูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุชุบุฑ ูุญุท ุจู ุฌุง ุขูุ ุจู ฺฉุงุฑุจุฑุงู
ุงุฌุงุฒู ูโุฏูู ฺฉู ููุท ฺฉ ุจุงุฑ ูุชุบุฑ ูุญุท ุฑุง ุชูุธู ฺฉููุฏ ู ููู ุฌุณุชุฌููุงุดุงู ุฏุฑ ููุงู ูุดุณุช ุชุฑููุงู
ุจู ุตูุฑุช ุบุฑุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุจุงุดุฏ.</p>
<h3 id="ููุดุชู-ฺฉ-ุชุณุช-ุดฺฉุณุชุฎูุฑุฏู-ุจุฑุง-ุชุงุจุน-search_case_insensitive"><a class="header" href="#ููุดุชู-ฺฉ-ุชุณุช-ุดฺฉุณุชุฎูุฑุฏู-ุจุฑุง-ุชุงุจุน-search_case_insensitive">ููุดุชู ฺฉ ุชุณุช ุดฺฉุณุชโุฎูุฑุฏู ุจุฑุง ุชุงุจุน <code>search_case_insensitive</code></a></h3>
<p>ุงุจุชุฏุง ฺฉ ุชุงุจุน ุฌุฏุฏ ุจู ูุงู <code>search_case_insensitive</code> ุงุถุงูู ูโฺฉูู ฺฉู ุฒูุงู ฺฉู ูุชุบุฑ ูุญุท ุฏุงุฑุง
ููุฏุงุฑ ุจุงุดุฏุ ูุฑุงุฎูุงู ุฎูุงูุฏ ุดุฏ. ูุง ููฺูุงู ุงุฒ ูุฑุขูุฏ TDD ูพุฑู ูโฺฉููุ ุจูุงุจุฑุงู ุงููู ฺฏุงูุ
ููุดุชู ฺฉ ุชุณุช ุดฺฉุณุชโุฎูุฑุฏู ุงุณุช. ฺฉ ุชุณุช ุฌุฏุฏ ุจุฑุง ุชุงุจุน <code>search_case_insensitive</code> ุงุถุงูู ูโฺฉูู ู
ุชุณุช ูุฏู ุฎูุฏ ุฑุง ุงุฒ <code>one_result</code> ุจู <code>case_sensitive</code> ุชุบุฑ ูุงู ูโุฏูู ุชุง ุชูุงูุช ุจู ุงู ุฏู
ุชุณุช ูุดุฎุต ุดูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 12-20 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    for line in search(&amp;config.query, &amp;contents) {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn case_sensitive() {
        let query = "duct";
        let contents = "\
Rust:
safe, fast, productive.
Pick three.
Duct tape.";

        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
    }

    #[test]
    fn case_insensitive() {
        let query = "rUsT";
        let contents = "\
Rust:
safe, fast, productive.
Pick three.
Trust me.";

        assert_eq!(
            vec!["Rust:", "Trust me."],
            search_case_insensitive(query, contents)
        );
    }
}</code></pre>
<figcaption>Listing 12-20: ุงูุฒูุฏู ฺฉ ุชุณุช ุดฺฉุณุชโุฎูุฑุฏู ุฌุฏุฏ ุจุฑุง ุชุงุจุน ุบุฑุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ฺฉู ูุตุฏ ุฏุงุฑู ุงุถุงูู ฺฉูู</figcaption>
</figure>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ูุง ูุชู ุชุณุช ูุฏู ุฑุง ูุฒ ูุฑุงุด ฺฉุฑุฏูโุงู. ูุง ฺฉ ุฎุท ุฌุฏุฏ ุจุง ูุชู <code>"Duct tape."</code> ุจุง
ุญุฑู ุจุฒุฑฺฏ <em>D</em> ุงุถุงูู ฺฉุฑุฏูโุงู ฺฉู ูุจุงุฏ ุจุง ุนุจุงุฑุช ุฌุณุชุฌู <code>"duct"</code> ุฏุฑ ุญุงูุช ุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู
ุจุฒุฑฺฏ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ. ุชุบุฑ ุฏุงุฏู ุชุณุช ูุฏู ุจู ุงู ุตูุฑุช ฺฉูฺฉ ูโฺฉูุฏ ฺฉู ูุทูุฆู ุดูู ุนููฺฉุฑุฏ
ุฌุณุชุฌู ุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ฺฉู ูุจูุงู ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงู ุจู ุทูุฑ ุชุตุงุฏู ุดฺฉุณุชู ููโุดูุฏ.
ุงู ุชุณุช ุจุงุฏ ุงฺฉููู ุนุจูุฑ ฺฉูุฏ ู ููฺูุงู ุจุงุฏ ุนุจูุฑ ฺฉูุฏ ุฏุฑ ุญุงู ฺฉู ูุง ุฑู ุฌุณุชุฌู ุบุฑุญุณุงุณ ุจู ุญุฑูู
ฺฉุงุฑ ูโฺฉูู.</p>
<p>ุชุณุช ุฌุฏุฏ ุจุฑุง ุฌุณุชุฌู ุบุฑุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุงุฒ <code>"rUsT"</code> ุจู ุนููุงู ุนุจุงุฑุช ุฌุณุชุฌู ุงุณุชูุงุฏู
ูโฺฉูุฏ. ุฏุฑ ุชุงุจุน <code>search_case_insensitive</code> ฺฉู ูุตุฏ ุฏุงุฑู ุงุถุงูู ฺฉููุ ุนุจุงุฑุช ุฌุณุชุฌู <code>"rUsT"</code>
ุจุงุฏ ุจุง ุฎุท ุญุงู <code>"Rust:"</code> ุจุง ุญุฑู ุจุฒุฑฺฏ <em>R</em> ู ุฎุท <code>"Trust me."</code> ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ุญุช ุงฺฏุฑ ูุฑ
ุฏู ุญุงูุช ูุชูุงูุช ูุณุจุช ุจู ุนุจุงุฑุช ุฌุณุชุฌู ุฏุงุดุชู ุจุงุดูุฏ. ุงู ุชุณุช ุดฺฉุณุชโุฎูุฑุฏู ูุง ุงุณุช ู ุจู ุฏูู ุงูฺฉู
ูููุฒ ุชุงุจุน <code>search_case_insensitive</code> ุชุนุฑู ูุดุฏู ุงุณุชุ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ูโุชูุงูุฏ ฺฉ
ูพุงุฏูโุณุงุฒ ูููุช ฺฉู ููุดู ฺฉ ูฺฉุชูุฑ ุฎุงู ุจุฑูโฺฏุฑุฏุงูุฏ ุงุถุงูู ฺฉูุฏุ ูุดุงุจู ฺฉุงุฑ ฺฉู ุจุฑุง ุชุงุจุน
<code>search</code> ุฏุฑ ูุณุชูฺฏ 12-16 ุงูุฌุงู ุฏุงุฏู ุชุง ุชุณุช ฺฉุงููพุงู ุดุฏู ู ุดฺฉุณุช ุจุฎูุฑุฏ.</p>
<h3 id="ูพุงุฏูุณุงุฒ-ุชุงุจุน-search_case_insensitive"><a class="header" href="#ูพุงุฏูุณุงุฒ-ุชุงุจุน-search_case_insensitive">ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>search_case_insensitive</code></a></h3>
<p>ุชุงุจุน <code>search_case_insensitive</code> ฺฉู ุฏุฑ ูุณุชูฺฏ 12-21 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุชูุฑุจุงู ูุดุงุจู ุชุงุจุน
<code>search</code> ุฎูุงูุฏ ุจูุฏ. ุชููุง ุชูุงูุช ุงู ุงุณุช ฺฉู ูุง ุนุจุงุฑุช ุฌุณุชุฌู ู ูุฑ ุฎุท ุฑุง ฺฉูฺฺฉโุญุฑู ูโฺฉูู ุชุง
ุตุฑูโูุธุฑ ุงุฒ ููุฑุฏ ูุฑูุฏโูุงุ ููฺฏุงู ุจุฑุฑุณ ุงูฺฉู ุขุง ุฎุท ุดุงูู ุนุจุงุฑุช ุฌุณุชุฌู ุงุณุชุ ูุฑ ุฏู ุจู ฺฉ ููุฑุฏ
ุชุจุฏู ุดููุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    for line in search(&amp;config.query, &amp;contents) {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search_case_insensitive&lt;'a&gt;(
    query: &amp;str,
    contents: &amp;'a str,
) -&gt; Vec&lt;&amp;'a str&gt; {
    let query = query.to_lowercase();
    let mut results = Vec::new();

    for line in contents.lines() {
        if line.to_lowercase().contains(&amp;query) {
            results.push(line);
        }
    }

    results
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-21: ุชุนุฑู ุชุงุจุน <code>search_case_insensitive</code> ุจุฑุง ฺฉูฺฺฉโุญุฑู ฺฉุฑุฏู ุนุจุงุฑุช ุฌุณุชุฌู ู ุฎุท ูุจู ุงุฒ ููุงุณู ุขููุง</figcaption>
</figure>
<p>ุงุจุชุฏุง ุนุจุงุฑุช ุฌุณุชุฌู <code>query</code> ุฑุง ฺฉูฺฺฉโุญุฑู ูโฺฉูู ู ุขู ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจุง ููุงู ูุงู ุฐุฎุฑู ูโฺฉููุ
ุฌุงฺฏุฒู ูุชุบุฑ ุงุตู ูโุดูุฏ. ูุฑุงุฎูุงู <code>to_lowercase</code> ุจุฑ ุฑู ุนุจุงุฑุช ุฌุณุชุฌู ุถุฑูุฑ ุงุณุช ุชุง ุตุฑูโูุธุฑ ุงุฒ
ุงูฺฉู ุนุจุงุฑุช ุฌุณุชุฌู <code>"rust"</code>ุ <code>"RUST"</code>ุ <code>"Rust"</code> ุง <code>"rUsT"</code> ุจุงุดุฏุ ุจู ฺฏูููโุง ุนูู ฺฉูู ฺฉู ุงูฺฏุงุฑ
ุนุจุงุฑุช ุฌุณุชุฌู <code>"rust"</code> ุงุณุช ู ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุญุณุงุณ ูุจุงุดุฏ. ุฏุฑ ุญุงู ฺฉู <code>to_lowercase</code> ููฺฉุฏ
ูพุงูโุง ุฑุง ูุฏุฑุช ูโฺฉูุฏุ ุงูุง 100ูช ุฏูู ูุฎูุงูุฏ ุจูุฏ. ุงฺฏุฑ ูุง ฺฉ ุจุฑูุงูู ูุงูุน ูโููุดุชูุ
ูโุฎูุงุณุชู ุฏุฑ ุงูุฌุง ฺฉู ุจุดุชุฑ ฺฉุงุฑ ฺฉููุ ุงูุง ุงู ุจุฎุด ุฏุฑุจุงุฑู ูุชุบุฑูุง ูุญุท ุงุณุชุ ูู ููฺฉุฏุ
ุจูุงุจุฑุงู ุฏุฑ ุงูุฌุง ุจู ููู ูุฒุงู ุจุณูุฏู ูโฺฉูู.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุงฺฉููู <code>query</code> ฺฉ ุฑุดุชู (<code>String</code>) ุจู ุฌุง ุจุฑุด ุฑุดุชู (<code>string slice</code>) ุงุณุชุ ุฒุฑุง
ูุฑุงุฎูุงู <code>to_lowercase</code> ุฏุงุฏูโูุง ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ ุจู ุฌุง ุงูฺฉู ุจู ุฏุงุฏูโูุง ููุฌูุฏ ุงุดุงุฑู ฺฉูุฏ.
ุจู ุนููุงู ูุซุงูุ ุจฺฏูุฏ ุนุจุงุฑุช ุฌุณุชุฌู <code>"rUsT"</code> ุงุณุช: ุขู ุฑุดุชู ุดุงูู ฺฉ <code>u</code> ุง <code>t</code> ฺฉูฺฺฉ ูุณุช ฺฉู ุจุชูุงูู
ุงุณุชูุงุฏู ฺฉููุ ุจูุงุจุฑุงู ุจุงุฏ ฺฉ <code>String</code> ุฌุฏุฏ ุดุงูู <code>"rust"</code> ุชุฎุตุต ุฏูู. ููุช ุงฺฉููู <code>query</code> ุฑุง
ุจู ุนููุงู ฺฉ ุขุฑฺฏููุงู ุจู ูุชุฏ <code>contains</code> ููุชูู ูโฺฉููุ ูุงุฒ ุฏุงุฑู ฺฉู ฺฉ ุนูุงูุช <code>&amp;</code> ุงุถุงูู ฺฉูู
ฺูู ุงูุถุง <code>contains</code> ุจู ฺฏูููโุง ุชุนุฑู ุดุฏู ุงุณุช ฺฉู ฺฉ ุจุฑุด ุฑุดุชู ุฏุฑุงูุช ูโฺฉูุฏ.</p>
<p>ุจุนุฏุงู ฺฉ ูุฑุงุฎูุงู ุจู <code>to_lowercase</code> ุจุฑ ุฑู ูุฑ <code>line</code> ุงุถุงูู ูโฺฉูู ุชุง ููู ฺฉุงุฑุงฺฉุชุฑูุง ฺฉูฺฺฉโุญุฑู
ุดููุฏ. ุงฺฉููู ฺฉู <code>line</code> ู <code>query</code> ุฑุง ุจู ฺฉูฺฺฉโุญุฑู ุชุจุฏู ฺฉุฑุฏูโุงูุ ูุทูุฆู ูโุดูู ฺฉู ูุทุงุจูุชโูุง
ุตุฑูโูุธุฑ ุงุฒ ููุฑุฏ ุนุจุงุฑุช ุฌุณุชุฌู ูพุฏุง ุดููุฏ.</p>
<p>ุจุงุฏ ุจุจูู ุขุง ุงู ูพุงุฏูโุณุงุฒ ุชุณุชโูุง ุฑุง ูพุงุณ ูโฺฉูุฏ ุง ุฎุฑ:</p>
<pre><code class="language-console">$ cargo test
   Compiling minigrep v0.1.0 (file:///projects/minigrep)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1.33s
     Running unittests src/lib.rs (target/debug/deps/minigrep-9cd200e5fac0fc94)

running 2 tests
test tests::case_insensitive ... ok
test tests::case_sensitive ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/minigrep-9cd200e5fac0fc94)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests minigrep

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

</code></pre>
<p>ุนุงู! ุชุณุชโูุง ูพุงุณ ุดุฏูุฏ. ุญุงูุง ุจุงุฏ ุชุงุจุน ุฌุฏุฏ <code>search_case_insensitive</code> ุฑุง ุงุฒ ุชุงุจุน <code>run</code>
ูุฑุงุฎูุงู ฺฉูู. ุงุจุชุฏุง ฺฉ ฺฏุฒูู ูพฺฉุฑุจูุฏ ุจู ุณุงุฎุชุงุฑ <code>Config</code> ุงุถุงูู ูโฺฉูู ุชุง ุจู ุฌุณุชุฌู ุญุณุงุณ
ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ู ุบุฑุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุณูุฆฺ ฺฉูู. ุงูุฒูุฏู ุงู ููุฏ ุจุงุนุซ ุงุฌุงุฏ
ุฎุทุงูุง ฺฉุงููพุงู ูโุดูุฏ ุฒุฑุง ูููุฒ ุงู ููุฏ ุฑุง ุฏุฑ ูฺ ุฌุง ููุฏุงุฑุฏู ูฺฉุฑุฏูโุงู:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span>pub struct Config {
    pub query: String,
    pub file_path: String,
    pub ignore_case: bool,
}
<span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    let results = if config.ignore_case {
</span><span class="boring">        search_case_insensitive(&amp;config.query, &amp;contents)
</span><span class="boring">    } else {
</span><span class="boring">        search(&amp;config.query, &amp;contents)
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    for line in results {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<p>We added the <code>ignore_case</code> field that holds a Boolean. Next, we need the <code>run</code>
function to check the <code>ignore_case</code> fieldโs value and use that to decide
whether to call the <code>search</code> function or the <code>search_case_insensitive</code>
function, as shown in Listing 12-22. This still wonโt compile yet.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">    pub ignore_case: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let contents = fs::read_to_string(config.file_path)?;

    let results = if config.ignore_case {
        search_case_insensitive(&amp;config.query, &amp;contents)
    } else {
        search(&amp;config.query, &amp;contents)
    };

    for line in results {
        println!("{line}");
    }

    Ok(())
}
<span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-22: Calling either <code>search</code> or <code>search_case_insensitive</code> based on the value in <code>config.ignore_case</code></figcaption>
</figure>
<p>ุชูุงุจุน ูุฑุจูุท ุจู ฺฉุงุฑ ุจุง ูุชุบุฑูุง ูุญุท ุฏุฑ ูุงฺูู <code>env</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุฑุงุฑ ุฏุงุฑูุฏ. ุจูุงุจุฑุงู ุฏุฑ
ุจุงูุง ูุงู <em>src/lib.rs</em> ุงู ูุงฺูู ุฑุง ูุงุฑุฏ ูุญุฏูุฏู (scope) ูโฺฉูู. ุณูพุณ ุงุฒ ุชุงุจุน <code>var</code> ุงุฒ ูุงฺูู
<code>env</code> ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ุชุง ุจุฑุฑุณ ฺฉูู ุขุง ููุฏุงุฑ ุฎุงุต ุจุฑุง ฺฉ ูุชุบุฑ ูุญุท ุจู ูุงู
<code>IGNORE_CASE</code> ุชูุธู ุดุฏู ุงุณุช ุง ุฎุฑุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 12-23 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::env;
// --snip--

<span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">    pub ignore_case: bool,
</span><span class="boring">}
</span><span class="boring">
</span>impl Config {
    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
        if args.len() &lt; 3 {
            return Err("not enough arguments");
        }

        let query = args[1].clone();
        let file_path = args[2].clone();

        let ignore_case = env::var("IGNORE_CASE").is_ok();

        Ok(Config {
            query,
            file_path,
            ignore_case,
        })
    }
}
<span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    let results = if config.ignore_case {
</span><span class="boring">        search_case_insensitive(&amp;config.query, &amp;contents)
</span><span class="boring">    } else {
</span><span class="boring">        search(&amp;config.query, &amp;contents)
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    for line in results {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 12-23: ุจุฑุฑุณ ููุฏุงุฑ ูุชุบุฑ ูุญุท ุจุง ูุงู <code>IGNORE_CASE</code></figcaption>
</figure>
<p>ุงูุฌุง ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจู ูุงู <code>ignore_case</code> ุงุฌุงุฏ ูโฺฉูู. ุจุฑุง ููุฏุงุฑุฏู ุขูุ ุชุงุจุน <code>env::var</code> ุฑุง
ูุฑุงุฎูุงู ฺฉุฑุฏู ู ูุงู ูุชุบุฑ ูุญุท <code>IGNORE_CASE</code> ุฑุง ุจู ุขู ูโุฏูู. ุชุงุจุน <code>env::var</code> ฺฉ <code>Result</code>
ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุฏุฑ ุตูุฑุช ุชูุธู ุจูุฏู ูุชุบุฑ ูุญุท ุจู ูุฑ ููุฏุงุฑุ ููุฏุงุฑ <code>Ok</code> ุจุง ููุฏุงุฑ ูุชุบุฑ ูุญุท ุฑุง
ุฏุงุฑุฏ. ุงฺฏุฑ ูุชุบุฑ ูุญุท ุชูุธู ูุดุฏู ุจุงุดุฏุ ููุฏุงุฑ <code>Err</code> ุจุฑฺฏุฑุฏุงูุฏู ูโุดูุฏ.</p>
<p>ูุง ุงุฒ ูุชุฏ <code>is_ok</code> ุฑู <code>Result</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ูุชุบุฑ ูุญุท ุชูุธู ุดุฏู ุงุณุชุ
ฺฉู ูุดุงู ูโุฏูุฏ ุจุฑูุงูู ุจุงุฏ ุฌุณุชุฌู ุฑุง ุจู ุตูุฑุช ุบุฑุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุงูุฌุงู ุฏูุฏ. ุงฺฏุฑ ูุชุบุฑ
ูุญุท <code>IGNORE_CASE</code> ุจู ูฺ ููุฏุงุฑ ุชูุธู ูุดุฏู ุจุงุดุฏุ <code>is_ok</code> ููุฏุงุฑ <code>false</code> ุจุฑูโฺฏุฑุฏุงูุฏ ู ุจุฑูุงูู
ุฌุณุชุฌู ุฑุง ุจู ุตูุฑุช ุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุงูุฌุงู ูโุฏูุฏ. ูุง ุจู ููุฏุงุฑ ูุชุบุฑ ูุญุท ูุงุฒ ูุฏุงุฑูุ ููุท
ูโุฎูุงูู ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ุชูุธู ุดุฏู ุงุณุช ุง ูู. ุจูุงุจุฑุงู ุงุฒ <code>is_ok</code> ุจู ุฌุง ูุชุฏูุง ูุงููุฏ
<code>unwrap</code>ุ <code>expect</code> ุง ุฏฺฏุฑ ูุชุฏูุง ูุฑุชุจุท ุจุง <code>Result</code> ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ูุง ููุฏุงุฑ ูุชุบุฑ <code>ignore_case</code> ุฑุง ุจู ููููู <code>Config</code> ููุชูู ูโฺฉูู ุชุง ุชุงุจุน <code>run</code> ุจุชูุงูุฏ ุงู ููุฏุงุฑ
ุฑุง ุจุฎูุงูุฏ ู ุชุตูู ุจฺฏุฑุฏ ฺฉู ุขุง ุจุงุฏ ุชุงุจุน <code>search_case_insensitive</code> ุง <code>search</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ.</p>
<h3 id="ุงูุชุญุงู-ฺฉุฑุฏู-ุจุฑูุงูู"><a class="header" href="#ุงูุชุญุงู-ฺฉุฑุฏู-ุจุฑูุงูู">ุงูุชุญุงู ฺฉุฑุฏู ุจุฑูุงูู</a></h3>
<p>ุญุงูุง ุจุงุฏ ุจุฑูุงูู ุฑุง ุงูุชุญุงู ฺฉูู! ุงุจุชุฏุง ุจุฑูุงูู ุฑุง ุจุฏูู ุชูุธู ูุชุบุฑ ูุญุท ู ุจุง ุนุจุงุฑุช ุฌุณุชุฌู
<code>to</code> ุงุฌุฑุง ูโฺฉูู. ุงู ุนุจุงุฑุช ุจุงุฏ ุจุง ูุฑ ุฎุท ฺฉู ุดุงูู ฺฉููู <em>to</em> ุจู ุตูุฑุช ุชูุงู ุญุฑูู ฺฉูฺฺฉ ุจุงุดุฏุ
ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ:</p>
<pre><code class="language-console">$ cargo run -- to poem.txt
</code></pre>
<p>ุจุฑูุงูู ููฺูุงู ุจุงุฏ ุจู ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ ู ุชููุง ุฎุทูุท ฺฉู ฺฉุงููุงู ุจุง ุนุจุงุฑุช ูุทุงุจูุช ุฏุงุฑูุฏ ุฑุง ุจุฑฺฏุฑุฏุงูุฏ.
ุญุงูุง ุจุฑูุงูู ุฑุง ุจุง ูุชุบุฑ ูุญุท <code>IGNORE_CASE</code> ฺฉู ุจู ููุฏุงุฑ <code>1</code> ุชูุธู ุดุฏู ุงุณุช ุงุฌุฑุง ูโฺฉูู ู
ููุงู ุนุจุงุฑุช ุฌุณุชุฌู <em>to</em> ุฑุง ุงูุชุญุงู ูโฺฉูู:</p>
<pre><code class="language-console">$ IGNORE_CASE=1 cargo run -- to poem.txt
</code></pre>
<p>ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ PowerShellุ ูุงุฒ ุงุณุช ฺฉู ูุชุบุฑ ูุญุท ุฑุง ุชูุธู ฺฉูุฏ ู ุณูพุณ ุจุฑูุงูู ุฑุง ุจู ุตูุฑุช
ุฏุณุชูุฑุงุช ุฌุฏุงฺฏุงูู ุงุฌุฑุง ฺฉูุฏ:</p>
<pre><code class="language-console">PS&gt; $Env:IGNORE_CASE=1; cargo run -- to poem.txt
</code></pre>
<p>ุงู ุฏุณุชูุฑ ุจุงุนุซ ูโุดูุฏ ฺฉู <code>IGNORE_CASE</code> ุจุฑุง ูุฏุช ุฒูุงู ูุดุณุช ุชุฑููุงู ุดูุง ุชูุธู ุจุงู ุจูุงูุฏ. ูโุชูุงูุฏ
ุขู ุฑุง ุจุง ุฏุณุชูุฑ <code>Remove-Item</code> ุญุฐู ฺฉูุฏ:</p>
<pre><code class="language-console">PS&gt; Remove-Item Env:IGNORE_CASE
</code></pre>
<p>ุจุฑูุงูู ุจุงุฏ ุฎุทูุท ฺฉู ุดุงูู <em>to</em> ูุณุชูุฏ ู ููฺฉู ุงุณุช ุญุฑูู ุจุฒุฑฺฏ ุฏุงุดุชู ุจุงุดูุฏ ุฑุง ุจุฑฺฏุฑุฏุงูุฏ:</p>
<pre><code class="language-console">Are you nobody, too?
How dreary to be somebody!
To tell your name the livelong day
To an admiring bog!
</code></pre>
<p>ุนุงู! ุญุงูุง ุจุฑูุงูู <code>minigrep</code> ูุง ูโุชูุงูุฏ ุฌุณุชุฌููุง ุบุฑุญุณุงุณ ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุฑุง ุงูุฌุงู ุฏูุฏ ฺฉู
ุจุง ฺฉ ูุชุบุฑ ูุญุท ฺฉูุชุฑู ูโุดูุฏ. ุญุงูุง ุดูุง ูโุฏุงูุฏ ฺฺฏููู ฺฏุฒููโูุง ุฑุง ฺฉู ุงุฒ ุทุฑู ุขุฑฺฏููุงูโูุง
ุฎุท ูุฑูุงู ุง ูุชุบุฑูุง ูุญุท ุชูุธู ูโุดููุฏ ูุฏุฑุช ฺฉูุฏ.</p>
<p>ุจุฑุฎ ุจุฑูุงููโูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉู ุขุฑฺฏููุงูโูุง ู ูุชุบุฑูุง ูุญุท ุจุฑุง ฺฉ ูพฺฉุฑุจูุฏ ูุงุญุฏ ุงุณุชูุงุฏู ุดููุฏ.
ุฏุฑ ุงู ููุงุฑุฏุ ุจุฑูุงููโูุง ุชุตูู ูโฺฏุฑูุฏ ฺฉู ฺฉ ุงุฒ ุขูโูุง ุงูููุช ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ุชูุฑู ุจุดุชุฑุ
ุณุน ฺฉูุฏ ุญุณุงุณุช ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุฑุง ุงุฒ ุทุฑู ฺฉ ุขุฑฺฏููุงู ุฎุท ูุฑูุงู ุง ฺฉ ูุชุบุฑ ูุญุท ฺฉูุชุฑู ฺฉูุฏ.
ุชุตูู ุจฺฏุฑุฏ ฺฉู ุฏุฑ ุตูุฑุช ุชูุธู ฺฉ ุจู ุญุณุงุณ ู ุฏฺฏุฑ ุจู ุบุฑุญุณุงุณ ุจูุฏูุ ุขุฑฺฏููุงู ุฎุท ูุฑูุงู ุง ูุชุบุฑ
ูุญุท ุจุงุฏ ุงูููุช ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ูุงฺูู <code>std::env</code> ูฺฺฏโูุง ููุฏ ุจุณุงุฑ ุจุฑุง ฺฉุงุฑ ุจุง ูุชุบุฑูุง ูุญุท ุฏุงุฑุฏ: ูุณุชูุฏุงุช ุขู ุฑุง ุจุฑุฑุณ ฺฉูุฏ
ุชุง ุจุจูุฏ ฺู ุงูฺฉุงูุงุช ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ููุดุชู-ูพุงููุง-ุฎุทุง-ุจู-ุฎุฑูุฌ-ุฎุทุง-ุงุณุชุงูุฏุงุฑุฏ-ุจู-ุฌุง-ุฎุฑูุฌ-ุงุณุชุงูุฏุงุฑุฏ"><a class="header" href="#ููุดุชู-ูพุงููุง-ุฎุทุง-ุจู-ุฎุฑูุฌ-ุฎุทุง-ุงุณุชุงูุฏุงุฑุฏ-ุจู-ุฌุง-ุฎุฑูุฌ-ุงุณุชุงูุฏุงุฑุฏ">ููุดุชู ูพุงูโูุง ุฎุทุง ุจู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุจู ุฌุง ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ</a></h2>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง ุชูุงู ุฎุฑูุฌโูุง ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>println!</code> ุจู ุชุฑููุงู ูโููุณู. ุฏุฑ ุจุดุชุฑ ุชุฑููุงูโูุงุ ุฏู ููุน ุฎุฑูุฌ ูุฌูุฏ ุฏุงุฑุฏ: <em>ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ</em> (<code>stdout</code>) ุจุฑุง ุงุทูุงุนุงุช ุนููู ู <em>ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ</em> (<code>stderr</code>) ุจุฑุง ูพุงูโูุง ุฎุทุง. ุงู ุชูุงุฒ ุจู ฺฉุงุฑุจุฑุงู ุงูฺฉุงู ูโุฏูุฏ ฺฉู ุฎุฑูุฌ ููููุชโุขูุฒ ฺฉ ุจุฑูุงูู ุฑุง ุจู ฺฉ ูุงู ูุฏุงุช ฺฉููุฏ ุงูุง ููฺูุงู ูพุงูโูุง ุฎุทุง ุฑุง ุฑู ุตูุญู ุจุจููุฏ.</p>
<p>ูุงฺฉุฑู <code>println!</code> ููุท ูุงุฏุฑ ุจู ููุดุชู ุฏุฑ ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุงุณุชุ ุจูุงุจุฑุงู ุจุฑุง ููุดุชู ุจู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุจุงุฏ ุงุฒ ฺุฒ ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉูู.</p>
<h3 id="ุจุฑุฑุณ-ูุญู-ููุดุชู-ุฎุทุงูุง"><a class="header" href="#ุจุฑุฑุณ-ูุญู-ููุดุชู-ุฎุทุงูุง">ุจุฑุฑุณ ูุญู ููุดุชู ุฎุทุงูุง</a></h3>
<p>ุงุจุชุฏุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ูุญุชูุง ฺุงูพโุดุฏู ุชูุณุท <code>minigrep</code> ุฏุฑ ุญุงู ุญุงุถุฑ ุจู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ููุดุชู ูโุดูุฏุ ุงุฒ ุฌููู ูพุงูโูุง ุฎุทุง ฺฉู ูโุฎูุงูู ุจู ุฌุง ุขูโูุง ุฏุฑ ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ููุดุชู ุดููุฏ. ุงู ฺฉุงุฑ ุฑุง ุจุง ูุฏุงุช ุฌุฑุงู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุจู ฺฉ ูุงู ู ุนูุฏุงู ุงุฌุงุฏ ฺฉ ุฎุทุง ุงูุฌุงู ุฎูุงูู ุฏุงุฏ. ูุง ุฌุฑุงู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุฑุง ูุฏุงุช ููโฺฉููุ ุจูุงุจุฑุงู ูุฑ ูุญุชูุง ฺฉู ุจู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุงุฑุณุงู ุดูุฏ ููฺูุงู ุฑู ุตูุญู ููุงุด ุฏุงุฏู ุฎูุงูุฏ ุดุฏ.</p>
<p>ุจุฑูุงููโูุง ุฎุท ูุฑูุงู ุงูุชุธุงุฑ ูโุฑูุฏ ฺฉู ูพุงูโูุง ุฎุทุง ุฎูุฏ ุฑุง ุจู ุฌุฑุงู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุงุฑุณุงู ฺฉููุฏ ุชุง ุฏุฑ ุตูุฑุช ูุฏุงุช ุฌุฑุงู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุจู ฺฉ ูุงูุ ูพุงูโูุง ุฎุทุง ููฺูุงู ุฑู ุตูุญู ููุงุด ุฏุงุฏู ุดููุฏ. ุจุฑูุงูู ูุง ุฏุฑ ุญุงู ุญุงุถุฑ ุจู ุฏุฑุณุช ุนูู ููโฺฉูุฏ: ูุง ุจู ุฒูุฏ ุฎูุงูู ุฏุฏ ฺฉู ูพุงู ุฎุทุง ุจู ุฌุง ุตูุญู ููุงุด ุจู ูุงู ุฐุฎุฑู ูโุดูุฏ!</p>
<p>ุจุฑุง ูุดุงู ุฏุงุฏู ุงู ุฑูุชุงุฑุ ุจุฑูุงูู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>&gt;</code> ู ูุณุฑ ูุงู <em>output.txt</em> ฺฉู ูโุฎูุงูู ุฌุฑุงู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจู ุขู ูุฏุงุช ฺฉููุ ุงุฌุฑุง ูโฺฉูู. ูฺ ุขุฑฺฏููุงู ุงุฑุงุฆู ูุฎูุงูู ฺฉุฑุฏุ ฺฉู ุจุงุฏ ููุฌุฑ ุจู ฺฉ ุฎุทุง ุดูุฏ:</p>
<pre><code class="language-console">$ cargo run &gt; output.txt
</code></pre>
<p>ุฏุณุชูุฑ <code>&gt;</code> ุจู ุดู ูโฺฏูุฏ ฺฉู ูุญุชูุง ุฌุฑุงู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจู <em>output.txt</em> ุจููุณุฏ ุจู ุฌุง ุงูฺฉู ุขู ุฑุง ุฑู ุตูุญู ููุงุด ุฏูุฏ. ูุง ูพุงู ุฎุทุง ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชู ุฑู ุตูุญู ุจุจูู ุฑุง ูุฏุฏูุ ุจูุงุจุฑุงู ุจู ุงู ูุนู ุงุณุช ฺฉู ุจุงุฏ ุฏุฑ ูุงู ุฐุฎุฑู ุดุฏู ุจุงุดุฏ. ุงู ููุงู ฺุฒ ุงุณุช ฺฉู <em>output.txt</em> ุดุงูู ูโุดูุฏ:</p>
<pre><code class="language-text">Problem parsing arguments: not enough arguments
</code></pre>
<p>ุจููุ ูพุงู ุฎุทุง ูุง ุจู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ฺุงูพ ูโุดูุฏ. ุจุฑุง ูพุงูโูุง ุฎุทุง ูุงููุฏ ุงู ุจูุชุฑ ุงุณุช ฺฉู ุจู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ฺุงูพ ุดููุฏ ุชุง ููุท ุฏุงุฏูโูุง ุญุงุตู ุงุฒ ุงุฌุฑุง ููููุชโุขูุฒ ุฏุฑ ูุงู ูุฑุงุฑ ฺฏุฑูุฏ. ูุง ุงู ููุถูุน ุฑุง ุชุบุฑ ุฎูุงูู ุฏุงุฏ.</p>
<h3 id="ููุดุชู-ุฎุทุงูุง-ุจู-ุฎุฑูุฌ-ุฎุทุง-ุงุณุชุงูุฏุงุฑุฏ"><a class="header" href="#ููุดุชู-ุฎุทุงูุง-ุจู-ุฎุฑูุฌ-ุฎุทุง-ุงุณุชุงูุฏุงุฑุฏ">ููุดุชู ุฎุทุงูุง ุจู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ</a></h3>
<p>ูุง ุงุฒ ฺฉุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ 12-24 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ุจุฑุง ุชุบุฑ ูุญูู ฺุงูพ ูพุงูโูุง ุฎุทุง ุงุณุชูุงุฏู ูโฺฉูู. ุจู ุฏูู ุจุงุฒุณุงุฒโุง ฺฉู ูุจูุงู ุฏุฑ ุงู ูุตู ุงูุฌุงู ุฏุงุฏูุ ุชูุงู ฺฉุฏ ฺฉู ูพุงูโูุง ุฎุทุง ุฑุง ฺุงูพ ูโฺฉูุฏ ุฏุฑ ฺฉ ุชุงุจุน ุจู ูุงู <code>main</code> ูุฑุงุฑ ุฏุงุฑุฏ. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุงฺฉุฑู <code>eprintln!</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุจู ุฌุฑุงู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ฺุงูพ ูโฺฉูุฏุ ุจูุงุจุฑุงู ุฏู ุฌุง ฺฉู ูุง <code>println!</code> ุฑุง ุจุฑุง ฺุงูพ ุฎุทุงูุง ูุฑุงุฎูุงู ฺฉุฑุฏูโุงู ุฑุง ุจู <code>eprintln!</code> ุชุบุฑ ูโุฏูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::process;
</span><span class="boring">
</span><span class="boring">use minigrep::Config;
</span><span class="boring">
</span>fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let config = Config::build(&amp;args).unwrap_or_else(|err| {
        eprintln!("Problem parsing arguments: {err}");
        process::exit(1);
    });

    if let Err(e) = minigrep::run(config) {
        eprintln!("Application error: {e}");
        process::exit(1);
    }
}</code></pre>
<figcaption>Listing 12-24: ููุดุชู ูพุงูโูุง ุฎุทุง ุจู ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุจู ุฌุง ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>eprintln!</code></figcaption>
</figure>
<p>ุญุงูุง ุจุฑูุงูู ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ูโฺฉูู ุจู ููุงู ุฑูุดุ ุจุฏูู ูฺ ุขุฑฺฏููุงู ู ุจุง ูุฏุงุช ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>&gt;</code>:</p>
<pre><code class="language-console">$ cargo run &gt; output.txt
Problem parsing arguments: not enough arguments
</code></pre>
<p>ุญุงูุง ุฎุทุง ุฑุง ุฑู ุตูุญู ูโุจูู ู <em>output.txt</em> ุฎุงู ุงุณุชุ ฺฉู ููุงู ุฑูุชุงุฑ ุงุณุช ฺฉู ุงุฒ ุจุฑูุงููโูุง ุฎุท ูุฑูุงู ุงูุชุธุงุฑ ุฏุงุฑู.</p>
<p>ุจุฑูุงูู ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ูโฺฉูู ุจุง ุขุฑฺฏููุงูโูุง ฺฉู ุฎุทุง ุงุฌุงุฏ ููโฺฉููุฏ ุงูุง ููฺูุงู ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจู ฺฉ ูุงู ูุฏุงุช ูโฺฉููุฏุ ูุงููุฏ ุงู:</p>
<pre><code class="language-console">$ cargo run -- to poem.txt &gt; output.txt
</code></pre>
<p>ูฺ ุฎุฑูุฌ ุฑู ุชุฑููุงู ูุฎูุงูู ุฏุฏ ู <em>output.txt</em> ุดุงูู ูุชุงุฌ ูุง ุฎูุงูุฏ ุจูุฏ:</p>
<p><span class="filename">Filename: output.txt</span></p>
<pre><code class="language-text">Are you nobody, too?
How dreary to be somebody!
</code></pre>
<p>ุงู ูุดุงู ูโุฏูุฏ ฺฉู ุงฺฉููู ุงุฒ ุฎุฑูุฌ ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุฎุฑูุฌโูุง ููููุชโุขูุฒ ู ุงุฒ ุฎุฑูุฌ ุฎุทุง ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุฎุฑูุฌโูุง ุฎุทุง ุงุณุชูุงุฏู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ููุงุณุจ ุงุณุช.</p>
<h2 id="ุฎูุงุตู-11"><a class="header" href="#ุฎูุงุตู-11">ุฎูุงุตู</a></h2>
<p>ุงู ูุตู ุจู ุทูุฑ ุฎูุงุตู ุจุฑุฎ ุงุฒ ููุงูู ุงุตู ฺฉู ุชุงฺฉููู ุขููุฎุชูโุงุฏ ุฑุง ูุฑูุฑ ฺฉุฑุฏ ู ุชูุถุญ ุฏุงุฏ ฺฉู ฺฺฏููู ุนููุงุช ูุฑูุฏ/ุฎุฑูุฌ ูุนููู ุฑุง ุฏุฑ Rust ุงูุฌุงู ุฏูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงูุ ูุงูโูุงุ ูุชุบุฑูุง ูุญุท ู ูุงฺฉุฑู <code>eprintln!</code> ุจุฑุง ฺุงูพ ุฎุทุงูุงุ ุดูุง ุงฺฉููู ุขูุงุฏูโุงุฏ ุชุง ุจุฑูุงููโูุง ุฎุท ูุฑูุงู ุจููุณุฏ. ููุฑุงู ุจุง ููุงูู ูุตูโูุง ูุจูุ ฺฉุฏ ุดูุง ุณุงุฒูุงูุฏู ุฎูุจ ุฎูุงูุฏ ุฏุงุดุชุ ุฏุงุฏูโูุง ุฑุง ุจู ุทูุฑ ูุคุซุฑ ุฏุฑ ุณุงุฎุชุงุฑูุง ุฏุงุฏู ููุงุณุจ ุฐุฎุฑู ูโฺฉูุฏุ ุฎุทุงูุง ุฑุง ุจู ุฎูุจ ูุฏุฑุช ูโฺฉูุฏ ู ุจู ุฎูุจ ุชุณุช ุดุฏู ุงุณุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูฺฺฏูุง-ุฒุจุงููุง-ุชุงุจุน-ุชฺฉุฑุงุฑฺฏุฑูุง-ู-closureูุง"><a class="header" href="#ูฺฺฏูุง-ุฒุจุงููุง-ุชุงุจุน-ุชฺฉุฑุงุฑฺฏุฑูุง-ู-closureูุง">ูฺฺฏโูุง ุฒุจุงูโูุง ุชุงุจุน: ุชฺฉุฑุงุฑฺฏุฑูุง ู closureูุง</a></h1>
<p>ุทุฑุงุญ ุฒุจุงู Rust ุงุฒ ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ู ุชฺฉูฺฉโูุง ููุฌูุฏ ุงููุงู ฺฏุฑูุชู ุงุณุช ู ฺฉ ุงุฒ ุชุฃุซุฑุงุช ููู ุขู
<em>ุจุฑูุงููโููุณ ุชุงุจุน</em> ุงุณุช. ุจุฑูุงููโููุณ ุจู ุณุจฺฉ ุชุงุจุน ุงุบูุจ ุดุงูู ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ุจู ุนููุงู ููุงุฏุฑ
ุงุณุชุ ุงุฒ ุทุฑู ุงุฑุณุงู ุขูโูุง ุจู ุนููุงู ุขุฑฺฏููุงูุ ุจุงุฒฺฏุฑุฏุงูุฏู ุขูโูุง ุงุฒ ุฏฺฏุฑ ุชูุงุจุนุ ุงุฎุชุตุงุต ุขูโูุง ุจู
ูุชุบุฑูุง ุจุฑุง ุงุฌุฑุง ุจุนุฏ ู ููุงุฑุฏ ุฏฺฏุฑ.</p>
<p>ุฏุฑ ุงู ูุตูุ ูุง ุจุญุซ ูุฎูุงูู ฺฉุฑุฏ ฺฉู ุจุฑูุงููโููุณ ุชุงุจุน ฺุณุช ุง ฺู ูุณุชุ ุจูฺฉู ุจู ุฌุง ุขู ุฏุฑุจุงุฑู
ุจุฑุฎ ุงุฒ ูฺฺฏโูุง Rust ฺฉู ูุดุงุจู ูฺฺฏโูุง ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุงุณุช ฺฉู ุงุบูุจ ุจู ุขูโูุง ุชุงุจุน ฺฏูุชู
ูโุดูุฏุ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุจู ุทูุฑ ุฎุงุตุ ูุง ูพูุดุด ุฎูุงูู ุฏุงุฏ:</p>
<ul dir="rtl">
<li> _closureูุง_ุ ฺฉ ุณุงุฎุชุงุฑ ุดุจู ุจู ุชุงุจุน ฺฉู ูโุชูุงู ุขู ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุฐุฎุฑู ฺฉุฑุฏ. </li>
<li> _ุชฺฉุฑุงุฑฺฏุฑูุง_ุ ุฑูุด ุจุฑุง ูพุฑุฏุงุฒุด ฺฉ ุณุฑ ุนูุงุตุฑ. </li>
<li> ูุญูู ุงุณุชูุงุฏู ุงุฒ closureูุง ู ุชฺฉุฑุงุฑฺฏุฑูุง ุจุฑุง ุจูุจูุฏ ูพุฑูฺู I/O ุฏุฑ ูุตู 12. </li>
<li> ุนููฺฉุฑุฏ closureูุง ู ุชฺฉุฑุงุฑฺฏุฑูุง (ูุดุฏุงุฑ: ุขูโูุง ุณุฑุนโุชุฑ ุงุฒ ฺุฒ ูุณุชูุฏ ฺฉู ููฺฉู ุงุณุช ุชุตูุฑ ฺฉูุฏ!) </li>
</ul>
<p>ูุง ูุจูุงู ุจุฑุฎ ุงุฒ ูฺฺฏโูุง ุฏฺฏุฑ Rustุ ูุงููุฏ ุงูฺฏููุง ู enums ุฑุง ูพูุดุด ุฏุงุฏูโุงู ฺฉู ููฺูู ุงุฒ
ุณุจฺฉ ุชุงุจุน ุชุฃุซุฑ ฺฏุฑูุชูโุงูุฏ. ุงุฒ ุขูุฌุง ฺฉู ุชุณูุท ุจุฑ closureูุง ู ุชฺฉุฑุงุฑฺฏุฑูุง ุจุฎุด ููู ุงุฒ ููุดุชู ฺฉุฏ
ุงุฏููุงฺฉุชฺฉ ู ุณุฑุน ุฏุฑ Rust ุงุณุชุ ูุง ฺฉู ุงู ูุตู ุฑุง ุจู ุขูโูุง ุงุฎุชุตุงุต ุฎูุงูู ุฏุงุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><!-- Old heading. Do not remove or links may break. -->
<p><a id="closures-anonymous-functions-that-can-capture-their-environment"></a></p>
<h2 id="closureูุง-ุชูุงุจุน-ูุงุดูุงุณ-ฺฉู-ูุญุท-ุฎูุฏ-ุฑุง-ูฺฏุฑูุฏ"><a class="header" href="#closureูุง-ุชูุงุจุน-ูุงุดูุงุณ-ฺฉู-ูุญุท-ุฎูุฏ-ุฑุง-ูฺฏุฑูุฏ"> closureูุง: ุชูุงุจุน ูุงุดูุงุณ ฺฉู ูุญุท ุฎูุฏ ุฑุง ูโฺฏุฑูุฏ</a></h2>
</div>
<p>closureูุง Rust ุชูุงุจุน ูุงุดูุงุณ ูุณุชูุฏ ฺฉู ูโุชูุงูุฏ ุขูโูุง ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุฐุฎุฑู ฺฉูุฏ ุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจู ุชูุงุจุน ุฏฺฏุฑ ุงุฑุณุงู ฺฉูุฏ. ุดูุง ูโุชูุงูุฏ closure ุฑุง ุฏุฑ ฺฉ ูฺฉุงู ุงุฌุงุฏ ฺฉูุฏ ู ุณูพุณ ุขู ุฑุง ุฏุฑ ุฌุง ุฏฺฏุฑ ูุฑุงุฎูุงู ฺฉูุฏ ุชุง ุฏุฑ ฺฉ ุฒููู ูุชูุงูุช ุงุฑุฒุงุจ ุดูุฏ. ุจุฑุฎูุงู ุชูุงุจุนุ closureูุง ูโุชูุงููุฏ ููุงุฏุฑ ุฑุง ุงุฒ ูุญุท ฺฉู ุฏุฑ ุขู ุชุนุฑู ุดุฏูโุงูุฏุ ุจฺฏุฑูุฏ. ูุง ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฉู ฺฺฏููู ุงู ูฺฺฏโูุง closure ุงูฺฉุงู ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ฺฉุฏ ู ุณูุงุฑุดโุณุงุฒ ุฑูุชุงุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ.</p>
<!-- ุนูุงูู ูุฏู. ุญุฐู ูฺฉูุฏ ุชุง ููฺฉโูุง ุฎุฑุงุจ ูุดููุฏ. -->
<p><a id="creating-an-abstraction-of-behavior-with-closures"></a>
<a id="refactoring-using-functions"></a>
<a id="refactoring-with-closures-to-store-code"></a></p>
<h3 id="ฺฏุฑูุชู-ูุญุท-ุจุง-closureูุง"><a class="header" href="#ฺฏุฑูุชู-ูุญุท-ุจุง-closureูุง">ฺฏุฑูุชู ูุญุท ุจุง closureูุง</a></h3>
<p>ุงุจุชุฏุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุงุฒ closureูุง ุจุฑุง ฺฏุฑูุชู ููุงุฏุฑ ุงุฒ ูุญุท ฺฉู ุฏุฑ ุขู ุชุนุฑู ุดุฏูโุงูุฏุ ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุขูุฏู ุงุณุชูุงุฏู ฺฉุฑุฏ. ุณูุงุฑู ุฒุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ: ูุฑ ฺูุฏ ููุช ฺฉ ุจุงุฑุ ุดุฑฺฉุช ุชโุดุฑุช ูุง ฺฉ ุชโุดุฑุช ุงูุญุตุงุฑ ู ูุณุฎู ูุญุฏูุฏ ุจู ุดุฎุต ุงุฒ ูุณุช ูพุณุช ุฎูุฏ ุจู ุนููุงู ุชุจูุบ ูุฏู ูโุฏูุฏ. ุงูุฑุงุฏ ฺฉู ุฏุฑ ูุณุช ูพุณุช ูุณุชูุฏ ูโุชูุงููุฏ ุจู ุตูุฑุช ุงุฎุชุงุฑ ุฑูฺฏ ููุฑุฏ ุนูุงูู ุฎูุฏ ุฑุง ุจู ูพุฑููุงู ุฎูุฏ ุงุถุงูู ฺฉููุฏ. ุงฺฏุฑ ุดุฎุต ฺฉู ุจุฑุง ุชโุดุฑุช ุฑุงฺฏุงู ุงูุชุฎุงุจ ุดุฏู ุงุณุช ุฑูฺฏ ููุฑุฏ ุนูุงูู ุฎูุฏ ุฑุง ุชูุธู ฺฉุฑุฏู ุจุงุดุฏุ ุขู ุฑูฺฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ. ุงฺฏุฑ ุดุฎุต ุฑูฺฏ ููุฑุฏ ุนูุงููโุง ูุดุฎุต ูฺฉุฑุฏู ุจุงุดุฏุ ุฑูฺฏ ฺฉู ุดุฑฺฉุช ุจุดุชุฑู ุชุนุฏุงุฏ ุขู ุฑุง ุฏุงุฑุฏุ ุจู ุงู ุฏุงุฏู ูโุดูุฏ.</p>
<p>ุฑุงูโูุง ุฒุงุฏ ุจุฑุง ูพุงุฏูโุณุงุฒ ุงู ุณูุงุฑู ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ ุงู ูุซุงูุ ูุง ุงุฒ ฺฉ <code>enum</code> ุจู ูุงู <code>ShirtColor</code> ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุดุงูู ููุงุฏุฑ <code>Red</code> ู <code>Blue</code> ุงุณุช (ุจุฑุง ุณุงุฏฺฏ ุชุนุฏุงุฏ ุฑูฺฏโูุง ููุฌูุฏ ุฑุง ูุญุฏูุฏ ฺฉุฑุฏูโุงู). ููุฌูุฏ ุดุฑฺฉุช ุฑุง ุจุง ฺฉ ุณุงุฎุชุงุฑ <code>Inventory</code> ูุดุงู ูโุฏูู ฺฉู ฺฉ ููุฏ ุจู ูุงู <code>shirts</code> ุฏุงุฑุฏ ฺฉู ฺฉ <code>Vec&lt;ShirtColor&gt;</code> ุงุฒ ุฑูฺฏโูุง ุชโุดุฑุช ููุฌูุฏ ุฑุง ูุดุงู ูโุฏูุฏ. ูุชุฏ ุจู ูุงู <code>giveaway</code> ฺฉู ุฏุฑ <code>Inventory</code> ุชุนุฑู ุดุฏู ุงุณุชุ ุงูููุช ุฑูฺฏ ุชโุดุฑุช ฺฉุงุฑุจุฑ ุจุฑูุฏู ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ู ุฑูฺฏ ุชโุดุฑุช ฺฉู ุจู ุขู ูุฑุฏ ุฏุงุฏู ูโุดูุฏ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุงู ุชูุธูุงุช ุฏุฑ ูุณุชูฺฏ 13-1 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust noplayground">#[derive(Debug, PartialEq, Copy, Clone)]
enum ShirtColor {
    Red,
    Blue,
}

struct Inventory {
    shirts: Vec&lt;ShirtColor&gt;,
}

impl Inventory {
    fn giveaway(&amp;self, user_preference: Option&lt;ShirtColor&gt;) -&gt; ShirtColor {
        user_preference.unwrap_or_else(|| self.most_stocked())
    }

    fn most_stocked(&amp;self) -&gt; ShirtColor {
        let mut num_red = 0;
        let mut num_blue = 0;

        for color in &amp;self.shirts {
            match color {
                ShirtColor::Red =&gt; num_red += 1,
                ShirtColor::Blue =&gt; num_blue += 1,
            }
        }
        if num_red &gt; num_blue {
            ShirtColor::Red
        } else {
            ShirtColor::Blue
        }
    }
}

fn main() {
    let store = Inventory {
        shirts: vec![ShirtColor::Blue, ShirtColor::Red, ShirtColor::Blue],
    };

    let user_pref1 = Some(ShirtColor::Red);
    let giveaway1 = store.giveaway(user_pref1);
    println!(
        "The user with preference {:?} gets {:?}",
        user_pref1, giveaway1
    );

    let user_pref2 = None;
    let giveaway2 = store.giveaway(user_pref2);
    println!(
        "The user with preference {:?} gets {:?}",
        user_pref2, giveaway2
    );
}</code></pre>
<figcaption>Listing 13-1: ุณูุงุฑู ูุฏู ุดุฑฺฉุช ุชโุดุฑุช</figcaption>
</figure>
<p>ุฏุฑ ุงู ฺฉุฏุ <code>store</code> ุชุนุฑูโุดุฏู ุฏุฑ <code>main</code> ุฏู ุชโุดุฑุช ุขุจ ู ฺฉ ุชโุดุฑุช ูุฑูุฒ ุจุงูโูุงูุฏู ุจุฑุง ุชูุฒุน ุฏุฑ ุงู ุชุจูุบ ูุณุฎู ูุญุฏูุฏ ุฏุงุฑุฏ. ูุง ูุชุฏ <code>giveaway</code> ุฑุง ุจุฑุง ฺฉ ฺฉุงุฑุจุฑ ุจุง ุชุฑุฌุญ ฺฉ ุชโุดุฑุช ูุฑูุฒ ู ฺฉ ฺฉุงุฑุจุฑ ุจุฏูู ูฺ ุชุฑุฌุญ ูุฑุงุฎูุงู ูโฺฉูู.</p>
<p>ุฏูุจุงุฑู ุชุฃฺฉุฏ ูโฺฉูู ฺฉู ุงู ฺฉุฏ ุฑุง ูโุชูุงู ุจู ุฑูุดโูุง ูุฎุชูู ูพุงุฏูโุณุงุฒ ฺฉุฑุฏ. ุฏุฑ ุงูุฌุงุ ุจุฑุง ุชูุฑฺฉุฒ ุจุฑ closureูุงุ ุจู ููุงูู ฺฉู ูุจูุงู ุขููุฎุชูโุงุฏ ูพุงุจูุฏ ูุงูุฏูโุงูุ ุจู ุฌุฒ ุจุฎุด ุจุฏูู ูุชุฏ <code>giveaway</code> ฺฉู ุงุฒ ฺฉ closure ุงุณุชูุงุฏู ูโฺฉูุฏ. ุฏุฑ ูุชุฏ <code>giveaway</code>ุ ูุง ุงูููุช ฺฉุงุฑุจุฑ ุฑุง ุจู ุนููุงู ฺฉ ุขุฑฺฏููุงู ุงุฒ ููุน <code>Option&lt;ShirtColor&gt;</code> ุฏุฑุงูุช ูโฺฉูู ู ูุชุฏ <code>unwrap_or_else</code> ุฑุง ุฑู <code>user_preference</code> ูุฑุงุฎูุงู ูโฺฉูู.</p>
<p>ูุชุฏ <a href="https://doc.rust-lang.org/std/option/enum.Option.html#method.unwrap_or_else"><code>unwrap_or_else</code> ุฑู <code>Option&lt;T&gt;</code></a><!-- ignore --> ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏู ุงุณุช. ุงู ูุชุฏ ฺฉ ุขุฑฺฏููุงู ูโฺฏุฑุฏ: ฺฉ closure ุจุฏูู ูฺ ุขุฑฺฏููุงู ฺฉู ฺฉ ููุฏุงุฑ <code>T</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ (ููุงู ููุน ฺฉู ุฏุฑ ูุชุบุฑ <code>Some</code> ุงุฒ <code>Option&lt;T&gt;</code> ุฐุฎุฑู ุดุฏู ุงุณุชุ ุฏุฑ ุงู ููุฑุฏ <code>ShirtColor</code>). ุงฺฏุฑ <code>Option&lt;T&gt;</code> ููุฏุงุฑ <code>Some</code> ุฏุงุดุชู ุจุงุดุฏุ <code>unwrap_or_else</code> ููุฏุงุฑ ุฏุงุฎู <code>Some</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ <code>Option&lt;T&gt;</code> ููุฏุงุฑ <code>None</code> ุจุงุดุฏุ <code>unwrap_or_else</code> closure ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู ู ููุฏุงุฑ ฺฉู closure ุจุงุฒูโฺฏุฑุฏุงูุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุง ุนุจุงุฑุช closure <code>|| self.most_stocked()</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจู <code>unwrap_or_else</code> ุงุฑุณุงู ูโฺฉูู. ุงู ฺฉ closure ุงุณุช ฺฉู ุฎูุฏ ูฺ ุขุฑฺฏููุงู ููโฺฏุฑุฏ (ุงฺฏุฑ closure ุขุฑฺฏููุงูโูุง ุฏุงุดุชุ ุขูโูุง ุจู ุฏู ุฎุท ุนููุฏ ูุฑุงุฑ ูโฺฏุฑูุชูุฏ). ุจุฏูู closure ูุชุฏ <code>self.most_stocked()</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ูุง closure ุฑุง ุงูุฌุง ุชุนุฑู ูโฺฉูู ู ูพุงุฏูโุณุงุฒ <code>unwrap_or_else</code> ุฏุฑ ุตูุฑุช ูุงุฒุ closure ุฑุง ุงุฑุฒุงุจ ูโฺฉูุฏ.</p>
<p>ุงุฌุฑุง ุงู ฺฉุฏ ููุงุฑุฏ ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling shirt-company v0.1.0 (file:///projects/shirt-company)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.27s
     Running `target/debug/shirt-company`
The user with preference Some(Red) gets Red
The user with preference None gets Blue
</code></pre>
<p>ฺฉ ุงุฒ ุฌูุจูโูุง ุฌุงูุจ ุฏุฑ ุงูุฌุง ุงู ุงุณุช ฺฉู ูุง ฺฉ closure ุงุฑุณุงู ฺฉุฑุฏูโุงู ฺฉู ูุชุฏ <code>self.most_stocked()</code> ุฑุง ุฑู ููููู ูุนู <code>Inventory</code> ูุฑุงุฎูุงู ูโฺฉูุฏ. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุงุฒ ุจู ุฏุงูุณุชู ฺุฒ ุฏุฑุจุงุฑู ุงููุงุน <code>Inventory</code> ุง <code>ShirtColor</code> ฺฉู ุชุนุฑู ฺฉุฑุฏูโุงู ุง ููุทู ฺฉู ูโุฎูุงูู ุฏุฑ ุงู ุณูุงุฑู ุงุณุชูุงุฏู ฺฉููุ ูุฏุงุฑุฏ. closure ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ููููู <code>self</code> ุงุฒ <code>Inventory</code> ุฑุง ูโฺฏุฑุฏ ู ุขู ุฑุง ููุฑุงู ุจุง ฺฉุฏ ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงู ุจู ูุชุฏ <code>unwrap_or_else</code> ุงุฑุณุงู ูโฺฉูุฏ. ุงุฒ ุทุฑู ุฏฺฏุฑุ ุชูุงุจุน ูุงุฏุฑ ุจู ฺฏุฑูุชู ูุญุท ุฎูุฏ ุจู ุงู ุตูุฑุช ูุณุชูุฏ.</p>
<h3 id="ุงุณุชูุจุงุท-ููุน-closure-ู-ุญุงุดูููุณ"><a class="header" href="#ุงุณุชูุจุงุท-ููุน-closure-ู-ุญุงุดูููุณ">ุงุณุชูุจุงุท ููุน closure ู ุญุงุดูโููุณ</a></h3>
<p>ุชูุงูุชโูุง ุจุดุชุฑ ุจู ุชูุงุจุน ู closureูุง ูุฌูุฏ ุฏุงุฑุฏ. closureูุง ูุนูููุงู ูุงุฒ ุจู ุญุงุดูโููุณ ุงููุงุน ุขุฑฺฏููุงูโูุง ุง ููุฏุงุฑ ุจุงุฒฺฏุดุช ูุฏุงุฑูุฏุ ุจุฑุฎูุงู ุชูุงุจุน <code>fn</code> ฺฉู ุจู ุงู ุญุงุดูโููุณ ูุงุฒ ุฏุงุฑูุฏ. ุญุงุดูโููุณ ุงููุงุน ุฏุฑ ุชูุงุจุน ุถุฑูุฑ ุงุณุช ุฒุฑุง ุงู ุงููุงุน ุจุฎุด ุงุฒ ุฑุงุจุท ฺฉุงุฑุจุฑ ุตุฑุญ ูุณุชูุฏ ฺฉู ุจุฑุง ฺฉุงุฑุจุฑุงู ุดูุง ุงุฑุงุฆู ูโุดูุฏ. ุชุนุฑู ุงู ุฑุงุจุท ุจู ุตูุฑุช ุณุฎุชฺฏุฑุงูู ุจุฑุง ุงุทููุงู ุงุฒ ุชูุงูู ููู ุฏุฑ ููุฑุฏ ุงููุงุน ููุงุฏุฑ ุงุณุชูุงุฏู ุดุฏู ู ุจุงุฒฺฏุดุช ฺฉ ุชุงุจุน ููู ุงุณุช. ุงุฒ ุทุฑู ุฏฺฏุฑุ closureูุง ุจู ุงู ุตูุฑุช ุฏุฑ ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ุตุฑุญ ุงุณุชูุงุฏู ููโุดููุฏ: ุขูโูุง ุฏุฑ ูุชุบุฑูุง ุฐุฎุฑู ูโุดููุฏ ู ุจุฏูู ูุงูโฺฏุฐุงุฑ ู ุงูุดุง ุขูโูุง ุจู ฺฉุงุฑุจุฑุงู ฺฉุชุงุจุฎุงูู ูุง ุงุณุชูุงุฏู ูโุดููุฏ.</p>
<div dir="rtl">
closureูุง ูุนูููุงู ฺฉูุชุงู ูุณุชูุฏ ู ููุท ุฏุฑ ฺฉ ุฒููู ูุญุฏูุฏ ูุฑุชุจุท ูุณุชูุฏุ ูู ุฏุฑ ูุฑ ุณูุงุฑู ุฏูุฎูุงู. ุฏุฑ ุงู ุฒูููโูุง ูุญุฏูุฏุ ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุงููุงุน ูพุงุฑุงูุชุฑูุง ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุฑุง ุงุณุชูุจุงุท ฺฉูุฏุ ูุดุงุจู ุขูฺู ฺฉู ูโุชูุงูุฏ ุงููุงุน ุงฺฉุซุฑ ูุชุบุฑูุง ุฑุง ุงุณุชูุจุงุท ฺฉูุฏ (ููุงุฑุฏ ูุงุฏุฑ ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ฺฉุงููพุงูุฑ ุจู ุญุงุดูโููุณ ููุน closure ูุฒ ูุงุฒ ุฏุงุฑุฏ).
</div>
<br>
ููุงููุฏ ูุชุบุฑูุงุ ูุง ูโุชูุงูู ุญุงุดูโููุณ ููุน ุงุถุงูู ฺฉูู ุงฺฏุฑ ุจุฎูุงูู ูุถูุญ ู ุดูุงูุช ุฑุง ุงูุฒุงุด ุฏููุ ุจู ููุช ูพุฑุญุฑูโุชุฑ ุดุฏู ุงุฒ ุขูฺู ฺฉู ุจู ุทูุฑ ุฏูู ุถุฑูุฑ ุงุณุช. ุงูุฒูุฏู ุญุงุดูโููุณ ููุน ุจุฑุง ฺฉ closure ุจู ุงู ุตูุฑุช ุงุณุช ฺฉู ุฏุฑ ูุณุชูฺฏ 13-2 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุฏุฑ ุงู ูุซุงูุ ูุง ฺฉ closure ุชุนุฑู ฺฉุฑุฏู ู ุขู ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุฐุฎุฑู ูโฺฉููุ ุจู ุฌุง ุงูฺฉู closure ุฑุง ุฏุฑ ูฺฉุงู ฺฉู ุจู ุนููุงู ุขุฑฺฏููุงู ุงุฑุณุงู ูโฺฉูู ุชุนุฑู ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 13-1 ุงูุฌุงู ุฏุงุฏู.
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn generate_workout(intensity: u32, random_number: u32) {
</span>    let expensive_closure = |num: u32| -&gt; u32 {
        println!("calculating slowly...");
        thread::sleep(Duration::from_secs(2));
        num
    };
<span class="boring">
</span><span class="boring">    if intensity &lt; 25 {
</span><span class="boring">        println!("Today, do {} pushups!", expensive_closure(intensity));
</span><span class="boring">        println!("Next, do {} situps!", expensive_closure(intensity));
</span><span class="boring">    } else {
</span><span class="boring">        if random_number == 3 {
</span><span class="boring">            println!("Take a break today! Remember to stay hydrated!");
</span><span class="boring">        } else {
</span><span class="boring">            println!(
</span><span class="boring">                "Today, run for {} minutes!",
</span><span class="boring">                expensive_closure(intensity)
</span><span class="boring">            );
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let simulated_user_specified_value = 10;
</span><span class="boring">    let simulated_random_number = 7;
</span><span class="boring">
</span><span class="boring">    generate_workout(simulated_user_specified_value, simulated_random_number);
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 13-2: ุงูุฒูุฏู ุญุงุดูโููุณโูุง ุงุฎุชุงุฑ ุจุฑุง ุงููุงุน ุขุฑฺฏููุงูโูุง ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุฏุฑ closure</figcaption>
</figure>
<p>ุจุง ุงุถุงูู ฺฉุฑุฏู ุญุงุดูโููุณ ููุนุ ูุญูู ููุดุชู closureูุง ุจุดุชุฑ ุดุจู ุจู ููุดุชู ุชูุงุจุน ูโุดูุฏ. ุฏุฑ ุงูุฌุงุ ูุง ฺฉ ุชุงุจุน ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู 1 ุจู ุขุฑฺฏููุงู ุฎูุฏ ุงุถุงูู ูโฺฉูุฏ ู ฺฉ closure ฺฉู ููุงู ุฑูุชุงุฑ ุฑุง ุฏุงุฑุฏุ ุจุฑุง ููุงุณู. ูุง ูุถุงูุง ุงุถุงูู ฺฉุฑุฏูโุงู ุชุง ุจุฎุดโูุง ูุฑุชุจุท ุฑุง ููโุฑุฏู ฺฉูู. ุงู ูุดุงู ูโุฏูุฏ ฺฉู ูุญู closure ฺูุฏุฑ ุดุจู ุจู ูุญู ุชูุงุจุน ุงุณุชุ ุจู ุฌุฒ ุงุณุชูุงุฏู ุงุฒ ุฎุทูุท ุนููุฏ ู ูุฒุงู ูุญู ฺฉู ุงุฎุชุงุฑ ุงุณุช.</p>
<pre><code class="language-rust ignore">fn  add_one_v1   (x: u32) -&gt; u32 { x + 1 }
let add_one_v2 = |x: u32| -&gt; u32 { x + 1 };
let add_one_v3 = |x|             { x + 1 };
let add_one_v4 = |x|               x + 1  ;</code></pre>
<p>ุฎุท ุงูู ุชุนุฑู ฺฉ ุชุงุจุน ุฑุง ูุดุงู ูโุฏูุฏุ ู ุฎุท ุฏูู ุชุนุฑู ฺฉ closure ุจุง ุญุงุดูโููุณ ฺฉุงูู ุฑุง ููุงุด ูโุฏูุฏ. ุฏุฑ ุฎุท ุณููุ ุญุงุดูโููุณ ุงููุงุน ุงุฒ ุชุนุฑู closure ุญุฐู ุดุฏู ุงุณุช. ุฏุฑ ุฎุท ฺูุงุฑูุ ุจุฑุงฺฉุชโูุง ุฑุง ุญุฐู ูโฺฉููุ ฺฉู ุงุฎุชุงุฑ ูุณุชูุฏ ุฒุฑุง ุจุฏูู closure ููุท ฺฉ ุนุจุงุฑุช ุฏุงุฑุฏ. ููู ุงูโูุง ุชุนุงุฑู ูุนุชุจุฑ ูุณุชูุฏ ฺฉู ููฺฏุงู ูุฑุงุฎูุงู ุฑูุชุงุฑ ฺฉุณุงู ุชููุฏ ูโฺฉููุฏ. ุฎุทูุท <code>add_one_v3</code> ู <code>add_one_v4</code> ูุงุฒ ุฏุงุฑูุฏ ฺฉู closureูุง ุงุฑุฒุงุจ ุดููุฏ ุชุง ฺฉุงููพุงู ุดููุฏ ุฒุฑุง ุงููุงุน ุงุฒ ูุญูู ุงุณุชูุงุฏู ุขูโูุง ุงุณุชูุจุงุท ุฎูุงููุฏ ุดุฏ. ุงู ูุดุงุจู ุจุง <code>let v = Vec::new();</code> ุงุณุช ฺฉู ูุงุฒ ุฏุงุฑุฏ ุง ุญุงุดูโููุณ ููุน ุฏุงุดุชู ุจุงุดุฏ ุง ููุงุฏุฑ ุงุฒ ููุน ุฏุฑ <code>Vec</code> ูุงุฑุฏ ุดููุฏ ุชุง Rust ุจุชูุงูุฏ ููุน ุฑุง ุงุณุชูุจุงุท ฺฉูุฏ.</p>
<p>ุจุฑุง ุชุนุฑู closureูุงุ ฺฉุงููพุงูุฑ ฺฉ ููุน ูุดุฎุต ุจุฑุง ูุฑ ฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุง ู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุขูโูุง ุงุณุชูุจุงุท ูโฺฉูุฏ. ุจุฑุง ูุซุงูุ ูุณุชูฺฏ 13-3 ุชุนุฑู ฺฉ closure ฺฉูุชุงู ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ููุท ููุฏุงุฑ ฺฉู ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุฏุฑุงูุช ูโฺฉูุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู closure ุจุฑุง ุงูุฏุงู ุงู ูุซุงู ุงุณุชูุงุฏู ฺูุฏุงู ูุฏุงุฑุฏ. ุชูุฌู ฺฉูุฏ ฺฉู ูฺ ุญุงุดูโููุณ ููุน ุจู ุชุนุฑู ุงุถุงูู ูฺฉุฑุฏูโุงู. ฺูู ูฺ ุญุงุดูโููุณ ูุฌูุฏ ูุฏุงุฑุฏุ ูโุชูุงูู closure ุฑุง ุจุง ูุฑ ููุน ูุฑุงุฎูุงู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุงููู ุจุงุฑ ุงู ฺฉุงุฑ ุฑุง ุจุง <code>String</code> ุงูุฌุงู ุฏุงุฏู. ุงฺฏุฑ ุณูพุณ ุณุน ฺฉูู <code>example_closure</code> ุฑุง ุจุง ฺฉ ุนุฏุฏ ุตุญุญ ูุฑุงุฎูุงู ฺฉููุ ุฎุทุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let example_closure = |x| x;

    let s = example_closure(String::from("hello"));
    let n = example_closure(5);
<span class="boring">}</span></code></pre>
<figcaption>Listing 13-3: ุชูุงุด ุจุฑุง ูุฑุงุฎูุงู ฺฉ closure ฺฉู ุงููุงุน ุขู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏู ููุน ูุฎุชูู ุงุณุชูุจุงุท ุดุฏู ุงุณุช</figcaption>
</figure>
<p>ฺฉุงููพุงูุฑ ุงู ุฎุทุง ุฑุง ูโุฏูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling closure-example v0.1.0 (file:///projects/closure-example)
error[E0308]: mismatched types
 --&gt; src/main.rs:5:29
  |
5 |     let n = example_closure(5);
  |             --------------- ^- help: try using a conversion method: `.to_string()`
  |             |               |
  |             |               expected `String`, found integer
  |             arguments to this function are incorrect
  |
note: expected because the closure was earlier called with an argument of type `String`
 --&gt; src/main.rs:4:29
  |
4 |     let s = example_closure(String::from("hello"));
  |             --------------- ^^^^^^^^^^^^^^^^^^^^^ expected because this argument is of type `String`
  |             |
  |             in this closure call
note: closure parameter defined here
 --&gt; src/main.rs:2:28
  |
2 |     let example_closure = |x| x;
  |                            ^

For more information about this error, try `rustc --explain E0308`.
error: could not compile `closure-example` (bin "closure-example") due to 1 previous error
</code></pre>
<p>ุงููู ุจุงุฑ ฺฉู <code>example_closure</code> ุฑุง ุจุง ููุฏุงุฑ <code>String</code> ูุฑุงุฎูุงู ูโฺฉููุ ฺฉุงููพุงูุฑ ููุน <code>x</code> ู ููุฏุงุฑ ุจุงุฒฺฏุดุช closure ุฑุง ุจู ุนููุงู <code>String</code> ุงุณุชูุจุงุท ูโฺฉูุฏ. ุณูพุณ ุงู ุงููุงุน ุฏุฑ closure <code>example_closure</code> ููู ูโุดููุฏ ู ููฺฏุงู ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุน ุฏฺฏุฑ ุจุง ููุงู closureุ ฺฉ ุฎุทุง ููุน ุฏุฑุงูุช ูโฺฉูู.</p>
<h3 id="ฺฏุฑูุชู-ุงุฑุฌุงุนุงุช-ุง-ุงูุชูุงู-ูุงูฺฉุช"><a class="header" href="#ฺฏุฑูุชู-ุงุฑุฌุงุนุงุช-ุง-ุงูุชูุงู-ูุงูฺฉุช">ฺฏุฑูุชู ุงุฑุฌุงุนุงุช ุง ุงูุชูุงู ูุงูฺฉุช</a></h3>
<p>closureูุง ูโุชูุงููุฏ ููุงุฏุฑ ุฑุง ุงุฒ ูุญุท ุฎูุฏ ุจู ุณู ุฑูุด ุจฺฏุฑูุฏ ฺฉู ูุณุชููุงู ุจู ุณู ุฑูุด ฺฉู ฺฉ ุชุงุจุน ูโุชูุงูุฏ ฺฉ ูพุงุฑุงูุชุฑ ุจฺฏุฑุฏุ ูฺฏุงุดุช ูโุดููุฏ: ูุฑุถโฺฏุฑ ุบุฑูุงุจู ุชุบุฑุ ูุฑุถโฺฏุฑ ูุงุจู ุชุบุฑุ ู ฺฏุฑูุชู ูุงูฺฉุช. closure ุชุตูู ูโฺฏุฑุฏ ฺฉู ฺฉุฏุงู ฺฉ ุงุฒ ุงูโูุง ุฑุง ุจุฑ ุงุณุงุณ ฺฉุงุฑ ฺฉู ุจุฏูู ุชุงุจุน ุจุง ููุงุฏุฑ ฺฏุฑูุชู ุดุฏู ุงูุฌุงู ูโุฏูุฏุ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฏุฑ ูุณุชูฺฏ 13-4ุ ฺฉ closure ุชุนุฑู ูโฺฉูู ฺฉู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ุจุฑุฏุงุฑ ุจุง ูุงู <code>list</code> ุฑุง ูโฺฏุฑุฏ ุฒุฑุง ููุท ุจู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ูุงุฒ ุฏุงุฑุฏ ุชุง ููุฏุงุฑ ุฑุง ฺุงูพ ฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let list = vec![1, 2, 3];
    println!("Before defining closure: {list:?}");

    let only_borrows = || println!("From closure: {list:?}");

    println!("Before calling closure: {list:?}");
    only_borrows();
    println!("After calling closure: {list:?}");
}</code></pre></pre>
<figcaption>Listing 13-4: ุชุนุฑู ู ูุฑุงุฎูุงู ฺฉ closure ฺฉู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ูโฺฏุฑุฏ</figcaption>
</figure>
<p>ุงู ูุซุงู ููฺูู ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ูุชุบุฑ ูโุชูุงูุฏ ุจู ุชุนุฑู ฺฉ closure ูุชุตู ุดูุฏ ู ุจุนุฏุงู ูโุชูุงู closure ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงู ูุชุบุฑ ู ูพุฑุงูุชุฒูุง ูุฑุงุฎูุงู ฺฉุฑุฏุ ฺฏู ฺฉู ูุงู ูุชุบุฑ ฺฉ ูุงู ุชุงุจุน ุงุณุช.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ูโุชูุงูู ฺูุฏู ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู <code>list</code> ุจู ุทูุฑ ููุฒูุงู ุฏุงุดุชู ุจุงุดูุ <code>list</code> ููฺูุงู ุงุฒ ฺฉุฏ ฺฉู ูุจู ุงุฒ ุชุนุฑู closureุ ุจุนุฏ ุงุฒ ุชุนุฑู closure ุงูุง ูุจู ุงุฒ ูุฑุงุฎูุงู closure ู ุจุนุฏ ุงุฒ ูุฑุงุฎูุงู closure ูุฌูุฏ ุฏุงุฑุฏุ ูุงุจู ุฏุณุชุฑุณ ุงุณุช. ุงู ฺฉุฏ ฺฉุงููพุงู ุดุฏูุ ุงุฌุฑุง ูโุดูุฏ ู ูุชุฌู ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
     Locking 1 package to latest compatible version
      Adding closure-example v0.1.0 (/Users/chris/dev/rust-lang/book/tmp/listings/ch13-functional-features/listing-13-04)
   Compiling closure-example v0.1.0 (file:///projects/closure-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.43s
     Running `target/debug/closure-example`
Before defining closure: [1, 2, 3]
Before calling closure: [1, 2, 3]
From closure: [1, 2, 3]
After calling closure: [1, 2, 3]
</code></pre>
<p>ุฏุฑ ุงุฏุงููุ ุฏุฑ ูุณุชูฺฏ 13-5ุ ุจุฏูู closure ุฑุง ุชุบุฑ ูโุฏูู ุชุง ฺฉ ุนูุตุฑ ุจู ุจุฑุฏุงุฑ <code>list</code> ุงุถุงูู ฺฉูุฏ. closure ุงฺฉููู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ูโฺฏุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let mut list = vec![1, 2, 3];
    println!("Before defining closure: {list:?}");

    let mut borrows_mutably = || list.push(7);

    borrows_mutably();
    println!("After calling closure: {list:?}");
}</code></pre></pre>
<figcaption>Listing 13-5: ุชุนุฑู ู ูุฑุงุฎูุงู ฺฉ closure ฺฉู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ูโฺฏุฑุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ฺฉุงููพุงู ุดุฏูุ ุงุฌุฑุง ูโุดูุฏ ู ูุชุฌู ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
     Locking 1 package to latest compatible version
      Adding closure-example v0.1.0 (/Users/chris/dev/rust-lang/book/tmp/listings/ch13-functional-features/listing-13-05)
   Compiling closure-example v0.1.0 (file:///projects/closure-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.43s
     Running `target/debug/closure-example`
Before defining closure: [1, 2, 3]
After calling closure: [1, 2, 3, 7]
</code></pre>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏฺฏุฑ <code>println!</code> ุจู ุชุนุฑู ู ูุฑุงุฎูุงู closure <code>borrows_mutably</code> ูุฌูุฏ ูุฏุงุฑุฏ: ุฒูุงู ฺฉู <code>borrows_mutably</code> ุชุนุฑู ูโุดูุฏุ ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุจู <code>list</code> ูโฺฏุฑุฏ. ูุง ุจุนุฏ ุงุฒ ูุฑุงุฎูุงู closure ุฏูุจุงุฑู ุงุฒ ุขู ุงุณุชูุงุฏู ููโฺฉููุ ุจูุงุจุฑุงู ูุฑุถโฺฏุฑ ูุงุจู ุชุบุฑ ูพุงุงู ูโุงุจุฏ. ุจู ุชุนุฑู closure ู ูุฑุงุฎูุงู ุขูุ ูุฑุถโฺฏุฑ ุบุฑูุงุจู ุชุบุฑ ุจุฑุง ฺุงูพ ูุฌุงุฒ ูุณุชุ ุฒุฑุง ูฺ ูุฑุถ ุฏฺฏุฑ ููฺฏุงู ูุฌูุฏ ฺฉ ูุฑุถ ูุงุจู ุชุบุฑ ูุฌุงุฒ ูุณุช. ุณุน ฺฉูุฏ ฺฉ <code>println!</code> ุฏุฑ ุขูุฌุง ุงุถุงูู ฺฉูุฏ ุชุง ุจุจูุฏ ฺู ูพุงู ุฎุทุง ุฏุฑุงูุช ูโฺฉูุฏ!</p>
<p>ุงฺฏุฑ ุจุฎูุงูุฏ closure ุฑุง ูุฌุจูุฑ ฺฉูุฏ ฺฉู ูุงูฺฉุช ููุงุฏุฑ ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ูุญุท ุฑุง ุจฺฏุฑุฏุ ุญุช ุงฺฏุฑ ุจุฏูู closure ุจู ุทูุฑ ุฏูู ุจู ูุงูฺฉุช ูุงุฒ ูุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ุงุฒ ฺฉูุฏูุงฺู <code>move</code> ูุจู ุงุฒ ูุณุช ูพุงุฑุงูุชุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุงู ุชฺฉูฺฉ ุจุดุชุฑ ุฒูุงู ููุฏ ุงุณุช ฺฉู ฺฉ closure ุฑุง ุจู ฺฉ ูุฎ ุฌุฏุฏ ุงุฑุณุงู ูโฺฉูุฏ ุชุง ุฏุงุฏูโูุง ุจู ฺฏูููโุง ุงูุชูุงู ุฏุงุฏู ุดููุฏ ฺฉู ุชูุณุท ูุฎ ุฌุฏุฏ ูุงูฺฉุช ูพุฏุง ฺฉููุฏ. ูุง ููุถูุน ูุฎโูุง ู ุฏูุงู ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ ุฑุง ุจู ุชูุตู ุฏุฑ ูุตู 16 ุฒูุงู ฺฉู ุฏุฑ ููุฑุฏ ููโุฒูุงู ุตุญุจุช ูโฺฉููุ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุงูุง ุจุฑุง ุญุงูุงุ ุจุงุฏ ุจู ุตูุฑุช ูุฎุชุตุฑ ุงุฌุงุฏ ฺฉ ูุฎ ุฌุฏุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ closure ฺฉู ุจู ฺฉูุฏูุงฺู <code>move</code> ูุงุฒ ุฏุงุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูู. ูุณุชูฺฏ 13-6 ูุณุชูฺฏ 13-4 ุฑุง ุงุตูุงุญ ูโฺฉูุฏ ุชุง ุจุฑุฏุงุฑ ุฑุง ุฏุฑ ฺฉ ูุฎ ุฌุฏุฏ ฺุงูพ ฺฉูุฏ ุจู ุฌุง ุงูฺฉู ุฏุฑ ูุฎ ุงุตู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::thread;

fn main() {
    let list = vec![1, 2, 3];
    println!("Before defining closure: {list:?}");

    thread::spawn(move || println!("From thread: {list:?}"))
        .join()
        .unwrap();
}</code></pre></pre>
<figcaption>Listing 13-6: ุงุณุชูุงุฏู ุงุฒ <code>move</code> ุจุฑุง ูุฌุจูุฑ ฺฉุฑุฏู closure ุจู ฺฏุฑูุชู ูุงูฺฉุช <code>list</code> ุจุฑุง ูุฎ</figcaption>
</figure>
<p>ูุง ฺฉ ูุฎ ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูู ู ุจู ูุฎ ฺฉ closure ูโุฏูู ุชุง ุจู ุนููุงู ุขุฑฺฏููุงู ุงุฌุฑุง ุดูุฏ. ุจุฏูู closure ูุณุช ุฑุง ฺุงูพ ูโฺฉูุฏ. ุฏุฑ ูุณุชูฺฏ 13-4ุ closure ููุท ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ <code>list</code> ุฑุง ฺฏุฑูุช ุฒุฑุง ุงู ฺฉูุชุฑู ุฏุณุชุฑุณ ููุฑุฏ ูุงุฒ ุจุฑุง ฺุงูพ <code>list</code> ุจูุฏ. ุฏุฑ ุงู ูุซุงูุ ุงฺฏุฑฺู ุจุฏูู closure ูููุฒ ููุท ุจู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ูุงุฒ ุฏุงุฑุฏุ ุจุงุฏ ูุดุฎุต ฺฉูู ฺฉู <code>list</code> ุจุงุฏ ุจู ุฏุงุฎู closure ููุชูู ุดูุฏ. ุงู ฺฉุงุฑ ุฑุง ุจุง ูุฑุงุฑ ุฏุงุฏู ฺฉููู ฺฉูุฏ <code>move</code> ุฏุฑ ุงุจุชุฏุง ุชุนุฑู closure ุงูุฌุงู ูโุฏูู.</p>
<p>ูุฎ ุฌุฏุฏ ููฺฉู ุงุณุช ูุจู ุงุฒ ุชฺฉูู ูุฎ ุงุตู ุชูุงู ุดูุฏุ ุง ูุฎ ุงุตู ููฺฉู ุงุณุช ุฒูุฏุชุฑ ุชูุงู ุดูุฏ. ุงฺฏุฑ ูุฎ ุงุตู ูุงูฺฉุช <code>list</code> ุฑุง ุญูุธ ูโฺฉุฑุฏ ุงูุง ูุจู ุงุฒ ูุฎ ุฌุฏุฏ ุจู ูพุงุงู ูโุฑุณุฏ ู <code>list</code> ุฑุง ุญุฐู ูโฺฉุฑุฏุ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุฏุฑ ูุฎ ุฏฺฏุฑ ูุนุชุจุฑ ูุจูุฏ. ุจูุงุจุฑุงูุ ฺฉุงููพุงูุฑ ูุงุฒ ุฏุงุฑุฏ ฺฉู <code>list</code> ุจู ุฏุงุฎู closure ุฏุงุฏูโุดุฏู ุจู ูุฎ ุฌุฏุฏ ููุชูู ุดูุฏ ุชุง ุงุฑุฌุงุน ูุนุชุจุฑ ุจุงู ุจูุงูุฏ. ุณุน ฺฉูุฏ ฺฉููู ฺฉูุฏ <code>move</code> ุฑุง ุญุฐู ฺฉูุฏ ุง ุงุฒ <code>list</code> ุฏุฑ ูุฎ ุงุตู ูพุณ ุงุฒ ุชุนุฑู closure ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุจุจูุฏ ฺู ุฎุทุงูุง ฺฉุงููพุงูุฑ ุฏุฑุงูุช ูโฺฉูุฏ!</p>
<!-- ุนูุงูู ูุฏู. ุญุฐู ูฺฉูุฏ ุชุง ููฺฉโูุง ุฎุฑุงุจ ูุดููุฏ. -->
<p><a id="storing-closures-using-generic-parameters-and-the-fn-traits"></a>
<a id="limitations-of-the-cacher-implementation"></a>
<a id="moving-captured-values-out-of-the-closure-and-the-fn-traits"></a></p>
<h3 id="ุงูุชูุงู-ููุงุฏุฑ-ฺฏุฑูุชูุดุฏู-ุจู-ุฎุงุฑุฌ-ุงุฒ-closureูุง-ู-ุตูุงุช-fn"><a class="header" href="#ุงูุชูุงู-ููุงุฏุฑ-ฺฏุฑูุชูุดุฏู-ุจู-ุฎุงุฑุฌ-ุงุฒ-closureูุง-ู-ุตูุงุช-fn">ุงูุชูุงู ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุจู ุฎุงุฑุฌ ุงุฒ closureูุง ู ุตูุงุช <code>Fn</code></a></h3>
<p>ูพุณ ุงุฒ ุงูฺฉู ฺฉ closure ุงุฑุฌุงุน ุฑุง ฺฏุฑูุช ุง ูุงูฺฉุช ููุฏุงุฑ ุฑุง ุงุฒ ูุญุท ฺฉู closure ุฏุฑ ุขู ุชุนุฑู ุดุฏู ุงุณุช ุฏุฑุงูุช ฺฉุฑุฏ (ู ุจู ุงู ุชุฑุชุจ ุชุนู ฺฉุฑุฏ ฺู ฺุฒุ ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุจู <em>ุฏุงุฎู</em> closure ููุชูู ุดูุฏ)ุ ฺฉุฏ ุฏุฑ ุจุฏูู closure ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺู ุงุชูุงู ุจุฑุง ุงุฑุฌุงุนุงุช ุง ููุงุฏุฑ ููฺฏุงู ุงุฑุฒุงุจ closure ุฏุฑ ุขูุฏู ูโุงูุชุฏ (ู ุจู ุงู ุชุฑุชุจ ุชุนู ูโฺฉูุฏ ฺู ฺุฒุ ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุจู <em>ุฎุงุฑุฌ ุงุฒ</em> closure ููุชูู ุดูุฏ). ุจุฏูู ฺฉ closure ูโุชูุงูุฏ ูุฑ ฺฉ ุงุฒ ููุงุฑุฏ ุฒุฑ ุฑุง ุงูุฌุงู ุฏูุฏ:</p>
<ul dir="rtl">
  <li>ุงูุชูุงู ฺฉ ููุฏุงุฑ ฺฏุฑูุชูโุดุฏู ุจู ุฎุงุฑุฌ ุงุฒ closureุ</li>
  <li>ุชุบุฑ ููุฏุงุฑ ฺฏุฑูุชูโุดุฏูุ</li>
  <li>ูู ุงูุชูุงู ู ูู ุชุบุฑ ููุฏุงุฑุ</li>
  <li>ุง ุงุฒ ุงุจุชุฏุง ูฺ ฺุฒ ุงุฒ ูุญุท ูฺฏุฑูุชู.</li>
</ul>
<p>ูุญูู ฺฏุฑูุชู ู ูุฏุฑุช ููุงุฏุฑ ุชูุณุท closure ุงุฒ ูุญุท ูุดุฎุต ูโฺฉูุฏ ฺฉู closure ฺฉุฏุงู ุตูุงุช ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ุตูุงุช ุฑูุด ูุณุชูุฏ ฺฉู ุชูุงุจุน ู ุณุงุฎุชุงุฑูุง ูโุชูุงููุฏ ูุดุฎุต ฺฉููุฏ ุงุฒ ฺู ููุน closureูุง ูโุชูุงููุฏ ุงุณุชูุงุฏู ฺฉููุฏ. closureูุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ฺฉุ ุฏู ุง ูุฑ ุณู ุงู ุตูุงุช <code>Fn</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุจู ุตูุฑุช ุงูุฒุงุดุ ุจุณุชู ุจู ูุญูู ูุฏุฑุช ููุงุฏุฑ ุชูุณุท ุจุฏูู closure:</p>
<ol dir="rtl">
  <li>
    <code>FnOnce</code>: ุจุฑุง closureูุง ฺฉู ูโุชูุงููุฏ ููุท ฺฉ ุจุงุฑ ูุฑุงุฎูุงู ุดููุฏ ุงุนูุงู ูโุดูุฏ. ููู closureูุง ุญุฏุงูู ุงู ุตูุช ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุฒุฑุง ููู closureูุง ูุงุจู ูุฑุงุฎูุงู ูุณุชูุฏ. closure ฺฉู ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุฑุง ุงุฒ ุจุฏูู ุฎูุฏ ุงูุชูุงู ูโุฏูุฏ ููุท ุตูุช <code>FnOnce</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ูฺโฺฉ ุงุฒ ุฏฺฏุฑ ุตูุงุช <code>Fn</code> ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉูุฏุ ุฒุฑุง ููุท ฺฉ ุจุงุฑ ูุงุจู ูุฑุงุฎูุงู ุงุณุช.
  </li>
  <li>
    <code>FnMut</code>: ุจุฑุง closureูุง ฺฉู ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุฑุง ุงุฒ ุจุฏูู ุฎูุฏ ุงูุชูุงู ููโุฏููุฏ ุงูุง ููฺฉู ุงุณุช ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุฑุง ุชุบุฑ ุฏููุฏ ุงุนูุงู ูโุดูุฏ. ุงู closureูุง ูโุชูุงููุฏ ุจุด ุงุฒ ฺฉ ุจุงุฑ ูุฑุงุฎูุงู ุดููุฏ.
  </li>
  <li>
    <code>Fn</code>: ุจุฑุง closureูุง ฺฉู ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุฑุง ุงุฒ ุจุฏูู ุฎูุฏ ุงูุชูุงู ููโุฏููุฏ ู ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุฑุง ุชุบุฑ ููโุฏููุฏุ ููฺูู closureูุง ฺฉู ูฺ ฺุฒ ุงุฒ ูุญุท ููโฺฏุฑูุฏ ุงุนูุงู ูโุดูุฏ. ุงู closureูุง ูโุชูุงููุฏ ุจุด ุงุฒ ฺฉ ุจุงุฑ ุจุฏูู ุชุบุฑ ูุญุท ุฎูุฏ ูุฑุงุฎูุงู ุดููุฏุ ฺฉู ุฏุฑ ููุงุฑุฏ ูุงููุฏ ูุฑุงุฎูุงู ฺฉ closure ุจู ุทูุฑ ููุฒูุงู ฺูุฏู ุจุงุฑ ููู ุงุณุช.
  </li>
</ol>
<p>ุจุงุฏ ุชุนุฑู ูุชุฏ <code>unwrap_or_else</code> ุฏุฑ <code>Option&lt;T&gt;</code> ุฑุง ฺฉู ุฏุฑ ูุณุชูฺฏ 13-1 ุงุณุชูุงุฏู ฺฉุฑุฏู ุจุฑุฑุณ ฺฉูู:</p>
<pre><code class="language-rust ignore">impl&lt;T&gt; Option&lt;T&gt; {
    pub fn unwrap_or_else&lt;F&gt;(self, f: F) -&gt; T
    where
        F: FnOnce() -&gt; T
    {
        match self {
            Some(x) =&gt; x,
            None =&gt; f(),
        }
    }
}</code></pre>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู <code>T</code> ููุน ุฌูุฑฺฉ ุงุณุช ฺฉู ููุน ููุฏุงุฑ ููุฌูุฏ ุฏุฑ ูุงุฑุงูุช <code>Some</code> ุงุฒ <code>Option</code> ุฑุง ูุดุงู ูโุฏูุฏ. ุงู ููุน <code>T</code> ููฺูู ููุน ุจุงุฒฺฏุดุช ุชุงุจุน <code>unwrap_or_else</code> ุงุณุช: ุจู ุนููุงู ูุซุงูุ ฺฉุฏ ฺฉู <code>unwrap_or_else</code> ุฑุง ุฑู ฺฉ <code>Option&lt;String&gt;</code> ูุฑุงุฎูุงู ูโฺฉูุฏุ ฺฉ <code>String</code> ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุจุนุฏุ ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุงุจุน <code>unwrap_or_else</code> ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุงุถุงู <code>F</code> ุฑุง ุฏุงุฑุฏ. ููุน <code>F</code> ููุน ูพุงุฑุงูุชุฑ ูุงูโฺฏุฐุงุฑโุดุฏู <code>f</code> ุงุณุชุ ฺฉู closure ุงุณุช ฺฉู ููฺฏุงู ูุฑุงุฎูุงู <code>unwrap_or_else</code> ุงุฑุงุฆู ูโุฏูู.</p>
<p>ูุญุฏูุฏุช ุตูุช ูุดุฎุตโุดุฏู ุฑู ููุน ุฌูุฑฺฉ <code>F</code>ุ <code>FnOnce() -&gt; T</code> ุงุณุชุ ฺฉู ุจู ุงู ูุนูุงุณุช ฺฉู <code>F</code> ุจุงุฏ ุจุชูุงูุฏ ฺฉ ุจุงุฑ ูุฑุงุฎูุงู ุดูุฏุ ูฺ ุขุฑฺฏููุงู ูฺฏุฑุฏ ู ฺฉ <code>T</code> ุจุงุฒฺฏุฑุฏุงูุฏ. ุงุณุชูุงุฏู ุงุฒ <code>FnOnce</code> ุฏุฑ ูุญุฏูุฏุช ุตูุชุ ูุญุฏูุฏุช ุงู ููุถูุน ุฑุง ุจุงู ูโฺฉูุฏ ฺฉู <code>unwrap_or_else</code> ุญุฏุงฺฉุซุฑ ฺฉ ุจุงุฑ <code>f</code> ุฑุง ูุฑุงุฎูุงู ุฎูุงูุฏ ฺฉุฑุฏ. ุฏุฑ ุจุฏูู <code>unwrap_or_else</code>ุ ูโุจูู ฺฉู ุงฺฏุฑ <code>Option</code> ุจุฑุงุจุฑ ุจุง <code>Some</code> ุจุงุดุฏุ <code>f</code> ูุฑุงุฎูุงู ููโุดูุฏ. ุงฺฏุฑ <code>Option</code> ุจุฑุงุจุฑ ุจุง <code>None</code> ุจุงุดุฏุ <code>f</code> ฺฉ ุจุงุฑ ูุฑุงุฎูุงู ุฎูุงูุฏ ุดุฏ. ุงุฒ ุขูุฌุง ฺฉู ุชูุงู closureูุง <code>FnOnce</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ <code>unwrap_or_else</code> ููู ุงููุงุน ุณูโฺฏุงูู closureูุง ุฑุง ูโูพุฐุฑุฏ ู ุจู ุงูุฏุงุฒู ฺฉุงู ุงูุนุทุงูโูพุฐุฑ ุงุณุช.</p>
<blockquote>
<p>ูฺฉุชู: ุงฺฏุฑ ฺฉุงุฑ ฺฉู ูโุฎูุงูู ุงูุฌุงู ุฏูู ูุงุฒ ุจู ฺฏุฑูุชู ููุฏุงุฑ ุงุฒ ูุญุท ูุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูู ุจู ุฌุง closure ุงุฒ ูุงู ฺฉ ุชุงุจุน ุงุณุชูุงุฏู ฺฉูู. ุจู ุนููุงู ูุซุงูุ ูโุชูุงูู <code>unwrap_or_else(Vec::new)</code> ุฑุง ุฑู ฺฉ ููุฏุงุฑ <code>Option&lt;Vec&lt;T&gt;&gt;</code> ูุฑุงุฎูุงู ฺฉูู ุชุง ุงฺฏุฑ ููุฏุงุฑ <code>None</code> ุจูุฏุ ฺฉ ูฺฉุชูุฑ ุฌุฏุฏ ู ุฎุงู ุฏุฑุงูุช ฺฉูู. ฺฉุงููพุงูุฑ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุฑ ฺฉุฏุงู ุงุฒ ุตูุงุช <code>Fn</code> ฺฉู ุจุฑุง ุชุนุฑู ุชุงุจุน ฺฉุงุฑุจุฑุฏ ุฏุงุฑุฏ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</p>
</blockquote>
<p>ุงฺฉููู ุจุงุฏ ุจู ูุชุฏ ุงุณุชุงูุฏุงุฑุฏ ฺฉุชุงุจุฎุงูู <code>sort_by_key</code> ฺฉู ุฑู ุจุฑุดโูุง (slices) ุชุนุฑู ุดุฏู ุงุณุช ูฺฏุงู ุจูุฏุงุฒู ุชุง ุจุจูู ฺฺฏููู ุจุง <code>unwrap_or_else</code> ูุชูุงูุช ุงุณุช ู ฺุฑุง <code>sort_by_key</code> ุจู ุฌุง <code>FnOnce</code> ุงุฒ <code>FnMut</code> ุจุฑุง ูุญุฏูุฏุช ุตูุช ุงุณุชูุงุฏู ูโฺฉูุฏ. closure ฺฉ ุขุฑฺฏููุงู ุจู ุดฺฉู ฺฉ ุงุฑุฌุงุน ุจู ุขุชู ุฌุงุฑ ุฏุฑ ุจุฑุด ฺฉู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ ูโฺฏุฑุฏ ู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>K</code> ุฑุง ฺฉู ูุงุจู ูุฑุชุจโุณุงุฒ ุงุณุช ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุชุงุจุน ุฒูุงู ููุฏ ุงุณุช ฺฉู ุจุฎูุงูุฏ ฺฉ ุจุฑุด ุฑุง ุจุฑ ุงุณุงุณ ูฺฺฏ ุฎุงุต ุงุฒ ูุฑ ุขุชู ูุฑุชุจ ฺฉูุฏ. ุฏุฑ ูุณุช 13-7ุ ูุง ูุณุช ุงุฒ ูููููโูุง <code>Rectangle</code> ุฏุงุฑู ู ุงุฒ <code>sort_by_key</code> ุจุฑุง ูุฑุชุจ ฺฉุฑุฏู ุขูโูุง ุจุฑ ุงุณุงุณ ูฺฺฏ <code>width</code> ุงุฒ ฺฉู ุจู ุฒุงุฏ ุงุณุชูุงุฏู ูโฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let mut list = [
        Rectangle { width: 10, height: 1 },
        Rectangle { width: 3, height: 5 },
        Rectangle { width: 7, height: 12 },
    ];

    list.sort_by_key(|r| r.width);
    println!("{list:#?}");
}</code></pre></pre>
<figcaption>Listing 13-7: ุงุณุชูุงุฏู ุงุฒ <code>sort_by_key</code> ุจุฑุง ูุฑุชุจโุณุงุฒ ูุณุชุทูโูุง ุจุฑ ุงุณุงุณ ุนุฑุถ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling rectangles v0.1.0 (file:///projects/rectangles)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.41s
     Running `target/debug/rectangles`
[
    Rectangle {
        width: 3,
        height: 5,
    },
    Rectangle {
        width: 7,
        height: 12,
    },
    Rectangle {
        width: 10,
        height: 1,
    },
]
</code></pre>
<p>ุฏูู ุงูฺฉู <code>sort_by_key</code> ุจู ฺฏูููโุง ุชุนุฑู ุดุฏู ฺฉู ฺฉ closure <code>FnMut</code> ุจฺฏุฑุฏ ุงู ุงุณุช ฺฉู closure ุฑุง ฺูุฏู ุจุงุฑ ูุฑุงุฎูุงู ูโฺฉูุฏ: ฺฉ ุจุงุฑ ุจุฑุง ูุฑ ุขุชู ุฏุฑ ุจุฑุด. closure <code>|r| r.width</code> ฺุฒ ุฑุง ุงุฒ ูุญุท ุฎูุฏ ููโฺฏุฑุฏุ ุชุบุฑ ููโุฏูุฏ ุง ููุชูู ููโฺฉูุฏุ ุจูุงุจุฑุงู ุจุง ุงูุฒุงูุงุช ูุญุฏูุฏุช ุตูุช ูุทุงุจูุช ุฏุงุฑุฏ.</p>
<p>ุฏุฑ ููุงุจูุ ูุณุช 13-8 ูุซุงู ุงุฒ closure ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ููุท ุตูุช <code>FnOnce</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุฒุฑุง ููุฏุงุฑ ุฑุง ุงุฒ ูุญุท ููุชูู ูโฺฉูุฏ. ฺฉุงููพุงูุฑ ุงุฌุงุฒู ููโุฏูุฏ ุงุฒ ุงู closure ุจุง <code>sort_by_key</code> ุงุณุชูุงุฏู ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let mut list = [
        Rectangle { width: 10, height: 1 },
        Rectangle { width: 3, height: 5 },
        Rectangle { width: 7, height: 12 },
    ];

    let mut sort_operations = vec![];
    let value = String::from("closure called");

    list.sort_by_key(|r| {
        sort_operations.push(value);
        r.width
    });
    println!("{list:#?}");
}</code></pre>
<figcaption>Listing 13-8: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ closure <code>FnOnce</code> ุจุง <code>sort_by_key</code></figcaption>
</figure>
<p>ุงู ฺฉ ุฑูุด ูุตููุน ู ูพฺุฏู (ฺฉู ฺฉุงุฑ ููโฺฉูุฏ) ุจุฑุง ุชูุงุด ุฏุฑ ุดูุงุฑุด ุชุนุฏุงุฏ ุฏูุนุงุช ุงุณุช ฺฉู <code>sort_by_key</code> closure ุฑุง ููฺฏุงู ูุฑุชุจ ฺฉุฑุฏู <code>list</code> ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ฺฉุฏ ุณุน ูโฺฉูุฏ ุงู ุดูุงุฑุด ุฑุง ุจุง ุงูุฒูุฏู <code>value</code>โฺฉ <code>String</code> ุงุฒ ูุญุท closureโุจู ูฺฉุชูุฑ <code>sort_operations</code> ุงูุฌุงู ุฏูุฏ. closureุ <code>value</code> ุฑุง ูโฺฏุฑุฏ ู ุณูพุณ ุจุง ุงูุชูุงู ูุงูฺฉุช <code>value</code> ุจู ูฺฉุชูุฑ <code>sort_operations</code>ุ <code>value</code> ุฑุง ุงุฒ closure ููุชูู ูโฺฉูุฏ. ุงู closure ููุท ฺฉ ุจุงุฑ ูโุชูุงูุฏ ูุฑุงุฎูุงู ุดูุฏุ ุชูุงุด ุจุฑุง ูุฑุงุฎูุงู ุขู ุจุฑุง ุจุงุฑ ุฏูู ฺฉุงุฑ ููโฺฉูุฏ ุฒุฑุง <code>value</code> ุฏฺฏุฑ ุฏุฑ ูุญุท ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุฏูุจุงุฑู ุจู <code>sort_operations</code> ุงุถุงูู ุดูุฏ! ุจูุงุจุฑุงูุ ุงู closure ููุท ุตูุช <code>FnOnce</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ููุช ุณุน ูโฺฉูู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉููุ ุงู ุฎุทุง ุฏุฑุงูุช ูโุดูุฏ ฺฉู <code>value</code> ููโุชูุงูุฏ ุงุฒ closure ููุชูู ุดูุฏุ ุฒุฑุง closure ุจุงุฏ <code>FnMut</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling rectangles v0.1.0 (file:///projects/rectangles)
error[E0507]: cannot move out of `value`, a captured variable in an `FnMut` closure
  --&gt; src/main.rs:18:30
   |
15 |     let value = String::from("closure called");
   |         ----- captured outer variable
16 |
17 |     list.sort_by_key(|r| {
   |                      --- captured by this `FnMut` closure
18 |         sort_operations.push(value);
   |                              ^^^^^ move occurs because `value` has type `String`, which does not implement the `Copy` trait
   |
help: consider cloning the value if the performance cost is acceptable
   |
18 |         sort_operations.push(value.clone());
   |                                   ++++++++

For more information about this error, try `rustc --explain E0507`.
error: could not compile `rectangles` (bin "rectangles") due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ุจู ุฎุท ุฏุฑ ุจุฏูู closure ุงุดุงุฑู ูโฺฉูุฏ ฺฉู <code>value</code> ุฑุง ุงุฒ ูุญุท ููุชูู ูโฺฉูุฏ. ุจุฑุง ุฑูุน ุงู ูุดฺฉูุ ุจุงุฏ ุจุฏูู closure ุฑุง ุชุบุฑ ุฏูู ุชุง ููุงุฏุฑ ุฑุง ุงุฒ ูุญุท ููุชูู ูฺฉูุฏ. ุจุฑุง ุดูุงุฑุด ุชุนุฏุงุฏ ุฏูุนุงุช ฺฉู closure ูุฑุงุฎูุงู ูโุดูุฏุ ูฺฏู ุฏุงุดุชู ฺฉ ุดูุงุฑูุฏู ุฏุฑ ูุญุท ู ุงูุฒุงุด ููุฏุงุฑ ุขู ุฏุฑ ุจุฏูู closure ุฑูุด ุณุงุฏูโุชุฑ ุจุฑุง ูุญุงุณุจู ุขู ุงุณุช. closure ุฏุฑ ูุณุช 13-9 ุจุง <code>sort_by_key</code> ฺฉุงุฑ ูโฺฉูุฏ ุฒุฑุง ููุท ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุจู ุดูุงุฑูุฏู <code>num_sort_operations</code> ุฑุง ูโฺฏุฑุฏ ู ุจูุงุจุฑุงู ูโุชูุงูุฏ ุจุด ุงุฒ ฺฉ ุจุงุฑ ูุฑุงุฎูุงู ุดูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let mut list = [
        Rectangle { width: 10, height: 1 },
        Rectangle { width: 3, height: 5 },
        Rectangle { width: 7, height: 12 },
    ];

    let mut num_sort_operations = 0;
    list.sort_by_key(|r| {
        num_sort_operations += 1;
        r.width
    });
    println!("{list:#?}, sorted in {num_sort_operations} operations");
}</code></pre></pre>
<figcaption>Listing 13-9: ุงุณุชูุงุฏู ุงุฒ ฺฉ closure <code>FnMut</code> ุจุง <code>sort_by_key</code> ูุฌุงุฒ ุงุณุช</figcaption>
</figure>
<p>ุตูุงุช <code>Fn</code> ููฺฏุงู ุชุนุฑู ุง ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ุง ุงููุงุน ฺฉู ุงุฒ closureูุง ุงุณุชูุงุฏู ูโฺฉููุฏุ ููู ูุณุชูุฏ. ุฏุฑ ุจุฎุด ุจุนุฏุ ูุง ุฏุฑุจุงุฑู iteratorูุง ุจุญุซ ุฎูุงูู ฺฉุฑุฏ. ุจุณุงุฑ ุงุฒ ูุชุฏูุง iterator ุขุฑฺฏููุงูโูุง closure ูโฺฏุฑูุฏุ ุจูุงุจุฑุงู ุงู ุฌุฒุฆุงุช closure ุฑุง ููฺฏุงู ุงุฏุงูู ูุทุงูุนู ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูพุฑุฏุงุฒุด-ฺฉ-ุณุฑ-ุงุฒ-ุขุชููุง-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-iteratorูุง"><a class="header" href="#ูพุฑุฏุงุฒุด-ฺฉ-ุณุฑ-ุงุฒ-ุขุชููุง-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-iteratorูุง">ูพุฑุฏุงุฒุด ฺฉ ุณุฑ ุงุฒ ุขุชูโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ Iteratorูุง</a></h2>
<p>ุงูฺฏู iterator ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจู ุชุฑุชุจ ุฑู ฺฉ ุฏูุจุงูู ุงุฒ ุขุชูโูุง ฺฉุงุฑ ุงูุฌุงู ุฏูุฏ. ฺฉ iterator ูุณุฆูู ููุทู ูพูุงุด ูุฑ ุขุชู ู ุชุนู ุฒูุงู ูพุงุงู ุฏูุจุงูู ุงุณุช. ููุช ุงุฒ iteratorูุง ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ูุฌุฏุฏ ุขู ููุทู ูุฏุงุฑุฏ.</p>
<p>ุฏุฑ Rustุ iteratorูุง <em>ุชูุจู</em> ูุณุชูุฏุ ุจู ุงู ูุนู ฺฉู ุชุง ุฒูุงู ฺฉู ูุชุฏูุง ฺฉู iterator ุฑุง ูุตุฑู ูโฺฉููุฏ ูุฑุงุฎูุงู ูุดููุฏุ ูฺ ุงุซุฑ ูุฏุงุฑูุฏ. ุจู ุนููุงู ูุซุงูุ ฺฉุฏ ุฏุฑ ูุณุช 13-10 ฺฉ iterator ุฑุง ุจุฑ ุฑู ุขุชูโูุง ูฺฉุชูุฑ <code>v1</code> ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>iter</code> ฺฉู ุฑู <code>Vec&lt;T&gt;</code> ุชุนุฑู ุดุฏู ุงุณุชุ ุงุฌุงุฏ ูโฺฉูุฏ. ุงู ฺฉุฏ ุจู ุชููุง ูฺ ฺฉุงุฑ ููุฏ ุงูุฌุงู ููโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v1 = vec![1, 2, 3];

    let v1_iter = v1.iter();
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 13-10: ุงุฌุงุฏ ฺฉ iterator</figcaption>
</figure>
<p>ุงู iterator ุฏุฑ ูุชุบุฑ <code>v1_iter</code> ุฐุฎุฑู ุดุฏู ุงุณุช. ูพุณ ุงุฒ ุงุฌุงุฏ ฺฉ iteratorุ ูโุชูุงูู ุงุฒ ุขู ุจู ุฑูุดโูุง ูุฎุชูู ุงุณุชูุงุฏู ฺฉูู. ุฏุฑ ูุณุช 3-5 ุงุฒ ูุตู 3ุ ูุง ุฑู ฺฉ ุขุฑุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>for</code> ุชฺฉุฑุงุฑ ฺฉุฑุฏู ุชุง ฺฉุฏ ุฑุง ุฑู ูุฑ ฺฉ ุงุฒ ุขุชูโูุง ุขู ุงุฌุฑุง ฺฉูู. ุฏุฑ ูพุดุช ุตุญููุ ุงู ฺฉุงุฑ ุจู ุทูุฑ ุถูู ฺฉ iterator ุงุฌุงุฏ ู ุณูพุณ ูุตุฑู ูโฺฉุฑุฏุ ุงูุง ุชุง ฺฉููู ุฏููุงู ุชูุถุญ ูุฏุงุฏู ฺฉู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ูุซุงู ูุณุช 13-11ุ ูุง ุงุฌุงุฏ iterator ุฑุง ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุขู ุฏุฑ ุญููู <code>for</code> ุฌุฏุง ูโฺฉูู. ููุช ุญููู <code>for</code> ุจุง ุงุณุชูุงุฏู ุงุฒ iterator ุฏุฑ <code>v1_iter</code> ูุฑุงุฎูุงู ูโุดูุฏุ ูุฑ ุนูุตุฑ ุฏุฑ iterator ุฏุฑ ฺฉ ุชฺฉุฑุงุฑ ุงุฒ ุญููู ุงุณุชูุงุฏู ูโุดูุฏุ ฺฉู ูุฑ ููุฏุงุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v1 = vec![1, 2, 3];

    let v1_iter = v1.iter();

    for val in v1_iter {
        println!("Got: {val}");
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 13-11: ุงุณุชูุงุฏู ุงุฒ ฺฉ iterator ุฏุฑ ุญููู <code>for</code></figcaption>
</figure>
<p>ุฏุฑ ุฒุจุงูโูุง ฺฉู iteratorูุง ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุขูโูุง ุงุฑุงุฆู ููโุดููุฏุ ุงุญุชูุงูุงู ููู ุนููฺฉุฑุฏ ุฑุง ุจุง ุดุฑูุน ฺฉ ูุชุบุฑ ุฏุฑ ุดุงุฎุต 0ุ ุงุณุชูุงุฏู ุงุฒ ุขู ูุชุบุฑ ุจุฑุง ุดุงุฎุตโฺฏุฐุงุฑ ุฏุฑ ูฺฉุชูุฑ ุจุฑุง ุฏุฑุงูุช ฺฉ ููุฏุงุฑ ู ุงูุฒุงุด ููุฏุงุฑ ูุชุบุฑ ุฏุฑ ฺฉ ุญููู ุชุง ุฒูุงู ฺฉู ุจู ุชุนุฏุงุฏ ฺฉู ุขุชูโูุง ุฏุฑ ูฺฉุชูุฑ ุจุฑุณุฏุ ูโููุดุชุฏ.</p>
<p>iteratorูุง ุชูุงู ุงู ููุทู ุฑุง ุจุฑุง ุดูุง ูุฏุฑุช ูโฺฉููุฏ ู ฺฉุฏูุง ุชฺฉุฑุงุฑ ุฑุง ฺฉู ููฺฉู ุงุณุช ุงุดุชุจุงู ฺฉูุฏ ฺฉุงูุด ูโุฏููุฏ. iteratorูุง ุจู ุดูุง ุงูุนุทุงู ุจุดุชุฑ ูโุฏููุฏ ุชุง ุงุฒ ููุงู ููุทู ุจุง ุงููุงุน ูุฎุชูู ุฏูุจุงููโูุง ุงุณุชูุงุฏู ฺฉูุฏุ ูู ููุท ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ฺฉู ูโุชูุงู ุจู ุขูโูุง ุดุงุฎุต ุฒุฏุ ูุงููุฏ ูฺฉุชูุฑูุง. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู iteratorูุง ฺฺฏููู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏููุฏ.</p>
<h3 id="ุตูุช-iterator-ู-ูุชุฏ-next"><a class="header" href="#ุตูุช-iterator-ู-ูุชุฏ-next">ุตูุช <code>Iterator</code> ู ูุชุฏ <code>next</code></a></h3>
<p>ููู iteratorูุง ฺฉ ุตูุช ุจู ูุงู <code>Iterator</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ฺฉู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏู ุงุณุช. ุชุนุฑู ุงู ุตูุช ุจู ุตูุฑุช ุฒุฑ ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait Iterator {
    type Item;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;;

    // ูุชุฏูุง ุจุง ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุญุฐู ุดุฏูโุงูุฏ
}
<span class="boring">}</span></code></pre></pre>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุงู ุชุนุฑู ุงุฒ ฺฉ ูุญู ุฌุฏุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ: <code>type Item</code> ู <code>Self::Item</code>ุ ฺฉู ฺฉ <em>ููุน ูุฑุชุจุท</em> ุฑุง ุจุง ุงู ุตูุช ุชุนุฑู ูโฺฉููุฏ. ูุง ุฏุฑ ูุตู 20 ุจู ุทูุฑ ููุตู ุฏุฑุจุงุฑู ุงููุงุน ูุฑุชุจุท ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ููุท ุจุงุฏ ุจุฏุงูุฏ ฺฉู ุงู ฺฉุฏ ูโฺฏูุฏ ูพุงุฏูโุณุงุฒ ุตูุช <code>Iterator</code> ูุงุฒ ุฏุงุฑุฏ ฺฉู ุดูุง ฺฉ ููุน <code>Item</code> ูุฒ ุชุนุฑู ฺฉูุฏุ ู ุงู ููุน <code>Item</code> ุฏุฑ ููุน ุจุงุฒฺฏุดุช ูุชุฏ <code>next</code> ุงุณุชูุงุฏู ูโุดูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ููุน <code>Item</code> ููุงู ููุน ุฎูุงูุฏ ุจูุฏ ฺฉู ุงุฒ iterator ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.</p>
<p>ุตูุช <code>Iterator</code> ููุท ุงุฒ ูพุงุฏูโฺฉููุฏฺฏุงู ูโุฎูุงูุฏ ฺฉ ูุชุฏ ุฑุง ุชุนุฑู ฺฉููุฏ: ูุชุฏ <code>next</code>ุ ฺฉู ฺฉ ุขุชู ุงุฒ iterator ุฑุง ุฏุฑ ูุฑ ุฒูุงู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ฺฉู ุฏุฑ <code>Some</code> ุจุณุชูโุจูุฏ ุดุฏู ุงุณุชุ ู ููุช ูพูุงุด ุชูุงู ุดุฏุ <code>None</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุง ูโุชูุงูู ูุณุชููุงู ูุชุฏ <code>next</code> ุฑุง ุฑู iteratorูุง ูุฑุงุฎูุงู ฺฉููุ ูุณุช 13-12 ูุดุงู ูโุฏูุฏ ฺู ููุงุฏุฑ ุงุฒ ูุฑุงุฎูุงูโูุง ูฺฉุฑุฑ <code>next</code> ุฑู iterator ุงุฌุงุฏุดุฏู ุงุฒ ูฺฉุชูุฑ ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span>    #[test]
    fn iterator_demonstration() {
        let v1 = vec![1, 2, 3];

        let mut v1_iter = v1.iter();

        assert_eq!(v1_iter.next(), Some(&amp;1));
        assert_eq!(v1_iter.next(), Some(&amp;2));
        assert_eq!(v1_iter.next(), Some(&amp;3));
        assert_eq!(v1_iter.next(), None);
    }
<span class="boring">}</span></code></pre>
<figcaption>Listing 13-12: ูุฑุงุฎูุงู ูุชุฏ <code>next</code> ุฑู ฺฉ iterator</figcaption>
</figure>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ูุง ูุงุฒ ุฏุงุดุชู <code>v1_iter</code> ุฑุง ูุงุจู ุชุบุฑ (mutable) ฺฉูู: ูุฑุงุฎูุงู ูุชุฏ <code>next</code> ุฑู ฺฉ iteratorุ ูุถุนุช ุฏุงุฎู ุฑุง ุชุบุฑ ูโุฏูุฏ ฺฉู iterator ุงุฒ ุขู ุจุฑุง ุฑุฏุงุจ ูููุนุช ุฎูุฏ ุฏุฑ ุฏูุจุงูู ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุงู ฺฉุฏ iterator ุฑุง <em>ูุตุฑู</em> ูโฺฉูุฏ ุง ุงุฒ ุจู ูโุจุฑุฏ. ูุฑ ูุฑุงุฎูุงู ุจู <code>next</code> ฺฉ ุขุชู ุงุฒ iterator ุฑุง ูุตุฑู ูโฺฉูุฏ. ูุงุฒ ูุจูุฏ <code>v1_iter</code> ุฑุง ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>for</code> ูุงุจู ุชุบุฑ ฺฉููุ ุฒุฑุง ุญููู ูุงูฺฉุช <code>v1_iter</code> ุฑุง ุจู ุนูุฏู ฺฏุฑูุช ู ุจู ุทูุฑ ูพููุงู ุขู ุฑุง ูุงุจู ุชุบุฑ ฺฉุฑุฏ.</p>
<p>ููฺูู ุชูุฌู ฺฉูุฏ ฺฉู ููุงุฏุฑ ฺฉู ุงุฒ ูุฑุงุฎูุงูโูุง <code>next</code> ุฏุฑุงูุช ูโฺฉููุ ุงุฑุฌุงุนุงุช ุบุฑูุงุจู ุชุบุฑ ุจู ููุงุฏุฑ ููุฌูุฏ ุฏุฑ ูฺฉุชูุฑ ูุณุชูุฏ. ูุชุฏ <code>iter</code> ฺฉ iterator ุฑู ุงุฑุฌุงุนุงุช ุบุฑูุงุจู ุชุบุฑ ุชููุฏ ูโฺฉูุฏ. ุงฺฏุฑ ุจุฎูุงูู ฺฉ iterator ุงุฌุงุฏ ฺฉูู ฺฉู ูุงูฺฉุช <code>v1</code> ุฑุง ุจฺฏุฑุฏ ู ููุงุฏุฑ ูุงูฺฉโุดุฏู ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ูโุชูุงูู ุจู ุฌุง <code>iter</code>ุ <code>into_iter</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ุจู ููู ุชุฑุชุจุ ุงฺฏุฑ ุจุฎูุงูู ุฑู ุงุฑุฌุงุนุงุช ูุงุจู ุชุบุฑ ูพูุงุด ฺฉููุ ูโุชูุงูู ุจู ุฌุง <code>iter</code>ุ <code>iter_mut</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู.</p>
<h3 id="ูุชุฏูุง-ฺฉู-iterator-ุฑุง-ูุตุฑู-ูฺฉููุฏ"><a class="header" href="#ูุชุฏูุง-ฺฉู-iterator-ุฑุง-ูุตุฑู-ูฺฉููุฏ">ูุชุฏูุง ฺฉู Iterator ุฑุง ูุตุฑู ูโฺฉููุฏ</a></h3>
<p>ุตูุช <code>Iterator</code> ุชุนุฏุงุฏ ุฒุงุฏ ูุชุฏ ูุฎุชูู ุจุง ูพุงุฏูโุณุงุฒโูุง ูพุดโูุฑุถ ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฏุงุฑุฏุ ูโุชูุงูุฏ ุฏุฑุจุงุฑู ุงู ูุชุฏูุง ุจุง ูฺฏุงู ฺฉุฑุฏู ุจู ูุณุชูุฏุงุช API ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุตูุช <code>Iterator</code> ุงุทูุงุนุงุช ุจุดุชุฑ ฺฉุณุจ ฺฉูุฏ. ุจุฑุฎ ุงุฒ ุงู ูุชุฏูุง ุฏุฑ ุชุนุฑู ุฎูุฏ ูุชุฏ <code>next</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุฏุ ุจู ููู ุฏูู ุงุณุช ฺฉู ุดูุง ุจุงุฏ ูุชุฏ <code>next</code> ุฑุง ููฺฏุงู ูพุงุฏูโุณุงุฒ ุตูุช <code>Iterator</code> ุชุนุฑู ฺฉูุฏ.</p>
<p>ูุชุฏูุง ฺฉู <code>next</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุฏุ <em>ุชุทุจูโุฏููุฏูโูุง ูุตุฑู</em> ูุงูุฏู ูโุดููุฏุ ุฒุฑุง ูุฑุงุฎูุงู ุขูโูุง iterator ุฑุง ูุตุฑู ูโฺฉูุฏ. ฺฉ ูุซุงูุ ูุชุฏ <code>sum</code> ุงุณุช ฺฉู ูุงูฺฉุช iterator ุฑุง ุจู ุนูุฏู ูโฺฏุฑุฏ ู ุจุง ูุฑุงุฎูุงู ูฺฉุฑุฑ <code>next</code>ุ ุงุฒ ูุงู ุขุชูโูุง ุนุจูุฑ ูโฺฉูุฏุ ุจูุงุจุฑุงู iterator ุฑุง ูุตุฑู ูโฺฉูุฏ. ููฺฏุงู ุนุจูุฑุ ูุฑ ุขุชู ุฑุง ุจู ฺฉ ูุฌููุน ุฏุฑ ุญุงู ุงุฌุฑุง ุงุถุงูู ูโฺฉูุฏ ู ููุช ูพูุงุด ฺฉุงูู ุดุฏุ ูุฌููุน ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุณุช 13-13 ฺฉ ุชุณุช ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>sum</code> ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span>    #[test]
    fn iterator_sum() {
        let v1 = vec![1, 2, 3];

        let v1_iter = v1.iter();

        let total: i32 = v1_iter.sum();

        assert_eq!(total, 6);
    }
<span class="boring">}</span></code></pre>
<figcaption>Listing 13-13: ูุฑุงุฎูุงู ูุชุฏ <code>sum</code> ุจุฑุง ฺฏุฑูุชู ูุฌููุน ููู ุขุชูโูุง ุฏุฑ iterator</figcaption>
</figure>
<p>ูุง ุงุฌุงุฒู ูุฏุงุฑู ูพุณ ุงุฒ ูุฑุงุฎูุงู ูุชุฏ <code>sum</code> ุงุฒ <code>v1_iter</code> ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง <code>sum</code> ูุงูฺฉุช iterator ฺฉู ุฑู ุขู ูุฑุงุฎูุงู ูโุดูุฏ ุฑุง ุจู ุนูุฏู ูโฺฏุฑุฏ.</p>
<h3 id="ูุชุฏูุง-ฺฉู-iteratorูุง-ุฏฺฏุฑ-ุชููุฏ-ูฺฉููุฏ"><a class="header" href="#ูุชุฏูุง-ฺฉู-iteratorูุง-ุฏฺฏุฑ-ุชููุฏ-ูฺฉููุฏ">ูุชุฏูุง ฺฉู Iteratorูุง ุฏฺฏุฑ ุชููุฏ ูโฺฉููุฏ</a></h3>
<p><em>ุชุทุจูโุฏููุฏูโูุง Iterator</em> ูุชุฏูุง ูุณุชูุฏ ฺฉู ุฑู ุตูุช <code>Iterator</code> ุชุนุฑู ุดุฏูโุงูุฏ ู iterator ุฑุง ูุตุฑู ููโฺฉููุฏ. ุฏุฑ ุนูุถุ ุขูโูุง ุจุง ุชุบุฑ ุจุฑุฎ ุฌูุจูโูุง iterator ุงุตูุ iteratorูุง ูุชูุงูุช ุชููุฏ ูโฺฉููุฏ.</p>
<p>ูุณุช 13-14 ูุซุงู ุงุฒ ูุฑุงุฎูุงู ูุชุฏ ุชุทุจูโุฏููุฏู iterator ุจู ูุงู <code>map</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ closure ุฑุง ุจุฑุง ูุฑุงุฎูุงู ุฑู ูุฑ ุขุชู ููฺฏุงู ูพูุงุด ุงุฒ ูุงู ุขุชูโูุง ูโฺฏุฑุฏ. ูุชุฏ <code>map</code> ฺฉ iterator ุฌุฏุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุขุชูโูุง ุชุบุฑ ุงูุชู ุฑุง ุชููุฏ ูโฺฉูุฏ. closure ุฏุฑ ุงูุฌุง ฺฉ iterator ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุฏุฑ ุขู ูุฑ ุขุชู ุงุฒ ูฺฉุชูุฑ ฑ ูุงุญุฏ ุงูุฒุงุด ูโุงุจุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust not_desired_behavior edition2021"><span class="boring">fn main() {
</span>    let v1: Vec&lt;i32&gt; = vec![1, 2, 3];

    v1.iter().map(|x| x + 1);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 13-14: ูุฑุงุฎูุงู ุชุทุจูโุฏููุฏู iterator <code>map</code> ุจุฑุง ุงุฌุงุฏ ฺฉ iterator ุฌุฏุฏ</figcaption>
</figure>
<p>ุจุง ุงู ุญุงูุ ุงู ฺฉุฏ ฺฉ ูุดุฏุงุฑ ุชููุฏ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling iterators v0.1.0 (file:///projects/iterators)
warning: unused `Map` that must be used
 --&gt; src/main.rs:4:5
  |
4 |     v1.iter().map(|x| x + 1);
  |     ^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: iterators are lazy and do nothing unless consumed
  = note: `#[warn(unused_must_use)]` on by default
help: use `let _ = ...` to ignore the resulting value
  |
4 |     let _ = v1.iter().map(|x| x + 1);
  |     +++++++

warning: `iterators` (bin "iterators") generated 1 warning
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.47s
     Running `target/debug/iterators`
</code></pre>
<p>ฺฉุฏ ุฏุฑ ูุณุช 13-14 ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏูุฏุ closure ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงู ูุฑฺฏุฒ ูุฑุงุฎูุงู ููโุดูุฏ. ุงู ูุดุฏุงุฑ ุจู ูุง ุงุฏุขูุฑ ูโฺฉูุฏ ฺุฑุง: ุชุทุจูโุฏููุฏูโูุง iterator ุชูุจู ูุณุชูุฏ ู ูุง ุจุงุฏ iterator ุฑุง ุฏุฑ ุงูุฌุง ูุตุฑู ฺฉูู.</p>
<p>ุจุฑุง ุฑูุน ุงู ูุดุฏุงุฑ ู ูุตุฑู iteratorุ ุงุฒ ูุชุฏ <code>collect</code> ุงุณุชูุงุฏู ูโฺฉููุ ฺฉู ุฏุฑ ูุตู 12 ุจุง <code>env::args</code> ุฏุฑ ูุณุช 12-1 ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงู ูุชุฏ iterator ุฑุง ูุตุฑู ฺฉุฑุฏู ู ููุงุฏุฑ ุญุงุตู ุฑุง ุฏุฑ ฺฉ ููุน ุฏุงุฏู ูุฌููุนู ุฌูุนโุขูุฑ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ูุณุช 13-15ุ ูุชุงุฌ ูพูุงุด ุจุฑ ุฑู iterator ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุงุฒ ูุฑุงุฎูุงู <code>map</code> ุฑุง ุฏุฑ ฺฉ ูฺฉุชูุฑ ุฌูุนโุขูุฑ ูโฺฉูู. ุงู ูฺฉุชูุฑ ุฏุฑ ููุงุช ุดุงูู ูุฑ ุขุชู ุงุฒ ูฺฉุชูุฑ ุงุตู ุจุง ุงูุฒุงุด ฑ ูุงุญุฏ ุฎูุงูุฏ ุจูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v1: Vec&lt;i32&gt; = vec![1, 2, 3];

    let v2: Vec&lt;_&gt; = v1.iter().map(|x| x + 1).collect();

    assert_eq!(v2, vec![2, 3, 4]);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 13-15: ูุฑุงุฎูุงู ูุชุฏ <code>map</code> ุจุฑุง ุงุฌุงุฏ ฺฉ iterator ุฌุฏุฏ ู ุณูพุณ ูุฑุงุฎูุงู ูุชุฏ <code>collect</code> ุจุฑุง ูุตุฑู iterator ุฌุฏุฏ ู ุงุฌุงุฏ ฺฉ ูฺฉุชูุฑ</figcaption>
</figure>
<p>ุงุฒ ุขูุฌุง ฺฉู <code>map</code> ฺฉ closure ูโฺฏุฑุฏุ ูโุชูุงูู ูุฑ ุนููุงุช ุฑุง ฺฉู ูโุฎูุงูู ุฑู ูุฑ ุขุชู ุงูุฌุงู ุฏูู ูุดุฎุต ฺฉูู. ุงู ูุซุงู ุจุณุงุฑ ุฎูุจ ุงุณุช ุงุฒ ุงูฺฉู ฺฺฏููู closureูุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุชุง ุจุฑุฎ ุฑูุชุงุฑูุง ุฑุง ุณูุงุฑุด ฺฉูุฏ ุฏุฑ ุญุงู ฺฉู ุงุฒ ุฑูุชุงุฑ ูพูุงุด ฺฉู ุตูุช <code>Iterator</code> ูุฑุงูู ูโฺฉูุฏ ุงุณุชูุงุฏู ูุฌุฏุฏ ูโฺฉูุฏ.</p>
<p>ูโุชูุงูุฏ ฺูุฏู ูุฑุงุฎูุงู ุจู ุชุทุจูโุฏููุฏูโูุง iterator ุฑุง ุฒูุฌุฑู ฺฉูุฏ ุชุง ุงูุฏุงูุงุช ูพฺุฏูโุง ุฑุง ุจู ุดฺฉู ุฎูุงูุง ุงูุฌุงู ุฏูุฏ. ุงูุง ุงุฒ ุขูุฌุง ฺฉู ููู iteratorูุง ุชูุจู ูุณุชูุฏุ ุจุงุฏ ฺฉ ุงุฒ ูุชุฏูุง ุชุทุจูโุฏููุฏู ูุตุฑู ุฑุง ุจุฑุง ฺฏุฑูุชู ูุชุงุฌ ุงุฒ ูุฑุงุฎูุงู ุชุทุจูโุฏููุฏูโูุง iterator ูุฑุงุฎูุงู ฺฉูุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-closureูุง-ฺฉู-ูุญุท-ุฎูุฏ-ุฑุง-ูฺฏุฑูุฏ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-closureูุง-ฺฉู-ูุญุท-ุฎูุฏ-ุฑุง-ูฺฏุฑูุฏ">ุงุณุชูุงุฏู ุงุฒ closureูุง ฺฉู ูุญุท ุฎูุฏ ุฑุง ูโฺฏุฑูุฏ</a></h3>
<p>ุจุณุงุฑ ุงุฒ ุชุทุจูโุฏููุฏูโูุง iterator closureูุง ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ูโูพุฐุฑูุฏุ ู ูุนูููุงู closureูุง ฺฉู ุจู ุนููุงู ุขุฑฺฏููุงู ุจู ุชุทุจูโุฏููุฏูโูุง iterator ูุดุฎุต ูโฺฉูู closureูุง ูุณุชูุฏ ฺฉู ูุญุท ุฎูุฏ ุฑุง ูโฺฏุฑูุฏ.</p>
<p>ุจุฑุง ุงู ูุซุงูุ ุงุฒ ูุชุฏ <code>filter</code> ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฉ closure ูโฺฏุฑุฏ. closure ฺฉ ุขุชู ุงุฒ iterator ุฏุฑุงูุช ฺฉุฑุฏู ู ฺฉ ููุฏุงุฑ <code>bool</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ closure ููุฏุงุฑ <code>true</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ููุฏุงุฑ ุฏุฑ ูพูุงุด ุชููุฏ ุดุฏู ุชูุณุท <code>filter</code> ฺฏูุฌุงูุฏู ูโุดูุฏ. ุงฺฏุฑ closure ููุฏุงุฑ <code>false</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ููุฏุงุฑ ฺฏูุฌุงูุฏู ูุฎูุงูุฏ ุดุฏ.</p>
<p>ุฏุฑ ูุณุช 13-16ุ ุงุฒ <code>filter</code> ุจุง ฺฉ closure ฺฉู ูุชุบุฑ <code>shoe_size</code> ุฑุง ุงุฒ ูุญุท ุฎูุฏ ูโฺฏุฑุฏ ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุฑู ูุฌููุนูโุง ุงุฒ ูููููโูุง ุณุงุฎุชุงุฑ <code>Shoe</code> ูพูุงุด ฺฉูู. ุงู ูุชุฏ ููุท ฺฉูุดโูุง ุฑุง ฺฉู ุงูุฏุงุฒู ูุดุฎุต ุดุฏู ุฏุงุฑูุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">#[derive(PartialEq, Debug)]
struct Shoe {
    size: u32,
    style: String,
}

fn shoes_in_size(shoes: Vec&lt;Shoe&gt;, shoe_size: u32) -&gt; Vec&lt;Shoe&gt; {
    shoes.into_iter().filter(|s| s.size == shoe_size).collect()
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn filters_by_size() {
        let shoes = vec![
            Shoe {
                size: 10,
                style: String::from("sneaker"),
            },
            Shoe {
                size: 13,
                style: String::from("sandal"),
            },
            Shoe {
                size: 10,
                style: String::from("boot"),
            },
        ];

        let in_my_size = shoes_in_size(shoes, 10);

        assert_eq!(
            in_my_size,
            vec![
                Shoe {
                    size: 10,
                    style: String::from("sneaker")
                },
                Shoe {
                    size: 10,
                    style: String::from("boot")
                },
            ]
        );
    }
}</code></pre>
<figcaption>Listing 13-16: ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>filter</code> ุจุง ฺฉ closure ฺฉู <code>shoe_size</code> ุฑุง ูโฺฏุฑุฏ</figcaption>
</figure>
<p>ุชุงุจุน <code>shoes_in_size</code> ูุงูฺฉุช ฺฉ ูฺฉุชูุฑ ุงุฒ ฺฉูุดโูุง ู ฺฉ ุงูุฏุงุฒู ฺฉูุด ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ. ุงู ุชุงุจุน ฺฉ ูฺฉุชูุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ููุท ุดุงูู ฺฉูุดโูุง ุจุง ุงูุฏุงุฒู ูุดุฎุต ุดุฏู ุงุณุช.</p>
<p>ุฏุฑ ุจุฏูู <code>shoes_in_size</code>ุ ูุง <code>into_iter</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ฺฉ iterator ุงุฌุงุฏ ฺฉูู ฺฉู ูุงูฺฉุช ูฺฉุชูุฑ ุฑุง ูโฺฏุฑุฏ. ุณูพุณ <code>filter</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ุขู iterator ุฑุง ุจู ฺฉ iterator ุฌุฏุฏ ุชุจุฏู ฺฉูู ฺฉู ููุท ุดุงูู ุนูุงุตุฑ ุงุณุช ฺฉู closure ุจุฑุง ุขูโูุง ููุฏุงุฑ <code>true</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>closure ูพุงุฑุงูุชุฑ <code>shoe_size</code> ุฑุง ุงุฒ ูุญุท ูโฺฏุฑุฏ ู ููุฏุงุฑ ุขู ุฑุง ุจุง ุงูุฏุงุฒู ูุฑ ฺฉูุด ููุงุณู ูโฺฉูุฏ ู ููุท ฺฉูุดโูุง ุจุง ุงูุฏุงุฒู ูุดุฎุต ุดุฏู ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุฏุฑ ููุงุชุ ุจุง ูุฑุงุฎูุงู <code>collect</code> ููุงุฏุฑ ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชูุณุท iterator ุชุทุจูโุงูุชู ุฏุฑ ฺฉ ูฺฉุชูุฑ ุฌูุนโุขูุฑ ูโุดููุฏ ฺฉู ุชูุณุท ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.</p>
<p>ุชุณุช ูุดุงู ูโุฏูุฏ ฺฉู ููุช <code>shoes_in_size</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ููุท ฺฉูุดโูุง ุฑุง ุฏุฑุงูุช ูโฺฉูู ฺฉู ุงูุฏุงุฒู ุขูโูุง ุจุง ููุฏุงุฑ ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงู ฺฉุณุงู ุงุณุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุจูุจูุฏ-ูพุฑูฺู-io"><a class="header" href="#ุจูุจูุฏ-ูพุฑูฺู-io">ุจูุจูุฏ ูพุฑูฺู I/O</a></h2>
<p>ุจุง ุงู ุฏุงูุด ุฌุฏุฏ ุฏุฑุจุงุฑู iteratorูุงุ ูโุชูุงูู ูพุฑูฺู I/O ุฏุฑ ูุตู ฑฒ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ iteratorูุง ุจูุจูุฏ ุจุฎุดู ุชุง ุจุฎุดโูุง ุงุฒ ฺฉุฏ ูุงุถุญโุชุฑ ู ูุฎุชุตุฑุชุฑ ุดููุฏ. ุจุงุฏ ุจุจูู ฺฺฏููู iteratorูุง ูโุชูุงููุฏ ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>Config::build</code> ู ุชุงุจุน <code>search</code> ุฑุง ุจูุจูุฏ ุฏููุฏ.</p>
<h3 id="ุญุฐู-ฺฉ-clone-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ฺฉ-iterator"><a class="header" href="#ุญุฐู-ฺฉ-clone-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ฺฉ-iterator">ุญุฐู ฺฉ <code>clone</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ Iterator</a></h3>
<p>ุฏุฑ ูุณุช 12-6ุ ฺฉุฏ ุงุถุงูู ฺฉุฑุฏู ฺฉู ฺฉ ุจุฑุด ุงุฒ ููุงุฏุฑ <code>String</code> ุฑุง ฺฏุฑูุชู ู ฺฉ ููููู ุงุฒ ุณุงุฎุชุงุฑ <code>Config</code> ุงุฌุงุฏ ูโฺฉุฑุฏ. ุงู ฺฉุงุฑ ุจุง ุดุงุฎุตโฺฏุฐุงุฑ ุฏุฑ ุจุฑุด ู ฺฉููู ฺฉุฑุฏู ููุงุฏุฑ ุงูุฌุงู ุดุฏ ุชุง ุณุงุฎุชุงุฑ <code>Config</code> ูุงูฺฉ ุขู ููุงุฏุฑ ุดูุฏ. ุฏุฑ ูุณุช 13-17ุ ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>Config::build</code> ุฑุง ููุงูุทูุฑ ฺฉู ุฏุฑ ูุณุช 12-23 ุจูุฏ ุจุงุฒุชููุฏ ฺฉุฑุฏูโุงู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">    pub ignore_case: bool,
</span><span class="boring">}
</span><span class="boring">
</span>impl Config {
    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
        if args.len() &lt; 3 {
            return Err("not enough arguments");
        }

        let query = args[1].clone();
        let file_path = args[2].clone();

        let ignore_case = env::var("IGNORE_CASE").is_ok();

        Ok(Config {
            query,
            file_path,
            ignore_case,
        })
    }
}
<span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    let results = if config.ignore_case {
</span><span class="boring">        search_case_insensitive(&amp;config.query, &amp;contents)
</span><span class="boring">    } else {
</span><span class="boring">        search(&amp;config.query, &amp;contents)
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    for line in results {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 13-17: ุจุงุฒุชููุฏ ุชุงุจุน <code>Config::build</code> ุงุฒ ูุณุช 12-23</figcaption>
</figure>
<p>ุฏุฑ ุขู ุฒูุงู ฺฏูุชู ฺฉู ูฺฏุฑุงู ุชูุงุณโูุง ูุงฺฉุงุฑุขูุฏ <code>clone</code> ูุจุงุดุฏ ุฒุฑุง ุฏุฑ ุขูุฏู ุขูโูุง ุฑุง ุญุฐู ุฎูุงูู ฺฉุฑุฏ. ุฎุจุ ุงฺฉููู ุฒูุงู ุขู ูุฑุง ุฑุณุฏู ุงุณุช!</p>
<p>ูุง ุฏุฑ ุงูุฌุง ุจู <code>clone</code> ูุงุฒ ุฏุงุดุชู ุฒุฑุง ุฏุฑ ูพุงุฑุงูุชุฑ <code>args</code> ฺฉ ุจุฑุด ุจุง ุนูุงุตุฑ <code>String</code> ุฏุงุฑูุ ุงูุง ุชุงุจุน <code>build</code> ูุงูฺฉ <code>args</code> ูุณุช. ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ูุงูฺฉุช ฺฉ ููููู <code>Config</code>ุ ูุฌุจูุฑ ุจูุฏู ููุงุฏุฑ ููุฏูุง <code>query</code> ู <code>file_path</code> ุฑุง ุงุฒ <code>Config</code> ฺฉููู ฺฉูู ุชุง ููููู <code>Config</code> ุจุชูุงูุฏ ูุงูฺฉ ููุงุฏุฑุด ุจุงุดุฏ.</p>
<p>ุจุง ุฏุงูุด ุฌุฏุฏูุงู ุฏุฑุจุงุฑู iteratorูุงุ ูโุชูุงูู ุชุงุจุน <code>build</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ูุงูฺฉุช ฺฉ iterator ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุฎูุฏ ุจฺฏุฑุฏุ ุจู ุฌุง ุงูฺฉู ฺฉ ุจุฑุด ุฑุง ูุฑุถ ุจฺฏุฑุฏ. ูุง ุงุฒ ูุงุจูุชโูุง iterator ุจู ุฌุง ฺฉุฏ ฺฉู ุทูู ุจุฑุด ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ุจู ูฺฉุงูโูุง ุฎุงุต ุดุงุฎุต ูโุฒูุฏุ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ. ุงู ฺฉุงุฑ ูุดุฎุต ูโฺฉูุฏ ฺฉู ุชุงุจุน <code>Config::build</code> ฺู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ ุฒุฑุง iterator ุจู ููุงุฏุฑ ุฏุณุชุฑุณ ูพุฏุง ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุฒูุงู ฺฉู <code>Config::build</code> ูุงูฺฉุช iterator ุฑุง ุจู ุฏุณุช ุขูุฑุฏ ู ุงุณุชูุงุฏู ุงุฒ ุนููุงุช ุดุงุฎุตโฺฏุฐุงุฑ ฺฉู ูุฑุถ ูโฺฏุฑูุฏ ุฑุง ูุชููู ฺฉุฑุฏุ ูโุชูุงูู ููุงุฏุฑ <code>String</code> ุฑุง ุงุฒ iterator ุจู <code>Config</code> ููุชูู ฺฉูู ุจู ุฌุง ุงูฺฉู <code>clone</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู ู ุชุฎุตุต ุฌุฏุฏ ุงุฌุงุฏ ฺฉูู.</p>
<h4 id="ุงุณุชูุงุฏู-ูุณุชูู-ุงุฒ-iterator-ุจุงุฒฺฏุฑุฏุงูุฏูุดุฏู"><a class="header" href="#ุงุณุชูุงุฏู-ูุณุชูู-ุงุฒ-iterator-ุจุงุฒฺฏุฑุฏุงูุฏูุดุฏู">ุงุณุชูุงุฏู ูุณุชูู ุงุฒ Iterator ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู</a></h4>
<p>ูุงู <em>src/main.rs</em> ูพุฑูฺู I/O ุฎูุฏ ุฑุง ุจุงุฒ ฺฉูุฏุ ฺฉู ุจุงุฏ ุจู ุงู ุดฺฉู ุจุงุดุฏ:</p>
<p><span class="filename">ูุงู ูุงู: src/main.rs</span></p>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::process;
</span><span class="boring">
</span><span class="boring">use minigrep::Config;
</span><span class="boring">
</span>fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let config = Config::build(&amp;args).unwrap_or_else(|err| {
        eprintln!("Problem parsing arguments: {err}");
        process::exit(1);
    });

    // --snip--
<span class="boring">
</span><span class="boring">    if let Err(e) = minigrep::run(config) {
</span><span class="boring">        eprintln!("Application error: {e}");
</span><span class="boring">        process::exit(1);
</span><span class="boring">    }
</span>}</code></pre>
<p>ุงุจุชุฏุง ุดุฑูุน ุชุงุจุน <code>main</code> ฺฉู ุฏุฑ ูุณุช 12-24 ุฏุงุดุชู ุฑุง ุจู ฺฉุฏ ฺฉู ุฏุฑ ูุณุช 13-18 ุงุณุช ุชุบุฑ ูโุฏููุ ฺฉู ุงู ุจุงุฑ ุงุฒ ฺฉ iterator ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ฺฉุฏ ุชุง ุฒูุงู ฺฉู <code>Config::build</code> ุฑุง ูุฒ ุจูโุฑูุฒุฑุณุงู ฺฉููุ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::env;
</span><span class="boring">use std::process;
</span><span class="boring">
</span><span class="boring">use minigrep::Config;
</span><span class="boring">
</span>fn main() {
    let config = Config::build(env::args()).unwrap_or_else(|err| {
        eprintln!("Problem parsing arguments: {err}");
        process::exit(1);
    });

    // --snip--
<span class="boring">
</span><span class="boring">    if let Err(e) = minigrep::run(config) {
</span><span class="boring">        eprintln!("Application error: {e}");
</span><span class="boring">        process::exit(1);
</span><span class="boring">    }
</span>}</code></pre>
<figcaption>Listing 13-18: ุงุฑุณุงู ููุฏุงุฑ ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชูุณุท <code>env::args</code> ุจู <code>Config::build</code></figcaption>
</figure>
<p>ุชุงุจุน <code>env::args</code> ฺฉ iterator ุจุงุฒูโฺฏุฑุฏุงูุฏ! ุจู ุฌุง ุฌูุนโุขูุฑ ููุงุฏุฑ iterator ุฏุฑ ฺฉ ูฺฉุชูุฑ ู ุณูพุณ ุงุฑุณุงู ฺฉ ุจุฑุด ุจู <code>Config::build</code>ุ ุงฺฉููู ูุง ูุงูฺฉุช iterator ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุงุฒ <code>env::args</code> ุฑุง ูุณุชููุงู ุจู <code>Config::build</code> ุงุฑุณุงู ูโฺฉูู.</p>
<p>ุณูพุณ ุจุงุฏ ุชุนุฑู ุชุงุจุน <code>Config::build</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูู. ุฏุฑ ูุงู <em>src/lib.rs</em> ูพุฑูฺู I/O ุฎูุฏุ ุงูุถุง ุชุงุจุน <code>Config::build</code> ุฑุง ุจู ุดฺฉู ฺฉู ุฏุฑ ูุณุช 13-19 ูุดุงู ุฏุงุฏู ุดุฏู ุชุบุฑ ุฏูุฏ. ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ ุฒุฑุง ุจุงุฏ ุจุฏูู ุชุงุจุน ุฑุง ูุฒ ุจูโุฑูุฒุฑุณุงู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::env;
</span><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">    pub ignore_case: bool,
</span><span class="boring">}
</span><span class="boring">
</span>impl Config {
    pub fn build(
        mut args: impl Iterator&lt;Item = String&gt;,
    ) -&gt; Result&lt;Config, &amp;'static str&gt; {
        // --snip--
<span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        let ignore_case = env::var("IGNORE_CASE").is_ok();
</span><span class="boring">
</span><span class="boring">        Ok(Config {
</span><span class="boring">            query,
</span><span class="boring">            file_path,
</span><span class="boring">            ignore_case,
</span><span class="boring">        })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    let results = if config.ignore_case {
</span><span class="boring">        search_case_insensitive(&amp;config.query, &amp;contents)
</span><span class="boring">    } else {
</span><span class="boring">        search(&amp;config.query, &amp;contents)
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    for line in results {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 13-19: ุจูโุฑูุฒุฑุณุงู ุงูุถุง <code>Config::build</code> ุจุฑุง ุงูุชุธุงุฑ ฺฉ iterator</figcaption>
</figure>
<p>ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุชุงุจุน <code>env::args</code> ูุดุงู ูโุฏูุฏ ฺฉู ููุน iterator ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู <code>std::env::Args</code> ุงุณุชุ ู ุงู ููุน ุตูุช <code>Iterator</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ู ููุงุฏุฑ <code>String</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุง ุงูุถุง ุชุงุจุน <code>Config::build</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉุฑุฏูโุงู ุชุง ูพุงุฑุงูุชุฑ <code>args</code> ฺฉ ููุน ุฌูุฑฺฉ ุจุง ูุญุฏูุฏุชโูุง ุตูุช <code>impl Iterator&lt;Item = String&gt;</code> ุจุงุดุฏ ุจู ุฌุง <code>&amp;[String]</code>. ุงู ุงุณุชูุงุฏู ุงุฒ ูุญู <code>impl Trait</code> ฺฉู ุฏุฑ ุจุฎุด <a href="ch10-02-traits.html#traits-as-parameters">โTraits ุจู ุนููุงู ูพุงุฑุงูุชุฑูุงโ</a><!-- ignore --> ูุตู 10 ุจุญุซ ุดุฏุ ุจู ุงู ูุนูุงุณุช ฺฉู <code>args</code> ูโุชูุงูุฏ ูุฑ ููุน ุจุงุดุฏ ฺฉู ุตูุช <code>Iterator</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ู ุขุชูโูุง <code>String</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุงูฺฉุช <code>args</code> ุฑุง ุจู ุฏุณุช ูโุขูุฑู ู ุจุง ูพูุงุด ุฏุฑ ุขูุ <code>args</code> ุฑุง ุชุบุฑ ุฎูุงูู ุฏุงุฏุ ูโุชูุงูู ฺฉููู ฺฉูุฏ <code>mut</code> ุฑุง ุจู ูุดุฎุตุงุช ูพุงุฑุงูุชุฑ <code>args</code> ุงุถุงูู ฺฉูู ุชุง ุขู ุฑุง ูุงุจู ุชุบุฑ ฺฉูู.</p>
<h4 id="ุงุณุชูุงุฏู-ุงุฒ-ูุชุฏูุง-ุตูุช-iterator-ุจู-ุฌุง-ุดุงุฎุตฺฏุฐุงุฑ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ูุชุฏูุง-ุตูุช-iterator-ุจู-ุฌุง-ุดุงุฎุตฺฏุฐุงุฑ">ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ุตูุช <code>Iterator</code> ุจู ุฌุง ุดุงุฎุตโฺฏุฐุงุฑ</a></h4>
<p>ุณูพุณ ุจุฏูู ุชุงุจุน <code>Config::build</code> ุฑุง ุงุตูุงุญ ูโฺฉูู. ุงุฒ ุขูุฌุง ฺฉู <code>args</code> ุตูุช <code>Iterator</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุชุ ูโุฏุงูู ฺฉู ูโุชูุงูู ูุชุฏ <code>next</code> ุฑุง ุฑู ุขู ูุฑุงุฎูุงู ฺฉูู! ูุณุช 13-20 ฺฉุฏ ูุณุช 12-23 ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>next</code> ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">use std::env;
</span><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">    pub ignore_case: bool,
</span><span class="boring">}
</span><span class="boring">
</span>impl Config {
    pub fn build(
        mut args: impl Iterator&lt;Item = String&gt;,
    ) -&gt; Result&lt;Config, &amp;'static str&gt; {
        args.next();

        let query = match args.next() {
            Some(arg) =&gt; arg,
            None =&gt; return Err("Didn't get a query string"),
        };

        let file_path = match args.next() {
            Some(arg) =&gt; arg,
            None =&gt; return Err("Didn't get a file path"),
        };

        let ignore_case = env::var("IGNORE_CASE").is_ok();

        Ok(Config {
            query,
            file_path,
            ignore_case,
        })
    }
}
<span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    let results = if config.ignore_case {
</span><span class="boring">        search_case_insensitive(&amp;config.query, &amp;contents)
</span><span class="boring">    } else {
</span><span class="boring">        search(&amp;config.query, &amp;contents)
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    for line in results {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.contains(query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 13-20: ุชุบุฑ ุจุฏูู <code>Config::build</code> ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง iterator</figcaption>
</figure>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงููู ููุฏุงุฑ ุฏุฑ ููุฏุงุฑ ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุงุฒ <code>env::args</code> ูุงู ุจุฑูุงูู ุงุณุช. ูุง ูโุฎูุงูู ุขู ุฑุง ูุงุฏุฏู ุจฺฏุฑู ู ุจู ููุฏุงุฑ ุจุนุฏ ุจุฑุณูุ ุจูุงุจุฑุงู ุงุจุชุฏุง <code>next</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ู ูฺ ฺฉุงุฑ ุจุง ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงูุฌุงู ููโุฏูู. ุณูพุณุ <code>next</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ููุฏุงุฑ ฺฉู ูโุฎูุงูู ุฏุฑ ููุฏ <code>query</code> ุงุฒ <code>Config</code> ูุฑุงุฑ ุฏูู ุฑุง ุฏุฑุงูุช ฺฉูู. ุงฺฏุฑ <code>next</code> ฺฉ <code>Some</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุงุฒ ฺฉ <code>match</code> ุจุฑุง ุงุณุชุฎุฑุงุฌ ููุฏุงุฑ ุงุณุชูุงุฏู ูโฺฉูู. ุงฺฏุฑ <code>None</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุจู ุงู ูุนู ุงุณุช ฺฉู ุขุฑฺฏููุงูโูุง ฺฉุงู ุงุฑุงุฆู ูุดุฏูโุงูุฏ ู ุจุง ููุฏุงุฑ <code>Err</code> ุฒูุฏุชุฑ ุจุงุฒูโฺฏุฑุฏู. ููู ฺฉุงุฑ ุฑุง ุจุฑุง ููุฏุงุฑ <code>file_path</code> ุงูุฌุงู ูโุฏูู.</p>
<h3 id="ูุงุถุญุชุฑ-ฺฉุฑุฏู-ฺฉุฏ-ุจุง-ุชุทุจูุฏููุฏููุง-iterator"><a class="header" href="#ูุงุถุญุชุฑ-ฺฉุฑุฏู-ฺฉุฏ-ุจุง-ุชุทุจูุฏููุฏููุง-iterator">ูุงุถุญโุชุฑ ฺฉุฑุฏู ฺฉุฏ ุจุง ุชุทุจูโุฏููุฏูโูุง Iterator</a></h3>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ iteratorูุง ุฏุฑ ุชุงุจุน <code>search</code> ูพุฑูฺู I/O ุฎูุฏ ุจูุฑู ุจุจุฑู. ุงู ุชุงุจุน ุฏุฑ ูุณุช 13-21 ุจู ููุงู ุดฺฉู ฺฉู ุฏุฑ ูุณุช 12-19 ุจูุฏ ุจุงุฒุชููุฏ ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(args: &amp;[String]) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        if args.len() &lt; 3 {
</span><span class="boring">            return Err("not enough arguments");
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        let query = args[1].clone();
</span><span class="boring">        let file_path = args[2].clone();
</span><span class="boring">
</span><span class="boring">        Ok(Config { query, file_path })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
    let mut results = Vec::new();

    for line in contents.lines() {
        if line.contains(query) {
            results.push(line);
        }
    }

    results
}
<span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn one_result() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 13-21: ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>search</code> ุงุฒ ูุณุช 12-19</figcaption>
</figure>
<p>ูุง ูโุชูุงูู ุงู ฺฉุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ุชุทุจูโุฏููุฏู iterator ุจู ุดฺฉู ูุฎุชุตุฑุชุฑ ุจููุณู. ุงู ฺฉุงุฑ ููฺูู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุงุฒ ุฏุงุดุชู ฺฉ ูฺฉุชูุฑ ูุงู ูุงุจู ุชุบุฑ ุจู ูุงู <code>results</code> ุงุฌุชูุงุจ ฺฉูู. ุณุจฺฉ ุจุฑูุงููโููุณ ุชุงุจุน ุชุฑุฌุญ ูโุฏูุฏ ููุฏุงุฑ ุญุงูุชโูุง ูุงุจู ุชุบุฑ ุฑุง ุจู ุญุฏุงูู ุจุฑุณุงูุฏ ุชุง ฺฉุฏ ูุงุถุญโุชุฑ ุดูุฏ. ุญุฐู ุญุงูุช ูุงุจู ุชุบุฑ ููฺฉู ุงุณุช ุงูฺฉุงู ุงุฑุชูุงุก ุขูุฏู ุฑุง ูุฑุงูู ฺฉูุฏ ุชุง ุฌุณุชุฌู ุจู ุตูุฑุช ููุงุฒ ุงูุฌุงู ุดูุฏุ ุฒุฑุง ูุงุฒ ุจู ูุฏุฑุช ุฏุณุชุฑุณ ููุฒูุงู ุจู ูฺฉุชูุฑ <code>results</code> ูุฎูุงูู ุฏุงุดุช. ูุณุช 13-22 ุงู ุชุบุฑ ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use std::env;
</span><span class="boring">use std::error::Error;
</span><span class="boring">use std::fs;
</span><span class="boring">
</span><span class="boring">pub struct Config {
</span><span class="boring">    pub query: String,
</span><span class="boring">    pub file_path: String,
</span><span class="boring">    pub ignore_case: bool,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Config {
</span><span class="boring">    pub fn build(
</span><span class="boring">        mut args: impl Iterator&lt;Item = String&gt;,
</span><span class="boring">    ) -&gt; Result&lt;Config, &amp;'static str&gt; {
</span><span class="boring">        args.next();
</span><span class="boring">
</span><span class="boring">        let query = match args.next() {
</span><span class="boring">            Some(arg) =&gt; arg,
</span><span class="boring">            None =&gt; return Err("Didn't get a query string"),
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let file_path = match args.next() {
</span><span class="boring">            Some(arg) =&gt; arg,
</span><span class="boring">            None =&gt; return Err("Didn't get a file path"),
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let ignore_case = env::var("IGNORE_CASE").is_ok();
</span><span class="boring">
</span><span class="boring">        Ok(Config {
</span><span class="boring">            query,
</span><span class="boring">            file_path,
</span><span class="boring">            ignore_case,
</span><span class="boring">        })
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</span><span class="boring">    let contents = fs::read_to_string(config.file_path)?;
</span><span class="boring">
</span><span class="boring">    let results = if config.ignore_case {
</span><span class="boring">        search_case_insensitive(&amp;config.query, &amp;contents)
</span><span class="boring">    } else {
</span><span class="boring">        search(&amp;config.query, &amp;contents)
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    for line in results {
</span><span class="boring">        println!("{line}");
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    Ok(())
</span><span class="boring">}
</span><span class="boring">
</span>pub fn search&lt;'a&gt;(query: &amp;str, contents: &amp;'a str) -&gt; Vec&lt;&amp;'a str&gt; {
    contents
        .lines()
        .filter(|line| line.contains(query))
        .collect()
}
<span class="boring">
</span><span class="boring">pub fn search_case_insensitive&lt;'a&gt;(
</span><span class="boring">    query: &amp;str,
</span><span class="boring">    contents: &amp;'a str,
</span><span class="boring">) -&gt; Vec&lt;&amp;'a str&gt; {
</span><span class="boring">    let query = query.to_lowercase();
</span><span class="boring">    let mut results = Vec::new();
</span><span class="boring">
</span><span class="boring">    for line in contents.lines() {
</span><span class="boring">        if line.to_lowercase().contains(&amp;query) {
</span><span class="boring">            results.push(line);
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    results
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_sensitive() {
</span><span class="boring">        let query = "duct";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Duct tape.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(vec!["safe, fast, productive."], search(query, contents));
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn case_insensitive() {
</span><span class="boring">        let query = "rUsT";
</span><span class="boring">        let contents = "\
</span><span class="boring">Rust:
</span><span class="boring">safe, fast, productive.
</span><span class="boring">Pick three.
</span><span class="boring">Trust me.";
</span><span class="boring">
</span><span class="boring">        assert_eq!(
</span><span class="boring">            vec!["Rust:", "Trust me."],
</span><span class="boring">            search_case_insensitive(query, contents)
</span><span class="boring">        );
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 13-22: ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ุชุทุจูโุฏููุฏู iterator ุฏุฑ ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>search</code></figcaption>
</figure>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุฏู ุชุงุจุน <code>search</code> ุจุงุฒฺฏุฑุฏุงูุฏู ุชูุงู ุฎุทูุท ููุฌูุฏ ุฏุฑ <code>contents</code> ุงุณุช ฺฉู ุดุงูู <code>query</code> ุจุงุดูุฏ. ูุดุงุจู ูุซุงู <code>filter</code> ุฏุฑ ูุณุช 13-16ุ ุงู ฺฉุฏ ุงุฒ ุชุทุจูโุฏููุฏู <code>filter</code> ุจุฑุง ูฺฏูโุฏุงุดุชู ููุท ุฎุทูุท ฺฉู ุจุฑุง ุขูโูุง <code>line.contains(query)</code> ููุฏุงุฑ <code>true</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงุณุชูุงุฏู ูโฺฉูุฏ. ุณูพุณ ุฎุทูุท ูุทุงุจู ุฑุง ุจุง <code>collect</code> ุฏุฑ ฺฉ ูฺฉุชูุฑ ุฏฺฏุฑ ุฌูุนโุขูุฑ ูโฺฉูู. ุจุณุงุฑ ุณุงุฏูโุชุฑ! ุงฺฏุฑ ุชูุงู ุฏุงุฑุฏุ ูโุชูุงูุฏ ููู ุชุบุฑ ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง iterator ุฏุฑ ุชุงุจุน <code>search_case_insensitive</code> ูุฒ ุงูุฌุงู ุฏูุฏ.</p>
<h3 id="ุงูุชุฎุงุจ-ุจู-ุญููููุง-ุง-iteratorูุง"><a class="header" href="#ุงูุชุฎุงุจ-ุจู-ุญููููุง-ุง-iteratorูุง">ุงูุชุฎุงุจ ุจู ุญูููโูุง ุง Iteratorูุง</a></h3>
<p>ุณุคุงู ููุทู ุจุนุฏ ุงู ุงุณุช ฺฉู ฺฉุฏุงู ุณุจฺฉ ุฑุง ุจุงุฏ ุฏุฑ ฺฉุฏ ุฎูุฏ ุงูุชุฎุงุจ ฺฉูุฏ ู ฺุฑุง: ูพุงุฏูโุณุงุฒ ุงุตู ุฏุฑ ูุณุช 13-21 ุง ูุณุฎูโุง ฺฉู ุงุฒ iteratorูุง ุฏุฑ ูุณุช 13-22 ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงฺฉุซุฑ ุจุฑูุงููโููุณุงู Rust ุชุฑุฌุญ ูโุฏููุฏ ุงุฒ ุณุจฺฉ iterator ุงุณุชูุงุฏู ฺฉููุฏ. ุงุฏฺฏุฑ ุขู ุฏุฑ ุงุจุชุฏุง ฺฉู ุณุฎุชโุชุฑ ุงุณุชุ ุงูุง ููุช ุจุง ุชุทุจูโุฏููุฏูโูุง ูุฎุชูู iterator ู ฺฉุงุฑูุง ฺฉู ุงูุฌุงู ูโุฏููุฏ ุขุดูุง ุดูุฏุ ุงุณุชูุงุฏู ุงุฒ iteratorูุง ูโุชูุงูุฏ ุขุณุงูโุชุฑ ุดูุฏ. ุจู ุฌุง ุฏุณุชโูโูพูุฌู ูุฑู ฺฉุฑุฏู ุจุง ุจุฎุดโูุง ูุฎุชูู ุญูููโูุง ู ุณุงุฎุช ูฺฉุชูุฑูุง ุฌุฏุฏุ ฺฉุฏ ุจุฑ ูุฏู ุณุทุญ ุจุงูุง ุญููู ุชูุฑฺฉุฒ ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุจุฑุฎ ุงุฒ ฺฉุฏูุง ุนููู ุฑุง ูพููุงู ูโฺฉูุฏุ ุจูุงุจุฑุงู ููุงูู ฺฉู ูุฎุชุต ุงู ฺฉุฏ ูุณุชูุฏุ ูุงููุฏ ุดุฑุท ููุชุฑ ฺฉุฑุฏู ฺฉู ูุฑ ุนูุตุฑ ุฏุฑ iterator ุจุงุฏ ูพุงุณ ฺฉูุฏุ ูุงุถุญโุชุฑ ุฏุฏู ูโุดููุฏ.</p>
<p>ุงูุง ุขุง ุงู ุฏู ูพุงุฏูโุณุงุฒ ูุงูุนุงู ูุนุงุฏู ูุณุชูุฏุ ูุฑุถู ุดููุฏ ุงู ุงุณุช ฺฉู ุญููู ุณุทุญ ูพุงูโุชุฑ ุณุฑุนโุชุฑ ุฎูุงูุฏ ุจูุฏ. ุจุงุฏ ุฏุฑุจุงุฑู ุนููฺฉุฑุฏ ุตุญุจุช ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ููุงุณู-ุนููฺฉุฑุฏ-ุญููููุง-ุฏุฑ-ุจุฑุงุจุฑ-iteratorูุง"><a class="header" href="#ููุงุณู-ุนููฺฉุฑุฏ-ุญููููุง-ุฏุฑ-ุจุฑุงุจุฑ-iteratorูุง">ููุงุณู ุนููฺฉุฑุฏ: ุญูููโูุง ุฏุฑ ุจุฑุงุจุฑ Iteratorูุง</a></h2>
<p>ุจุฑุง ุชุนู ุงูฺฉู ุงุฒ ุญูููโูุง ุง iteratorูุง ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ุจุฏุงูุฏ ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ุณุฑุนโุชุฑ ุงุณุช: ูุณุฎู ุชุงุจุน <code>search</code> ุจุง ุญููู ุตุฑุญ <code>for</code> ุง ูุณุฎู ุจุง iteratorูุง.</p>
<p>ูุง ฺฉ ุจูฺูุงุฑฺฉ ุงุฌุฑุง ฺฉุฑุฏู ฺฉู ุฏุฑ ุขู ุชูุงู ูุญุชูุง ฺฉุชุงุจ <em>The Adventures of Sherlock Holmes</em> ุงุซุฑ ุณุฑ ุขุฑุชูุฑ ฺฉุงูู ุฏูู ุฑุง ุฏุฑ ฺฉ <code>String</code> ุจุงุฑฺฏุฐุงุฑ ฺฉุฑุฏู ู ุจู ุฏูุจุงู ฺฉููู <em>the</em> ุฏุฑ ูุญุชูุง ฺฏุดุชู. ูุชุงุฌ ุจูฺูุงุฑฺฉ ุจุฑุง ูุณุฎู <code>search</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ุญููู <code>for</code> ู ูุณุฎู ุจุง iteratorูุง ุจู ุดุฑุญ ุฒุฑ ุงุณุช:</p>
<pre><code class="language-text">test bench_search_for  ... bench:  19,620,300 ns/iter (+/- 915,700)
test bench_search_iter ... bench:  19,234,900 ns/iter (+/- 657,200)
</code></pre>
<p>ุฏู ูพุงุฏูโุณุงุฒ ุนููฺฉุฑุฏ ูุดุงุจู ุฏุงุฑูุฏ! ูุง ฺฉุฏ ุจูฺูุงุฑฺฉ (benchmark) ุฑุง ุงูุฌุง ุชูุถุญ ููโุฏููุ ุฒุฑุง ูุฏู ุงู ูุณุช ฺฉู ุซุงุจุช ฺฉูู ุงู ุฏู ูุณุฎู ูุนุงุฏู ูุณุชูุฏุ ุจูฺฉู ูุฏู ุงู ุงุณุช ฺฉู ุจู ฺฉ ุฏุฑฺฉ ฺฉู ุงุฒ ูุญูู ููุงุณู ุนููฺฉุฑุฏ ุงู ุฏู ูพุงุฏูโุณุงุฒ ุจุฑุณู.</p>
<p>ุจุฑุง ฺฉ ุจูฺูุงุฑฺฉ ุฌุงูุนโุชุฑุ ุจุงุฏ ุงุฒ ูุชูโูุง ูุฎุชูู ุจุง ุงูุฏุงุฒูโูุง ฺฏููุงฺฏูู ุจูโุนููุงู <code>contents</code>ุ ฺฉููุงุช ูุฎุชูู ู ฺฉููุงุช ุจุง ุทููโูุง ูุชูุงูุช ุจูโุนููุงู <code>query</code>ุ ู ุงููุงุน ุฏฺฏุฑ ุงุฒ ุชุบุฑุงุช ุงุณุชูุงุฏู ฺฉูุฏ. ูฺฉุชู ุงู ุงุณุช: iteratorูุงุ ุงฺฏุฑฺู ฺฉ ุงูุชุฒุงุน ุณุทุญ ุจุงูุง ูุณุชูุฏุ ุจู ฺฉุฏ ฺฉู ุชูุฑุจุงู ููุงู ุณุทุญ ูพุงู ุฏุงุฑุฏ ฺฉุงููพุงู ูโุดููุฏุ ุงูฺฏุงุฑ ุฎูุฏุชุงู ฺฉุฏ ุณุทุญ ูพุงู ุฑุง ููุดุชู ุจุงุดุฏ. iteratorูุง ฺฉ ุงุฒ <em>ุงูุชุฒุงุนโูุง ุจุฏูู ูุฒูู</em> Rust ูุณุชูุฏุ ุจู ุงู ูุนู ฺฉู ุงุณุชูุงุฏู ุงุฒ ุงูุชุฒุงุน ูฺ ูุฒูู ุงุถุงู ุฒูุงู ุงุฌุฑุง ุจุฑูุงูู ุฑุง ุชุญูู ููโฺฉูุฏ. ุงู ููุถูุน ูุดุงุจู ุชุนุฑู ุงุณุช ฺฉู ุจุงุฑูู ุงุณุชุฑุงุณโุชุฑููพุ ุทุฑุงุญ ู ูพุงุฏูโุณุงุฒ ุงุตู ++Cุ ุฏุฑ ููุงูู โFoundations of C++โ (2012) ุจุฑุง <em>ุจุฏูู ูุฒูู ุงุถุงู</em> ุงุฑุงุฆู ูโุฏูุฏ:</p>
<blockquote>
<p>ุจู ุทูุฑ ฺฉูุ ูพุงุฏูโุณุงุฒโูุง ++C ุงุฒ ุงุตู ุจุฏูู ูุฒูู ุงุถุงู ูพุฑู ูโฺฉููุฏ: ฺุฒ ฺฉู ุงุณุชูุงุฏู ููโฺฉูุฏุ ูุฒููโุง ุจุฑุง ุดูุง ูุฏุงุฑุฏ. ู ุนูุงูู ุจุฑ ุงู: ฺุฒ ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏุ ููโุชูุงูุฏ ุจูุชุฑ ุงุฒ ุงู ุฏุณุช ฺฉุฏููุณ ฺฉูุฏ.</p>
</blockquote>
<p>ุจูโุนููุงู ฺฉ ูุซุงู ุฏฺฏุฑุ ฺฉุฏ ุฒุฑ ุงุฒ ฺฉ ุฏฺฉูุฏุฑ ุตูุช ฺฏุฑูุชู ุดุฏู ุงุณุช. ุงูฺฏูุฑุชู ุฏฺฉูุฏูฺฏ ุงุฒ ุนููุงุช ุฑุงุถ ูพุดโุจู ุฎุท ุจุฑุง ุชุฎูู ููุงุฏุฑ ุขูุฏู ุจุฑ ุงุณุงุณ ฺฉ ุชุงุจุน ุฎุท ุงุฒ ูููููโูุง ูุจู ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ฺฉุฏ ุงุฒ ฺฉ ุฒูุฌุฑู iterator ุจุฑุง ุงูุฌุงู ุจุฑุฎ ูุญุงุณุจุงุช ุจุฑ ุฑู ุณู ูุชุบุฑ ุฏุฑ ูุญุฏูุฏู ุงุณุชูุงุฏู ูโฺฉูุฏ: ฺฉ ุจุฑุด ุฏุงุฏูโุง <code>buffer</code>ุ ฺฉ ุขุฑุงู ุงุฒ ฑฒ <code>coefficients</code>ุ ู ููุฏุงุฑ ุจุฑุง ุฌุงุจุฌุง ุฏุงุฏูโูุง ุฏุฑ <code>qlp_shift</code>. ูุง ูุชุบุฑูุง ุฑุง ุฏุฑ ุงู ูุซุงู ุชุนุฑู ฺฉุฑุฏูโุงู ุงูุง ุจู ุขูโูุง ููุฏุงุฑ ูุฏุงุฏูโุงูุ ุงฺฏุฑฺู ุงู ฺฉุฏ ุฎุงุฑุฌ ุงุฒ ุฒููู ุฎูุฏ ูุนูุง ุฒุงุฏ ูุฏุงุฑุฏุ ุงูุง ููฺูุงู ฺฉ ูุซุงู ูุฎุชุตุฑ ู ูุงูุน ุงุฒ ูุญูู ุชุจุฏู ุงุฏูโูุง ุณุทุญ ุจุงูุง ุจู ฺฉุฏ ุณุทุญ ูพุงู ุฏุฑ Rust ุงุณุช.</p>
<pre><code class="language-rust ignore">let buffer: &amp;mut [i32];
let coefficients: [i64; 12];
let qlp_shift: i16;

for i in 12..buffer.len() {
    let prediction = coefficients.iter()
                                 .zip(&amp;buffer[i - 12..i])
                                 .map(|(&amp;c, &amp;s)| c * s as i64)
                                 .sum::&lt;i64&gt;() &gt;&gt; qlp_shift;
    let delta = buffer[i];
    buffer[i] = prediction as i32 + delta;
}</code></pre>
<p>ุจุฑุง ูุญุงุณุจู ููุฏุงุฑ <code>prediction</code>ุ ุงู ฺฉุฏ ุงุฒ ุทุฑู ูุฑ ฺฉ ุงุฒ ฑฒ ููุฏุงุฑ ุฏุฑ <code>coefficients</code> ูพูุงุด ูโฺฉูุฏ ู ุงุฒ ูุชุฏ <code>zip</code> ุจุฑุง ุฌูุช ฺฉุฑุฏู ููุงุฏุฑ coefficients ุจุง ฑฒ ููุฏุงุฑ ูุจู ุฏุฑ <code>buffer</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุณูพุณุ ุจุฑุง ูุฑ ุฌูุชุ ููุงุฏุฑ ุฑุง ุฏุฑ ูู ุถุฑุจ ูโฺฉููุ ุชูุงู ูุชุงุฌ ุฑุง ุฌูุน ูโฺฉููุ ู ุจุชโูุง ุญุงุตู ุฑุง ุจู ุงูุฏุงุฒู <code>qlp_shift</code> ุจุช ุจู ุณูุช ุฑุงุณุช ุฌุงุจุฌุง ูโฺฉูู.</p>
<p>ูุญุงุณุจุงุช ุฏุฑ ุจุฑูุงููโูุง ูุงููุฏ ุฏฺฉูุฏุฑูุง ุตูุช ุงุบูุจ ุนููฺฉุฑุฏ ุฑุง ุฏุฑ ุงูููุช ูุฑุงุฑ ูโุฏููุฏ. ุฏุฑ ุงูุฌุงุ ูุง ฺฉ iterator ุงุฌุงุฏ ูโฺฉููุ ุงุฒ ุฏู ุชุทุจูโุฏููุฏู ุงุณุชูุงุฏู ูโฺฉููุ ู ุณูพุณ ููุฏุงุฑ ุฑุง ูุตุฑู ูโฺฉูู. ฺฉุฏ ุงุณูุจู ฺฉู ุงู ฺฉุฏ Rust ุจู ุขู ฺฉุงููพุงู ูโุดูุฏ ฺุณุชุ ุฎุจุ ุฏุฑ ุฒูุงู ูฺฏุงุฑุด ุงู ูุชูุ ุงู ฺฉุฏ ุจู ููุงู ุงุณูุจูโุง ฺฉู ููฺฉู ุงุณุช ุฏุณุช ุจููุณุฏ ฺฉุงููพุงู ูโุดูุฏ. ูฺ ุญูููโุง ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุจุง ูพูุงุด ุฑู ููุงุฏุฑ ุฏุฑ <code>coefficients</code> ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ: Rust ูโุฏุงูุฏ ฺฉู ฑฒ ุชฺฉุฑุงุฑ ูุฌูุฏ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุญููู ุฑุง โุจุงุฒูโูพฺุฏโ. <em>ุจุงุฒูพฺุฏู</em> ฺฉ ุจูููโุณุงุฒ ุงุณุช ฺฉู ุณุฑุจุงุฑ ฺฉุฏ ฺฉูุชุฑูโฺฉููุฏู ุญููู ุฑุง ุญุฐู ูโฺฉูุฏ ู ุจู ุฌุง ุขู ฺฉุฏ ุชฺฉุฑุงุฑ ุจุฑุง ูุฑ ุชฺฉุฑุงุฑ ุญููู ุชููุฏ ูโฺฉูุฏ.</p>
<p>ุชูุงู ููุงุฏุฑ coefficients ุฏุฑ ุซุจุงุชโูุง ุฐุฎุฑู ูโุดููุฏุ ุจู ุงู ูุนู ฺฉู ุฏุณุชุฑุณ ุจู ููุงุฏุฑ ุจุณุงุฑ ุณุฑุน ุงุณุช. ุฏุฑ ุฒูุงู ุงุฌุฑุง ูฺ ุจุฑุฑุณ ุญุฏูุฏ ุจุฑุง ุฏุณุชุฑุณ ุจู ุขุฑุงู ุงูุฌุงู ููโุดูุฏ. ุชูุงู ุงู ุจูููโุณุงุฒโูุง ฺฉู Rust ูโุชูุงูุฏ ุงุนูุงู ฺฉูุฏ ฺฉุฏ ููุง ุฑุง ุจู ุดุฏุช ฺฉุงุฑุขูุฏ ูโุณุงุฒุฏ. ุญุงูุง ฺฉู ุงู ุฑุง ูโุฏุงูุฏุ ูโุชูุงูุฏ ุงุฒ iteratorูุง ู closureูุง ุจุฏูู ุชุฑุณ ุงุณุชูุงุฏู ฺฉูุฏ! ุขูโูุง ุจุงุนุซ ูโุดููุฏ ฺฉุฏ ุณุทุญ ุจุงูุงุชุฑ ุจู ูุธุฑ ุจุฑุณุฏ ุงูุง ูฺ ูุฒูู ุนููฺฉุฑุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุงุนูุงู ููโฺฉููุฏ.</p>
<h2 id="ุฎูุงุตู-12"><a class="header" href="#ุฎูุงุตู-12">ุฎูุงุตู</a></h2>
<div dir="rtl">
closureูุง ู iteratorูุง ูฺฺฏโูุง Rust ูุณุชูุฏ ฺฉู ุงุฒ ุงุฏูโูุง ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุชุงุจุน ุงููุงู ฺฏุฑูุชูโุงูุฏ. ุขูโูุง ุจู ุชูุงูุง Rust ุฏุฑ ุจุงู ูุงุถุญ ุงุฏูโูุง ุณุทุญ ุจุงูุง ุจุง ุนููฺฉุฑุฏ ุณุทุญ ูพุงู ฺฉูฺฉ ูโฺฉููุฏ. ูพุงุฏูโุณุงุฒ closureูุง ู iteratorูุง ุจู ฺฏูููโุง ุงุณุช ฺฉู ุนููฺฉุฑุฏ ุฒูุงู ุงุฌุฑุง ุชุญุช ุชุฃุซุฑ ูุฑุงุฑ ููโฺฏุฑุฏ. ุงู ุจุฎุด ุงุฒ ูุฏู Rust ุจุฑุง ุงุฑุงุฆู ุงูุชุฒุงุนโูุง ุจุฏูู ูุฒูู ุงุณุช.
</div>
<p>ุงฺฉููู ฺฉู ูุงุจูุช ุจุงู ูพุฑูฺู I/O ุฎูุฏ ุฑุง ุจูุจูุฏ ุฏุงุฏูโุงูุ ุจุงุฏ ูฺฏุงู ุจู ุจุฑุฎ ูฺฺฏโูุง ุจุดุชุฑ <code>cargo</code> ุจูุฏุงุฒู ฺฉู ุจู ูุง ฺฉูฺฉ ูโฺฉููุฏ ูพุฑูฺู ุฑุง ุจุง ุฏูุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑู.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุงุทูุงุนุงุช-ุจุดุชุฑ-ุฏุฑุจุงุฑู-cargo-ู-cratesio"><a class="header" href="#ุงุทูุงุนุงุช-ุจุดุชุฑ-ุฏุฑุจุงุฑู-cargo-ู-cratesio">ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู Cargo ู Crates.io</a></h1>
<p>ุชุง ฺฉููู ูุง ููุท ุงุฒ ูฺฺฏโูุง ุงุจุชุฏุง Cargo ุจุฑุง ุณุงุฎุชุ ุงุฌุฑุง ู ุชุณุช ฺฉุฏ ุฎูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงูุง Cargo ูุงุจูุชโูุง ุจุดุชุฑ ุฏุงุฑุฏ. ุฏุฑ ุงู ูุตูุ ุจุฑุฎ ุงุฒ ูฺฺฏโูุง ูพุดุฑูุชูโุชุฑ ุขู ุฑุง ุจุฑุฑุณ ูโฺฉูู ุชุง ูุดุงู ุฏูู ฺฺฏููู ูโุชูุงูุฏ ฺฉุงุฑูุง ุฒุฑ ุฑุง ุงูุฌุงู ุฏูุฏ:</p>
<div dir="rtl">
    <ul>
        <li>ุดุฎุตโุณุงุฒ ูุฑุขูุฏ ุณุงุฎุช ุงุฒ ุทุฑู ูพุฑููุงูโูุง ูุณุฎู ุงูุชุดุงุฑ</li>
        <li>ุงูุชุดุงุฑ ฺฉุชุงุจุฎุงููโูุง ุฏุฑ <a href="https://crates.io/" target="_blank">crates.io</a></li>
        <li>ุณุงุฒูุงูุฏู ูพุฑูฺูโูุง ุจุฒุฑฺฏ ุจุง ุงุณุชูุงุฏู ุงุฒ Workspaces</li>
        <li>ูุตุจ ุจุงูุฑโูุง ุงุฒ <a href="https://crates.io/" target="_blank">crates.io</a></li>
        <li>ฺฏุณุชุฑุด ูุงุจูุชโูุง Cargo ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑุงุช ุณูุงุฑุด</li>
    </ul>
</div>
<p>Cargo ูโุชูุงูุฏ ุจุณุงุฑ ุจุดุชุฑ ุงุฒ ุขูฺู ุฏุฑ ุงู ูุตู ูพูุดุด ูโุฏูู ุงูุฌุงู ุฏูุฏุ ุจูุงุจุฑุงู ุจุฑุง ุชูุถุญุงุช ฺฉุงูู ุฏุฑุจุงุฑู ุชูุงู ูุงุจูุชโูุง ุขูุ ุจู <a href="https://doc.rust-lang.org/cargo/">ูุณุชูุฏุงุช ุขู</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุดุฎุตุณุงุฒ-ูุฑุขูุฏ-ุณุงุฎุช-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ูพุฑููุงููุง-ูุณุฎู-ุงูุชุดุงุฑ"><a class="header" href="#ุดุฎุตุณุงุฒ-ูุฑุขูุฏ-ุณุงุฎุช-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ูพุฑููุงููุง-ูุณุฎู-ุงูุชุดุงุฑ">ุดุฎุตโุณุงุฒ ูุฑุขูุฏ ุณุงุฎุช ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุฑููุงูโูุง ูุณุฎู ุงูุชุดุงุฑ</a></h2>
<p>ุฏุฑ Rustุ <em>ูพุฑููุงูโูุง ูุณุฎู ุงูุชุดุงุฑ</em> ูพุฑููุงูโูุง ุงุฒ ูพุด ุชุนุฑูโุดุฏู ู ูุงุจู ุดุฎุตโุณุงุฒ ูุณุชูุฏ ฺฉู ุจุง ูพฺฉุฑุจูุฏโูุง ูุฎุชูู ุจู ุจุฑูุงููโููุณ ุงุฌุงุฒู ูโุฏููุฏ ฺฉูุชุฑู ุจุดุชุฑ ุฑู ฺฏุฒููโูุง ูุฎุชูู ฺฉุงููพุงู ฺฉุฏ ุฏุงุดุชู ุจุงุดุฏ. ูุฑ ูพุฑููุงู ุจู ุตูุฑุช ูุณุชูู ุงุฒ ุฏฺฏุฑุงู ูพฺฉุฑุจูุฏ ูโุดูุฏ.</p>
<p>Cargo ุฏู ูพุฑููุงู ุงุตู ุฏุงุฑุฏ: ูพุฑููุงู <code>dev</code> ฺฉู ููฺฏุงู ุงุฌุฑุง <code>cargo build</code> ุงุณุชูุงุฏู ูโุดูุฏ ู ูพุฑููุงู <code>release</code> ฺฉู ููฺฏุงู ุงุฌุฑุง <code>cargo build --release</code> ุงุณุชูุงุฏู ูโุดูุฏ. ูพุฑููุงู <code>dev</code> ุจุง ุชูุธูุงุช ูพุดโูุฑุถ ููุงุณุจ ุจุฑุง ุชูุณุนู ู ูพุฑููุงู <code>release</code> ุจุง ุชูุธูุงุช ูพุดโูุฑุถ ููุงุณุจ ุจุฑุง ุณุงุฎุช ูุณุฎูโูุง ุงูุชุดุงุฑ ุชุนุฑู ุดุฏูโุงูุฏ.</p>
<p>ุงู ูุงูโูุง ูพุฑููุงู ููฺฉู ุงุณุช ุงุฒ ุฎุฑูุฌโูุง ุณุงุฎุช ุดูุง ุขุดูุง ุจู ูุธุฑ ุจุฑุณูุฏ:</p>
<pre><code class="language-console">$ cargo build
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.00s
$ cargo build --release
    Finished `release` profile [optimized] target(s) in 0.32s
</code></pre>
<p><code>dev</code> ู <code>release</code> ูพุฑููุงูโูุง ูุชูุงูุช ูุณุชูุฏ ฺฉู ุชูุณุท ฺฉุงููพุงูุฑ ุงุณุชูุงุฏู ูโุดููุฏ.</p>
<p>Cargo ุชูุธูุงุช ูพุดโูุฑุถ ุจุฑุง ูุฑ ฺฉ ุงุฒ ูพุฑููุงูโูุง ุฏุงุฑุฏ ฺฉู ุฒูุงู ุงุนูุงู ูโุดููุฏ ฺฉู ูฺ ุจุฎุด <code>[profile.*]</code> ุฏุฑ ูุงู <em>Cargo.toml</em> ูพุฑูฺู ุดูุง ุจู ุทูุฑ ุตุฑุญ ุงุถุงูู ูุดุฏู ุจุงุดุฏ. ุจุง ุงูุฒูุฏู ุจุฎุดโูุง <code>[profile.*]</code> ุจุฑุง ูุฑ ูพุฑููุงู ฺฉู ูโุฎูุงูุฏ ุณูุงุฑุด ฺฉูุฏุ ูโุชูุงูุฏ ูุฑ ุจุฎุด ุงุฒ ุชูุธูุงุช ูพุดโูุฑุถ ุฑุง ุจุงุฒููุณ ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุฏุฑ ุงูุฌุง ููุงุฏุฑ ูพุดโูุฑุถ ุชูุธู <code>opt-level</code> ุจุฑุง ูพุฑููุงูโูุง <code>dev</code> ู <code>release</code> ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[profile.dev]
opt-level = 0

[profile.release]
opt-level = 3
</code></pre>
<p>ุชูุธู <code>opt-level</code> ุชุนุฏุงุฏ ุจูููโุณุงุฒโูุง ฺฉู Rust ุฑู ฺฉุฏ ุดูุง ุงุนูุงู ูโฺฉูุฏ ุฑุง ฺฉูุชุฑู ูโฺฉูุฏ ู ูุญุฏูุฏูโุง ุงุฒ 0 ุชุง 3 ุฏุงุฑุฏ. ุงุนูุงู ุจูููโุณุงุฒโูุง ุจุดุชุฑ ุฒูุงู ฺฉุงููพุงู ุฑุง ุงูุฒุงุด ูโุฏูุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ุฏุฑ ุญุงู ุชูุณุนู ูุณุชุฏ ู ฺฉุฏ ุฎูุฏ ุฑุง ุงุบูุจ ฺฉุงููพุงู ูโฺฉูุฏุ ุจูููโุณุงุฒโูุง ฺฉูุชุฑ ูโุฎูุงูุฏ ุชุง ุณุฑุนโุชุฑ ฺฉุงููพุงู ุดูุฏ ุญุช ุงฺฏุฑ ฺฉุฏ ููุง ฺฉูุฏุชุฑ ุงุฌุฑุง ุดูุฏ. ุจูุงุจุฑุงู ููุฏุงุฑ ูพุดโูุฑุถ <code>opt-level</code> ุจุฑุง <code>dev</code> ุจุฑุงุจุฑ <code>0</code> ุงุณุช. ููุช ุขูุงุฏู ุงูุชุดุงุฑ ฺฉุฏ ุฎูุฏ ูุณุชุฏุ ุจูุชุฑ ุงุณุช ุฒูุงู ุจุดุชุฑ ุจุฑุง ฺฉุงููพุงู ุตุฑู ฺฉูุฏ. ุดูุง ููุท ฺฉ ุจุงุฑ ุฏุฑ ุญุงูุช ุงูุชุดุงุฑ ฺฉุงููพุงู ุฎูุงูุฏ ฺฉุฑุฏุ ุงูุง ุจุฑูุงูู ฺฉุงููพุงูโุดุฏู ุฑุง ุจุงุฑูุง ุงุฌุฑุง ุฎูุงูุฏ ฺฉุฑุฏ. ุจูุงุจุฑุงู ุญุงูุช ุงูุชุดุงุฑ ุฒูุงู ฺฉุงููพุงู ุทููุงูโุชุฑ ุฑุง ุจุง ุงุฌุฑุง ุณุฑุนโุชุฑ ฺฉุฏ ูุนุงููู ูโฺฉูุฏ. ุจู ููู ุฏูู ููุฏุงุฑ ูพุดโูุฑุถ <code>opt-level</code> ุจุฑุง ูพุฑููุงู <code>release</code> ุจุฑุงุจุฑ <code>3</code> ุงุณุช.</p>
<p>ุดูุง ูโุชูุงูุฏ ฺฉ ุชูุธู ูพุดโูุฑุถ ุฑุง ุจุง ุงูุฒูุฏู ฺฉ ููุฏุงุฑ ูุชูุงูุช ุจุฑุง ุขู ุฏุฑ ูุงู <em>Cargo.toml</em> ุจุงุฒููุณ ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุจุฎูุงูู ุงุฒ ุณุทุญ ุจูููโุณุงุฒ 1 ุฏุฑ ูพุฑููุงู ุชูุณุนู ุงุณุชูุงุฏู ฺฉููุ ูโุชูุงูู ุงู ุฏู ุฎุท ุฑุง ุจู ูุงู <em>Cargo.toml</em> ูพุฑูฺู ุฎูุฏ ุงุถุงูู ฺฉูู:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[profile.dev]
opt-level = 1
</code></pre>
<p>ุงู ฺฉุฏ ุชูุธู ูพุดโูุฑุถ <code>0</code> ุฑุง ุจุงุฒููุณ ูโฺฉูุฏ. ุงฺฉูููุ ุฒูุงู ฺฉู <code>cargo build</code> ุฑุง ุงุฌุฑุง ูโฺฉููุ Cargo ุงุฒ ุชูุธูุงุช ูพุดโูุฑุถ ุจุฑุง ูพุฑููุงู <code>dev</code> ุจู ููุฑุงู ุณูุงุฑุดโุณุงุฒ ูุง ุจุฑุง <code>opt-level</code> ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุง ููุฏุงุฑ <code>opt-level</code> ุฑุง ุจู <code>1</code> ุชูุธู ฺฉุฑุฏูโุงูุ Cargo ุจูููโุณุงุฒโูุง ุจุดุชุฑ ูุณุจุช ุจู ูพุดโูุฑุถ ุงุนูุงู ุฎูุงูุฏ ฺฉุฑุฏุ ุงูุง ูู ุจู ุงูุฏุงุฒู ฺฉ ุณุงุฎุช ุฏุฑ ุญุงูุช <code>release</code>.</p>
<p>ุจุฑุง ูุดุงูุฏู ูุณุช ฺฉุงูู ฺฏุฒููโูุง ูพฺฉุฑุจูุฏ ู ุชูุธูุงุช ูพุดโูุฑุถ ุจุฑุง ูุฑ ูพุฑููุงูุ ุจู <a href="https://doc.rust-lang.org/cargo/reference/profiles.html">ูุณุชูุฏุงุช Cargo</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงูุชุดุงุฑ-ฺฉ-crate-ุฏุฑ-cratesio"><a class="header" href="#ุงูุชุดุงุฑ-ฺฉ-crate-ุฏุฑ-cratesio">ุงูุชุดุงุฑ ฺฉ Crate ุฏุฑ Crates.io</a></h2>
<p>ูุง ุงุฒ ูพฺฉุฌโูุง ููุฌูุฏ ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุจู ุนููุงู ูุงุจุณุชฺฏโูุง ูพุฑูฺู ุฎูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงูุง ุดูุง ููฺูู ูโุชูุงูุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุจุง ุฏฺฏุฑุงู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ ุจุง ุงูุชุดุงุฑ ูพฺฉุฌโูุง ุฎูุฏุชุงู. ุฑุฌุณุชุฑ Crates.io ฺฉุฏ ููุจุน ูพฺฉุฌโูุง ุดูุง ุฑุง ุชูุฒุน ูโฺฉูุฏุ ุจูุงุจุฑุงู ุจู ุทูุฑ ุนูุฏู ูุฒุจุงู ฺฉุฏูุง ููุจุน ุจุงุฒ ุงุณุช.</p>
<p>Rust ู Cargo ูฺฺฏโูุง ุฏุงุฑูุฏ ฺฉู ุจุงุนุซ ูโุดูุฏ ูพฺฉุฌ ููุชุดุฑุดุฏู ุดูุง ุจุฑุง ุฏฺฏุฑุงู ุฑุงุญุชโุชุฑ ูพุฏุง ุดุฏู ู ุงุณุชูุงุฏู ุดูุฏ. ูุง ุงุจุชุฏุง ุฏุฑุจุงุฑู ุจุฑุฎ ุงุฒ ุงู ูฺฺฏโูุง ุตุญุจุช ูโฺฉูู ู ุณูพุณ ุชูุถุญ ูโุฏูู ฺฺฏููู ฺฉ ูพฺฉุฌ ููุชุดุฑ ฺฉูู.</p>
<h3 id="ุงุฌุงุฏ-ูุธุฑุงุช-ูุณุชูุฏุงุช-ููุฏ"><a class="header" href="#ุงุฌุงุฏ-ูุธุฑุงุช-ูุณุชูุฏุงุช-ููุฏ">ุงุฌุงุฏ ูุธุฑุงุช ูุณุชูุฏุงุช ููุฏ</a></h3>
<p>ูุณุชูุฏุณุงุฒ ุฏูู ูพฺฉุฌโูุง ุดูุง ุจู ุฏฺฏุฑ ฺฉุงุฑุจุฑุงู ฺฉูฺฉ ูโฺฉูุฏ ุจุฏุงููุฏ ฺฺฏููู ู ฺู ุฒูุงู ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉููุฏุ ุจูุงุจุฑุงู ุงุฑุฒุด ุฏุงุฑุฏ ฺฉู ููุช ุฎูุฏ ุฑุง ุจุฑุง ููุดุชู ูุณุชูุฏุงุช ุตุฑู ฺฉูุฏ. ุฏุฑ ูุตู 3ุ ูุญูู ุงุถุงูู ฺฉุฑุฏู ูุธุฑุงุช ุจู ฺฉุฏ Rust ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏู ุงุณูุด <code>//</code> ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู. Rust ููฺูู ููุน ุฎุงุต ุงุฒ ูุธุฑุงุช ุจุฑุง ูุณุชูุฏุงุช ุฏุงุฑุฏ ฺฉู ุจู ูุงู <em>ูุธุฑุงุช ูุณุชูุฏุงุช</em> ุดูุงุฎุชู ูโุดูุฏ ู ูุณุชูุฏุงุช HTML ุชููุฏ ูโฺฉูุฏ. ุงู ูุณุชูุฏุงุช HTML ูุญุชูุง ูุธุฑุงุช ูุณุชูุฏุงุช ุฑุง ุจุฑุง ุขุชูโูุง ุนููู API ููุงุด ูโุฏูุฏ ฺฉู ุจุฑุง ุจุฑูุงููโููุณุงู ฺฉู ุจู ุฏูุจุงู ุฏุงูุณุชู ฺฺฏููฺฏ <em>ุงุณุชูุงุฏู ุงุฒ</em> crate ุดูุง ูุณุชูุฏุ ุทุฑุงุญ ุดุฏู ุงุณุช ู ูู ฺฺฏููฺฏ <em>ูพุงุฏูโุณุงุฒ</em> crate ุดูุง.</p>
<p>ูุธุฑุงุช ูุณุชูุฏุงุช ุจู ุฌุง ุฏู ุงุณูุด ุงุฒ ุณู ุงุณูุด <code>///</code> ุงุณุชูุงุฏู ูโฺฉููุฏ ู ุงุฒ ูุดุงููโฺฏุฐุงุฑ Markdown ุจุฑุง ูุงูุจโุจูุฏ ูุชู ูพุดุชุจุงู ูโฺฉููุฏ. ูุธุฑุงุช ูุณุชูุฏุงุช ุฑุง ุฏุฑุณุช ูุจู ุงุฒ ุขุชู ฺฉู ูุฑุงุฑ ุงุณุช ูุณุชูุฏุณุงุฒ ุดูุฏ ูุฑุงุฑ ุฏูุฏ. ูุณุชูฺฏ 14-1 ูุธุฑุงุช ูุณุชูุฏุงุช ุจุฑุง ฺฉ ุชุงุจุน <code>add_one</code> ุฏุฑ ฺฉ crate ุจู ูุงู <code>my_crate</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore">/// Adds one to the number given.
///
/// # Examples
///
/// ```
/// let arg = 5;
/// let answer = my_crate::add_one(arg);
///
/// assert_eq!(6, answer);
/// ```
pub fn add_one(x: i32) -&gt; i32 {
    x + 1
}</code></pre>
<figcaption>Listing 14-1: ฺฉ ูุธุฑ ูุณุชูุฏ ุจุฑุง ฺฉ ุชุงุจุน</figcaption>
</figure>
<p>ุงูุฌุงุ ูุง ุชูุถุญ ุฏุฑุจุงุฑู ุนููฺฉุฑุฏ ุชุงุจุน <code>add_one</code> ูโุฏููุ ุจุฎุด ุจุง ุนููุงู <code>Examples</code> ุดุฑูุน ูโฺฉููุ ู ุณูพุณ ฺฉุฏ ฺฉู ูุดุงู ูโุฏูุฏ ฺฺฏููู ุงุฒ ุชุงุจุน <code>add_one</code> ุงุณุชูุงุฏู ฺฉูู ุงุฑุงุฆู ูโุฏูู. ูโุชูุงูู ูุณุชูุฏุงุช HTML ุฑุง ุงุฒ ุงู ูุธุฑ ูุณุชูุฏ ุจุง ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo doc</code> ุชููุฏ ฺฉูู. ุงู ุฏุณุชูุฑ ุงุจุฒุงุฑ <code>rustdoc</code> ฺฉู ุจุง Rust ุชูุฒุน ุดุฏู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ู ูุณุชูุฏุงุช HTML ุชููุฏุดุฏู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>target/doc</em> ูุฑุงุฑ ูโุฏูุฏ.</p>
<p>ุจุฑุง ุฑุงุญุชุ ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo doc --open</code> ูุณุชูุฏุงุช HTML ุฑุง ุจุฑุง crate ูุนู ุดูุง (ู ููฺูู ูุณุชูุฏุงุช ููู ูุงุจุณุชฺฏโูุง crate ุดูุง) ูโุณุงุฒุฏ ู ูุชุฌู ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ูุจ ุจุงุฒ ูโฺฉูุฏ. ุจู ุชุงุจุน <code>add_one</code> ุจุฑูุฏ ู ุฎูุงูุฏ ุฏุฏ ฺฉู ฺฺฏููู ูุชู ููุฌูุฏ ุฏุฑ ูุธุฑุงุช ูุณุชูุฏุงุช ููุงุด ุฏุงุฏู ูโุดูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุดฺฉู 14-1 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<img alt="ูุณุชูุฏุงุช HTML ุชููุฏุดุฏู ุจุฑุง ุชุงุจุน `add_one` ุงุฒ `my_crate`" src="img/trpl14-01.png" class="center" />
<p><span class="caption">ุดฺฉู 14-1: ูุณุชูุฏุงุช HTML ุจุฑุง ุชุงุจุน <code>add_one</code></span></p>
<h4 id="ุจุฎุดูุง-ูุชุฏุงูู-ููุฑุฏ-ุงุณุชูุงุฏู"><a class="header" href="#ุจุฎุดูุง-ูุชุฏุงูู-ููุฑุฏ-ุงุณุชูุงุฏู">ุจุฎุดโูุง ูุชุฏุงูู ููุฑุฏ ุงุณุชูุงุฏู</a></h4>
<p>ูุง ุฏุฑ ูุณุชูฺฏ 14-1 ุงุฒ ุนููุงู Markdown <code># Examples</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฎุด ุฏุฑ HTML ุจุง ุนููุงู โExamplesโ ุงุณุชูุงุฏู ฺฉุฑุฏู. ุฏุฑ ุงูุฌุง ุจุฑุฎ ุฏฺฏุฑ ุงุฒ ุจุฎุดโูุง ฺฉู ููุณูุฏฺฏุงู crate ูุนูููุงู ุฏุฑ ูุณุชูุฏุงุช ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<ul>
<li><strong>Panics</strong>: ุณูุงุฑููุง ฺฉู ุฏุฑ ุขู ููฺฉู ุงุณุช ุชุงุจุน ูุณุชูุฏ ุดุฏู ุจุงุนุซ ุงุฌุงุฏ panic ุดูุฏ. ูุฑุงุฎูุงูุงู ุชุงุจุน ฺฉู ููโุฎูุงููุฏ ุจุฑูุงููโูุงุดุงู panic ฺฉููุฏ ุจุงุฏ ูุทูุฆู ุดููุฏ ฺฉู ุชุงุจุน ุฑุง ุฏุฑ ุงู ุดุฑุงุท ูุฑุงุฎูุงู ููโฺฉููุฏ.</li>
<li><strong>Errors</strong>: ุงฺฏุฑ ุชุงุจุน ฺฉ ููุฏุงุฑ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุชูุถุญ ุงููุงุน ุฎุทุงูุง ฺฉู ููฺฉู ุงุณุช ุฑุฎ ุฏูุฏ ู ุดุฑุงุท ฺฉู ููฺฉู ุงุณุช ุงู ุฎุทุงูุง ุฑุง ุงุฌุงุฏ ฺฉูุฏุ ุจุฑุง ูุฑุงุฎูุงูุงู ููุฏ ุงุณุช ุชุง ุจุชูุงููุฏ ฺฉุฏูุง ุจุฑุง ูุฏุฑุช ุงููุงุน ูุฎุชูู ุฎุทุงูุง ุจููุณูุฏ.</li>
<li><strong>Safety</strong>: ุงฺฏุฑ ุชุงุจุน <code>unsafe</code> ุจุฑุง ูุฑุงุฎูุงู ุจุงุดุฏ (ูุง ุนุฏู ุงูู ุฑุง ุฏุฑ ูุตู 20 ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ)ุ ุจุงุฏ ุจุฎุด ุชูุถุญ ุฏูุฏ ฺฉู ฺุฑุง ุชุงุจุน ูุงุงูู ุงุณุช ู ุงุตูู ุฑุง ฺฉู ุชุงุจุน ุงุฒ ูุฑุงุฎูุงูุงู ุงูุชุธุงุฑ ุฏุงุฑุฏ ุฑุนุงุช ฺฉููุฏ ูพูุดุด ุฏูุฏ.</li>
</ul>
<p>ุจุดุชุฑ ูุธุฑุงุช ูุณุชูุฏุงุช ุจู ููู ุงู ุจุฎุดโูุง ูุงุฒ ูุฏุงุฑูุฏุ ุงูุง ุงู ฺฉ ฺฺฉโูุณุช ุฎูุจ ุจุฑุง ุงุฏุขูุฑ ุฌูุจูโูุง ุงุฒ ฺฉุฏ ุดูุง ุงุณุช ฺฉู ฺฉุงุฑุจุฑุงู ุนูุงููโููุฏ ุจู ุฏุงูุณุชู ุขู ูุณุชูุฏ.</p>
<h4 id="ูุธุฑุงุช-ูุณุชูุฏุงุช-ุจู-ุนููุงู-ุชุณุช"><a class="header" href="#ูุธุฑุงุช-ูุณุชูุฏุงุช-ุจู-ุนููุงู-ุชุณุช">ูุธุฑุงุช ูุณุชูุฏุงุช ุจู ุนููุงู ุชุณุช</a></h4>
<p>ุงุถุงูู ฺฉุฑุฏู ุจููฺฉโูุง ฺฉุฏ ูุซุงู ุจู ูุธุฑุงุช ูุณุชูุฏุงุช ุดูุง ูโุชูุงูุฏ ุจู ููุงุด ูุญูู ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู ุดูุง ฺฉูฺฉ ฺฉูุฏุ ู ุงูุฌุงู ุงู ฺฉุงุฑ ฺฉ ูุฒุช ุงุถุงู ุฏุงุฑุฏ: ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo test</code>ุ ูุซุงูโูุง ฺฉุฏ ุฏุฑ ูุณุชูุฏุงุช ุดูุง ุฑุง ุจู ุนููุงู ุชุณุช ุงุฌุฑุง ุฎูุงูุฏ ฺฉุฑุฏ! ูฺ ฺุฒ ุจูุชุฑ ุงุฒ ูุณุชูุฏุงุช ุจุง ูุซุงู ูุณุช. ุงูุง ูฺ ฺุฒ ุจุฏุชุฑ ุงุฒ ูุซุงูโูุง ูุณุช ฺฉู ฺฉุงุฑ ููโฺฉููุฏ ุฒุฑุง ฺฉุฏ ุงุฒ ุฒูุงู ููุดุชู ุดุฏู ูุณุชูุฏุงุช ุชุบุฑ ฺฉุฑุฏู ุงุณุช. ุงฺฏุฑ <code>cargo test</code> ุฑุง ุจุง ูุณุชูุฏุงุช ุชุงุจุน <code>add_one</code> ุงุฒ ูุณุชูฺฏ 14-1 ุงุฌุฑุง ฺฉููุ ุจุฎุด ุฏุฑ ูุชุงุฌ ุชุณุช ูุงููุฏ ุฒุฑ ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-text">   Doc-tests my_crate

running 1 test
test src/lib.rs - add_one (line 5) ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.27s
</code></pre>
<p>ุงฺฉูููุ ุงฺฏุฑ ุชุงุจุน ุง ูุซุงู ุฑุง ุชุบุฑ ุฏูู ุจู ุทูุฑ ฺฉู <code>assert_eq!</code> ุฏุฑ ูุซุงู ุจุงุนุซ panic ุดูุฏ ู ุฏูุจุงุฑู <code>cargo test</code> ุฑุง ุงุฌุฑุง ฺฉููุ ุฎูุงูู ุฏุฏ ฺฉู ุชุณุชโูุง ูุณุชูุฏุงุช ุชุดุฎุต ูโุฏููุฏ ฺฉู ูุซุงู ู ฺฉุฏ ุจุง ฺฉุฏฺฏุฑ ููฺฏุงู ูุณุชูุฏ!</p>
<h4 id="ูุณุชูุฏุณุงุฒ-ุขุชููุง-ุดุงูู-ุดุฏู"><a class="header" href="#ูุณุชูุฏุณุงุฒ-ุขุชููุง-ุดุงูู-ุดุฏู">ูุณุชูุฏุณุงุฒ ุขุชูโูุง ุดุงูู ุดุฏู</a></h4>
<p>ุณุจฺฉ ูุธุฑ ูุณุชูุฏ <code>//!</code> ูุณุชูุฏุงุช ุฑุง ุจู ุขุชู ฺฉู ูุธุฑุงุช ุฑุง ุดุงูู ูโุดูุฏ ุงุถุงูู ูโฺฉูุฏุ ุจู ุฌุง ุขุชูโูุง ฺฉู ุจุนุฏ ุงุฒ ูุธุฑุงุช ูุฑุงุฑ ุฏุงุฑูุฏ. ูุง ูุนูููุงู ุงุฒ ุงู ูุธุฑุงุช ูุณุชูุฏ ุฏุฑ ูุงู ุงุตู crate (<em>src/lib.rs</em> ุจุฑ ุงุณุงุณ ูุฑุงุฑุฏุงุฏ) ุง ุฏุฑ ุฏุงุฎู ฺฉ ูุงฺูู ุจุฑุง ูุณุชูุฏุณุงุฒ ฺฉู crate ุง ูุงฺูู ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ุจุฑุง ูุซุงูุ ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ูุณุชูุฏุงุช ฺฉู ูุฏู crate <code>my_crate</code> ุฑุง ฺฉู ุดุงูู ุชุงุจุน <code>add_one</code> ุงุณุช ุชูุถุญ ูโุฏูุฏุ ูุธุฑุงุช ูุณุชูุฏ ฺฉู ุจุง <code>//!</code> ุดุฑูุน ูโุดููุฏ ุฑุง ุจู ุงุจุชุฏุง ูุงู <em>src/lib.rs</em> ุงุถุงูู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 14-2 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore">//! # My Crate
//!
//! `my_crate` is a collection of utilities to make performing certain
//! calculations more convenient.

/// Adds one to the number given.
// --snip--
<span class="boring">///
</span><span class="boring">/// # Examples
</span><span class="boring">///
</span><span class="boring">/// ```
</span><span class="boring">/// let arg = 5;
</span><span class="boring">/// let answer = my_crate::add_one(arg);
</span><span class="boring">///
</span><span class="boring">/// assert_eq!(6, answer);
</span><span class="boring">/// ```
</span><span class="boring">pub fn add_one(x: i32) -&gt; i32 {
</span><span class="boring">    x + 1
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 14-2: ูุณุชูุฏุงุช ุจุฑุง ฺฉู crate <code>my_crate</code></figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูฺ ฺฉุฏ ุจุนุฏ ุงุฒ ุขุฎุฑู ุฎุท ฺฉู ุจุง <code>//!</code> ุดุฑูุน ูโุดูุฏ ูุฌูุฏ ูุฏุงุฑุฏ. ฺูู ูุง ูุธุฑุงุช ุฑุง ุจุง <code>//!</code> ุดุฑูุน ฺฉุฑุฏูโุงู ุจู ุฌุง <code>///</code>ุ ูุง ุฏุฑ ุญุงู ูุณุชูุฏุณุงุฒ ุขุชู ูุณุชู ฺฉู ุงู ูุธุฑ ุฑุง ุดุงูู ูโุดูุฏ ุจู ุฌุง ุขุชู ฺฉู ุจุนุฏ ุงุฒ ุงู ูุธุฑ ูุฑุงุฑ ุฏุงุฑุฏ. ุฏุฑ ุงู ููุฑุฏุ ุขู ุขุชู ูุงู <em>src/lib.rs</em> ุงุณุช ฺฉู ุฑุดู crate ุงุณุช. ุงู ูุธุฑุงุช ฺฉู crate ุฑุง ุชูุถุญ ูโุฏููุฏ.</p>
<p>ููุช <code>cargo doc --open</code> ุฑุง ุงุฌุฑุง ูโฺฉููุ ุงู ูุธุฑุงุช ุฏุฑ ุตูุญู ุงูู ูุณุชูุฏุงุช crate <code>my_crate</code> ุจุงูุง ูุณุช ุขุชูโูุง ุนููู ุฏุฑ crate ููุงุด ุฏุงุฏู ูโุดููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุดฺฉู 14-2 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<img alt="Rendered HTML documentation with a comment for the crate as a whole" src="img/trpl14-02.png" class="center" />
<p><span class="caption">ุดฺฉู 14-2: ูุณุชูุฏุงุช ุชููุฏ ุดุฏู ุจุฑุง <code>my_crate</code>ุ ุดุงูู ุชูุถุญุงุช ุฏุฑ ููุฑุฏ ฺฉู crate</span></p>
<p>ูุธุฑุงุช ูุณุชูุฏุงุช ุฏุงุฎู ุขุชูโูุง ุจู ูฺู ุจุฑุง ุชูุตู crates ู ูุงฺููโูุง ููุฏ ูุณุชูุฏ. ุงุฒ ุขูโูุง ุจุฑุง ุชูุถุญ ูุฏู ฺฉู container ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุจู ฺฉุงุฑุจุฑุงู ุฎูุฏ ุฏุฑ ุฏุฑฺฉ ุณุงุฒูุงูโุฏู crate ฺฉูฺฉ ฺฉูุฏ.</p>
<h3 id="ุตุงุฏุฑุงุช-ฺฉ-api-ุนููู-ฺฉุงุฑุขูุฏ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-pub-use"><a class="header" href="#ุตุงุฏุฑุงุช-ฺฉ-api-ุนููู-ฺฉุงุฑุขูุฏ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-pub-use">ุตุงุฏุฑุงุช ฺฉ API ุนููู ฺฉุงุฑุขูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>pub use</code></a></h3>
<p>ุณุงุฎุชุงุฑ API ุนููู ุดูุง ฺฉ ููุถูุน ููู ููฺฏุงู ุงูุชุดุงุฑ ฺฉ crate ุงุณุช. ุงูุฑุงุฏ ฺฉู ุงุฒ crate ุดูุง ุงุณุชูุงุฏู ูโฺฉููุฏุ ฺฉูุชุฑ ุงุฒ ุดูุง ุจุง ุณุงุฎุชุงุฑ ุขู ุขุดูุง ูุณุชูุฏ ู ููฺฉู ุงุณุช ุฏุฑ ุงูุชู ูุณูุชโูุง ฺฉู ูโุฎูุงููุฏ ุงุณุชูุงุฏู ฺฉููุฏุ ุงฺฏุฑ crate ุดูุง ุฏุงุฑุง ฺฉ ุณูุณููโูุฑุงุชุจ ูุงฺูู ุจุฒุฑฺฏ ุจุงุดุฏุ ุฏฺุงุฑ ูุดฺฉู ุดููุฏ.</p>
<p>ุฏุฑ ูุตู 7ุ ูุญูู ุนููู ฺฉุฑุฏู ุขุชูโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>pub</code> ู ุขูุฑุฏู ุขุชูโูุง ุจู ฺฉ scope ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>use</code> ุฑุง ูพูุดุด ุฏุงุฏู. ุจุง ุงู ุญุงูุ ุณุงุฎุชุงุฑ ฺฉู ููฺฏุงู ุชูุณุนู ฺฉ crate ุจุฑุง ุดูุง ููุทู ุจู ูุธุฑ ูโุฑุณุฏ ููฺฉู ุงุณุช ุจุฑุง ฺฉุงุฑุจุฑุงู ุดูุง ฺูุฏุงู ููุงุณุจ ูุจุงุดุฏ. ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุณุงุฎุชุงุฑูุง ุฎูุฏ ุฑุง ุฏุฑ ฺฉ ุณูุณููโูุฑุงุชุจ ุจุง ฺูุฏู ุณุทุญ ุณุงุฒูุงูุฏู ฺฉูุฏุ ุงูุง ุณูพุณ ุงูุฑุงุฏ ฺฉู ูโุฎูุงููุฏ ุงุฒ ฺฉ ููุน ุชุนุฑูโุดุฏู ุนูู ุฏุฑ ุณูุณููโูุฑุงุชุจ ุงุณุชูุงุฏู ฺฉููุฏ ููฺฉู ุงุณุช ุฏุฑ ูพุฏุง ฺฉุฑุฏู ุขู ููุน ุฏฺุงุฑ ูุดฺฉู ุดููุฏ. ููฺูู ููฺฉู ุงุณุช ูุฌุจูุฑ ุดููุฏ ุจู ุฌุง <code>use my_crate::UsefulType;</code>ุ ฺุฒ ูุงููุฏ <code>use my_crate::some_module::another_module::UsefulType;</code> ุจููุณูุฏ ฺฉู ูุงุฎูุดุงูุฏ ุงุณุช.</p>
<p>ุฎุจุฑ ุฎูุจ ุงู ุงุณุช ฺฉู ุงฺฏุฑ ุณุงุฎุชุงุฑ <em>ุจุฑุง ุฏฺฏุฑุงู ุฑุงุญุช ูุณุช</em>ุ ูุงุฒ ูุณุช ุณุงุฒูุงูโุฏู ุฏุงุฎู ุฎูุฏ ุฑุง ุฏูุจุงุฑู ุจฺูุฏ: ุจู ุฌุง ุขู ูโุชูุงูุฏ ุขุชูโูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>pub use</code> ูุฌุฏุฏุงู ุตุงุฏุฑ ฺฉูุฏ ุชุง ฺฉ ุณุงุฎุชุงุฑ ุนููู ูุชูุงูุช ุงุฒ ุณุงุฎุชุงุฑ ุฎุตูุต ุฎูุฏ ุงุฌุงุฏ ฺฉูุฏ. ุตุงุฏุฑุงุช ูุฌุฏุฏ ฺฉ ุขุชู ุนููู ุฏุฑ ฺฉ ูฺฉุงู ุฑุง ูโฺฏุฑุฏ ู ุขู ุฑุง ุฏุฑ ฺฉ ูฺฉุงู ุฏฺฏุฑ ุนููู ูโฺฉูุฏุ ฺฏู ฺฉู ุฏุฑ ูฺฉุงู ุฏฺฏุฑ ุชุนุฑู ุดุฏู ุงุณุช.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ูุง ฺฉ ฺฉุชุงุจุฎุงูู ุจู ูุงู <code>art</code> ุจุฑุง ูุฏูโุณุงุฒ ููุงูู ููุฑ ุงุฌุงุฏ ฺฉุฑุฏูโุงู. ุฏุฑ ุงู ฺฉุชุงุจุฎุงูู ุฏู ูุงฺูู ูุฌูุฏ ุฏุงุฑูุฏ: ฺฉ ูุงฺูู <code>kinds</code> ฺฉู ุดุงูู ุฏู enum ุจู ูุงูโูุง <code>PrimaryColor</code> ู <code>SecondaryColor</code> ุงุณุช ู ฺฉ ูุงฺูู <code>utils</code> ฺฉู ุดุงูู ฺฉ ุชุงุจุน ุจู ูุงู <code>mix</code> ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 14-3 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground test_harness">//! # Art
//!
//! A library for modeling artistic concepts.

pub mod kinds {
    /// The primary colors according to the RYB color model.
    pub enum PrimaryColor {
        Red,
        Yellow,
        Blue,
    }

    /// The secondary colors according to the RYB color model.
    pub enum SecondaryColor {
        Orange,
        Green,
        Purple,
    }
}

pub mod utils {
    use crate::kinds::*;

    /// Combines two primary colors in equal amounts to create
    /// a secondary color.
    pub fn mix(c1: PrimaryColor, c2: PrimaryColor) -&gt; SecondaryColor {
        // --snip--
<span class="boring">        unimplemented!();
</span>    }
}</code></pre>
<figcaption>Listing 14-3: ฺฉ ฺฉุชุงุจุฎุงูู <code>art</code> ุจุง ุขุชูโูุง ฺฉู ุฏุฑ ูุงฺููโูุง <code>kinds</code> ู <code>utils</code> ุณุงุฒูุงูุฏู ุดุฏูโุงูุฏ</figcaption>
</figure>
<p>ุดฺฉู 14-3 ูุดุงู ูโุฏูุฏ ฺฉู ุตูุญู ุงูู ูุณุชูุฏุงุช ุงู crate ฺฉู ุชูุณุท <code>cargo doc</code> ุชููุฏ ุดุฏู ุงุณุช ฺฺฏููู ุจู ูุธุฑ ูโุฑุณุฏ:</p>
<img alt="ูุณุชูุฏุงุช ุชููุฏ ุดุฏู ุจุฑุง crate `art` ฺฉู ูุงฺููโูุง `kinds` ู `utils` ุฑุง ูุณุช ูโฺฉูุฏ" src="img/trpl14-03.png" class="center" />
<p><span class="caption">ุดฺฉู 14-3: ุตูุญู ุงูู ูุณุชูุฏุงุช crate <code>art</code> ฺฉู ูุงฺููโูุง <code>kinds</code> ู <code>utils</code> ุฑุง ูุณุช ูโฺฉูุฏ</span></p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุงููุงุน <code>PrimaryColor</code> ู <code>SecondaryColor</code> ุฏุฑ ุตูุญู ุงูู ูุณุช ูุดุฏูโุงูุฏุ ู ุชุงุจุน <code>mix</code> ูุฒ ูุณุช ูุดุฏู ุงุณุช. ุจุฑุง ุฏุฏู ุขูโูุง ุจุงุฏ ุฑู <code>kinds</code> ู <code>utils</code> ฺฉูฺฉ ฺฉูู.</p>
<p>ฺฉ crate ุฏฺฏุฑ ฺฉู ุจู ุงู ฺฉุชุงุจุฎุงูู ูุงุจุณุชู ุงุณุช ูุงุฒ ุฏุงุฑุฏ ฺฉู ุจุงููโูุง <code>use</code> ูุดุฎุต ฺฉููุฏ ฺฉู ุขุชูโูุง ุฑุง ุงุฒ <code>art</code> ุจู scope ูโุขูุฑูุฏุ ู ุณุงุฎุชุงุฑ ูุงฺูู ุชุนุฑูโุดุฏู ฺฉููู ุฑุง ุจุงู ฺฉููุฏ. ูุณุชูฺฏ 14-4 ฺฉ ูุซุงู ุงุฒ crateโุง ฺฉู ุขุชูโูุง <code>PrimaryColor</code> ู <code>mix</code> ุฑุง ุงุฒ crate <code>art</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use art::kinds::PrimaryColor;
use art::utils::mix;

fn main() {
    let red = PrimaryColor::Red;
    let yellow = PrimaryColor::Yellow;
    mix(red, yellow);
}</code></pre>
<figcaption>Listing 14-4: A crate using the <code>art</code> crateโs items with its internal structure exported</figcaption>
</figure>
<p>ููุณูุฏู ฺฉุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ 14-4 ูุดุงู ุฏุงุฏู ุดุฏู ู ุงุฒ crate <code>art</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุฌุจูุฑ ุจูุฏู ูุชูุฌู ุดูุฏ ฺฉู <code>PrimaryColor</code> ุฏุฑ ูุงฺูู <code>kinds</code> ู <code>mix</code> ุฏุฑ ูุงฺูู <code>utils</code> ูุฑุงุฑ ุฏุงุฑุฏ. ุณุงุฎุชุงุฑ ูุงฺูู crate <code>art</code> ุจุดุชุฑ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ฺฉู ุฑู ุงู crate ฺฉุงุฑ ูโฺฉููุฏ ูุฑุชุจุท ุงุณุช ุชุง ฺฉุณุงู ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ. ุณุงุฎุชุงุฑ ุฏุงุฎู ุงุทูุงุนุงุช ููุฏ ุจุฑุง ฺฉุณ ฺฉู ูโุฎูุงูุฏ ูุญูู ุงุณุชูุงุฏู ุงุฒ crate <code>art</code> ุฑุง ุจูููุฏ ุงุฑุงุฆู ููโุฏูุฏุ ุจูฺฉู ุจุดุชุฑ ุจุงุนุซ ุณุฑุฏุฑฺฏู ูโุดูุฏุ ุฒุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ ุจุงุฏ ุจููููุฏ ฺฉุฌุง ุฑุง ุจุงุฏ ุฌุณุชุฌู ฺฉููุฏ ู ูุงูโูุง ูุงฺูู ุฑุง ุฏุฑ ุจุงููโูุง <code>use</code> ูุดุฎุต ฺฉููุฏ.</p>
<p>ุจุฑุง ุญุฐู ุณุงุฒูุงูโุฏู ุฏุงุฎู ุงุฒ API ุนูููุ ูโุชูุงูู ฺฉุฏ crate <code>art</code> ุฑุง ุฏุฑ ูุณุชูฺฏ 14-3 ุชุบุฑ ุฏูู ุชุง ุจุงููโูุง <code>pub use</code> ุฑุง ุจุฑุง ุตุงุฏุฑุงุช ูุฌุฏุฏ ุขุชูโูุง ุฏุฑ ุณุทุญ ุจุงูุง ุงุถุงูู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 14-5 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore">//! # Art
//!
//! A library for modeling artistic concepts.

pub use self::kinds::PrimaryColor;
pub use self::kinds::SecondaryColor;
pub use self::utils::mix;

pub mod kinds {
    // --snip--
<span class="boring">    /// The primary colors according to the RYB color model.
</span><span class="boring">    pub enum PrimaryColor {
</span><span class="boring">        Red,
</span><span class="boring">        Yellow,
</span><span class="boring">        Blue,
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    /// The secondary colors according to the RYB color model.
</span><span class="boring">    pub enum SecondaryColor {
</span><span class="boring">        Orange,
</span><span class="boring">        Green,
</span><span class="boring">        Purple,
</span><span class="boring">    }
</span>}

pub mod utils {
    // --snip--
<span class="boring">    use crate::kinds::*;
</span><span class="boring">
</span><span class="boring">    /// Combines two primary colors in equal amounts to create
</span><span class="boring">    /// a secondary color.
</span><span class="boring">    pub fn mix(c1: PrimaryColor, c2: PrimaryColor) -&gt; SecondaryColor {
</span><span class="boring">        SecondaryColor::Orange
</span><span class="boring">    }
</span>}</code></pre>
<figcaption>Listing 14-5: ุงูุฒูุฏู ุจุงููโูุง <code>pub use</code> ุจุฑุง ุตุงุฏุฑุงุช ูุฌุฏุฏ ุขุชูโูุง</figcaption>
</figure>
<p>ูุณุชูุฏุงุช API ฺฉู <code>cargo doc</code> ุจุฑุง ุงู crate ุชููุฏ ูโฺฉูุฏ ุงฺฉููู ุตุงุฏุฑุงุชโูุง ูุฌุฏุฏ ุฑุง ุฏุฑ ุตูุญู ุงูู ูุณุช ฺฉุฑุฏู ู ุจู ุขูโูุง ููฺฉ ูโุฏูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุดฺฉู 14-4 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ฺฉุงุฑ ูพุฏุง ฺฉุฑุฏู ุงููุงุน <code>PrimaryColor</code> ู <code>SecondaryColor</code> ู ุชุงุจุน <code>mix</code> ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ.</p>
<img alt="ูุณุชูุฏุงุช ุชููุฏุดุฏู ุจุฑุง crate `art` ุจุง ุตุงุฏุฑุงุชโูุง ูุฌุฏุฏ ุฏุฑ ุตูุญู ุงูู" src="img/trpl14-04.png" class="center" />
<p><span class="caption">ุดฺฉู 14-4: ุตูุญู ุงูู ูุณุชูุฏุงุช ุจุฑุง crate <code>art</code> ฺฉู ุตุงุฏุฑุงุชโูุง ูุฌุฏุฏ ุฑุง ูุณุช ูโฺฉูุฏ</span></p>
<p>ฺฉุงุฑุจุฑุงู crate <code>art</code> ููฺูุงู ูโุชูุงููุฏ ุณุงุฎุชุงุฑ ุฏุงุฎู ุฑุง ุงุฒ ูุณุชูฺฏ 14-3 ุจุจููุฏ ู ุงุณุชูุงุฏู ฺฉููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 14-4 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุง ูโุชูุงููุฏ ุงุฒ ุณุงุฎุชุงุฑ ุฑุงุญุชโุชุฑ ุฏุฑ ูุณุชูฺฏ 14-5 ุงุณุชูุงุฏู ฺฉููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 14-6 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use art::mix;
use art::PrimaryColor;

fn main() {
    // --snip--
<span class="boring">    let red = PrimaryColor::Red;
</span><span class="boring">    let yellow = PrimaryColor::Yellow;
</span><span class="boring">    mix(red, yellow);
</span>}</code></pre>
<figcaption>Listing 14-6: ฺฉ ุจุฑูุงูู ฺฉู ุงุฒ ุขุชูโูุง ุตุงุฏุฑุงุชโุดุฏู ูุฌุฏุฏ crate <code>art</code> ุงุณุชูุงุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุฏุฑ ููุงุฑุฏ ฺฉู ูุงฺููโูุง ุชู ุฏุฑ ุชู ุฒุงุฏ ูุฌูุฏ ุฏุงุฑูุฏุ ุตุงุฏุฑุงุช ูุฌุฏุฏ ุงููุงุน ุฏุฑ ุณุทุญ ุจุงูุง ุจุง <code>pub use</code> ูโุชูุงูุฏ ุชูุงูุช ุจุฒุฑฺฏ ุฏุฑ ุชุฌุฑุจู ุงูุฑุงุฏ ฺฉู ุงุฒ crate ุงุณุชูุงุฏู ูโฺฉููุฏ ุงุฌุงุฏ ฺฉูุฏ. ฺฉ ุฏฺฏุฑ ุงุฒ ุงุณุชูุงุฏูโูุง ุฑุงุฌ <code>pub use</code>ุ ุตุงุฏุฑุงุช ูุฌุฏุฏ ุชุนุงุฑู ฺฉ ูุงุจุณุชฺฏ ุฏุฑ crate ูุนู ุจุฑุง ุชุจุฏู ุชุนุงุฑู ุขู ุจู ุจุฎุด ุงุฒ API ุนููู crate ุดูุง ุงุณุช.</p>
<p>ุงุฌุงุฏ ฺฉ ุณุงุฎุชุงุฑ API ุนููู ููุฏ ุจุดุชุฑ ุดุจู ฺฉ ููุฑ ุงุณุช ุชุง ฺฉ ุนููุ ู ูโุชูุงูุฏ ุจุง ุขุฒููู ู ุฎุทุง APIโุง ูพุฏุง ฺฉูุฏ ฺฉู ุจูุชุฑู ฺฉุงุฑฺฉุฑุฏ ุฑุง ุจุฑุง ฺฉุงุฑุจุฑุงู ุดูุง ุฏุงุดุชู ุจุงุดุฏ. ุงูุชุฎุงุจ <code>pub use</code> ุจู ุดูุง ุงูุนุทุงู ูโุฏูุฏ ฺฉู ฺฺฏููู crate ุฎูุฏ ุฑุง ุจู ุตูุฑุช ุฏุงุฎู ุณุงุฎุชุงุฑ ุฏูุฏ ู ุขู ุณุงุฎุชุงุฑ ุฏุงุฎู ุฑุง ุงุฒ ฺุฒ ฺฉู ุจู ฺฉุงุฑุจุฑุงู ุฎูุฏ ุงุฑุงุฆู ูโุฏูุฏ ุฌุฏุง ฺฉูุฏ. ุจู ุจุฑุฎ ุงุฒ ฺฉุฏูุง crateโูุง ฺฉู ูุตุจ ฺฉุฑุฏูโุงุฏ ูฺฏุงู ุจูุฏุงุฒุฏ ุชุง ุจุจูุฏ ุขุง ุณุงุฎุชุงุฑ ุฏุงุฎู ุขูโูุง ุจุง API ุนููู ุขูโูุง ุชูุงูุช ุฏุงุฑุฏ ุง ุฎุฑ.</p>
<h3 id="ุชูุธู-ฺฉ-ุญุณุงุจ-ุฏุฑ-cratesio"><a class="header" href="#ุชูุธู-ฺฉ-ุญุณุงุจ-ุฏุฑ-cratesio">ุชูุธู ฺฉ ุญุณุงุจ ุฏุฑ Crates.io</a></h3>
<p>ูุจู ุงุฒ ุงูฺฉู ุจุชูุงูุฏ ูุฑ crateโุง ุฑุง ููุชุดุฑ ฺฉูุฏุ ูุงุฒ ุฏุงุฑุฏ ฺฉู ฺฉ ุญุณุงุจ ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุงุฌุงุฏ ฺฉูุฏ ู ฺฉ ุชูฺฉู API ุฏุฑุงูุช ฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑุ ุจู ุตูุญู ุงุตู ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุจุฑูุฏ ู ุงุฒ ุทุฑู ุญุณุงุจ GitHub ูุงุฑุฏ ุดูุฏ. (ุฏุฑ ุญุงู ุญุงุถุฑ ุญุณุงุจ GitHub ฺฉ ูุงุฒ ุงุณุชุ ุงูุง ููฺฉู ุงุณุช ุณุงุช ุฏุฑ ุขูุฏู ุงุฒ ุฑูุดโูุง ุฏฺฏุฑ ุจุฑุง ุงุฌุงุฏ ุญุณุงุจ ูพุดุชุจุงู ฺฉูุฏ.) ูพุณ ุงุฒ ูุฑูุฏ ุจู ุณุณุชูุ ุจู ุชูุธูุงุช ุญุณุงุจ ุฎูุฏ ุฏุฑ <a href="https://crates.io/me/">https://crates.io/me/</a><!-- ignore --> ุจุฑูุฏ ู ฺฉูุฏ API ุฎูุฏ ุฑุง ุฏุฑุงูุช ฺฉูุฏ. ุณูพุณ ุฏุณุชูุฑ <code>cargo login</code> ุฑุง ุงุฌุฑุง ฺฉุฑุฏู ู ฺฉูุฏ API ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏุ ูุงููุฏ ุงู:</p>
<pre><code class="language-console">$ cargo login
abcdefghijklmnopqrstuvwxyz012345
</code></pre>
<p>ุงู ุฏุณุชูุฑ Cargo ุฑุง ุงุฒ ุชูฺฉู API ุดูุง ูุทูุน ฺฉุฑุฏู ู ุขู ุฑุง ุจู ุตูุฑุช ูุญู ุฏุฑ ูุงู <em>~/.cargo/credentials</em> ุฐุฎุฑู ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ุชูฺฉู ฺฉ <em>ุฑุงุฒ</em> ุงุณุช: ุขู ุฑุง ุจุง ูฺโฺฉุณ ุฏฺฏุฑ ุจู ุงุดุชุฑุงฺฉ ูฺฏุฐุงุฑุฏ. ุงฺฏุฑ ุจู ูุฑ ุฏูู ุงู ุชูฺฉู ุฑุง ุจุง ฺฉุณ ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชุฏุ ุจุงุฏ ุขู ุฑุง ูุบู ฺฉูุฏ ู ฺฉ ุชูฺฉู ุฌุฏุฏ ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุงุฌุงุฏ ฺฉูุฏ.</p>
<h3 id="ุงูุฒูุฏู-ูุชุงุฏุชุง-ุจู-ฺฉ-crate-ุฌุฏุฏ"><a class="header" href="#ุงูุฒูุฏู-ูุชุงุฏุชุง-ุจู-ฺฉ-crate-ุฌุฏุฏ">ุงูุฒูุฏู ูุชุงุฏุชุง ุจู ฺฉ Crate ุฌุฏุฏ</a></h3>
<p>ูุฑุถ ฺฉูุฏ ฺฉ crate ุฏุงุฑุฏ ฺฉู ูโุฎูุงูุฏ ููุชุดุฑ ฺฉูุฏ. ูุจู ุงุฒ ุงูุชุดุงุฑุ ูุงุฒ ุฏุงุฑุฏ ฺฉู ุจุฑุฎ ูุชุงุฏุชุง ุฑุง ุฏุฑ ุจุฎุด <code>[package]</code> ูุงู <em>Cargo.toml</em> crate ุฎูุฏ ุงุถุงูู ฺฉูุฏ.</p>
<p>crate ุดูุง ุจุงุฏ ฺฉ ูุงู ููุญุตุฑ ุจู ูุฑุฏ ุฏุงุดุชู ุจุงุดุฏ. ุฏุฑ ุญุงู ฺฉู ุจู ุตูุฑุช ูุญู ุฑู ฺฉ crate ฺฉุงุฑ ูโฺฉูุฏุ ูโุชูุงูุฏ ูุฑ ูุงู ฺฉู ุฏูุณุช ุฏุงุฑุฏ ุจุฑุง crate ุฎูุฏ ุงูุชุฎุงุจ ฺฉูุฏ. ุจุง ุงู ุญุงูุ ูุงูโูุง crate ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุจู ุตูุฑุช ุงููู ุฏุฑุฎูุงุณุชโฺฉููุฏู ุชุฎุตุต ุฏุงุฏู ูโุดููุฏ. ููฺฏุงู ฺฉู ฺฉ ูุงู ุจุฑุง ฺฉ crate ฺฏุฑูุชู ุดูุฏุ ูฺ ฺฉุณ ุฏฺฏุฑ ููโุชูุงูุฏ ฺฉ crate ุจุง ุขู ูุงู ููุชุดุฑ ฺฉูุฏ. ูุจู ุงุฒ ุชูุงุด ุจุฑุง ุงูุชุดุงุฑ ฺฉ crateุ ุฌุณุชุฌู ฺฉูุฏ ฺฉู ูุงู ฺฉู ูโุฎูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช ุง ุฎุฑ. ุงฺฏุฑ ูุงู ุงุณุชูุงุฏู ุดุฏู ุจุงุดุฏุ ุจุงุฏ ฺฉ ูุงู ุฏฺฏุฑ ูพุฏุง ฺฉูุฏ ู ููุฏ <code>name</code> ุฑุง ุฏุฑ ูุงู <em>Cargo.toml</em> ุฏุฑ ุฒุฑ ุจุฎุด <code>[package]</code> ูุฑุงุด ฺฉูุฏ ุชุง ุงุฒ ูุงู ุฌุฏุฏ ุจุฑุง ุงูุชุดุงุฑ ุงุณุชูุงุฏู ฺฉูุฏุ ูุงููุฏ ุฒุฑ:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[package]
name = "guessing_game"
</code></pre>
<p>ุญุช ุงฺฏุฑ ฺฉ ูุงู ููุญุตุฑ ุจู ูุฑุฏ ุงูุชุฎุงุจ ฺฉุฑุฏู ุจุงุดุฏุ ุฒูุงู ฺฉู <code>cargo publish</code> ุฑุง ุจุฑุง ุงูุชุดุงุฑ crate ุฏุฑ ุงู ูุฑุญูู ุงุฌุฑุง ฺฉูุฏุ ฺฉ ูุดุฏุงุฑ ู ุณูพุณ ฺฉ ุฎุทุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo publish
    Updating crates.io index
warning: manifest has no description, license, license-file, documentation, homepage or repository.
See https://doc.rust-lang.org/cargo/reference/manifest.html#package-metadata for more info.
--snip--
error: failed to publish to registry at https://crates.io

Caused by:
  the remote server responded with an error (status 400 Bad Request): missing or empty metadata fields: description, license. Please see https://doc.rust-lang.org/cargo/reference/manifest.html for more information on configuring these field
</code></pre>
<p>ุงู ุฎุทุง ุจู ุฏูู ุงู ุงุณุช ฺฉู ุดูุง ุจุฑุฎ ุงุทูุงุนุงุช ุญุงุช ุฑุง ุงุฒ ุฏุณุช ุฏุงุฏูโุงุฏ: ฺฉ ุชูุถุญ ู ฺฉ ูุฌูุฒ ููุฑุฏ ูุงุฒ ุงุณุช ุชุง ุงูุฑุงุฏ ุจุฏุงููุฏ crate ุดูุง ฺู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ ู ุชุญุช ฺู ุดุฑุงุท ูโุชูุงููุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุฏ. ุฏุฑ ูุงู <em>Cargo.toml</em>ุ ฺฉ ุชูุถุญ ุงุถุงูู ฺฉูุฏ ฺฉู ููุท ฺฉ ุง ุฏู ุฌููู ุจุงุดุฏุ ุฒุฑุง ุงู ุชูุถุญ ููุฑุงู crate ุดูุง ุฏุฑ ูุชุงุฌ ุฌุณุชุฌู ุธุงูุฑ ุฎูุงูุฏ ุดุฏ. ุจุฑุง ููุฏ <code>license</code>ุ ุจุงุฏ ฺฉ <em>ููุฏุงุฑ ุดูุงุณฺฏุฑ ูุฌูุฒ</em> ุงุฑุงุฆู ุฏูุฏ. <a href="http://spdx.org/licenses/">ูพุฑูฺู Software Package Data Exchange (SPDX)</a> ูุณุช ุงุฒ ุดูุงุณฺฏุฑูุง ฺฉู ูโุชูุงูุฏ ุจุฑุง ุงู ููุฏุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ. ุจุฑุง ูุซุงูุ ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู crate ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฌูุฒ MIT ููุชุดุฑ ฺฉุฑุฏูโุงุฏุ ุดูุงุณฺฏุฑ <code>MIT</code> ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[package]
name = "guessing_game"
license = "MIT"
</code></pre>
<p>ุงฺฏุฑ ูโุฎูุงูุฏ ุงุฒ ูุฌูุฒ ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุฏุฑ ูุณุช SPDX ููุฌูุฏ ูุณุชุ ุจุงุฏ ูุชู ุขู ูุฌูุฒ ุฑุง ุฏุฑ ฺฉ ูุงู ูุฑุงุฑ ุฏูุฏุ ูุงู ุฑุง ุฏุฑ ูพุฑูฺู ุฎูุฏ ุงุถุงูู ฺฉูุฏ ู ุณูพุณ ุงุฒ ฺฉูุฏ <code>license-file</code> ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ูุงู ุขู ูุงู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏ <code>license</code> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฑุงูููุง ุฏุฑุจุงุฑู ุงูฺฉู ฺฉุฏุงู ูุฌูุฒ ุจุฑุง ูพุฑูฺู ุดูุง ููุงุณุจ ุงุณุชุ ูุฑุงุชุฑ ุงุฒ ูุญุฏูุฏู ุงู ฺฉุชุงุจ ุงุณุช. ุจุณุงุฑ ุงุฒ ุงูุฑุงุฏ ุฏุฑ ุฌุงูุนู Rust ูพุฑูฺูโูุง ุฎูุฏ ุฑุง ุจู ููุงู ุฑูุด ฺฉู Rust ูุฌูุฒ ุฏุงุฏู ุงุณุชุ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุฌูุฒ ุฏูฺฏุงูู <code>MIT OR Apache-2.0</code> ูุฌูุฒ ูโุฏููุฏ. ุงู ุฑูุด ูุดุงู ูโุฏูุฏ ฺฉู ุดูุง ูโุชูุงูุฏ ฺูุฏู ุดูุงุณู ูุฌูุฒ ุฑุง ุจุง ุฌุฏุง ฺฉุฑุฏู ุขูโูุง ุจุง <code>OR</code> ูุดุฎุต ฺฉูุฏ ุชุง ฺูุฏู ูุฌูุฒ ุจุฑุง ูพุฑูฺู ุฎูุฏ ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุจุง ฺฉ ูุงู ููุญุตุฑ ุจู ูุฑุฏุ ูุณุฎูุ ุชูุถุญุงุชุ ู ฺฉ ูุฌูุฒ ุงุถุงูู ุดุฏูุ ูุงู <em>Cargo.toml</em> ุจุฑุง ฺฉ ูพุฑูฺู ุขูุงุฏู ุงูุชุดุงุฑ ููฺฉู ุงุณุช ุจู ุงู ุตูุฑุช ุจุงุดุฏ:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[package]
name = "guessing_game"
version = "0.1.0"
edition = "2021"
description = "A fun game where you guess what number the computer has chosen."
license = "MIT OR Apache-2.0"

[dependencies]
</code></pre>
<p><a href="https://doc.rust-lang.org/cargo/">ูุณุชูุฏุงุช Cargo</a> ุณุงุฑ ูุชุงุฏุชุงูุง ฺฉู ูโุชูุงูุฏ ูุดุฎุต ฺฉูุฏ ุชุง ุฏฺฏุฑุงู ุจุชูุงููุฏ crate ุดูุง ุฑุง ุฑุงุญุชโุชุฑ ูพุฏุง ฺฉุฑุฏู ู ุงุณุชูุงุฏู ฺฉููุฏ ุชูุถุญ ูโุฏูุฏ.</p>
<h3 id="ุงูุชุดุงุฑ-ุฏุฑ-cratesio"><a class="header" href="#ุงูุชุดุงุฑ-ุฏุฑ-cratesio">ุงูุชุดุงุฑ ุฏุฑ Crates.io</a></h3>
<p>ุงฺฉููู ฺฉู ฺฉ ุญุณุงุจ ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏุ ุชูฺฉู API ุฎูุฏ ุฑุง ุฐุฎุฑู ฺฉุฑุฏูโุงุฏุ ูุงู ุจุฑุง crate ุฎูุฏ ุงูุชุฎุงุจ ฺฉุฑุฏูโุงุฏุ ู ูุชุงุฏุชุง ููุฑุฏ ูุงุฒ ุฑุง ูุดุฎุต ฺฉุฑุฏูโุงุฏุ ุขูุงุฏู ุงูุชุดุงุฑ ูุณุชุฏ! ุงูุชุดุงุฑ ฺฉ crate ูุณุฎูโุง ุฎุงุต ุงุฒ ุขู ุฑุง ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุขูพููุฏ ูโฺฉูุฏ ุชุง ุฏฺฏุฑุงู ุจุชูุงููุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุฏ.</p>
<p>ุฏูุช ฺฉูุฏุ ุฒุฑุง ุงูุชุดุงุฑ <em>ุฏุงุฆู</em> ุงุณุช. ูุณุฎู ูุฑฺฏุฒ ููโุชูุงูุฏ ุจุงุฒููุณ ุดูุฏุ ู ฺฉุฏ ููโุชูุงูุฏ ุญุฐู ุดูุฏ. ฺฉ ุงุฒ ุงูุฏุงู ุงุตู <a href="https://crates.io/">crates.io</a><!-- ignore --> ุงู ุงุณุช ฺฉู ุจู ุนููุงู ฺฉ ุขุฑุดู ุฏุงุฆู ุงุฒ ฺฉุฏ ุนูู ฺฉูุฏุ ุจู ุทูุฑ ฺฉู ุณุงุฎุชโูุง ููู ูพุฑูฺูโูุง ฺฉู ุจู crates ุงุฒ <a href="https://crates.io/">crates.io</a><!-- ignore --> ูุงุจุณุชู ูุณุชูุฏุ ููฺูุงู ฺฉุงุฑ ฺฉููุฏ. ุงุฌุงุฒู ุญุฐู ูุณุฎูโูุง ุชุญูู ุงู ูุฏู ุฑุง ุบุฑููฺฉู ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ูฺ ูุญุฏูุฏุช ุจุฑุง ุชุนุฏุงุฏ ูุณุฎูโูุง crate ฺฉู ูโุชูุงูุฏ ููุชุดุฑ ฺฉูุฏ ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>ุฏุณุชูุฑ <code>cargo publish</code> ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ. ุงฺฉููู ุจุงุฏ ูููู ุดูุฏ:</p>
<!-- manual-regeneration
go to some valid crate, publish a new version
cargo publish
copy just the relevant lines below
-->
<pre><code class="language-console">$ cargo publish
    Updating crates.io index
   Packaging guessing_game v0.1.0 (file:///projects/guessing_game)
   Verifying guessing_game v0.1.0 (file:///projects/guessing_game)
   Compiling guessing_game v0.1.0
(file:///projects/guessing_game/target/package/guessing_game-0.1.0)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.19s
   Uploading guessing_game v0.1.0 (file:///projects/guessing_game)
</code></pre>
<p>ุชุจุฑฺฉ ูโฺฏูู! ุดูุง ุงฺฉููู ฺฉุฏ ุฎูุฏ ุฑุง ุจุง ุฌุงูุนู Rust ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชูโุงุฏ ู ูุฑ ฺฉุณ ูโุชูุงูุฏ ุจู ุฑุงุญุช crate ุดูุง ุฑุง ุจู ุนููุงู ฺฉ ูุงุจุณุชฺฏ ุจู ูพุฑูฺู ุฎูุฏ ุงุถุงูู ฺฉูุฏ.</p>
<h3 id="ุงูุชุดุงุฑ-ูุณุฎู-ุฌุฏุฏ-ุงุฒ-ฺฉ-crate-ููุฌูุฏ"><a class="header" href="#ุงูุชุดุงุฑ-ูุณุฎู-ุฌุฏุฏ-ุงุฒ-ฺฉ-crate-ููุฌูุฏ">ุงูุชุดุงุฑ ูุณุฎู ุฌุฏุฏ ุงุฒ ฺฉ Crate ููุฌูุฏ</a></h3>
<p>ููุช ุชุบุฑุงุช ุฏุฑ crate ุฎูุฏ ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏ ู ุขูุงุฏู ุงูุชุดุงุฑ ฺฉ ูุณุฎู ุฌุฏุฏ ูุณุชุฏุ ููุฏุงุฑ <code>version</code> ูุดุฎุตโุดุฏู ุฏุฑ ูุงู <em>Cargo.toml</em> ุฎูุฏ ุฑุง ุชุบุฑ ุฏุงุฏู ู ุฏูุจุงุฑู ููุชุดุฑ ฺฉูุฏ. ุงุฒ <a href="http://semver.org/">ููุงูู ูุณุฎูโุจูุฏ ูุนูุง (Semantic Versioning)</a> ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุชุตูู ุจฺฏุฑุฏ ฺฉู ุจุฑ ุงุณุงุณ ููุน ุชุบุฑุงุช ฺฉู ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏุ ฺู ุดูุงุฑู ูุณุฎูโุง ููุงุณุจ ุงุณุช. ุณูพุณ ุฏุณุชูุฑ <code>cargo publish</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ูุณุฎู ุฌุฏุฏ ุขูพููุฏ ุดูุฏ.</p>
<!-- ููฺฉ ูุฏูุ ุญุฐู ูฺฉูุฏ -->
<p><a id="removing-versions-from-cratesio-with-cargo-yank"></a></p>
<h3 id="ุงุฒ-ุฑุฏู-ุฎุงุฑุฌ-ฺฉุฑุฏู-ูุณุฎููุง-ุงุฒ-cratesio-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-cargo-yank"><a class="header" href="#ุงุฒ-ุฑุฏู-ุฎุงุฑุฌ-ฺฉุฑุฏู-ูุณุฎููุง-ุงุฒ-cratesio-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-cargo-yank">ุงุฒ ุฑุฏู ุฎุงุฑุฌ ฺฉุฑุฏู ูุณุฎูโูุง ุงุฒ Crates.io ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo yank</code></a></h3>
<p>ุงฺฏุฑฺู ููโุชูุงูุฏ ูุณุฎูโูุง ูุจู ฺฉ crate ุฑุง ุญุฐู ฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ ุงุถุงูู ุดุฏู ุขูโูุง ุจู ุนููุงู ูุงุจุณุชฺฏ ุฌุฏุฏ ุฏุฑ ูพุฑูฺูโูุง ุขูุฏู ุฌููฺฏุฑ ฺฉูุฏ. ุงู ูฺฺฏ ุฒูุงู ููุฏ ุงุณุช ฺฉู ฺฉ ูุณุฎู ุงุฒ crate ุจู ูุฑ ุฏูู ุฎุฑุงุจ ุจุงุดุฏ. ุฏุฑ ฺูู ููุงุฑุฏุ Cargo ุงุฒ <em>ููฺฉ ฺฉุฑุฏู</em> (yanking) ฺฉ ูุณุฎู ุงุฒ crate ูพุดุชุจุงู ูโฺฉูุฏ.</p>
<p>ููฺฉ ฺฉุฑุฏู ฺฉ ูุณุฎู ุจุงุนุซ ูโุดูุฏ ฺฉู ูพุฑูฺูโูุง ุฌุฏุฏ ูุชูุงููุฏ ุจู ุขู ูุณุฎู ูุงุจุณุชู ุดููุฏุ ุฏุฑ ุญุงู ฺฉู ุชูุงู ูพุฑูฺูโูุง ููุฌูุฏ ฺฉู ุจู ุขู ูุณุฎู ูุงุจุณุชู ูุณุชูุฏ ุจู ฺฉุงุฑ ุฎูุฏ ุงุฏุงูู ูโุฏููุฏ. ุจู ุทูุฑ ุฎูุงุตูุ ููฺฉ ุจู ุงู ูุนูุงุณุช ฺฉู ุชูุงู ูพุฑูฺูโูุง ฺฉู ุฏุงุฑุง ูุงู <em>Cargo.lock</em> ูุณุชูุฏ ุดฺฉุณุชู ูุฎูุงููุฏ ุดุฏ ู ูุฑ ูุงู <em>Cargo.lock</em> ุฌุฏุฏ ฺฉู ุชููุฏ ุดูุฏ ุงุฒ ูุณุฎู ููฺฉโุดุฏู ุงุณุชูุงุฏู ูุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุจุฑุง ููฺฉ ฺฉุฑุฏู ฺฉ ูุณุฎู ุงุฒ ฺฉ crateุ ุฏุฑ ุฏุงุฑฺฉุชูุฑ crateโุง ฺฉู ูุจูุงู ููุชุดุฑ ฺฉุฑุฏูโุงุฏุ ุฏุณุชูุฑ <code>cargo yank</code> ุฑุง ุงุฌุฑุง ฺฉุฑุฏู ู ูุณุฎูโุง ฺฉู ูโุฎูุงูุฏ ููฺฉ ฺฉูุฏ ุฑุง ูุดุฎุต ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุงฺฏุฑ ูุง ฺฉ crate ุจู ูุงู <code>guessing_game</code> ูุณุฎู 1.0.1 ููุชุดุฑ ฺฉุฑุฏู ุจุงุดู ู ุจุฎูุงูู ุขู ุฑุง ููฺฉ ฺฉููุ ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู <code>guessing_game</code> ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo yank --vers 1.0.1
    Updating crates.io index
        Yank guessing_game@1.0.1
</code></pre>
<p>ุจุง ุงูุฒูุฏู ฺฏุฒูู <code>--undo</code> ุจู ุฏุณุชูุฑุ ูโุชูุงูุฏ ููฺฉ ุฑุง ูุบู ฺฉุฑุฏู ู ุจู ูพุฑูฺูโูุง ุงุฌุงุฒู ุฏูุฏ ุฏูุจุงุฑู ุจู ุขู ูุณุฎู ูุงุจุณุชู ุดููุฏ:</p>
<pre><code class="language-console">$ cargo yank --vers 1.0.1 --undo
    Updating crates.io index
      Unyank guessing_game@1.0.1
</code></pre>
<p>ููฺฉ <em>ูฺ ฺฉุฏ ุฑุง ุญุฐู ููโฺฉูุฏ</em>. ุจู ุนููุงู ูุซุงูุ ููโุชูุงูุฏ ุงุทูุงุนุงุช ุญุณุงุณ ฺฉู ุจู ุทูุฑ ุชุตุงุฏู ุขูพููุฏ ุดุฏูโุงูุฏ ุฑุง ุญุฐู ฺฉูุฏ. ุงฺฏุฑ ฺูู ุงุชูุงู ุงูุชุงุฏุ ุจุงุฏ ููุฑุงู ุขู ุงุทูุงุนุงุช ุญุณุงุณ ุฑุง ุจุงุฒูุดุงู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="workspaces-ุฏุฑ-cargo"><a class="header" href="#workspaces-ุฏุฑ-cargo">Workspaces ุฏุฑ Cargo</a></h2>
<p>ุฏุฑ ูุตู 12ุ ูุง ฺฉ ูพฺฉุฌ ุณุงุฎุชู ฺฉู ุดุงูู ฺฉ crate ุจุงูุฑ ู ฺฉ crate ฺฉุชุงุจุฎุงููโุง ุจูุฏ. ููุงูโุทูุฑ ฺฉู ูพุฑูฺู ุดูุง ุชูุณุนู ูโุงุจุฏุ ููฺฉู ุงุณุช ูุชูุฌู ุดูุฏ ฺฉู crate ฺฉุชุงุจุฎุงููโุง ููฺูุงู ุจุฒุฑฺฏโุชุฑ ูโุดูุฏ ู ุจุฎูุงูุฏ ูพฺฉุฌ ุฎูุฏ ุฑุง ุจุดุชุฑ ุจู crateโูุง ฺฉุชุงุจุฎุงููโุง ฺูุฏฺฏุงูู ุชูุณู ฺฉูุฏ. Cargo ฺฉ ูฺฺฏ ุจู ูุงู <em>workspaces</em> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ุจู ูุฏุฑุช ูพฺฉุฌโูุง ูุฑุชุจุท ฺฉู ุจู ุตูุฑุช ููุฒูุงู ุชูุณุนู ุฏุงุฏู ูโุดููุฏ ฺฉูฺฉ ฺฉูุฏ.</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-workspace"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-workspace">ุงุฌุงุฏ ฺฉ Workspace</a></h3>
<p>ฺฉ <em>workspace</em> ูุฌููุนูโุง ุงุฒ ูพฺฉุฌโูุง ุงุณุช ฺฉู ฺฉ ูุงู <em>Cargo.lock</em> ู ุฏุงุฑฺฉุชูุฑ ุฎุฑูุฌ ูุดุชุฑฺฉ ุฏุงุฑูุฏ. ุจุงุฏ ฺฉ ูพุฑูฺู ุจุง ุงุณุชูุงุฏู ุงุฒ workspace ุงุฌุงุฏ ฺฉููโูุง ุงุฒ ฺฉุฏ ุณุงุฏูโุง ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ุชุง ุจุชูุงูู ุจุฑ ุณุงุฎุชุงุฑ workspace ุชูุฑฺฉุฒ ฺฉูู. ุฑุงูโูุง ูุชุนุฏุฏ ุจุฑุง ุณุงุฎุชู ฺฉ workspace ูุฌูุฏ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ููุท ฺฉ ุฑูุด ุฑุงุฌ ุฑุง ูุดุงู ุฎูุงูู ุฏุงุฏ. ูุง ฺฉ workspace ุดุงูู ฺฉ ุจุงูุฑ ู ุฏู ฺฉุชุงุจุฎุงูู ุฎูุงูู ุฏุงุดุช. ุจุงูุฑ ฺฉู ุนููฺฉุฑุฏ ุงุตู ุฑุง ูุฑุงูู ุฎูุงูุฏ ฺฉุฑุฏุ ุจู ุฏู ฺฉุชุงุจุฎุงูู ูุงุจุณุชู ุฎูุงูุฏ ุจูุฏ. ฺฉ ฺฉุชุงุจุฎุงูู ุชุงุจุน <code>add_one</code> ู ฺฉุชุงุจุฎุงูู ุฏฺฏุฑ ุชุงุจุน <code>add_two</code> ุงุฑุงุฆู ุฎูุงูุฏ ุฏุงุฏ. ุงู ุณู crate ุจุฎุด ุงุฒ ฺฉ workspace ุฎูุงููุฏ ุจูุฏ. ุงุจุชุฏุง ุจุง ุงุฌุงุฏ ฺฉ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ุจุฑุง workspace ุดุฑูุน ูโฺฉูู:</p>
<pre><code class="language-console">$ mkdir add
$ cd add
</code></pre>
<p>ุณูพุณุ ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>add</em>ุ ูุงู <em>Cargo.toml</em> ุฑุง ุงุฌุงุฏ ูโฺฉูู ฺฉู ฺฉู workspace ุฑุง ูพฺฉุฑุจูุฏ ูโฺฉูุฏ. ุงู ูุงู ุจุฎุด <code>[package]</code> ูุฎูุงูุฏ ุฏุงุดุช. ุฏุฑ ุนูุถุ ุจุง ฺฉ ุจุฎุด <code>[workspace]</code> ุดุฑูุน ูโุดูุฏ ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุนุถุง ุฑุง ุจู workspace ุงุถุงูู ฺฉูู. ููฺูู ูุณุฎู ุฌุฏุฏุชุฑ ุงูฺฏูุฑุชู resolver Cargo ุฑุง ุจุง ุชูุธู <code>resolver</code> ุจู <code>"2"</code> ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[workspace]
resolver = "2"
</code></pre>
<p>ุณูพุณุ crate ุจุงูุฑ <code>adder</code> ุฑุง ุจุง ุงุฌุฑุง <code>cargo new</code> ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>add</em> ุงุฌุงุฏ ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo new adder
    Creating binary (application) `adder` package
      Adding `adder` as member of workspace at `file:///projects/add`
</code></pre>
<p>ุงุฌุฑุง <code>cargo new</code> ุฏุงุฎู ฺฉ workspace ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูพฺฉุฌ ุชุงุฒู ุงุฌุงุฏ ุดุฏู ุฑุง ุจู ฺฉูุฏ <code>members</code> ุฏุฑ ุชุนุฑู <code>[workspace]</code> ุฏุฑ ูุงู <code>Cargo.toml</code> workspace ุงุถุงูู ูโฺฉูุฏุ ุจู ุงู ุตูุฑุช:</p>
<pre><code class="language-toml">[workspace]
resolver = "2"
members = ["adder"]
</code></pre>
<p>ุฏุฑ ุงู ูุฑุญููุ ูโุชูุงูู workspace ุฑุง ุจุง ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo build</code> ุจุณุงุฒู. ูุงูโูุง ููุฌูุฏ ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>add</em> ุดูุง ุจุงุฏ ุจู ุงู ุตูุฑุช ุจุงุดูุฏ:</p>
<pre><code class="language-text">โโโ Cargo.lock
โโโ Cargo.toml
โโโ adder
โ   โโโ Cargo.toml
โ   โโโ src
โ       โโโ main.rs
โโโ target
</code></pre>
<p>Workspace ฺฉ ุฏุงุฑฺฉุชูุฑ <em>target</em> ุฏุฑ ุณุทุญ ุจุงูุง ุฏุงุฑุฏ ฺฉู ูุงูโูุง ฺฉุงููพุงูโุดุฏู ุฏุฑ ุขู ูุฑุงุฑ ุฎูุงููุฏ ฺฏุฑูุช. ูพฺฉุฌ <code>adder</code> ุฏุงุฑฺฉุชูุฑ <em>target</em> ุงุฎุชุตุงุต ุฎูุฏ ุฑุง ูุฏุงุฑุฏ. ุญุช ุงฺฏุฑ ุฏุณุชูุฑ <code>cargo build</code> ุฑุง ุงุฒ ุฏุงุฎู ุฏุงุฑฺฉุชูุฑ <em>adder</em> ุงุฌุฑุง ฺฉููุ ูุงูโูุง ฺฉุงููพุงูโุดุฏู ููฺูุงู ุฏุฑ <em>add/target</em> ูุฑุงุฑ ูโฺฏุฑูุฏ ูู ุฏุฑ <em>add/adder/target</em>. Cargo ุฏุงุฑฺฉุชูุฑ <em>target</em> ุฑุง ุฏุฑ ฺฉ workspace ุจู ุงู ุตูุฑุช ุณุงุฎุชุงุฑุฏู ูโฺฉูุฏ ุฒุฑุง crateโูุง ููุฌูุฏ ุฏุฑ ฺฉ workspace ุจุฑุง ูุงุจุณุชฺฏ ุจู ฺฉุฏฺฏุฑ ุทุฑุงุญ ุดุฏูโุงูุฏ. ุงฺฏุฑ ูุฑ crate ุฏุงุฑฺฉุชูุฑ <em>target</em> ุงุฎุชุตุงุต ุฎูุฏ ุฑุง ุฏุงุดุชุ ูุฑ crate ูุฌุจูุฑ ุจูุฏ ูุฑ ฺฉุฏุงู ุงุฒ crateโูุง ุฏฺฏุฑ ุฑุง ุฏุฑ workspace ุฏูุจุงุฑู ฺฉุงููพุงู ฺฉูุฏ ุชุง ูุงูโูุง ฺฉุงููพุงูโุดุฏู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>target</em> ุฎูุฏ ูุฑุงุฑ ุฏูุฏ. ุจุง ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉ ุฏุงุฑฺฉุชูุฑ <em>target</em>ุ crateโูุง ูโุชูุงููุฏ ุงุฒ ุณุงุฎุช ูุฌุฏุฏ ุบุฑุถุฑูุฑ ุฌููฺฏุฑ ฺฉููุฏ.</p>
<h3 id="ุงุฌุงุฏ-ูพฺฉุฌ-ุฏูู-ุฏุฑ-workspace"><a class="header" href="#ุงุฌุงุฏ-ูพฺฉุฌ-ุฏูู-ุฏุฑ-workspace">ุงุฌุงุฏ ูพฺฉุฌ ุฏูู ุฏุฑ Workspace</a></h3>
<p>ุญุงูุงุ ุจุงุฏ ฺฉ ูพฺฉุฌ ุนุถู ุฏฺฏุฑ ุฏุฑ workspace ุงุฌุงุฏ ฺฉูู ู ุขู ุฑุง <code>add_one</code> ุจูุงูู. ูุงู <em>Cargo.toml</em> ุฏุฑ ุณุทุญ ุจุงูุง ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ูุณุฑ <em>add_one</em> ุฑุง ุฏุฑ ูุณุช <code>members</code> ูุดุฎุต ฺฉูุฏ:</p>
<p><span class="filename">Filename: Cargo.toml</span></p>
<pre><code class="language-toml">[workspace]
resolver = "2"
members = ["adder", "add_one"]
</code></pre>
<p>ุณูพุณ ฺฉ crate ฺฉุชุงุจุฎุงููโุง ุฌุฏุฏ ุจู ูุงู <code>add_one</code> ุงุฌุงุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo new add_one --lib
    Creating library `add_one` package
      Adding `add_one` as member of workspace at `file:///projects/add`
</code></pre>
<p>ุฏุงุฑฺฉุชูุฑ <em>add</em> ุดูุง ุงฺฉููู ุจุงุฏ ุดุงูู ุงู ุฏุงุฑฺฉุชูุฑโูุง ู ูุงูโูุง ุจุงุดุฏ:</p>
<pre><code class="language-text">โโโ Cargo.lock
โโโ Cargo.toml
โโโ add_one
โ   โโโ Cargo.toml
โ   โโโ src
โ       โโโ lib.rs
โโโ adder
โ   โโโ Cargo.toml
โ   โโโ src
โ       โโโ main.rs
โโโ target
</code></pre>
<p>ุฏุฑ ูุงู <em>add_one/src/lib.rs</em>ุ ุชุงุจุน ุจู ูุงู <code>add_one</code> ุงุถุงูู ฺฉูู:</p>
<p><span class="filename">Filename: add_one/src/lib.rs</span></p>
<pre><code class="language-rust noplayground">pub fn add_one(x: i32) -&gt; i32 {
    x + 1
}</code></pre>
<p>ุญุงูุง ูโุชูุงูู ูพฺฉุฌ <code>adder</code> ฺฉู ุญุงู ุจุงูุฑ ูุง ุงุณุช ุฑุง ูุงุจุณุชู ุจู ูพฺฉุฌ <code>add_one</code> ฺฉู ุญุงู ฺฉุชุงุจุฎุงูู ูุง ุงุณุช ฺฉูู. ุงุจุชุฏุง ุจุงุฏ ฺฉ ูุงุจุณุชฺฏ ูุณุฑ (path dependency) ุจู <code>add_one</code> ุฏุฑ ูุงู <em>adder/Cargo.toml</em> ุงุถุงูู ฺฉูู.</p>
<p><span class="filename">Filename: adder/Cargo.toml</span></p>
<pre><code class="language-toml">[dependencies]
add_one = { path = "../add_one" }
</code></pre>
<p>Cargo ูุฑุถ ููโฺฉูุฏ ฺฉู crateโูุง ููุฌูุฏ ุฏุฑ ฺฉ workspace ุจู ฺฉุฏฺฏุฑ ูุงุจุณุชู ูุณุชูุฏุ ุจูุงุจุฑุงู ูุง ุจุงุฏ ุจู ุตุฑุงุญุช ุฑูุงุจุท ูุงุจุณุชฺฏ ุฑุง ูุดุฎุต ฺฉูู.</p>
<p>ุฏุฑ ุงุฏุงููุ ุจุงุฏ ุงุฒ ุชุงุจุน <code>add_one</code> (ุงุฒ crate ุจู ูุงู <code>add_one</code>) ุฏุฑ crate ุจู ูุงู <code>adder</code> ุงุณุชูุงุฏู ฺฉูู. ูุงู <em>adder/src/main.rs</em> ุฑุง ุจุงุฒ ฺฉูุฏ ู ุชุงุจุน <code>main</code> ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ุชุงุจุน <code>add_one</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑด-ท ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: adder/src/main.rs</span>
<pre><code class="language-rust ignore">fn main() {
    let num = 10;
    println!("Hello, world! {num} plus one is {}!", add_one::add_one(num));
}</code></pre>
<figcaption>Listing 14-7: Using the <code>add_one</code> library crate in the <code>adder</code> crate</figcaption>
</figure>
<p>ุจุงุฏ workspace ุฑุง ุจุง ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo build</code> ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุณุทุญ ุจุงูุง <em>add</em> ุจุณุงุฒู!</p>
<pre><code class="language-console">$ cargo build
   Compiling add_one v0.1.0 (file:///projects/add/add_one)
   Compiling adder v0.1.0 (file:///projects/add/adder)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.22s
</code></pre>
<p>ุจุฑุง ุงุฌุฑุง crate ุจุงูุฑ ุงุฒ ุฏุงุฑฺฉุชูุฑ <em>add</em>ุ ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ ุขุฑฺฏููุงู <code>-p</code> ู ูุงู ูพฺฉุฌ ููุฑุงู ุจุง ุฏุณุชูุฑ <code>cargo run</code> ูุดุฎุต ฺฉูู ฺฉุฏุงู ูพฺฉุฌ ุฏุฑ workspace ุงุฌุฑุง ุดูุฏ:</p>
<pre><code class="language-console">$ cargo run -p adder
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/adder`
Hello, world! 10 plus one is 11!
</code></pre>
<p>ุงู ฺฉุฏ ุฏุฑ ูุงู <em>adder/src/main.rs</em> ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ฺฉู ุจู crate <code>add_one</code> ูุงุจุณุชู ุงุณุช.</p>
<h4 id="ูุงุจุณุชฺฏ-ุจู-ฺฉ-ูพฺฉุฌ-ุฎุงุฑุฌ-ุฏุฑ-ฺฉ-workspace"><a class="header" href="#ูุงุจุณุชฺฏ-ุจู-ฺฉ-ูพฺฉุฌ-ุฎุงุฑุฌ-ุฏุฑ-ฺฉ-workspace">ูุงุจุณุชฺฏ ุจู ฺฉ ูพฺฉุฌ ุฎุงุฑุฌ ุฏุฑ ฺฉ Workspace</a></h4>
<p>ุชูุฌู ฺฉูุฏ ฺฉู workspace ููุท ฺฉ ูุงู <em>Cargo.lock</em> ุฏุฑ ุณุทุญ ุจุงูุง ุฏุงุฑุฏุ ุจู ุฌุง ุงูฺฉู ูุฑ crate ุฏุงุฑฺฉุชูุฑ ุฎูุฏ ูุงู <em>Cargo.lock</em> ุฏุงุดุชู ุจุงุดุฏ. ุงู ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุชูุงู crateโูุง ุงุฒ ููุงู ูุณุฎู ุชูุงู ูุงุจุณุชฺฏโูุง ุงุณุชูุงุฏู ูโฺฉููุฏ. ุงฺฏุฑ ูพฺฉุฌ <code>rand</code> ุฑุง ุจู ูุงูโูุง <em>adder/Cargo.toml</em> ู <em>add_one/Cargo.toml</em> ุงุถุงูู ฺฉููุ Cargo ูุฑ ุฏู ุฑุง ุจู ฺฉ ูุณุฎู ุงุฒ <code>rand</code> ุชุจุฏู ูโฺฉูุฏ ู ุขู ุฑุง ุฏุฑ ูุงู <em>Cargo.lock</em> ุซุจุช ูโฺฉูุฏ. ุงุทููุงู ุงุฒ ุงูฺฉู ููู crateโูุง ููุฌูุฏ ุฏุฑ workspace ุงุฒ ููุงู ูุงุจุณุชฺฏโูุง ุงุณุชูุงุฏู ูโฺฉููุฏุ ุจู ุงู ูุนูุงุณุช ฺฉู crateโูุง ููุดู ุจุง ฺฉุฏฺฏุฑ ุณุงุฒฺฏุงุฑ ุฎูุงููุฏ ุจูุฏ. ุจุงุฏ ูพฺฉุฌ <code>rand</code> ุฑุง ุจู ุจุฎุด <code>[dependencies]</code> ุฏุฑ ูุงู <em>add_one/Cargo.toml</em> ุงุถุงูู ฺฉูู ุชุง ุจุชูุงูู ุงุฒ crate <code>rand</code> ุฏุฑ crate <code>add_one</code> ุงุณุชูุงุฏู ฺฉูู:</p>
<!-- When updating the version of `rand` used, also update the version of
`rand` used in these files so they all match:
* ch02-00-guessing-game-tutorial.md
* ch07-04-bringing-paths-into-scope-with-the-use-keyword.md
-->
<p><span class="filename">Filename: add_one/Cargo.toml</span></p>
<pre><code class="language-toml">[dependencies]
rand = "0.8.5"
</code></pre>
<p>ุญุงูุง ูโุชูุงูู <code>use rand;</code> ุฑุง ุจู ูุงู <em>add_one/src/lib.rs</em> ุงุถุงูู ฺฉูู ู ุจุง ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo build</code> ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>add</em> ฺฉู workspace ุฑุง ุจุณุงุฒูุ ฺฉู crate <code>rand</code> ุฑุง ูุงุฑุฏ ฺฉุฑุฏู ู ฺฉุงููพุงู ุฎูุงูุฏ ฺฉุฑุฏ. ฺฉ ูุดุฏุงุฑ ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ ุฒุฑุง ุจู <code>rand</code> ฺฉู ุจู ูุญุฏูุฏู ูุงุฑุฏ ุดุฏู ุงุณุช ุงุดุงุฑูโุง ููโฺฉูู:</p>
<pre><code class="language-console">$ cargo build
    Updating crates.io index
  Downloaded rand v0.8.5
   --snip--
   Compiling rand v0.8.5
   Compiling add_one v0.1.0 (file:///projects/add/add_one)
warning: unused import: `rand`
 --&gt; add_one/src/lib.rs:1:5
  |
1 | use rand;
  |     ^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: `add_one` (lib) generated 1 warning (run `cargo fix --lib -p add_one` to apply 1 suggestion)
   Compiling adder v0.1.0 (file:///projects/add/adder)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.95s
</code></pre>
<p>ูุงู <em>Cargo.lock</em> ุฏุฑ ุณุทุญ ุจุงูุง ุงฺฉููู ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ูุงุจุณุชฺฏ <code>add_one</code> ุจู <code>rand</code> ุฏุงุฑุฏ. ุจุง ุงู ุญุงูุ ุญุช ุงฺฏุฑ <code>rand</code> ุฏุฑ ุฌุง ุงุฒ workspace ุงุณุชูุงุฏู ุดูุฏุ ููโุชูุงูู ุงุฒ ุขู ุฏุฑ crateโูุง ุฏฺฏุฑ workspace ุงุณุชูุงุฏู ฺฉูู ูฺฏุฑ ุงูฺฉู <code>rand</code> ุฑุง ุจู ูุงูโูุง <em>Cargo.toml</em> ุขูโูุง ูุฒ ุงุถุงูู ฺฉูู. ุจุฑุง ูุซุงูุ ุงฺฏุฑ <code>use rand;</code> ุฑุง ุจู ูุงู <em>adder/src/main.rs</em> ุจุฑุง ูพฺฉุฌ <code>adder</code> ุงุถุงูู ฺฉููุ ุจุง ุฎุทุง ููุงุฌู ุฎูุงูู ุดุฏ:</p>
<pre><code class="language-console">$ cargo build
  --snip--
   Compiling adder v0.1.0 (file:///projects/add/adder)
error[E0432]: unresolved import `rand`
 --&gt; adder/src/main.rs:2:5
  |
2 | use rand;
  |     ^^^^ no external crate `rand`
</code></pre>
<p>ุจุฑุง ุฑูุน ุงู ูุดฺฉูุ ูุงู <em>Cargo.toml</em> ูพฺฉุฌ <code>adder</code> ุฑุง ูุฑุงุด ฺฉุฑุฏู ู ูุดุฎุต ฺฉูุฏ ฺฉู <code>rand</code> ุจุฑุง ุขู ูุฒ ฺฉ ูุงุจุณุชฺฏ ุงุณุช. ุณุงุฎุชู ูพฺฉุฌ <code>adder</code>ุ <code>rand</code> ุฑุง ุจู ูุณุช ูุงุจุณุชฺฏโูุง <code>adder</code> ุฏุฑ ูุงู <em>Cargo.lock</em> ุงุถุงูู ูโฺฉูุฏุ ุงูุง ูฺ ูุณุฎู ุงุถุงู ุงุฒ <code>rand</code> ุฏุงูููุฏ ูุฎูุงูุฏ ุดุฏ. Cargo ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ูุฑ crate ุฏุฑ ูุฑ ูพฺฉุฌ ุงุฒ workspace ฺฉู ุงุฒ ูพฺฉุฌ <code>rand</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงุฒ ููุงู ูุณุฎู ุงุณุชูุงุฏู ฺฉูุฏุ ุจู ุดุฑุท ฺฉู ูุณุฎูโูุง ุณุงุฒฺฏุงุฑ ุงุฒ <code>rand</code> ุฑุง ูุดุฎุต ฺฉููุฏ. ุงู ฺฉุงุฑ ูุถุง ูุง ุฑุง ุฐุฎุฑู ฺฉุฑุฏู ู ุชุถูู ูโฺฉูุฏ ฺฉู crateโูุง workspace ุจุง ฺฉุฏฺฏุฑ ุณุงุฒฺฏุงุฑ ุฎูุงููุฏ ุจูุฏ.</p>
<p>ุงฺฏุฑ crateโูุง workspace ูุณุฎูโูุง ูุงุณุงุฒฺฏุงุฑ ุงุฒ ฺฉ ูุงุจุณุชฺฏ ุฑุง ูุดุฎุต ฺฉููุฏุ Cargo ูุฑ ฺฉ ุงุฒ ุขูโูุง ุฑุง ุฌุฏุงฺฏุงูู ุญู ุฎูุงูุฏ ฺฉุฑุฏุ ุงูุง ููฺูุงู ุชูุงุด ูโฺฉูุฏ ฺฉู ุชุนุฏุงุฏ ูุณุฎูโูุง ุญูโุดุฏู ุฑุง ุจู ุญุฏุงูู ุจุฑุณุงูุฏ.</p>
<h4 id="ุงูุฒูุฏู-ฺฉ-ุชุณุช-ุจู-ฺฉ-workspace"><a class="header" href="#ุงูุฒูุฏู-ฺฉ-ุชุณุช-ุจู-ฺฉ-workspace">ุงูุฒูุฏู ฺฉ ุชุณุช ุจู ฺฉ Workspace</a></h4>
<p>ุจุฑุง ฺฉ ุจูุจูุฏ ุฏฺฏุฑุ ุจุงุฏ ฺฉ ุชุณุช ุจุฑุง ุชุงุจุน <code>add_one::add_one</code> ุฏุฑ crate <code>add_one</code> ุงุถุงูู ฺฉูู:</p>
<p><span class="filename">Filename: add_one/src/lib.rs</span></p>
<pre><code class="language-rust noplayground">pub fn add_one(x: i32) -&gt; i32 {
    x + 1
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn it_works() {
        assert_eq!(3, add_one(2));
    }
}</code></pre>
<p>ุญุงูุง ุฏุณุชูุฑ <code>cargo test</code> ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุณุทุญ ุจุงูุง <em>add</em> ุงุฌุฑุง ฺฉูุฏ. ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo test</code> ุฏุฑ ฺฉ workspace ุจุง ุณุงุฎุชุงุฑ ูุงููุฏ ุงูุ ุชุณุชโูุง ุชูุงู crateโูุง ููุฌูุฏ ุฏุฑ workspace ุฑุง ุงุฌุฑุง ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling add_one v0.1.0 (file:///projects/add/add_one)
   Compiling adder v0.1.0 (file:///projects/add/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.20s
     Running unittests src/lib.rs (target/debug/deps/add_one-f0253159197f7841)

running 1 test
test tests::it_works ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/adder-49979ff40686fa8e)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests add_one

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
</code></pre>
<p>ุจุฎุด ุงูู ุฎุฑูุฌ ูุดุงู ูโุฏูุฏ ฺฉู ุชุณุช <code>it_works</code> ุฏุฑ crate <code>add_one</code> ูพุงุณ ุดุฏู ุงุณุช. ุจุฎุด ุจุนุฏ ูุดุงู ูโุฏูุฏ ฺฉู ูฺ ุชุณุช ุฏุฑ crate <code>adder</code> ูพุฏุง ูุดุฏู ุงุณุชุ ู ุณูพุณ ุจุฎุด ุขุฎุฑ ูุดุงู ูโุฏูุฏ ฺฉู ูฺ ุชุณุช ูุณุชูุฏุงุช ุฏุฑ crate <code>add_one</code> ูพุฏุง ูุดุฏู ุงุณุช.</p>
<p>ูุง ููฺูู ูโุชูุงูู ุชุณุชโูุง ฺฉ crate ุฎุงุต ุฏุฑ workspace ุฑุง ุงุฒ ุฏุงุฑฺฉุชูุฑ ุณุทุญ ุจุงูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฏุฒูู <code>-p</code> ู ูุดุฎุต ฺฉุฑุฏู ูุงู crateโุง ฺฉู ูโุฎูุงูู ุชุณุช ฺฉููุ ุงุฌุฑุง ฺฉูู:</p>
<!-- manual-regeneration
cd listings/ch14-more-about-cargo/no-listing-04-workspace-with-tests/add
cargo test -p add_one
copy output below; the output updating script doesn't handle subdirectories in paths properly
-->
<pre><code class="language-console">$ cargo test -p add_one
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.00s
     Running unittests src/lib.rs (target/debug/deps/add_one-b3235fea9a156f74)

running 1 test
test tests::it_works ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests add_one

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
</code></pre>
<p>ุงู ุฎุฑูุฌ ูุดุงู ูโุฏูุฏ ฺฉู <code>cargo test</code> ููุท ุชุณุชโูุง crate <code>add_one</code> ุฑุง ุงุฌุฑุง ฺฉุฑุฏู ู ุชุณุชโูุง crate <code>adder</code> ุฑุง ุงุฌุฑุง ูฺฉุฑุฏู ุงุณุช.</p>
<p>ุงฺฏุฑ crateโูุง ููุฌูุฏ ุฏุฑ workspace ุฑุง ุฏุฑ <a href="https://crates.io/">crates.io</a> ููุชุดุฑ ฺฉูุฏุ ูุฑ crate ุฏุฑ workspace ุจุงุฏ ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ููุชุดุฑ ุดูุฏ. ูุดุงุจู ุจุง <code>cargo test</code>ุ ูโุชูุงูู ฺฉ crate ุฎุงุต ุฑุง ุฏุฑ workspace ุฎูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฏุฒูู <code>-p</code> ู ูุดุฎุต ฺฉุฑุฏู ูุงู crateโุง ฺฉู ูโุฎูุงูู ููุชุดุฑ ฺฉููุ ููุชุดุฑ ฺฉูู.</p>
<p>ุจุฑุง ุชูุฑู ุจุดุชุฑุ ฺฉ crate ุฌุฏุฏ ุจู ูุงู <code>add_two</code> ุจู ุงู workspace ุงุถุงูู ฺฉูุฏุ ุจู ุดููโุง ูุดุงุจู crate <code>add_one</code>!</p>
<p>ููุงูโุทูุฑ ฺฉู ูพุฑูฺู ุดูุง ุฑุดุฏ ูโฺฉูุฏุ ุงุณุชูุงุฏู ุงุฒ ฺฉ workspace ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ: ูููุฏู ุงุฌุฒุง ฺฉูฺฺฉโุชุฑ ู ุฌุฏุงฺฏุงูู ุขุณุงูโุชุฑ ุงุฒ ฺฉุงุฑ ฺฉุฑุฏู ุจุง ฺฉ ฺฉุฏ ุจุฒุฑฺฏ ู ฺฉูพุงุฑฺู ุงุณุช. ุนูุงูู ุจุฑ ุงูุ ูฺฏู ุฏุงุดุชู crateโูุง ุฏุฑ ฺฉ workspace ูโุชูุงูุฏ ููุงููฺฏ ุจู ุขูโูุง ุฑุง ุขุณุงูโุชุฑ ฺฉูุฏุ ุจู ุฎุตูุต ุงฺฏุฑ crateโูุง ุงุบูุจ ุจู ุทูุฑ ููุฒูุงู ุชุบุฑ ฺฉููุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><!-- ููฺฉ ูุฏูุ ุญุฐู ูฺฉูุฏ -->
<p><a id="installing-binaries-from-cratesio-with-cargo-install"></a></p>
<h2 id="ูุตุจ-ุจุงูุฑูุง-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-cargo-install"><a class="header" href="#ูุตุจ-ุจุงูุฑูุง-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-cargo-install">ูุตุจ ุจุงูุฑโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo install</code></a></h2>
<p>ุฏุณุชูุฑ <code>cargo install</code> ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู crateโูุง ุจุงูุฑ ุฑุง ุจู ุตูุฑุช ูุญู ูุตุจ ู ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุฏุณุชูุฑ ุจูโููุธูุฑ ุฌุงฺฏุฒู ุจุณุชูโูุง ุณุณุชู ุทุฑุงุญ ูุดุฏู ุงุณุชุ ุจูฺฉู ฺฉ ุฑุงู ุขุณุงู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู Rust ูุฑุงูู ูโฺฉูุฏ ุชุง ุงุจุฒุงุฑูุง ฺฉู ุฏฺฏุฑุงู ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชูโุงูุฏ ุฑุง ูุตุจ ฺฉููุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุท ูพฺฉุฌโูุง ุฑุง ฺฉู ุฏุงุฑุง ูุฏู ุจุงูุฑ ูุณุชูุฏ ูโุชูุงูุฏ ูุตุจ ฺฉูุฏ. <em>ูุฏู ุจุงูุฑ</em> ุจุฑูุงูู ูุงุจูโุงุฌุฑุง ุงุณุช ฺฉู ุฏุฑ ุตูุฑุช ุงุฌุงุฏ ูโุดูุฏ ฺฉู crate ุดุงูู ฺฉ ูุงู <em>src/main.rs</em> ุง ูุงู ุฏฺฏุฑ ุจุงุดุฏ ฺฉู ุจู ุนููุงู ุจุงูุฑ ูุดุฎุต ุดุฏู ุงุณุช. ุงู ุฏุฑ ููุงุจู ูุฏู ฺฉุชุงุจุฎุงููโุง ูุฑุงุฑ ุฏุงุฑุฏ ฺฉู ุจู ุชููุง ูุงุจู ุงุฌุฑุง ูุณุชุ ุงูุง ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุณุงุฑ ุจุฑูุงููโูุง ููุงุณุจ ุงุณุช. ูุนูููุงู crateโูุง ุฏุฑ ูุงู <em>README</em> ุงุทูุงุนุงุช ุฏุฑ ููุฑุฏ ุงูฺฉู ุขุง ฺฉ crate ฺฉุชุงุจุฎุงูู ุงุณุชุ ุฏุงุฑุง ูุฏู ุจุงูุฑ ุงุณุช ุง ูุฑ ุฏูุ ุงุฑุงุฆู ูโุฏููุฏ.</p>
<p>ุชูุงู ุจุงูุฑโูุง ฺฉู ุจุง <code>cargo install</code> ูุตุจ ูโุดููุฏุ ุฏุฑ ูพูุดู <em>bin</em> ูุณุฑ ูุตุจ ุฐุฎุฑู ูโุดููุฏ. ุงฺฏุฑ Rust ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <em>rustup.rs</em> ูุตุจ ฺฉุฑุฏู ุจุงุดุฏ ู ูฺ ุชูุธูุงุช ุณูุงุฑุด ูุฏุงุดุชู ุจุงุดุฏุ ุงู ูุณุฑ ูุนูููุงู <em>$HOME/.cargo/bin</em> ุฎูุงูุฏ ุจูุฏ. ูุทูุฆู ุดูุฏ ฺฉู ุงู ูุณุฑ ุฏุฑ ูุชุบุฑ ูุญุท <code>$PATH</code> ุดูุง ูุฑุงุฑ ุฏุงุฑุฏ ุชุง ุจุชูุงูุฏ ุจุฑูุงููโูุง ฺฉู ุจุง <code>cargo install</code> ูุตุจ ฺฉุฑุฏูโุงุฏ ุงุฌุฑุง ฺฉูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ุฏุฑ ูุตู 12 ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ฺฉ ูพุงุฏูโุณุงุฒ Rust ุงุฒ ุงุจุฒุงุฑ <code>grep</code> ุจู ูุงู <code>ripgrep</code> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจุฑุง ุฌุณุชุฌู ูุงูโูุง ุงุณุชูุงุฏู ูโุดูุฏ. ุจุฑุง ูุตุจ <code>ripgrep</code> ูโุชูุงูู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูู:</p>
<pre><code class="language-console">$ cargo install ripgrep
    Updating crates.io index
  Downloaded ripgrep v13.0.0
  Downloaded 1 crate (243.3 KB) in 0.88s
  Installing ripgrep v13.0.0
--snip--
   Compiling ripgrep v13.0.0
    Finished `release` profile [optimized + debuginfo] target(s) in 10.64s
  Installing ~/.cargo/bin/rg
   Installed package `ripgrep v13.0.0` (executable `rg`)
</code></pre>
<p>ุฎุท ุฏูู ุจู ุขุฎุฑ ุฎุฑูุฌ ูุดุงู ูโุฏูุฏ ฺฉู ุจุงูุฑ ูุตุจโุดุฏู ุฏุฑ ฺฉุฌุง ู ุจุง ฺู ูุงู ูุฑุงุฑ ุฏุงุฑุฏุ ฺฉู ุฏุฑ ููุฑุฏ <code>ripgrep</code> ุงู ุจุงูุฑ <code>rg</code> ูุงู ุฏุงุฑุฏ. ุชุง ุฒูุงู ฺฉู ูุณุฑ ูุตุจ ุฏุฑ ูุชุบุฑ <code>$PATH</code> ุดูุง ุจุงุดุฏุ ููุงูโุทูุฑ ฺฉู ูุจูุงู ุฐฺฉุฑ ุดุฏุ ูโุชูุงูุฏ ุจุง ุงุฌุฑุง <code>rg --help</code> ุงุณุชูุงุฏู ุงุฒ ุงู ุงุจุฒุงุฑ ุณุฑุนโุชุฑ ู ูุฑุชุจุท ุจุง Rust ุจุฑุง ุฌุณุชุฌู ูุงูโูุง ุฑุง ุดุฑูุน ฺฉูุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฏุณุชุฑุด-cargo-ุจุง-ุฏุณุชูุฑุงุช-ุณูุงุฑุด"><a class="header" href="#ฺฏุณุชุฑุด-cargo-ุจุง-ุฏุณุชูุฑุงุช-ุณูุงุฑุด">ฺฏุณุชุฑุด Cargo ุจุง ุฏุณุชูุฑุงุช ุณูุงุฑุด</a></h2>
<div dir="rtl">
Cargo ุจู ฺฏูููโุง ุทุฑุงุญ ุดุฏู ุงุณุช ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ุจุง ุฒุฑูุฑูุงูโูุง ุฌุฏุฏ ฺฏุณุชุฑุด ุฏูุฏุ ุจุฏูู ุงูฺฉู ูุงุฒ ุจู ุชุบุฑ ุฏุฑ Cargo ุจุงุดุฏ. ุงฺฏุฑ ฺฉ ุจุงูุฑ ุฏุฑ ูุณุฑ `$PATH` ุดูุง ุจุง ูุงู `cargo-something` ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ุขู ุฑุง ุจู ฺฏูููโุง ุงุฌุฑุง ฺฉูุฏ ฺฉู ฺฏู ฺฉ ุฒุฑูุฑูุงู Cargo ุงุณุชุ ุจุง ุงุฌุฑุง `cargo something`. ุฏุณุชูุฑุงุช ุณูุงุฑุด ูุงููุฏ ุงู ูุฒ ุฒูุงู ฺฉู `cargo --list` ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ูุณุช ูโุดููุฏ. ุงูฺฉุงู ุงุณุชูุงุฏู ุงุฒ `cargo install` ุจุฑุง ูุตุจ ุงูุฒูููโูุง ู ุณูพุณ ุงุฌุฑุง ุขูโูุง ูุงููุฏ ุงุจุฒุงุฑูุง ุฏุงุฎู Cargo ฺฉ ุงุฒ ูุฒุงุง ุจุณุงุฑ ุฑุงุญุช ุทุฑุงุญ Cargo ุงุณุช!
</div>
<h2 id="ุฎูุงุตู-13"><a class="header" href="#ุฎูุงุตู-13">ุฎูุงุตู</a></h2>
<p>ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุฏ ุจุง Cargo ู <a href="https://crates.io/">crates.io</a><!-- ignore --> ุจุฎุด ุงุฒ ุนูุงูู ุงุณุช ฺฉู ุงฺฉูุณุณุชู Rust ุฑุง ุจุฑุง ุจุณุงุฑ ุงุฒ ูุธุงู ูุฎุชูู ููุฏ ูโฺฉูุฏ. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ฺฉูฺฺฉ ู ูพุงุฏุงุฑ ุงุณุชุ ุงูุง crateโูุง ุจู ุฑุงุญุช ูุงุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑุ ุงุณุชูุงุฏู ู ุจูุจูุฏ ูุณุชูุฏ ู ุจุง ฺฉ ุฎุท ุฒูุงู ูุชูุงูุช ุงุฒ ุฒุจุงู ุชูุณุนู ูโุงุจูุฏ. ุงุฒ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุฏ ฺฉู ุจุฑุง ุดูุง ููุฏ ุงุณุช ุฏุฑ <a href="https://crates.io/">crates.io</a><!-- ignore --> ุฎุฌุงูุช ูฺฉุดุฏุ ุงุญุชูุงูุงู ุจุฑุง ุฏฺฏุฑุงู ูุฒ ููุฏ ุฎูุงูุฏ ุจูุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุงุดุงุฑูฺฏุฑ-pointerูุง-ููุดููุฏ-smart-pointers"><a class="header" href="#ุงุดุงุฑูฺฏุฑ-pointerูุง-ููุดููุฏ-smart-pointers">ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ (Smart Pointers)</a></h1>
<p><em>ุงุดุงุฑูโฺฏุฑ (Pointer)</em> ฺฉ ููููู ฺฉู ุจุฑุง ฺฉ ูุชุบุฑ ุงุณุช ฺฉู ุดุงูู ฺฉ ุขุฏุฑุณ ุฏุฑ ุญุงูุธู ูโุดูุฏ. ุงู ุขุฏุฑุณ ุจู ุจุฑุฎ ุฏุงุฏูโูุง ุฏฺฏุฑ
ุงุฑุฌุงุน ูโุฏูุฏ ุง ุจูโุงุตุทูุงุญ โุงุดุงุฑู ูโฺฉูุฏโ. ุฑุงุฌโุชุฑู ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) ุฏุฑ Rust ฺฉ ุงุฑุฌุงุน ุงุณุช ฺฉู ุฏุฑ ูุตู ด ุจุง ุขู ุขุดูุง ุดุฏุฏ.
ุงุฑุฌุงุนุงุช ุจุง ููุงุฏ <code>&amp;</code> ูุดุฎุต ูโุดููุฏ ู ููุฏุงุฑ ููุฑุฏ ุงุดุงุฑู ุฑุง ูุฑุถ ูโฺฏุฑูุฏ. ุขูโูุง ูุงุจูุชโูุง ุฎุงุต ุฏฺฏุฑ ุจูโุฌุฒ ุงุฑุฌุงุน ุจู
ุฏุงุฏู ูุฏุงุฑูุฏ ู ูฺ ุณุฑุจุงุฑ ูุฏุงุฑูุฏ.</p>
<p>ุงุฒ ุณู ุฏฺฏุฑุ <em>ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ</em> ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ูุณุชูุฏ ฺฉู ูุงููุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุนูู ูโฺฉููุฏุ ุงูุง ููฺูู ุฏุงุฑุง
ูุฑุง ุฏุงุฏู ู ูุงุจูุชโูุง ุงุถุงู ูุณุชูุฏ. ููููู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ููุญุตุฑุงู ุจู Rust ุงุฎุชุตุงุต ูุฏุงุฑุฏ: ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ
ุฏุฑ ุงุจุชุฏุง ุฏุฑ C++ ูุนุฑู ุดุฏูุฏ ู ุฏุฑ ุฒุจุงูโูุง ุฏฺฏุฑ ูุฒ ูุฌูุฏ ุฏุงุฑูุฏ. Rust ูุฌููุนูโุง ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุฏุฑ ฺฉุชุงุจุฎุงูู
ุงุณุชุงูุฏุงุฑุฏ ุฎูุฏ ุฏุงุฑุฏ ฺฉู ุนููฺฉุฑุฏ ูุฑุงุชุฑ ุงุฒ ุขูฺู ฺฉู ุงุฑุฌุงุนุงุช ูุฑุงูู ูโฺฉููุฏุ ุงุฑุงุฆู ูโุฏููุฏ. ุจุฑุง ุจุฑุฑุณ ููููู ฺฉูุ ุจู ฺูุฏ
ูุซุงู ูุฎุชูู ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ูฺฏุงู ุฎูุงูู ุงูุฏุงุฎุชุ ุงุฒ ุฌููู ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ <em>ุดูุงุฑุด ุงุฑุฌุงุนุงุช</em>. ุงู ุงุดุงุฑูโฺฏุฑ (Pointer)
ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุชุง ุฏุงุฏูโูุง ูุงูฺฉุชโูุง ูุชุนุฏุฏ ุฏุงุดุชู ุจุงุดูุฏุ ุจุง ุฑุฏุงุจ ุชุนุฏุงุฏ ูุงูฺฉุงู ู ูพุงฺฉ ฺฉุฑุฏู ุฏุงุฏู ููฺฏุงู ฺฉู
ูฺ ูุงูฺฉ ุจุงู ููุงูุฏ.</p>
<p>Rust ุจุง ููููู ูุงูฺฉุช ู ูุฑุถ ฺฏุฑูุชู ุฎูุฏุ ุชูุงูุช ุงุถุงู ุจู ุงุฑุฌุงุนุงุช ู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุฏุงุฑุฏ: ุฏุฑ ุญุงู ฺฉู ุงุฑุฌุงุนุงุช ููุท
ุฏุงุฏูโูุง ุฑุง ูุฑุถ ูโฺฏุฑูุฏุ ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ <em>ูุงูฺฉ</em> ุฏุงุฏูโุง ูุณุชูุฏ ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉููุฏ.</p>
<p>ุงฺฏุฑฺู ุฏุฑ ุขู ุฒูุงู ุขูโูุง ุฑุง ุจู ุงู ุตูุฑุช ูุงู ูุจุฑุฏูุ ุงูุง ูุจูุงู ุจุง ฺูุฏ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุฏุฑ ุงู ฺฉุชุงุจ ุขุดูุง ุดุฏูโุงูุ ุงุฒ
ุฌููู <code>String</code> ู <code>Vec&lt;T&gt;</code> ุฏุฑ ูุตู ธ. ูุฑ ุฏู ุงู ููุนโูุง ุจูโุนููุงู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดููุฏ ุฒุฑุง ุขูโูุง
ููุฏุงุฑ ุญุงูุธู ุฑุง ูุงูฺฉ ูโุดููุฏ ู ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ ุขู ุฑุง ุฏุณุชโฺฉุงุฑ ฺฉูุฏ. ุขูโูุง ููฺูู ุฏุงุฑุง ูุฑุง ุฏุงุฏู ู ูุงุจูุชโูุง
ุง ุชุถููโูุง ุงุถุงู ูุณุชูุฏ. ุจุฑุง ูุซุงูุ <code>String</code> ุธุฑูุช ุฎูุฏ ุฑุง ุจูโุนููุงู ูุฑุง ุฏุงุฏู ุฐุฎุฑู ูโฺฉูุฏ ู ุฏุงุฑุง ูุงุจูุช ุงุถุงู
ุจุฑุง ุงุทููุงู ุงุฒ ุงู ุงุณุช ฺฉู ุฏุงุฏูโูุง ุขู ููุดู ฺฉ UTF-8 ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ูุนูููุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑูุง (structs) ูพุงุฏูโุณุงุฒ ูโุดููุฏ. ุจุฑุฎูุงู ฺฉ ุณุงุฎุชุงุฑ ุนุงุฏุ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง
ููุดููุฏ ูฺฺฏโูุง <code>Deref</code> ู <code>Drop</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ูฺฺฏ <code>Deref</code> ุจู ูููููโุง ุงุฒ ุณุงุฎุชุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ
ุงูฺฉุงู ูโุฏูุฏ ฺฉู ูุงููุฏ ฺฉ ุงุฑุฌุงุน ุนูู ฺฉูุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุจููุณุฏ ุชุง ุจุง ุงุฑุฌุงุนุงุช ุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ
ฺฉุงุฑ ฺฉูุฏ. ูฺฺฏ <code>Drop</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉุฏ ุฑุง ฺฉู ููฺฏุงู ุฎุงุฑุฌ ุดุฏู ฺฉ ููููู ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุงุฒ ูุญุฏูุฏู ุงุฌุฑุง
ูโุดูุฏุ ุณูุงุฑุดโุณุงุฒ ฺฉูุฏ. ุฏุฑ ุงู ูุตูุ ูุฑ ุฏู ูฺฺฏ ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ู ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฉู ฺุฑุง ุจุฑุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง
ููุดููุฏ ููู ูุณุชูุฏ.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ุงูฺฏู ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ฺฉ ุงูฺฏู ุทุฑุงุญ ฺฉู ุงุณุช ฺฉู ุจูโุทูุฑ ูฺฉุฑุฑ ุฏุฑ Rust ุงุณุชูุงุฏู ูโุดูุฏุ ุงู ูุตู ุชูุงู
ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ููุฌูุฏ ุฑุง ูพูุดุด ููโุฏูุฏ. ุจุณุงุฑ ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑูุฏ ู ุญุช ูโุชูุงูุฏ
ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุฎูุฏ ุฑุง ุจููุณุฏ. ูุง ุฑุงุฌโุชุฑู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏ:</p>
<ul>
<li><code>Box&lt;T&gt;</code> ุจุฑุง ุชุฎุตุต ููุงุฏุฑ ุฏุฑ heap</li>
<li><code>Rc&lt;T&gt;</code>ุ ฺฉ ููุน ุดูุงุฑุด ุงุฑุฌุงุนุงุช ฺฉู ุงูฺฉุงู ูุงูฺฉุช ฺูุฏฺฏุงูู ุฑุง ูุฑุงูู ูโฺฉูุฏ</li>
<li><code>Ref&lt;T&gt;</code> ู <code>RefMut&lt;T&gt;</code>ุ ฺฉู ุงุฒ ุทุฑู <code>RefCell&lt;T&gt;</code> ูุงุจู ุฏุณุชุฑุณ ูุณุชูุฏุ ููุน ฺฉู ููุงูู ูุฑุถ ฺฏุฑูุชู ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง
ุจูโุฌุง ุฒูุงู ฺฉุงููพุงู ุงุนูุงู ูโฺฉูุฏ</li>
</ul>
<p>ุนูุงูู ุจุฑ ุงูุ ุงูฺฏู <em>ุชุบุฑูพุฐุฑ ุฏุงุฎู</em> ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏุ ุฌุง ฺฉู ฺฉ ููุน ุบุฑูุงุจู ุชุบุฑ ฺฉ API ุจุฑุง ุชุบุฑ ฺฉ ููุฏุงุฑ
ุฏุงุฎู ุงุฑุงุฆู ูโุฏูุฏ. ูุง ููฺูู ุฏุฑ ููุฑุฏ <em>ุญูููโูุง ุงุฑุฌุงุน</em> ุจุญุซ ุฎูุงูู ฺฉุฑุฏ: ฺฺฏููู ูโุชูุงููุฏ ุญุงูุธู ุฑุง ูุดุช ุฏููุฏ ู ฺฺฏููู
ูโุชูุงู ุงุฒ ุขูโูุง ุฌููฺฏุฑ ฺฉุฑุฏ.</p>
<p>ุจุงุฏ ุดุฑูุน ฺฉูู!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุณุชูุงุฏู-ุงุฒ-boxt-ุจุฑุง-ุงุดุงุฑู-ุจู-ุฏุงุฏููุง-ุฏุฑ-heap"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-boxt-ุจุฑุง-ุงุดุงุฑู-ุจู-ุฏุงุฏููุง-ุฏุฑ-heap">ุงุณุชูุงุฏู ุงุฒ <code>Box&lt;T&gt;</code> ุจุฑุง ุงุดุงุฑู ุจู ุฏุงุฏูโูุง ุฏุฑ Heap</a></h2>
<p>ุณุงุฏูโุชุฑู ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ฺฉ <em>ุฌุนุจู</em> ุงุณุช ฺฉู ููุน ุขู ุจู ุตูุฑุช <code>Box&lt;T&gt;</code> ููุดุชู ูโุดูุฏ. ุฌุนุจูโูุง ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ
ุฏุงุฏูโูุง ุฑุง ุฏุฑ heap ุฐุฎุฑู ฺฉูุฏ ุจู ุฌุง stack. ฺุฒ ฺฉู ุฏุฑ stack ุจุงู ูโูุงูุฏุ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุฏุงุฏูโูุง heap ุงุณุช. ุจุฑุง
ูุฑูุฑ ุชูุงูุช ุจู stack ู heap ุจู ูุตู ด ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุฌุนุจูโูุง ูฺ ุณุฑุจุงุฑ ุนููฺฉุฑุฏ ูุฏุงุฑูุฏุ ุจูโุฌุฒ ุฐุฎุฑู ุฏุงุฏูโูุง ุฎูุฏ ุฏุฑ heap ุจู ุฌุง stack. ุงูุง ุขูโูุง ูุงุจูุชโูุง ุงุถุงู ุฒุงุฏ
ูุฏุงุฑูุฏ. ุดูุง ุงุบูุจ ุขูโูุง ุฑุง ุฏุฑ ุงู ูููุนุชโูุง ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<ul>
<li>ููฺฏุงู ฺฉู ููุน ุฏุงุฑุฏ ฺฉู ุงูุฏุงุฒู ุขู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุดุฎุต ูุณุช ู ูโุฎูุงูุฏ ุงุฒ ููุฏุงุฑ ุงุฒ ุขู ููุน ุฏุฑ ูุญุท ฺฉู ูุงุฒ
ุจู ุงูุฏุงุฒู ุฏูู ุฏุงุฑุฏ ุงุณุชูุงุฏู ฺฉูุฏ.</li>
<li>ููฺฏุงู ฺฉู ููุฏุงุฑ ุฒุงุฏ ุฏุงุฏู ุฏุงุฑุฏ ู ูโุฎูุงูุฏ ูุงูฺฉุช ุฑุง ุงูุชูุงู ุฏูุฏุ ุงูุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุฏุงุฏูโูุง ููฺฏุงู ุงูุฌุงู
ุงู ฺฉุงุฑ ฺฉูพ ููโุดููุฏ.</li>
<li>ููฺฏุงู ฺฉู ูโุฎูุงูุฏ ูุงูฺฉ ฺฉ ููุฏุงุฑ ุจุงุดุฏ ู ููุท ุงููุช ูโุฏูุฏ ฺฉู ุขู ููุนุ ฺฉ ุตูุช ุฎุงุต ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดุฏ
ูู ุงูฺฉู ุงุฒ ฺฉ ููุน ุฎุงุต ุจุงุดุฏ.</li>
</ul>
<p>ุงููู ุญุงูุช ุฑุง ุฏุฑ ุจุฎุด <a href="ch15-01-box.html#enabling-recursive-types-with-boxes">โูุนุงูโุณุงุฒ ุงููุงุน ุจุงุฒฺฏุดุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌุนุจูโูุงโ</a><!-- 
ignore --> ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ุญุงูุช ุฏููุ ุงูุชูุงู ูุงูฺฉุช ููุฏุงุฑ ุฒุงุฏ ุฏุงุฏู ูโุชูุงูุฏ ุฒูุงู ุฒุงุฏ ุจฺฏุฑุฏ ุฒุฑุง ุฏุงุฏูโูุง
ุฏุฑ stack ฺฉูพ ูโุดููุฏ. ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ ุฏุฑ ุงู ุญุงูุชุ ูโุชูุงูู ููุฏุงุฑ ุฒุงุฏ ุฏุงุฏู ุฑุง ุฏุฑ heap ู ุฏุฑ ฺฉ ุฌุนุจู ุฐุฎุฑู
ฺฉูู. ุณูพุณุ ุชููุง ููุฏุงุฑ ฺฉู ุงุฒ ุฏุงุฏูโูุง ุงุดุงุฑูโฺฏุฑ (Pointer) ุฏุฑ stack ฺฉูพ ูโุดูุฏุ ุฏุฑ ุญุงู ฺฉู ุฏุงุฏูโูุง ฺฉู ุจู ุขูโูุง ุงุดุงุฑู ูโฺฉูุฏ
ุฏุฑ ฺฉ ูฺฉุงู ุฏุฑ heap ุจุงู ูโูุงููุฏ. ุญุงูุช ุณูู ุจู ูุงู <em>ุดุก ุตูุช</em> ุดูุงุฎุชู ูโุดูุฏ ู ูุตู ฑธ ุจุฎุด ฺฉุงูู ุจู ูุงู <a href="ch18-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types">โุงุณุชูุงุฏู
ุงุฒ ุงุดุง ุตูุช ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ููุงุฏุฑ ุงุฒ ุงููุงุน ูุฎุชูู ุฏุงุดุชู ุจุงุดุฏโ</a><!-- ignore --> ุจู ุงู
ููุถูุน ุงุฎุชุตุงุต ุฏุงุฏู ุงุณุช. ุจูุงุจุฑุงู ฺุฒ ฺฉู ุงูุฌุง ุงุฏ ูโฺฏุฑุฏุ ุฏูุจุงุฑู ุฏุฑ ูุตู ฑธ ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ!</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-boxt-ุจุฑุง-ุฐุฎุฑู-ุฏุงุฏููุง-ุฏุฑ-heap"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-boxt-ุจุฑุง-ุฐุฎุฑู-ุฏุงุฏููุง-ุฏุฑ-heap">ุงุณุชูุงุฏู ุงุฒ <code>Box&lt;T&gt;</code> ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุฏุฑ Heap</a></h3>
<p>ูุจู ุงุฒ ุงูฺฉู ููุฑุฏ ุงุณุชูุงุฏู ุฐุฎุฑู ุฏุฑ heap ุจุฑุง <code>Box&lt;T&gt;</code> ุฑุง ุจุญุซ ฺฉููุ ูุญู ู ูุญูู ุชุนุงูู ุจุง ููุงุฏุฑ ุฐุฎุฑูโุดุฏู ุฏุฑ
ฺฉ <code>Box&lt;T&gt;</code> ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏ.</p>
<p>ูุณุชูฺฏ ฑต-ฑ ูุดุงู ูโุฏูุฏ ฺฺฏููู ูโุชูุงู ุงุฒ ฺฉ ุฌุนุจู ุจุฑุง ุฐุฎุฑู ููุฏุงุฑ <code>i32</code> ุฏุฑ heap ุงุณุชูุงุฏู ฺฉุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let b = Box::new(5);
    println!("b = {b}");
}</code></pre></pre>
<figcaption>Listing 15-1: ุฐุฎุฑู ููุฏุงุฑ <code>i32</code> ุฏุฑ heap ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุฌุนุจู</figcaption>
</figure>
<p>ูุง ูุชุบุฑ <code>b</code> ุฑุง ุชุนุฑู ูโฺฉูู ุชุง ููุฏุงุฑ ฺฉ <code>Box</code> ฺฉู ุจู ููุฏุงุฑ <code>5</code> ุงุดุงุฑู ูโฺฉูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏุ ฺฉู ุฏุฑ heap ุชุฎุตุต
ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ุจุฑูุงูู <code>b = 5</code> ุฑุง ฺุงูพ ูโฺฉูุฏุ ุฏุฑ ุงู ุญุงูุชุ ูโุชูุงูู ุจู ุฏุงุฏูโูุง ููุฌูุฏ ุฏุฑ ุฌุนุจู ุฏุณุชุฑุณ ุฏุงุดุชู
ุจุงุดูุ ูุดุงุจู ุญุงูุช ฺฉู ุงู ุฏุงุฏูโูุง ุฏุฑ stack ุจูุฏูุฏ. ุฏุฑุณุช ูุซู ูุฑ ููุฏุงุฑ ูุงูฺฉุ ููุช ฺฉ ุฌุนุจู ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ ููุงู
ุทูุฑ ฺฉู <code>b</code> ุฏุฑ ูพุงุงู <code>main</code> ุงู ฺฉุงุฑ ุฑุง ูโฺฉูุฏุ ุขุฒุงุฏ ูโุดูุฏ. ุขุฒุงุฏุณุงุฒ ูู ุจุฑุง ุฌุนุจู (ุฐุฎุฑูโุดุฏู ุฏุฑ stack) ู ูู ุฏุงุฏูโูุง
ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ (ุฐุฎุฑูโุดุฏู ุฏุฑ heap) ุงุชูุงู ูโุงูุชุฏ.</p>
<p>ูุฑุงุฑ ุฏุงุฏู ฺฉ ููุฏุงุฑ ูุงุญุฏ ุฏุฑ heap ุฎู ููุฏ ูุณุชุ ุจูุงุจุฑุงู ุฌุนุจูโูุง ุฑุง ุจูโุชููุง ุจู ุงู ุดฺฉู ุฎู ุงุณุชูุงุฏู ูุฎูุงูุฏ
ฺฉุฑุฏ. ุฏุงุดุชู ููุงุฏุฑ ูุงููุฏ ฺฉ <code>i32</code> ุฏุฑ stackุ ุฌุง ฺฉู ุจูโุทูุฑ ูพุดโูุฑุถ ุฐุฎุฑู ูโุดููุฏุ ุฏุฑ ุงฺฉุซุฑ ููุงุฑุฏ ููุงุณุจโุชุฑ ุงุณุช. ุจุงุฏ
ุจู ุญุงูุช ูฺฏุงู ฺฉูู ฺฉู ุฌุนุจูโูุง ุจู ูุง ุงูฺฉุงู ูโุฏููุฏ ุงููุงุน ุฑุง ุชุนุฑู ฺฉูู ฺฉู ุจุฏูู ุขูโูุง ููโุชูุงูุณุชู.</p>
<h3 id="ูุนุงูุณุงุฒ-ุงููุงุน-ุจุงุฒฺฏุดุช-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุฌุนุจููุง"><a class="header" href="#ูุนุงูุณุงุฒ-ุงููุงุน-ุจุงุฒฺฏุดุช-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุฌุนุจููุง">ูุนุงูโุณุงุฒ ุงููุงุน ุจุงุฒฺฏุดุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌุนุจูโูุง</a></h3>
<p>ฺฉ ููุฏุงุฑ ุงุฒ ููุน <em>ุจุงุฒฺฏุดุช</em> ูโุชูุงูุฏ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุงู ููุน ุฑุง ุจูโุนููุงู ุจุฎุด ุงุฒ ุฎูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุงููุงุน ุจุงุฒฺฏุดุช
ฺฉ ูุณุฆูู ุงุฌุงุฏ ูโฺฉููุฏ ุฒุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงูุ Rust ุจุงุฏ ุจุฏุงูุฏ ฺฉ ููุน ฺูุฏุฑ ูุถุง ุงุดุบุงู ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ุชูุฏุฑุชู
ููุงุฏุฑ ุงููุงุน ุจุงุฒฺฏุดุช ูโุชูุงูุฏ ุจูโุทูุฑ ูุธุฑ ุจโููุงุช ุงุฏุงูู ุงุจุฏุ ุจูุงุจุฑุงู Rust ููโุชูุงูุฏ ุจุฏุงูุฏ ฺฉู ููุฏุงุฑ ฺูุฏุฑ ูุถุง
ูุงุฒ ุฏุงุฑุฏ. ฺูู ุฌุนุจูโูุง ฺฉ ุงูุฏุงุฒู ูุดุฎุต ุฏุงุฑูุฏุ ูโุชูุงูู ุงููุงุน ุจุงุฒฺฏุดุช ุฑุง ุจุง ูุฑุงุฑ ุฏุงุฏู ฺฉ ุฌุนุจู ุฏุฑ ุชุนุฑู ููุน ุจุงุฒฺฏุดุช
ูุนุงู ฺฉูู.</p>
<p>ุจูโุนููุงู ูุซุงู ุงุฒ ฺฉ ููุน ุจุงุฒฺฏุดุชุ ุจุงุฏ ุจู <em>ูุณุช cons</em> ูฺฏุงู ฺฉูู. ุงู ฺฉ ููุน ุฏุงุฏู ุงุณุช ฺฉู ูุนูููุงู ุฏุฑ ุฒุจุงูโูุง
ุจุฑูุงููโููุณ ุชุงุจุน ุงูุช ูโุดูุฏ. ููุน ูุณุช cons ฺฉู ุชุนุฑู ุฎูุงูู ฺฉุฑุฏ ุณุงุฏู ุงุณุช ุจู ุฌุฒ ุจุงุฒฺฏุดุชุ ุจูุงุจุฑุงูุ ููุงูู ููุฌูุฏ
ุฏุฑ ูุซุงู ฺฉู ุจุง ุขู ฺฉุงุฑ ุฎูุงูู ฺฉุฑุฏุ ูุฑ ุฒูุงู ฺฉู ูุงุฑุฏ ูููุนุชโูุง ูพฺุฏูโุชุฑ ุจุง ุงููุงุน ุจุงุฒฺฏุดุช ุดูุฏ ููุฏ ุฎูุงููุฏ ุจูุฏ.</p>
<h4 id="ุงุทูุงุนุงุช-ุจุดุชุฑ-ุฏุฑุจุงุฑู-ูุณุช-cons"><a class="header" href="#ุงุทูุงุนุงุช-ุจุดุชุฑ-ุฏุฑุจุงุฑู-ูุณุช-cons">ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ูุณุช Cons</a></h4>
<p>ฺฉ <em>ูุณุช cons</em> ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ุงุณุช ฺฉู ุงุฒ ุฒุจุงู ุจุฑูุงููโููุณ Lisp ู ฺฏูุดโูุง ุขู ูโุขุฏ ู ุงุฒ ุฌูุชโูุง ุชูุฏุฑุชู ุชุดฺฉู
ุดุฏู ุงุณุช ู ูุณุฎู Lisp ุงุฒ ฺฉ ูุณุช ูพููุฏ ุงุณุช. ูุงู ุขู ุงุฒ ุชุงุจุน <code>cons</code> (ูุฎูู โุชุงุจุน ุณุงุฎุชโ ุง Construct Function) ุฏุฑ Lisp
ฺฏุฑูุชู ุดุฏู ุงุณุช ฺฉู ฺฉ ุฌูุช ุฌุฏุฏ ุฑุง ุงุฒ ุฏู ุขุฑฺฏููุงู ุฎูุฏ ูโุณุงุฒุฏ. ุจุง ูุฑุงุฎูุงู <code>cons</code> ุฑู ฺฉ ุฌูุช ฺฉู ุดุงูู ฺฉ ููุฏุงุฑ ู ฺฉ ุฌูุช
ุฏฺฏุฑ ุงุณุชุ ูโุชูุงูู ูุณุชโูุง cons ุณุงุฎุชูโุดุฏู ุงุฒ ุฌูุชโูุง ุจุงุฒฺฏุดุช ุฑุง ุงุฌุงุฏ ฺฉูู.</p>
<p>ุจุฑุง ูุซุงูุ ุฏุฑ ุงูุฌุง ฺฉ ููุงุด ุดุจูโฺฉุฏ ุงุฒ ฺฉ ูุณุช cons ฺฉู ุดุงูู ูุณุช ฑุ ฒุ ณ ุงุณุช ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ูุฑ ุฌูุช ุฏุฑ ุฏุงุฎู ูพุฑุงูุชุฒ
ูุฑุงุฑ ุฏุงุฑุฏ:</p>
<pre><code class="language-text">(1, (2, (3, Nil)))
</code></pre>
<p>ูุฑ ุขุชู ุฏุฑ ฺฉ ูุณุช cons ุดุงูู ุฏู ุนูุตุฑ ุงุณุช: ููุฏุงุฑ ุขุชู ูุนู ู ุขุชู ุจุนุฏ. ุขุฎุฑู ุขุชู ุฏุฑ ูุณุช ุชููุง ุดุงูู ููุฏุงุฑ ุจู ูุงู
<code>Nil</code> ุงุณุช ู ุขุชู ุจุนุฏ ูุฏุงุฑุฏ. ฺฉ ูุณุช cons ุจุง ูุฑุงุฎูุงู ุจุงุฒฺฏุดุช ุชุงุจุน <code>cons</code> ุชููุฏ ูโุดูุฏ. ูุงู ูุชุนุงุฑู ุจุฑุง ูุดุงู ุฏุงุฏู
ุญุงูุช ูพุงู ุจุงุฒฺฏุดุชุ <code>Nil</code> ุงุณุช. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ุจุง ููููู โnullโ ุง โnilโ ุฏุฑ ูุตู ถ ฺฉู ฺฉ ููุฏุงุฑ ูุงูุนุชุจุฑ ุง ุบุงุจ
ุงุณุชุ ูุชูุงูุช ุงุณุช.</p>
<p>ูุณุช cons ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ูุณุช ฺฉู ุจูโุทูุฑ ูุนููู ุฏุฑ Rust ุงุณุชูุงุฏู ุดูุฏ. ุฏุฑ ุงฺฉุซุฑ ููุงูุน ููุช ฺฉ ูุณุช ุงุฒ ุขุชูโูุง ุฏุฑ
Rust ุฏุงุฑุฏุ ุงุณุชูุงุฏู ุงุฒ <code>Vec&lt;T&gt;</code> ุงูุชุฎุงุจ ุจูุชุฑ ุงุณุช. ุณุงุฑ ุงููุงุน ุจุงุฒฺฏุดุช ูพฺุฏูโุชุฑ <em>ุฏุฑ</em> ูููุนุชโูุง ูุฎุชูู ููุฏ ูุณุชูุฏุ
ุงูุง ุจุง ุดุฑูุน ุงุฒ ูุณุช cons ุฏุฑ ุงู ูุตูุ ูโุชูุงูู ุจุฑุฑุณ ฺฉูู ฺฉู ฺฺฏููู ุฌุนุจูโูุง ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉ ููุน ุฏุงุฏู ุจุงุฒฺฏุดุช
ุฑุง ุจุฏูู ุญูุงุณโูพุฑุช ุฒุงุฏ ุชุนุฑู ฺฉูู.</p>
<p>ูุณุชูฺฏ ฑต-ฒ ุญุงู ฺฉ ุชุนุฑู enum ุจุฑุง ฺฉ ูุณุช cons ุงุณุช. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ููโุดูุฏ ุฒุฑุง ููุน
<code>List</code> ุงูุฏุงุฒู ุดูุงุฎุชูโุดุฏูโุง ูุฏุงุฑุฏุ ฺฉู ุขู ุฑุง ุชูุถุญ ุฎูุงูู ุฏุงุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">enum List {
    Cons(i32, List),
    Nil,
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre>
<figcaption>Listing 15-2: ุงููู ุชูุงุด ุจุฑุง ุชุนุฑู ฺฉ enum ุจุฑุง ููุงุด ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ูุณุช cons ุงุฒ ููุงุฏุฑ <code>i32</code></figcaption>
</figure>
<blockquote>
<p>ุชูุฌู: ูุง ุฏุฑ ุญุงู ูพุงุฏูโุณุงุฒ ฺฉ ูุณุช cons ูุณุชู ฺฉู ุชููุง ููุงุฏุฑ <code>i32</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ุจุฑุง ุงูุฏุงู ุงู ูุซุงู. ูโุชูุงูุณุชู
ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุงุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฑฐ ุจุญุซ ฺฉุฑุฏูุ ูพุงุฏูโุณุงุฒ ฺฉูู ุชุง ฺฉ ููุน ูุณุช cons ุชุนุฑู ฺฉูู
ฺฉู ุจุชูุงูุฏ ููุงุฏุฑ ูุฑ ููุน ุฑุง ุฐุฎุฑู ฺฉูุฏ.</p>
</blockquote>
<p>ุงุณุชูุงุฏู ุงุฒ ููุน <code>List</code> ุจุฑุง ุฐุฎุฑู ูุณุช <code>1, 2, 3</code> ุดุจู ุจู ฺฉุฏ ุฎูุงูุฏ ุจูุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ ฑต-ณ ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">enum List {
</span><span class="boring">    Cons(i32, List),
</span><span class="boring">    Nil,
</span><span class="boring">}
</span><span class="boring">
</span>use crate::List::{Cons, Nil};

fn main() {
    let list = Cons(1, Cons(2, Cons(3, Nil)));
}</code></pre>
<figcaption>Listing 15-3: Using the <code>List</code> enum to store the list <code>1, 2, 3</code></figcaption>
</figure>
<p>ุงููู ููุฏุงุฑ <code>Cons</code> ููุฏุงุฑ <code>1</code> ู ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน <code>List</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุงู ููุฏุงุฑ <code>List</code> ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน
<code>Cons</code> ุงุณุช ฺฉู ููุฏุงุฑ <code>2</code> ู ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน <code>List</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุงู ููุฏุงุฑ <code>List</code> ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน <code>Cons</code>
ุฑุง ูฺฏู ูโุฏุงุฑุฏ ฺฉู ููุฏุงุฑ <code>3</code> ู ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน <code>List</code> ุฑุง ุฏุงุฑุฏ ฺฉู ุฏุฑ ููุงุช <code>Nil</code>ุ ูุชุบุฑ ุบุฑ ุจุงุฒฺฏุดุช ฺฉู ูพุงุงู
ูุณุช ุฑุง ูุดุงู ูโุฏูุฏุ ุงุณุช.</p>
<p>ุงฺฏุฑ ุณุน ฺฉูู ฺฉุฏ ุฏุฑ ูุณุชูฺฏ ฑต-ณ ุฑุง ฺฉุงููพุงู ฺฉููุ ุฎุทุง ุฑุง ุฏุฑุงูุช ูโฺฉูู ฺฉู ุฏุฑ ูุณุชูฺฏ ฑต-ด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: output.txt</span>
<pre><code class="language-console">$ cargo run
   Compiling cons-list v0.1.0 (file:///projects/cons-list)
error[E0072]: recursive type `List` has infinite size
 --&gt; src/main.rs:1:1
  |
1 | enum List {
  | ^^^^^^^^^
2 |     Cons(i32, List),
  |               ---- recursive without indirection
  |
help: insert some indirection (e.g., a `Box`, `Rc`, or `&amp;`) to break the cycle
  |
2 |     Cons(i32, Box&lt;List&gt;),
  |               ++++    +

error[E0391]: cycle detected when computing when `List` needs drop
 --&gt; src/main.rs:1:1
  |
1 | enum List {
  | ^^^^^^^^^
  |
  = note: ...which immediately requires computing when `List` needs drop again
  = note: cycle used when computing whether `List` needs drop
  = note: see https://rustc-dev-guide.rust-lang.org/overview.html#queries and https://rustc-dev-guide.rust-lang.org/query.html for more information

Some errors have detailed explanations: E0072, E0391.
For more information about an error, try `rustc --explain E0072`.
error: could not compile `cons-list` (bin "cons-list") due to 2 previous errors
</code></pre>
<figcaption>Listing 15-4: ุฎุทุง ฺฉู ููฺฏุงู ุชูุงุด ุจุฑุง ุชุนุฑู ฺฉ enum ุจุงุฒฺฏุดุช ุฏุฑุงูุช ูโฺฉูู</figcaption>
</figure>
<p>ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ุงู ููุน โุงูุฏุงุฒู ุจโููุงุชโ ุฏุงุฑุฏ. ุฏูู ุงู ุงุณุช ฺฉู ูุง <code>List</code> ุฑุง ุจุง ฺฉ ูุชุบุฑ ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู
ุจุงุฒฺฏุดุช ุงุณุช: ุจูโุทูุฑ ูุณุชูู ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน ุฎูุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุฏุฑ ูุชุฌูุ Rust ููโุชูุงูุฏ ุจูููุฏ ฺูุฏุฑ ูุถุง ูุงุฒ
ุฏุงุฑุฏ ุชุง ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>List</code> ุฑุง ุฐุฎุฑู ฺฉูุฏ. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺุฑุง ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ูโฺฉูู. ุงุจุชุฏุงุ ูฺฏุงู ุจู ุงู
ูโุงูุฏุงุฒู ฺฉู Rust ฺฺฏููู ุชุตูู ูโฺฏุฑุฏ ฺู ููุฏุงุฑ ูุถุง ุจุฑุง ุฐุฎุฑู ฺฉ ููุฏุงุฑ ุงุฒ ููุน ุบุฑ ุจุงุฒฺฏุดุช ูุงุฒ ุฏุงุฑุฏ.</p>
<h4 id="ูุญุงุณุจู-ุงูุฏุงุฒู-ฺฉ-ููุน-ุบุฑ-ุจุงุฒฺฏุดุช"><a class="header" href="#ูุญุงุณุจู-ุงูุฏุงุฒู-ฺฉ-ููุน-ุบุฑ-ุจุงุฒฺฏุดุช">ูุญุงุณุจู ุงูุฏุงุฒู ฺฉ ููุน ุบุฑ ุจุงุฒฺฏุดุช</a></h4>
<p>ุณุงุฎุชุงุฑ <code>Message</code> ุฑุง ฺฉู ุฏุฑ ูุณุชูฺฏ ถ-ฒ ุชุนุฑู ฺฉุฑุฏูโุงูุ ุจูโุฎุงุทุฑ ุจุงูุฑุฏ ููุช ฺฉู ุฏุฑ ูุตู ถ ุฏุฑ ููุฑุฏ ุชุนุฑูโูุง enum
ุจุญุซ ฺฉุฑุฏู:</p>
<pre><pre class="playground"><code class="language-rust edition2021">enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<p>ุจุฑุง ุชุนู ุงูฺฉู ฺูุฏุฑ ูุถุง ุจุฑุง ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>Message</code> ุงุฎุชุตุงุต ุฏุงุฏู ุดูุฏุ Rust ูุฑ ฺฉ ุงุฒ ูุชุบุฑูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
ุชุง ุจุจูุฏ ฺฉุฏุงู ูุชุบุฑ ุจุดุชุฑู ูุถุง ุฑุง ูุงุฒ ุฏุงุฑุฏ. Rust ูโุจูุฏ ฺฉู <code>Message::Quit</code> ูุงุฒ ุจู ูุถุง ูุฏุงุฑุฏุ <code>Message::Move</code>
ูุงุฒ ุจู ูุถุง ฺฉุงู ุจุฑุง ุฐุฎุฑู ุฏู ููุฏุงุฑ <code>i32</code> ุฏุงุฑุฏุ ู ูููโุทูุฑ ุงุฏุงูู ูโุฏูุฏ. ฺูู ุชููุง ฺฉ ูุชุบุฑ ุงุณุชูุงุฏู ุฎูุงูุฏ ุดุฏุ
ุจุดุชุฑู ูุถุง ููุฑุฏ ูุงุฒ ุจุฑุง ฺฉ ููุฏุงุฑ <code>Message</code> ูุถุง ุงุณุช ฺฉู ุจุฒุฑฺฏโุชุฑู ูุชุบุฑ ุขู ุงุดุบุงู ูโฺฉูุฏ.</p>
<p>ุงู ุฑุง ุจุง ุญุงูุช ููุงุณู ฺฉูุฏ ฺฉู Rust ุณุน ูโฺฉูุฏ ุชุนู ฺฉูุฏ ฺู ููุฏุงุฑ ูุถุง ุจุฑุง ฺฉ ููุน ุจุงุฒฺฏุดุช ูุงููุฏ enum <code>List</code> ุฏุฑ
ูุณุชูฺฏ ฑต-ฒ ูุงุฒ ุงุณุช. ฺฉุงููพุงูุฑ ุจุง ูฺฏุงู ฺฉุฑุฏู ุจู ูุชุบุฑ <code>Cons</code> ุดุฑูุน ูโฺฉูุฏ ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>i32</code> ู ฺฉ ููุฏุงุฑ ุงุฒ ููุน
<code>List</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุจูุงุจุฑุงูุ <code>Cons</code> ุจู ูุถุง ูุนุงุฏู ุงูุฏุงุฒู ฺฉ <code>i32</code> ุจูโุนูุงูู ุงูุฏุงุฒู ฺฉ <code>List</code> ูุงุฒ ุฏุงุฑุฏ. ุจุฑุง
ูููุฏู ุงูฺฉู ููุน <code>List</code> ุจู ฺู ููุฏุงุฑ ุญุงูุธู ูุงุฒ ุฏุงุฑุฏุ ฺฉุงููพุงูุฑ ูุชุบุฑูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ุงุฒ ูุชุบุฑ <code>Cons</code> ุดุฑูุน ูโฺฉูุฏ.
ูุชุบุฑ <code>Cons</code> ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>i32</code> ู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>List</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ู ุงู ูุฑุขูุฏ ุจูโุทูุฑ ุจโููุงุช ุงุฏุงูู
ูโุงุจุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุดฺฉู ฑต-ฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<img alt="ฺฉ ูุณุช Cons ุจโููุงุช" src="img/trpl15-01.svg" class="center" style="width: 50%;" />
<p><span class="caption">ุดฺฉู ฑต-ฑ: ฺฉ <code>List</code> ุจโููุงุช ุดุงูู ูุชุบุฑูุง <code>Cons</code> ุจโููุงุช</span></p>
<h4 id="ุงุณุชูุงุฏู-ุงุฒ-boxt-ุจุฑุง-ุจูุฏุณุช-ุขูุฑุฏู-ฺฉ-ููุน-ุจุงุฒฺฏุดุช-ุจุง-ุงูุฏุงุฒู-ุดูุงุฎุชูุดุฏู"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-boxt-ุจุฑุง-ุจูุฏุณุช-ุขูุฑุฏู-ฺฉ-ููุน-ุจุงุฒฺฏุดุช-ุจุง-ุงูุฏุงุฒู-ุดูุงุฎุชูุดุฏู">ุงุณุชูุงุฏู ุงุฒ <code>Box&lt;T&gt;</code> ุจุฑุง ุจูโุฏุณุช ุขูุฑุฏู ฺฉ ููุน ุจุงุฒฺฏุดุช ุจุง ุงูุฏุงุฒู ุดูุงุฎุชูโุดุฏู</a></h4>
<p>ฺูู Rust ููโุชูุงูุฏ ุจูููุฏ ฺู ููุฏุงุฑ ูุถุง ุจุงุฏ ุจุฑุง ุงููุงุน ุชุนุฑูโุดุฏู ุจูโุตูุฑุช ุจุงุฒฺฏุดุช ุชุฎุตุต ุฏูุฏุ ฺฉุงููพุงูุฑ ุจุง ุงู ูพุดููุงุฏ
ฺฉูฺฉ ุฎุทุง ูโุฏูุฏ:</p>
<!-- manual-regeneration
after doing automatic regeneration, look at listings/ch15-smart-pointers/listing-15-03/output.txt and copy the relevant line
-->
<pre><code class="language-text">help: insert some indirection (e.g., a `Box`, `Rc`, or `&amp;`) to break the cycle
  |
2 |     Cons(i32, Box&lt;List&gt;),
  |               ++++    +
</code></pre>
<p>ุฏุฑ ุงู ูพุดููุงุฏุ โุบุฑูุณุชููโุณุงุฒโ ุจู ุงู ูุนูุง ุงุณุช ฺฉู ุจูโุฌุง ุฐุฎุฑู ูุณุชูู ฺฉ ููุฏุงุฑุ ุจุงุฏ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฑุง ุชุบุฑ ุฏูู ุชุง
ููุฏุงุฑ ุฑุง ุจูโุตูุฑุช ุบุฑูุณุชูู ุจุง ุฐุฎุฑู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ููุฏุงุฑ ุฐุฎุฑู ฺฉูุฏ.</p>
<p>ฺูู <code>Box&lt;T&gt;</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุงุณุชุ Rust ููุดู ูโุฏุงูุฏ ฺฉู ฺฉ <code>Box&lt;T&gt;</code> ุจู ฺู ููุฏุงุฑ ูุถุง ูุงุฒ ุฏุงุฑุฏ: ุงูุฏุงุฒู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer)
ุจุฑ ุงุณุงุณ ููุฏุงุฑ ุฏุงุฏูโุง ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุชุบุฑ ููโฺฉูุฏ. ุงู ุจุฏุงู ูุนูุง ุงุณุช ฺฉู ูโุชูุงูู ฺฉ <code>Box&lt;T&gt;</code> ุฑุง ุฏุฑ
ูุชุบุฑ <code>Cons</code> ูุฑุงุฑ ุฏูู ุจูโุฌุง ฺฉ ููุฏุงุฑ ุฏฺฏุฑ ุงุฒ ููุน <code>List</code>. <code>Box&lt;T&gt;</code> ุจู ููุฏุงุฑ ุจุนุฏ <code>List</code> ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ุฑู heap
ุฎูุงูุฏ ุจูุฏ ุจูโุฌุง ุฏุงุฎู ูุชุบุฑ <code>Cons</code>. ุจูโุตูุฑุช ูููููุ ูุง ููฺูุงู ฺฉ ูุณุช ุฏุงุฑู ฺฉู ุงุฒ ูุณุชโูุง ุฏฺฏุฑ ุชุดฺฉู ุดุฏู ุงุณุชุ ุงูุง
ุงู ูพุงุฏูโุณุงุฒ ุงฺฉููู ุจุดุชุฑ ุดุจู ูุฑุงุฑ ุฏุงุฏู ุขุชูโูุง ุฏุฑ ฺฉูุงุฑ ฺฉุฏฺฏุฑ ุงุณุช ุชุง ุฏุงุฎู ฺฉุฏฺฏุฑ.</p>
<p>ูุง ูโุชูุงูู ุชุนุฑู enum <code>List</code> ุฏุฑ ูุณุชูฺฏ ฑต-ฒ ู ุงุณุชูุงุฏู ุงุฒ <code>List</code> ุฏุฑ ูุณุชูฺฏ ฑต-ณ ุฑุง ุจู ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ ฑต-ต
ุชุบุฑ ุฏููุ ฺฉู ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">enum List {
    Cons(i32, Box&lt;List&gt;),
    Nil,
}

use crate::List::{Cons, Nil};

fn main() {
    let list = Cons(1, Box::new(Cons(2, Box::new(Cons(3, Box::new(Nil))))));
}</code></pre></pre>
<figcaption>Listing 15-5: ุชุนุฑู <code>List</code> ฺฉู ุงุฒ <code>Box&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุงูุฏุงุฒู ูุดุฎุต ุฏุงุดุชู ุจุงุดุฏ</figcaption>
</figure>
<p>ูุชุบุฑ <code>Cons</code> ุจู ุงูุฏุงุฒู ฺฉ <code>i32</code> ุจูโุนูุงูู ูุถุง ููุฑุฏ ูุงุฒ ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุงุดุงุฑูโฺฏุฑ (Pointer) ุฌุนุจู ูุงุฒ ุฏุงุฑุฏ. ูุชุบุฑ <code>Nil</code> ูฺ
ููุฏุงุฑ ุฑุง ุฐุฎุฑู ููโฺฉูุฏุ ุจูุงุจุฑุงู ุจู ูุถุง ฺฉูุชุฑ ูุณุจุช ุจู ูุชุบุฑ <code>Cons</code> ูุงุฒ ุฏุงุฑุฏ. ุงฺฉููู ูโุฏุงูู ฺฉู ูุฑ ููุฏุงุฑ <code>List</code>
ุจู ุงูุฏุงุฒู ฺฉ <code>i32</code> ุจูโุนูุงูู ุงูุฏุงุฒู ุฏุงุฏูโูุง ุงุดุงุฑูโฺฏุฑ (Pointer) ุฌุนุจู ูุถุง ูุงุฒ ุฏุงุฑุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌุนุจูุ ุฒูุฌุฑู ุจุงุฒฺฏุดุช ุจโููุงุช
ุฑุง ุดฺฉุณุชูโุงูุ ุจูุงุจุฑุงู ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุจูููุฏ ฺู ููุฏุงุฑ ูุถุง ุจุฑุง ุฐุฎุฑู ฺฉ ููุฏุงุฑ <code>List</code> ูุงุฒ ุฏุงุฑุฏ. ุดฺฉู ฑต-ฒ ูุดุงู
ูโุฏูุฏ ฺฉู ูุชุบุฑ <code>Cons</code> ุงฺฉููู ฺฺฏููู ุจู ูุธุฑ ูโุฑุณุฏ.</p>
<img alt="ฺฉ ูุณุช Cons ูุญุฏูุฏ" src="img/trpl15-02.svg" class="center" />
<p><span class="caption">ุดฺฉู ฑต-ฒ: ฺฉ <code>List</code> ฺฉู ุจโููุงุช ูุณุช ุฒุฑุง <code>Cons</code> ฺฉ <code>Box</code> ูฺฏู ูโุฏุงุฑุฏ</span></p>
<p>ุฌุนุจูโูุง ุชููุง ุบุฑูุณุชููโุณุงุฒ ู ุชุฎุตุต heap ุฑุง ูุฑุงูู ูโฺฉููุฏุ ุขูโูุง ูฺ ูุงุจูุช ุฎุงุต ุฏฺฏุฑ ูุฏุงุฑูุฏุ ูุงููุฏ ุขูฺู ุจุง ุฏฺฏุฑ ุงููุงุน
ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุฎูุงูู ุฏุฏ. ุขูโูุง ููฺูู ุณุฑุจุงุฑ ุนููฺฉุฑุฏ ฺฉู ุงู ูุงุจูุชโูุง ุฎุงุต ุงุฌุงุฏ ูโฺฉููุฏ ุฑุง ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ูโุชูุงููุฏ
ุฏุฑ ููุงุฑุฏ ูุงููุฏ ูุณุช cons ููุฏ ุจุงุดูุฏ ฺฉู ุบุฑูุณุชููโุณุงุฒ ุชููุง ูฺฺฏ ููุฑุฏ ูุงุฒ ุงุณุช. ูุง ููุงุฑุฏ ุงุณุชูุงุฏู ุจุดุชุฑ ุงุฒ ุฌุนุจูโูุง ุฑุง
ูุฒ ุฏุฑ ูุตู ฑธ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ููุน <code>Box&lt;T&gt;</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุงุณุช ุฒุฑุง ูฺฺฏ <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ฺฉู ุจู ููุงุฏุฑ <code>Box&lt;T&gt;</code> ุงุฌุงุฒู ูโุฏูุฏ
ูุงููุฏ ุงุฑุฌุงุนุงุช ุฑูุชุงุฑ ฺฉููุฏ. ููุช ฺฉ ููุฏุงุฑ <code>Box&lt;T&gt;</code> ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ ุฏุงุฏูโูุง heap ฺฉู ุฌุนุจู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ
ูุฒ ุจู ุฏูู ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Drop</code> ูพุงฺฉโุณุงุฒ ูโุดูุฏ. ุงู ุฏู ูฺฺฏ ุจุฑุง ุนููฺฉุฑุฏ ุงููุงุน ุฏฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ฺฉู
ุฏุฑ ุจูู ุงู ูุตู ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูโุฏููุ ุงููุช ุจุดุชุฑ ุฎูุงููุฏ ุฏุงุดุช. ุจุงุฏ ุงู ุฏู ูฺฺฏ ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฑุฑุณ ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฑูุชุงุฑ-ุงุดุงุฑูฺฏุฑ-pointerูุง-ููุดููุฏ-ูุงููุฏ-ุงุฑุฌุงุนุงุช-ูุนููู-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ูฺฺฏ-deref"><a class="header" href="#ุฑูุชุงุฑ-ุงุดุงุฑูฺฏุฑ-pointerูุง-ููุดููุฏ-ูุงููุฏ-ุงุฑุฌุงุนุงุช-ูุนููู-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ูฺฺฏ-deref">ุฑูุชุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ูุงููุฏ ุงุฑุฌุงุนุงุช ูุนููู ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>Deref</code></a></h2>
<p>ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Deref</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุฑูุชุงุฑ <em>ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง</em> <code>*</code> ุฑุง ุณูุงุฑุด ฺฉูุฏ (ุงู ุฑุง ุจุง ุนููฺฏุฑ
ุถุฑุจ ุง glob ุงุดุชุจุงู ูฺฏุฑุฏ). ุจุง ูพุงุฏูโุณุงุฒ <code>Deref</code> ุจู ฺฏูููโุง ฺฉู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุจุชูุงูุฏ ูุงููุฏ ฺฉ ุงุฑุฌุงุน ูุนููู
ุฑูุชุงุฑ ฺฉูุฏุ ูโุชูุงูุฏ ฺฉุฏ ุจููุณุฏ ฺฉู ุฑู ุงุฑุฌุงุนุงุช ุนูู ูโฺฉูุฏ ู ุงุฒ ุขู ฺฉุฏ ุจุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ูุฒ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุงุจุชุฏุง ุจุงุฏ ูฺฏุงู ุจู ุงู ุจูุฏุงุฒู ฺฉู ฺฺฏููู ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุจุง ุงุฑุฌุงุนุงุช ูุนููู ฺฉุงุฑ ูโฺฉูุฏ. ุณูพุณ ุณุน ูโฺฉูู ฺฉ
ููุน ุณูุงุฑุด ุชุนุฑู ฺฉูู ฺฉู ูุงููุฏ <code>Box&lt;T&gt;</code> ุฑูุชุงุฑ ฺฉูุฏุ ู ุจุฑุฑุณ ฺฉูู ฺุฑุง ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ูุงููุฏ ฺฉ ุงุฑุฌุงุน ุฑู ููุน
ุฌุฏุฏ ูุง ุนูู ููโฺฉูุฏ. ูุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ฺฺฏููู ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Deref</code> ุงูฺฉุงูโูพุฐุฑ ูโุณุงุฒุฏ ฺฉู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ
ุจู ุดููโุง ูุดุงุจู ุงุฑุฌุงุนุงุช ุนูู ฺฉููุฏ. ุณูพุณ ูฺฏุงู ุจู ูฺฺฏ <em>ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง</em> (deref coercion) ุฏุฑ Rust ูโุงูุฏุงุฒู ู
ุงูฺฉู ฺฺฏููู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุจุง ุงุฑุฌุงุนุงุช ุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ฺฉุงุฑ ฺฉูู.</p>
<blockquote>
<p>ุชูุฌู: ฺฉ ุชูุงูุช ุจุฒุฑฺฏ ุจู ููุน <code>MyBox&lt;T&gt;</code> ฺฉู ูุฑุงุฑ ุงุณุช ุจุณุงุฒู ู <code>Box&lt;T&gt;</code> ูุงูุน ูุฌูุฏ ุฏุงุฑุฏ: ูุณุฎู ูุง ุฏุงุฏูโูุง ุฎูุฏ
ุฑุง ุฏุฑ heap ุฐุฎุฑู ููโฺฉูุฏ. ูุง ุงู ูุซุงู ุฑุง ุจุฑ ุฑู <code>Deref</code> ูุชูุฑฺฉุฒ ฺฉุฑุฏูโุงูุ ุจูุงุจุฑุงู ูฺฉุงู ฺฉู ุฏุงุฏูโูุง ูุงูุนุงู ุฏุฑ
ุขู ุฐุฎุฑู ูโุดููุฏ ฺฉูุชุฑ ุงุฒ ุฑูุชุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ฺฏููู ุงููุช ุฏุงุฑุฏ.</p>
</blockquote>
<!-- Old link, do not remove -->
<p><a id="following-the-pointer-to-the-value-with-the-dereference-operator"></a></p>
<h3 id="ุฏูุจุงู-ฺฉุฑุฏู-ุงุดุงุฑูฺฏุฑ-pointer-ุจู-ููุฏุงุฑ"><a class="header" href="#ุฏูุจุงู-ฺฉุฑุฏู-ุงุดุงุฑูฺฏุฑ-pointer-ุจู-ููุฏุงุฑ">ุฏูุจุงู ฺฉุฑุฏู ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ููุฏุงุฑ</a></h3>
<p>ฺฉ ุงุฑุฌุงุน ูุนููู ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) ุงุณุชุ ู ฺฉ ุงุฒ ุฑุงูโูุง ูฺฉุฑ ฺฉุฑุฏู ุจู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุงู ุงุณุช ฺฉู ุจู ุนููุงู ฺฉ ููุด ุจู ฺฉ
ููุฏุงุฑ ุฐุฎุฑูโุดุฏู ุฏุฑ ุฌุง ุฏฺฏุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุฏุฑ ูุณุชูฺฏ ฑต-ถุ ูุง ฺฉ ุงุฑุฌุงุน ุจู ฺฉ ููุฏุงุฑ <code>i32</code> ุงุฌุงุฏ ูโฺฉูู ู
ุณูพุณ ุงุฒ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุจุฑุง ุฏูุจุงู ฺฉุฑุฏู ุงุฑุฌุงุน ุจู ููุฏุงุฑ ุงุณุชูุงุฏู ูโฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;
    let y = &amp;x;

    assert_eq!(5, x);
    assert_eq!(5, *y);
}</code></pre></pre>
<figcaption>Listing 15-6: ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุจุฑุง ุฏูุจุงู ฺฉุฑุฏู ฺฉ ุงุฑุฌุงุน ุจู ฺฉ ููุฏุงุฑ <code>i32</code></figcaption>
</figure>
<p>ูุชุบุฑ <code>x</code> ููุฏุงุฑ <code>i32</code> ุจุฑุงุจุฑ ุจุง <code>5</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ูุง <code>y</code> ุฑุง ุจุฑุงุจุฑ ุจุง ฺฉ ุงุฑุฌุงุน ุจู <code>x</code> ุชูุธู ูโฺฉูู. ูโุชูุงูู
ุชุงุฏ ฺฉูู ฺฉู <code>x</code> ุจุฑุงุจุฑ ุจุง <code>5</code> ุงุณุช. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุจุฎูุงูู ฺฉ ุชุงุฏ ุฑู ููุฏุงุฑ ุฏุงุฎู <code>y</code> ุงูุฌุงู ุฏููุ ุจุงุฏ ุงุฒ
<code>*y</code> ุจุฑุง ุฏูุจุงู ฺฉุฑุฏู ุงุฑุฌุงุน ุจู ููุฏุงุฑ ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุงุณุชูุงุฏู ฺฉูู (ุจูุงุจุฑุงู <em>ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง</em>) ุชุง ฺฉุงููพุงูุฑ
ุจุชูุงูุฏ ููุฏุงุฑ ูุงูุน ุฑุง ููุงุณู ฺฉูุฏ. ููุช <code>y</code> ุฑุง ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ูโฺฉููุ ุจู ููุฏุงุฑ ุตุญุญ ฺฉู <code>y</code> ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ
ุฏุณุชุฑุณ ุฏุงุฑู ู ูโุชูุงูู ุขู ุฑุง ุจุง <code>5</code> ููุงุณู ฺฉูู.</p>
<p>ุงฺฏุฑ ุจุฎูุงูู <code>assert_eq!(5, y);</code> ุจููุณูุ ุฎุทุง ฺฉุงููพุงู ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling deref-example v0.1.0 (file:///projects/deref-example)
error[E0277]: can't compare `{integer}` with `&amp;{integer}`
 --&gt; src/main.rs:6:5
  |
6 |     assert_eq!(5, y);
  |     ^^^^^^^^^^^^^^^^ no implementation for `{integer} == &amp;{integer}`
  |
  = help: the trait `PartialEq&lt;&amp;{integer}&gt;` is not implemented for `{integer}`
  = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)
help: consider dereferencing here
 --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/core/src/macros/mod.rs:46:35
  |
46|                 if !(*left_val == **right_val) {
  |                                   +

For more information about this error, try `rustc --explain E0277`.
error: could not compile `deref-example` (bin "deref-example") due to 1 previous error
</code></pre>
<p>ููุงุณู ฺฉ ุนุฏุฏ ุจุง ฺฉ ุงุฑุฌุงุน ุจู ุนุฏุฏ ูุฌุงุฒ ูุณุช ุฒุฑุง ุขูโูุง ุงููุงุน ูุชูุงูุช ูุณุชูุฏ. ูุง ุจุงุฏ ุงุฒ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุจุฑุง
ุฏูุจุงู ฺฉุฑุฏู ุงุฑุฌุงุน ุจู ููุฏุงุฑ ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุงุณุชูุงุฏู ฺฉูู.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-boxt-ูุงููุฏ-ฺฉ-ุงุฑุฌุงุน"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-boxt-ูุงููุฏ-ฺฉ-ุงุฑุฌุงุน">ุงุณุชูุงุฏู ุงุฒ <code>Box&lt;T&gt;</code> ูุงููุฏ ฺฉ ุงุฑุฌุงุน</a></h3>
<p>ูุง ูโุชูุงูู ฺฉุฏ ูุณุชูฺฏ ฑต-ถ ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ <code>Box&lt;T&gt;</code> ุจูโุฌุง ฺฉ ุงุฑุฌุงุน ุจุงุฒููุณ ฺฉููุ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง
ฺฉู ุฑู <code>Box&lt;T&gt;</code> ุฏุฑ ูุณุชูฺฏ ฑต-ท ุงุณุชูุงุฏู ุดุฏู ุงุณุชุ ุจู ููุงู ุดููโุง ุนูู ูโฺฉูุฏ ฺฉู ุฑู ุงุฑุฌุงุน ุฏุฑ ูุณุชูฺฏ ฑต-ถ ุนูู
ูโฺฉุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;
    let y = Box::new(x);

    assert_eq!(5, x);
    assert_eq!(5, *y);
}</code></pre></pre>
<figcaption>Listing 15-7: ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุฑู ฺฉ <code>Box&lt;i32&gt;</code></figcaption>
</figure>
<p>ุชูุงูุช ุงุตู ุจู ูุณุชูฺฏ ฑต-ท ู ูุณุชูฺฏ ฑต-ถ ุงู ุงุณุช ฺฉู ุฏุฑ ุงูุฌุง <code>y</code> ุฑุง ุจูโุนููุงู ฺฉ ููููู ุงุฒ <code>Box&lt;T&gt;</code> ุชูุธู ูโฺฉูู
ฺฉู ุจู ฺฉ ููุฏุงุฑ ฺฉูพโุดุฏู ุงุฒ <code>x</code> ุงุดุงุฑู ูโฺฉูุฏุ ุจูโุฌุง ฺฉ ุงุฑุฌุงุน ฺฉู ุจู ููุฏุงุฑ <code>x</code> ุงุดุงุฑู ูโฺฉูุฏ. ุฏุฑ ุชุงุฏ ููุงุ
ูโุชูุงูู ุงุฒ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุจุฑุง ุฏูุจุงู ฺฉุฑุฏู ุงุดุงุฑูโฺฏุฑ (Pointer) <code>Box&lt;T&gt;</code> ุจู ููุงู ุดููโุง ฺฉู ุฒูุงู ฺฉู <code>y</code> ฺฉ ุงุฑุฌุงุน
ุจูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู. ุฏุฑ ุงุฏุงูู ุจุฑุฑุณ ูโฺฉูู ฺู ฺุฒ ุฏุฑ ููุฑุฏ <code>Box&lt;T&gt;</code> ุฎุงุต ุงุณุช ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ุนููฺฏุฑ
ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุงุณุชูุงุฏู ฺฉููุ ุจุง ุชุนุฑู ููุน ุฎูุฏูุงู.</p>
<h3 id="ุชุนุฑู-ุงุดุงุฑูฺฏุฑ-pointer-ููุดููุฏ-ุฎูุฏูุงู"><a class="header" href="#ุชุนุฑู-ุงุดุงุฑูฺฏุฑ-pointer-ููุดููุฏ-ุฎูุฏูุงู">ุชุนุฑู ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุฎูุฏูุงู</a></h3>
<p>ุจุงุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ูุดุงุจู ููุน <code>Box&lt;T&gt;</code> ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ุดุฏู ุงุณุช ุจุณุงุฒู ุชุง ุชุฌุฑุจู ฺฉูู ฺฉู
ฺฺฏููู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุจู ุทูุฑ ูพุดโูุฑุถ ูุชูุงูุช ุงุฒ ุงุฑุฌุงุนุงุช ุฑูุชุงุฑ ูโฺฉููุฏ. ุณูพุณ ุจู ูุญูู ุงุถุงูู ฺฉุฑุฏู ูุงุจูุช ุงุณุชูุงุฏู ุงุฒ
ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ูโูพุฑุฏุงุฒู.</p>
<p>ููุน <code>Box&lt;T&gt;</code> ุฏุฑ ููุงุช ุจู ุนููุงู ฺฉ ุณุงุฎุชุงุฑ tuple ุจุง ฺฉ ุนูุตุฑ ุชุนุฑู ุดุฏู ุงุณุชุ ุจูุงุจุฑุงู ูุณุชูฺฏ ฑต-ธ ููุน <code>MyBox&lt;T&gt;</code>
ุฑุง ุจู ููุงู ุฑูุด ุชุนุฑู ูโฺฉูุฏ. ููฺูู ฺฉ ุชุงุจุน <code>new</code> ุชุนุฑู ูโฺฉูู ุชุง ุจุง ุชุงุจุน <code>new</code> ุชุนุฑูโุดุฏู ุฑู <code>Box&lt;T&gt;</code>
ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct MyBox&lt;T&gt;(T);

impl&lt;T&gt; MyBox&lt;T&gt; {
    fn new(x: T) -&gt; MyBox&lt;T&gt; {
        MyBox(x)
    }
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 15-8: ุชุนุฑู ููุน <code>MyBox&lt;T&gt;</code></figcaption>
</figure>
<p>ูุง ฺฉ ุณุงุฎุชุงุฑ ุจุง ูุงู <code>MyBox</code> ุชุนุฑู ูโฺฉูู ู ฺฉ ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ <code>T</code> ุงุนูุงู ูโฺฉููุ ุฒุฑุง ูโุฎูุงูู ููุน ูุง ููุงุฏุฑ
ุงุฒ ูุฑ ููุน ุฑุง ูฺฏู ุฏุงุฑุฏ. ููุน <code>MyBox</code> ฺฉ ุณุงุฎุชุงุฑ tuple ุจุง ฺฉ ุนูุตุฑ ุงุฒ ููุน <code>T</code> ุงุณุช. ุชุงุจุน <code>MyBox::new</code> ฺฉ ูพุงุฑุงูุชุฑ ุงุฒ ููุน
<code>T</code> ูโฺฏุฑุฏ ู ฺฉ ููููู ุงุฒ <code>MyBox</code> ฺฉู ููุฏุงุฑ ูุฑูุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
<p>ุจุงุฏ ุชุงุจุน <code>main</code> ุฏุฑ ูุณุชูฺฏ ฑต-ท ุฑุง ุจู ูุณุชูฺฏ ฑต-ธ ุงุถุงูู ฺฉูู ู ุขู ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ููุน <code>MyBox&lt;T&gt;</code> ฺฉู
ุชุนุฑู ฺฉุฑุฏูโุงูุ ุจู ุฌุง <code>Box&lt;T&gt;</code> ุชุบุฑ ุฏูู. ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ ฑต-น ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏุ ุฒุฑุง Rust ููโุฏุงูุฏ
ฺฺฏููู <code>MyBox</code> ุฑุง ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">struct MyBox&lt;T&gt;(T);
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; MyBox&lt;T&gt; {
</span><span class="boring">    fn new(x: T) -&gt; MyBox&lt;T&gt; {
</span><span class="boring">        MyBox(x)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let x = 5;
    let y = MyBox::new(x);

    assert_eq!(5, x);
    assert_eq!(5, *y);
}</code></pre>
<figcaption>Listing 15-9: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>MyBox&lt;T&gt;</code> ุจู ููุงู ุดููโุง ฺฉู ุงุฒ ุงุฑุฌุงุนุงุช ู <code>Box&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉุฑุฏู</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุง ุฎุทุง ฺฉุงููพุงู ฺฉู ูุชุฌู ูโุดูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling deref-example v0.1.0 (file:///projects/deref-example)
error[E0614]: type `MyBox&lt;{integer}&gt;` cannot be dereferenced
  --&gt; src/main.rs:14:19
   |
14 |     assert_eq!(5, *y);
   |                   ^^

For more information about this error, try `rustc --explain E0614`.
error: could not compile `deref-example` (bin "deref-example") due to 1 previous error
</code></pre>
<p>ููุน <code>MyBox&lt;T&gt;</code> ูุง ููโุชูุงูุฏ ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุดูุฏ ุฒุฑุง ูุง ุงู ูุงุจูุช ุฑุง ุฑู ููุน ุฎูุฏ ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏูโุงู. ุจุฑุง ูุนุงู
ฺฉุฑุฏู ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ุจุง ุนููฺฏุฑ <code>*</code>ุ ูุง ูฺฺฏ <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูู.</p>
<h3 id="ุฑูุชุงุฑ-ุฏุงุฏู-ุจู-ฺฉ-ููุน-ูุงููุฏ-ฺฉ-ุงุฑุฌุงุน-ุจุง-ูพุงุฏูุณุงุฒ-ูฺฺฏ-deref"><a class="header" href="#ุฑูุชุงุฑ-ุฏุงุฏู-ุจู-ฺฉ-ููุน-ูุงููุฏ-ฺฉ-ุงุฑุฌุงุน-ุจุง-ูพุงุฏูุณุงุฒ-ูฺฺฏ-deref">ุฑูุชุงุฑ ุฏุงุฏู ุจู ฺฉ ููุน ูุงููุฏ ฺฉ ุงุฑุฌุงุน ุจุง ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Deref</code></a></h3>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch10-02-traits.html#implementing-a-trait-on-a-type">โูพุงุฏูโุณุงุฒ ฺฉ ูฺฺฏ ุฑู ฺฉ ููุนโ</a><!-- ignore --> ูุตู ฑฐ ุจุญุซ ุดุฏุ ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉ
ูฺฺฏุ ุจุงุฏ ูพุงุฏูโุณุงุฒโูุง ุจุฑุง ูุชุฏูุง ููุฑุฏ ูุงุฒ ูฺฺฏ ุงุฑุงุฆู ุฏูู. ูฺฺฏ <code>Deref</code> ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ
ุงุฑุงุฆู ุดุฏู ุงุณุชุ ุงุฒ ูุง ูโุฎูุงูุฏ ฺฉู ฺฉ ูุชุฏ ุจู ูุงู <code>deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู ฺฉู <code>self</code> ุฑุง ูุฑุถ ุจฺฏุฑุฏ ู ฺฉ ุงุฑุฌุงุน ุจู
ุฏุงุฏู ุฏุงุฎู ุจุงุฒฺฏุฑุฏุงูุฏ. ูุณุชูฺฏ ฑต-ฑฐ ุดุงูู ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ <code>Deref</code> ุงุณุช ฺฉู ุจู ุชุนุฑู <code>MyBox</code> ุงุถุงูู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::ops::Deref;

impl&lt;T&gt; Deref for MyBox&lt;T&gt; {
    type Target = T;

    fn deref(&amp;self) -&gt; &amp;Self::Target {
        &amp;self.0
    }
}
<span class="boring">
</span><span class="boring">struct MyBox&lt;T&gt;(T);
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; MyBox&lt;T&gt; {
</span><span class="boring">    fn new(x: T) -&gt; MyBox&lt;T&gt; {
</span><span class="boring">        MyBox(x)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let x = 5;
</span><span class="boring">    let y = MyBox::new(x);
</span><span class="boring">
</span><span class="boring">    assert_eq!(5, x);
</span><span class="boring">    assert_eq!(5, *y);
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 15-10: ูพุงุฏูโุณุงุฒ <code>Deref</code> ุฑู <code>MyBox&lt;T&gt;</code></figcaption>
</figure>
<p>ุณูุชฺฉุณ <code>type Target = T;</code> ฺฉ ููุน ูุฑุชุจุท ุจุฑุง ูฺฺฏ <code>Deref</code> ุชุนุฑู ูโฺฉูุฏ ุชุง ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูุฏ. ููุนโูุง ูุฑุชุจุท
ฺฉ ุฑูุด ฺฉู ูุชูุงูุช ุจุฑุง ุงุนูุงู ฺฉ ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ ูุณุชูุฏุ ุงูุง ูุงุฒ ูุณุช ุฏุฑ ุญุงู ุญุงุถุฑ ูฺฏุฑุงู ุขูโูุง ุจุงุดุฏุ ูุง ุฏุฑ ูุตู ฒฐ
ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุขูโูุง ุงุฑุงุฆู ุฎูุงูู ุฏุงุฏ.</p>
<p>ูุง ุจุฏูู ูุชุฏ <code>deref</code> ุฑุง ุจุง <code>&amp;self.0</code> ูพุฑ ูโฺฉูู ุชุง <code>deref</code> ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑ ฺฉู ูโุฎูุงูู ุจุง ุนููฺฏุฑ <code>*</code>
ุฏุณุชุฑุณ ูพุฏุง ฺฉูู ุจุงุฒฺฏุฑุฏุงูุฏ. ุจู ุงุฏ ุจุงูุฑุฏ ุงุฒ ุจุฎุด <a href="ch05-01-defining-structs.html#using-tuple-structs-without-named-fields-to-create-different-types">โุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑูุง tuple ุจุฏูู ููุฏูุง ูุงูโฺฏุฐุงุฑโุดุฏู ุจุฑุง
ุงุฌุงุฏ ุงููุงุน ูุฎุชููโ</a><!-- ignore --> ุฏุฑ ูุตู ต ฺฉู <code>.0</code> ุจู ุงููู ููุฏุงุฑ ุฏุฑ ฺฉ ุณุงุฎุชุงุฑ tuple ุฏุณุชุฑุณ
ูพุฏุง ูโฺฉูุฏ. ุชุงุจุน <code>main</code> ุฏุฑ ูุณุชูฺฏ ฑต-น ฺฉู <code>*</code> ุฑุง ุฑู ููุฏุงุฑ <code>MyBox&lt;T&gt;</code> ูุฑุงุฎูุงู ูโฺฉูุฏ ุงฺฉููู ฺฉุงููพุงู ูโุดูุฏ ู
ุชุงุฏูุง ูููู ุฎูุงููุฏ ุดุฏ!</p>
<p>ุจุฏูู ูฺฺฏ <code>Deref</code>ุ ฺฉุงููพุงูุฑ ุชููุง ูโุชูุงูุฏ ุงุฑุฌุงุนุงุช <code>&amp;</code> ุฑุง ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ฺฉูุฏ. ูุชุฏ <code>deref</code> ุจู ฺฉุงููพุงูุฑ ุงูฺฉุงู ูโุฏูุฏ
ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ูุฑ ููุน ฺฉู <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจฺฏุฑุฏ ู ูุชุฏ <code>deref</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ุชุง ฺฉ ุงุฑุฌุงุน <code>&amp;</code>
ุฏุฑุงูุช ฺฉูุฏ ฺฉู ูโุฏุงูุฏ ฺฺฏููู ุขู ุฑุง ุงุดุงุฑูโฺฏุฑ (Pointer)โุฒุฏุง ฺฉูุฏ.</p>
<p>ููุช ฺฉู ุฏุฑ ูุณุชูฺฏ ฑต-น <code>*y</code> ูุงุฑุฏ ฺฉุฑุฏูุ ูพุดุช ุตุญูู Rust ุฏุฑ ูุงูุน ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉุฑุฏ:</p>
<pre><code class="language-rust ignore">*(y.deref())</code></pre>
<p>Rust ุนููฺฏุฑ <code>*</code> ุฑุง ุจุง ฺฉ ูุฑุงุฎูุงู ุจู ูุชุฏ <code>deref</code> ู ุณูพุณ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุณุงุฏู ุฌุงฺฏุฒู ูโฺฉูุฏุ ุจูุงุจุฑุงู ูุงุฒู ูุณุช
ุฏุฑุจุงุฑู ุงู ูฺฉุฑ ฺฉูู ฺฉู ุขุง ูุงุฒ ุจู ูุฑุงุฎูุงู ูุชุฏ <code>deref</code> ุฏุงุฑู ุง ูู. ุงู ูฺฺฏ Rust ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉุฏ ุจููุณู ฺฉู
ุฎูุงู ุงุฑุฌุงุน ูุนููู ุจุงุดุฏ ุง ููุน ฺฉู <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดุฏุ ุจู ุทูุฑ ฺฉุณุงู ุนูู ฺฉูุฏ.</p>
<p>ุฏูู ุงูฺฉู ูุชุฏ <code>deref</code> ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุณุงุฏู ุฏุฑ ุจุฑูู ุงุฒ ูพุฑุงูุชุฒ ุฏุฑ
<code>*(y.deref())</code> ููฺูุงู ูุงุฒู ุงุณุชุ ุจู ุณุณุชู ูุงูฺฉุช ูุฑุชุจุท ุงุณุช. ุงฺฏุฑ ูุชุฏ <code>deref</code> ุจูโุฌุง ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑุ ููุฏุงุฑ ุฑุง
ูุณุชููุงู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ููุฏุงุฑ ุงุฒ <code>self</code> ููุชูู ูโุดุฏ. ุฏุฑ ุงู ุญุงูุช ุง ุฏุฑ ุจุดุชุฑ ููุงุฑุฏ ฺฉู ุงุฒ ุนููฺฏุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง
ุงุณุชูุงุฏู ูโฺฉููุ ููโุฎูุงูู ูุงูฺฉุช ููุฏุงุฑ ุฏุงุฎู ุฏุฑูู <code>MyBox&lt;T&gt;</code> ุฑุง ุจู ุฏุณุช ุจฺฏุฑู.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุนููฺฏุฑ <code>*</code> ุจุง ฺฉ ูุฑุงุฎูุงู ุจู ูุชุฏ <code>deref</code> ู ุณูพุณ ฺฉ ูุฑุงุฎูุงู ุจู ุนููฺฏุฑ <code>*</code> ููุท ฺฉ ุจุงุฑ ุฌุงฺฏุฒู
ูโุดูุฏุ ูุฑ ุจุงุฑ ฺฉู ุงุฒ <code>*</code> ุฏุฑ ฺฉุฏูุงู ุงุณุชูุงุฏู ูโฺฉูู. ุงุฒ ุขูุฌุง ฺฉู ุฌุงฺฏุฒู ุนููฺฏุฑ <code>*</code> ุจโููุงุช ุชฺฉุฑุงุฑ ููโุดูุฏุ ุฏุฑ
ููุงุช ุจู ุฏุงุฏูโุง ุงุฒ ููุน <code>i32</code> ูโุฑุณู ฺฉู ุจุง <code>5</code> ุฏุฑ <code>assert_eq!</code> ุฏุฑ ูุณุชูฺฏ ฑต-น ูุทุงุจูุช ุฏุงุฑุฏ.</p>
<h3 id="ูุดุงุฑ-ุงุดุงุฑูฺฏุฑ-pointerุฒุฏุง-ุถูู-ุจุง-ุชูุงุจุน-ู-ูุชุฏูุง"><a class="header" href="#ูุดุงุฑ-ุงุดุงุฑูฺฏุฑ-pointerุฒุฏุง-ุถูู-ุจุง-ุชูุงุจุน-ู-ูุชุฏูุง">ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุถูู ุจุง ุชูุงุจุน ู ูุชุฏูุง</a></h3>
<p><em>ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง</em> (Deref coercion) ฺฉ ุงุฑุฌุงุน ุจู ููุน ฺฉู ูฺฺฏ <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช ุจู ฺฉ ุงุฑุฌุงุน ุจู
ููุน ุฏฺฏุฑ ุชุจุฏู ูโฺฉูุฏ. ุจุฑุง ูุซุงูุ ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ูโุชูุงูุฏ <code>&amp;String</code> ุฑุง ุจู <code>&amp;str</code> ุชุจุฏู ฺฉูุฏุ ุฒุฑุง
<code>String</code> ูฺฺฏ <code>Deref</code> ุฑุง ุจู ฺฏูููโุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช ฺฉู <code>&amp;str</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ฺฉ
ูฺฺฏ ฺฉุงุฑุจุฑุฏ ุฏุฑ Rust ุงุณุช ฺฉู ุฑู ุขุฑฺฏููุงูโูุง ุชูุงุจุน ู ูุชุฏูุง ุงุนูุงู ูโุดูุฏ ู ููุท ุฑู ุงููุงุน ฺฉู ูฺฺฏ <code>Deref</code>
ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงูุฏ ุนูู ูโฺฉูุฏ. ุงู ูฺฺฏ ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุฒูุงู ฺฉู ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑ ฺฉ ููุน ุฎุงุต ุจูโุนููุงู
ุขุฑฺฏููุงู ุจู ฺฉ ุชุงุจุน ุง ูุชุฏ ฺฉู ููุน ูพุงุฑุงูุชุฑ ุขู ุจุง ุชุนุฑู ุชุงุจุน ุง ูุชุฏ ูุทุงุจูุช ูุฏุงุฑุฏุ ุงุชูุงู ูโุงูุชุฏ. ฺฉ ุชูุงู ุงุฒ
ูุฑุงุฎูุงูโูุง ูุชุฏ <code>deref</code> ููุน ุฑุง ฺฉู ุงุฑุงุฆู ุฏุงุฏูโุงู ุจู ููุน ฺฉู ูพุงุฑุงูุชุฑ ูุงุฒ ุฏุงุฑุฏ ุชุจุฏู ูโฺฉูุฏ.</p>
<p>ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุจู Rust ุงุถุงูู ุดุฏ ุชุง ุจุฑูุงููโููุณุงู ฺฉู ุชูุงุจุน ู ูุชุฏูุง ุฑุง ูโููุณูุฏ ูุงุฒ ูุฏุงุดุชู ุจุงุดูุฏ
ูุฑุฌุนโุฏูโูุง ู ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุงโูุง ูุงุถุญ ุฒุงุฏ ุจุง <code>&amp;</code> ู <code>*</code> ุงุถุงูู ฺฉููุฏ. ุงู ูฺฺฏ ููฺูู ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ
ฺฉุฏ ุจููุณู ฺฉู ูโุชูุงูุฏ ุจุฑุง ุงุฑุฌุงุนุงุช ุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ฺฉุงุฑ ฺฉูุฏ.</p>
<p>ุจุฑุง ุฏุฏู ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุฏุฑ ุนููุ ุจุงุฏ ุงุฒ ููุน <code>MyBox&lt;T&gt;</code> ฺฉู ุฏุฑ ูุณุชูฺฏ ฑต-ธ ุชุนุฑู ฺฉุฑุฏู ุจู ููุฑุงู ูพุงุฏูโุณุงุฒ
<code>Deref</code> ฺฉู ุฏุฑ ูุณุชูฺฏ ฑต-ฑฐ ุงุถุงูู ฺฉุฑุฏู ุงุณุชูุงุฏู ฺฉูู. ูุณุชูฺฏ ฑต-ฑฑ ุชุนุฑู ฺฉ ุชุงุจุน ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุงุฒ ููุน
ุงุณูุงุณ ุฑุดุชู ุฏุงุฑุฏ ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn hello(name: &amp;str) {
    println!("Hello, {name}!");
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 15-11: ฺฉ ุชุงุจุน <code>hello</code> ฺฉู ูพุงุฑุงูุชุฑ <code>name</code> ุงุฒ ููุน <code>&amp;str</code> ุฏุงุฑุฏ</figcaption>
</figure>
<p>ูโุชูุงูู ุชุงุจุน <code>hello</code> ุฑุง ุจุง ฺฉ ุงุณูุงุณ ุฑุดุชู ุจูโุนููุงู ุขุฑฺฏููุงู ูุฑุงุฎูุงู ฺฉููุ ูุงููุฏ <code>hello("Rust");</code> ุจุฑุง ูุซุงู.
ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุงู ุงูฺฉุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู <code>hello</code> ุฑุง ุจุง ฺฉ ุงุฑุฌุงุน ุจู ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>MyBox&lt;String&gt;</code>
ูุฑุงุฎูุงู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ ฑต-ฑฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use std::ops::Deref;
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; Deref for MyBox&lt;T&gt; {
</span><span class="boring">    type Target = T;
</span><span class="boring">
</span><span class="boring">    fn deref(&amp;self) -&gt; &amp;T {
</span><span class="boring">        &amp;self.0
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct MyBox&lt;T&gt;(T);
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; MyBox&lt;T&gt; {
</span><span class="boring">    fn new(x: T) -&gt; MyBox&lt;T&gt; {
</span><span class="boring">        MyBox(x)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn hello(name: &amp;str) {
</span><span class="boring">    println!("Hello, {name}!");
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let m = MyBox::new(String::from("Rust"));
    hello(&amp;m);
}</code></pre></pre>
<figcaption>Listing 15-12: ูุฑุงุฎูุงู <code>hello</code> ุจุง ฺฉ ุงุฑุฌุงุน ุจู ฺฉ ููุฏุงุฑ <code>MyBox&lt;String&gt;</code> ฺฉู ุจู ุฏูู ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ฺฉุงุฑ ูโฺฉูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุง ูุง ุชุงุจุน <code>hello</code> ุฑุง ุจุง ุขุฑฺฏููุงู <code>&amp;m</code> ฺฉู ฺฉ ุงุฑุฌุงุน ุจู ฺฉ ููุฏุงุฑ <code>MyBox&lt;String&gt;</code> ุงุณุช ูุฑุงุฎูุงู ูโฺฉูู.
ุงุฒ ุขูุฌุง ฺฉู ูุง ูฺฺฏ <code>Deref</code> ุฑุง ุฑู <code>MyBox&lt;T&gt;</code> ุฏุฑ ูุณุชูฺฏ ฑต-ฑฐ ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูุ Rust ูโุชูุงูุฏ <code>&amp;MyBox&lt;String&gt;</code>
ุฑุง ุจู <code>&amp;String</code> ุจุง ูุฑุงุฎูุงู <code>deref</code> ุชุจุฏู ฺฉูุฏ. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Deref</code> ุฑู <code>String</code>
ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ฺฉ ุงุณูุงุณ ุฑุดุชู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ู ุงู ุฏุฑ ูุณุชูุฏุงุช API ุจุฑุง <code>Deref</code> ุฐฺฉุฑ ุดุฏู ุงุณุช. Rust ูุชุฏ
<code>deref</code> ุฑุง ุฏูุจุงุฑู ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง <code>&amp;String</code> ุฑุง ุจู <code>&amp;str</code> ุชุจุฏู ฺฉูุฏ ฺฉู ุจุง ุชุนุฑู ุชุงุจุน <code>hello</code> ูุทุงุจูุช ุฏุงุฑุฏ.</p>
<p>ุงฺฏุฑ Rust ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏู ุจูุฏุ ูุฌุจูุฑ ุจูุฏู ฺฉุฏ ูุงููุฏ ูุณุชูฺฏ ฑต-ฑณ ุฑุง ุจูโุฌุง ฺฉุฏ
ูุณุชูฺฏ ฑต-ฑฒ ุจููุณู ุชุง <code>hello</code> ุฑุง ุจุง ฺฉ ููุฏุงุฑ ุงุฒ ููุน <code>&amp;MyBox&lt;String&gt;</code> ูุฑุงุฎูุงู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use std::ops::Deref;
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; Deref for MyBox&lt;T&gt; {
</span><span class="boring">    type Target = T;
</span><span class="boring">
</span><span class="boring">    fn deref(&amp;self) -&gt; &amp;T {
</span><span class="boring">        &amp;self.0
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct MyBox&lt;T&gt;(T);
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; MyBox&lt;T&gt; {
</span><span class="boring">    fn new(x: T) -&gt; MyBox&lt;T&gt; {
</span><span class="boring">        MyBox(x)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn hello(name: &amp;str) {
</span><span class="boring">    println!("Hello, {name}!");
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let m = MyBox::new(String::from("Rust"));
    hello(&amp;(*m)[..]);
}</code></pre></pre>
<figcaption>Listing 15-13: ฺฉุฏ ฺฉู ุจุงุฏ ูโููุดุชู ุงฺฏุฑ Rust ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ูุฏุงุดุช</figcaption>
</figure>
<p>ุนููฺฏุฑ <code>(*m)</code> ููุฏุงุฑ <code>MyBox&lt;String&gt;</code> ุฑุง ุจู ฺฉ <code>String</code> ุงุดุงุฑูโฺฏุฑ (Pointer) ุฒุฏุง ูโฺฉูุฏ. ุณูพุณ <code>&amp;</code> ู <code>[..]</code> ฺฉ ุจุฑุด ุฑุดุชูโุง ุงุฒ
<code>String</code> ูโฺฏุฑูุฏ ฺฉู ุจุฑุงุจุฑ ุจุง ฺฉู ุฑุดุชู ุงุณุช ุชุง ุจุง ุงูุถุง ุชุงุจุน <code>hello</code> ุชุทุงุจู ุฏุงุดุชู ุจุงุดุฏ. ุงู ฺฉุฏ ุจุฏูู ูุดุงุฑ
ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุจุง ุชูุงู ุงู ููุงุฏูุง ุฏุดูุงุฑุชุฑ ุจุฑุง ุฎูุงูุฏูุ ููุดุชู ู ุฏุฑฺฉ ุงุณุช. ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุจู Rust ุงุฌุงุฒู ูโุฏูุฏ
ุงู ุชุจุฏูโูุง ุฑุง ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑุง ูุง ุงูุฌุงู ุฏูุฏ.</p>
<p>ููุช ูฺฺฏ <code>Deref</code> ุจุฑุง ุงููุงุน ุฏุฑฺฏุฑ ุชุนุฑู ุดูุฏุ Rust ุงููุงุน ุฑุง ุชุญูู ูโฺฉูุฏ ู ุงุฒ <code>Deref::deref</code> ุจู ุฏูุนุงุช ูุงุฒู
ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ฺฉ ุงุฑุฌุงุน ุจุฑุง ูุทุงุจูุช ุจุง ููุน ูพุงุฑุงูุชุฑ ุจู ุฏุณุช ุขุฏ. ุชุนุฏุงุฏ ุฏูุนุงุช ฺฉู ูุงุฒ ุจู ูุฑุงุฎูุงู
<code>Deref::deref</code> ุงุณุช ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุญู ูโุดูุฏุ ุจูุงุจุฑุงู ูฺ ูุฒููโุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุดุงุฑ
ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ูุฌูุฏ ูุฏุงุฑุฏ!</p>
<h3 id="ูุญูู-ุชุนุงูู-ูุดุงุฑ-ุงุดุงุฑูฺฏุฑ-pointerุฒุฏุง-ุจุง-ูุงุจูุช-ุชุบุฑูพุฐุฑ"><a class="header" href="#ูุญูู-ุชุนุงูู-ูุดุงุฑ-ุงุดุงุฑูฺฏุฑ-pointerุฒุฏุง-ุจุง-ูุงุจูุช-ุชุบุฑูพุฐุฑ">ูุญูู ุชุนุงูู ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุจุง ูุงุจูุช ุชุบุฑูพุฐุฑ</a></h3>
<p>ูุดุงุจู ูุญูู ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>Deref</code> ุจุฑุง ุจุงุฒููุณ ุนููฺฏุฑ <code>*</code> ุฑู ุงุฑุฌุงุนุงุช ุบุฑูุงุจู ุชุบุฑุ ูโุชูุงูุฏ ุงุฒ ูฺฺฏ
<code>DerefMut</code> ุจุฑุง ุจุงุฒููุณ ุนููฺฏุฑ <code>*</code> ุฑู ุงุฑุฌุงุนุงุช ูุงุจู ุชุบุฑ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>Rust ููฺฏุงู ูพุฏุง ฺฉุฑุฏู ุงููุงุน ู ูพุงุฏูโุณุงุฒโูุง ูฺฺฏ ุฏุฑ ุณู ุญุงูุช ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุฑุง ุงูุฌุงู ูโุฏูุฏ:</p>
<ul>
<li>ุงุฒ <code>&amp;T</code> ุจู <code>&amp;U</code> ููุช <code>T: Deref&lt;Target=U&gt;</code> ุจุงุดุฏ</li>
<li>ุงุฒ <code>&amp;mut T</code> ุจู <code>&amp;mut U</code> ููุช <code>T: DerefMut&lt;Target=U&gt;</code> ุจุงุดุฏ</li>
<li>ุงุฒ <code>&amp;mut T</code> ุจู <code>&amp;U</code> ููุช <code>T: Deref&lt;Target=U&gt;</code> ุจุงุดุฏ</li>
</ul>
<p>ุฏู ุญุงูุช ุงูู ูุดุงุจู ฺฉุฏฺฏุฑ ูุณุชูุฏ ุจุง ุงู ุชูุงูุช ฺฉู ุญุงูุช ุฏูู ูุงุจูุช ุชุบุฑูพุฐุฑ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ุญุงูุช ุงูู
ุจุงู ูโฺฉูุฏ ฺฉู ุงฺฏุฑ ุดูุง ฺฉ <code>&amp;T</code> ุฏุงุดุชู ุจุงุดุฏ ู <code>T</code> ูฺฺฏ <code>Deref</code> ุฑุง ุจู ููุน <code>U</code> ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูโุชูุงูุฏ
ุจูโุตูุฑุช ุดูุงู ฺฉ <code>&amp;U</code> ุฏุฑุงูุช ฺฉูุฏ. ุญุงูุช ุฏูู ุจุงู ูโฺฉูุฏ ฺฉู ููู ูุดุงุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ุฒุฏุง ุจุฑุง ุงุฑุฌุงุนุงุช ูุงุจู ุชุบุฑ ูุฒ
ุงุชูุงู ูโุงูุชุฏ.</p>
<p>ุญุงูุช ุณูู ูพฺุฏูโุชุฑ ุงุณุช: Rust ููฺูู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุฑุง ุจู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุชุจุฏู ูโฺฉูุฏ. ุงูุง
ุนฺฉุณ ุขู ููฺฉู <em>ูุณุช</em>: ุงุฑุฌุงุนุงุช ุบุฑูุงุจู ุชุบุฑ ูุฑฺฏุฒ ุจู ุงุฑุฌุงุนุงุช ูุงุจู ุชุบุฑ ุชุจุฏู ููโุดููุฏ. ุจู ุฏูู ููุงูู
ูุฑุถโฺฏุฑุ ุงฺฏุฑ ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุฏุงุดุชู ุจุงุดุฏุ ุขู ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุจุงุฏ ุชููุง ุงุฑุฌุงุน ุจู ุขู ุฏุงุฏู ุจุงุดุฏ (ุฏุฑ ุบุฑ
ุงู ุตูุฑุชุ ุจุฑูุงูู ฺฉุงููพุงู ููโุดุฏ). ุชุจุฏู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุจู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ูุฑฺฏุฒ ููุงูู ูุฑุถโฺฏุฑ
ุฑุง ููโุดฺฉูุฏ. ุชุจุฏู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ูุงุฒููุฏ ุงู ุงุณุช ฺฉู ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุงููู
ุชููุง ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ุขู ุฏุงุฏู ุจุงุดุฏุ ุงูุง ููุงูู ูุฑุถโฺฏุฑ ุงู ุฑุง ุชุถูู ููโฺฉููุฏ. ุจูุงุจุฑุงูุ Rust ููโุชูุงูุฏ
ูุฑุถ ฺฉูุฏ ฺฉู ุชุจุฏู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจู ุชุบุฑ ุจู ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุงูฺฉุงูโูพุฐุฑ ุงุณุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุฌุฑุง-ฺฉุฏ-ููฺฏุงู-ูพุงฺฉุณุงุฒ-ุจุง-ูฺฺฏ-drop"><a class="header" href="#ุงุฌุฑุง-ฺฉุฏ-ููฺฏุงู-ูพุงฺฉุณุงุฒ-ุจุง-ูฺฺฏ-drop">ุงุฌุฑุง ฺฉุฏ ููฺฏุงู ูพุงฺฉุณุงุฒ ุจุง ูฺฺฏ <code>Drop</code></a></h2>
<p>ูฺฺฏ ุฏูู ฺฉู ุจุฑุง ุงูฺฏู ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ููู ุงุณุชุ <code>Drop</code> ุงุณุช ฺฉู ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุณูุงุฑุด ฺฉูุฏ ฺฉู ููุช ฺฉ ููุฏุงุฑ
ูุฑุงุฑ ุงุณุช ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุดูุฏุ ฺู ุงุชูุงู ุจูุชุฏ. ูโุชูุงูุฏ ฺฉ ูพุงุฏูโุณุงุฒ ุจุฑุง ูฺฺฏ <code>Drop</code> ุฑู ูุฑ ููุน ุงุฑุงุฆู ุฏูุฏ ู
ุงู ฺฉุฏ ูโุชูุงูุฏ ุจุฑุง ุขุฒุงุฏุณุงุฒ ููุงุจุน ูุงููุฏ ูุงูโูุง ุง ุงุชุตุงูุงุช ุดุจฺฉู ุงุณุชูุงุฏู ุดูุฏ.</p>
<p>ูุง ูฺฺฏ <code>Drop</code> ุฑุง ุฏุฑ ุฒููู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ูุนุฑู ูโฺฉูู ุฒุฑุง ุนููฺฉุฑุฏ ูฺฺฏ <code>Drop</code> ุชูุฑุจุงู ููุดู ููฺฏุงู
ูพุงุฏูโุณุงุฒ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุงุณุชูุงุฏู ูโุดูุฏ. ุจุฑุง ูุซุงูุ ููุช ฺฉ <code>Box&lt;T&gt;</code> ุญุฐู ูโุดูุฏุ ูุถุง ููุฌูุฏ ุฑู ูพุดุชูโุง
ฺฉู ุจุงฺฉุณ ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏุ ุขุฒุงุฏ ุฎูุงูุฏ ุดุฏ.</p>
<p>ุฏุฑ ุจุฑุฎ ุฒุจุงูโูุงุ ุจุฑุง ุจุฑุฎ ุงุฒ ุงููุงุนุ ุจุฑูุงููโููุณ ุจุงุฏ ฺฉุฏ ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ุชุง ุญุงูุธู ุง ููุงุจุน ุฑุง ูุฑ ุจุงุฑ ฺฉู ุงุณุชูุงุฏู
ุงุฒ ฺฉ ููููู ุงุฒ ุงู ุงููุงุน ุจู ูพุงุงู ุฑุณุฏุ ุขุฒุงุฏ ฺฉูุฏ. ูุซุงูโูุง ุดุงูู ุฏุณุชูโูุง ูุงูุ ุณูฺฉุชโูุง ุง ูููโูุง ูโุจุงุดูุฏ. ุงฺฏุฑ
ูุฑุงููุด ฺฉููุฏุ ููฺฉู ุงุณุช ุณุณุชู ุจุด ุงุฒ ุญุฏ ุจุงุฑฺฏุฐุงุฑ ุดูุฏ ู ุฎุฑุงุจ ุดูุฏ. ุฏุฑ Rustุ ูโุชูุงูุฏ ูุดุฎุต ฺฉูุฏ ฺฉู ุจุฎุด ุงุฒ ฺฉุฏ
ุฎุงุต ูุฑ ุฒูุงู ฺฉู ฺฉ ููุฏุงุฑ ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุดุฏุ ุงุฌุฑุง ุดูุฏ ู ฺฉุงููพุงูุฑ ุงู ฺฉุฏ ุฑุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑุฌ ุฎูุงูุฏ ฺฉุฑุฏ.
ุฏุฑ ูุชุฌูุ ูุงุฒ ูุณุช ฺฉู ุฏุฑ ููุฑุฏ ูุฑุงุฑ ุฏุงุฏู ฺฉุฏ ูพุงฺฉุณุงุฒ ุฏุฑ ููู ุฌุงูุง ุจุฑูุงููโุง ฺฉู ุงุณุชูุงุฏู ุงุฒ ฺฉ ููููู ุฎุงุต ุจู
ูพุงุงู ุฑุณุฏู ุงุณุชุ ูุฑุงูุจ ุจุงุดุฏโุดูุง ููฺูุงู ููุงุจุน ุฑุง ูุดุช ูุฎูุงูุฏ ุฏุงุฏ!</p>
<p>ุดูุง ฺฉุฏ ฺฉู ุจุงุฏ ููฺฏุงู ุฎุฑูุฌ ููุฏุงุฑ ุงุฒ ุฏุงููู ุงุฌุฑุง ุดูุฏ ุฑุง ุจุง ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Drop</code> ูุดุฎุต ูโฺฉูุฏ. ูฺฺฏ <code>Drop</code>
ูุงุฒููุฏ ุงู ุงุณุช ฺฉู ฺฉ ูุชุฏ ุจู ูุงู <code>drop</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ ฺฉู ฺฉ ูุฑุฌุน ูุชุบุฑ ุจู <code>self</code> ูโฺฏุฑุฏ. ุจุฑุง ุฏุฏู ุฒูุงู
ฺฉู Rust ูุฑุงุฎูุงู <code>drop</code> ุฑุง ุงูุฌุงู ูโุฏูุฏุ ุจุงุฏ <code>drop</code> ุฑุง ุจุง ุฌููุงุช <code>println!</code> ุจุฑุง ุงฺฉููู ูพุงุฏูโุณุงุฒ ฺฉูู.</p>
<p>ููุฑุณุช 15-14 ฺฉ ุณุงุฎุชุงุฑ <code>CustomSmartPointer</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุชููุง ูุงุจูุช ุณูุงุฑุด ุขู ุงู ุงุณุช ฺฉู ููุช ูููููโุง ุงุฒ ุขู
ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏุ <code>Dropping CustomSmartPointer!</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉู ฺู ุฒูุงู Rust ูุชุฏ <code>drop</code> ุฑุง ุงุฌุฑุง
ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct CustomSmartPointer {
    data: String,
}

impl Drop for CustomSmartPointer {
    fn drop(&amp;mut self) {
        println!("Dropping CustomSmartPointer with data `{}`!", self.data);
    }
}

fn main() {
    let c = CustomSmartPointer {
        data: String::from("my stuff"),
    };
    let d = CustomSmartPointer {
        data: String::from("other stuff"),
    };
    println!("CustomSmartPointers created.");
}</code></pre></pre>
<figcaption>Listing 15-14: ุณุงุฎุชุงุฑ <code>CustomSmartPointer</code> ฺฉู ูฺฺฏ <code>Drop</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ุฏุฑ ุขู ฺฉุฏ ูพุงฺฉุณุงุฒ ุฎูุฏ ุฑุง ูุฑุงุฑ ูโุฏูู</figcaption>
</figure>
<p>ูฺฺฏ <code>Drop</code> ุฏุฑ ูพุดโุฏุฑุขูุฏ (prelude) ฺฏูุฌุงูุฏู ุดุฏู ุงุณุชุ ุจูุงุจุฑุงู ูุงุฒ ุจู ูุงุฑุฏ ฺฉุฑุฏู ุขู ุจู ุฏุงููู ูุฏุงุฑู. ูุง ูฺฺฏ
<code>Drop</code> ุฑุง ุฑู <code>CustomSmartPointer</code> ูพุงุฏูโุณุงุฒ ูโฺฉูู ู ฺฉ ูพุงุฏูโุณุงุฒ ุจุฑุง ูุชุฏ <code>drop</code> ุงุฑุงุฆู ูโุฏูู ฺฉู
<code>println!</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุจุฏูู ุชุงุจุน <code>drop</code> ุฌุง ุงุณุช ฺฉู ูุฑ ููุทู ฺฉู ุจุฎูุงูุฏ ููฺฏุงู ุฎุฑูุฌ ฺฉ ููููู ุงุฒ ููุน ุดูุง ุงุฒ
ุฏุงููู ุงุฌุฑุง ุดูุฏุ ูุฑุงุฑ ูโุฏูุฏ. ูุง ุฏุฑ ุงูุฌุง ูุชู ุฑุง ฺุงูพ ูโฺฉูู ุชุง ุจู ุตูุฑุช ุจุตุฑ ูุดุงู ุฏูู ฺฉู ฺู ุฒูุงู Rust ูุชุฏ
<code>drop</code> ุฑุง ูุฑุงุฎูุงู ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุฏุฑ ุชุงุจุน <code>main</code>ุ ุฏู ููููู ุงุฒ <code>CustomSmartPointer</code> ุงุฌุงุฏ ูโฺฉูู ู ุณูพุณ <code>CustomSmartPointers created</code> ุฑุง ฺุงูพ
ูโฺฉูู. ุฏุฑ ูพุงุงู <code>main</code>ุ ูููููโูุง ูุง ุงุฒ <code>CustomSmartPointer</code> ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุฎูุงููุฏ ุดุฏ ู Rust ฺฉุฏ ฺฉู ุฏุฑ ูุชุฏ
<code>drop</code> ูุฑุงุฑ ุฏุงุฏูโุงู ุฑุง ูุฑุงุฎูุงู ุฎูุงูุฏ ฺฉุฑุฏ ู ูพุงู ููุง ูุง ุฑุง ฺุงูพ ูโฺฉูุฏ. ุชูุฌู ฺฉูุฏ ฺฉู ูุงุฒ ุจู ูุฑุงุฎูุงู ุตุฑุญ ูุชุฏ
<code>drop</code> ูุฏุงุดุชู.</p>
<p>ููุช ุงู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ูุดุงูุฏู ุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling drop-example v0.1.0 (file:///projects/drop-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.60s
     Running `target/debug/drop-example`
CustomSmartPointers created.
Dropping CustomSmartPointer with data `other stuff`!
Dropping CustomSmartPointer with data `my stuff`!
</code></pre>
<p>Rust ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ <code>drop</code> ุฑุง ุจุฑุง ูุง ูุฑุงุฎูุงู ฺฉุฑุฏ ููุช ฺฉู ูููููโูุง ูุง ุงุฒ ุฏุงููู ุฎุงุฑุฌ ุดุฏูุฏ ู ฺฉุฏ ฺฉู ูุดุฎุต ฺฉุฑุฏู ุจูุฏู
ุฑุง ุงุฌุฑุง ฺฉุฑุฏ. ูุชุบุฑูุง ุจู ุชุฑุชุจ ูุนฺฉูุณ ุงุฌุงุฏุดุงู ุญุฐู ูโุดููุฏุ ุจูุงุจุฑุงู <code>d</code> ูุจู ุงุฒ <code>c</code> ุญุฐู ุดุฏ. ูุฏู ุงู ูุซุงู ุงู ุงุณุช
ฺฉู ฺฉ ุฑุงูููุง ุจุตุฑ ุจุฑุง ูุญูู ฺฉุงุฑฺฉุฑุฏ ูุชุฏ <code>drop</code> ุจู ุดูุง ุจุฏูุฏุ ูุนูููุงู ุดูุง ฺฉุฏ ูพุงฺฉุณุงุฒ ฺฉู ููุน ุดูุง ูุงุฒ ุฏุงุฑุฏ ุฑุง ูุดุฎุต
ูโฺฉูุฏ ูู ฺฉ ูพุงู ฺุงูพ.</p>
<h3 id="ุญุฐู-ุฒูุฏููฺฏุงู-ฺฉ-ููุฏุงุฑ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-stdmemdrop"><a class="header" href="#ุญุฐู-ุฒูุฏููฺฏุงู-ฺฉ-ููุฏุงุฑ-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-stdmemdrop">ุญุฐู ุฒูุฏููฺฏุงู ฺฉ ููุฏุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>std::mem::drop</code></a></h3>
<p>ูุชุฃุณูุงููุ ุบุฑูุนุงู ฺฉุฑุฏู ุนููฺฉุฑุฏ ุฎูุฏฺฉุงุฑ <code>drop</code> ุณุงุฏู ูุณุช. ุฏุฑ ุงุบูุจ ููุงุฑุฏุ ูุงุฒ ุจู ุบุฑูุนุงู ฺฉุฑุฏู <code>drop</code> ูุณุชุ ูุฏู ุงุตู
ูฺฺฏ <code>Drop</code> ุงู ุงุณุช ฺฉู ุงู ฺฉุงุฑ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุงูุฌุงู ุดูุฏ. ุจุง ุงู ุญุงูุ ฺฏุงู ููฺฉู ุงุณุช ุจุฎูุงูุฏ ฺฉ ููุฏุงุฑ ุฑุง ุฒูุฏุชุฑ ุงุฒ ุฒูุงู
ุฎูุฏ ุชูุฒ ฺฉูุฏ. ฺฉ ูุซุงู ุฏุฑ ุงู ุฒูููุ ุงุณุชูุงุฏู ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุงุณุช ฺฉู ูููโูุง ุฑุง ูุฏุฑุช ูโฺฉููุฏ: ููฺฉู ุงุณุช ุจุฎูุงูุฏ
ูุชุฏ <code>drop</code> ฺฉู ููู ุฑุง ุขุฒุงุฏ ูโฺฉูุฏ ุฑุง ุจู ุฒูุฑ ุงุฌุฑุง ฺฉูุฏ ุชุง ฺฉุฏ ุฏฺฏุฑ ุฏุฑ ููุงู ุญูุฒู ุจุชูุงูุฏ ููู ุฑุง ุจุฏุณุช ุขูุฑุฏ.<br />
Rust ุจู ุดูุง ุงุฌุงุฒู ููโุฏูุฏ ูุชุฏ <code>drop</code> ูุชุนูู ุจู ูฺฺฏ <code>Drop</code> ุฑุง ุจู ุตูุฑุช ุฏุณุช ูุฑุงุฎูุงู ฺฉูุฏุ ุฏุฑ ุนูุถุ ุจุงุฏ ุงุฒ ุชุงุจุน
<code>std::mem::drop</code> ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุฑุงูู ุดุฏู ุงุณุชุ ุงุณุชูุงุฏู ฺฉูุฏ ุงฺฏุฑ ูโุฎูุงูุฏ ููุฏุงุฑ ุฑุง ุฒูุฏุชุฑ ุงุฒ ุฒูุงู ูุนููู
ุญุฐู ฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุจุฎูุงูู ูุชุฏ <code>drop</code> ูุฑุจูุท ุจู ูฺฺฏ <code>Drop</code> ุฑุง ุจู ุตูุฑุช ุฏุณุช ูุฑุงุฎูุงู ฺฉูู ู ุชุงุจุน <code>main</code> ุฑุง ุงุฒ ูุซุงู ุดูุงุฑู 15-14
ุชุบุฑ ุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช 15-15 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุจุง ุฎุทุง ฺฉุงููพุงู ููุงุฌู ุฎูุงูู ุดุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">struct CustomSmartPointer {
</span><span class="boring">    data: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Drop for CustomSmartPointer {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("Dropping CustomSmartPointer with data `{}`!", self.data);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let c = CustomSmartPointer {
        data: String::from("some data"),
    };
    println!("CustomSmartPointer created.");
    c.drop();
    println!("CustomSmartPointer dropped before the end of main.");
}</code></pre>
<figcaption>Listing 15-15: ุชูุงุด ุจุฑุง ูุฑุงุฎูุงู ุฏุณุช ูุชุฏ <code>drop</code> ุงุฒ ูฺฺฏ <code>Drop</code> ุจุฑุง ูพุงฺฉุณุงุฒ ุฒูุฏููฺฏุงู</figcaption>
</figure>
<p>ููุช ุณุน ฺฉูู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉููุ ุจุง ุงู ุฎุทุง ููุงุฌู ูโุดูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling drop-example v0.1.0 (file:///projects/drop-example)
error[E0040]: explicit use of destructor method
  --&gt; src/main.rs:16:7
   |
16 |     c.drop();
   |       ^^^^ explicit destructor calls not allowed
   |
help: consider using `drop` function
   |
16 |     drop(c);
   |     +++++ ~

For more information about this error, try `rustc --explain E0040`.
error: could not compile `drop-example` (bin "drop-example") due to 1 previous error
</code></pre>
<p>ุงู ูพุงู ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ูุง ุงุฌุงุฒู ูุฏุงุฑู ุจูโุทูุฑ ุตุฑุญ <code>drop</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ูพุงู ุฎุทุง ุงุฒ ุงุตุทูุงุญ <em>ุชุฎุฑุจโฺฏุฑ</em>
(Destructor) ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุงุตุทูุงุญ ฺฉู ุจุฑุง ุชุงุจุน ุงุณุช ฺฉู ฺฉ ููููู ุฑุง ุชูุฒ ูโฺฉูุฏ. ฺฉ ุชุฎุฑุจโฺฏุฑ ูุดุงุจู ฺฉ
<em>ุณุงุฒูุฏู</em> (Constructor) ุงุณุช ฺฉู ฺฉ ููููู ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ. ุชุงุจุน <code>drop</code> ุฏุฑ Rust ฺฉ ุชุฎุฑุจโฺฏุฑ ุฎุงุต ุงุณุช.</p>
<p>Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ <code>drop</code> ุฑุง ุจู ุตูุฑุช ุตุฑุญ ูุฑุงุฎูุงู ฺฉูู ุฒุฑุง Rust ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ <code>drop</code> ุฑุง ุฏุฑ ุงูุชูุง ุชุงุจุน
<code>main</code> ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ููุถูุน ูโุชูุงูุฏ ุจุงุนุซ ุฎุทุง <em>ุขุฒุงุฏุณุงุฒ ุฏูฺฏุงูู</em> ุดูุฏ ุฒุฑุง Rust ุณุน ูโฺฉูุฏ ููุงู ููุฏุงุฑ ุฑุง ุฏู ุจุงุฑ
ุชูุฒ ฺฉูุฏ.</p>
<p>ูุง ููโุชูุงูู ูุฑุงุฑ ุฏุงุฏู ุฎูุฏฺฉุงุฑ <code>drop</code> ุฑุง ููฺฏุงู ุฎุฑูุฌ ฺฉ ููุฏุงุฑ ุงุฒ ุญูุฒู ุบุฑูุนุงู ฺฉูู ู ููฺูู ููโุชูุงูู ูุชุฏ <code>drop</code>
ุฑุง ุจู ุตูุฑุช ุตุฑุญ ูุฑุงุฎูุงู ฺฉูู. ุจูุงุจุฑุงูุ ุงฺฏุฑ ูุงุฒ ุจู ุญุฐู ุฒูุฏููฺฏุงู ฺฉ ููุฏุงุฑ ุฏุงุดุชู ุจุงุดูุ ุจุงุฏ ุงุฒ ุชุงุจุน <code>std::mem::drop</code>
ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุชุงุจุน <code>std::mem::drop</code> ุจุง ูุชุฏ <code>drop</code> ุฏุฑ ูฺฺฏ <code>Drop</code> ูุชูุงูุช ุงุณุช. ุงู ุชุงุจุน ุฑุง ุจุง ุงุฑุณุงู ููุฏุงุฑ ฺฉู ูโุฎูุงูู ุจูโุฒูุฑ
ุญุฐู ฺฉูู ุจูโุนููุงู ุขุฑฺฏููุงู ูุฑุงุฎูุงู ูโฺฉูู. ุงู ุชุงุจุน ุฏุฑ ูพุดโูุฑุถ (Prelude) ูุฑุงุฑ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุชุงุจุน <code>main</code>
ุฑุง ุฏุฑ ูุณุช 15-15 ุชุบุฑ ุฏูู ุชุง ุชุงุจุน <code>drop</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช 15-16 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct CustomSmartPointer {
</span><span class="boring">    data: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Drop for CustomSmartPointer {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("Dropping CustomSmartPointer with data `{}`!", self.data);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let c = CustomSmartPointer {
        data: String::from("some data"),
    };
    println!("CustomSmartPointer created.");
    drop(c);
    println!("CustomSmartPointer dropped before the end of main.");
}</code></pre></pre>
<figcaption>Listing 15-16: ูุฑุงุฎูุงู <code>std::mem::drop</code> ุจุฑุง ุญุฐู ุตุฑุญ ฺฉ ููุฏุงุฑ ูุจู ุงุฒ ุฎุฑูุฌ ุขู ุงุฒ ุญูุฒู</figcaption>
</figure>
<p>ุงุฌุฑุง ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling drop-example v0.1.0 (file:///projects/drop-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.73s
     Running `target/debug/drop-example`
CustomSmartPointer created.
Dropping CustomSmartPointer with data `some data`!
CustomSmartPointer dropped before the end of main.
</code></pre>
<p>ูุชู <code>Dropping CustomSmartPointer with data 'some data'!</code> ุจู ูุชูู <code>CustomSmartPointer created.</code> ู
<code>CustomSmartPointer dropped before the end of main.</code> ฺุงูพ ูโุดูุฏ ู ูุดุงู ูโุฏูุฏ ฺฉู ฺฉุฏ ูุชุฏ <code>drop</code> ุจุฑุง ุญุฐู
<code>c</code> ุฏุฑ ุขู ููุทู ูุฑุงุฎูุงู ุดุฏู ุงุณุช.</p>
<p>ุดูุง ูโุชูุงูุฏ ุงุฒ ฺฉุฏ ฺฉู ุฏุฑ ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Drop</code> ูุดุฎุต ฺฉุฑุฏูโุงุฏุ ุจู ุฑูุดโูุง ูุฎุชูู ุจุฑุง ุณุงุฏู ู ุงูู ฺฉุฑุฏู ุนููุงุช
ูพุงฺฉุณุงุฒ ุงุณุชูุงุฏู ฺฉูุฏ: ุจุฑุง ูุซุงูุ ูโุชูุงูุฏ ุงุฒ ุขู ุจุฑุง ุงุฌุงุฏ ุชุฎุตุตโุฏููุฏู ุญุงูุธู ุฎูุฏุชุงู ุงุณุชูุงุฏู ฺฉูุฏ! ุจุง ูฺฺฏ <code>Drop</code> ู
ุณุณุชู ูุงูฺฉุช Rustุ ูุงุฒ ุจู ุงุฏุขูุฑ ูพุงฺฉุณุงุฒ ูุฏุงุฑุฏุ ุฒุฑุง Rust ุงู ฺฉุงุฑ ุฑุง ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ.</p>
<p>ููฺูู ูุงุฒ ุจู ูฺฏุฑุงู ุฏุฑ ููุฑุฏ ูุดฺฉูุงุช ูุงุด ุงุฒ ูพุงฺฉุณุงุฒ ุงุดุชุจุงู ููุงุฏุฑ ฺฉู ูููุฒ ุฏุฑ ุญุงู ุงุณุชูุงุฏู ูุณุชูุฏุ ูุฏุงุฑุฏ: ุณุณุชู ูุงูฺฉุช
ฺฉู ุงุทููุงู ูโุฏูุฏ ุงุฑุฌุงุนุงุช ููุดู ูุนุชุจุฑ ูุณุชูุฏุ ููฺูู ุชุถูู ูโฺฉูุฏ ฺฉู <code>drop</code> ููุท ฺฉ ุจุงุฑ ู ุฒูุงู ฺฉู ููุฏุงุฑ ุฏฺฏุฑ ุงุณุชูุงุฏู ููโุดูุฏุ
ูุฑุงุฎูุงู ุดูุฏ.</p>
<p>ุงฺฉููู ฺฉู <code>Box&lt;T&gt;</code> ู ุจุฑุฎ ุงุฒ ูฺฺฏโูุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุฑุง ุจุฑุฑุณ ฺฉุฑุฏูุ ุจุงุฏ ุจู ฺูุฏ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุฏฺฏุฑ ฺฉู ุฏุฑ ฺฉุชุงุจุฎุงูู
ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏูโุงูุฏุ ูฺฏุงู ุจูุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="rct-ุงุดุงุฑูฺฏุฑ-pointer-ููุดููุฏ-ุจุง-ุดูุงุฑุด-ูุฑุฌุน"><a class="header" href="#rct-ุงุดุงุฑูฺฏุฑ-pointer-ููุดููุฏ-ุจุง-ุดูุงุฑุด-ูุฑุฌุน"><code>Rc&lt;T&gt;</code>ุ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ ุจุง ุดูุงุฑุด ูุฑุฌุน</a></h2>
<p>ุฏุฑ ุจุดุชุฑ ููุงุฑุฏุ ูุงูฺฉุช ูุงุถุญ ุงุณุช: ุดูุง ุฏููุงู ูโุฏุงูุฏ ฺฉู ฺฉุฏุงู ูุชุบุฑ ูุงูฺฉ ฺฉ ููุฏุงุฑ ูุดุฎุต ุงุณุช. ุจุง ุงู ุญุงูุ ุฏุฑ ููุงุฑุฏ
ููฺฉู ุงุณุช ฺฉ ููุฏุงุฑ ฺูุฏู ูุงูฺฉ ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ุณุงุฎุชุงุฑูุง ุฏุงุฏู ฺฏุฑุงูุ ฺูุฏู ุงู ููฺฉู ุงุณุช ุจู ฺฉ ฺฏุฑู
ุงุดุงุฑู ฺฉููุฏ ู ุขู ฺฏุฑู ุงุฒ ูุธุฑ ููููู ูุชุนูู ุจู ุชูุงู ุงูโูุง ุงุณุช ฺฉู ุจู ุขู ุงุดุงุฑู ุฏุงุฑูุฏ. ฺฉ ฺฏุฑู ูุจุงุฏ ูพุงฺฉุณุงุฒ ุดูุฏ ูฺฏุฑ
ุงูฺฉู ูฺ ุงู ุจู ุขู ุงุดุงุฑู ูฺฉูุฏ ู ุฏุฑ ูุชุฌู ูุงูฺฉุช ูุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุจุฑุง ูุนุงูโุณุงุฒ ูุงูฺฉุช ฺูุฏฺฏุงูู ุจุงุฏ ุจู ุตูุฑุช ุตุฑุญ ุงุฒ ููุน <code>Rc&lt;T&gt;</code> ุฏุฑ Rust ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ูุฎูู
<em>reference counting</em> ุง ุดูุงุฑุด ูุฑุฌุน ุงุณุช. ููุน <code>Rc&lt;T&gt;</code> ุชุนุฏุงุฏ ูุฑุงุฌุนุงุช ุจู ฺฉ ููุฏุงุฑ ุฑุง ุฏูุจุงู ูโฺฉูุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉู ุขุง
ุขู ููุฏุงุฑ ูููุฒ ุฏุฑ ุญุงู ุงุณุชูุงุฏู ุงุณุช ุง ุฎุฑ. ุงฺฏุฑ ูฺ ูุฑุฌุน ุจู ฺฉ ููุฏุงุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ ููุฏุงุฑ ูโุชูุงูุฏ ุจุฏูู ุงูฺฉู
ูฺ ูุฑุฌุน ูุงูุนุชุจุฑ ุดูุฏุ ูพุงฺฉุณุงุฒ ุดูุฏ.</p>
<p>ุชุตูุฑ ฺฉูุฏ <code>Rc&lt;T&gt;</code> ูุงููุฏ ฺฉ ุชููุฒูู ุฏุฑ ุงุชุงู ูุดูู ุงุณุช. ููุช ฺฉ ููุฑ ูุงุฑุฏ ุงุชุงู ูโุดูุฏ ุชุง ุชููุฒูู ุชูุงุดุง ฺฉูุฏุ ุขู ุฑุง
ุฑูุดู ูโฺฉูุฏ. ุงูุฑุงุฏ ุฏฺฏุฑ ูู ูโุชูุงููุฏ ูุงุฑุฏ ุงุชุงู ุดููุฏ ู ุชููุฒูู ุชูุงุดุง ฺฉููุฏ. ููุช ุขุฎุฑู ููุฑ ุงุชุงู ุฑุง ุชุฑฺฉ ูโฺฉูุฏุ
ุชููุฒูู ุฑุง ุฎุงููุด ูโฺฉูุฏ ุฒุฑุง ุฏฺฏุฑ ุงุณุชูุงุฏู ููโุดูุฏ. ุงฺฏุฑ ฺฉุณ ุชููุฒูู ุฑุง ุฏุฑ ุญุงู ฺฉู ุฏฺฏุฑุงู ูููุฒ ุฏุฑ ุญุงู ุชูุงุดุง ุขู
ูุณุชูุฏ ุฎุงููุด ฺฉูุฏุ ุงุนุชุฑุงุถ ุชูุงุดุงฺฏุฑุงู ุจุงูโูุงูุฏู ุจููุฏ ุฎูุงูุฏ ุดุฏ!</p>
<p>ูุง ุงุฒ ููุน <code>Rc&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉูู ููุช ูโุฎูุงูู ููุฏุงุฑ ุฑุง ุฏุฑ ููพ ุชุฎุตุต ุฏูู ฺฉู ุชูุณุท ฺูุฏู ุจุฎุด ุงุฒ ุจุฑูุงูู ูุง
ุฎูุงูุฏู ุดูุฏ ู ููโุชูุงูู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุชุนู ฺฉูู ฺฉู ฺฉุฏุงู ุจุฎุด ุงุณุชูุงุฏู ุงุฒ ุฏุงุฏู ุฑุง ุฒูุฏุชุฑ ุจู ูพุงุงู ูโุฑุณุงูุฏ. ุงฺฏุฑ
ูโุฏุงูุณุชู ฺฉุฏุงู ุจุฎุด ุฒูุฏุชุฑ ุชูุงู ูโุดูุฏุ ูโุชูุงูุณุชู ุขู ุจุฎุด ุฑุง ูุงูฺฉ ุฏุงุฏู ฺฉูู ู ููุงูู ูุนููู ูุงูฺฉุช ฺฉู ุฏุฑ ุฒูุงู
ฺฉุงููพุงู ุงุนูุงู ูโุดูุฏุ ุงุนูุงู ูโุดุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู <code>Rc&lt;T&gt;</code> ููุท ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุณูุงุฑููุง ุชฺฉโุฑุณูุงู ุงุณุช. ููฺฏุงู ฺฉู ุฏุฑ ูุตู 16 ุฏุฑ ููุฑุฏ
ููโุฒูุงู ุจุญุซ ูโฺฉููุ ูุญูู ุงูุฌุงู ุดูุงุฑุด ูุฑุฌุน ุฏุฑ ุจุฑูุงููโูุง ฺูุฏุฑุณูุงู ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-rct-ุจุฑุง-ุงุดุชุฑุงฺฉฺฏุฐุงุฑ-ุฏุงุฏู"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-rct-ุจุฑุง-ุงุดุชุฑุงฺฉฺฏุฐุงุฑ-ุฏุงุฏู">ุงุณุชูุงุฏู ุงุฒ <code>Rc&lt;T&gt;</code> ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุฏุงุฏู</a></h3>
<p>ุจุงุฏ ุจู ูุซุงู ูุณุช cons ุฏุฑ ูุณุช 15-5 ุจุงุฒฺฏุฑุฏู. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Box&lt;T&gt;</code> ุชุนุฑู
ฺฉุฑุฏู. ุงู ุจุงุฑุ ุฏู ูุณุช ุงุฌุงุฏ ูโฺฉูู ฺฉู ูุฑ ุฏู ูุงูฺฉุช ฺฉ ูุณุช ุณูู ุฑุง ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏ. ุจู ุทูุฑ ูููููุ ุงู
ูุดุงุจู ุดฺฉู 15-3 ุจู ูุธุฑ ูโุฑุณุฏ:</p>
<img alt="ุฏู ูุณุช ฺฉู ูุงูฺฉุช ฺฉ ูุณุช ุณูู ุฑุง ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏ" src="img/trpl15-03.svg" class="center" />
<p><span class="caption">ุดฺฉู 15-3: ุฏู ูุณุชุ <code>b</code> ู <code>c</code>ุ ฺฉู ูุงูฺฉุช ฺฉ ูุณุช ุณููุ <code>a</code> ุฑุง ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏ</span></p>
<p>ูุง ูุณุช <code>a</code> ุฑุง ุงุฌุงุฏ ูโฺฉูู ฺฉู ุดุงูู 5 ู ุณูพุณ 10 ุงุณุช. ุณูพุณ ุฏู ูุณุช ุฏฺฏุฑ ุงุฌุงุฏ ูโฺฉูู: <code>b</code> ฺฉู ุจุง 3 ุดุฑูุน ูโุดูุฏ ู
<code>c</code> ฺฉู ุจุง 4 ุดุฑูุน ูโุดูุฏ. ูุฑ ุฏู ูุณุช <code>b</code> ู <code>c</code> ุณูพุณ ุงุฏุงูู ูโุฏููุฏ ุจู ูุณุช ุงูู <code>a</code> ฺฉู ุดุงูู 5 ู 10 ุงุณุช. ุจู ุนุจุงุฑุช
ุฏฺฏุฑุ ูุฑ ุฏู ูุณุช ูุงูฺฉุช ูุณุช ุงูู ฺฉู ุดุงูู 5 ู 10 ุงุณุช ุฑุง ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏ.</p>
<p>ุชูุงุด ุจุฑุง ูพุงุฏูโุณุงุฒ ุงู ุณูุงุฑู ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุนุฑู ูุง ุงุฒ <code>List</code> ุจุง <code>Box&lt;T&gt;</code> ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช
15-17 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">enum List {
    Cons(i32, Box&lt;List&gt;),
    Nil,
}

use crate::List::{Cons, Nil};

fn main() {
    let a = Cons(5, Box::new(Cons(10, Box::new(Nil))));
    let b = Cons(3, Box::new(a));
    let c = Cons(4, Box::new(a));
}</code></pre>
<figcaption>Listing 15-17: ูุดุงู ุฏุงุฏู ุงูฺฉู ููโุชูุงูู ุฏู ูุณุช ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Box&lt;T&gt;</code> ุฏุงุดุชู ุจุงุดู ฺฉู ุณุน ุฏุฑ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ูุงูฺฉุช ฺฉ ูุณุช ุณูู ุฏุงุฑูุฏ</figcaption>
</figure>
<p>ููฺฏุงู ฺฉู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ูโฺฉููุ ุจุง ุงู ุฎุทุง ููุงุฌู ูโุดูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling cons-list v0.1.0 (file:///projects/cons-list)
error[E0382]: use of moved value: `a`
  --&gt; src/main.rs:11:30
   |
9  |     let a = Cons(5, Box::new(Cons(10, Box::new(Nil))));
   |         - move occurs because `a` has type `List`, which does not implement the `Copy` trait
10 |     let b = Cons(3, Box::new(a));
   |                              - value moved here
11 |     let c = Cons(4, Box::new(a));
   |                              ^ value used here after move

For more information about this error, try `rustc --explain E0382`.
error: could not compile `cons-list` (bin "cons-list") due to 1 previous error
</code></pre>
<p>ูุชุบุฑูุง <code>Cons</code> ูุงูฺฉ ุฏุงุฏูโูุง ูุณุชูุฏ ฺฉู ุฏุฑ ุฎูุฏ ูฺฏู ูโุฏุงุฑูุฏ. ุจูุงุจุฑุงูุ ููฺฏุงู ฺฉู ูุณุช <code>b</code> ุฑุง ุงุฌุงุฏ ูโฺฉููุ
<code>a</code> ุจู <code>b</code> ููุชูู ูโุดูุฏ ู <code>b</code> ูุงูฺฉ <code>a</code> ูโุดูุฏ. ุณูพุณุ ููฺฏุงู ฺฉู ุณุน ูโฺฉูู ุฏูุจุงุฑู ุงุฒ <code>a</code> ุจุฑุง ุงุฌุงุฏ <code>c</code> ุงุณุชูุงุฏู
ฺฉููุ ุงู ฺฉุงุฑ ูุฌุงุฒ ูุณุช ุฒุฑุง <code>a</code> ูุจูุงู ููุชูู ุดุฏู ุงุณุช.</p>
<p>ูุง ูโุชูุงูู ุชุนุฑู <code>Cons</code> ุฑุง ุจู ฺฏูููโุง ุชุบุฑ ุฏูู ฺฉู ุจู ุฌุง ูฺฏูุฏุงุฑ ุฏุงุฏูโูุงุ ุงุฑุฌุงุน ุจู ุขููุง ุฑุง ูฺฏู ุฏุงุฑุฏ. ุงูุง ุฏุฑ
ุงู ุตูุฑุช ุจุงุฏ ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑ (lifetime parameters) ุฑุง ูุดุฎุต ฺฉูู. ุจุง ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑูุง ุทูู ุนูุฑุ ูุดุฎุต
ูโฺฉูู ฺฉู ูุฑ ุนูุตุฑ ุฏุฑ ูุณุช ุญุฏุงูู ุจู ุงูุฏุงุฒู ฺฉู ูุณุช ุฒูุฏู ุฎูุงูุฏ ุจูุฏ. ุงู ููุถูุน ุฏุฑ ููุฑุฏ ุนูุงุตุฑ ู ูุณุชโูุง ููุฌูุฏ ุฏุฑ
ูุณุช 15-17 ุตุฏู ูโฺฉูุฏุ ุงูุง ุฏุฑ ููู ุณูุงุฑููุง ฺูู ูุณุช.</p>
<p>ุฏุฑ ุนูุถุ ุชุนุฑู <code>List</code> ุฎูุฏ ุฑุง ุชุบุฑ ูโุฏูู ุชุง ุจู ุฌุง <code>Box&lt;T&gt;</code> ุงุฒ <code>Rc&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช 15-18
ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ูุฑ ูุชุบุฑ <code>Cons</code> ุงฺฉููู ฺฉ ููุฏุงุฑ ู ฺฉ <code>Rc&lt;T&gt;</code> ุงุดุงุฑูโฺฉููุฏู ุจู ฺฉ <code>List</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ููุช <code>b</code>
ุฑุง ุงุฌุงุฏ ูโฺฉููุ ุจู ุฌุง ุชุตุงุญุจ ูุงูฺฉุช <code>a</code>ุ <code>Rc&lt;List&gt;</code> ฺฉู <code>a</code> ูฺฏู ูโุฏุงุฑุฏ ุฑุง ฺฉููู ูโฺฉููุ ุจูุงุจุฑุงู ุชุนุฏุงุฏ
ุงุฑุฌุงุนุงุช ุงุฒ ฺฉ ุจู ุฏู ุงูุฒุงุด ูโุงุจุฏ ู ุจู <code>a</code> ู <code>b</code> ุงุฌุงุฒู ูโุฏูู ูุงูฺฉุช ุฏุงุฏูโูุง ููุฌูุฏ ุฏุฑ ุขู <code>Rc&lt;List&gt;</code> ุฑุง ุจู
ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑูุฏ. ููฺูู ููฺฏุงู ุงุฌุงุฏ <code>c</code>ุ <code>a</code> ุฑุง ฺฉููู ูโฺฉูู ู ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุงุฒ ุฏู ุจู ุณู ุงูุฒุงุด ูโุงุจุฏ. ูุฑ ุจุงุฑ
ฺฉู <code>Rc::clone</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุจู ุฏุงุฏูโูุง ููุฌูุฏ ุฏุฑ <code>Rc&lt;List&gt;</code> ุงูุฒุงุด ูโุงุจุฏ ู ุฏุงุฏูโูุง ุชุง
ุฒูุงู ฺฉู ูฺ ุงุฑุฌุงุน ุจู ุขููุง ุจุงู ููุงูุฏ ูพุงฺฉ ููโุดููุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">enum List {
    Cons(i32, Rc&lt;List&gt;),
    Nil,
}

use crate::List::{Cons, Nil};
use std::rc::Rc;

fn main() {
    let a = Rc::new(Cons(5, Rc::new(Cons(10, Rc::new(Nil)))));
    let b = Cons(3, Rc::clone(&amp;a));
    let c = Cons(4, Rc::clone(&amp;a));
}</code></pre></pre>
<figcaption>Listing 15-18: ุชุนุฑู ุงุฒ <code>List</code> ฺฉู ุงุฒ <code>Rc&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุจุงุฏ ฺฉ ุฏุณุชูุฑ <code>use</code> ุงุถุงูู ฺฉูู ุชุง <code>Rc&lt;T&gt;</code> ุฑุง ุจู ุฏุงููู ุจุงูุฑู ุฒุฑุง ุงู ููุน ุจู ุตูุฑุช ูพุดโูุฑุถ ุฏุฑ prelude ูุณุช.
ุฏุฑ <code>main</code>ุ ูุณุช ฺฉู ุดุงูู 5 ู 10 ุงุณุช ุงุฌุงุฏ ูโฺฉูู ู ุขู ุฑุง ุฏุฑ ฺฉ <code>Rc&lt;List&gt;</code> ุฌุฏุฏ ุฏุฑ <code>a</code> ุฐุฎุฑู ูโฺฉูู. ุณูพุณ
ููฺฏุงู ฺฉู <code>b</code> ู <code>c</code> ุฑุง ุงุฌุงุฏ ูโฺฉููุ ุชุงุจุน <code>Rc::clone</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ู ฺฉ ุงุฑุฌุงุน ุจู <code>Rc&lt;List&gt;</code> ููุฌูุฏ ุฏุฑ
<code>a</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ูโูุฑุณุชู.</p>
<p>ูโุชูุงูุณุชู <code>a.clone()</code> ุฑุง ุจู ุฌุง <code>Rc::clone(&amp;a)</code> ูุฑุงุฎูุงู ฺฉููุ ุงูุง ุทุจู ูุฑุงุฑุฏุงุฏ Rust ุฏุฑ ุงู ููุงุฑุฏ ุงุฒ
<code>Rc::clone</code> ุงุณุชูุงุฏู ูโุดูุฏ. ูพุงุฏูโุณุงุฒ <code>Rc::clone</code> ฺฉ ฺฉูพ ุนูู ุงุฒ ุชูุงู ุฏุงุฏูโูุง ุงุฌุงุฏ ููโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู
ูพุงุฏูโุณุงุฒ ุงฺฉุซุฑ ุงููุงุน ุฏฺฏุฑ <code>clone</code> ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ. ูุฑุงุฎูุงู <code>Rc::clone</code> ููุท ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฑุง ุงูุฒุงุด
ูโุฏูุฏุ ฺฉู ุฒูุงู ุฒุงุฏ ููโุจุฑุฏ. ฺฉูพ ุนูู ุฏุงุฏูโูุง ููฺฉู ุงุณุช ุฒูุงู ุฒุงุฏ ุจุจุฑุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Rc::clone</code> ุจุฑุง ุดูุงุฑุด
ูุฑุฌุนุ ูโุชูุงูู ุจู ฺฉูพโูุง ุนูู ู ฺฉูพโูุง ฺฉู ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฑุง ุงูุฒุงุด ูโุฏููุฏ ุชูุงุฒ ุจุตุฑ ูุงุฆู ุดูู. ููฺฏุงู
ุฌุณุชุฌู ูุดฺฉูุงุช ุนููฺฉุฑุฏ ุฏุฑ ฺฉุฏุ ููุท ูุงุฒู ุงุณุช ุจู ฺฉูพโูุง ุนูู ุชูุฌู ฺฉูู ู ูโุชูุงูู ูุฑุงุฎูุงูโูุง <code>Rc::clone</code> ุฑุง
ูุงุฏุฏู ุจฺฏุฑู.</p>
<h3 id="ฺฉููู-ฺฉุฑุฏู-ฺฉ-rct-ุชุนุฏุงุฏ-ุงุฑุฌุงุนุงุช-ุฑุง-ุงูุฒุงุด-ูุฏูุฏ"><a class="header" href="#ฺฉููู-ฺฉุฑุฏู-ฺฉ-rct-ุชุนุฏุงุฏ-ุงุฑุฌุงุนุงุช-ุฑุง-ุงูุฒุงุด-ูุฏูุฏ">ฺฉููู ฺฉุฑุฏู ฺฉ <code>Rc&lt;T&gt;</code> ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฑุง ุงูุฒุงุด ูโุฏูุฏ</a></h3>
<p>ุงุฌุงุฒู ุฏูุฏ ูุซุงู ฺฉุงุฑ ุฎูุฏ ุฑุง ุฏุฑ ูุณุช 15-18 ุชุบุฑ ุฏูู ุชุง ุจุชูุงูู ุชุบุฑุงุช ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฑุง ููฺฏุงู ุงุฌุงุฏ ู ุญุฐู
ุงุฑุฌุงุนุงุช ุจู <code>Rc&lt;List&gt;</code> ุฏุฑ <code>a</code> ูุดุงูุฏู ฺฉูู.</p>
<p>ุฏุฑ ูุณุช 15-19ุ <code>main</code> ุฑุง ุชุบุฑ ุฎูุงูู ุฏุงุฏ ุชุง ฺฉ ูุญุฏูุฏู ุฏุงุฎู (inner scope) ุฏุฑ ุงุทุฑุงู ูุณุช <code>c</code> ุฏุงุดุชู ุจุงุดุฏุ
ุณูพุณ ูโุชูุงูู ุจุจูู ฺฉู ฺฺฏููู ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฒูุงู ฺฉู <code>c</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ ุชุบุฑ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">enum List {
</span><span class="boring">    Cons(i32, Rc&lt;List&gt;),
</span><span class="boring">    Nil,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">use crate::List::{Cons, Nil};
</span><span class="boring">use std::rc::Rc;
</span><span class="boring">
</span>fn main() {
    let a = Rc::new(Cons(5, Rc::new(Cons(10, Rc::new(Nil)))));
    println!("count after creating a = {}", Rc::strong_count(&amp;a));
    let b = Cons(3, Rc::clone(&amp;a));
    println!("count after creating b = {}", Rc::strong_count(&amp;a));
    {
        let c = Cons(4, Rc::clone(&amp;a));
        println!("count after creating c = {}", Rc::strong_count(&amp;a));
    }
    println!("count after c goes out of scope = {}", Rc::strong_count(&amp;a));
}</code></pre></pre>
<figcaption>Listing 15-19: ฺุงูพ ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช</figcaption>
</figure>
<p>ุฏุฑ ูุฑ ููุทู ุงุฒ ุจุฑูุงูู ฺฉู ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุชุบุฑ ูโฺฉูุฏุ ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฑุง ฺุงูพ ูโฺฉูู ฺฉู ุงุฒ ุทุฑู ูุฑุงุฎูุงู ุชุงุจุน
<code>Rc::strong_count</code> ุฏุฑุงูุช ูโุดูุฏ. ุงู ุชุงุจุน ุจู ุฌุง <code>count</code>ุ <code>strong_count</code> ูุงูโฺฏุฐุงุฑ ุดุฏู ุงุณุช ุฒุฑุง ููุน <code>Rc&lt;T&gt;</code>
ููฺูู ุฏุงุฑุง <code>weak_count</code> ุงุณุชุ ุฏุฑ ุจุฎุด <a href="ch15-06-reference-cycles.html#preventing-reference-cycles-turning-an-rct-into-a-weakt">โุฌููฺฏุฑ ุงุฒ ฺุฑุฎูโูุง ูุฑุฌุน: ุชุจุฏู ฺฉ <code>Rc&lt;T&gt;</code> ุจู ฺฉ
<code>Weak&lt;T&gt;</code>โ</a><!-- ignore --> ุจุง ฺฉุงุฑุจุฑุฏ <code>weak_count</code> ุขุดูุง ุฎูุงูู ุดุฏ.</p>
<p>ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ุชููุฏ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling cons-list v0.1.0 (file:///projects/cons-list)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.45s
     Running `target/debug/cons-list`
count after creating a = 1
count after creating b = 2
count after creating c = 3
count after c goes out of scope = 2
</code></pre>
<p>ูโุจูู ฺฉู <code>Rc&lt;List&gt;</code> ุฏุฑ <code>a</code> ุชุนุฏุงุฏ ุงุฑุฌุงุน ุงููู ุจุฑุงุจุฑ ุจุง 1 ุฏุงุฑุฏุ ุณูพุณ ูุฑ ุจุงุฑ ฺฉู <code>clone</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ
ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช 1 ูุงุญุฏ ุงูุฒุงุด ูโุงุจุฏ. ููฺฏุงู ฺฉู <code>c</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏุ ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช 1 ูุงุญุฏ ฺฉุงูุด ูโุงุจุฏ.
ูุงุฒู ูุณุช ุชุงุจุน ุจุฑุง ฺฉุงูุด ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ูุฑุงุฎูุงู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุจุงุฏ <code>Rc::clone</code> ุฑุง ุจุฑุง ุงูุฒุงุด ุชุนุฏุงุฏ
ุงุฑุฌุงุนุงุช ูุฑุงุฎูุงู ฺฉูู: ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Drop</code> ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุฑุง ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ฺฉุงูุด ูโุฏูุฏ ููุช ฺฉู ฺฉ ููุฏุงุฑ
<code>Rc&lt;T&gt;</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ.</p>
<p>ุขูฺู ุฏุฑ ุงู ูุซุงู ููโุชูุงูู ุจุจูู ุงู ุงุณุช ฺฉู ููุช <code>b</code> ู ุณูพุณ <code>a</code> ุฏุฑ ุงูุชูุง <code>main</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดููุฏุ ุชุนุฏุงุฏ
ุงุฑุฌุงุนุงุช ุจู 0 ูโุฑุณุฏ ู <code>Rc&lt;List&gt;</code> ุจู ุทูุฑ ฺฉุงูู ูพุงฺฉโุณุงุฒ ูโุดูุฏ. ุงุณุชูุงุฏู ุงุฒ <code>Rc&lt;T&gt;</code> ุจู ฺฉ ููุฏุงุฑ ุงุฌุงุฒู ูโุฏูุฏ ฺฉู
ฺูุฏู ูุงูฺฉ ุฏุงุดุชู ุจุงุดุฏุ ู ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ุชุถูู ูโฺฉูุฏ ฺฉู ููุฏุงุฑ ุชุง ุฒูุงู ฺฉู ูุฑ ฺฉ ุงุฒ ูุงูฺฉุงู ูููุฒ ูุฌูุฏ ุฏุงุฑูุฏุ ูุนุชุจุฑ
ุจุงู ูโูุงูุฏ.</p>
<p>ุงุฒ ุทุฑู ุงุฑุฌุงุนุงุช ุบุฑูุงุจู ุชุบุฑุ <code>Rc&lt;T&gt;</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุฏุงุฏูโูุง ุฑุง ุจู ุจุฎุดโูุง ูุฎุชูู ุจุฑูุงูู ุฎูุฏ ุจุฑุง
ุฎูุงูุฏู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ. ุงฺฏุฑ <code>Rc&lt;T&gt;</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏุงุฏ ฺฉู ฺูุฏู ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ูุฒ ุฏุงุดุชู ุจุงุดุฏุ ููฺฉู ุจูุฏ
ฺฉ ุงุฒ ููุงูู ูุฑุถโฺฏุฑ ฺฉู ุฏุฑ ูุตู 4 ุจุญุซ ุดุฏ ุฑุง ููุถ ฺฉูุฏ: ฺูุฏู ูุฑุถ ูุงุจู ุชุบุฑ ุจู ฺฉ ูฺฉุงู ูโุชูุงูุฏ ุจุงุนุซ ุงุฌุงุฏ
ุชูุงูุถุงุช ู ูุณุงุจูู ุฏุงุฏูโูุง ุดูุฏ. ุงูุง ุชูุงูุง ุชุบุฑ ุฏุงุฏูโูุง ุจุณุงุฑ ููุฏ ุงุณุช! ุฏุฑ ุจุฎุด ุจุนุฏุ ุจู ุงูฺฏู ุชุบุฑโูพุฐุฑ ุฏุงุฎู
(interior mutability) ู ููุน <code>RefCell&lt;T&gt;</code> ฺฉู ูโุชูุงูุฏ ููุฑุงู ุจุง <code>Rc&lt;T&gt;</code> ุจุฑุง ฺฉุงุฑ ุจุง ุงู ูุญุฏูุฏุช ุนุฏู ุชุบุฑโูพุฐุฑ
ุงุณุชูุงุฏู ฺฉูุฏุ ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="refcellt-ู-ุงูฺฏู-ุชุบุฑูพุฐุฑ-ุฏุงุฎู"><a class="header" href="#refcellt-ู-ุงูฺฏู-ุชุบุฑูพุฐุฑ-ุฏุงุฎู"><code>RefCell&lt;T&gt;</code> ู ุงูฺฏู ุชุบุฑูพุฐุฑ ุฏุงุฎู</a></h2>
<p><em>ุชุบุฑูพุฐุฑ ุฏุงุฎู</em> ฺฉ ุงูฺฏู ุทุฑุงุญ ุฏุฑ ุฑุงุณุช ุงุณุช ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุฏุงุฏูโูุง ุฑุง ุญุช ุฒูุงู ฺฉู
ุงุฑุฌุงุนโูุง ุบุฑูุงุจูโุชุบุฑ ุจู ุขู ุฏุงุฏูโูุง ูุฌูุฏ ุฏุงุฑุฏุ ุชุบุฑ ุฏูุฏุ ูุนูููุงู ุงู ุนูู ุชูุณุท ููุงูู ูุงูโุฏู
(โborrowing rules) ููููุน ุงุณุช. ุจุฑุง ุชุบุฑ ุฏุงุฏูโูุงุ ุงู ุงูฺฏู ุงุฒ ฺฉุฏ <code>unsafe</code> ุฏุฑูู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู
ุจุฑุง ุชุบุฑ ููุงูู ูุนููู ุฑุงุณุช ฺฉู ฺฉูุชุฑู ุชุบุฑูพุฐุฑ ู ูุงูโุฏู ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑูุฏุ ุงุณุชูุงุฏู ูโฺฉูุฏ. ฺฉุฏ
<code>unsafe</code> ุจู ฺฉุงููพุงูุฑ ูุดุงู ูโุฏูุฏ ฺฉู ูุง ููุงูู ุฑุง ุจู ุตูุฑุช ุฏุณุช ุจุฑุฑุณ ูโฺฉูู ู ุฏฺฏุฑ ุจู ฺฉุงููพุงูุฑ
ุงุนุชูุงุฏ ูุฏุงุฑู ฺฉู ุงู ฺฉุงุฑ ุฑุง ุจุฑุง ูุง ุงูุฌุงู ุฏูุฏุ ูุง ุฏุฑ ูุตู 20 ุจุดุชุฑ ุฏุฑุจุงุฑู ฺฉุฏ <code>unsafe</code> ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ูุง ูโุชูุงูู ุงุฒ ุงููุงุน ฺฉู ุงุฒ ุงูฺฏู ุชุบุฑูพุฐุฑ ุฏุงุฎู ุงุณุชูุงุฏู ูโฺฉููุฏ ุชููุง ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ฺฉูู ฺฉู
ุจุชูุงูู ุงุทููุงู ุญุงุตู ฺฉูู ฺฉู ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฑุนุงุช ุฎูุงููุฏ ุดุฏุ ุญุช ุงฺฏุฑ ฺฉุงููพุงูุฑ ูุชูุงูุฏ
ุงู ุฑุง ุชุถูู ฺฉูุฏ. ฺฉุฏ <code>unsafe</code> ูุฑุชุจุท ุณูพุณ ุฏุฑ ฺฉ API ุงูู ูพฺุฏู ุดุฏู ู ููุน ุจุฑูู ููฺูุงู
ุบุฑูุงุจูโุชุบุฑ ุจุงู ูโูุงูุฏ.</p>
<p>ุจุงุฏ ุงู ููููู ุฑุง ุจุง ุจุฑุฑุณ ููุน <code>RefCell&lt;T&gt;</code> ฺฉู ุงุฒ ุงูฺฏู ุชุบุฑูพุฐุฑ ุฏุงุฎู ูพุฑู ูโฺฉูุฏุ
ุจุดุชุฑ ุจุฑุฑุณ ฺฉูู.</p>
<h3 id="ุงุฌุฑุง-ููุงูู-ูุงูุฏู-ุฏุฑ-ุฒูุงู-ุงุฌุฑุง-ุจุง-refcellt"><a class="header" href="#ุงุฌุฑุง-ููุงูู-ูุงูุฏู-ุฏุฑ-ุฒูุงู-ุงุฌุฑุง-ุจุง-refcellt">ุงุฌุฑุง ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุง <code>RefCell&lt;T&gt;</code></a></h3>
<p>ุจุฑุฎูุงู <code>Rc&lt;T&gt;</code>ุ ููุน <code>RefCell&lt;T&gt;</code> ูุงูฺฉุช ูุงุญุฏ (single ownership) ุฏุงุฏูโูุง ฺฉู ูฺฏู ูโุฏุงุฑุฏ
ุฑุง ูุดุงู ูโุฏูุฏ. ูพุณุ ฺู ฺุฒ <code>RefCell&lt;T&gt;</code> ุฑุง ุงุฒ ฺฉ ููุน ูุซู <code>Box&lt;T&gt;</code> ูุชูุงุฒ ูโฺฉูุฏุ ููุงูู
ูุงูโุฏูโุง ฺฉู ุฏุฑ ูุตู 4 ุงุฏ ฺฏุฑูุชุฏ ุฑุง ุจู ุงุฏ ุขูุฑุฏ:</p>
<ul>
<li>ุฏุฑ ูุฑ ุฒูุงู ูุนูุ ุดูุง ูโุชูุงูุฏ <em>ุง</em> (ุงูุง ูู ูุฑ ุฏู) ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุง ุชุนุฏุงุฏ ุฒุงุฏ ุงุฑุฌุงุน
ุบุฑูุงุจูโุชุบุฑ ุฏุงุดุชู ุจุงุดุฏ.</li>
<li>ุงุฑุฌุงุนโูุง ุจุงุฏ ููุดู ูุนุชุจุฑ ุจุงุดูุฏ.</li>
</ul>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุฑุฌุงุนโูุง ู <code>Box&lt;T&gt;</code>ุ ุซุงุจุชโูุง ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงุนูุงู ูโุดููุฏ.
ุงูุง ุจุง <code>RefCell&lt;T&gt;</code>ุ ุงู ุซุงุจุชโูุง ุฏุฑ <em>ุฒูุงู ุงุฌุฑุง</em> ุงุนูุงู ูโุดููุฏ. ุจุง ุงุฑุฌุงุนโูุงุ ุงฺฏุฑ ุงู ููุงูู
ุฑุง ุจุดฺฉูุฏุ ฺฉ ุฎุทุง ฺฉุงููพุงู ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ. ุงูุง ุจุง <code>RefCell&lt;T&gt;</code>ุ ุงฺฏุฑ ุงู ููุงูู ุฑุง ุจุดฺฉูุฏุ
ุจุฑูุงูู ุดูุง ุฏฺุงุฑ ูุญุดุช (panic) ูโุดูุฏ ู ูุชููู ูโุดูุฏ.</p>
<p>ูุฒุช ุจุฑุฑุณ ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงู ุงุณุช ฺฉู ุฎุทุงูุง ุฒูุฏุชุฑ ุฏุฑ ูุฑุงูุฏ ุชูุณุนู ุดูุงุณุง
ูโุดููุฏุ ู ูฺ ุชุฃุซุฑ ุจุฑ ุนููฺฉุฑุฏ ุฒูุงู ุงุฌุฑุง ูุฌูุฏ ูุฏุงุฑุฏ ุฒุฑุง ุชูุงู ุชุญููโูุง ูพุดุงูพุด ุงูุฌุงู ุดุฏูโุงูุฏ.
ุจู ููู ุฏูุงูุ ุจุฑุฑุณ ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจูุชุฑู ุงูุชุฎุงุจ ุฏุฑ ุงฺฉุซุฑ ููุงุฑุฏ ุงุณุชุ ฺฉู ุจู
ููู ุฏูู ุงู ุฑูุด ูพุดโูุฑุถ ุฑุงุณุช ุงุณุช.</p>
<p>ูุฒุช ุจุฑุฑุณ ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุงู ุงุณุช ฺฉู ุณูุงุฑููุง ฺฉู ุงูู ุงุฒ ูุธุฑ ุญุงูุธู ูุณุชูุฏ
ุงุฌุงุฒู ูโุงุจูุฏุ ุฏุฑ ุญุงู ฺฉู ููฺฉู ุงุณุช ุชูุณุท ุจุฑุฑุณโูุง ุฒูุงู ฺฉุงููพุงู ูุฌุงุฒ ูุจุงุดูุฏ. ุชุญูู
ุงุณุชุง (static analysis)ุ ูุงููุฏ ฺฉุงููพุงูุฑ ุฑุงุณุชุ ุจูโุทูุฑ ุฐุงุช ูุญุงูุธูโฺฉุงุฑุงูู ุงุณุช. ุจุฑุฎ
ุฎุตูุตุงุช ฺฉุฏ ุบุฑููฺฉู ุงุณุช ฺฉู ุจุง ุชุญูู ฺฉุฏ ุดูุงุณุง ุดููุฏ: ูุนุฑููโุชุฑู ูุซุงูุ ูุดฺฉู ุชููู
(Halting Problem) ุงุณุช ฺฉู ูุฑุงุชุฑ ุงุฒ ูุญุฏูุฏู ุงู ฺฉุชุงุจ ุงุณุช ุงูุง ููุถูุน ุฌุงูุจ ุจุฑุง ุชุญูู
ูโุจุงุดุฏ.</p>
<p>ุฒุฑุง ุจุฑุฎ ุชุญููโูุง ุบุฑููฺฉู ูุณุชูุฏุ ุงฺฏุฑ ฺฉุงููพุงูุฑ ุฑุงุณุช ูุชูุงูุฏ ูุทูุฆู ุดูุฏ ฺฉู ฺฉุฏ ุจุง ููุงูู
ูุงูฺฉุช ุณุงุฒฺฏุงุฑ ุงุณุชุ ููฺฉู ุงุณุช ฺฉ ุจุฑูุงูู ุฏุฑุณุช ุฑุง ุฑุฏ ฺฉูุฏุ ุจู ุงู ุชุฑุชุจุ ูุญุงูุธูโฺฉุงุฑุงูู ุนูู
ูโฺฉูุฏ. ุงฺฏุฑ ุฑุงุณุช ฺฉ ุจุฑูุงูู ูุงุฏุฑุณุช ุฑุง ุจูพุฐุฑุฏุ ฺฉุงุฑุจุฑุงู ููโุชูุงููุฏ ุจู ุชุถููโูุง ฺฉู ุฑุงุณุช
ูโุฏูุฏุ ุงุนุชูุงุฏ ฺฉููุฏ. ุงูุง ุงฺฏุฑ ุฑุงุณุช ฺฉ ุจุฑูุงูู ุฏุฑุณุช ุฑุง ุฑุฏ ฺฉูุฏุ ุจุฑูุงููโููุณ ูุงุฑุงุญุช ุฎูุงูุฏ ุดุฏุ
ุงูุง ูฺ ฺุฒ ูุงุฌุนูโุจุงุฑ ุฑุฎ ูุฎูุงูุฏ ุฏุงุฏ. ููุน <code>RefCell&lt;T&gt;</code> ุฒูุงู ููุฏ ุงุณุช ฺฉู ูุทูุฆู ุจุงุดุฏ
ฺฉุฏ ุดูุง ููุงูู ูุงูโุฏู ุฑุง ุฏูุจุงู ูโฺฉูุฏ ุงูุง ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุงู ุฑุง ุจูููุฏ ู ุชุถูู ฺฉูุฏ.</p>
<p>ูุดุงุจู <code>Rc&lt;T&gt;</code>ุ <code>RefCell&lt;T&gt;</code> ุชููุง ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุณูุงุฑููุง ุชฺฉโุฑุณูุงู (single-threaded)
ุงุณุช ู ุงฺฏุฑ ุจุฎูุงูุฏ ุขู ุฑุง ุฏุฑ ฺฉ ุจุงูุช ฺูุฏุฑุณูุงู (multithreaded) ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉ ุฎุทุง ุฒูุงู
ฺฉุงููพุงู ุจู ุดูุง ุฎูุงูุฏ ุฏุงุฏ. ูุง ุฏุฑ ูุตู 16 ุฏุฑุจุงุฑู ูุญูู ุฏุฑุงูุช ุนููฺฉุฑุฏ <code>RefCell&lt;T&gt;</code> ุฏุฑ ฺฉ ุจุฑูุงูู
ฺูุฏุฑุณูุงู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ูุฑูุฑ ุจุฑ ุฏูุงู ุจุฑุง ุงูุชุฎุงุจ <code>Box&lt;T&gt;</code>ุ <code>Rc&lt;T&gt;</code> ุง <code>RefCell&lt;T&gt;</code> ุขูุฏู ุงุณุช:</p>
<ul>
<li><code>Rc&lt;T&gt;</code> ุงูฺฉุงู ฺูุฏู ูุงูฺฉ ุจุฑุง ฺฉ ุฏุงุฏู ุฑุง ูุฑุงูู ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู <code>Box&lt;T&gt;</code> ู
<code>RefCell&lt;T&gt;</code> ุชููุง ฺฉ ูุงูฺฉ ุฏุงุฑูุฏ.</li>
<li><code>Box&lt;T&gt;</code> ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ูุงูโุฏูโูุง ุบุฑูุงุจูโุชุบุฑ ุง ูุงุจูโุชุบุฑ ุฏุฑ ุฒูุงู ฺฉุงููพุงู
ุจุฑุฑุณ ุดููุฏุ <code>Rc&lt;T&gt;</code> ุชููุง ูุงูโุฏูโูุง ุบุฑูุงุจูโุชุบุฑ ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุฑุฑุณ
ูโฺฉูุฏุ <code>RefCell&lt;T&gt;</code> ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ูุงูโุฏูโูุง ุบุฑูุงุจูโุชุบุฑ ุง ูุงุจูโุชุบุฑ ุฏุฑ
ุฒูุงู ุงุฌุฑุง ุจุฑุฑุณ ุดููุฏ.</li>
<li>ุงุฒ ุขูุฌุง ฺฉู <code>RefCell&lt;T&gt;</code> ุงุฌุงุฒู ูโุฏูุฏ ูุงูโุฏูโูุง ูุงุจูโุชุบุฑ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุฑุณ ุดููุฏุ
ุดูุง ูโุชูุงูุฏ ููุฏุงุฑ ุฏุฑูู <code>RefCell&lt;T&gt;</code> ุฑุง ุญุช ุฒูุงู ฺฉู ุฎูุฏ <code>RefCell&lt;T&gt;</code> ุบุฑูุงุจูโุชุบุฑ
ุงุณุชุ ุชุบุฑ ุฏูุฏ.</li>
</ul>
<p>ุชุบุฑ ููุฏุงุฑ ุฏุฑูู ฺฉ ููุฏุงุฑ ุบุฑูุงุจูโุชุบุฑ ููุงู ุงูฺฏู <em>ุชุบุฑูพุฐุฑ ุฏุงุฎู</em> ุงุณุช. ุจุงุฏ ุจู
ฺฉ ูููุนุช ฺฉู ุฏุฑ ุขู ุชุบุฑูพุฐุฑ ุฏุงุฎู ููุฏ ุงุณุช ูฺฏุงู ุจูุฏุงุฒู ู ุจุฑุฑุณ ฺฉูู ฺฺฏููู ุงู
ุงูุฑ ููฺฉู ุงุณุช.</p>
<h3 id="ุชุบุฑูพุฐุฑ-ุฏุงุฎู-ูุงูุฏู-ูุงุจูุชุบุฑ-ุจู-ฺฉ-ููุฏุงุฑ-ุบุฑูุงุจูุชุบุฑ"><a class="header" href="#ุชุบุฑูพุฐุฑ-ุฏุงุฎู-ูุงูุฏู-ูุงุจูุชุบุฑ-ุจู-ฺฉ-ููุฏุงุฑ-ุบุฑูุงุจูุชุบุฑ">ุชุบุฑูพุฐุฑ ุฏุงุฎู: ูุงูโุฏู ูุงุจูโุชุบุฑ ุจู ฺฉ ููุฏุงุฑ ุบุฑูุงุจูโุชุบุฑ</a></h3>
<p>ฺฉ ุงุฒ ูพุงูุฏูุง ููุงูู ูุงูโุฏู ุงู ุงุณุช ฺฉู ููุช ุดูุง ฺฉ ููุฏุงุฑ ุบุฑูุงุจูโุชุบุฑ ุฏุงุฑุฏุ
ููโุชูุงูุฏ ุขู ุฑุง ุจู ุตูุฑุช ูุงุจูโุชุบุฑ ูุงู ุฏูุฏ. ุจุฑุง ูุซุงูุ ุงู ฺฉุฏ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ:</p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = 5;
    let y = &amp;mut x;
}</code></pre>
<p>ุงฺฏุฑ ุณุน ฺฉูุฏ ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ฺฉูุฏุ ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling borrowing v0.1.0 (file:///projects/borrowing)
error[E0596]: cannot borrow `x` as mutable, as it is not declared as mutable
 --&gt; src/main.rs:3:13
  |
3 |     let y = &amp;mut x;
  |             ^^^^^^ cannot borrow as mutable
  |
help: consider changing this to be mutable
  |
2 |     let mut x = 5;
  |         +++

For more information about this error, try `rustc --explain E0596`.
error: could not compile `borrowing` (bin "borrowing") due to 1 previous error
</code></pre>
<p>ุจุง ุงู ุญุงูุ ูููุนุชโูุง ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุฏุฑ ุขูโูุง ููุฏ ุงุณุช ฺฉ ููุฏุงุฑ ุจุชูุงูุฏ ุฎูุฏ ุฑุง ุฏุฑ
ูุชุฏูุงุด ุชุบุฑ ุฏูุฏ ุงูุง ุจุฑุง ฺฉุฏ ุฏฺฏุฑ ุบุฑูุงุจูโุชุบุฑ ุจู ูุธุฑ ุจุฑุณุฏ. ฺฉุฏ ฺฉู ุฎุงุฑุฌ ุงุฒ ูุชุฏูุง
ููุฏุงุฑ ูุฑุงุฑ ุฏุงุฑุฏ ููโุชูุงูุฏ ููุฏุงุฑ ุฑุง ุชุบุฑ ุฏูุฏ. ุงุณุชูุงุฏู ุงุฒ <code>RefCell&lt;T&gt;</code> ฺฉ ุงุฒ
ุฑุงูโูุง ุงุณุช ฺฉู ูโุชูุงูุฏ ูุงุจูุช ุชุบุฑูพุฐุฑ ุฏุงุฎู ุฑุง ุจู ุฏุณุช ุขูุฑุฏุ ุงูุง <code>RefCell&lt;T&gt;</code>
ุจู ุทูุฑ ฺฉุงูู ููุงูู ูุงูโุฏู ุฑุง ุฏูุฑ ููโุฒูุฏ: ฺฉูุชุฑูโฺฉููุฏู ูุงูโุฏู ุฏุฑ ฺฉุงููพุงูุฑ ุงู
ุชุบุฑูพุฐุฑ ุฏุงุฎู ุฑุง ูุฌุงุฒ ูโฺฉูุฏ ู ููุงูู ูุงูโุฏู ุฏุฑ ุนูุถ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุฑุณ ูโุดููุฏ.
ุงฺฏุฑ ุงู ููุงูู ุฑุง ููุถ ฺฉูุฏุ ุจู ุฌุง ุฎุทุง ฺฉุงููพุงูุ ฺฉ <code>panic!</code> ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุจุงุฏ ุจุง ฺฉ ูุซุงู ุนูู ฺฉุงุฑ ฺฉูู ฺฉู ุฏุฑ ุขู ุงุฒ <code>RefCell&lt;T&gt;</code> ุจุฑุง ุชุบุฑ ููุฏุงุฑ ุบุฑูุงุจูโุชุบุฑ
ุงุณุชูุงุฏู ฺฉูู ู ุจุจูู ฺุฑุง ุงู ฺฉุงุฑ ููุฏ ุงุณุช.</p>
<h4 id="ฺฉ-ฺฉุงุฑุจุฑุฏ-ุจุฑุง-ุชุบุฑูพุฐุฑ-ุฏุงุฎู-mock-objects"><a class="header" href="#ฺฉ-ฺฉุงุฑุจุฑุฏ-ุจุฑุง-ุชุบุฑูพุฐุฑ-ุฏุงุฎู-mock-objects">ฺฉ ฺฉุงุฑุจุฑุฏ ุจุฑุง ุชุบุฑูพุฐุฑ ุฏุงุฎู: Mock Objects</a></h4>
<p>ฺฏุงู ุงููุงุช ุฏุฑ ุทูู ุชุณุชุ ฺฉ ุจุฑูุงููโููุณ ุงุฒ ฺฉ ููุน ุจู ุฌุง ููุน ุฏฺฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง
ุฑูุชุงุฑ ุฎุงุต ุฑุง ูุดุงูุฏู ฺฉูุฏ ู ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุจู ุฏุฑุณุช ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ุงู ููุน
ุฌุงฺฏุฒู <em>ุชุณุช ุฏุงุจู</em> ูุงูุฏู ูโุดูุฏ. ุขู ุฑุง ุจู ูุงููุฏ ฺฉ โุจุฏูโฺฉุงุฑโ ุฏุฑ ูููโุณุงุฒ ุชุตูุฑ
ฺฉูุฏุ ุฌุง ฺฉู ฺฉ ููุฑ ุฌุงฺฏุฒู ุจุงุฒฺฏุฑ ูโุดูุฏ ุชุง ฺฉ ุตุญูู ุฎุงุต ู ุฏุดูุงุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ.
ุชุณุช ุฏุงุจูโูุง ุจู ุฌุง ุงููุงุน ุฏฺฏุฑ ุฏุฑ ุฒูุงู ุชุณุช ุงุณุชูุงุฏู ูโุดููุฏ. <em>ุงุดุงุก Mock</em> ููุน ุฎุงุต ุงุฒ
ุชุณุช ุฏุงุจูโูุง ูุณุชูุฏ ฺฉู ุซุจุช ูโฺฉููุฏ ุฏุฑ ุทูู ฺฉ ุชุณุช ฺู ุงุชูุงู ูโุงูุชุฏ ุชุง ุดูุง ุจุชูุงูุฏ
ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุงูุฏุงูุงุช ุตุญุญ ุงูุฌุงู ุดุฏูโุงูุฏ.</p>
<p>ุฑุงุณุช ุงุดุงุก ุฑุง ุจู ููุงู ุดฺฉู ฺฉู ุฒุจุงูโูุง ุฏฺฏุฑ ุฏุงุฑูุฏุ ูุฏุงุฑุฏ ู ูุงุจูุชโูุง ุงุดุงุก Mock
ุฑุง ูุฒ ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏุ ูุงููุฏ ุจุฑุฎ ุฒุจุงูโูุง ุฏฺฏุฑุ ุงุฑุงุฆู ููโุฏูุฏ. ุจุง ุงู ุญุงูุ
ุดูุง ูโุชูุงูุฏ ฺฉ ุณุงุฎุชุงุฑ (struct) ุงุฌุงุฏ ฺฉูุฏ ฺฉู ููุงู ููุงุตุฏ ุงุดุงุก Mock ุฑุง ูุฑุงูู ฺฉูุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ุณูุงุฑู ฺฉู ูุตุฏ ุชุณุช ุขู ุฑุง ุฏุงุฑู ุขูุฑุฏู ุดุฏู ุงุณุช: ูุง ฺฉ ฺฉุชุงุจุฎุงูู ุงุฌุงุฏ
ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฉ ููุฏุงุฑ ุฑุง ูุณุจุช ุจู ฺฉ ููุฏุงุฑ ุญุฏุงฺฉุซุฑ ุฑุฏุงุจ ูโฺฉูุฏ ู ุจุฑ ุงุณุงุณ
ูุฒุฏฺฉ ููุฏุงุฑ ูุนู ุจู ููุฏุงุฑ ุญุฏุงฺฉุซุฑ ูพุงูโูุง ุงุฑุณุงู ูโฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุงู
ฺฉุชุงุจุฎุงูู ูโุชูุงูุฏ ุจุฑุง ูพฺฏุฑ ุณููู ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง API ฺฉู ฺฉ ฺฉุงุฑุจุฑ ูุฌุงุฒ ุงุณุช
ุงูุฌุงู ุฏูุฏุ ุงุณุชูุงุฏู ุดูุฏ.</p>
<p>ฺฉุชุงุจุฎุงูู ูุง ููุท ุนููฺฉุฑุฏ ุฑุฏุงุจ ูุฒุฏฺฉ ฺฉ ููุฏุงุฑ ุจู ุญุฏุงฺฉุซุฑ ู ุชุนู ูพุงูโูุง ุฏุฑ ุฒูุงูโูุง
ุฎุงุต ุฑุง ูุฑุงูู ุฎูุงูุฏ ฺฉุฑุฏ. ุงูุชุธุงุฑ ูโุฑูุฏ ุจุฑูุงููโูุง ฺฉู ุงุฒ ฺฉุชุงุจุฎุงูู ูุง ุงุณุชูุงุฏู ูโฺฉููุฏ
ูฺฉุงูุณู ุงุฑุณุงู ูพุงูโูุง ุฑุง ูุฑุงูู ฺฉููุฏ: ุจุฑูุงูู ูโุชูุงูุฏ ูพุงู ุฑุง ุฏุฑ ุจุฑูุงูู ูุฑุงุฑ ุฏูุฏุ ฺฉ
ุงูู ุงุฑุณุงู ฺฉูุฏุ ฺฉ ูพุงู ูุชู ุงุฑุณุงู ฺฉูุฏุ ุง ฺุฒ ุฏฺฏุฑ. ฺฉุชุงุจุฎุงูู ูุงุฒ ุจู ุฏุงูุณุชู ุงู
ุฌุฒุฆุงุช ูุฏุงุฑุฏ. ููู ฺุฒ ฺฉู ูุงุฒ ุฏุงุฑุฏ ฺุฒ ุงุณุช ฺฉู ฺฉ ูฺฺฏ (trait) ุจู ูุงู
<code>Messenger</code> ฺฉู ูุง ุงุฑุงุฆู ุฎูุงูู ฺฉุฑุฏ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ฺฉุฏ ฺฉุชุงุจุฎุงูู ุฏุฑ ููุฑุณุช
15-20 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub trait Messenger {
    fn send(&amp;self, msg: &amp;str);
}

pub struct LimitTracker&lt;'a, T: Messenger&gt; {
    messenger: &amp;'a T,
    value: usize,
    max: usize,
}

impl&lt;'a, T&gt; LimitTracker&lt;'a, T&gt;
where
    T: Messenger,
{
    pub fn new(messenger: &amp;'a T, max: usize) -&gt; LimitTracker&lt;'a, T&gt; {
        LimitTracker {
            messenger,
            value: 0,
            max,
        }
    }

    pub fn set_value(&amp;mut self, value: usize) {
        self.value = value;

        let percentage_of_max = self.value as f64 / self.max as f64;

        if percentage_of_max &gt;= 1.0 {
            self.messenger.send("Error: You are over your quota!");
        } else if percentage_of_max &gt;= 0.9 {
            self.messenger
                .send("Urgent warning: You've used up over 90% of your quota!");
        } else if percentage_of_max &gt;= 0.75 {
            self.messenger
                .send("Warning: You've used up over 75% of your quota!");
        }
    }
}</code></pre>
<figcaption>Listing 15-20: ฺฉ ฺฉุชุงุจุฎุงูู ุจุฑุง ูพฺฏุฑ ูุฒุฏฺฉ ฺฉ ููุฏุงุฑ ุจู ฺฉ ููุฏุงุฑ ุญุฏุงฺฉุซุฑ ู ูุดุฏุงุฑ ุฏุฑ ุฒูุงู ฺฉู ููุฏุงุฑ ุฏุฑ ุณุทูุญ ุฎุงุต ุงุณุช</figcaption>
</figure>
<p>ฺฉ ุงุฒ ุจุฎุดโูุง ููู ุงู ฺฉุฏ ุงู ุงุณุช ฺฉู ูฺฺฏ <code>Messenger</code> ฺฉ ูุชุฏ ุจู ูุงู <code>send</code>
ุฏุงุฑุฏ ฺฉู ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจูโุชุบุฑ ุจู <code>self</code> ู ูุชู ูพุงู ุฑุง ูโฺฏุฑุฏ. ุงู ูฺฺฏ ุฑุงุจุท
ุงุณุช ฺฉู ุดุก Mock ูุง ุจุงุฏ ุจุฑุง ุงุณุชูุงุฏู ุจู ููุงู ุดูู ฺฉู ฺฉ ุดุก ูุงูุน ุงุณุชูุงุฏู ูโุดูุฏุ
ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุจุฎุด ููู ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ูุง ูโุฎูุงูู ุฑูุชุงุฑ ูุชุฏ <code>set_value</code> ุฑุง
ุฑู <code>LimitTracker</code> ุชุณุช ฺฉูู. ูุง ูโุชูุงูู ฺุฒ ุฑุง ฺฉู ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุจู <code>value</code>
ูโุฏูู ุชุบุฑ ุฏููุ ุงูุง <code>set_value</code> ฺุฒ ุจุฑุง ูุง ุจุฑููโฺฏุฑุฏุงูุฏ ฺฉู ุจุชูุงูู ุฑู ุขู
ุงุฏุนุง ฺฉูู. ูุง ูโุฎูุงูู ุจุชูุงูู ุจฺฏูู ุงฺฏุฑ ฺฉ <code>LimitTracker</code> ุจุง ฺุฒ ฺฉู ูฺฺฏ
<code>Messenger</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ู ููุฏุงุฑ ุฎุงุต ุจุฑุง <code>max</code> ุงุฌุงุฏ ฺฉููุ ุฒูุงู ฺฉู
ููุงุฏุฑ ูุฎุชูู ุจุฑุง <code>value</code> ุงุฑุณุงู ูโฺฉููุ ูพุงูโุฑุณุงู ฺฏูุชู ุดุฏู ุงุณุช ฺฉู ูพุงูโูุง
ููุงุณุจ ุฑุง ุงุฑุณุงู ฺฉูุฏ.</p>
<p>ูุง ุจู ฺฉ ุดุก Mock ูุงุฒ ุฏุงุฑู ฺฉู ุจู ุฌุง ุงุฑุณุงู ฺฉ ุงูู ุง ูพุงู ูุชู ููุช ฺฉู
<code>send</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ููุท ูพุงูโูุง ุฑุง ฺฉู ุจู ุขู ฺฏูุชู ุดุฏู ุงุณุช ุงุฑุณุงู ฺฉูุฏุ
ูพฺฏุฑ ฺฉูุฏ. ูุง ูโุชูุงูู ฺฉ ููููู ุฌุฏุฏ ุงุฒ ุดุก Mock ุงุฌุงุฏ ฺฉููุ ฺฉ
<code>LimitTracker</code> ฺฉู ุงุฒ ุดุก Mock ุงุณุชูุงุฏู ูโฺฉูุฏ ุงุฌุงุฏ ฺฉููุ ูุชุฏ <code>set_value</code> ุฑุง
ุฑู <code>LimitTracker</code> ูุฑุงุฎูุงู ฺฉููุ ู ุณูพุณ ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ุดุก Mock ูพุงูโูุง ฺฉู
ุงูุชุธุงุฑ ุฏุงุฑู ุฑุง ุฏุงุฑุฏ ุง ูู. ููุฑุณุช 15-21 ุชูุงุด ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉ ุดุก Mock ุจุฑุง
ุงูุฌุงู ููู ฺฉุงุฑ ุฑุง ูุดุงู ูโุฏูุฏุ ุงูุง ฺฉูุชุฑูโฺฉููุฏู ูุงูโุฏู (borrow checker) ุงู ุงุฌุงุฒู
ุฑุง ููโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">pub trait Messenger {
</span><span class="boring">    fn send(&amp;self, msg: &amp;str);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct LimitTracker&lt;'a, T: Messenger&gt; {
</span><span class="boring">    messenger: &amp;'a T,
</span><span class="boring">    value: usize,
</span><span class="boring">    max: usize,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;'a, T&gt; LimitTracker&lt;'a, T&gt;
</span><span class="boring">where
</span><span class="boring">    T: Messenger,
</span><span class="boring">{
</span><span class="boring">    pub fn new(messenger: &amp;'a T, max: usize) -&gt; LimitTracker&lt;'a, T&gt; {
</span><span class="boring">        LimitTracker {
</span><span class="boring">            messenger,
</span><span class="boring">            value: 0,
</span><span class="boring">            max,
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn set_value(&amp;mut self, value: usize) {
</span><span class="boring">        self.value = value;
</span><span class="boring">
</span><span class="boring">        let percentage_of_max = self.value as f64 / self.max as f64;
</span><span class="boring">
</span><span class="boring">        if percentage_of_max &gt;= 1.0 {
</span><span class="boring">            self.messenger.send("Error: You are over your quota!");
</span><span class="boring">        } else if percentage_of_max &gt;= 0.9 {
</span><span class="boring">            self.messenger
</span><span class="boring">                .send("Urgent warning: You've used up over 90% of your quota!");
</span><span class="boring">        } else if percentage_of_max &gt;= 0.75 {
</span><span class="boring">            self.messenger
</span><span class="boring">                .send("Warning: You've used up over 75% of your quota!");
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;

    struct MockMessenger {
        sent_messages: Vec&lt;String&gt;,
    }

    impl MockMessenger {
        fn new() -&gt; MockMessenger {
            MockMessenger {
                sent_messages: vec![],
            }
        }
    }

    impl Messenger for MockMessenger {
        fn send(&amp;self, message: &amp;str) {
            self.sent_messages.push(String::from(message));
        }
    }

    #[test]
    fn it_sends_an_over_75_percent_warning_message() {
        let mock_messenger = MockMessenger::new();
        let mut limit_tracker = LimitTracker::new(&amp;mock_messenger, 100);

        limit_tracker.set_value(80);

        assert_eq!(mock_messenger.sent_messages.len(), 1);
    }
}</code></pre>
<figcaption>Listing 15-21: ุชูุงุด ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉ <code>MockMessenger</code> ฺฉู ุชูุณุท ฺฉูุชุฑูโฺฉููุฏู ูุงูโุฏู ุงุฌุงุฒู ุฏุงุฏู ููโุดูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุชุณุช ฺฉ ุณุงุฎุชุงุฑ <code>MockMessenger</code> ุชุนุฑู ูโฺฉูุฏ ฺฉู ฺฉ ููุฏ <code>sent_messages</code> ุจุง ฺฉ
<code>Vec</code> ุงุฒ ููุงุฏุฑ <code>String</code> ุฏุงุฑุฏ ุชุง ูพุงูโูุง ุฑุง ฺฉู ุจู ุขู ฺฏูุชู ุดุฏู ุงุณุช ุงุฑุณุงู ฺฉูุฏุ
ูพฺฏุฑ ฺฉูุฏ. ูุง ููฺูู ฺฉ ุชุงุจุน ูุฑุชุจุท <code>new</code> ุชุนุฑู ูโฺฉูู ุชุง ุงุฌุงุฏ ููุงุฏุฑ
<code>MockMessenger</code> ุฌุฏุฏ ฺฉู ุจุง ฺฉ ูุณุช ุฎุงู ุงุฒ ูพุงูโูุง ุดุฑูุน ูโุดูุฏุ ุฑุงุญุช ุจุงุดุฏ. ุณูพุณ
ูฺฺฏ <code>Messenger</code> ุฑุง ุจุฑุง <code>MockMessenger</code> ูพุงุฏูโุณุงุฒ ูโฺฉูู ุชุง ุจุชูุงูู ฺฉ
<code>MockMessenger</code> ุฑุง ุจู ฺฉ <code>LimitTracker</code> ุจุฏูู. ุฏุฑ ุชุนุฑู ูุชุฏ <code>send</code>ุ ูุง ูพุงู
ุงุฑุณุงูโุดุฏู ุจู ุนููุงู ฺฉ ูพุงุฑุงูุชุฑ ุฑุง ูโฺฏุฑู ู ุขู ุฑุง ุฏุฑ ูุณุช <code>sent_messages</code>
ุฏุฑูู <code>MockMessenger</code> ุฐุฎุฑู ูโฺฉูู.</p>
<p>ุฏุฑ ุชุณุชุ ูุง ุฏุฑ ุญุงู ุชุณุช ุงู ูุณุชู ฺฉู ููุช ุจู <code>LimitTracker</code> ฺฏูุชู ูโุดูุฏ ููุฏุงุฑ
<code>value</code> ุฑุง ุจู ฺุฒ ุชูุธู ฺฉูุฏ ฺฉู ุจุด ุงุฒ 75 ุฏุฑุตุฏ ููุฏุงุฑ <code>max</code> ุงุณุชุ ฺู ุงุชูุงู ูโุงูุชุฏ.
ุงุจุชุฏุง ฺฉ <code>MockMessenger</code> ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูู ฺฉู ุจุง ฺฉ ูุณุช ุฎุงู ุงุฒ ูพุงูโูุง ุดุฑูุน ูโุดูุฏ.
ุณูพุณ ฺฉ <code>LimitTracker</code> ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูู ู ฺฉ ุงุฑุฌุงุน ุจู <code>MockMessenger</code> ุฌุฏุฏ ู ฺฉ
ููุฏุงุฑ <code>max</code> ุจุฑุงุจุฑ 100 ุจู ุขู ูโุฏูู. ูุชุฏ <code>set_value</code> ุฑุง ุฑู <code>LimitTracker</code> ุจุง
ููุฏุงุฑ 80 ฺฉู ุจุด ุงุฒ 75 ุฏุฑุตุฏ 100 ุงุณุชุ ูุฑุงุฎูุงู ูโฺฉูู. ุณูพุณ ุงุฏุนุง ูโฺฉูู ฺฉู ูุณุช
ูพุงูโูุง ฺฉู <code>MockMessenger</code> ูพฺฏุฑ ูโฺฉูุฏ ุงฺฉููู ุจุงุฏ ฺฉ ูพุงู ุฏุฑ ุขู ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ฺฉ ูุดฺฉู ุจุง ุงู ุชุณุช ูุฌูุฏ ุฏุงุฑุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo test
   Compiling limit-tracker v0.1.0 (file:///projects/limit-tracker)
error[E0596]: cannot borrow `self.sent_messages` as mutable, as it is behind a `&amp;` reference
  --&gt; src/lib.rs:58:13
   |
58 |             self.sent_messages.push(String::from(message));
   |             ^^^^^^^^^^^^^^^^^^ `self` is a `&amp;` reference, so the data it refers to cannot be borrowed as mutable
   |
help: consider changing this to be a mutable reference in the `impl` method and the `trait` definition
   |
2  ~     fn send(&amp;mut self, msg: &amp;str);
3  | }
...
56 |     impl Messenger for MockMessenger {
57 ~         fn send(&amp;mut self, message: &amp;str) {
   |

For more information about this error, try `rustc --explain E0596`.
error: could not compile `limit-tracker` (lib test) due to 1 previous error
</code></pre>
<p>ูุง ููโุชูุงูู <code>MockMessenger</code> ุฑุง ุจุฑุง ูพฺฏุฑ ูพุงูโูุง ุชุบุฑ ุฏููุ ุฒุฑุง ูุชุฏ <code>send</code> ฺฉ
ุงุฑุฌุงุน ุบุฑูุงุจูโุชุบุฑ ุจู <code>self</code> ูโฺฏุฑุฏ. ููฺูู ููโุชูุงูู ูพุดููุงุฏ ูุชู ุฎุทุง ุฑุง ุจุฑุง ุงุณุชูุงุฏู
ุงุฒ <code>&amp;mut self</code> ุฏุฑ ูุฑ ุฏู ูุชุฏ <code>impl</code> ู ุชุนุฑู ูฺฺฏ (trait) ุจูพุฐุฑู. ูุง ููโุฎูุงูู ููุท ุจู
ุฎุงุทุฑ ุชุณุชุ ูฺฺฏ <code>Messenger</code> ุฑุง ุชุบุฑ ุฏูู. ุฏุฑ ุนูุถุ ุจุงุฏ ุฑุงู ูพุฏุง ฺฉูู ฺฉู ฺฉุฏ ุชุณุช
ูุง ุจุง ุทุฑุงุญ ููุฌูุฏ ุจู ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ.</p>
<p>ุงู ฺฉ ูููุนุช ุงุณุช ฺฉู ุฏุฑ ุขู ุชุบุฑูพุฐุฑ ุฏุงุฎู ูโุชูุงูุฏ ฺฉูฺฉ ฺฉูุฏ! ูุง ููุฏ
<code>sent_messages</code> ุฑุง ุฏุฑูู ฺฉ <code>RefCell&lt;T&gt;</code> ุฐุฎุฑู ูโฺฉููุ ู ุณูพุณ ูุชุฏ <code>send</code> ูุงุฏุฑ ุฎูุงูุฏ ุจูุฏ
<code>sent_messages</code> ุฑุง ุจุฑุง ุฐุฎุฑู ูพุงูโูุง ฺฉู ุฏุฏูโุงูุ ุชุบุฑ ุฏูุฏ. ููุฑุณุช 15-22 ูุดุงู ูโุฏูุฏ
ุงู ฺฉุงุฑ ฺฺฏููู ุงูุฌุงู ูโุดูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub trait Messenger {
</span><span class="boring">    fn send(&amp;self, msg: &amp;str);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct LimitTracker&lt;'a, T: Messenger&gt; {
</span><span class="boring">    messenger: &amp;'a T,
</span><span class="boring">    value: usize,
</span><span class="boring">    max: usize,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;'a, T&gt; LimitTracker&lt;'a, T&gt;
</span><span class="boring">where
</span><span class="boring">    T: Messenger,
</span><span class="boring">{
</span><span class="boring">    pub fn new(messenger: &amp;'a T, max: usize) -&gt; LimitTracker&lt;'a, T&gt; {
</span><span class="boring">        LimitTracker {
</span><span class="boring">            messenger,
</span><span class="boring">            value: 0,
</span><span class="boring">            max,
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn set_value(&amp;mut self, value: usize) {
</span><span class="boring">        self.value = value;
</span><span class="boring">
</span><span class="boring">        let percentage_of_max = self.value as f64 / self.max as f64;
</span><span class="boring">
</span><span class="boring">        if percentage_of_max &gt;= 1.0 {
</span><span class="boring">            self.messenger.send("Error: You are over your quota!");
</span><span class="boring">        } else if percentage_of_max &gt;= 0.9 {
</span><span class="boring">            self.messenger
</span><span class="boring">                .send("Urgent warning: You've used up over 90% of your quota!");
</span><span class="boring">        } else if percentage_of_max &gt;= 0.75 {
</span><span class="boring">            self.messenger
</span><span class="boring">                .send("Warning: You've used up over 75% of your quota!");
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>#[cfg(test)]
mod tests {
    use super::*;
    use std::cell::RefCell;

    struct MockMessenger {
        sent_messages: RefCell&lt;Vec&lt;String&gt;&gt;,
    }

    impl MockMessenger {
        fn new() -&gt; MockMessenger {
            MockMessenger {
                sent_messages: RefCell::new(vec![]),
            }
        }
    }

    impl Messenger for MockMessenger {
        fn send(&amp;self, message: &amp;str) {
            self.sent_messages.borrow_mut().push(String::from(message));
        }
    }

    #[test]
    fn it_sends_an_over_75_percent_warning_message() {
        // --snip--
<span class="boring">        let mock_messenger = MockMessenger::new();
</span><span class="boring">        let mut limit_tracker = LimitTracker::new(&amp;mock_messenger, 100);
</span><span class="boring">
</span><span class="boring">        limit_tracker.set_value(80);
</span>
        assert_eq!(mock_messenger.sent_messages.borrow().len(), 1);
    }
}</code></pre>
<figcaption>Listing 15-22: ุงุณุชูุงุฏู ุงุฒ <code>RefCell&lt;T&gt;</code> ุจุฑุง ุชุบุฑ ฺฉ ููุฏุงุฑ ุฏุงุฎู ุฏุฑ ุญุงู ฺฉู ููุฏุงุฑ ุจุฑูู ุบุฑูุงุจูโุชุบุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ</figcaption>
</figure>
<p>ููุฏ <code>sent_messages</code> ุงฺฉููู ุงุฒ ููุน <code>RefCell&lt;Vec&lt;String&gt;&gt;</code> ุจู ุฌุง <code>Vec&lt;String&gt;</code> ุงุณุช.
ุฏุฑ ุชุงุจุน <code>new</code>ุ ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>RefCell&lt;Vec&lt;String&gt;&gt;</code> ุฑุง ุฏุฑ ุงุทุฑุงู ูฺฉุชูุฑ ุฎุงู ุงุฌุงุฏ
ูโฺฉูู.</p>
<p>ุจุฑุง ูพุงุฏูโุณุงุฒ ูุชุฏ <code>send</code>ุ ูพุงุฑุงูุชุฑ ุงูู ููฺูุงู ฺฉ ูุงูโุฏู ุบุฑูุงุจูโุชุบุฑ ุจู <code>self</code>
ุงุณุชุ ฺฉู ุจุง ุชุนุฑู ูฺฺฏ ูุทุงุจูุช ุฏุงุฑุฏ. ูุง ูุชุฏ <code>borrow_mut</code> ุฑุง ุฑู <code>RefCell&lt;Vec&lt;String&gt;&gt;</code>
ุฏุฑ <code>self.sent_messages</code> ูุฑุงุฎูุงู ูโฺฉูู ุชุง ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุจู ููุฏุงุฑ ุฏุฑูู
<code>RefCell&lt;Vec&lt;String&gt;&gt;</code>ุ ฺฉู ููุงู ูฺฉุชูุฑ ุงุณุชุ ุฏุฑุงูุช ฺฉูู. ุณูพุณ ูโุชูุงูู ุฑู ุงุฑุฌุงุน
ูุชุบุฑ ุจู ูฺฉุชูุฑุ ูุชุฏ <code>push</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู ุชุง ูพุงูโูุง ุงุฑุณุงูโุดุฏู ุฏุฑ ุทูู ุชุณุช ุฑุง ูพฺฏุฑ
ฺฉูู.</p>
<p>ุขุฎุฑู ุชุบุฑ ฺฉู ุจุงุฏ ุงูุฌุงู ุฏูู ุฏุฑ ุงุฏุนุง (assertion) ุงุณุช: ุจุฑุง ุฏุฏู ุชุนุฏุงุฏ ุขุชูโูุง
ุฏุฑูู ูฺฉุชูุฑ ุฏุงุฎูุ ูุง ูุชุฏ <code>borrow</code> ุฑุง ุฑู <code>RefCell&lt;Vec&lt;String&gt;&gt;</code> ูุฑุงุฎูุงู ูโฺฉูู ุชุง
ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจูโุชุบุฑ ุจู ูฺฉุชูุฑ ุฏุฑุงูุช ฺฉูู.</p>
<p>ุญุงูุง ฺฉู ุฏุฏุฏ ฺฺฏููู ุงุฒ <code>RefCell&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ุจู ูุญูู ฺฉุงุฑ ุขู ุจูพุฑุฏุงุฒู!</p>
<h4 id="ูพฺฏุฑ-ูุงููุง-ุฏุฑ-ุฒูุงู-ุงุฌุฑุง-ุจุง-refcellt"><a class="header" href="#ูพฺฏุฑ-ูุงููุง-ุฏุฑ-ุฒูุงู-ุงุฌุฑุง-ุจุง-refcellt">ูพฺฏุฑ ูุงูโูุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุง <code>RefCell&lt;T&gt;</code></a></h4>
<p>ููฺฏุงู ุงุฌุงุฏ ุงุฑุฌุงุนโูุง ุบุฑูุงุจูโุชุบุฑ ู ูุงุจูโุชุบุฑุ ูุง ุงุฒ ุณูุชฺฉุณ <code>&amp;</code> ู <code>&amp;mut</code> ุงุณุชูุงุฏู
ูโฺฉูู. ุจุง <code>RefCell&lt;T&gt;</code>ุ ุงุฒ ูุชุฏูุง <code>borrow</code> ู <code>borrow_mut</code> ุงุณุชูุงุฏู ูโฺฉููุ ฺฉู
ุจุฎุด ุงุฒ API ุงูู ูุชุนูู ุจู <code>RefCell&lt;T&gt;</code> ูุณุชูุฏ. ูุชุฏ <code>borrow</code> ููุน ุงุณูุงุฑุช ูพููุชุฑ
<code>Ref&lt;T&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏุ ู <code>borrow_mut</code> ููุน ุงุณูุงุฑุช ูพููุชุฑ <code>RefMut&lt;T&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.
ูุฑ ุฏู ููุนุ <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุจุง ุขูโูุง ูุซู ุงุฑุฌุงุนโูุง
ูุนููู ุฑูุชุงุฑ ฺฉูู.</p>
<p><code>RefCell&lt;T&gt;</code> ุชุนุฏุงุฏ ุงุณูุงุฑุช ูพููุชุฑูุง <code>Ref&lt;T&gt;</code> ู <code>RefMut&lt;T&gt;</code> ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงู ูุณุชูุฏ
ุฑุง ูพฺฏุฑ ูโฺฉูุฏ. ูุฑ ุจุงุฑ ฺฉู <code>borrow</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ <code>RefCell&lt;T&gt;</code> ุดูุงุฑุด ุชุนุฏุงุฏ
ูุงูโุฏูโูุง ุบุฑูุงุจูโุชุบุฑ ูุนุงู ุฑุง ุงูุฒุงุด ูโุฏูุฏ. ููุช ฺฉ ููุฏุงุฑ <code>Ref&lt;T&gt;</code> ุงุฒ ุฏุงููู
ุฎุงุฑุฌ ูโุดูุฏุ ุดูุงุฑุด ูุงูโุฏูโูุง ุบุฑูุงุจูโุชุบุฑ ฺฉ ุนุฏุฏ ฺฉุงูุด ูโุงุจุฏ. ุฏููุงู ูุซู ููุงูู
ูุงูโุฏู ุฏุฑ ุฒูุงู ฺฉุงููพุงูุ <code>RefCell&lt;T&gt;</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุฏุฑ ูุฑ ูุญุธู ุชุนุฏุงุฏ ุฒุงุฏ
ูุงูโุฏู ุบุฑูุงุจูโุชุบุฑ ุง ฺฉ ูุงูโุฏู ูุงุจูโุชุบุฑ ุฏุงุดุชู ุจุงุดู.</p>
<p>ุงฺฏุฑ ุณุน ฺฉูู ุงู ููุงูู ุฑุง ููุถ ฺฉููุ ุจู ุฌุง ุฏุฑุงูุช ฺฉ ุฎุทุง ฺฉุงููพุงู ูุซู ุงุฑุฌุงุนโูุงุ
ูพุงุฏูโุณุงุฒ <code>RefCell&lt;T&gt;</code> ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฏฺุงุฑ ูุญุดุช (panic) ุฎูุงูุฏ ุดุฏ. ููุฑุณุช 15-23
ุงุตูุงุญ ุงุฒ ูพุงุฏูโุณุงุฒ ูุชุฏ <code>send</code> ุฏุฑ ููุฑุณุช 15-22 ุฑุง ูุดุงู ูโุฏูุฏ. ูุง ุจู ุนูุฏ ุณุน ุฏุงุฑู
ุฏู ูุงูโุฏู ูุงุจูโุชุบุฑ ุฏุฑ ฺฉ ุฏุงููู ุงุฌุงุฏ ฺฉูู ุชุง ูุดุงู ุฏูู <code>RefCell&lt;T&gt;</code> ุงุฒ ุงูุฌุงู
ุงู ฺฉุงุฑ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore panics"><span class="boring">pub trait Messenger {
</span><span class="boring">    fn send(&amp;self, msg: &amp;str);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct LimitTracker&lt;'a, T: Messenger&gt; {
</span><span class="boring">    messenger: &amp;'a T,
</span><span class="boring">    value: usize,
</span><span class="boring">    max: usize,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;'a, T&gt; LimitTracker&lt;'a, T&gt;
</span><span class="boring">where
</span><span class="boring">    T: Messenger,
</span><span class="boring">{
</span><span class="boring">    pub fn new(messenger: &amp;'a T, max: usize) -&gt; LimitTracker&lt;'a, T&gt; {
</span><span class="boring">        LimitTracker {
</span><span class="boring">            messenger,
</span><span class="boring">            value: 0,
</span><span class="boring">            max,
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn set_value(&amp;mut self, value: usize) {
</span><span class="boring">        self.value = value;
</span><span class="boring">
</span><span class="boring">        let percentage_of_max = self.value as f64 / self.max as f64;
</span><span class="boring">
</span><span class="boring">        if percentage_of_max &gt;= 1.0 {
</span><span class="boring">            self.messenger.send("Error: You are over your quota!");
</span><span class="boring">        } else if percentage_of_max &gt;= 0.9 {
</span><span class="boring">            self.messenger
</span><span class="boring">                .send("Urgent warning: You've used up over 90% of your quota!");
</span><span class="boring">        } else if percentage_of_max &gt;= 0.75 {
</span><span class="boring">            self.messenger
</span><span class="boring">                .send("Warning: You've used up over 75% of your quota!");
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">#[cfg(test)]
</span><span class="boring">mod tests {
</span><span class="boring">    use super::*;
</span><span class="boring">    use std::cell::RefCell;
</span><span class="boring">
</span><span class="boring">    struct MockMessenger {
</span><span class="boring">        sent_messages: RefCell&lt;Vec&lt;String&gt;&gt;,
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    impl MockMessenger {
</span><span class="boring">        fn new() -&gt; MockMessenger {
</span><span class="boring">            MockMessenger {
</span><span class="boring">                sent_messages: RefCell::new(vec![]),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span>    impl Messenger for MockMessenger {
        fn send(&amp;self, message: &amp;str) {
            let mut one_borrow = self.sent_messages.borrow_mut();
            let mut two_borrow = self.sent_messages.borrow_mut();

            one_borrow.push(String::from(message));
            two_borrow.push(String::from(message));
        }
    }
<span class="boring">
</span><span class="boring">    #[test]
</span><span class="boring">    fn it_sends_an_over_75_percent_warning_message() {
</span><span class="boring">        let mock_messenger = MockMessenger::new();
</span><span class="boring">        let mut limit_tracker = LimitTracker::new(&amp;mock_messenger, 100);
</span><span class="boring">
</span><span class="boring">        limit_tracker.set_value(80);
</span><span class="boring">
</span><span class="boring">        assert_eq!(mock_messenger.sent_messages.borrow().len(), 1);
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 15-23: ุงุฌุงุฏ ุฏู ุงุฑุฌุงุน ูุชุบุฑ ุฏุฑ ฺฉ ุฏุงููู ุจุฑุง ุฏุฏู ุงูฺฉู <code>RefCell&lt;T&gt;</code> ูุญุดุช ุฎูุงูุฏ ฺฉุฑุฏ</figcaption>
</figure>
<p>ูุง ฺฉ ูุชุบุฑ ุจู ูุงู <code>one_borrow</code> ุจุฑุง ุงุณูุงุฑุช ูพููุชุฑ <code>RefMut&lt;T&gt;</code> ฺฉู ุงุฒ <code>borrow_mut</code>
ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู ุงุณุชุ ุงุฌุงุฏ ูโฺฉูู. ุณูพุณ ฺฉ ูุงูโุฏู ูุชุบุฑ ุฏฺฏุฑ ุจู ููุงู ุฑูุด ุฏุฑ
ูุชุบุฑ <code>two_borrow</code> ุงุฌุงุฏ ูโฺฉูู. ุงู ฺฉุงุฑ ุฏู ุงุฑุฌุงุน ูุชุบุฑ ุฏุฑ ฺฉ ุฏุงููู ุงุฌุงุฏ ูโฺฉูุฏุ
ฺฉู ูุฌุงุฒ ูุณุช. ููฺฏุงู ฺฉู ุชุณุชโูุง ุฑุง ุจุฑุง ฺฉุชุงุจุฎุงูู ุฎูุฏ ุงุฌุฑุง ูโฺฉููุ ฺฉุฏ ุฏุฑ ููุฑุณุช
15-23 ุจุฏูู ูฺ ุฎุทุง ฺฉุงููพุงู ูโุดูุฏุ ุงูุง ุชุณุช ุดฺฉุณุช ุฎูุงูุฏ ุฎูุฑุฏ:</p>
<pre><code class="language-console">$ cargo test
   Compiling limit-tracker v0.1.0 (file:///projects/limit-tracker)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.91s
     Running unittests src/lib.rs (target/debug/deps/limit_tracker-e599811fa246dbde)

running 1 test
test tests::it_sends_an_over_75_percent_warning_message ... FAILED

failures:

---- tests::it_sends_an_over_75_percent_warning_message stdout ----
thread 'tests::it_sends_an_over_75_percent_warning_message' panicked at src/lib.rs:60:53:
already borrowed: BorrowMutError
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::it_sends_an_over_75_percent_warning_message

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
</code></pre>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉุฏ ุจุง ูพุงู <code>already borrowed: BorrowMutError</code> ุฏฺุงุฑ ูุญุดุช
(panic) ุดุฏ. ุงู ูุญูู ุนููฺฉุฑุฏ <code>RefCell&lt;T&gt;</code> ุจุฑุง ูุฏุฑุช ููุถ ููุงูู ูุงูโุฏู ุฏุฑ ุฒูุงู
ุงุฌุฑุง ุงุณุช.</p>
<p>ุงูุชุฎุงุจ ุงูฺฉู ุฎุทุงูุง ูุงูโุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง ู ูู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุฑุฑุณ ุดููุฏุ ููุงูุทูุฑ
ฺฉู ุฏุฑ ุงูุฌุง ุงูุฌุงู ุฏุงุฏูุ ุจู ุงู ูุนูุง ุงุณุช ฺฉู ููฺฉู ุงุณุช ุงุดุชุจุงูุงุช ุฏุฑ ฺฉุฏ ุดูุง ุฏุฑ ูุฑุงุญู
ุจุนุฏ ูุฑุขูุฏ ุชูุณุนู ฺฉุดู ุดููุฏ: ุดุงุฏ ุญุช ุชุง ุฒูุงู ฺฉู ฺฉุฏ ุดูุง ุจู ูุญุท ุชููุฏ
(production) ุงุณุชูุฑุงุฑ ุงุจุฏ. ููฺููุ ฺฉุฏ ุดูุง ุฌุฑูู ุนููฺฉุฑุฏ ฺฉูฺฺฉ ุฑุง ุจู ุฏูู ูพฺฏุฑ
ูุงูโูุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจู ุฌุง ุฒูุงู ฺฉุงููพุงู ูุชุญูู ุฎูุงูุฏ ุดุฏ. ุจุง ุงู ุญุงูุ ุงุณุชูุงุฏู ุงุฒ
<code>RefCell&lt;T&gt;</code> ุงูฺฉุงู ููุดุชู ฺฉ ุดุก Mock ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ูโุชูุงูุฏ ุฎูุฏ ุฑุง ุชุบุฑ
ุฏูุฏ ุชุง ูพุงูโูุง ฺฉู ูุดุงูุฏู ฺฉุฑุฏู ุงุณุช ุฑุง ูพฺฏุฑ ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุดูุง ุขู ุฑุง ุฏุฑ ฺฉ
ุฒููู ฺฉู ุชููุง ููุงุฏุฑ ุบุฑูุงุจูโุชุบุฑ ูุฌุงุฒ ูุณุชูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ. ุดูุง ูโุชูุงูุฏ
ุจุง ูุฌูุฏ ุงู ูุจุงุฏูุงุชุ ุงุฒ <code>RefCell&lt;T&gt;</code> ุจุฑุง ุฏุฑุงูุช ุนููฺฉุฑุฏ ุจุดุชุฑ ูุณุจุช ุจู
ุงุฑุฌุงุนโูุง ูุนููู ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h3 id="ุฏุงุดุชู-ฺูุฏู-ูุงูฺฉ-ุจุฑุง-ุฏุงุฏููุง-ูุงุจูุชุบุฑ-ุจุง-ุชุฑฺฉุจ-rct-ู-refcellt"><a class="header" href="#ุฏุงุดุชู-ฺูุฏู-ูุงูฺฉ-ุจุฑุง-ุฏุงุฏููุง-ูุงุจูุชุบุฑ-ุจุง-ุชุฑฺฉุจ-rct-ู-refcellt">ุฏุงุดุชู ฺูุฏู ูุงูฺฉ ุจุฑุง ุฏุงุฏูโูุง ูุงุจูโุชุบุฑ ุจุง ุชุฑฺฉุจ <code>Rc&lt;T&gt;</code> ู <code>RefCell&lt;T&gt;</code></a></h3>
<p>ฺฉ ุฑูุด ุฑุงุฌ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>RefCell&lt;T&gt;</code> ุชุฑฺฉุจ ุขู ุจุง <code>Rc&lt;T&gt;</code> ุงุณุช. ุจู ุฎุงุทุฑ
ุจุงูุฑุฏ ฺฉู <code>Rc&lt;T&gt;</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺูุฏู ูุงูฺฉ ุจุฑุง ุจุฑุฎ ุฏุงุฏูโูุง ุฏุงุดุชู
ุจุงุดุฏุ ุงูุง ููุท ุฏุณุชุฑุณ ุบุฑูุงุจูโุชุบุฑ ุจู ุขู ุฏุงุฏูโูุง ุฑุง ูโุฏูุฏ. ุงฺฏุฑ ฺฉ <code>Rc&lt;T&gt;</code>
ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉ <code>RefCell&lt;T&gt;</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ูโุชูุงูุฏ ฺฉ ููุฏุงุฑ ุฏุงุดุชู ุจุงุดุฏ
ฺฉู ูโุชูุงูุฏ ฺูุฏู ูุงูฺฉ ุฏุงุดุชู ุจุงุดุฏ <em>ู</em> ุดูุง ุจุชูุงูุฏ ุขู ุฑุง ุชุบุฑ ุฏูุฏ!</p>
<p>ุจุฑุง ูุซุงูุ ูุซุงู ูุณุช cons ุฏุฑ ููุฑุณุช 15-18 ุฑุง ุจู ุฎุงุทุฑ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุขู ุงุฒ <code>Rc&lt;T&gt;</code>
ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ฺูุฏู ูุณุช ุจุฑุง ุงุดุชุฑุงฺฉ ูุงูฺฉุช ฺฉ ูุณุช ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉุฑุฏู.
ฺูู <code>Rc&lt;T&gt;</code> ุชููุง ููุงุฏุฑ ุบุฑูุงุจูโุชุบุฑ ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ููโุชูุงูู ูฺ ฺฉ ุงุฒ ููุงุฏุฑ
ุฏุฑ ูุณุช ุฑุง ูพุณ ุงุฒ ุงุฌุงุฏ ุชุบุฑ ุฏูู. ุจุงุฏ <code>RefCell&lt;T&gt;</code> ุฑุง ุงุถุงูู ฺฉูู ุชุง ุชูุงูุง
ุชุบุฑ ููุงุฏุฑ ุฏุฑ ูุณุชโูุง ุฑุง ฺฉุณุจ ฺฉูู. ููุฑุณุช 15-24 ูุดุงู ูโุฏูุฏ ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ
<code>RefCell&lt;T&gt;</code> ุฏุฑ ุชุนุฑู <code>Cons</code>ุ ูโุชูุงูู ููุฏุงุฑ ุฐุฎุฑูโุดุฏู ุฏุฑ ุชูุงู ูุณุชโูุง ุฑุง
ุชุบุฑ ุฏูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">#[derive(Debug)]
enum List {
    Cons(Rc&lt;RefCell&lt;i32&gt;&gt;, Rc&lt;List&gt;),
    Nil,
}

use crate::List::{Cons, Nil};
use std::cell::RefCell;
use std::rc::Rc;

fn main() {
    let value = Rc::new(RefCell::new(5));

    let a = Rc::new(Cons(Rc::clone(&amp;value), Rc::new(Nil)));

    let b = Cons(Rc::new(RefCell::new(3)), Rc::clone(&amp;a));
    let c = Cons(Rc::new(RefCell::new(4)), Rc::clone(&amp;a));

    *value.borrow_mut() += 10;

    println!("a after = {a:?}");
    println!("b after = {b:?}");
    println!("c after = {c:?}");
}</code></pre></pre>
<figcaption>Listing 15-24: ุงุณุชูุงุฏู ุงุฒ <code>Rc&lt;RefCell&lt;i32&gt;&gt;</code> ุจุฑุง ุงุฌุงุฏ ฺฉ <code>List</code> ฺฉู ูโุชูุงูู ุขู ุฑุง ุชุบุฑ ุฏูู</figcaption>
</figure>
<p>ูุง ููุฏุงุฑ ฺฉู ูููููโุง ุงุฒ <code>Rc&lt;RefCell&lt;i32&gt;&gt;</code> ุงุณุช ุงุฌุงุฏ ูโฺฉูู ู ุขู ุฑุง ุฏุฑ ฺฉ
ูุชุบุฑ ุจู ูุงู <code>value</code> ุฐุฎุฑู ูโฺฉูู ุชุง ุจุชูุงูู ุจุนุฏุงู ุจู ุทูุฑ ูุณุชูู ุจู ุขู ุฏุณุชุฑุณ
ุฏุงุดุชู ุจุงุดู. ุณูพุณ ฺฉ <code>List</code> ุฏุฑ <code>a</code> ุจุง ฺฉ ูุชุบุฑ <code>Cons</code> ฺฉู <code>value</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ
ุงุฌุงุฏ ูโฺฉูู. ูุง ูุงุฒ ุฏุงุฑู <code>value</code> ุฑุง ฺฉููู ฺฉูู ุชุง ูุฑ ุฏู <code>a</code> ู <code>value</code> ูุงูฺฉ
ููุฏุงุฑ ุฏุงุฎู <code>5</code> ุจุงุดูุฏุ ุจู ุฌุง ุงูุชูุงู ูุงูฺฉุช ุงุฒ <code>value</code> ุจู <code>a</code> ุง ุงูฺฉู <code>a</code> ุงุฒ
<code>value</code> ูุงู ุจฺฏุฑุฏ.</p>
<p>ูุง ูุณุช <code>a</code> ุฑุง ุฏุฑ ฺฉ <code>Rc&lt;T&gt;</code> ูโูพฺู ุชุง ููุช ฺฉู ูุณุชโูุง <code>b</code> ู <code>c</code> ุฑุง ุงุฌุงุฏ
ูโฺฉููุ ูุฑ ุฏู ุจุชูุงููุฏ ุจู <code>a</code> ุงุฑุฌุงุน ุฏููุฏุ ฺฉู ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุฏุฑ ููุฑุณุช 15-18
ุงูุฌุงู ุฏุงุฏู.</p>
<p>ูพุณ ุงุฒ ุงุฌุงุฏ ูุณุชโูุง ุฏุฑ <code>a</code>ุ <code>b</code> ู <code>c</code>ุ ูโุฎูุงูู 10 ุจู ููุฏุงุฑ ุฏุฑูู <code>value</code> ุงุถุงูู
ฺฉูู. ุงู ฺฉุงุฑ ุฑุง ุจุง ูุฑุงุฎูุงู <code>borrow_mut</code> ุฑู <code>value</code> ุงูุฌุงู ูโุฏููุ ฺฉู ุงุฒ
ูฺฺฏ ุจุงุฒุงุฑุฌุงุน ุฎูุฏฺฉุงุฑ (automatic dereferencing) ฺฉู ุฏุฑ ูุตู 5 ุจุญุซ ฺฉุฑุฏู (ุจู
ุจุฎุด <a href="ch05-03-method-syntax.html#wheres-the---operator">ยซุนููฺฏุฑ <code>-&gt;</code> ฺฉุฌุงุณุชุยป</a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏ)
ุจุฑุง ุจุงุฒุงุฑุฌุงุน <code>Rc&lt;T&gt;</code> ุจู ููุฏุงุฑ ุฏุงุฎู <code>RefCell&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ูุชุฏ
<code>borrow_mut</code> ฺฉ ุงุณูุงุฑุช ูพููุชุฑ <code>RefMut&lt;T&gt;</code> ุจุฑูโฺฏุฑุฏุงูุฏุ ู ูุง ุงุฒ ุนููฺฏุฑ ุจุงุฒุงุฑุฌุงุน
ุฑู ุขู ุงุณุชูุงุฏู ูโฺฉูู ู ููุฏุงุฑ ุฏุงุฎู ุฑุง ุชุบุฑ ูโุฏูู.</p>
<p>ููุช <code>a</code>ุ <code>b</code> ู <code>c</code> ุฑุง ฺุงูพ ูโฺฉููุ ูโุจูู ฺฉู ููู ุขูโูุง ููุฏุงุฑ ุชุบุฑโุงูุชู
15 ุจู ุฌุง 5 ุฑุง ุฏุงุฑูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling cons-list v0.1.0 (file:///projects/cons-list)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.63s
     Running `target/debug/cons-list`
a after = Cons(RefCell { value: 15 }, Nil)
b after = Cons(RefCell { value: 3 }, Cons(RefCell { value: 15 }, Nil))
c after = Cons(RefCell { value: 4 }, Cons(RefCell { value: 15 }, Nil))
</code></pre>
<p>ุงู ุชฺฉูฺฉ ูุงูุนุงู ุฌุงูุจ ุงุณุช! ุจุง ุงุณุชูุงุฏู ุงุฒ <code>RefCell&lt;T&gt;</code>ุ ูุง ฺฉ ููุฏุงุฑ <code>List</code> ุฏุงุฑู
ฺฉู ุจู ูุธุฑ ุบุฑูุงุจูโุชุบุฑ ุงุณุช. ุงูุง ูโุชูุงูู ุงุฒ ูุชุฏูุง ููุฌูุฏ ุฏุฑ <code>RefCell&lt;T&gt;</code> ฺฉู
ุฏุณุชุฑุณ ุจู ุชุบุฑูพุฐุฑ ุฏุงุฎู ุขู ุฑุง ูุฑุงูู ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉูู ุชุง ุฏุงุฏูโูุง ุฎูุฏ ุฑุง
ูุฑ ููุช ฺฉู ูุงุฒ ุฏุงุดุชู ุชุบุฑ ุฏูู. ุจุฑุฑุณโูุง ุฒูุงู ุงุฌุฑุง ุจุฑุง ููุงูู ูุงูโุฏู ูุง ุฑุง
ุงุฒ ุฑูุงุจุชโูุง ุฏุงุฏู (data races) ูุญุงูุธุช ูโฺฉูุฏุ ู ฺฏุงู ุงููุงุช ุงุฑุฒุด ุขู ุฑุง ุฏุงุฑุฏ ฺฉู
ููุฏุงุฑ ุณุฑุนุช ุฑุง ุจุฑุง ุงู ุงูุนุทุงูโูพุฐุฑ ุฏุฑ ุณุงุฎุชุงุฑ ุฏุงุฏูโูุงูุงู ูุนุงููู ฺฉูู. ุชูุฌู ุฏุงุดุชู
ุจุงุดุฏ ฺฉู <code>RefCell&lt;T&gt;</code> ุจุฑุง ฺฉุฏ ฺูุฏุฑุณูุงู ฺฉุงุฑ ููโฺฉูุฏ! ูุณุฎู ุงูู ุจุฑุง ูุฎ (thread-safe)
ุงุฒ <code>RefCell&lt;T&gt;</code>ุ ููุน <code>Mutex&lt;T&gt;</code> ุงุณุช ฺฉู ุฏุฑ ูุตู 16 ุฏุฑ ููุฑุฏ ุขู ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺุฑุฎููุง-ุงุฑุฌุงุน-ูุชูุงููุฏ-ููุฌุฑ-ุจู-ูุดุช-ุญุงูุธู-ุดููุฏ"><a class="header" href="#ฺุฑุฎููุง-ุงุฑุฌุงุน-ูุชูุงููุฏ-ููุฌุฑ-ุจู-ูุดุช-ุญุงูุธู-ุดููุฏ">ฺุฑุฎูโูุง ุงุฑุฌุงุน ูโุชูุงููุฏ ููุฌุฑ ุจู ูุดุช ุญุงูุธู ุดููุฏ</a></h2>
<p>ุชุถููโูุง ุงูู ุญุงูุธู ุฑุงุณุช ุงุฌุงุฏ ุญุงูุธูโุง ฺฉู ูุฑฺฏุฒ ูพุงฺฉ ููโุดูุฏ (ฺฉู ุจู ุนููุงู <em>ูุดุช ุญุงูุธู</em>
ุดูุงุฎุชู ูโุดูุฏ) ุฑุง ุฏุดูุงุฑ ูโฺฉููุฏุ ุงูุง ุบุฑููฺฉู ููโฺฉููุฏ. ุฌููฺฏุฑ ฺฉุงูู ุงุฒ ูุดุช ุญุงูุธู
ฺฉ ุงุฒ ุชุถููโูุง ุฑุงุณุช ูุณุชุ ุจู ุงู ูุนู ฺฉู ูุดุช ุญุงูุธู ุฏุฑ ุฑุงุณุช ุงูู ุงุณุช. ูุง ูโุชูุงูู
ุจุจูู ฺฉู ุฑุงุณุช ุงุฌุงุฒู ูุดุช ุญุงูุธู ุฑุง ูโุฏูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Rc&lt;T&gt;</code> ู <code>RefCell&lt;T&gt;</code>:
ุงูฺฉุงู ุงุฌุงุฏ ุงุฑุฌุงุนโูุง ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุขุชูโูุง ุฏุฑ ุขู ุจู ฺฉุฏฺฏุฑ ุฏุฑ ฺฉ ฺุฑุฎู ุงุฑุฌุงุน ูโุฏููุฏ.
ุงู ุจุงุนุซ ูุดุช ุญุงูุธู ูโุดูุฏุ ุฒุฑุง ุดูุงุฑุด ุงุฑุฌุงุน ูุฑ ุขุชู ุฏุฑ ฺุฑุฎู ูุฑฺฏุฒ ุจู 0 ููโุฑุณุฏ ู
ููุงุฏุฑ ูุฑฺฏุฒ ุญุฐู ููโุดููุฏ.</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-ฺุฑุฎู-ุงุฑุฌุงุน"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ฺุฑุฎู-ุงุฑุฌุงุน">ุงุฌุงุฏ ฺฉ ฺุฑุฎู ุงุฑุฌุงุน</a></h3>
<p>ุจุงุฏ ูฺฏุงู ุจูุฏุงุฒู ฺฉู ฺฺฏููู ฺฉ ฺุฑุฎู ุงุฑุฌุงุน ููฺฉู ุงุณุช ุงุชูุงู ุจูุชุฏ ู ฺฺฏููู ูโุชูุงู ุงุฒ ุขู
ุฌููฺฏุฑ ฺฉุฑุฏุ ุจุง ุชุนุฑู enum <code>List</code> ู ฺฉ ูุชุฏ <code>tail</code> ุฏุฑ ููุฑุณุช 15-25 ุดุฑูุน ูโฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use crate::List::{Cons, Nil};
use std::cell::RefCell;
use std::rc::Rc;

#[derive(Debug)]
enum List {
    Cons(i32, RefCell&lt;Rc&lt;List&gt;&gt;),
    Nil,
}

impl List {
    fn tail(&amp;self) -&gt; Option&lt;&amp;RefCell&lt;Rc&lt;List&gt;&gt;&gt; {
        match self {
            Cons(_, item) =&gt; Some(item),
            Nil =&gt; None,
        }
    }
}

fn main() {}</code></pre></pre>
<figcaption>Listing 15-25: ุชุนุฑู ฺฉ ูุณุช cons ฺฉู ฺฉ <code>RefCell&lt;T&gt;</code> ูฺฏู ูโุฏุงุฑุฏ ุชุง ุจุชูุงูู ุขูฺู ฺฉู ฺฉ ูุชุบุฑ <code>Cons</code> ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุฑุง ุชุบุฑ ุฏูู</figcaption>
</figure>
<p>ูุง ุงุฒ ฺฉ ูุณุฎู ุฏฺฏุฑ ุงุฒ ุชุนุฑู <code>List</code> ฺฉู ุฏุฑ ููุฑุณุช 15-5 ุขูุฏู ุจูุฏ ุงุณุชูุงุฏู ูโฺฉูู.
ุนูุตุฑ ุฏูู ุฏุฑ ูุชุบุฑ <code>Cons</code> ุงฺฉููู <code>RefCell&lt;Rc&lt;List&gt;&gt;</code> ุงุณุชุ ุจู ุงู ูุนู ฺฉู ุจู ุฌุง
ุชูุงูุง ุชุบุฑ ููุฏุงุฑ <code>i32</code> ฺฉู ุฏุฑ ููุฑุณุช 15-24 ุฏุงุดุชูุ ูโุฎูุงูู ููุฏุงุฑ <code>List</code> ุฑุง ฺฉู
ฺฉ ูุชุบุฑ <code>Cons</code> ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏุ ุชุบุฑ ุฏูู. ููฺููุ ฺฉ ูุชุฏ <code>tail</code> ุงุถุงูู
ูโฺฉูู ุชุง ุฏุณุชุฑุณ ุจู ุขุชู ุฏูู ุฑุง ุฏุฑ ุตูุฑุช ฺฉู ฺฉ ูุชุบุฑ <code>Cons</code> ุฏุงุฑูุ ุฑุงุญุชโุชุฑ ฺฉูู.</p>
<p>ุฏุฑ ููุฑุณุช 15-26ุ ฺฉ ุชุงุจุน <code>main</code> ุงุถุงูู ูโฺฉูู ฺฉู ุงุฒ ุชุนุงุฑู ููุฑุณุช 15-25 ุงุณุชูุงุฏู ูโฺฉูุฏ.
ุงู ฺฉุฏ ูุณุช ุฏุฑ <code>a</code> ู ูุณุช ุฏุฑ <code>b</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุจู ูุณุช <code>a</code> ุงุดุงุฑู ูโฺฉูุฏ.
ุณูพุณ ูุณุช ุฏุฑ <code>a</code> ุฑุง ุชุบุฑ ูโุฏูุฏ ุชุง ุจู <code>b</code> ุงุดุงุฑู ฺฉูุฏ ู ฺฉ ฺุฑุฎู ุงุฑุฌุงุน ุงุฌุงุฏ ฺฉูุฏ.
ุฏุฑ ุทูู ุงู ูุฑุขูุฏุ ุงุธูุงุฑุงุช <code>println!</code> ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ูุดุงู ูโุฏููุฏ ุดูุงุฑุด ุงุฑุฌุงุน
ุฏุฑ ููุงุท ูุฎุชูู ฺู ููุฏุงุฑ ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use crate::List::{Cons, Nil};
</span><span class="boring">use std::cell::RefCell;
</span><span class="boring">use std::rc::Rc;
</span><span class="boring">
</span><span class="boring">#[derive(Debug)]
</span><span class="boring">enum List {
</span><span class="boring">    Cons(i32, RefCell&lt;Rc&lt;List&gt;&gt;),
</span><span class="boring">    Nil,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl List {
</span><span class="boring">    fn tail(&amp;self) -&gt; Option&lt;&amp;RefCell&lt;Rc&lt;List&gt;&gt;&gt; {
</span><span class="boring">        match self {
</span><span class="boring">            Cons(_, item) =&gt; Some(item),
</span><span class="boring">            Nil =&gt; None,
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let a = Rc::new(Cons(5, RefCell::new(Rc::new(Nil))));

    println!("a initial rc count = {}", Rc::strong_count(&amp;a));
    println!("a next item = {:?}", a.tail());

    let b = Rc::new(Cons(10, RefCell::new(Rc::clone(&amp;a))));

    println!("a rc count after b creation = {}", Rc::strong_count(&amp;a));
    println!("b initial rc count = {}", Rc::strong_count(&amp;b));
    println!("b next item = {:?}", b.tail());

    if let Some(link) = a.tail() {
        *link.borrow_mut() = Rc::clone(&amp;b);
    }

    println!("b rc count after changing a = {}", Rc::strong_count(&amp;b));
    println!("a rc count after changing a = {}", Rc::strong_count(&amp;a));

    // Uncomment the next line to see that we have a cycle;
    // it will overflow the stack
    // println!("a next item = {:?}", a.tail());
}</code></pre></pre>
<figcaption>Listing 15-26: ุงุฌุงุฏ ฺฉ ฺุฑุฎู ุงุฑุฌุงุน ุงุฒ ุฏู ููุฏุงุฑ <code>List</code> ฺฉู ุจู ฺฉุฏฺฏุฑ ุงุดุงุฑู ูโฺฉููุฏ</figcaption>
</figure>
<p>ูุง ฺฉ ููููู <code>Rc&lt;List&gt;</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู ฺฉ ููุฏุงุฑ <code>List</code> ุฑุง ุฏุฑ ูุชุบุฑ <code>a</code> ูฺฏู ูโุฏุงุฑุฏ
ุจุง ฺฉ ูุณุช ุงููู ุงุฒ <code>5, Nil</code>. ุณูพุณ ฺฉ ููููู <code>Rc&lt;List&gt;</code> ุฏฺฏุฑ ุงุฌุงุฏ ูโฺฉูู ฺฉู ููุฏุงุฑ
ุฏฺฏุฑ ุงุฒ <code>List</code> ุฑุง ุฏุฑ ูุชุบุฑ <code>b</code> ูฺฏู ูโุฏุงุฑุฏ ฺฉู ููุฏุงุฑ 10 ุฑุง ุดุงูู ูโุดูุฏ ู ุจู ูุณุช
ุฏุฑ <code>a</code> ุงุดุงุฑู ูโฺฉูุฏ.</p>
<p>ูุง <code>a</code> ุฑุง ุชุบุฑ ูโุฏูู ุชุง ุจู ุฌุง <code>Nil</code> ุจู <code>b</code> ุงุดุงุฑู ฺฉูุฏุ ู ฺฉ ฺุฑุฎู ุงุฌุงุฏ ูโฺฉูู.
ุงู ฺฉุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>tail</code> ุงูุฌุงู ูโุฏูู ุชุง ฺฉ ุงุฑุฌุงุน ุจู <code>RefCell&lt;Rc&lt;List&gt;&gt;</code>
ุฏุฑ <code>a</code> ุจฺฏุฑูุ ฺฉู ุขู ุฑุง ุฏุฑ ูุชุบุฑ <code>link</code> ูุฑุงุฑ ูโุฏูู. ุณูพุณ ุงุฒ ูุชุฏ <code>borrow_mut</code>
ุฑู <code>RefCell&lt;Rc&lt;List&gt;&gt;</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ููุฏุงุฑ ุฏุงุฎู ุฑุง ุงุฒ ฺฉ <code>Rc&lt;List&gt;</code> ฺฉู
ููุฏุงุฑ <code>Nil</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ ุจู <code>Rc&lt;List&gt;</code> ุฏุฑ <code>b</code> ุชุบุฑ ุฏูู.</p>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉูู ู <code>println!</code> ุขุฎุฑ ุฑุง ุจู ุทูุฑ ูููุช ฺฉุงููุช ูโฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling cons-list v0.1.0 (file:///projects/cons-list)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.53s
     Running `target/debug/cons-list`
a initial rc count = 1
a next item = Some(RefCell { value: Nil })
a rc count after b creation = 2
b initial rc count = 1
b next item = Some(RefCell { value: Cons(5, RefCell { value: Nil }) })
b rc count after changing a = 2
a rc count after changing a = 2
</code></pre>
<p>ุดูุงุฑุด ุงุฑุฌุงุน ูููููโูุง <code>Rc&lt;List&gt;</code> ุฏุฑ ูุฑ ุฏู <code>a</code> ู <code>b</code> ูพุณ ุงุฒ ุชุบุฑ ูุณุช ุฏุฑ <code>a</code> ุจุฑุง ุงุดุงุฑู ุจู <code>b</code> ุจุฑุงุจุฑ ุจุง 2 ุงุณุช. ุฏุฑ ูพุงุงู ุชุงุจุน <code>main</code>ุ ุฑุงุณุช ูุชุบุฑ <code>b</code> ุฑุง ุญุฐู ูโฺฉูุฏุ ฺฉู ุดูุงุฑุด ุงุฑุฌุงุน ููููู <code>Rc&lt;List&gt;</code> ุฏุฑ <code>b</code> ุฑุง ุงุฒ 2 ุจู 1 ฺฉุงูุด ูโุฏูุฏ. ุญุงูุธูโุง ฺฉู <code>Rc&lt;List&gt;</code> ุฏุฑ heap ุงุดุบุงู ฺฉุฑุฏู ุงุณุช ุฏุฑ ุงู ููุทู ุญุฐู ูุฎูุงูุฏ ุดุฏุ ุฒุฑุง ุดูุงุฑุด ุงุฑุฌุงุน ุขู ุจุฑุงุจุฑ ุจุง 1 ุงุณุช ู ูู 0. ุณูพุณ ุฑุงุณุช ูุชุบุฑ <code>a</code> ุฑุง ุญุฐู ูโฺฉูุฏุ ฺฉู ุดูุงุฑุด ุงุฑุฌุงุน ููููู <code>Rc&lt;List&gt;</code> ุฏุฑ <code>a</code> ุฑุง ูุฒ ุงุฒ 2 ุจู 1 ฺฉุงูุด ูโุฏูุฏ. ุญุงูุธู ุงู ููููู ูุฒ ููโุชูุงูุฏ ุญุฐู ุดูุฏุ ุฒุฑุง ููููู ุฏฺฏุฑ <code>Rc&lt;List&gt;</code> ููฺูุงู ุจู ุขู ุงุฑุฌุงุน ูโุฏูุฏ. ุญุงูุธู ุชุฎุตุตโุงูุชู ุจู ุงู ูุณุช ุจุฑุง ููุดู ุบุฑูุงุจู ุฌูุนโุขูุฑ ุจุงู ุฎูุงูุฏ ูุงูุฏ. ุจุฑุง ุชุฌุณู ุงู ฺุฑุฎู ุงุฑุฌุงุนุ ูููุฏุงุฑ ุฏุฑ ุดฺฉู 15-4 ุงุฌุงุฏ ฺฉุฑุฏูโุงู.</p>
<img alt="ฺุฑุฎู ุงุฑุฌุงุน ูุณุชโูุง" src="img/trpl15-04.svg" class="center" />
<p><span class="caption">ุดฺฉู 15-4: ฺฉ ฺุฑุฎู ุงุฑุฌุงุน ุงุฒ ูุณุชโูุง <code>a</code> ู <code>b</code> ฺฉู ุจู ฺฉุฏฺฏุฑ ุงุดุงุฑู ูโฺฉููุฏ</span></p>
<p>ุงฺฏุฑ ุขุฎุฑู ุฏุณุชูุฑ <code>println!</code> ุฑุง ุงุฒ ุญุงูุช ฺฉุงููุช ุฎุงุฑุฌ ฺฉูุฏ ู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุฑุงุณุช ุณุน ุฎูุงูุฏ ฺฉุฑุฏ ุงู ฺุฑุฎู ุฑุง ุจุง <code>a</code> ฺฉู ุจู <code>b</code> ู ุณูพุณ ุจู <code>a</code> ุงุดุงุฑู ูโฺฉูุฏ ู ุจู ููู ุชุฑุชุจ ุงุฏุงูู ูโุฏูุฏุ ฺุงูพ ฺฉูุฏ ุชุง ุฒูุงู ฺฉู ุงุณุชฺฉ ุณุฑุฑุฒ ุดูุฏ.</p>
<p>ุฏุฑ ููุงุณู ุจุง ฺฉ ุจุฑูุงูู ูุงูุนุ ุนูุงูุจ ุงุฌุงุฏ ฺุฑุฎู ุงุฑุฌุงุน ุฏุฑ ุงู ูุซุงู ฺูุฏุงู ูุฎู ูุณุช: ุฏุฑุณุช ุจุนุฏ ุงุฒ ุงูฺฉู ฺุฑุฎู ุงุฑุฌุงุน ุงุฌุงุฏ ูโุดูุฏุ ุจุฑูุงูู ูพุงุงู ูโุงุจุฏ. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ฺฉ ุจุฑูุงูู ูพฺุฏูโุชุฑ ููุฏุงุฑ ุฒุงุฏ ุญุงูุธู ุฏุฑ ฺฉ ฺุฑุฎู ุชุฎุตุต ุฏูุฏ ู ุจุฑุง ูุฏุช ุทููุงู ุขู ุฑุง ูฺฏู ุฏุงุฑุฏุ ุจุฑูุงูู ุจุดุชุฑ ุงุฒ ุญุงูุธูโุง ฺฉู ูุงุฒ ุฏุงุฑุฏ ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ ู ููฺฉู ุงุณุช ุณุณุชู ุฑุง ุงุฒ ุญุงูุธู ููุฌูุฏ ุชุฎูู ฺฉูุฏ.</p>
<p>ุงุฌุงุฏ ฺุฑุฎูโูุง ุงุฑุฌุงุน ฺฉุงุฑ ุขุณุงู ูุณุชุ ุงูุง ุบุฑููฺฉู ูู ูุณุช. ุงฺฏุฑ ููุงุฏุฑ <code>RefCell&lt;T&gt;</code> ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุงุฏุฑ <code>Rc&lt;T&gt;</code> ุง ุชุฑฺฉุจุงุช ูุดุงุจู ุงุฒ ุงููุงุน ุจุง ุชุบุฑูพุฐุฑ ุฏุงุฎู ู ุดูุงุฑุด ุงุฑุฌุงุน ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ุฏููุฏุ ุจุงุฏ ูุทูุฆู ุดูุฏ ฺฉู ฺุฑุฎูโุง ุงุฌุงุฏ ููโฺฉูุฏุ ููโุชูุงูุฏ ุจู ุฑุงุณุช ุงุนุชูุงุฏ ฺฉูุฏ ฺฉู ุขูโูุง ุฑุง ุดูุงุณุง ฺฉูุฏ. ุงุฌุงุฏ ฺุฑุฎู ุงุฑุฌุงุน ฺฉ ุงุดฺฉุงู ููุทู ุฏุฑ ุจุฑูุงูู ุดูุง ุฎูุงูุฏ ุจูุฏ ฺฉู ุจุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุณุชโูุง ุฎูุฏฺฉุงุฑุ ุจุฑุฑุณ ฺฉุฏุ ู ุฏฺฏุฑ ุดููโูุง ุชูุณุนู ูุฑูโุงูุฒุงุฑุ ุขู ุฑุง ุจู ุญุฏุงูู ุจุฑุณุงูุฏ.</p>
<p>ฺฉ ุฑุงูโุญู ุฏฺฏุฑ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ฺุฑุฎูโูุง ุงุฑุฌุงุนุ ุจุงุฒุณุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฏูโูุงุชุงู ุงุณุช ุจูโุทูุฑ ฺฉู ุจุฑุฎ ุงุฑุฌุงุนุงุช ุจุงูฺฏุฑ ูุงูฺฉุช ุจุงุดูุฏ ู ุจุฑุฎ ูุจุงุดูุฏ. ุจู ุงู ุชุฑุชุจุ ูโุชูุงูุฏ ฺุฑุฎูโูุง ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุดุงูู ุจุฑุฎ ุฑูุงุจุท ูุงูฺฉุช ู ุจุฑุฎ ุฑูุงุจุท ุบุฑูุงูฺฉุช ูุณุชูุฏุ ู ุชููุง ุฑูุงุจุท ูุงูฺฉุช ุชุนู ูโฺฉููุฏ ฺฉู ุขุง ฺฉ ููุฏุงุฑ ูโุชูุงูุฏ ุญุฐู ุดูุฏ ุง ุฎุฑ. ุฏุฑ ููุฑุณุช 15-25ุ ูุง ููุดู ูโุฎูุงูู ฺฉู ูุชุบุฑูุง <code>Cons</code> ูุงูฺฉ ูุณุชโูุงุดุงู ุจุงุดูุฏุ ุจูุงุจุฑุงู ุจุงุฒุณุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฏู ุงูฺฉุงูโูพุฐุฑ ูุณุช. ุจุงุฏ ุจู ฺฉ ูุซุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฏุฑุงูโูุง ฺฉู ุดุงูู ฺฏุฑูโูุง ูุงูุฏ ู ูุฑุฒูุฏ ูุณุชูุฏ ูฺฏุงู ฺฉูู ุชุง ุจุจูู ฺู ุฒูุงู ุฑูุงุจุท ุบุฑูุงูฺฉุช ฺฉ ุฑุงู ููุงุณุจ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ฺุฑุฎูโูุง ุงุฑุฌุงุน ูุณุชูุฏ.</p>
<h3 id="ุฌููฺฏุฑ-ุงุฒ-ฺุฑุฎููุง-ุงุฑุฌุงุน-ุชุจุฏู-ฺฉ-rct-ุจู-ฺฉ-weakt"><a class="header" href="#ุฌููฺฏุฑ-ุงุฒ-ฺุฑุฎููุง-ุงุฑุฌุงุน-ุชุจุฏู-ฺฉ-rct-ุจู-ฺฉ-weakt">ุฌููฺฏุฑ ุงุฒ ฺุฑุฎูโูุง ุงุฑุฌุงุน: ุชุจุฏู ฺฉ <code>Rc&lt;T&gt;</code> ุจู ฺฉ <code>Weak&lt;T&gt;</code></a></h3>
<p>ุชุง ุงูุฌุงุ ูุดุงู ุฏุงุฏูโุงู ฺฉู ูุฑุงุฎูุงู <code>Rc::clone</code> ุดูุงุฑุด <code>strong_count</code> ฺฉ ููููู <code>Rc&lt;T&gt;</code> ุฑุง ุงูุฒุงุด ูโุฏูุฏุ ู ฺฉ ููููู <code>Rc&lt;T&gt;</code> ุชููุง ุฒูุงู ูพุงฺฉโุณุงุฒ ูโุดูุฏ ฺฉู ุดูุงุฑุด <code>strong_count</code> ุขู 0 ุจุงุดุฏ. ููฺูู ูโุชูุงูุฏ ุจุง ูุฑุงุฎูุงู <code>Rc::downgrade</code> ู ุงุฑุณุงู ฺฉ ุงุฑุฌุงุน ุจู <code>Rc&lt;T&gt;</code>ุ ฺฉ <em>ุงุฑุฌุงุน ุถุนู</em> ุจู ููุฏุงุฑ ุฏุฑูู ฺฉ ููููู <code>Rc&lt;T&gt;</code> ุงุฌุงุฏ ฺฉูุฏ. ุงุฑุฌุงุนุงุช ูู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ูุงูฺฉุช ฺฉ ููููู <code>Rc&lt;T&gt;</code> ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ. ุงุฑุฌุงุนุงุช ุถุนู ฺฉ ุฑุงุจุทู ูุงูฺฉุช ุฑุง ุจุงู ููโฺฉููุฏุ ู ุดูุงุฑุด ุขูโูุง ุชุฃุซุฑ ุฏุฑ ุฒูุงู ูพุงฺฉโุณุงุฒ ฺฉ ููููู <code>Rc&lt;T&gt;</code> ูุฏุงุฑุฏ. ุขูโูุง ุจุงุนุซ ุงุฌุงุฏ ฺุฑุฎู ุงุฑุฌุงุน ููโุดููุฏุ ุฒุฑุง ูุฑ ฺุฑุฎูโุง ฺฉู ุดุงูู ุจุฑุฎ ุงุฑุฌุงุนุงุช ุถุนู ุจุงุดุฏุ ููุช ุดูุงุฑุด ุงุฑุฌุงุน ูู ููุงุฏุฑ ุฏุฑฺฏุฑ 0 ุดูุฏุ ุดฺฉุณุชู ูโุดูุฏ.</p>
<p>ููุช <code>Rc::downgrade</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏุ ฺฉ ุงุณูุงุฑุช ูพููุชุฑ ุงุฒ ููุน <code>Weak&lt;T&gt;</code> ุฏุฑุงูุช ูโฺฉูุฏ. ุจู ุฌุง ุงูุฒุงุด ุดูุงุฑุด <code>strong_count</code> ุฏุฑ ููููู <code>Rc&lt;T&gt;</code> ุจู ููุฏุงุฑ 1ุ ูุฑุงุฎูุงู <code>Rc::downgrade</code> ุดูุงุฑุด <code>weak_count</code> ุฑุง ุจู ููุฏุงุฑ 1 ุงูุฒุงุด ูโุฏูุฏ. ููุน <code>Rc&lt;T&gt;</code> ุงุฒ <code>weak_count</code> ุจุฑุง ูพฺฏุฑ ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช <code>Weak&lt;T&gt;</code> ููุฌูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุดุงุจู <code>strong_count</code>. ุชูุงูุช ุงู ุงุณุช ฺฉู ุดูุงุฑุด <code>weak_count</code> ูุงุฒ ุจู 0 ุจูุฏู ุจุฑุง ูพุงฺฉโุณุงุฒ ููููู <code>Rc&lt;T&gt;</code> ูุฏุงุฑุฏ.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ููุฏุงุฑ ฺฉู <code>Weak&lt;T&gt;</code> ุจู ุขู ุงุฑุฌุงุน ูโุฏูุฏ ููฺฉู ุงุณุช ุญุฐู ุดุฏู ุจุงุดุฏุ ุจุฑุง ุงูุฌุงู ูุฑ
ฺฉุงุฑ ุจุง ููุฏุงุฑ ฺฉู ฺฉ <code>Weak&lt;T&gt;</code> ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏุ ุจุงุฏ ูุทูุฆู ุดูุฏ ฺฉู ููุฏุงุฑ ูููุฒ
ูุฌูุฏ ุฏุงุฑุฏ. ุงู ฺฉุงุฑ ุฑุง ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>upgrade</code> ุฑู ฺฉ ููููู <code>Weak&lt;T&gt;</code> ุงูุฌุงู ุฏูุฏุ
ฺฉู ฺฉ <code>Option&lt;Rc&lt;T&gt;&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ููุฏุงุฑ <code>Rc&lt;T&gt;</code> ูููุฒ ุญุฐู ูุดุฏู ุจุงุดุฏุ ูุชุฌู
<code>Some</code> ุฎูุงูุฏ ุจูุฏ ู ุงฺฏุฑ ููุฏุงุฑ <code>Rc&lt;T&gt;</code> ุญุฐู ุดุฏู ุจุงุดุฏุ ูุชุฌู <code>None</code> ุฎูุงูุฏ ุจูุฏ. ุงุฒ ุขูุฌุง
ฺฉู <code>upgrade</code> ฺฉ <code>Option&lt;Rc&lt;T&gt;&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏุ ุฑุงุณุช ุชุถูู ูโฺฉูุฏ ฺฉู ุญุงูุช
<code>Some</code> ู ุญุงูุช <code>None</code> ูุฏุฑุช ูโุดููุฏ ู ูฺ ุงุดุงุฑูโฺฏุฑ (Pointer) ูุงูุนุชุจุฑ ูุฌูุฏ ูุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ุจุฑุง ูุซุงูุ ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุณุช ฺฉู ุขุชูโูุง ุขู ููุท ุฏุฑุจุงุฑู ุขุชู ุจุนุฏ ุงุทูุงุน ุฏุงุฑูุฏุ
ูุง ฺฉ ุฏุฑุฎุช ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุขุชูโูุง ุขู ุฏุฑุจุงุฑู ุขุชูโูุง ูุฑุฒูุฏ <em>ู</em> ูุงูุฏ ุฎูุฏ ุงุทูุงุน ุฏุงุฑูุฏ.</p>
<h4 id="ุงุฌุงุฏ-ฺฉ-ุณุงุฎุชุงุฑ-ุฏุงุฏู-ุฏุฑุฎุช-ฺฉ-node-ุจุง-ฺฏุฑููุง-ูุฑุฒูุฏ"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ุณุงุฎุชุงุฑ-ุฏุงุฏู-ุฏุฑุฎุช-ฺฉ-node-ุจุง-ฺฏุฑููุง-ูุฑุฒูุฏ">ุงุฌุงุฏ ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฏุฑุฎุช: ฺฉ <code>Node</code> ุจุง ฺฏุฑูโูุง ูุฑุฒูุฏ</a></h4>
<p>ุจุฑุง ุดุฑูุนุ ูุง ฺฉ ุฏุฑุฎุช ุจุง ฺฏุฑูโูุง ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุฏุฑุจุงุฑู ฺฏุฑูโูุง ูุฑุฒูุฏ ุฎูุฏ ุงุทูุงุน
ุฏุงุฑูุฏ. ูุง ฺฉ ุณุงุฎุชุงุฑ ุจู ูุงู <code>Node</code> ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ฺฉู ููุฏุงุฑ <code>i32</code> ุฎูุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ
ู ููฺูู ุจู ฺฏุฑูโูุง ูุฑุฒูุฏ ุฎูุฏ ุงุฑุฌุงุน ูโุฏูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">use std::cell::RefCell;
use std::rc::Rc;

#[derive(Debug)]
struct Node {
    value: i32,
    children: RefCell&lt;Vec&lt;Rc&lt;Node&gt;&gt;&gt;,
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let leaf = Rc::new(Node {
</span><span class="boring">        value: 3,
</span><span class="boring">        children: RefCell::new(vec![]),
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    let branch = Rc::new(Node {
</span><span class="boring">        value: 5,
</span><span class="boring">        children: RefCell::new(vec![Rc::clone(&amp;leaf)]),
</span><span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<p>ูุง ูโุฎูุงูู ฺฉู ฺฉ <code>Node</code> ูุงูฺฉ ูุฑุฒูุฏุงู ุฎูุฏ ุจุงุดุฏ ู ููฺูู ูโุฎูุงูู ฺฉู ุงู ูุงูฺฉุช ุจุง
ูุชุบุฑูุง ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดูุฏ ุชุง ุจุชูุงูู ูุณุชููุงู ุจู ูุฑ <code>Node</code> ุฏุฑ ุฏุฑุฎุช ุฏุณุชุฑุณ ุฏุงุดุชู
ุจุงุดู. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ุขุชูโูุง <code>Vec&lt;T&gt;</code> ุฑุง ุจู ุนููุงู ููุงุฏุฑ ุงุฒ ููุน <code>Rc&lt;Node&gt;</code>
ุชุนุฑู ูโฺฉูู. ููฺูู ูโุฎูุงูู ุชุบุฑ ุฏูู ฺฉู ฺฉุฏุงู ฺฏุฑูโูุง ูุฑุฒูุฏุงู ฺฉ ฺฏุฑู ุฏฺฏุฑ ุจุงุดูุฏุ
ุจูุงุจุฑุงู ุฏุฑ <code>children</code> ฺฉ <code>RefCell&lt;T&gt;</code> ุฏุฑ ุงุทุฑุงู <code>Vec&lt;Rc&lt;Node&gt;&gt;</code> ูุฑุงุฑ ูโุฏูู.</p>
<p>ุณูพุณุ ุชุนุฑู ุณุงุฎุชุงุฑ ุฎูุฏ ุฑุง ุงุณุชูุงุฏู ูโฺฉูู ู ฺฉ ููููู <code>Node</code> ุจู ูุงู <code>leaf</code> ุจุง ููุฏุงุฑ 3 ู
ุจุฏูู ูุฑุฒูุฏุ ู ฺฉ ููููู ุฏฺฏุฑ ุจู ูุงู <code>branch</code> ุจุง ููุฏุงุฑ 5 ู <code>leaf</code> ุจู ุนููุงู ฺฉ ุงุฒ ูุฑุฒูุฏุงู
ุขู ุงุฌุงุฏ ูโฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 15-27 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use std::cell::RefCell;
</span><span class="boring">use std::rc::Rc;
</span><span class="boring">
</span><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Node {
</span><span class="boring">    value: i32,
</span><span class="boring">    children: RefCell&lt;Vec&lt;Rc&lt;Node&gt;&gt;&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let leaf = Rc::new(Node {
        value: 3,
        children: RefCell::new(vec![]),
    });

    let branch = Rc::new(Node {
        value: 5,
        children: RefCell::new(vec![Rc::clone(&amp;leaf)]),
    });
}</code></pre></pre>
<figcaption>Listing 15-27: ุงุฌุงุฏ ฺฉ ฺฏุฑู <code>leaf</code> ุจุฏูู ูุฑุฒูุฏ ู ฺฉ ฺฏุฑู <code>branch</code> ุจุง <code>leaf</code> ุจู ุนููุงู ฺฉ ุงุฒ ูุฑุฒูุฏุงู ุขู</figcaption>
</figure>
<p>ูุง <code>Rc&lt;Node&gt;</code> ุฑุง ุฏุฑ <code>leaf</code> ฺฉููู ูโฺฉูู ู ุขู ุฑุง ุฏุฑ <code>branch</code> ุฐุฎุฑู ูโฺฉููุ ุจู ุงู
ูุนู ฺฉู <code>Node</code> ุฏุฑ <code>leaf</code> ุงฺฉููู ุฏู ูุงูฺฉ ุฏุงุฑุฏ: <code>leaf</code> ู <code>branch</code>. ูุง ูโุชูุงูู ุงุฒ
<code>branch</code> ุจู <code>leaf</code> ุงุฒ ุทุฑู <code>branch.children</code> ุจุฑุณูุ ุงูุง ูฺ ุฑุงู ุจุฑุง ุฑูุชู ุงุฒ
<code>leaf</code> ุจู <code>branch</code> ูุฌูุฏ ูุฏุงุฑุฏ. ุฏูู ุงู ุงุณุช ฺฉู <code>leaf</code> ูฺ ุงุฑุฌุงุน ุจู <code>branch</code>
ูุฏุงุฑุฏ ู ููโุฏุงูุฏ ฺฉู ุขูโูุง ูุฑุชุจุท ูุณุชูุฏ. ูุง ูโุฎูุงูู ฺฉู <code>leaf</code> ุจุฏุงูุฏ ฺฉู <code>branch</code>
ูุงูุฏ ุขู ุงุณุช. ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ูุฑุญูู ุจุนุฏ ุงูุฌุงู ุฎูุงูู ุฏุงุฏ.</p>
<h4 id="ุงูุฒูุฏู-ฺฉ-ุงุฑุฌุงุน-ุงุฒ-ูุฑุฒูุฏ-ุจู-ูุงูุฏ"><a class="header" href="#ุงูุฒูุฏู-ฺฉ-ุงุฑุฌุงุน-ุงุฒ-ูุฑุฒูุฏ-ุจู-ูุงูุฏ">ุงูุฒูุฏู ฺฉ ุงุฑุฌุงุน ุงุฒ ูุฑุฒูุฏ ุจู ูุงูุฏ</a></h4>
<p>ุจุฑุง ุขฺฏุงู ฺฉุฑุฏู ฺฏุฑู ูุฑุฒูุฏ ุงุฒ ูุงูุฏุดุ ุจุงุฏ ฺฉ ููุฏ <code>parent</code> ุจู ุชุนุฑู ุณุงุฎุชุงุฑ <code>Node</code> ุฎูุฏ ุงุถุงูู ฺฉูู. ูุดฺฉู ุฏุฑ ุชุตููโฺฏุฑ ุฏุฑ ููุฑุฏ ููุน <code>parent</code> ุงุณุช. ูโุฏุงูู ฺฉู ููโุชูุงูุฏ ุดุงูู ฺฉ <code>Rc&lt;T&gt;</code> ุจุงุดุฏุ ุฒุฑุง ุงู ุงูุฑ ุจุงุนุซ ุงุฌุงุฏ ฺุฑุฎู ุงุฑุฌุงุน ูโุดูุฏ ฺฉู ุฏุฑ ุขู <code>leaf.parent</code> ุจู <code>branch</code> ุงุดุงุฑู ูโฺฉูุฏ ู <code>branch.children</code> ุจู <code>leaf</code>ุ ฺฉู ุจุงุนุซ ูโุดูุฏ ููุงุฏุฑ <code>strong_count</code> ุขูโูุง ูุฑฺฏุฒ ุจู 0 ูุฑุณุฏ.</p>
<p>ุจุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุฑูุงุจุท ุงุฒ ุฏุฏฺฏุงู ุฏฺฏุฑุ ฺฉ ฺฏุฑู ูุงูุฏ ุจุงุฏ ูุงูฺฉ ูุฑุฒูุฏุงู ุฎูุฏ ุจุงุดุฏ: ุงฺฏุฑ ฺฉ ฺฏุฑู ูุงูุฏ ุญุฐู ุดูุฏุ ฺฏุฑูโูุง ูุฑุฒูุฏ ุขู ูุฒ ุจุงุฏ ุญุฐู ุดููุฏ. ุงูุงุ ฺฉ ูุฑุฒูุฏ ูุจุงุฏ ูุงูฺฉ ูุงูุฏุด ุจุงุดุฏ: ุงฺฏุฑ ฺฉ ฺฏุฑู ูุฑุฒูุฏ ุญุฐู ุดูุฏุ ูุงูุฏ ุจุงุฏ ููฺูุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุงู ููุฑุฏ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงุฑุฌุงุนุงุช ุถุนู (weak references) ููุงุณุจ ุงุณุช!</p>
<p>ุจูุงุจุฑุงูุ ุจู ุฌุง <code>Rc&lt;T&gt;</code>ุ ููุน <code>parent</code> ุฑุง ุงุฒ ููุน <code>Weak&lt;T&gt;</code> ุงูุชุฎุงุจ ูโฺฉููุ ุจู ุทูุฑ ุฎุงุต ฺฉ <code>RefCell&lt;Weak&lt;Node&gt;&gt;</code>. ุงฺฉููู ุชุนุฑู ุณุงุฎุชุงุฑ <code>Node</code> ูุง ุจู ุงู ุดฺฉู ุงุณุช:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">use std::cell::RefCell;
use std::rc::{Rc, Weak};

#[derive(Debug)]
struct Node {
    value: i32,
    parent: RefCell&lt;Weak&lt;Node&gt;&gt;,
    children: RefCell&lt;Vec&lt;Rc&lt;Node&gt;&gt;&gt;,
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let leaf = Rc::new(Node {
</span><span class="boring">        value: 3,
</span><span class="boring">        parent: RefCell::new(Weak::new()),
</span><span class="boring">        children: RefCell::new(vec![]),
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    println!("leaf parent = {:?}", leaf.parent.borrow().upgrade());
</span><span class="boring">
</span><span class="boring">    let branch = Rc::new(Node {
</span><span class="boring">        value: 5,
</span><span class="boring">        parent: RefCell::new(Weak::new()),
</span><span class="boring">        children: RefCell::new(vec![Rc::clone(&amp;leaf)]),
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    *leaf.parent.borrow_mut() = Rc::downgrade(&amp;branch);
</span><span class="boring">
</span><span class="boring">    println!("leaf parent = {:?}", leaf.parent.borrow().upgrade());
</span><span class="boring">}</span></code></pre></pre>
<p>ฺฉ ฺฏุฑู ูุงุฏุฑ ุฎูุงูุฏ ุจูุฏ ุจู ฺฏุฑู ูุงูุฏ ุฎูุฏ ุงุฑุฌุงุน ุฏูุฏ ุงูุง ูุงูฺฉ ูุงูุฏ ูุฎูุงูุฏ ุจูุฏ. ุฏุฑ ููุฑุณุช 15-28ุ ูุง ุชุงุจุน <code>main</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ุงุฒ ุงู ุชุนุฑู ุฌุฏุฏ ุงุณุชูุงุฏู ฺฉููุ ุจูโุทูุฑ ฺฉู ฺฏุฑู <code>leaf</code> ุฑุงู ุจุฑุง ุงุฑุฌุงุน ุจู ูุงูุฏ ุฎูุฏุ <code>branch</code>ุ ุฏุงุดุชู ุจุงุดุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use std::cell::RefCell;
</span><span class="boring">use std::rc::{Rc, Weak};
</span><span class="boring">
</span><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Node {
</span><span class="boring">    value: i32,
</span><span class="boring">    parent: RefCell&lt;Weak&lt;Node&gt;&gt;,
</span><span class="boring">    children: RefCell&lt;Vec&lt;Rc&lt;Node&gt;&gt;&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let leaf = Rc::new(Node {
        value: 3,
        parent: RefCell::new(Weak::new()),
        children: RefCell::new(vec![]),
    });

    println!("leaf parent = {:?}", leaf.parent.borrow().upgrade());

    let branch = Rc::new(Node {
        value: 5,
        parent: RefCell::new(Weak::new()),
        children: RefCell::new(vec![Rc::clone(&amp;leaf)]),
    });

    *leaf.parent.borrow_mut() = Rc::downgrade(&amp;branch);

    println!("leaf parent = {:?}", leaf.parent.borrow().upgrade());
}</code></pre></pre>
<figcaption>Listing 15-28: ฺฉ ฺฏุฑู <code>leaf</code> ุจุง ฺฉ ุงุฑุฌุงุน ุถุนู ุจู ฺฏุฑู ูุงูุฏ ุฎูุฏ <code>branch</code></figcaption>
</figure>
<p>ุงุฌุงุฏ ฺฏุฑู <code>leaf</code> ูุดุงุจู ููุฑุณุช 15-27 ุงุณุช ุจุง ุงู ุชูุงูุช ฺฉู ููุฏ <code>parent</code>: <code>leaf</code> ุงุจุชุฏุง ุจุฏูู ูุงูุฏ ุดุฑูุน ูโุดูุฏุ ุจูุงุจุฑุงู ฺฉ ููููู ุฌุฏุฏ ู ุฎุงู ุงุฒ ุงุฑุฌุงุน <code>Weak&lt;Node&gt;</code> ุงุฌุงุฏ ูโฺฉูู.</p>
<p>ุฏุฑ ุงู ูุฑุญููุ ููุช ุณุน ูโฺฉูู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>upgrade</code> ุจู ูุงูุฏ ฺฏุฑู <code>leaf</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ฺฉ ููุฏุงุฑ <code>None</code> ุฏุฑุงูุช ูโฺฉูู. ุงู ููุฑุฏ ุฑุง ุฏุฑ ุฎุฑูุฌ ุงููู ุฏุณุชูุฑ <code>println!</code> ูุดุงูุฏู ูโฺฉูู:</p>
<pre><code class="language-text">leaf parent = None
</code></pre>
<p>ููุช ฺฏุฑู <code>branch</code> ุฑุง ุงุฌุงุฏ ูโฺฉููุ ุขู ูุฒ ฺฉ ุงุฑุฌุงุน ุฌุฏุฏ <code>Weak&lt;Node&gt;</code> ุฏุฑ ููุฏ <code>parent</code> ุฎูุงูุฏ ุฏุงุดุชุ ุฒุฑุง <code>branch</code> ฺฏุฑู ูุงูุฏ ูุฏุงุฑุฏ. ููฺูุงู ฺฏุฑู <code>leaf</code> ุจูโุนููุงู ฺฉ ุงุฒ ูุฑุฒูุฏุงู <code>branch</code> ุงุณุช. ููุช ููููู <code>Node</code> ุฏุฑ <code>branch</code> ุฑุง ุฏุงุฑูุ ูโุชูุงูู <code>leaf</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ุจู ูุงูุฏ ุฎูุฏ ฺฉ ุงุฑุฌุงุน <code>Weak&lt;Node&gt;</code> ุจุฏูุฏ. ุงุฒ ูุชุฏ <code>borrow_mut</code> ุฑู <code>RefCell&lt;Weak&lt;Node&gt;&gt;</code> ุฏุฑ ููุฏ <code>parent</code> ุงุฒ <code>leaf</code> ุงุณุชูุงุฏู ูโฺฉูู ู ุณูพุณ ุงุฒ ุชุงุจุน <code>Rc::downgrade</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ุงุฑุฌุงุน <code>Weak&lt;Node&gt;</code> ุจู <code>branch</code> ุงุฒ <code>Rc&lt;Node&gt;</code> ุฏุฑ <code>branch</code> ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ููุช ูุงูุฏ ฺฏุฑู <code>leaf</code> ุฑุง ุฏูุจุงุฑู ฺุงูพ ูโฺฉููุ ุงู ุจุงุฑ ฺฉ ูุชุบุฑ <code>Some</code> ฺฉู <code>branch</code> ุฑุง
ูฺฏู ูโุฏุงุฑุฏ ุฏุฑุงูุช ูโฺฉูู: ุงฺฉููู <code>leaf</code> ูโุชูุงูุฏ ุจู ูุงูุฏ ุฎูุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ!
ููฺฏุงู ฺฉู <code>leaf</code> ุฑุง ฺุงูพ ูโฺฉููุ ููฺูู ุงุฒ ฺุฑุฎูโุง ฺฉู ููุงุชุงู ุจู ุณุฑุฑุฒ ุดุฏู ุงุณุชฺฉ
ูุงููุฏ ููุฑุณุช 15-26 ููุฌุฑ ูโุดุฏ ุงุฌุชูุงุจ ูโฺฉููุ ุงุฑุฌุงุนุงุช <code>Weak&lt;Node&gt;</code> ุจูโุตูุฑุช <code>(Weak)</code>
ฺุงูพ ูโุดููุฏ:</p>
<pre><code class="language-text">leaf parent = Some(Node { value: 5, parent: RefCell { value: (Weak) },
children: RefCell { value: [Node { value: 3, parent: RefCell { value: (Weak) },
children: RefCell { value: [] } }] } })
</code></pre>
<p>ูุจูุฏ ุฎุฑูุฌ ุจโููุงุช ูุดุงู ูโุฏูุฏ ฺฉู ุงู ฺฉุฏ ฺุฑุฎู ุงุฑุฌุงุน ุงุฌุงุฏ ูฺฉุฑุฏู ุงุณุช. ููฺูู ูโุชูุงูู
ุงู ุฑุง ุจุง ูุดุงูุฏู ููุงุฏุฑ ฺฉู ุงุฒ ูุฑุงุฎูุงู <code>Rc::strong_count</code> ู <code>Rc::weak_count</code>
ุฏุฑุงูุช ูโฺฉููุ ุชุฃุฏ ฺฉูู.</p>
<h4 id="ุชุฌุณู-ุชุบุฑุงุช-ุฏุฑ-strong_count-ู-weak_count"><a class="header" href="#ุชุฌุณู-ุชุบุฑุงุช-ุฏุฑ-strong_count-ู-weak_count">ุชุฌุณู ุชุบุฑุงุช ุฏุฑ <code>strong_count</code> ู <code>weak_count</code></a></h4>
<p>ุจุงุฏ ูฺฏุงู ุจูุฏุงุฒู ฺฉู ฺฺฏููู ููุงุฏุฑ <code>strong_count</code> ู <code>weak_count</code> ูููููโูุง
<code>Rc&lt;Node&gt;</code> ุจุง ุงุฌุงุฏ ฺฉ ุฏุงููู ุฏุงุฎู ุฌุฏุฏ ู ุงูุชูุงู ุงุฌุงุฏ <code>branch</code> ุจู ุขู ุฏุงููู ุชุบุฑ
ูโฺฉููุฏ. ุจุง ุงู ฺฉุงุฑุ ูโุชูุงูู ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ ููุช <code>branch</code> ุงุฌุงุฏ ู ุณูพุณ
ููฺฏุงู ุฎุงุฑุฌ ุดุฏู ุงุฒ ุฏุงููู ุญุฐู ูโุดูุฏ. ุชุบุฑุงุช ุฏุฑ ููุฑุณุช 15-29 ูุดุงู ุฏุงุฏู ุดุฏูโุงูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">use std::cell::RefCell;
</span><span class="boring">use std::rc::{Rc, Weak};
</span><span class="boring">
</span><span class="boring">#[derive(Debug)]
</span><span class="boring">struct Node {
</span><span class="boring">    value: i32,
</span><span class="boring">    parent: RefCell&lt;Weak&lt;Node&gt;&gt;,
</span><span class="boring">    children: RefCell&lt;Vec&lt;Rc&lt;Node&gt;&gt;&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let leaf = Rc::new(Node {
        value: 3,
        parent: RefCell::new(Weak::new()),
        children: RefCell::new(vec![]),
    });

    println!(
        "leaf strong = {}, weak = {}",
        Rc::strong_count(&amp;leaf),
        Rc::weak_count(&amp;leaf),
    );

    {
        let branch = Rc::new(Node {
            value: 5,
            parent: RefCell::new(Weak::new()),
            children: RefCell::new(vec![Rc::clone(&amp;leaf)]),
        });

        *leaf.parent.borrow_mut() = Rc::downgrade(&amp;branch);

        println!(
            "branch strong = {}, weak = {}",
            Rc::strong_count(&amp;branch),
            Rc::weak_count(&amp;branch),
        );

        println!(
            "leaf strong = {}, weak = {}",
            Rc::strong_count(&amp;leaf),
            Rc::weak_count(&amp;leaf),
        );
    }

    println!("leaf parent = {:?}", leaf.parent.borrow().upgrade());
    println!(
        "leaf strong = {}, weak = {}",
        Rc::strong_count(&amp;leaf),
        Rc::weak_count(&amp;leaf),
    );
}</code></pre></pre>
<figcaption>Listing 15-29: ุงุฌุงุฏ <code>branch</code> ุฏุฑ ฺฉ ุฏุงููู ุฏุงุฎู ู ุจุฑุฑุณ ุดูุงุฑุด ุงุฑุฌุงุนุงุช ูู ู ุถุนู</figcaption>
</figure>
<p>ูพุณ ุงุฒ ุงุฌุงุฏ <code>leaf</code>ุ <code>Rc&lt;Node&gt;</code> ุขู ุฏุงุฑุง ุดูุงุฑุด ูู 1 ู ุดูุงุฑุด ุถุนู 0 ุงุณุช. ุฏุฑ ุฏุงููู
ุฏุงุฎูุ ูุง <code>branch</code> ุฑุง ุงุฌุงุฏ ูโฺฉูู ู ุขู ุฑุง ุจุง <code>leaf</code> ูุฑุชุจุท ูโฺฉููุ ุฏุฑ ุงู ููุทู
ููุช ุดูุงุฑุดโูุง ุฑุง ฺุงูพ ูโฺฉููุ <code>Rc&lt;Node&gt;</code> ุฏุฑ <code>branch</code> ุฏุงุฑุง ุดูุงุฑุด ูู 1 ู ุดูุงุฑุด
ุถุนู 1 ุฎูุงูุฏ ุจูุฏ (ุจุฑุง <code>leaf.parent</code> ฺฉู ุจู <code>branch</code> ุจุง ฺฉ <code>Weak&lt;Node&gt;</code> ุงุดุงุฑู
ูโฺฉูุฏ). ููุช ุดูุงุฑุดโูุง ุฑุง ุฏุฑ <code>leaf</code> ฺุงูพ ูโฺฉููุ ูโุจูู ฺฉู ุดูุงุฑุด ูู ุขู 2 ุฎูุงูุฏ
ุจูุฏุ ุฒุฑุง <code>branch</code> ุงฺฉููู ฺฉ ฺฉููู ุงุฒ <code>Rc&lt;Node&gt;</code> ุฏุฑ <code>leaf</code> ฺฉู ุฏุฑ <code>branch.children</code>
ุฐุฎุฑู ุดุฏู ุงุณุชุ ุฏุงุฑุฏุ ุงูุง ููฺูุงู ุดูุงุฑุด ุถุนู 0 ุฎูุงูุฏ ุจูุฏ.</p>
<p>ููุช ุฏุงููู ุฏุงุฎู ุจู ูพุงุงู ูโุฑุณุฏุ <code>branch</code> ุงุฒ ุฏุงููู ุฎุงุฑุฌ ูโุดูุฏ ู ุดูุงุฑุด ูู
<code>Rc&lt;Node&gt;</code> ุจู 0 ฺฉุงูุด ูโุงุจุฏุ ุจูุงุจุฑุงู <code>Node</code> ุขู ุญุฐู ูโุดูุฏ. ุดูุงุฑุด ุถุนู 1 ุงุฒ
<code>leaf.parent</code> ุชุฃุซุฑ ุจุฑ ุงูฺฉู ุขุง <code>Node</code> ุญุฐู ูโุดูุฏ ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ูฺ ูุดุช
ุญุงูุธูโุง ูุฎูุงูู ุฏุงุดุช!</p>
<p>ุงฺฏุฑ ุณุน ฺฉูู ูพุณ ุงุฒ ูพุงุงู ุฏุงููู ุจู ูุงูุฏ <code>leaf</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ุฏูุจุงุฑู ููุฏุงุฑ
<code>None</code> ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ. ุฏุฑ ูพุงุงู ุจุฑูุงููุ <code>Rc&lt;Node&gt;</code> ุฏุฑ <code>leaf</code> ุฏุงุฑุง ุดูุงุฑุด ูู 1
ู ุดูุงุฑุด ุถุนู 0 ุงุณุชุ ุฒุฑุง ูุชุบุฑ <code>leaf</code> ุงฺฉููู ุชููุง ุงุฑุฌุงุน ุจู <code>Rc&lt;Node&gt;</code> ุงุณุช.</p>
<p>ุชูุงู ููุทู ูุฏุฑุช ุดูุงุฑุดโูุง ู ุญุฐู ููุฏุงุฑ ุฏุฑูู <code>Rc&lt;T&gt;</code> ู <code>Weak&lt;T&gt;</code> ู ูพุงุฏูโุณุงุฒโูุง
ูฺฺฏ <code>Drop</code> ุขูโูุง ุชุนุจู ุดุฏู ุงุณุช. ุจุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ุฑุงุจุทู ุงุฒ ฺฉ ูุฑุฒูุฏ ุจู ูุงูุฏ
ุขู ุจุงุฏ ฺฉ ุงุฑุฌุงุน <code>Weak&lt;T&gt;</code> ุจุงุดุฏ ุฏุฑ ุชุนุฑู <code>Node</code>ุ ูโุชูุงูุฏ ฺฏุฑูโูุง ูุงูุฏ ุฑุง
ุจู ฺฏุฑูโูุง ูุฑุฒูุฏ ู ุจุงูุนฺฉุณ ุงุฑุฌุงุน ุฏูุฏ ุจุฏูู ุงุฌุงุฏ ฺฉ ฺุฑุฎู ุงุฑุฌุงุน ู ูุดุช ุญุงูุธู.</p>
<h2 id="ุฎูุงุตู-14"><a class="header" href="#ุฎูุงุตู-14">ุฎูุงุตู</a></h2>
<p>ุงู ูุตู ูุญูู ุงุณุชูุงุฏู ุงุฒ ุงุณูุงุฑุช ูพููุชุฑูุง ุจุฑุง ุงุฑุงุฆู ุชุถููโูุง ู ูุจุงุฏูุงุช ูุชูุงูุช
ุงุฒ ุขูฺู ฺฉู ุฑุงุณุช ุจู ุทูุฑ ูพุดโูุฑุถ ุจุง ุงุฑุฌุงุนโูุง ูุนููู ุงุฑุงุฆู ูโุฏูุฏ ุฑุง ูพูุดุด ุฏุงุฏ.
ููุน <code>Box&lt;T&gt;</code> ุฏุงุฑุง ุงูุฏุงุฒู ูุดุฎุต ุงุณุช ู ุจู ุฏุงุฏูโูุง ุชุฎุตุตโุงูุชู ุฏุฑ heap ุงุดุงุฑู ูโฺฉูุฏ.
ููุน <code>Rc&lt;T&gt;</code> ุชุนุฏุงุฏ ุงุฑุฌุงุนโูุง ุจู ุฏุงุฏูโูุง ุฏุฑ heap ุฑุง ูพฺฏุฑ ูโฺฉูุฏ ุชุง ุฏุงุฏูโูุง ุจุชูุงููุฏ
ฺูุฏู ูุงูฺฉ ุฏุงุดุชู ุจุงุดูุฏ. ููุน <code>RefCell&lt;T&gt;</code> ุจุง ุชุบุฑูพุฐุฑ ุฏุงุฎู ุฎูุฏ ุจู ูุง ููุน
ูโุฏูุฏ ฺฉู ูโุชูุงูู ุฒูุงู ฺฉู ุจู ฺฉ ููุน ุบุฑูุงุจูโุชุบุฑ ูุงุฒ ุฏุงุฑู ุงูุง ุจุงุฏ ููุฏุงุฑ
ุฏุฑูู ุขู ููุน ุฑุง ุชุบุฑ ุฏููุ ุงุณุชูุงุฏู ฺฉููุ ููฺูู ููุงูู ูุงูโุฏู ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง
ุจู ุฌุง ุฒูุงู ฺฉุงููพุงู ุงุนูุงู ูโฺฉูุฏ.</p>
<p>ููฺููุ ูฺฺฏโูุง <code>Deref</code> ู <code>Drop</code> ฺฉู ุจุณุงุฑ ุงุฒ ูุงุจูุชโูุง ุงุณูุงุฑุช ูพููุชุฑูุง ุฑุง
ููฺฉู ูโุณุงุฒูุฏุ ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชูุฏ. ูุง ฺุฑุฎูโูุง ุงุฑุฌุงุน ฺฉู ูโุชูุงููุฏ ุจุงุนุซ
ูุดุช ุญุงูุธู ุดููุฏ ู ูุญูู ุฌููฺฏุฑ ุงุฒ ุขูโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Weak&lt;T&gt;</code> ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู.</p>
<p>ุงฺฏุฑ ุงู ูุตู ุนูุงูู ุดูุง ุฑุง ุจุฑุงูฺฏุฎุชู ู ูโุฎูุงูุฏ ุงุณูุงุฑุช ูพููุชุฑูุง ุฎูุฏ ุฑุง ูพุงุฏูโุณุงุฒ
ฺฉูุฏุ ุจู <a href="../nomicon/index.html">โThe Rustonomiconโ</a> ุจุฑุง ุงุทูุงุนุงุช ููุฏ ุจุดุชุฑ ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุฏุฑ ูุตู ุจุนุฏุ ุฏุฑุจุงุฑู ููุฒูุงู (concurrency) ุฏุฑ ุฑุงุณุช ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุญุช ุจุง
ฺูุฏ ุงุณูุงุฑุช ูพููุชุฑ ุฌุฏุฏ ูุฒ ุขุดูุง ุฎูุงูุฏ ุดุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ููุฒูุงู-ุจุฏูู-ุชุฑุณ"><a class="header" href="#ููุฒูุงู-ุจุฏูู-ุชุฑุณ">ููุฒูุงู ุจุฏูู ุชุฑุณ</a></h1>
<p>ูุฏุฑุช ุจุฑูุงููโููุณ ููุฒูุงู ุจู ุตูุฑุช ุงูู ู ฺฉุงุฑุขูุฏ ฺฉ ุงุฒ ุงูุฏุงู ุงุตู Rust ุงุณุช. <em>ุจุฑูุงููโููุณ ููุฒูุงู</em>ุ ุฌุง ฺฉู ุจุฎุดโูุง ูุฎุชูู ฺฉ ุจุฑูุงูู ุจู ุตูุฑุช ูุณุชูู ุงุฌุฑุง ูโุดููุฏุ ู <em>ุจุฑูุงููโููุณ ููุงุฒ</em>ุ ุฌุง ฺฉู ุจุฎุดโูุง ูุฎุชูู ฺฉ ุจุฑูุงูู ุจู ุตูุฑุช ููุฒูุงู ุงุฌุฑุง ูโุดููุฏุ ุฏุฑ ุญุงู ุชุจุฏู ุดุฏู ุจู ุฌูุจูโูุง ูุฒุงูุฏูโุง ููู ูุณุชูุฏ ุฒุฑุง ุชุนุฏุงุฏ ุจุดุชุฑ ุงุฒ ฺฉุงููพูุชุฑูุง ุงุฒ ูพุฑุฏุงุฒูุฏูโูุง ฺูุฏฺฏุงูู ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ. ุจู ุทูุฑ ุชุงุฑุฎุ ุจุฑูุงููโููุณ ุฏุฑ ุงู ุฒูููโูุง ุณุฎุช ู ูุณุชุนุฏ ุฎุทุง ุจูุฏู ุงุณุช: Rust ุงูุฏูุงุฑ ุงุณุช ุงู ููุถูุน ุฑุง ุชุบุฑ ุฏูุฏ.</p>
<p>ุฏุฑ ุงุจุชุฏุงุ ุชู Rust ูฺฉุฑ ูโฺฉุฑุฏ ฺฉู ุชุถูู ุงูู ุญุงูุธู ู ุฌููฺฏุฑ ุงุฒ ูุดฺฉูุงุช ููุฒูุงู ุฏู ฺุงูุด ุฌุฏุงฺฏุงูู ูุณุชูุฏ ฺฉู ุจุงุฏ ุจุง ุฑูุดโูุง ูุชูุงูุช ุญู ุดููุฏ. ุจุง ฺฏุฐุดุช ุฒูุงูุ ุชู ุฏุฑุงูุช ฺฉู ุณุณุชูโูุง ูุงูฺฉุช ู ููุน ูุฌููุนูโุง ูุฏุฑุชููุฏ ุงุฒ ุงุจุฒุงุฑูุง ูุณุชูุฏ ฺฉู ุจู ูุฏุฑุช ุงูู ุญุงูุธู <em>ู</em> ูุดฺฉูุงุช ููุฒูุงู ฺฉูฺฉ ูโฺฉููุฏ! ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงูฺฉุช ู ุจุฑุฑุณ ููุนุ ุจุณุงุฑ ุงุฒ ุฎุทุงูุง ููุฒูุงู ุฏุฑ Rust ุจู ุฌุง ุฎุทุงูุง ุฒูุงู ุงุฌุฑุงุ ุจู ุฎุทุงูุง ุฒูุงู ฺฉุงููพุงู ุชุจุฏู ูโุดููุฏ. ุจูุงุจุฑุงูุ ุจู ุฌุง ุงูฺฉู ููุช ุฒุงุฏ ุฑุง ุตุฑู ุจุงุฒุชููุฏ ุฏูู ุดุฑุงุท ฺฉูุฏ ฺฉู ุฏุฑ ุขู ฺฉ ุฎุทุง ููุฒูุงู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฑุฎ ูโุฏูุฏุ ฺฉุฏ ูุงุฏุฑุณุช ุงุฒ ฺฉุงููพุงู ุฎูุฏุฏุงุฑ ฺฉุฑุฏู ู ฺฉ ุฎุทุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ูุดฺฉู ุฑุง ุชูุถุญ ูโุฏูุฏ. ุฏุฑ ูุชุฌูุ ูโุชูุงูุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุฏุฑ ุญู ฺฉุงุฑ ุฑู ุขู ุจุฑุทุฑู ฺฉูุฏุ ุจู ุฌุง ุงูฺฉู ุงุญุชูุงูุงู ุจุนุฏ ุงุฒ ุงุฑุณุงู ุขู ุจู ุชููุฏ. ูุง ุงู ุฌูุจู ุงุฒ Rust ุฑุง <em>ููุฒูุงู ุจุฏูู ุชุฑุณ</em> ูุงูุฏูโุงู. ููุฒูุงู ุจุฏูู ุชุฑุณ ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉุฏ ุจููุณุฏ ฺฉู ุจุฏูู ุจุงฺฏโูุง ุธุฑู ุจุงุดุฏ ู ุจู ุฑุงุญุช ุจุงุฒุณุงุฒ ุดูุฏ ุจุฏูู ุงูฺฉู ุจุงฺฏโูุง ุฌุฏุฏ ูุนุฑู ฺฉูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุจุฑุง ุณุงุฏฺฏุ ูุง ุจู ุจุณุงุฑ ุงุฒ ูุดฺฉูุงุช ุจู ุนููุงู <em>ููุฒูุงู</em> ุงุดุงุฑู ุฎูุงูู ฺฉุฑุฏ ุจู ุฌุง ุงูฺฉู ุฏููโุชุฑ ุจฺฏูู <em>ููุฒูุงู ู/ุง ููุงุฒ</em>. ุงฺฏุฑ ุงู ฺฉุชุงุจ ุฏุฑุจุงุฑู ููุฒูุงู ู/ุง ููุงุฒ ุจูุฏู ุจูุฏุ ุฏููโุชุฑ ุจูุฏู. ุจุฑุง ุงู ูุตูุ ูุทูุงู ูุฑ ุฌุง ฺฉู ุงุฒ <em>ููุฒูุงู</em> ุงุณุชูุงุฏู ูโฺฉููุ ุจู ุตูุฑุช ุฐูู <em>ููุฒูุงู ู/ุง ููุงุฒ</em> ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ.</p>
</blockquote>
<p>ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุฏุฑุจุงุฑู ุฑุงูโุญูโูุง ฺฉู ุจุฑุง ูุฏุฑุช ูุดฺฉูุงุช ููุฒูุงู ุงุฑุงุฆู ูโุฏููุฏ ุจุณุงุฑ ุฏฺฏูุงุชฺฉ ูุณุชูุฏ. ุจุฑุง ูุซุงูุ Erlang ุนููฺฉุฑุฏ ุฒุจุง ู ฺฉุงุฑุขูุฏ ุจุฑุง ููุฒูุงู ูุจุชู ุจุฑ ูพุงูโุฑุณุงู ุงุฑุงุฆู ูโุฏูุฏ ุงูุง ููุท ุฑูุดโูุง ูพฺุฏูโุง ุจุฑุง ุงุดุชุฑุงฺฉ ูุถุนุช ุจู ูุฎโูุง ุฏุงุฑุฏ. ูพุดุชุจุงู ุงุฒ ฺฉ ุฒุฑูุฌููุนู ุงุฒ ุฑุงูโุญูโูุง ููฺฉู ฺฉ ุงุณุชุฑุงุชฺ ููุทู ุจุฑุง ุฒุจุงูโูุง ุณุทุญ ุจุงูุง ุงุณุชุ ุฒุฑุง ฺฉ ุฒุจุงู ุณุทุญ ุจุงูุง ูุนุฏูโูุง ุฏุฑ ุงุฒุง ุงุฒ ุฏุณุช ุฏุงุฏู ุจุฎุด ุงุฒ ฺฉูุชุฑู ุจุฑุง ุจู ุฏุณุช ุขูุฑุฏู ุงูุชุฒุงุนโูุง ุงุฑุงุฆู ูโุฏูุฏ. ุจุง ุงู ุญุงูุ ุงุฒ ุฒุจุงูโูุง ุณุทุญ ูพุงู ุงูุชุธุงุฑ ูโุฑูุฏ ฺฉู ุจูุชุฑู ุฑุงูโุญู ุฑุง ุจุฑุง ูุฑ ูุถุนุช ุฎุงุต ุจุง ุจูุชุฑู ุนููฺฉุฑุฏ ุงุฑุงุฆู ุฏููุฏ ู ุงูุชุฒุงุน ฺฉูุชุฑ ูุณุจุช ุจู ุณุฎุชโุงูุฒุงุฑ ุฏุงุดุชู ุจุงุดูุฏ. ุจูุงุจุฑุงูุ Rust ูุฌููุนูโุง ุงุฒ ุงุจุฒุงุฑูุง ุฑุง ุจุฑุง ูุฏูโุณุงุฒ ูุดฺฉูุงุช ุฏุฑ ูุฑ ุฑุงู ฺฉู ุจุฑุง ูุถุนุช ู ูุงุฒูุง ุดูุง ููุงุณุจ ุจุงุดุฏุ ุงุฑุงุฆู ูโุฏูุฏ.</p>
<p>ููุถูุนุงุช ฺฉู ุฏุฑ ุงู ูุตู ูพูุดุด ุฎูุงูู ุฏุงุฏ ุนุจุงุฑุชโุงูุฏ ุงุฒ:</p>
<div dir="rtl">
    <ul>
        <li>ูุญูู ุงุฌุงุฏ ูุฎโูุง ุจุฑุง ุงุฌุฑุง ููุฒูุงู ฺูุฏู ุจุฎุด ุงุฒ ฺฉุฏ</li>
        <li>ููุฒูุงู <em>ูพุงูโุฑุณุงู</em>ุ ุฌุง ฺฉู ฺฉุงูุงูโูุง ูพุงูโูุง ุฑุง ุจู ูุฎโูุง ุงุฑุณุงู ูโฺฉููุฏ</li>
        <li>ููุฒูุงู <em>ุญุงูุช ุงุดุชุฑุงฺฉ</em>ุ ุฌุง ฺฉู ฺูุฏู ูุฎ ุจู ุจุฎุด ุงุฒ ุฏุงุฏู ุฏุณุชุฑุณ ุฏุงุฑูุฏ</li>
        <li>ุตูุงุช <code>Sync</code> ู <code>Send</code>ุ ฺฉู ุชุถููโูุง ููุฒูุงู Rust ุฑุง ุจู ุงููุงุน ุชุนุฑูโุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ ู ููฺูู ุงููุงุน ุงุฑุงุฆูโุดุฏู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฏุณุชุฑุด ูโุฏููุฏ</li>
    </ul>
</div>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุณุชูุงุฏู-ุงุฒ-ูุฎูุง-ุจุฑุง-ุงุฌุฑุง-ููุฒูุงู-ฺฉุฏ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ูุฎูุง-ุจุฑุง-ุงุฌุฑุง-ููุฒูุงู-ฺฉุฏ">ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง ุจุฑุง ุงุฌุฑุง ููุฒูุงู ฺฉุฏ</a></h2>
<p>ุฏุฑ ุจุดุชุฑ ุณุณุชูโุนุงููโูุง ูุฏุฑูุ ฺฉุฏ ฺฉู ฺฉ ุจุฑูุงูู ุงุฌุฑุง ูโฺฉูุฏ ุฏุฑ ฺฉ <em>ูุฑุงูุฏ</em> ุงุฌุฑุง ูโุดูุฏ ู ุณุณุชูโุนุงูู ุจู ุทูุฑ ููุฒูุงู ฺูุฏู ูุฑุงูุฏ ุฑุง ูุฏุฑุช ูโฺฉูุฏ. ุฏุฑ ฺฉ ุจุฑูุงููุ ุดูุง ููฺูู ูโุชูุงูุฏ ุจุฎุดโูุง ูุณุชูู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจู ุตูุฑุช ููุฒูุงู ุงุฌุฑุง ุดููุฏ. ูฺฺฏโูุง ฺฉู ุงู ุจุฎุดโูุง ูุณุชูู ุฑุง ุงุฌุฑุง ูโฺฉููุฏ <em>ูุฎโูุง</em> ูุงูุฏู ูโุดููุฏ. ุจุฑุง ูุซุงูุ ฺฉ ุณุฑูุฑ ูุจ ูโุชูุงูุฏ ฺูุฏู ูุฎ ุฏุงุดุชู ุจุงุดุฏ ุชุง ุจุชูุงูุฏ ุจู ุจุด ุงุฒ ฺฉ ุฏุฑุฎูุงุณุช ุจู ุทูุฑ ููุฒูุงู ูพุงุณุฎ ุฏูุฏ.</p>
<p>ุชูุณู ูุญุงุณุจุงุช ุฏุฑ ุจุฑูุงูู ุดูุง ุจู ฺูุฏู ูุฎ ุจุฑุง ุงุฌุฑุง ฺูุฏู ฺฉุงุฑ ุจู ุทูุฑ ููุฒูุงู ูโุชูุงูุฏ ุนููฺฉุฑุฏ ุฑุง ุจูุจูุฏ ุจุฎุดุฏุ ุงูุง ููฺูู ูพฺุฏฺฏ ุฑุง ุงูุฒุงุด ูโุฏูุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุฎโูุง ูโุชูุงููุฏ ุจู ุทูุฑ ููุฒูุงู ุงุฌุฑุง ุดููุฏุ ูฺ ุชุถูู ุจุฑุง ุชุฑุชุจ ุงุฌุฑุง ุจุฎุดโูุง ฺฉุฏ ุฏุฑ ูุฎโูุง ูุฎุชูู ูุฌูุฏ ูุฏุงุฑุฏ. ุงู ููุถูุน ูโุชูุงูุฏ ุจู ูุดฺฉูุงุช ููุฌุฑ ุดูุฏุ ูุงููุฏ:</p>
<ul>
<li>ุดุฑุงุท ุฑูุงุจุช (Race conditions)ุ ุฌุง ฺฉู ูุฎโูุง ุฏุงุฏูโูุง ุง ููุงุจุน ุฑุง ุจู ุชุฑุชุจ ูุงุณุงุฒฺฏุงุฑ ุฏุณุชุฑุณ ุฏุงุฑูุฏ</li>
<li>ุจูโุจุณุชโูุง (Deadlocks)ุ ุฌุง ฺฉู ุฏู ูุฎ ููุชุธุฑ ฺฉุฏฺฏุฑ ูุณุชูุฏ ู ูุงูุน ุงุฒ ุงุฏุงูู ฺฉุงุฑ ูุฑ ุฏู ูุฎ ูโุดููุฏ</li>
<li>ุจุงฺฏโูุง ฺฉู ููุท ุฏุฑ ุดุฑุงุท ุฎุงุต ุฑุฎ ูโุฏููุฏ ู ุจู ุณุฎุช ูุงุจู ุจุงุฒุชููุฏ ู ุฑูุน ูุณุชูุฏ</li>
</ul>
<p>Rust ุชูุงุด ูโฺฉูุฏ ุงุซุฑุงุช ููู ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง ุฑุง ฺฉุงูุด ุฏูุฏุ ุงูุง ุจุฑูุงููโููุณ ุฏุฑ ฺฉ ุฒููู ฺูุฏูุฎ ููฺูุงู ูุงุฒ ุจู ุชูฺฉุฑ ุฏูู ู ุณุงุฎุชุงุฑ ูุชูุงูุช ุงุฒ ุจุฑูุงููโูุง ุชฺฉโูุฎ ุฏุงุฑุฏ.</p>
<p>ุฒุจุงูโูุง ุจุฑูุงููโููุณ ูุฎโูุง ุฑุง ุจู ฺูุฏู ุฑูุด ูุฎุชูู ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ู ุจุณุงุฑ ุงุฒ ุณุณุชูโุนุงููโูุง APIโูุง ุงุฑุงุฆู ูโุฏููุฏ ฺฉู ุฒุจุงู ูโุชูุงูุฏ ุจุฑุง ุงุฌุงุฏ ูุฎโูุง ุฌุฏุฏ ูุฑุงุฎูุงู ฺฉูุฏ. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ุงุฒ ฺฉ ูุฏู ูพุงุฏูโุณุงุฒ ูุฎ <em>1:1</em> ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจู ุงู ูุนูุง ฺฉู ุจุฑูุงูู ฺฉ ูุฎ ุณุณุชูโุนุงูู ุจู ุงุฒุง ูุฑ ูุฎ ุฒุจุงู ุงุณุชูุงุฏู ูโฺฉูุฏ. ุฌุนุจูโูุง (crates) ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ูุฏูโูุง ุฏฺฏุฑ ูุฎ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ู ูุจุงุฏููโูุง ูุชูุงูุช ูุณุจุช ุจู ูุฏู 1:1 ุงุฑุงุฆู ูโุฏููุฏ. (ุณุณุชู async ุฏุฑ Rustุ ฺฉู ุฏุฑ ูุตู ุจุนุฏ ุขู ุฑุง ุฎูุงูู ุฏุฏุ ุฑูุด ุฏฺฏุฑ ุจุฑุง ููุฒูุงู ุงุฑุงุฆู ูโุฏูุฏ.)</p>
<h3 id="ุงุฌุงุฏ-ฺฉ-ูุฎ-ุฌุฏุฏ-ุจุง-spawn"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-ูุฎ-ุฌุฏุฏ-ุจุง-spawn">ุงุฌุงุฏ ฺฉ ูุฎ ุฌุฏุฏ ุจุง <code>spawn</code></a></h3>
<p>ุจุฑุง ุงุฌุงุฏ ฺฉ ูุฎ ุฌุฏุฏุ ุชุงุจุน <code>thread::spawn</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ู ฺฉ closure (ฺฉู ุฏุฑ ูุตู 13 ุฏุฑ ููุฑุฏ ุขู ุตุญุจุช ฺฉุฑุฏู) ุดุงูู ฺฉุฏ ฺฉู ูโุฎูุงูู ุฏุฑ ูุฎ ุฌุฏุฏ ุงุฌุฑุง ฺฉููุ ุจู ุขู ูพุงุณ ูโุฏูู. ูุซุงู ุฏุฑ ูุณุชูฺฏ 16-1 ูุชู ุฑุง ุงุฒ ูุฎ ุงุตู ู ูุชู ุฏฺฏุฑ ุฑุง ุงุฒ ฺฉ ูุฎ ุฌุฏุฏ ฺุงูพ ูโฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::thread;
use std::time::Duration;

fn main() {
    thread::spawn(|| {
        for i in 1..10 {
            println!("hi number {i} from the spawned thread!");
            thread::sleep(Duration::from_millis(1));
        }
    });

    for i in 1..5 {
        println!("hi number {i} from the main thread!");
        thread::sleep(Duration::from_millis(1));
    }
}</code></pre></pre>
<figcaption>Listing 16-1: ุงุฌุงุฏ ฺฉ ูุฎ ุฌุฏุฏ ุจุฑุง ฺุงูพ ฺฉ ฺุฒ ุฏุฑ ุญุงู ฺฉู ูุฎ ุงุตู ฺุฒ ุฏฺฏุฑ ฺุงูพ ูโฺฉูุฏ</figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุช ูุฎ ุงุตู ฺฉ ุจุฑูุงูู Rust ุชฺฉูู ูโุดูุฏุ ุชูุงู ูุฎโูุง ุงุฌุงุฏุดุฏู ูุชููู ูโุดููุฏุ ฺู ุขูโูุง ุงุฌุฑุง ุฎูุฏ ุฑุง ุชฺฉูู ฺฉุฑุฏู ุจุงุดูุฏ ุง ูู. ุฎุฑูุฌ ุงู ุจุฑูุงูู ููฺฉู ุงุณุช ูุฑ ุจุงุฑ ฺฉู ูุชูุงูุช ุจุงุดุฏุ ุงูุง ุจู ุตูุฑุช ูุดุงุจู ุฒุฑ ุฎูุงูุฏ ุจูุฏ:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">hi number 1 from the main thread!
hi number 1 from the spawned thread!
hi number 2 from the main thread!
hi number 2 from the spawned thread!
hi number 3 from the main thread!
hi number 3 from the spawned thread!
hi number 4 from the main thread!
hi number 4 from the spawned thread!
hi number 5 from the spawned thread!
</code></pre>
<p>ูุฑุงุฎูุงูโูุง <code>thread::sleep</code> ุจุงุนุซ ูโุดููุฏ ฺฉ ูุฎ ุงุฌุฑุง ุฎูุฏ ุฑุง ุจุฑุง ูุฏุช ฺฉูุชุงู ูุชููู ฺฉูุฏ ู ุจู ูุฎ ุฏฺฏุฑ ุงุฌุงุฒู ุงุฌุฑุง ุฏูุฏ. ุงุญุชูุงูุงู ูุฎโูุง ููุจุช ุงุฌุฑุง ูโุดููุฏุ ุงูุง ุงู ููุถูุน ุชุถููโุดุฏู ูุณุช: ุจู ูุญูู ุฒูุงูโุจูุฏ ูุฎโูุง ุชูุณุท ุณุณุชูโุนุงูู ุดูุง ุจุณุชฺฏ ุฏุงุฑุฏ. ุฏุฑ ุงู ุงุฌุฑุง ุจุฑูุงููุ ูุฎ ุงุตู ุงุจุชุฏุง ฺุงูพ ฺฉุฑุฏุ ุญุช ุจุง ุงูฺฉู ุฏุณุชูุฑ ฺุงูพ ุงุฒ ูุฎ ุงุฌุงุฏุดุฏู ุฏุฑ ฺฉุฏ ุงุจุชุฏุง ุธุงูุฑ ูโุดูุฏ. ู ุจุง ุงูฺฉู ุจู ูุฎ ุงุฌุงุฏุดุฏู ฺฏูุชู ุชุง ุฒูุงู ฺฉู ููุฏุงุฑ <code>i</code> ุจู 9 ุจุฑุณุฏ ฺุงูพ ฺฉูุฏุ ููุท ุชุง ููุฏุงุฑ 5 ุฑุณุฏ ูุจู ุงุฒ ุงูฺฉู ูุฎ ุงุตู ุฎุงููุด ุดูุฏ.</p>
<p>ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉุฑุฏุฏ ู ููุท ุฎุฑูุฌ ูุฎ ุงุตู ุฑุง ุฏุฏุฏ ุง ูฺ ุชุฏุงุฎู ุฒูุงู ูุดุงูุฏู ูฺฉุฑุฏุฏุ ุณุน ฺฉูุฏ ุงุนุฏุงุฏ ููุฌูุฏ ุฏุฑ ุจุงุฒูโูุง ุฑุง ุงูุฒุงุด ุฏูุฏ ุชุง ูุฑุตุช ุจุดุชุฑ ุจุฑุง ุณุณุชูโุนุงูู ุงุฌุงุฏ ุดูุฏ ุชุง ุจู ูุฎโูุง ุฌุงุจูโุฌุง ุดูุฏ.</p>
<h3 id="ููุชุธุฑ-ูุงูุฏู-ุจุฑุง-ุชฺฉูู-ููู-ูุฎูุง-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-join-handles"><a class="header" href="#ููุชุธุฑ-ูุงูุฏู-ุจุฑุง-ุชฺฉูู-ููู-ูุฎูุง-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-join-handles">ููุชุธุฑ ูุงูุฏู ุจุฑุง ุชฺฉูู ููู ูุฎโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>join</code> Handles</a></h3>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-1 ูู ุชููุง ุจุดุชุฑ ุงููุงุช ูุฎ ุงุฌุงุฏุดุฏู ุฑุง ุจู ุฏูู ูพุงุงู ูุฎ ุงุตู ุฒูุฏุชุฑ ุงุฒ ููุนุฏ ูุชููู ูโฺฉูุฏุ ุจูฺฉู ุจู ุฏูู ุงูฺฉู ูฺ ุชุถูู ุจุฑุง ุชุฑุชุจ ุงุฌุฑุง ูุฎโูุง ูุฌูุฏ ูุฏุงุฑุฏุ ููโุชูุงูู ุงุทููุงู ุญุงุตู ฺฉูู ฺฉู ูุฎ ุงุฌุงุฏุดุฏู ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ!</p>
<p>ูโุชูุงูู ูุดฺฉู ุงุฌุฑุง ูุดุฏู ุง ูพุงุงู ุฒูุฏููฺฏุงู ูุฎ ุงุฌุงุฏุดุฏู ุฑุง ุจุง ุฐุฎุฑู ููุฏุงุฑ ุจุงุฒฺฏุดุช <code>thread::spawn</code> ุฏุฑ ฺฉ ูุชุบุฑ ุฑูุน ฺฉูู. ููุน ุจุงุฒฺฏุดุช <code>thread::spawn</code> ฺฉ <code>JoinHandle</code> ุงุณุช. ฺฉ <code>JoinHandle</code> ฺฉ ููุฏุงุฑ ูุงูฺฉุชโุฏุงุฑ ุงุณุช ฺฉู ููุช ูุชุฏ <code>join</code> ุฑุง ุฑู ุขู ูุฑุงุฎูุงู ูโฺฉููุ ููุชุธุฑ ูโูุงูุฏ ุชุง ูุฎ ูุฑุชุจุท ุจุง ุขู ุชฺฉูู ุดูุฏ. ูุณุชูฺฏ 16-2 ูุดุงู ูโุฏูุฏ ฺฺฏููู ุงุฒ <code>JoinHandle</code> ูุฎ ุงุฌุงุฏุดุฏู ุฏุฑ ูุณุชูฺฏ 16-1 ุงุณุชูุงุฏู ฺฉูู ู <code>join</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู ุชุง ูุทูุฆู ุดูู ูุฎ ุงุฌุงุฏุดุฏู ูุจู ุงุฒ ุฎุฑูุฌ <code>main</code> ุชฺฉูู ูโุดูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::thread;
use std::time::Duration;

fn main() {
    let handle = thread::spawn(|| {
        for i in 1..10 {
            println!("hi number {i} from the spawned thread!");
            thread::sleep(Duration::from_millis(1));
        }
    });

    for i in 1..5 {
        println!("hi number {i} from the main thread!");
        thread::sleep(Duration::from_millis(1));
    }

    handle.join().unwrap();
}</code></pre></pre>
<figcaption>Listing 16-2: ุฐุฎุฑู ฺฉ <code>JoinHandle</code> ุงุฒ <code>thread::spawn</code> ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ูุฎ ุชุง ูพุงุงู ุงุฌุฑุง ูโุดูุฏ</figcaption>
</figure>
<p>ูุฑุงุฎูุงู <code>join</code> ุฑู handle ูุฎ ุฌุงุฑ ุฑุง ูุณุฏูุฏ ูโฺฉูุฏ ุชุง ุฒูุงู ฺฉู ูุฎ ููุงุงูุฏูโุดุฏู ุชูุณุท handle ุฎุงุชูู ุงุจุฏ. <em>ูุณุฏูุฏ ฺฉุฑุฏู</em> ฺฉ ูุฎ ุจู ุงู ูุนูุงุณุช ฺฉู ุขู ูุฎ ุงุฒ ุงูุฌุงู ฺฉุงุฑ ุง ุฎุฑูุฌ ุฌููฺฏุฑ ูโุดูุฏ. ฺูู ูุฑุงุฎูุงู <code>join</code> ุฑุง ุจุนุฏ ุงุฒ ุญููู <code>for</code> ูุฎ ุงุตู ูุฑุงุฑ ุฏุงุฏูโุงูุ ุงุฌุฑุง ูุณุชูฺฏ 16-2 ุจุงุฏ ุฎุฑูุฌ ูุดุงุจู ุฒุฑ ุชููุฏ ฺฉูุฏ:</p>
<pre><code class="language-text">hi number 1 from the main thread!
hi number 2 from the main thread!
hi number 1 from the spawned thread!
hi number 3 from the main thread!
hi number 2 from the spawned thread!
hi number 4 from the main thread!
hi number 3 from the spawned thread!
hi number 4 from the spawned thread!
hi number 5 from the spawned thread!
hi number 6 from the spawned thread!
hi number 7 from the spawned thread!
hi number 8 from the spawned thread!
hi number 9 from the spawned thread!
</code></pre>
<p>ุฏู ูุฎ ููฺูุงู ุจู ุตูุฑุช ูุชูุงูุจ ุงุฌุฑุง ูโุดููุฏุ ุงูุง ูุฎ ุงุตู ุจู ุฏูู ูุฑุงุฎูุงู <code>handle.join()</code> ููุชุธุฑ ูโูุงูุฏ ู ุชุง ุฒูุงู ฺฉู ูุฎ ุงุฌุงุฏุดุฏู ุชฺฉูู ูุดูุฏ ูพุงุงู ููโุงุจุฏ.</p>
<p>ุงูุง ุจุงุฏ ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ ุงฺฏุฑ <code>handle.join()</code> ุฑุง ูุจู ุงุฒ ุญููู <code>for</code> ุฏุฑ <code>main</code> ููุชูู ฺฉููุ ุจู ุงู ุตูุฑุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::thread;
use std::time::Duration;

fn main() {
    let handle = thread::spawn(|| {
        for i in 1..10 {
            println!("hi number {i} from the spawned thread!");
            thread::sleep(Duration::from_millis(1));
        }
    });

    handle.join().unwrap();

    for i in 1..5 {
        println!("hi number {i} from the main thread!");
        thread::sleep(Duration::from_millis(1));
    }
}</code></pre></pre>
</figure>
<p>ูุฎ ุงุตู ููุชุธุฑ ูโูุงูุฏ ุชุง ูุฎ ุงุฌุงุฏุดุฏู ุฎุงุชูู ุงุจุฏ ู ุณูพุณ ุญููู <code>for</code> ุฎูุฏ ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ุจูุงุจุฑุงู ุฎุฑูุฌ ุฏฺฏุฑ ุจู ุตูุฑุช ูุชูุงูุจ ูุฎูุงูุฏ ุจูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">hi number 1 from the spawned thread!
hi number 2 from the spawned thread!
hi number 3 from the spawned thread!
hi number 4 from the spawned thread!
hi number 5 from the spawned thread!
hi number 6 from the spawned thread!
hi number 7 from the spawned thread!
hi number 8 from the spawned thread!
hi number 9 from the spawned thread!
hi number 1 from the main thread!
hi number 2 from the main thread!
hi number 3 from the main thread!
hi number 4 from the main thread!
</code></pre>
<p>ุฌุฒุฆุงุช ฺฉูฺฺฉุ ูุงููุฏ ูฺฉุงู ูุฑุงุฎูุงู <code>join</code>ุ ูโุชูุงููุฏ ุจุฑ ุงูฺฉู ูุฎโูุง ุดูุง ููุฒูุงู ุงุฌุฑุง ูโุดููุฏ ุง ุฎุฑ ุชุฃุซุฑ ุจฺฏุฐุงุฑูุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-closureูุง-move-ุจุง-ูุฎูุง"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-closureูุง-move-ุจุง-ูุฎูุง">ุงุณุชูุงุฏู ุงุฒ Closureูุง <code>move</code> ุจุง ูุฎโูุง</a></h3>
<p>ูุง ุงุบูุจ ุงุฒ ฺฉููู ฺฉูุฏ <code>move</code> ุจุง closureูุง ฺฉู ุจู <code>thread::spawn</code> ูพุงุณ ุฏุงุฏู ูโุดููุฏ ุงุณุชูุงุฏู ูโฺฉููุ ุฒุฑุง ุงู closure ุณูพุณ ูุงูฺฉุช ููุงุฏุฑ ุฑุง ฺฉู ุงุฒ ูุญุท ุงุณุชูุงุฏู ูโฺฉูุฏุ ูโฺฏุฑุฏ ู ุจูุงุจุฑุงู ูุงูฺฉุช ุขู ููุงุฏุฑ ุฑุง ุงุฒ ฺฉ ูุฎ ุจู ูุฎ ุฏฺฏุฑ ููุชูู ูโฺฉูุฏ. ุฏุฑ ุจุฎุด <a href="ch13-01-closures.html#capturing-references-or-moving-ownership">โฺฏุฑูุชู ุงุฑุฌุงุนโูุง ุง ุงูุชูุงู ูุงูฺฉุชโ</a><!-- ignore --> ุฏุฑ ูุตู 13ุ <code>move</code> ุฑุง ุฏุฑ ุฒููู closureูุง ููุฑุฏ ุจุญุซ ูุฑุงุฑ ุฏุงุฏู. ุงฺฉููู ุจุดุชุฑ ุฑู ุชุนุงูู ุจู <code>move</code> ู <code>thread::spawn</code> ุชูุฑฺฉุฒ ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ 16-1ุ closure ฺฉู ุจู <code>thread::spawn</code> ูพุงุณ ูโุฏูู ูฺ ุขุฑฺฏููุงู ููโฺฏุฑุฏ: ูุง ุงุฒ ูฺ ุฏุงุฏูโุง ุงุฒ ูุฎ ุงุตู ุฏุฑ ฺฉุฏ ูุฎ ุงุฌุงุฏุดุฏู ุงุณุชูุงุฏู ููโฺฉูู. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฏุงุฏูโูุง ูุฎ ุงุตู ุฏุฑ ูุฎ ุงุฌุงุฏุดุฏูุ closure ูุฎ ุงุฌุงุฏุดุฏู ุจุงุฏ ููุงุฏุฑ ฺฉู ูุงุฒ ุฏุงุฑุฏ ุฑุง ุจฺฏุฑุฏ. ูุณุชูฺฏ 16-3 ุชูุงุด ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุฏุฑ ูุฎ ุงุตู ู ุงุณุชูุงุฏู ุงุฒ ุขู ุฏุฑ ูุฎ ุงุฌุงุฏุดุฏู ุฑุง ูุดุงู ูโุฏูุฏ. ุจุง ุงู ุญุงูุ ุงู ฺฉุฏ ูููุฒ ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุญุธูโุง ุฎูุงูุฏ ุฏุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::thread;

fn main() {
    let v = vec![1, 2, 3];

    let handle = thread::spawn(|| {
        println!("Here's a vector: {v:?}");
    });

    handle.join().unwrap();
}</code></pre>
<figcaption>Listing 16-3: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุจุฑุฏุงุฑ ุงุฌุงุฏุดุฏู ุชูุณุท ูุฎ ุงุตู ุฏุฑ ฺฉ ูุฎ ุฏฺฏุฑ</figcaption>
</figure>
<p>ุงู closure ุงุฒ <code>v</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจูุงุจุฑุงู <code>v</code> ุฑุง ูโฺฏุฑุฏ ู ุขู ุฑุง ุจุฎุด ุงุฒ ูุญุท closure ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู <code>thread::spawn</code> ุงู closure ุฑุง ุฏุฑ ฺฉ ูุฎ ุฌุฏุฏ ุงุฌุฑุง ูโฺฉูุฏุ ุจุงุฏ ุจุชูุงูู ุจู <code>v</code> ุฏุฑ ุฏุงุฎู ุขู ูุฎ ุฌุฏุฏ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู. ุงูุง ููุช ุงู ูุซุงู ุฑุง ฺฉุงููพุงู ูโฺฉููุ ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling threads v0.1.0 (file:///projects/threads)
error[E0373]: closure may outlive the current function, but it borrows `v`, which is owned by the current function
 --&gt; src/main.rs:6:32
  |
6 |     let handle = thread::spawn(|| {
  |                                ^^ may outlive borrowed value `v`
7 |         println!("Here's a vector: {v:?}");
  |                                     - `v` is borrowed here
  |
note: function requires argument type to outlive `'static`
 --&gt; src/main.rs:6:18
  |
6 |       let handle = thread::spawn(|| {
  |  __________________^
7 | |         println!("Here's a vector: {v:?}");
8 | |     });
  | |______^
help: to force the closure to take ownership of `v` (and any other referenced variables), use the `move` keyword
  |
6 |     let handle = thread::spawn(move || {
  |                                ++++

For more information about this error, try `rustc --explain E0373`.
error: could not compile `threads` (bin "threads") due to 1 previous error
</code></pre>
<p>Rust ุจู ุทูุฑ <em>ุงุณุชูุชุงุฌ</em> ุชุนู ูโฺฉูุฏ ฺฉู ฺฺฏููู <code>v</code> ุฑุง ุจฺฏุฑุฏุ ู ฺูู <code>println!</code> ููุท ุจู ฺฉ ุงุฑุฌุงุน ุจู <code>v</code> ูุงุฒ ุฏุงุฑุฏุ closure ุณุน ูโฺฉูุฏ <code>v</code> ุฑุง ูุฑุถ ุจฺฏุฑุฏ. ุจุง ุงู ุญุงูุ ูุดฺฉู ูุฌูุฏ ุฏุงุฑุฏ: Rust ููโุชูุงูุฏ ุจฺฏูุฏ ูุฎ ุงุฌุงุฏุดุฏู ฺู ูุฏุช ุงุฌุฑุง ุฎูุงูุฏ ุดุฏุ ุจูุงุจุฑุงู ููโุฏุงูุฏ ฺฉู ุงุฑุฌุงุน ุจู <code>v</code> ููุดู ูุนุชุจุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ูุณุชูฺฏ 16-4 ุณูุงุฑู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุงุญุชูุงู ุจุดุชุฑ ุจุฑุง ุฏุงุดุชู ฺฉ ุงุฑุฌุงุน ูุงูุนุชุจุฑ ุจู <code>v</code> ุฏุงุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::thread;

fn main() {
    let v = vec![1, 2, 3];

    let handle = thread::spawn(|| {
        println!("Here's a vector: {v:?}");
    });

    drop(v); // oh no!

    handle.join().unwrap();
}</code></pre>
<figcaption>Listing 16-4: ฺฉ ูุฎ ุจุง closure ฺฉู ุณุน ูโฺฉูุฏ ฺฉ ุงุฑุฌุงุน ุจู <code>v</code> ุฑุง ุงุฒ ูุฎ ุงุตู ฺฉู <code>v</code> ุฑุง ุญุฐู ูโฺฉูุฏ ุจฺฏุฑุฏ</figcaption>
</figure>
<p>ุงฺฏุฑ Rust ุจู ูุง ุงุฌุงุฒู ุงุฌุฑุง ุงู ฺฉุฏ ุฑุง ูโุฏุงุฏุ ุงู ุงุญุชูุงู ูุฌูุฏ ุฏุงุดุช ฺฉู ูุฎ ุงุฌุงุฏุดุฏู ุจูุงูุงุตูู ุจู ูพุณโุฒููู ุจุฑูุฏ ุจุฏูู ุงูฺฉู ุงุตูุงู ุงุฌุฑุง ุดูุฏ. ูุฎ ุงุฌุงุฏุดุฏู ฺฉ ุงุฑุฌุงุน ุจู <code>v</code> ุฏุงุฎู ุฎูุฏ ุฏุงุฑุฏุ ุงูุง ูุฎ ุงุตู ุจูุงูุงุตูู <code>v</code> ุฑุง ุญุฐู ูโฺฉูุฏุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>drop</code> ฺฉู ุฏุฑ ูุตู 15 ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุช. ุณูพุณุ ููุช ูุฎ ุงุฌุงุฏุดุฏู ุดุฑูุน ุจู ุงุฌุฑุง ูโฺฉูุฏุ <code>v</code> ุฏฺฏุฑ ูุนุชุจุฑ ูุณุชุ ุจูุงุจุฑุงู ุงุฑุฌุงุน ุจู ุขู ูุฒ ูุงูุนุชุจุฑ ุงุณุช. ุงูู ูู!</p>
<p>ุจุฑุง ุฑูุน ุฎุทุง ฺฉุงููพุงู ุฏุฑ ูุณุชูฺฏ 16-3ุ ูโุชูุงูู ุงุฒ ูุดุงูุฑู ูพุงู ุฎุทุง ุงุณุชูุงุฏู ฺฉูู:</p>
<!-- manual-regeneration
after automatic regeneration, look at listings/ch16-fearless-concurrency/listing-16-03/output.txt and copy the relevant part
-->
<pre><code class="language-text">help: to force the closure to take ownership of `v` (and any other referenced variables), use the `move` keyword
  |
6 |     let handle = thread::spawn(move || {
  |                                ++++
</code></pre>
<p>ุจุง ุงูุฒูุฏู ฺฉููู ฺฉูุฏ <code>move</code> ูุจู ุงุฒ closureุ ูุง closure ุฑุง ูุฌุจูุฑ ูโฺฉูู ฺฉู ูุงูฺฉุช ููุงุฏุฑ ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏ ุฑุง ุจฺฏุฑุฏุ ุจู ุฌุง ุงูฺฉู ุจู Rust ุงุฌุงุฒู ุฏูู ุงุณุชูุชุงุฌ ฺฉูุฏ ฺฉู ุจุงุฏ ููุงุฏุฑ ุฑุง ูุฑุถ ุจฺฏุฑุฏ. ุชุบุฑุงุช ุงุนูุงูโุดุฏู ุจู ูุณุชูฺฏ 16-3 ฺฉู ุฏุฑ ูุณุชูฺฏ 16-5 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ฺฉุงููพุงู ู ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::thread;

fn main() {
    let v = vec![1, 2, 3];

    let handle = thread::spawn(move || {
        println!("Here's a vector: {v:?}");
    });

    handle.join().unwrap();
}</code></pre></pre>
<figcaption>Listing 16-5: ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>move</code> ุจุฑุง ูุฌุจูุฑ ฺฉุฑุฏู ฺฉ closure ุจู ฺฏุฑูุชู ูุงูฺฉุช ููุงุฏุฑ ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ููฺฉู ุงุณุช ูุณูุณู ุดูู ฺฉู ููู ฺฉุงุฑ ุฑุง ุจุฑุง ุฑูุน ฺฉุฏ ุฏุฑ ูุณุชูฺฏ 16-4 ฺฉู ูุฎ ุงุตู <code>drop</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ closure <code>move</code> ุงูุฌุงู ุฏูู. ุจุง ุงู ุญุงูุ ุงู ุฑุงูโุญู ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ ุฒุฑุง ุขูฺู ูุณุชูฺฏ 16-4 ุชูุงุด ูโฺฉูุฏ ุงูุฌุงู ุฏูุฏ ุจู ุฏูู ุฏฺฏุฑ ูุฌุงุฒ ูุณุช. ุงฺฏุฑ <code>move</code> ุฑุง ุจู closure ุงุถุงูู ฺฉููุ <code>v</code> ุฑุง ุจู ูุญุท closure ููุชูู ูโฺฉูู ู ุฏฺฏุฑ ููโุชูุงูู <code>drop</code> ุฑุง ุฏุฑ ูุฎ ุงุตู ุฑู ุขู ูุฑุงุฎูุงู ฺฉูู. ุฏุฑ ุนูุถุ ุงู ุฎุทุง ฺฉุงููพุงู ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling threads v0.1.0 (file:///projects/threads)
error[E0382]: use of moved value: `v`
  --&gt; src/main.rs:10:10
   |
4  |     let v = vec![1, 2, 3];
   |         - move occurs because `v` has type `Vec&lt;i32&gt;`, which does not implement the `Copy` trait
5  |
6  |     let handle = thread::spawn(move || {
   |                                ------- value moved into closure here
7  |         println!("Here's a vector: {v:?}");
   |                                     - variable moved due to use in closure
...
10 |     drop(v); // oh no!
   |          ^ value used here after move

For more information about this error, try `rustc --explain E0382`.
error: could not compile `threads` (bin "threads") due to 1 previous error
</code></pre>
<p>ููุงูู ูุงูฺฉุช Rust ุฏูุจุงุฑู ูุง ุฑุง ูุฌุงุช ุฏุงุฏูุฏ! ูุง ุงุฒ ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-3 ุฎุทุง ฺฏุฑูุชู ุฒุฑุง Rust ูุญุงูุธูโฺฉุงุฑ ุจูุฏ ู ููุท <code>v</code> ุฑุง ุจุฑุง ูุฎ ูุฑุถ ฺฏุฑูุชุ ฺฉู ุจู ุงู ูุนูุง ุจูุฏ ฺฉู ูุฎ ุงุตู ูโุชูุงูุณุช ุจูโุตูุฑุช ูุธุฑ ูุฑุฌุน ูุฎ ุงุฌุงุฏุดุฏู ุฑุง ูุงูุนุชุจุฑ ฺฉูุฏ. ุจุง ฺฏูุชู ุจู Rust ฺฉู ูุงูฺฉุช <code>v</code> ุฑุง ุจู ูุฎ ุงุฌุงุฏุดุฏู ููุชูู ฺฉูุฏุ ูุง ุจู Rust ุชุถูู ูโุฏูู ฺฉู ูุฎ ุงุตู ุฏฺฏุฑ ุงุฒ <code>v</code> ุงุณุชูุงุฏู ูุฎูุงูุฏ ฺฉุฑุฏ. ุงฺฏุฑ ูุณุชูฺฏ 16-4 ุฑุง ุจู ููุงู ุฑูุด ุชุบุฑ ุฏููุ ุขูฺฏุงู ููฺฏุงู ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>v</code> ุฏุฑ ูุฎ ุงุตูุ ููุงูู ูุงูฺฉุช ุฑุง ููุถ ูโฺฉูู. ฺฉููู ฺฉูุฏ <code>move</code> ุฑูุชุงุฑ ูุญุงูุธูโฺฉุงุฑุงูู ูพุดโูุฑุถ Rust ุฏุฑ ูุฑุถโฺฏุฑ ุฑุง ูุบู ูโฺฉูุฏุ ุงูุง ุงุฌุงุฒู ููโุฏูุฏ ููุงูู ูุงูฺฉุช ุฑุง ููุถ ฺฉูู.</p>
<p>ุจุง ุฏุงุดุชู ุฏุฑฺฉ ุงูููโุง ุงุฒ ูุฎโูุง ู API ูุฑุจูุท ุจู ูุฎโูุงุ ุจุงุฏ ุจุจูู ฺฉู ุจุง ูุฎโูุง ฺู ฺฉุงุฑ ูโุชูุงูู <em>ุงูุฌุงู ุฏูู</em>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุณุชูุงุฏู-ุงุฒ-ูพุงูุฑุณุงู-ุจุฑุง-ุงูุชูุงู-ุฏุงุฏู-ุจู-ูุฎูุง"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ูพุงูุฑุณุงู-ุจุฑุง-ุงูุชูุงู-ุฏุงุฏู-ุจู-ูุฎูุง">ุงุณุชูุงุฏู ุงุฒ ูพุงูโุฑุณุงู ุจุฑุง ุงูุชูุงู ุฏุงุฏู ุจู ูุฎโูุง</a></h2>
<p>ฺฉ ุงุฒ ุฑูฺฉุฑุฏูุง ูุญุจูุจ ู ูุฒุงูุฏู ุจุฑุง ุงุทููุงู ุงุฒ ููุฒูุงู ุงููุ <em>ูพุงูโุฑุณุงู</em> ุงุณุชุ ุฌุง ฺฉู ูุฎโูุง ุง ุจุงุฒฺฏุฑุงู ุจุง ุงุฑุณุงู ูพุงูโูุง ุญุงู ุฏุงุฏู ุจู ฺฉุฏฺฏุฑ ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉููุฏ. ุงุฏู ุงู ุฑูฺฉุฑุฏ ุฏุฑ ฺฉ ุดุนุงุฑ ุงุฒ <a href="https://golang.org/doc/effective_go.html#concurrency">ูุณุชูุฏุงุช ุฒุจุงู Go</a> ุขูุฏู ุงุณุช:<br />
ยซุจุง ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุญุงูุธู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูฺฉูุฏุ ุจูฺฉู ุญุงูุธู ุฑุง ุจุง ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉุฑุฏู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ.ยป</p>
<p>ุจุฑุง ุฑุณุฏู ุจู ููุฒูุงู ูุจุชู ุจุฑ ุงุฑุณุงู ูพุงูุ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ <em>ฺฉุงูุงูโูุง</em> ุงุฑุงุฆู ูโุฏูุฏ. ฺฉุงูุงู ฺฉ ููููู ุนููู ุจุฑูุงููโููุณ ุงุณุช ฺฉู ุฏุงุฏูโูุง ุฑุง ุงุฒ ฺฉ ูุฎ ุจู ูุฎ ุฏฺฏุฑ ุงุฑุณุงู ูโฺฉูุฏ.</p>
<p>ูโุชูุงูุฏ ฺฉ ฺฉุงูุงู ุฏุฑ ุจุฑูุงููโููุณ ุฑุง ูุงููุฏ ฺฉ ฺฉุงูุงู ุขุจ ุฌูุชโุฏุงุฑุ ูุงููุฏ ฺฉ ุฌุฑุงู ุง ุฑูุฏุฎุงูู ุชุตูุฑ ฺฉูุฏ. ุงฺฏุฑ ฺุฒ ูุงููุฏ ฺฉ ุงุฑุฏฺฉ ูพูุงุณุชฺฉ ุฑุง ุจู ุฏุงุฎู ุฑูุฏุฎุงูู ุจูุฏุงุฒุฏุ ุขู ุงุฑุฏฺฉ ุจู ูพุงูโุฏุณุช ุฑูุฏุฎุงูู ุณูุฑ ูโฺฉูุฏ ู ุจู ุงูุชูุง ุขู ูโุฑุณุฏ.</p>
<p>ฺฉ ฺฉุงูุงู ุฏู ููู ุฏุงุฑุฏ: ฺฉ ูุฑุณุชูุฏู ู ฺฉ ฺฏุฑูุฏู. ููู ูุฑุณุชูุฏู ูุญู ุจุงูุงุฏุณุช ุงุณุช ฺฉู ุงุฑุฏฺฉโูุง ูพูุงุณุชฺฉ ุฑุง ุจู ุฏุงุฎู ุฑูุฏุฎุงูู ูโุงูุฏุงุฒุฏุ ู ููู ฺฏุฑูุฏู ุฌุง ุงุณุช ฺฉู ุงุฑุฏฺฉ ูพูุงุณุชฺฉ ุฏุฑ ูพุงูโุฏุณุช ูพุงุงู ูโุงุจุฏ. ฺฉ ุจุฎุด ุงุฒ ฺฉุฏ ุดูุง ูุชุฏูุง ุฑู ูุฑุณุชูุฏู ุจุง ุฏุงุฏูโุง ฺฉู ูโุฎูุงูุฏ ุงุฑุณุงู ฺฉูุฏ ูุฑุงุฎูุงู ูโฺฉูุฏุ ู ุจุฎุด ุฏฺฏุฑ ุงูุชูุง ฺฏุฑูุฏู ุฑุง ุจุฑุง ูพุงูโูุง ูุงุฑุฏุดุฏู ุจุฑุฑุณ ูโฺฉูุฏ. ุงฺฏุฑ ูุฑ ฺฉ ุงุฒ ูููโูุง ูุฑุณุชูุฏู ุง ฺฏุฑูุฏู ุญุฐู ุดููุฏุ ฺฉุงูุงู ุจู ุนููุงู <em>ุจุณุชูโุดุฏู</em> ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ.</p>
<p>ุงูุฌุงุ ุจุฑูุงููโุง ุงุฌุงุฏ ูโฺฉูู ฺฉู ฺฉ ูุฎ ุจุฑุง ุชููุฏ ููุงุฏุฑ ู ุงุฑุณุงู ุขูโูุง ุงุฒ ุทุฑู ฺฉ ฺฉุงูุงู ุฏุงุฑุฏุ ู ูุฎ ุฏฺฏุฑ ููุงุฏุฑ ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ู ฺุงูพ ูโฺฉูุฏ. ุจุฑุง ููุงุด ุงู ูฺฺฏุ ููุงุฏุฑ ุณุงุฏูโุง ุจู ูุฎโูุง ุงุฒ ุทุฑู ฺฉ ฺฉุงูุงู ุงุฑุณุงู ุฎูุงูู ฺฉุฑุฏ. ูพุณ ุงุฒ ุขุดูุง ุจุง ุงู ุชฺฉูฺฉุ ูโุชูุงูุฏ ุงุฒ ฺฉุงูุงูโูุง ุจุฑุง ูุฑ ูุฎโูุง ฺฉู ูุงุฒ ุจู ุงุฑุชุจุงุท ุจุง ฺฉุฏฺฏุฑ ุฏุงุฑูุฏ ุงุณุชูุงุฏู ฺฉูุฏุ ูุงููุฏ ฺฉ ุณุณุชู ฺุช ุง ุณุณุชู ฺฉู ุจุณุงุฑ ุงุฒ ูุฎโูุง ุจุฎุดโูุง ุงุฒ ฺฉ ูุญุงุณุจู ุฑุง ุงูุฌุงู ูโุฏููุฏ ู ุขู ุจุฎุดโูุง ุฑุง ุจู ฺฉ ูุฎ ุงุฑุณุงู ูโฺฉููุฏ ฺฉู ูุชุงุฌ ุฑุง ุชุฌูุน ูโฺฉูุฏ.</p>
<p>ุงุจุชุฏุงุ ุฏุฑ ูุณุชูฺฏ 16-6ุ ฺฉ ฺฉุงูุงู ุงุฌุงุฏ ูโฺฉูู ุงูุง ูููุฒ ฺฉุงุฑ ุจุง ุขู ุงูุฌุงู ููโุฏูู. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ููโุดูุฏ ุฒุฑุง Rust ููโุชูุงูุฏ ููุน ููุงุฏุฑ ฺฉู ูโุฎูุงูู ุงุฒ ุทุฑู ฺฉุงูุงู ุงุฑุณุงู ฺฉูู ุฑุง ุชุนู ฺฉูุฏ.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">use std::sync::mpsc;

fn main() {
    let (tx, rx) = mpsc::channel();
}</code></pre>
<p><span class="caption">ูุณุชูฺฏ 16-6: ุงุฌุงุฏ ฺฉ ฺฉุงูุงู ู ุงุฎุชุตุงุต ุฏู ููู ุขู ุจู <code>tx</code> ู <code>rx</code></span></p>
<p>ูุง ฺฉ ฺฉุงูุงู ุฌุฏุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>mpsc::channel</code> ุงุฌุงุฏ ูโฺฉููุ <code>mpsc</code> ูุฎูู <em>ุชููุฏฺฉููุฏูโูุง ฺูุฏฺฏุงููุ ูุตุฑูโฺฉููุฏู ุชฺฉโฺฏุงูู</em> ุงุณุช. ุจู ุทูุฑ ุฎูุงุตูุ ูุญูู ูพุงุฏูโุณุงุฒ ฺฉุงูุงูโูุง ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ุจู ุงู ูุนูุงุณุช ฺฉู ฺฉ ฺฉุงูุงู ูโุชูุงูุฏ ฺูุฏู ุงูุชูุง <em>ุงุฑุณุงูโฺฉููุฏู</em> ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุงุฏุฑ ุชููุฏ ูโฺฉููุฏุ ุงูุง ููุท ฺฉ ุงูุชูุง <em>ฺฏุฑูุฏู</em> ฺฉู ุขู ููุงุฏุฑ ุฑุง ูุตุฑู ูโฺฉูุฏ. ุชุตูุฑ ฺฉูุฏ ฺูุฏู ุฌุฑุงู ฺฉูฺฺฉ ุจู ฺฉ ุฑูุฏุฎุงูู ุจุฒุฑฺฏ ูโุฑุฒูุฏ: ูุฑ ฺุฒ ฺฉู ุฏุฑ ูุฑ ฺฉ ุงุฒ ุฌุฑุงูโูุง ุงุฑุณุงู ุดูุฏุ ุฏุฑ ููุงุช ุจู ุฑูุฏุฎุงูู ุจุฒุฑฺฏ ุฏุฑ ุงูุชูุง ูโุฑุณุฏ. ูุนูุงู ุจุง ฺฉ ุชููุฏฺฉููุฏู ุดุฑูุน ูโฺฉููุ ุงูุง ููุช ุงู ูุซุงู ฺฉุงุฑ ฺฉุฑุฏุ ฺูุฏู ุชููุฏฺฉููุฏู ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุชุงุจุน <code>mpsc::channel</code> ฺฉ ุฌูุช ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุนูุตุฑ ุงูู ุขู ุงูุชูุง ุงุฑุณุงูโฺฉููุฏู (ูุฑุณุชูุฏู) ู ุนูุตุฑ ุฏูู ุขู ุงูุชูุง ฺฏุฑูุฏู (ฺฏุฑูุฏู) ุงุณุช. ุงุฎุชุตุงุฑุงุช <code>tx</code> ู <code>rx</code> ุฏุฑ ุจุณุงุฑ ุงุฒ ุญูุฒูโูุง ุจู ุชุฑุชุจ ุจุฑุง <em>ูุฑุณุชูุฏู</em> ู <em>ฺฏุฑูุฏู</em> ุงุณุชูุงุฏู ูโุดููุฏุ ุจูุงุจุฑุงู ูุชุบุฑูุง ุฎูุฏ ุฑุง ุจู ุงู ูุงูโูุง ูโูุงูู ุชุง ูุฑ ุงูุชูุง ุฑุง ูุดุงู ุฏูู. ูุง ุงุฒ ฺฉ ุฏุณุชูุฑ <code>let</code> ุจุง ฺฉ ุงูฺฏู ฺฉู ุฌูุช ุฑุง ุชุฎุฑุจ ูโฺฉูุฏ ุงุณุชูุงุฏู ูโฺฉููุ ุฏุฑ ูุตู 19 ุฏุฑุจุงุฑู ุงุณุชูุงุฏู ุงุฒ ุงูฺฏููุง ุฏุฑ ุฏุณุชูุฑุงุช <code>let</code> ู ุชุฎุฑุจ ุจุญุซ ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ุจุฏุงูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ ฺฉ ุฏุณุชูุฑ <code>let</code> ุจู ุงู ุฑูุด ฺฉ ุฑูฺฉุฑุฏ ููุงุณุจ ุจุฑุง ุงุณุชุฎุฑุงุฌ ูุทุนุงุช ุฌูุช ุจุงุฒฺฏุดุช ุชูุณุท <code>mpsc::channel</code> ุงุณุช.</p>
<p>ุจุงุฏ ุงูุชูุง ุงุฑุณุงูโฺฉููุฏู ุฑุง ุจู ฺฉ ูุฎ ุงุฌุงุฏุดุฏู ููุชูู ฺฉูู ู ฺฉ ุฑุดุชู ุงุฑุณุงู ฺฉูู ุชุง ูุฎ ุงุฌุงุฏุดุฏู ุจุง ูุฎ ุงุตู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 16-7 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ุดุจู ุจู ุงูุฏุงุฎุชู ฺฉ ุงุฑุฏฺฉ ูพูุงุณุชฺฉ ุฏุฑ ุฑูุฏุฎุงูู ุฏุฑ ุจุงูุงุฏุณุช ุง ุงุฑุณุงู ฺฉ ูพุงู ฺุช ุงุฒ ฺฉ ูุฎ ุจู ูุฎ ุฏฺฏุฑ ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        let val = String::from("hi");
        tx.send(val).unwrap();
    });
}</code></pre></pre>
<figcaption>Listing 16-7: ุงูุชูุงู <code>tx</code> ุจู ฺฉ ูุฎ ุงุฌุงุฏุดุฏู ู ุงุฑุณุงู โhiโ</figcaption>
</figure>
<p>ุฏูุจุงุฑู ุงุฒ <code>thread::spawn</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ูุฎ ุฌุฏุฏ ุงุณุชูุงุฏู ูโฺฉูู ู ุณูพุณ ุงุฒ <code>move</code> ุจุฑุง ุงูุชูุงู <code>tx</code> ุจู closure ุงุณุชูุงุฏู ูโฺฉูู ุชุง ูุฎ ุงุฌุงุฏุดุฏู ูุงูฺฉ <code>tx</code> ุดูุฏ. ูุฎ ุงุฌุงุฏุดุฏู ุจุงุฏ ูุงูฺฉ ูุฑุณุชูุฏู ุจุงุดุฏ ุชุง ุจุชูุงูุฏ ูพุงูโูุง ุฑุง ุงุฒ ุทุฑู ฺฉุงูุงู ุงุฑุณุงู ฺฉูุฏ. ูุฑุณุชูุฏู ฺฉ ูุชุฏ <code>send</code> ุฏุงุฑุฏ ฺฉู ููุฏุงุฑ ฺฉู ูโุฎูุงูู ุงุฑุณุงู ฺฉูู ุฑุง ูโฺฏุฑุฏ. ูุชุฏ <code>send</code> ููุน <code>Result&lt;T, E&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ฺฏุฑูุฏู ูุจูุงู ุญุฐู ุดุฏู ุจุงุดุฏ ู ุฌุง ุจุฑุง ุงุฑุณุงู ููุฏุงุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ ุนููุงุช ุงุฑุณุงู ฺฉ ุฎุทุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุฏุฑ ุงู ูุซุงูุ ูุง <code>unwrap</code> ุฑุง ุจุฑุง panic ุฏุฑ ุตูุฑุช ุฎุทุง ูุฑุงุฎูุงู ูโฺฉูู. ุงูุง ุฏุฑ ฺฉ ุจุฑูุงูู ูุงูุนุ ุจุงุฏ ุขู ุฑุง ุจู ุฏุฑุณุช ูุฏุฑุช ฺฉูู: ุจุฑุง ูุฑูุฑ ุงุณุชุฑุงุชฺโูุง ูุฏุฑุช ุฎุทุง ููุงุณุจ ุจู ูุตู 9 ุจุงุฒฺฏุฑุฏุฏ.</p>
<p>ุฏุฑ ูุณุชูฺฏ 16-8ุ ููุฏุงุฑ ุฑุง ุงุฒ ฺฏุฑูุฏู ุฏุฑ ูุฎ ุงุตู ุฏุฑุงูุช ูโฺฉูู. ุงู ุดุจู ุจู ฺฏุฑูุชู ุงุฑุฏฺฉ ูพูุงุณุชฺฉ ุงุฒ ุขุจ ุฏุฑ ุงูุชูุง ุฑูุฏุฎุงูู ุง ุฏุฑุงูุช ฺฉ ูพุงู ฺุช ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        let val = String::from("hi");
        tx.send(val).unwrap();
    });

    let received = rx.recv().unwrap();
    println!("Got: {received}");
}</code></pre></pre>
<figcaption>Listing 16-8: Receiving the value โhiโ in the main thread and printing it</figcaption>
</figure>
<p>ฺฏุฑูุฏู ุฏู ูุชุฏ ููุฏ ุฏุงุฑุฏ: <code>recv</code> ู <code>try_recv</code>. ูุง ุงุฒ <code>recv</code>ุ ฺฉู ูุฎูู <em>receive</em> ุงุณุชุ ุงุณุชูุงุฏู ูโฺฉูู. ุงู ูุชุฏ ุงุฌุฑุง ูุฎ ุงุตู ุฑุง ูุณุฏูุฏ ฺฉุฑุฏู ู ููุชุธุฑ ูโูุงูุฏ ุชุง ููุฏุงุฑ ุงุฒ ุทุฑู ฺฉุงูุงู ุงุฑุณุงู ุดูุฏ. ููฺฏุงู ฺฉู ููุฏุงุฑ ุงุฑุณุงู ุดุฏุ <code>recv</code> ุขู ุฑุง ุฏุฑ ฺฉ ููุฏุงุฑ <code>Result&lt;T, E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ููุช ูุฑุณุชูุฏู ุจุณุชู ูโุดูุฏุ <code>recv</code> ฺฉ ุฎุทุง ุจุฑูโฺฏุฑุฏุงูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉู ูฺ ููุฏุงุฑ ุฏฺฏุฑ ููโุขุฏ.</p>
<p>ูุชุฏ <code>try_recv</code> ูุณุฏูุฏ ููโฺฉูุฏุ ุจูฺฉู ุจูุงูุงุตูู ฺฉ ููุฏุงุฑ <code>Result&lt;T, E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ: ฺฉ ููุฏุงุฑ <code>Ok</code> ุญุงู ฺฉ ูพุงู ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏุ ู ฺฉ ููุฏุงุฑ <code>Err</code> ุงฺฏุฑ ุงู ุจุงุฑ ูฺ ูพุงู ููุฌูุฏ ูุจุงุดุฏ. ุงุณุชูุงุฏู ุงุฒ <code>try_recv</code> ุฒูุงู ููุฏ ุงุณุช ฺฉู ุงู ูุฎ ฺฉุงุฑ ุฏฺฏุฑ ุจุฑุง ุงูุฌุงู ุฏุงุฑุฏ ุฏุฑ ุญุงู ฺฉู ููุชุธุฑ ูพุงูโูุง ุงุณุช: ูโุชูุงูู ฺฉ ุญููู ุจููุณู ฺฉู ูุฑ ฺูุฏ ููุช ฺฉ ุจุงุฑ <code>try_recv</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ฺฉ ูพุงู ุฑุง ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏ ูพุฑุฏุงุฒุด ฺฉูุฏุ ู ุฏุฑ ุบุฑ ุงู ุตูุฑุช ฺฉุงุฑ ุฏฺฏุฑ ุฑุง ุจุฑุง ูุฏุช ุงูุฌุงู ุฏูุฏ ุชุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ.</p>
<p>ูุง ุฏุฑ ุงู ูุซุงู ุจุฑุง ุณุงุฏฺฏ ุงุฒ <code>recv</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ูุฎ ุงุตู ฺฉุงุฑ ุฏฺฏุฑ ุฌุฒ ููุชุธุฑ ูุงูุฏู ุจุฑุง ูพุงูโูุง ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ูุณุฏูุฏ ฺฉุฑุฏู ูุฎ ุงุตู ููุงุณุจ ุงุณุช.</p>
<p>ููุช ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-8 ุฑุง ุงุฌุฑุง ฺฉููุ ููุฏุงุฑ ฺุงูพโุดุฏู ุงุฒ ูุฎ ุงุตู ุฑุง ุฎูุงูู ุฏุฏ:</p>
<pre><code class="language-text">Got: hi
</code></pre>
<p>ุนุงู!</p>
<h3 id="ฺฉุงูุงููุง-ู-ุงูุชูุงู-ูุงูฺฉุช"><a class="header" href="#ฺฉุงูุงููุง-ู-ุงูุชูุงู-ูุงูฺฉุช">ฺฉุงูุงูโูุง ู ุงูุชูุงู ูุงูฺฉุช</a></h3>
<p>ููุงูู ูุงูฺฉุช ููุด ุญุงุช ุฏุฑ ุงุฑุณุงู ูพุงู ุฏุงุฑูุฏ ุฒุฑุง ุจู ุดูุง ฺฉูฺฉ ูโฺฉููุฏ ฺฉุฏ ุงูู ู ููุฒูุงู ุจููุณุฏ. ุฌููฺฏุฑ ุงุฒ ุฎุทุงูุง ุฏุฑ ุจุฑูุงููโููุณ ููุฒูุงู ูุฒุช ูฺฉุฑ ฺฉุฑุฏู ุจู ูุงูฺฉุช ุฏุฑ ุณุฑุงุณุฑ ุจุฑูุงููโูุง Rust ุดูุง ุงุณุช. ุจุงุฏ ฺฉ ุขุฒูุงุด ุงูุฌุงู ุฏูู ุชุง ูุดุงู ุฏูู ฺฉุงูุงูโูุง ู ูุงูฺฉุช ฺฺฏููู ุจุง ูู ฺฉุงุฑ ูโฺฉููุฏ ุชุง ุงุฒ ูุดฺฉูุงุช ุฌููฺฏุฑ ฺฉููุฏ: ูุง ุณุน ุฎูุงูู ฺฉุฑุฏ ููุฏุงุฑ <code>val</code> ุฑุง ุฏุฑ ูุฎ ุงุฌุงุฏุดุฏู <em>ูพุณ ุงุฒ</em> ุงุฑุณุงู ุขู ุงุฒ ุทุฑู ฺฉุงูุงู ุงุณุชูุงุฏู ฺฉูู. ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-9 ุฑุง ฺฉุงููพุงู ฺฉูุฏ ุชุง ุจุจูุฏ ฺุฑุง ุงู ฺฉุฏ ูุฌุงุฒ ูุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        let val = String::from("hi");
        tx.send(val).unwrap();
        println!("val is {val}");
    });

    let received = rx.recv().unwrap();
    println!("Got: {received}");
}</code></pre>
<figcaption>Listing 16-9: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>val</code> ูพุณ ุงุฒ ุงุฑุณุงู ุขู ุงุฒ ุทุฑู ฺฉุงูุงู</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ูุง ุณุน ูโฺฉูู <code>val</code> ุฑุง ูพุณ ุงุฒ ุงุฑุณุงู ุขู ุงุฒ ุทุฑู <code>tx.send</code> ฺุงูพ ฺฉูู. ุงุฌุงุฒู ุฏุงุฏู ุจู ุงู ฺฉุงุฑ ุงุฏู ุจุฏ ุฎูุงูุฏ ุจูุฏ: ููฺฏุงู ฺฉู ููุฏุงุฑ ุจู ูุฎ ุฏฺฏุฑ ุงุฑุณุงู ุดุฏู ุงุณุชุ ุขู ูุฎ ูโุชูุงูุฏ ูุจู ุงุฒ ุงูฺฉู ุณุน ฺฉูู ุฏูุจุงุฑู ุงุฒ ููุฏุงุฑ ุงุณุชูุงุฏู ฺฉููุ ุขู ุฑุง ุชุบุฑ ุฏูุฏ ุง ุญุฐู ฺฉูุฏ. ุจู ุทูุฑ ุจุงููููุ ุชุบุฑุงุช ูุฎ ุฏฺฏุฑ ูโุชูุงูุฏ ุจุงุนุซ ุฎุทุงูุง ุง ูุชุงุฌ ุบุฑููุชุธุฑู ุจู ุฏูู ุฏุงุฏูโูุง ูุงุณุงุฒฺฏุงุฑ ุง ุบุฑููุฌูุฏ ุดูุฏ. ุจุง ุงู ุญุงูุ Rust ุงฺฏุฑ ุณุน ฺฉูู ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-9 ุฑุง ฺฉุงููพุงู ฺฉููุ ุจู ูุง ุฎุทุง ูโุฏูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling message-passing v0.1.0 (file:///projects/message-passing)
error[E0382]: borrow of moved value: `val`
  --&gt; src/main.rs:10:26
   |
8  |         let val = String::from("hi");
   |             --- move occurs because `val` has type `String`, which does not implement the `Copy` trait
9  |         tx.send(val).unwrap();
   |                 --- value moved here
10 |         println!("val is {val}");
   |                          ^^^^^ value borrowed here after move
   |
   = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info)

For more information about this error, try `rustc --explain E0382`.
error: could not compile `message-passing` (bin "message-passing") due to 1 previous error
</code></pre>
<p>ุงุดุชุจุงู ูุง ุฏุฑ ููุฒูุงู ุจุงุนุซ ุงุฌุงุฏ ฺฉ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ุดุฏู ุงุณุช. ุชุงุจุน <code>send</code> ูุงูฺฉุช ูพุงุฑุงูุชุฑ ุฎูุฏ ุฑุง ูโฺฏุฑุฏ ู ููุช ููุฏุงุฑ ููุชูู ูโุดูุฏุ ฺฏุฑูุฏู ูุงูฺฉุช ุขู ุฑุง ูโฺฏุฑุฏ. ุงู ุงุฒ ุงุณุชูุงุฏู ุชุตุงุฏู ูุฌุฏุฏ ููุฏุงุฑ ูพุณ ุงุฒ ุงุฑุณุงู ุขู ุฌููฺฏุฑ ูโฺฉูุฏุ ุณุณุชู ูุงูฺฉุช ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ููู ฺุฒ ุฏุฑุณุช ุงุณุช.</p>
<h3 id="ุงุฑุณุงู-ููุงุฏุฑ-ูุชุนุฏุฏ-ู-ูุดุงูุฏู-ุงูุชุธุงุฑ-ฺฏุฑูุฏู"><a class="header" href="#ุงุฑุณุงู-ููุงุฏุฑ-ูุชุนุฏุฏ-ู-ูุดุงูุฏู-ุงูุชุธุงุฑ-ฺฏุฑูุฏู">ุงุฑุณุงู ููุงุฏุฑ ูุชุนุฏุฏ ู ูุดุงูุฏู ุงูุชุธุงุฑ ฺฏุฑูุฏู</a></h3>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-8 ฺฉุงููพุงู ู ุงุฌุฑุง ุดุฏุ ุงูุง ุจู ูุถูุญ ูุดุงู ููโุฏุงุฏ ฺฉู ุฏู ูุฎ ุฌุฏุงฺฏุงูู ุงุฒ ุทุฑู ฺฉุงูุงู ุจุง ฺฉุฏฺฏุฑ ุตุญุจุช ูโฺฉููุฏ. ุฏุฑ ูุณุชูฺฏ 16-10 ุชุบุฑุงุช ุงุนูุงู ฺฉุฑุฏูโุงู ฺฉู ุซุงุจุช ูโฺฉูุฏ ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-8 ุจู ุตูุฑุช ููุฒูุงู ุงุฌุฑุง ูโุดูุฏ: ูุฎ ุงุฌุงุฏุดุฏู ุงฺฉููู ฺูุฏู ูพุงู ุงุฑุณุงู ูโฺฉูุฏ ู ุจู ูุฑ ูพุงู ฺฉ ุซุงูู ูฺฉุซ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust noplayground">use std::sync::mpsc;
use std::thread;
use std::time::Duration;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        let vals = vec![
            String::from("hi"),
            String::from("from"),
            String::from("the"),
            String::from("thread"),
        ];

        for val in vals {
            tx.send(val).unwrap();
            thread::sleep(Duration::from_secs(1));
        }
    });

    for received in rx {
        println!("Got: {received}");
    }
}</code></pre>
<figcaption>Listing 16-10: Sending multiple messages and pausing between each</figcaption>
</figure>
<p>ุงู ุจุงุฑุ ูุฎ ุงุฌุงุฏุดุฏู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ุฑุดุชูโูุง ุฏุงุฑุฏ ฺฉู ูโุฎูุงูู ุจู ูุฎ ุงุตู ุงุฑุณุงู ฺฉูู. ูุง ุฑู ุขูโูุง ูพูุงุด ูโฺฉููุ ูุฑ ฺฉุฏุงู ุฑุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุงุฑุณุงู ูโฺฉูู ู ุจู ูุฑ ูพุงู ุจุง ูุฑุงุฎูุงู ุชุงุจุน <code>thread::sleep</code> ุจุง ฺฉ ููุฏุงุฑ <code>Duration</code> ุจุฑุงุจุฑ ุจุง 1 ุซุงูู ูฺฉุซ ูโฺฉูู.</p>
<p>ุฏุฑ ูุฎ ุงุตูุ ุฏฺฏุฑ ุชุงุจุน <code>recv</code> ุฑุง ุจู ุทูุฑ ุตุฑุญ ูุฑุงุฎูุงู ููโฺฉูู: ุฏุฑ ุนูุถุ ุจุง <code>rx</code> ุจู ุนููุงู ฺฉ ุชฺฉุฑุงุฑฺฏุฑ ุฑูุชุงุฑ ูโฺฉูู. ุจุฑุง ูุฑ ููุฏุงุฑ ฺฉู ุฏุฑุงูุช ูโุดูุฏุ ุขู ุฑุง ฺุงูพ ูโฺฉูู. ููฺฏุงู ฺฉู ฺฉุงูุงู ุจุณุชู ูโุดูุฏุ ุชฺฉุฑุงุฑ ูุชููู ุฎูุงูุฏ ุดุฏ.</p>
<p>ููุช ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-10 ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ุจุงุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ุจุจูุฏุ ุจุง ฺฉ ูฺฉุซ 1 ุซุงููโุง ุจู ูุฑ ุฎุท:</p>
<pre><code class="language-text">Got: hi
Got: from
Got: the
Got: thread
</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ูฺ ฺฉุฏ ุฏุฑ ุญููู <code>for</code> ูุฎ ุงุตู ูุฏุงุฑู ฺฉู ูฺฉุซ ุง ุชุฃุฎุฑ ุงุฌุงุฏ ฺฉูุฏุ ูโุชูุงูู ุจฺฏูู ฺฉู ูุฎ ุงุตู ููุชุธุฑ ุฏุฑุงูุช ููุงุฏุฑ ุงุฒ ูุฎ ุงุฌุงุฏุดุฏู ุงุณุช.</p>
<h3 id="ุงุฌุงุฏ-ุชููุฏฺฉููุฏููุง-ูุชุนุฏุฏ-ุจุง-ฺฉููู-ฺฉุฑุฏู-ูุฑุณุชูุฏู"><a class="header" href="#ุงุฌุงุฏ-ุชููุฏฺฉููุฏููุง-ูุชุนุฏุฏ-ุจุง-ฺฉููู-ฺฉุฑุฏู-ูุฑุณุชูุฏู">ุงุฌุงุฏ ุชููุฏฺฉููุฏูโูุง ูุชุนุฏุฏ ุจุง ฺฉููู ฺฉุฑุฏู ูุฑุณุชูุฏู</a></h3>
<p>ูุจูุงู ุงุดุงุฑู ฺฉุฑุฏู ฺฉู <code>mpsc</code> ูุฎูู <em>ฺูุฏู ุชููุฏฺฉููุฏูุ ฺฉ ูุตุฑูโฺฉููุฏู</em> ุงุณุช. ุจุงุฏ ุงุฒ <code>mpsc</code> ุงุณุชูุงุฏู ฺฉูู ู ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุชูฺฏ 16-10 ุฑุง ฺฏุณุชุฑุด ุฏูู ุชุง ฺูุฏู ูุฎ ุงุฌุงุฏ ฺฉูู ฺฉู ููฺฏ ููุงุฏุฑ ุฑุง ุจู ููุงู ฺฏุฑูุฏู ุงุฑุณุงู ูโฺฉููุฏ. ูโุชูุงูู ุงู ฺฉุงุฑ ุฑุง ุจุง ฺฉููู ฺฉุฑุฏู ูุฑุณุชูุฏู ุงูุฌุงู ุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 16-11 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">use std::sync::mpsc;
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span>    // --snip--

    let (tx, rx) = mpsc::channel();

    let tx1 = tx.clone();
    thread::spawn(move || {
        let vals = vec![
            String::from("hi"),
            String::from("from"),
            String::from("the"),
            String::from("thread"),
        ];

        for val in vals {
            tx1.send(val).unwrap();
            thread::sleep(Duration::from_secs(1));
        }
    });

    thread::spawn(move || {
        let vals = vec![
            String::from("more"),
            String::from("messages"),
            String::from("for"),
            String::from("you"),
        ];

        for val in vals {
            tx.send(val).unwrap();
            thread::sleep(Duration::from_secs(1));
        }
    });

    for received in rx {
        println!("Got: {received}");
    }

    // --snip--
<span class="boring">}</span></code></pre>
<figcaption>Listing 16-11: ุงุฑุณุงู ฺูุฏู ูพุงู ุงุฒ ฺูุฏู ุชููุฏฺฉููุฏู</figcaption>
</figure>
<p>ุงู ุจุงุฑุ ูุจู ุงุฒ ุงูฺฉู ูุฎ ุงุฌุงุฏุดุฏู ุงูู ุฑุง ุงุฌุงุฏ ฺฉููุ ุฑู ูุฑุณุชูุฏู <code>clone</code> ูุฑุงุฎูุงู ูโฺฉูู. ุงู ฺฉุงุฑ ุจู ูุง ฺฉ ูุฑุณุชูุฏู ุฌุฏุฏ ูโุฏูุฏ ฺฉู ูโุชูุงูู ุจู ูุฎ ุงุฌุงุฏุดุฏู ุงูู ุงุฑุณุงู ฺฉูู. ูุฑุณุชูุฏู ุงุตู ุฑุง ุจู ูุฎ ุงุฌุงุฏุดุฏู ุฏูู ุงุฑุณุงู ูโฺฉูู. ุงู ฺฉุงุฑ ุจู ูุง ุฏู ูุฎ ูโุฏูุฏ ฺฉู ูุฑ ฺฉุฏุงู ูพุงูโูุง ูุฎุชูู ุฑุง ุจู ฺฉ ฺฏุฑูุฏู ุงุฑุณุงู ูโฺฉููุฏ.</p>
<p>ููุช ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ุฎุฑูุฌ ุดูุง ุจุงุฏ ฺุฒ ุดุจู ุจู ุงู ุจุงุดุฏ:</p>
<pre><code class="language-text">Got: hi
Got: more
Got: from
Got: messages
Got: for
Got: the
Got: thread
Got: you
</code></pre>
<p>ููฺฉู ุงุณุช ููุงุฏุฑ ุฑุง ุจู ุชุฑุชุจ ุฏฺฏุฑ ุจุจูุฏุ ุจุณุชู ุจู ุณุณุชู ุดูุง. ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ููุฒูุงู ุฑุง ูู ุฌุงูุจ ู ูู ุฏุดูุงุฑ ูโฺฉูุฏ. ุงฺฏุฑ ุจุง <code>thread::sleep</code> ุขุฒูุงุด ฺฉูุฏ ู ููุงุฏุฑ ูุฎุชูู ุฑุง ุฏุฑ ูุฎโูุง ูุฎุชูู ุจู ุขู ุจุฏูุฏุ ูุฑ ุงุฌุฑุง ุบุฑูุทุนโุชุฑ ุฎูุงูุฏ ุดุฏ ู ูุฑ ุจุงุฑ ุฎุฑูุฌ ูุชูุงูุช ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ุงฺฉููู ฺฉู ุฏุฏู ฺฉุงูุงูโูุง ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏุ ุจุงุฏ ุจู ฺฉ ุฑูุด ุฏฺฏุฑ ููุฒูุงู ูฺฏุงู ุจูุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ููุฒูุงู-ุจุง-ุญุงูุช-ูุดุชุฑฺฉ-shared-state-concurrency"><a class="header" href="#ููุฒูุงู-ุจุง-ุญุงูุช-ูุดุชุฑฺฉ-shared-state-concurrency">ููุฒูุงู ุจุง ุญุงูุช ูุดุชุฑฺฉ (Shared-State Concurrency)</a></h2>
<p>ุงุฑุณุงู ูพุงู ฺฉ ุฑูุด ููุงุณุจ ุจุฑุง ูุฏุฑุช ููุฒูุงู ุงุณุชุ ุงูุง ุชููุง ุฑูุด ูุณุช. ุฑูุด ุฏฺฏุฑ ุงู
ุงุณุช ฺฉู ฺูุฏู ูุฎ ุจู ฺฉ ุฏุงุฏู ูุดุชุฑฺฉ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏ. ุฏูุจุงุฑู ุงู ุจุฎุด ุงุฒ ุดุนุงุฑ
ูุณุชูุฏุงุช ุฒุจุงู Go ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ: ยซุจุง ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุญุงูุธู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูฺฉูุฏ.ยป</p>
<p>ุงุฑุชุจุงุท ุจุง ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุญุงูุธู ฺฺฏููู ุฎูุงูุฏ ุจูุฏุ ุนูุงูู ุจุฑ ุงูุ ฺุฑุง ุนูุงููโููุฏุงู ุจู
ุงุฑุณุงู ูพุงู ูุดุฏุงุฑ ูโุฏููุฏ ฺฉู ุงุฒ ุงุดุชุฑุงฺฉ ุญุงูุธู ุงุณุชูุงุฏู ูฺฉูุฏุ</p>
<p>ุจู ููุนุ ฺฉุงูุงูโูุง (channels) ุฏุฑ ูุฑ ุฒุจุงู ุจุฑูุงููโููุณ ุดุจู ูุงูฺฉุช ฺฉุชุง ูุณุชูุฏุ ุฒุฑุง
ููฺฏุงู ฺฉู ฺฉ ููุฏุงุฑ ุฑุง ุงุฒ ุทุฑู ฺฉ ฺฉุงูุงู ููุชูู ูโฺฉูุฏุ ุฏฺฏุฑ ูุจุงุฏ ุงุฒ ุขู ููุฏุงุฑ ุงุณุชูุงุฏู
ฺฉูุฏ. ููุฒูุงู ุจุง ุญุงูุธู ูุดุชุฑฺฉ ูุงููุฏ ูุงูฺฉุช ฺูุฏฺฏุงูู ุงุณุช: ฺูุฏู ูุฎ ูโุชูุงููุฏ ุจู
ฺฉ ูููุนุช ุญุงูุธูโุง ฺฉุณุงู ุจูโุทูุฑ ููโุฒูุงู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏ. ููุงูุทูุฑ ฺฉู ุฏุฑ ูุตู
15 ุฏุฏุฏุ ุฌุง ฺฉู ุงุณูุงุฑุช ูพููุชุฑูุง ูุงูฺฉุช ฺูุฏฺฏุงูู ุฑุง ููฺฉู ูโฺฉุฑุฏูุฏุ ูุงูฺฉุช
ฺูุฏฺฏุงูู ูโุชูุงูุฏ ูพฺุฏฺฏ ุงุถุงูู ฺฉูุฏ ุฒุฑุง ุงู ูุงูฺฉุชโูุง ูุฎุชูู ูุงุฒ ุจู ูุฏุฑุช
ุฏุงุฑูุฏ. ุณุณุชู ููุน ู ููุงูู ูุงูฺฉุช ุฑุงุณุช ุจู ุทูุฑ ูุงุจูโุชูุฌู ุจู ุตุญุญ ูุฏุฑุช ฺฉุฑุฏู
ุงู ููุงุฑุฏ ฺฉูฺฉ ูโฺฉูุฏ. ุจุฑุง ฺฉ ูุซุงูุ ุจุงุฏ ุจู mutexโูุง ูฺฏุงู ุจูุฏุงุฒูุ ฺฉ ุงุฒ
ุงุจุชุฏุงโุชุฑู ุณุงุฒูฺฉุงุฑูุง ููุฒูุงู ุจุฑุง ุญุงูุธู ูุดุชุฑฺฉ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-mutexูุง-ุจุฑุง-ุงุฌุงุฒู-ุฏุณุชุฑุณ-ุจู-ุฏุงุฏููุง-ุชูุณุท-ฺฉ-ูุฎ-ุฏุฑ-ูุฑ-ุฒูุงู"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-mutexูุง-ุจุฑุง-ุงุฌุงุฒู-ุฏุณุชุฑุณ-ุจู-ุฏุงุฏููุง-ุชูุณุท-ฺฉ-ูุฎ-ุฏุฑ-ูุฑ-ุฒูุงู">ุงุณุชูุงุฏู ุงุฒ Mutexโูุง ุจุฑุง ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง ุชูุณุท ฺฉ ูุฎ ุฏุฑ ูุฑ ุฒูุงู</a></h3>
<p><em>Mutex</em> ูุฎูู <em>mutual exclusion</em> (ุญุฐู ูุชูุงุจู) ุงุณุชุ ุจู ุงู ูุนูุง ฺฉู ฺฉ mutex ููุท
ุจู ฺฉ ูุฎ ุงุฌุงุฒู ูโุฏูุฏ ุฏุฑ ูุฑ ูุญุธู ุจู ุจุฑุฎ ุฏุงุฏูโูุง ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ุฏุณุชุฑุณ
ุจู ุฏุงุฏูโูุง ฺฉ mutexุ ฺฉ ูุฎ ุจุงุฏ ุงุจุชุฏุง ุณฺฏูุงู ุฏูุฏ ฺฉู ูโุฎูุงูุฏ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ
ุจุง ุฏุฑุฎูุงุณุช ููู ฺฉุฑุฏู (acquire the lock) mutex. ููู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุงุณุช ฺฉู ุจุฎุด
ุงุฒ mutex ุงุณุช ู ูพฺฏุฑ ูโฺฉูุฏ ฺฉู ฺู ฺฉุณ ุฏุฑ ุญุงู ุญุงุถุฑ ุจูโุทูุฑ ุงูุญุตุงุฑ ุจู ุฏุงุฏูโูุง
ุฏุณุชุฑุณ ุฏุงุฑุฏ. ุจูุงุจุฑุงูุ mutex ุจูโุนููุงู ูฺฏูุจุงู ุงุฒ ุฏุงุฏูโูุง ฺฉู ูฺฏู ูโุฏุงุฑุฏ ุชูุตู
ูโุดูุฏ ฺฉู ุงุฒ ุทุฑู ุณุณุชู ููู ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>Mutexโูุง ุจู ุฏูู ุงู ฺฉู ุจุงุฏ ุฏู ูุงููู ุฑุง ุจู ุฎุงุทุฑ ุจุณูพุงุฑุฏุ ุจู ุณุฎุช ุจูุฏู ุดูุฑุช ุฏุงุฑูุฏ:</p>
<ul>
<li>ุดูุง ุจุงุฏ ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุฏุงุฏูโูุงุ ุณุน ฺฉูุฏ ููู ุฑุง ุจฺฏุฑุฏ.</li>
<li>ููฺฏุงู ฺฉู ุงุณุชูุงุฏู ุดูุง ุงุฒ ุฏุงุฏูโูุง ฺฉู mutex ูฺฏูุจุงู ูโฺฉูุฏ ุชูุงู ุดุฏุ ุจุงุฏ
ุฏุงุฏูโูุง ุฑุง ุจุงุฒ ฺฉูุฏ ุชุง ูุฎโูุง ุฏฺฏุฑ ุจุชูุงููุฏ ููู ุฑุง ุจฺฏุฑูุฏ.</li>
</ul>
<p>ุจุฑุง ฺฉ ุชูุซู ุฏูุง ูุงูุน ุจุฑุง mutexุ ฺฉ ุจุญุซ ูพุงูู ุฏุฑ ฺฉ ฺฉููุฑุงูุณ ุฑุง ุชุตูุฑ ฺฉูุฏ
ฺฉู ููุท ฺฉ ูฺฉุฑูููู ูุฌูุฏ ุฏุงุฑุฏ. ูุจู ุงุฒ ุงูฺฉู ฺฉ ุนุถู ูพุงูู ุจุชูุงูุฏ ุตุญุจุช ฺฉูุฏุ ุจุงุฏ
ุฏุฑุฎูุงุณุช ุฏูุฏ ุง ุณฺฏูุงู ุฏูุฏ ฺฉู ูโุฎูุงูุฏ ุงุฒ ูฺฉุฑูููู ุงุณุชูุงุฏู ฺฉูุฏ. ููุช ูฺฉุฑูููู ุฑุง
ูโฺฏุฑุฏุ ูโุชูุงูุฏ ูุฑ ฺูุฏุฑ ฺฉู ุจุฎูุงูุฏ ุตุญุจุช ฺฉูุฏ ู ุณูพุณ ูฺฉุฑูููู ุฑุง ุจู ุนุถู ุจุนุฏ
ฺฉู ุฏุฑุฎูุงุณุช ุตุญุจุช ฺฉุฑุฏู ุงุณุช ุจุฏูุฏ. ุงฺฏุฑ ฺฉ ุนุถู ูพุงูู ูุฑุงููุด ฺฉูุฏ ฺฉู ูฺฉุฑูููู ุฑุง ูพุณ
ุฏูุฏุ ูฺ ฺฉุณ ุฏฺฏุฑ ููโุชูุงูุฏ ุตุญุจุช ฺฉูุฏ. ุงฺฏุฑ ูุฏุฑุช ูฺฉุฑูููู ูุดุชุฑฺฉ ุงุดุชุจุงู ุงูุฌุงู
ุดูุฏุ ูพุงูู ูุทุงุจู ุจุฑูุงูู ูพุด ูุฎูุงูุฏ ุฑูุช!</p>
<p>ูุฏุฑุช mutexโูุง ูโุชูุงูุฏ ุจุณุงุฑ ุฏุดูุงุฑ ุจุงุดุฏุ ุจู ููู ุฏูู ุงุณุช ฺฉู ุจุณุงุฑ ุงุฒ ุงูุฑุงุฏ
ุจู ฺฉุงูุงูโูุง ุนูุงููโููุฏ ูุณุชูุฏ. ุงูุง ุจู ูุทู ุณุณุชู ููุน ู ููุงูู ูุงูฺฉุช ุฑุงุณุชุ ุดูุง
ููโุชูุงูุฏ ุฏุฑ ููู ฺฉุฑุฏู ู ุจุงุฒ ฺฉุฑุฏู ููู ุงุดุชุจุงู ฺฉูุฏ.</p>
<h4 id="api-mutext"><a class="header" href="#api-mutext">API <code>Mutex&lt;T&gt;</code></a></h4>
<p>ุจูโุนููุงู ูุซุงู ุงุฒ ูุญูู ุงุณุชูุงุฏู ุงุฒ mutexุ ุจุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ mutex ุฏุฑ ฺฉ
ุฒููู ุชฺฉโุฑุณูุงู ุดุฑูุน ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 16-12 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::sync::Mutex;

fn main() {
    let m = Mutex::new(5);

    {
        let mut num = m.lock().unwrap();
        *num = 6;
    }

    println!("m = {m:?}");
}</code></pre></pre>
<figcaption>Listing 16-12: ุจุฑุฑุณ API <code>Mutex&lt;T&gt;</code> ุฏุฑ ฺฉ ุฒููู ุชฺฉโุฑุณูุงู ุจุฑุง ุณุงุฏฺฏ</figcaption>
</figure>
<p>ููุงูโุทูุฑ ฺฉู ุจุง ุจุณุงุฑ ุงุฒ ููุนโูุง ูุดุงูุฏู ูโุดูุฏุ ฺฉ <code>Mutex&lt;T&gt;</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน ูุงุจุณุชู <code>new</code> ุงุฌุงุฏ ูโฺฉูู. ุจุฑุง ุฏุณุชุฑุณ ุจู ุฏุงุฏู ุฏุงุฎู Mutexุ ุงุฒ ูุชุฏ <code>lock</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ููู ุฑุง ุจู ุฏุณุช ุขูุฑู. ุงู ูุฑุงุฎูุงู Thread ูุนู ุฑุง ูุชููู ูโฺฉูุฏุ ุจูุงุจุฑุงู ููโุชูุงูุฏ ฺฉุงุฑ ุงูุฌุงู ุฏูุฏ ุชุง ุฒูุงู ฺฉู ููุจุช ูุง ุจุฑุง ฺฏุฑูุชู ููู ุจุฑุณุฏ.</p>
<p>ูุฑุงุฎูุงู <code>lock</code> ุฏุฑ ุตูุฑุช ฺฉู ฺฉ Thread ุฏฺฏุฑ ฺฉู ููู ุฑุง ูฺฏู ุฏุงุดุชู ุฏฺุงุฑ ูุญุดุช (<em>panic</em>) ุดูุฏุ ุดฺฉุณุช ูโุฎูุฑุฏ. ุฏุฑ ฺูู ุญุงูุชุ ูฺโฺฉุณ ุฏฺฏุฑ ููโุชูุงูุฏ ููู ุฑุง ุจู ุฏุณุช ุขูุฑุฏุ ุจูุงุจุฑุงู ุงูุชุฎุงุจ ฺฉุฑุฏูโุงู ฺฉู ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ฺฉูู ู ุงฺฏุฑ ุฏุฑ ฺูู ูุถุนุช ูุฑุงุฑ ฺฏุฑูุชูุ ุงู Thread ูุฒ ุฏฺุงุฑ ูุญุดุช ุดูุฏ.</p>
<p>ุจุนุฏ ุงุฒ ฺฏุฑูุชู ูููุ ูโุชูุงูู ููุฏุงุฑ ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุฑุงุ ฺฉู ุฏุฑ ุงูุฌุง ุจู ูุงู <code>num</code> ุงุณุชุ ุจู ุนููุงู ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ ุจู ุฏุงุฏู ุฏุงุฎู ุฏุฑ ูุธุฑ ุจฺฏุฑู. ุณุณุชู ููุน ุชุถูู ูโฺฉูุฏ ฺฉู ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ุฏุงุฎู <code>m</code> ููู ุฑุง ุจู ุฏุณุช ุขูุฑู. ููุน <code>m</code> ุจุฑุงุจุฑ ุจุง <code>Mutex&lt;i32&gt;</code> ุงุณุชุ ูู <code>i32</code>ุ ุจูุงุจุฑุงู <em>ุจุงุฏ</em> ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ <code>i32</code>ุ ูุชุฏ <code>lock</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู. ููโุชูุงูู ูุฑุงููุด ฺฉููุ ุณุณุชู ููุน ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ููุฏุงุฑ ุฏุงุฎู <code>i32</code> ุฑุง ุจู ูุง ููโุฏูุฏ.</p>
<p>ููุงูโุทูุฑ ฺฉู ุงุญุชูุงูุงู ุญุฏุณ ูโุฒูุฏุ <code>Mutex&lt;T&gt;</code> ฺฉ ุงุดุงุฑูโฺฏุฑ ููุดููุฏ ุงุณุช. ุฏููโุชุฑุ ูุฑุงุฎูุงู <code>lock</code> ฺฉ ุงุดุงุฑูโฺฏุฑ ููุดููุฏ ุจู ูุงู <code>MutexGuard</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ฺฉู ุฏุฑ ฺฉ <code>LockResult</code> ุจุณุชูโุจูุฏ ุดุฏู ุงุณุช ู ุขู ุฑุง ุจุง ูุฑุงุฎูุงู <code>unwrap</code> ูุฏุฑุช ฺฉุฑุฏู. ุงุดุงุฑูโฺฏุฑ ููุดููุฏ <code>MutexGuard</code> ูฺฺฏ <code>Deref</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุชุง ุจู ุฏุงุฏู ุฏุงุฎู ูุง ุงุดุงุฑู ฺฉูุฏ. ููฺููุ ุงู ุงุดุงุฑูโฺฏุฑ ููุดููุฏ ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ <code>Drop</code> ุฏุงุฑุฏ ฺฉู ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ููู ุฑุง ุฒูุงู ฺฉู ฺฉ <code>MutexGuard</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏุ ุขุฒุงุฏ ูโฺฉูุฏุ ฺฉู ุงู ุงุชูุงู ุฏุฑ ุงูุชูุง ูุญุฏูุฏู ุฏุงุฎู ุฑุฎ ูโุฏูุฏ. ุฏุฑ ูุชุฌูุ ุฎุทุฑ ูุฑุงููุด ฺฉุฑุฏู ุขุฒุงุฏ ฺฉุฑุฏู ููู ู ุฌููฺฏุฑ ุงุฒ ุงุณุชูุงุฏู ุฏฺฏุฑ Threadูุง ุงุฒ Mutex ูุฌูุฏ ูุฏุงุฑุฏุ ุฒุฑุง ุขุฒุงุฏุณุงุฒ ููู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงูุฌุงู ูโุดูุฏ.</p>
<p>ูพุณ ุงุฒ ุขุฒุงุฏ ฺฉุฑุฏู ูููุ ูโุชูุงูู ููุฏุงุฑ Mutex ุฑุง ฺุงูพ ฺฉูู ู ุจุจูู ฺฉู ุชูุงูุณุชู ููุฏุงุฑ ุฏุงุฎู <code>i32</code> ุฑุง ุจู ถ ุชุบุฑ ุฏูู.</p>
<h4 id="ุงุดุชุฑุงฺฉฺฏุฐุงุฑ-ฺฉ-mutext-ุจู-ฺูุฏู-thread"><a class="header" href="#ุงุดุชุฑุงฺฉฺฏุฐุงุฑ-ฺฉ-mutext-ุจู-ฺูุฏู-thread">ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉ <code>Mutex&lt;T&gt;</code> ุจู ฺูุฏู Thread</a></h4>
<p>ุญุงูุงุ ุจุงุฏ ุชูุงุด ฺฉูู ฺฉ ููุฏุงุฑ ุฑุง ุจู ฺูุฏู Thread ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Mutex&lt;T&gt;</code> ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑู. ูุง ฑฐ Thread ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ู ูุฑฺฉุฏุงู ููุฏุงุฑ ุดูุงุฑูุฏู ุฑุง ฑ ูุงุญุฏ ุงูุฒุงุด ูโุฏููุฏุ ุจูุงุจุฑุงู ุดูุงุฑูุฏู ุงุฒ ฐ ุจู ฑฐ ูโุฑุณุฏ. ูุซุงู ุจุนุฏ ุฏุฑ ูุณุช ฑถ-ฑณ ุฏุงุฑุง ุฎุทุง ฺฉุงููพุงู ุฎูุงูุฏ ุจูุฏุ ู ุงุฒ ุขู ุฎุทุง ุจุฑุง ุงุฏฺฏุฑ ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุงุณุชูุงุฏู ุงุฒ <code>Mutex&lt;T&gt;</code> ู ุงูฺฉู ฺฺฏููู Rust ุจู ูุง ฺฉูฺฉ ูโฺฉูุฏ ุงุฒ ุขู ุจู ุฏุฑุณุช ุงุณุชูุงุฏู ฺฉููุ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::sync::Mutex;
use std::thread;

fn main() {
    let counter = Mutex::new(0);
    let mut handles = vec![];

    for _ in 0..10 {
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();

            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!("Result: {}", *counter.lock().unwrap());
}</code></pre>
<figcaption>Listing 16-13: ุฏู ูุฎ ฺฉู ูุฑ ฺฉุฏุงู ููุฏุงุฑ ุดูุงุฑูุฏู ูุญุงูุธุชโุดุฏู ุชูุณุท ฺฉ <code>Mutex&lt;T&gt;</code> ุฑุง ุงูุฒุงุด ูโุฏููุฏ</figcaption>
</figure>
<p>ูุง ฺฉ ูุชุบุฑ <code>counter</code> ุงุฌุงุฏ ูโฺฉูู ุชุง ฺฉ ููุฏุงุฑ <code>i32</code> ุฑุง ุฏุฑ ฺฉ <code>Mutex&lt;T&gt;</code> ูฺฏู ุฏุงุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑถ-ฑฒ ุงูุฌุงู ุฏุงุฏู. ุณูพุณุ ุจุง ุชฺฉุฑุงุฑ ุฑู ฺฉ ุจุงุฒู ุนุฏุฏุ ฑฐ Thread ุงุฌุงุฏ ูโฺฉูู. ุงุฒ <code>thread::spawn</code> ุงุณุชูุงุฏู ูโฺฉูู ู ุจู ุชูุงู Threadูุง ฺฉ Closure ฺฉุณุงู ูโุฏูู: ฺฉ Closure ฺฉู ูุชุบุฑ <code>counter</code> ุฑุง ุจู Thread ููุชูู ูโฺฉูุฏุ ููู <code>Mutex&lt;T&gt;</code> ุฑุง ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>lock</code> ุจู ุฏุณุช ูโุขูุฑุฏุ ู ุณูพุณ ฑ ูุงุญุฏ ุจู ููุฏุงุฑ ุฏุงุฎู Mutex ุงุถุงูู ูโฺฉูุฏ. ููุช ฺฉ Thread ุงุฌุฑุง Closure ุฎูุฏ ุฑุง ุชูุงู ูโฺฉูุฏุ <code>num</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ุดุฏู ู ููู ุฑุง ุขุฒุงุฏ ูโฺฉูุฏ ุชุง Thread ุฏฺฏุฑ ุจุชูุงูุฏ ุขู ุฑุง ุจู ุฏุณุช ุขูุฑุฏ.</p>
<p>ุฏุฑ Thread ุงุตูุ ุชูุงู handleูุง join ุฑุง ุฌูุนโุขูุฑ ูโฺฉูู. ุณูพุณุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑถ-ฒ ุงูุฌุงู ุฏุงุฏูุ ูุชุฏ <code>join</code> ุฑุง ุฑู ูุฑ handle ูุฑุงุฎูุงู ูโฺฉูู ุชุง ูุทูุฆู ุดูู ุชูุงู Threadูุง ุชูุงู ุดุฏูโุงูุฏ. ุฏุฑ ุขู ููุทูุ Thread ุงุตู ููู ุฑุง ุจู ุฏุณุช ูโุขูุฑุฏ ู ูุชุฌู ุงู ุจุฑูุงูู ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ูุง ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ุงู ูุซุงู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ุญุงูุง ุจุงุฏ ุจุจูู ฺุฑุง!</p>
<pre><code class="language-console">$ cargo run
   Compiling shared-state v0.1.0 (file:///projects/shared-state)
error[E0382]: borrow of moved value: `counter`
  --&gt; src/main.rs:21:29
   |
5  |     let counter = Mutex::new(0);
   |         ------- move occurs because `counter` has type `Mutex&lt;i32&gt;`, which does not implement the `Copy` trait
...
8  |     for _ in 0..10 {
   |     -------------- inside of this loop
9  |         let handle = thread::spawn(move || {
   |                                    ------- value moved into closure here, in previous iteration of loop
...
21 |     println!("Result: {}", *counter.lock().unwrap());
   |                             ^^^^^^^ value borrowed here after move
   |
help: consider moving the expression out of the loop so it is only moved once
   |
8  ~     let mut value = counter.lock();
9  ~     for _ in 0..10 {
10 |         let handle = thread::spawn(move || {
11 ~             let mut num = value.unwrap();
   |

For more information about this error, try `rustc --explain E0382`.
error: could not compile `shared-state` (bin "shared-state") due to 1 previous error
</code></pre>
<p>ูพุงู ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ููุฏุงุฑ <code>counter</code> ุฏุฑ ุชฺฉุฑุงุฑ ูุจู ุญููู ููุชูู ุดุฏู ุงุณุช. Rust ุจู ูุง ูโฺฏูุฏ ฺฉู ููโุชูุงูู ูุงูฺฉุช <code>counter</code> ุฑุง ุจู ฺูุฏู Thread ููุชูู ฺฉูู. ุจุงุฏ ุงู ุฎุทุง ฺฉุงููพุงูุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑูุด ูุงูฺฉุช ฺูุฏฺฏุงูู ฺฉู ุฏุฑ ูุตู ฑต ุจุญุซ ฺฉุฑุฏูุ ุจุฑุทุฑู ฺฉูู.</p>
<h4 id="ูุงูฺฉุช-ฺูุฏฺฏุงูู-ุจุง-ฺูุฏู-thread"><a class="header" href="#ูุงูฺฉุช-ฺูุฏฺฏุงูู-ุจุง-ฺูุฏู-thread">ูุงูฺฉุช ฺูุฏฺฏุงูู ุจุง ฺูุฏู Thread</a></h4>
<p>ุฏุฑ ูุตู ฑตุ ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุดุงุฑูโฺฏุฑ ููุดููุฏ <code>Rc&lt;T&gt;</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ููุฏุงุฑ ุดูุงุฑุดโุดุฏู ุชูุณุท ูุฑุฌุน (<em>reference-counted value</em>) ุจู ฺฉ ููุฏุงุฑ ฺูุฏู ูุงูฺฉ ุฏุงุฏู. ุจุงุฏ ููู ฺฉุงุฑ ุฑุง ุงูุฌุง ุงูุฌุงู ุฏูู ู ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ. ูุง <code>Mutex&lt;T&gt;</code> ุฑุง ุฏุฑ <code>Rc&lt;T&gt;</code> ุจุณุชูโุจูุฏ ูโฺฉูู (ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑถ-ฑด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช) ู ูุจู ุงุฒ ุงูุชูุงู ูุงูฺฉุช ุจู Threadุ <code>Rc&lt;T&gt;</code> ุฑุง ฺฉููู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use std::rc::Rc;
use std::sync::Mutex;
use std::thread;

fn main() {
    let counter = Rc::new(Mutex::new(0));
    let mut handles = vec![];

    for _ in 0..10 {
        let counter = Rc::clone(&amp;counter);
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();

            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!("Result: {}", *counter.lock().unwrap());
}</code></pre>
<figcaption>Listing 16-14: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>Rc&lt;T&gt;</code> ุจุฑุง ุงุฌุงุฒู ูุงูฺฉุช ฺูุฏฺฏุงูู <code>Mutex&lt;T&gt;</code> ุชูุณุท ฺูุฏู Thread</figcaption>
</figure>
<p>ุฏูุจุงุฑู ฺฉุงููพุงู ูโฺฉูู ูโฆ ุฎุทุงูุง ูุชูุงูุช ุฏุฑุงูุช ูโฺฉูู! ฺฉุงููพุงูุฑ ฺุฒูุง ุฒุงุฏ ุจู ูุง ุงุฏ ูโุฏูุฏ.</p>
<pre><code class="language-console">$ cargo run
   Compiling shared-state v0.1.0 (file:///projects/shared-state)
error[E0277]: `Rc&lt;Mutex&lt;i32&gt;&gt;` cannot be sent between threads safely
   --&gt; src/main.rs:11:36
    |
11  |           let handle = thread::spawn(move || {
    |                        ------------- ^------
    |                        |             |
    |  ______________________|_____________within this `{closure@src/main.rs:11:36: 11:43}`
    | |                      |
    | |                      required by a bound introduced by this call
12  | |             let mut num = counter.lock().unwrap();
13  | |
14  | |             *num += 1;
15  | |         });
    | |_________^ `Rc&lt;Mutex&lt;i32&gt;&gt;` cannot be sent between threads safely
    |
    = help: within `{closure@src/main.rs:11:36: 11:43}`, the trait `Send` is not implemented for `Rc&lt;Mutex&lt;i32&gt;&gt;`, which is required by `{closure@src/main.rs:11:36: 11:43}: Send`
note: required because it's used within this closure
   --&gt; src/main.rs:11:36
    |
11  |         let handle = thread::spawn(move || {
    |                                    ^^^^^^^
note: required by a bound in `spawn`
   --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/std/src/thread/mod.rs:675:8
    |
672 | pub fn spawn&lt;F, T&gt;(f: F) -&gt; JoinHandle&lt;T&gt;
    |        ----- required by a bound in this function
...
675 |     F: Send + 'static,
    |        ^^^^ required by this bound in `spawn`

For more information about this error, try `rustc --explain E0277`.
error: could not compile `shared-state` (bin "shared-state") due to 1 previous error
</code></pre>
<p>ูุงุ ุงู ูพุงู ุฎุทุง ุจุณุงุฑ ุทููุงู ุงุณุช! ุงูุง ุจุฎุด ููู ฺฉู ุจุงุฏ ุฑู ุขู ุชูุฑฺฉุฒ ฺฉูู ุงู ุงุณุช:<br />
<code>`Rc&lt;Mutex&lt;i32&gt;&gt;` cannot be sent between threads safely</code>.<br />
ฺฉุงููพุงูุฑ ููฺูู ุฏูู ุขู ุฑุง ุจู ูุง ูโฺฏูุฏ:<br />
<code>the trait `Send` is not implemented for `Rc&lt;Mutex&lt;i32&gt;&gt;`</code>.</p>
<p>ูุง ุฏุฑ ุจุฎุด ุจุนุฏ ุฏุฑุจุงุฑู <code>Send</code> ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ: ฺฉ ุงุฒ ูฺฺฏโูุง ฺฉู ุงุทููุงู ูโุฏูุฏ ููุนโูุง ฺฉู ุจุง Threadูุง ุงุณุชูุงุฏู ูโฺฉูู ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุดุฑุงุท ููุฒูุงู ุทุฑุงุญ ุดุฏูโุงูุฏ.</p>
<p>ูุชุฃุณูุงููุ <code>Rc&lt;T&gt;</code> ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุจู Threadูุง ุงูู ูุณุช. ููุช <code>Rc&lt;T&gt;</code> ุดูุงุฑุด ูุฑุฌุน ุฑุง ูุฏุฑุช ูโฺฉูุฏุ ุจุฑุง ูุฑ ูุฑุงุฎูุงู ุจู <code>clone</code> ุจู ุดูุงุฑุด ุงุถุงูู ูโฺฉูุฏ ู ููุช ูุฑ ฺฉููู ุญุฐู ูโุดูุฏุ ุงุฒ ุดูุงุฑุด ฺฉู ูโฺฉูุฏ. ุงูุง ุงุฒ ูฺ ุงุจุฒุงุฑ ููุฒูุงู ุงุณุชูุงุฏู ููโฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ุชุบุฑุงุช ุฏุฑ ุดูุงุฑุด ููโุชูุงููุฏ ุชูุณุท ฺฉ Thread ุฏฺฏุฑ ูุทุน ุดููุฏ. ุงู ูโุชูุงูุฏ ุจู ุดูุงุฑุดโูุง ุงุดุชุจุงู ููุฌุฑ ุดูุฏโุจุงฺฏโูุง ุธุฑู ฺฉู ููฺฉู ุงุณุช ุจุงุนุซ ูุดุช ุญุงูุธู ุง ุญุฐู ฺฉ ููุฏุงุฑ ูุจู ุงุฒ ุงุชูุงู ฺฉุงุฑ ูุง ุจุง ุขู ุดููุฏ. ฺุฒ ฺฉู ูุงุฒ ุฏุงุฑูุ ููุน ุฏููุงู ูุงููุฏ <code>Rc&lt;T&gt;</code> ุงุณุชุ ุงูุง ฺฉ ฺฉู ุชุบุฑุงุช ุดูุงุฑุด ูุฑุฌุน ุฑุง ุจู ุตูุฑุช ุงูู ุฏุฑ ุจุฑุงุจุฑ Thread ูุฏุฑุช ฺฉูุฏ.</p>
<h4 id="ุดูุงุฑุด-ุงุฑุฌุงุน-ุงุชู-ุจุง-arct"><a class="header" href="#ุดูุงุฑุด-ุงุฑุฌุงุน-ุงุชู-ุจุง-arct">ุดูุงุฑุด ุงุฑุฌุงุน ุงุชู ุจุง <code>Arc&lt;T&gt;</code></a></h4>
<p>ุฎูุดุจุฎุชุงููุ <code>Arc&lt;T&gt;</code> ฺฉ ููุน ูุดุงุจู <code>Rc&lt;T&gt;</code> ุงุณุช ฺฉู ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุดุฑุงุท ููุฒูุงู ุงูู ุงุณุช. ุญุฑู <em>a</em> ุฏุฑ <code>Arc</code> ูุฎูู <em>atomic</em> ุงุณุชุ ุจู ุงู ูุนูุง ฺฉู ฺฉ ููุน <em>ุดูุงุฑุด ูุฑุฌุน ุงุชู</em> ุงุณุช. ุงุชูฺฉโูุง ููุน ุฏฺฏุฑ ุงุฒ ุนูุงุตุฑ ุงุจุชุฏุง ููุฒูุงู ูุณุชูุฏ ฺฉู ุฏุฑ ุงูุฌุง ุจูโุทูุฑ ููุตู ุจู ุขูโูุง ููโูพุฑุฏุงุฒูุ ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจู ูุณุชูุฏุงุช ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฏุฑ ููุฑุฏ <a href="https://doc.rust-lang.org/std/sync/atomic/index.html"><code>std::sync::atomic</code></a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏ. ุฏุฑ ุงู ูุฑุญููุ ููุท ุจุงุฏ ุจุฏุงูุฏ ฺฉู ุงุชูฺฉโูุง ูุงููุฏ ููุนโูุง ุงุจุชุฏุง ฺฉุงุฑ ูโฺฉููุฏ ุงูุง ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุจู Threadูุง ุงูู ูุณุชูุฏ.</p>
<p>ุดุงุฏ ุงุฒ ุฎูุฏ ุจูพุฑุณุฏ ฺุฑุง ุชูุงู ููุนโูุง ุงุจุชุฏุง ุงุชู ูุณุชูุฏ ู ฺุฑุง ููุนโูุง ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจูโุทูุฑ ูพุดโูุฑุถ ุงุฒ <code>Arc&lt;T&gt;</code> ุงุณุชูุงุฏู ููโฺฉููุฏ. ุฏูู ุงู ุงุณุช ฺฉู ุงูู Thread ุจุง ฺฉ ูุฒูู ุนููฺฉุฑุฏ ููุฑุงู ุงุณุช ฺฉู ููุท ุฒูุงู ฺฉู ูุงูุนุงู ูุงุฒ ุจุงุดุฏุ ูโุฎูุงูุฏ ุขู ุฑุง ูพุฑุฏุงุฎุช ฺฉูุฏ. ุงฺฏุฑ ููุท ุฑู ููุงุฏุฑ ุฏุฑ ฺฉ Thread ูุงุญุฏ ุนููุงุช ุงูุฌุงู ูโุฏูุฏุ ฺฉุฏ ุดูุง ูโุชูุงูุฏ ุณุฑุนโุชุฑ ุงุฌุฑุง ุดูุฏ ุงฺฏุฑ ูุฌุจูุฑ ุจู ุงุนูุงู ุชุถููโูุง ุงุชูฺฉ ูุจุงุดุฏ.</p>
<p>ุจุงุฏ ุจู ูุซุงู ุฎูุฏ ุจุฑฺฏุฑุฏู: <code>Arc&lt;T&gt;</code> ู <code>Rc&lt;T&gt;</code> API ฺฉุณุงู ุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุจุฑูุงูู ุฎูุฏ ุฑุง ุจุง ุชุบุฑ ุฎุท <code>use</code>ุ ูุฑุงุฎูุงู <code>new</code>ุ ู ูุฑุงุฎูุงู <code>clone</code> ุงุตูุงุญ ูโฺฉูู. ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฑถ-ฑต ุฏุฑ ููุงุช ฺฉุงููพุงู ู ุงุฌุฑุง ูโุดูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::sync::{Arc, Mutex};
use std::thread;

fn main() {
    let counter = Arc::new(Mutex::new(0));
    let mut handles = vec![];

    for _ in 0..10 {
        let counter = Arc::clone(&amp;counter);
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();

            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!("Result: {}", *counter.lock().unwrap());
}</code></pre></pre>
<figcaption>Listing 16-15: ุงุณุชูุงุฏู ุงุฒ <code>Arc&lt;T&gt;</code> ุจุฑุง ุจุณุชูโุจูุฏ <code>Mutex&lt;T&gt;</code> ุฌูุช ุงุดุชุฑุงฺฉ ูุงูฺฉุช ุจู ฺูุฏู Thread</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">Result: 10
</code></pre>
<p>ูุง ูููู ุดุฏู! ุดูุงุฑูุฏู ุฑุง ุงุฒ ฐ ุจู ฑฐ ุงูุฒุงุด ุฏุงุฏู ฺฉู ููฺฉู ุงุณุช ุฎู ฺุดูฺฏุฑ ุจู ูุธุฑ ูุฑุณุฏุ ุงูุง ฺุฒูุง ุฒุงุฏ ุฏุฑุจุงุฑู <code>Mutex&lt;T&gt;</code> ู ุงูู Thread ุงุฏ ฺฏุฑูุชู. ููฺูู ูโุชูุงูุฏ ุงุฒ ุณุงุฎุชุงุฑ ุงู ุจุฑูุงูู ุจุฑุง ุงูุฌุงู ุนููุงุช ูพฺุฏูโุชุฑ ุจูโุฌุฒ ุงูุฒุงุด ฺฉ ุดูุงุฑูุฏู ุงุณุชูุงุฏู ฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงุณุชุฑุงุชฺุ ูโุชูุงูุฏ ฺฉ ูุญุงุณุจู ุฑุง ุจู ุจุฎุดโูุง ูุณุชูู ุชูุณู ฺฉูุฏุ ุงู ุจุฎุดโูุง ุฑุง ุจู Threadูุง ุชูุณู ฺฉูุฏุ ู ุณูพุณ ุงุฒ ฺฉ <code>Mutex&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ูุฑ Thread ูุชุฌู ููุง ุฑุง ุจุง ุจุฎุด ูุฑุจูุท ุจู ุฎูุฏุด ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงฺฏุฑ ุฏุฑ ุญุงู ุงูุฌุงู ุนููุงุช ุนุฏุฏ ุณุงุฏู ูุณุชุฏุ ููุนโูุง ุณุงุฏูโุชุฑ ูุณุจุช ุจู <code>Mutex&lt;T&gt;</code> ุฏุฑ ูุงฺูู <a href="https://doc.rust-lang.org/std/sync/atomic/index.html"><code>std::sync::atomic</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ</a><!-- ignore --> ุงุฑุงุฆู ุดุฏูโุงูุฏ. ุงู ููุนโูุง ุฏุณุชุฑุณ ุงุชูุ ุงูู ู ููุฒูุงู ุจู ููุนโูุง ุงุจุชุฏุง ูุฑุงูู ูโฺฉููุฏ. ูุง ุจุฑุง ุงู ูุซุงู ุงุฒ <code>Mutex&lt;T&gt;</code> ุจุง ฺฉ ููุน ุงุจุชุฏุง ุงุณุชูุงุฏู ฺฉุฑุฏู ุชุง ุจุชูุงูู ุจุฑ ูุญูู ฺฉุงุฑ <code>Mutex&lt;T&gt;</code> ุชูุฑฺฉุฒ ฺฉูู.</p>
<h3 id="ุดุจุงูุชูุง-ุจู-refcelltrct-ู-mutextarct"><a class="header" href="#ุดุจุงูุชูุง-ุจู-refcelltrct-ู-mutextarct">ุดุจุงูุชโูุง ุจู <code>RefCell&lt;T&gt;</code>/<code>Rc&lt;T&gt;</code> ู <code>Mutex&lt;T&gt;</code>/<code>Arc&lt;T&gt;</code></a></h3>
<p>ููฺฉู ุงุณุช ูุชูุฌู ุดุฏู ุจุงุดุฏ ฺฉู <code>counter</code> ุชุบุฑูุงูพุฐุฑ ุงุณุชุ ุงูุง ุชูุงูุณุชู ฺฉ ูุฑุฌุน ูุงุจู ุชุบุฑ ุจู ููุฏุงุฑ ุฏุงุฎู ุขู ุจฺฏุฑูุ ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู <code>Mutex&lt;T&gt;</code> ูุงุจูุช ุชุบุฑ ุฏุงุฎู (<em>interior mutability</em>) ุฑุง ูุฑุงูู ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฎุงููุงุฏู <code>Cell</code> ุงู ฺฉุงุฑ ุฑุง ูโฺฉููุฏ. ุจู ููุงู ุดฺฉู ฺฉู ุฏุฑ ูุตู ฑต ุงุฒ <code>RefCell&lt;T&gt;</code> ุจุฑุง ุงุฌุงุฒู ุชุบุฑ ูุญุชูุง ุฏุฑูู ฺฉ <code>Rc&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุงุฒ <code>Mutex&lt;T&gt;</code> ุจุฑุง ุชุบุฑ ูุญุชูุง ุฏุฑูู ฺฉ <code>Arc&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ูฺฉุชู ุฏฺฏุฑ ฺฉู ุจุงุฏ ุชูุฌู ฺฉูุฏ ุงู ุงุณุช ฺฉู Rust ููโุชูุงูุฏ ุดูุง ุฑุง ุงุฒ ุชูุงู ุงููุงุน ุฎุทุงูุง ููุทู ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ <code>Mutex&lt;T&gt;</code> ูุญุงูุธุช ฺฉูุฏ. ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ูุตู ฑต ุงุณุชูุงุฏู ุงุฒ <code>Rc&lt;T&gt;</code> ุจุง ุฎุทุฑ ุงุฌุงุฏ ฺุฑุฎูโูุง ูุฑุฌุน ููุฑุงู ุจูุฏุ ุฌุง ฺฉู ุฏู ููุฏุงุฑ <code>Rc&lt;T&gt;</code> ุจู ฺฉุฏฺฏุฑ ุงุฑุฌุงุน ูโุฏุงุฏูุฏ ู ุจุงุนุซ ูุดุช ุญุงูุธู ูโุดุฏูุฏ. ุจูโุทูุฑ ูุดุงุจูุ <code>Mutex&lt;T&gt;</code> ุจุง ุฎุทุฑ ุงุฌุงุฏ <em>ุจูโุจุณุช</em> (<em>deadlock</em>) ููุฑุงู ุงุณุช. ุงู ูุถุนุช ุฒูุงู ุฑุฎ ูโุฏูุฏ ฺฉู ฺฉ ุนููุงุช ูุงุฒ ุจู ููู ฺฉุฑุฏู ุฏู ููุจุน ุฏุงุฑุฏ ู ุฏู Thread ูุฑ ฺฉุฏุงู ฺฉ ุงุฒ ูููโูุง ุฑุง ุจู ุฏุณุช ุขูุฑุฏูโุงูุฏ ู ุจุงุนุซ ูโุดููุฏ ฺฉู ุจุฑุง ููุดู ููุชุธุฑ ฺฉุฏฺฏุฑ ุจูุงููุฏ. ุงฺฏุฑ ุจู ุจูโุจุณุช ุนูุงูู ุฏุงุฑุฏุ ุณุน ฺฉูุฏ ฺฉ ุจุฑูุงูู Rust ุงุฌุงุฏ ฺฉูุฏ ฺฉู ุฏฺุงุฑ ุจูโุจุณุช ุดูุฏุ ุณูพุณ ุงุณุชุฑุงุชฺโูุง ฺฉุงูุด ุจูโุจุณุช ุจุฑุง Mutexูุง ุฏุฑ ูุฑ ุฒุจุงู ุฑุง ุชุญูู ฺฉูุฏ ู ุขูโูุง ุฑุง ุฏุฑ Rust ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ูุณุชูุฏุงุช API ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง <code>Mutex&lt;T&gt;</code> ู <code>MutexGuard</code> ุงุทูุงุนุงุช ููุฏ ุงุฑุงุฆู ูโุฏูุฏ.</p>
<p>ูุง ุงู ูุตู ุฑุง ุจุง ุตุญุจุช ุฏุฑุจุงุฑู ูฺฺฏโูุง <code>Send</code> ู <code>Sync</code> ู ูุญูู ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุจุง ููุนโูุง ุณูุงุฑุด ุชฺฉูู ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ููุฒูุงู-ูุงุจูุชูุณุนู-ุจุง-ูฺฺฏูุง-sync-ู-send"><a class="header" href="#ููุฒูุงู-ูุงุจูุชูุณุนู-ุจุง-ูฺฺฏูุง-sync-ู-send">ููุฒูุงู ูุงุจูโุชูุณุนู ุจุง ูฺฺฏโูุง <code>Sync</code> ู <code>Send</code></a></h2>
<p>ุฌุงูุจ ุงุณุช ฺฉู ุฒุจุงู ุฑุงุณุช ูฺฺฏโูุง <em>ุจุณุงุฑ</em> ฺฉู ุจุฑุง ููุฒูุงู ุฏุงุฑุฏ. ุชูุฑุจุงู ูุฑ ูฺฺฏ
ููุฒูุงู ฺฉู ุชุงฺฉููู ุฏุฑ ุงู ูุตู ุฏุฑุจุงุฑู ุขู ุตุญุจุช ฺฉุฑุฏูโุงู ุจุฎุด ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ
ุจูุฏู ุงุณุชุ ูู ุฒุจุงู. ฺฏุฒููโูุง ุดูุง ุจุฑุง ูุฏุฑุช ููุฒูุงู ูุญุฏูุฏ ุจู ุฒุจุงู ุง ฺฉุชุงุจุฎุงูู
ุงุณุชุงูุฏุงุฑุฏ ูุณุชูุฏุ ูโุชูุงูุฏ ูฺฺฏโูุง ููุฒูุงู ุฎูุฏ ุฑุง ุจููุณุฏ ุง ุงุฒ ูฺฺฏโูุง ฺฉู
ุฏฺฏุฑุงู ููุดุชูโุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุฏู ููููู ููุฒูุงู ุฏุฑ ุฒุจุงู ุชุนุจู ุดุฏูโุงูุฏ: ูฺฺฏโูุง <code>std::marker</code>
ุจู ูุงูโูุง <code>Sync</code> ู <code>Send</code>.</p>
<h3 id="ุงุฌุงุฒู-ุงูุชูุงู-ูุงูฺฉุช-ุจู-ูุฎูุง-ุจุง-send"><a class="header" href="#ุงุฌุงุฒู-ุงูุชูุงู-ูุงูฺฉุช-ุจู-ูุฎูุง-ุจุง-send">ุงุฌุงุฒู ุงูุชูุงู ูุงูฺฉุช ุจู ูุฎโูุง ุจุง <code>Send</code></a></h3>
<p>ูฺฺฏ ูุดุงูฺฏุฑ <code>Send</code> ูุดุงู ูโุฏูุฏ ฺฉู ูุงูฺฉุช ููุงุฏุฑ ููุน ฺฉู <code>Send</code> ุฑุง ูพุงุฏูโุณุงุฒ
ูโฺฉูุฏ ูโุชูุงูุฏ ุจู ูุฎโูุง ููุชูู ุดูุฏ. ุชูุฑุจุงู ูุฑ ููุน ุฏุฑ ุฑุงุณุช <code>Send</code> ุงุณุชุ ุงูุง
ุจุฑุฎ ุงุณุชุซูุงูุง ูุฌูุฏ ุฏุงุฑูุฏุ ุงุฒ ุฌููู <code>Rc&lt;T&gt;</code>: ุงู ููุน ููโุชูุงูุฏ <code>Send</code> ุจุงุดุฏ ุฒุฑุง
ุงฺฏุฑ ฺฉ ููุฏุงุฑ <code>Rc&lt;T&gt;</code> ุฑุง ฺฉููู ฺฉูุฏ ู ุณุน ฺฉูุฏ ูุงูฺฉุช ฺฉููู ุฑุง ุจู ูุฎ ุฏฺฏุฑ ููุชูู
ฺฉูุฏุ ูุฑ ุฏู ูุฎ ููฺฉู ุงุณุช ุดูุงุฑุด ุงุฑุฌุงุน ุฑุง ููโุฒูุงู ุจูโุฑูุฒุฑุณุงู ฺฉููุฏ. ุจู ุงู ุฏููุ
<code>Rc&lt;T&gt;</code> ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุดุฑุงุท ุชฺฉโุฑุณูุงู ุทุฑุงุญ ุดุฏู ุงุณุช ฺฉู ููโุฎูุงูุฏ ุฌุฑูู
ุนููฺฉุฑุฏ ุงูู ูุฎ ุฑุง ูพุฑุฏุงุฎุช ฺฉูุฏ.</p>
<p>ุจูุงุจุฑุงูุ ุณุณุชู ููุน ู ูุญุฏูุฏุชโูุง ูฺฺฏ ุฑุงุณุช ุชุถูู ูโฺฉููุฏ ฺฉู ูุฑฺฏุฒ ุจูโุทูุฑ
ูุงุฎูุงุณุชู ฺฉ ููุฏุงุฑ <code>Rc&lt;T&gt;</code> ุฑุง ุจู ุตูุฑุช ูุงุงูู ุจู ูุฎโูุง ุงุฑุณุงู ูฺฉูุฏ. ููุช ุณุน
ฺฉุฑุฏู ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ููุฑุณุช 16-14 ุงูุฌุงู ุฏููุ ุฎุทุง <code>the trait Send is not  implemented for Rc&lt;Mutex&lt;i32&gt;&gt;</code> ุฏุฑุงูุช ฺฉุฑุฏู. ููุช ุจู <code>Arc&lt;T&gt;</code> ฺฉู <code>Send</code> ุงุณุช
ุชุบุฑ ุฏุงุฏูุ ฺฉุฏ ฺฉุงููพุงู ุดุฏ.</p>
<p>ูุฑ ููุน ฺฉู ุจูโุทูุฑ ฺฉุงูู ุงุฒ ููุนโูุง <code>Send</code> ุชุดฺฉู ุดุฏู ุจุงุดุฏ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุจู ุนููุงู
<code>Send</code> ุนูุงูุชโฺฏุฐุงุฑ ูโุดูุฏ. ุชูุฑุจุงู ุชูุงู ููุนโูุง ุงููู <code>Send</code> ูุณุชูุฏุ ุจู ุฌุฒ
ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงูุ ฺฉู ุฏุฑ ูุตู 20 ุฏุฑุจุงุฑู ุขูโูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุงุฌุงุฒู-ุฏุณุชุฑุณ-ุงุฒ-ฺูุฏู-ูุฎ-ุจุง-sync"><a class="header" href="#ุงุฌุงุฒู-ุฏุณุชุฑุณ-ุงุฒ-ฺูุฏู-ูุฎ-ุจุง-sync">ุงุฌุงุฒู ุฏุณุชุฑุณ ุงุฒ ฺูุฏู ูุฎ ุจุง <code>Sync</code></a></h3>
<p>ูฺฺฏ ูุดุงูฺฏุฑ <code>Sync</code> ูุดุงู ูโุฏูุฏ ฺฉู ููุน ฺฉู <code>Sync</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ูโุชูุงูุฏ
ุงุฒ ฺูุฏู ูุฎ ุจู ุขู ุงุฑุฌุงุน ุฏุงุฏู ุดูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูุฑ ููุน <code>T</code>ุ <code>Sync</code> ุงุณุช ุงฺฏุฑ
<code>&amp;T</code> (ฺฉ ุงุฑุฌุงุน ุบุฑูุงุจูโุชุบุฑ ุจู <code>T</code>) <code>Send</code> ุจุงุดุฏุ ุจู ุงู ูุนู ฺฉู ุงุฑุฌุงุน ูโุชูุงูุฏ
ุจู ุตูุฑุช ุงูู ุจู ูุฎ ุฏฺฏุฑ ุงุฑุณุงู ุดูุฏ. ูุดุงุจู <code>Send</code>ุ ููุนโูุง ุงููู <code>Sync</code> ูุณุชูุฏ ู
ููุนโูุง ฺฉู ุจู ุทูุฑ ฺฉุงูู ุงุฒ ููุนโูุง <code>Sync</code> ุชุดฺฉู ุดุฏูโุงูุฏ ูุฒ <code>Sync</code> ูุณุชูุฏ.</p>
<p>ุงุณูุงุฑุช ูพููุชุฑ <code>Rc&lt;T&gt;</code> ูุฒ ุจู ููุงู ุฏูุงู ฺฉู <code>Send</code> ูุณุชุ <code>Sync</code> ูู ูุณุช. ููุน
<code>RefCell&lt;T&gt;</code> (ฺฉู ุฏุฑ ูุตู 15 ุฏุฑุจุงุฑู ุขู ุตุญุจุช ฺฉุฑุฏู) ู ุฎุงููุงุฏู ููุนโูุง ูุฑุชุจุท <code>Cell&lt;T&gt;</code>
ูุฒ <code>Sync</code> ูุณุชูุฏ. ูพุงุฏูโุณุงุฒ ุจุฑุฑุณ ูุงูโุฏู ฺฉู <code>RefCell&lt;T&gt;</code> ุฏุฑ ุฒูุงู ุงุฌุฑุง ุงูุฌุงู
ูโุฏูุฏุ ุจุฑุง ูุฎ ุงูู ูุณุช. ุงุณูุงุฑุช ูพููุชุฑ <code>Mutex&lt;T&gt;</code>ุ <code>Sync</code> ุงุณุช ู ูโุชูุงูุฏ
ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุฏุณุชุฑุณ ุจู ฺูุฏู ูุฎ ุงุณุชูุงุฏู ุดูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch16-03-shared-state.html#sharing-a-mutext-between-multiple-threads">ยซุงุดุชุฑุงฺฉ
ฺฉ <code>Mutex&lt;T&gt;</code> ุจู ฺูุฏู ูุฎยป</a><!-- ignore -->
ูุดุงูุฏู ฺฉุฑุฏุฏ.</p>
<h3 id="ูพุงุฏูุณุงุฒ-ุฏุณุช-send-ู-sync-ูุงุงูู-ุงุณุช"><a class="header" href="#ูพุงุฏูุณุงุฒ-ุฏุณุช-send-ู-sync-ูุงุงูู-ุงุณุช">ูพุงุฏูโุณุงุฒ ุฏุณุช <code>Send</code> ู <code>Sync</code> ูุงุงูู ุงุณุช</a></h3>
<p>ุงุฒ ุขูุฌุง ฺฉู ููุนโูุง ฺฉู ุงุฒ ูฺฺฏโูุง <code>Send</code> ู <code>Sync</code> ุชุดฺฉู ุดุฏูโุงูุฏ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ
ุจูโุนููุงู <code>Send</code> ู <code>Sync</code> ุนูุงูุชโฺฏุฐุงุฑ ูโุดููุฏุ ูุง ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ุฏุณุช ุงู
ูฺฺฏโูุง ูุฏุงุฑู. ุจู ุนููุงู ูฺฺฏโูุง ูุดุงูฺฏุฑุ ุขูโูุง ุญุช ูฺ ูุชุฏ ุจุฑุง ูพุงุฏูโุณุงุฒ
ูุฏุงุฑูุฏ. ุขูโูุง ููุท ุจุฑุง ุงุนูุงู ุงุตูู ูุฑุจูุท ุจู ููุฒูุงู ููุฏ ูุณุชูุฏ.</p>
<p>ูพุงุฏูโุณุงุฒ ุฏุณุช ุงู ูฺฺฏโูุง ุดุงูู ูพุงุฏูโุณุงุฒ ฺฉุฏ ูุงุงูู ุฏุฑ ุฑุงุณุช ูโุดูุฏ. ูุง ุฏุฑ ูุตู
20 ุฏุฑุจุงุฑู ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ูุงุงูู ุฏุฑ ุฑุงุณุช ุตุญุจุช ุฎูุงูู ฺฉุฑุฏุ ูุนูุงูุ ุงุทูุงุนุงุช ููู ุงู
ุงุณุช ฺฉู ุณุงุฎุช ููุนโูุง ููุฒูุงู ุฌุฏุฏ ฺฉู ุงุฒ ูุณูุชโูุง <code>Send</code> ู <code>Sync</code> ุชุดฺฉู ูุดุฏูโุงูุฏ
ูุงุฒ ุจู ุฏูุช ุฒุงุฏ ุฏุงุฑุฏ ุชุง ุงุตูู ุงูู ุฑุนุงุช ุดููุฏ. <a href="../nomicon/index.html">โThe Rustonomiconโ</a>
ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุงู ุงุตูู ู ูุญูู ุฑุนุงุช ุขูโูุง ุงุฑุงุฆู ูโุฏูุฏ.</p>
<h2 id="ุฎูุงุตู-15"><a class="header" href="#ุฎูุงุตู-15">ุฎูุงุตู</a></h2>
<p>ุงู ุขุฎุฑู ุจุงุฑ ูุณุช ฺฉู ุฏุฑ ุงู ฺฉุชุงุจ ุจุง ููุฒูุงู ุฑูุจูโุฑู ูโุดูุฏ: ฺฉู ูุตู ุจุนุฏ ุจุฑ ุจุฑูุงููโููุณ
async ุชูุฑฺฉุฒ ุฏุงุฑุฏุ ู ูพุฑูฺู ุฏุฑ ูุตู 21 ุงุฒ ููุงูู ุงู ูุตู ุฏุฑ ฺฉ ูููุนุช ูุงูุนโุชุฑ ูุณุจุช ุจู
ูุซุงูโูุง ฺฉูฺฺฉโุชุฑ ูุทุฑุญโุดุฏู ุฏุฑ ุงูุฌุง ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ููุงูุทูุฑ ฺฉู ูุจูุงู ุงุดุงุฑู ุดุฏุ ุจู ุฏูู ุงูฺฉู ุจุฎุด ุจุณุงุฑ ฺฉู ุงุฒ ูุญูู ูุฏุฑุช ููุฒูุงู ุฏุฑ ุฑุงุณุช
ุจุฎุด ุงุฒ ุฒุจุงู ุงุณุชุ ุจุณุงุฑ ุงุฒ ุฑุงูโุญูโูุง ููุฒูุงู ุจูโุนููุงู crate ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ.
ุงูโูุง ุณุฑุนโุชุฑ ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชฺฉุงูู ูโุงุจูุฏุ ุจูุงุจุฑุงู ุญุชูุงู ุจู ุตูุฑุช ุขููุงู ุฌุณุชุฌู
ฺฉูุฏ ุชุง crateโูุง ุจูโุฑูุฒ ู ูพุดุฑูุชูโุง ฺฉู ุจุฑุง ูููุนุชโูุง ฺูุฏุฑุณูุงู ููุงุณุจ ูุณุชูุฏ ุฑุง ูพุฏุง ฺฉูุฏ.</p>
<p>ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุงุณุช ฺฉุงูุงูโูุง ุจุฑุง ุงุฑุณุงู ูพุงู ู ุงููุงุน ุงุณูุงุฑุช ูพููุชุฑุ ูุงููุฏ <code>Mutex&lt;T&gt;</code>
ู <code>Arc&lt;T&gt;</code>ุ ูุฑุงูู ูโฺฉูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุฏุฑ ุฒูููโูุง ููุฒูุงู ุงูู ุงุณุช. ุณุณุชู ููุน
ู ฺฉูุชุฑูโฺฉููุฏู ูุงูโุฏู ุชุถูู ูโฺฉููุฏ ฺฉู ฺฉุฏ ฺฉู ุงุฒ ุงู ุฑุงูโุญูโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุจุง ุฑูุงุจุชโูุง
ุฏุงุฏู ุง ุงุฑุฌุงุนโูุง ูุงูุนุชุจุฑ ููุงุฌู ููโุดูุฏ. ููฺฏุงู ฺฉู ฺฉุฏ ุดูุง ฺฉุงููพุงู ุดูุฏุ ูโุชูุงูุฏ ูุทูุฆู
ุจุงุดุฏ ฺฉู ุจุฏูู ุขู ุฏุณุชู ุงุฒ ุงุดฺฉุงูโูุง ุณุฎุชโุฑุฏุงุจ ฺฉู ุฏุฑ ุฒุจุงูโูุง ุฏฺฏุฑ ูุนููู ุงุณุชุ ุจู ุฎูุจ
ุฑู ฺูุฏู ูุฎ ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ. ุจุฑูุงููโููุณ ููุฒูุงู ุฏฺฏุฑ ููููู ุจุฑุง ุชุฑุณุฏู ูุณุช:
ูพุด ุจุฑูุฏ ู ุจุฑูุงููโูุง ุฎูุฏ ุฑุง ุจโุจุงฺฉุงูู ููุฒูุงู ฺฉูุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุงุตูู-ุจุฑูุงููููุณ-ูุงููุฒูุงู-async-await-futures-ู-streams"><a class="header" href="#ุงุตูู-ุจุฑูุงููููุณ-ูุงููุฒูุงู-async-await-futures-ู-streams">ุงุตูู ุจุฑูุงููโููุณ ูุงููุฒูุงู: Asyncุ Awaitุ Futuresุ ู Streams</a></h1>
<p>ุจุณุงุฑ ุงุฒ ุนููุงุชโูุง ฺฉู ุงุฒ ฺฉุงููพูุชุฑ ูโุฎูุงูู ุงูุฌุงู ุฏูุฏ ููฺฉู ุงุณุช ูุฏุช ุทูู ุจฺฉุดุฏ ุชุง ฺฉุงูู ุดููุฏ. ุฎูุจ ูโุดุฏ ุงฺฏุฑ ูโุชูุงูุณุชู ุฏุฑ ุญุงู ฺฉู ููุชุธุฑ ุงู ูุฑุขูุฏูุง ุทููุงู ูุณุชูุ ฺฉุงุฑ ุฏฺฏุฑ ุงูุฌุงู ุฏูู. ฺฉุงููพูุชุฑูุง ูุฏุฑู ุฏู ุชฺฉูฺฉ ุจุฑุง ุงูุฌุงู ููโุฒูุงู ุจุด ุงุฒ ฺฉ ุนููุงุช ุงุฑุงุฆู ูโุฏููุฏ: <em>ููุงุฒโุณุงุฒ</em> ู <em>ููุฒูุงู</em>. ุงูุง ููุช ุดุฑูุน ุจู ููุดุชู ุจุฑูุงููโูุง ูโฺฉูู ฺฉู ุดุงูู ุนููุงุช ููุงุฒ ุง ููุฒูุงู ูุณุชูุฏุ ุจู ุณุฑุนุช ุจุง ฺุงูุดโูุง ุฌุฏุฏ ููุงุฌู ูโุดูู ฺฉู ุฏุฑ ุฐุงุช <em>ุจุฑูุงููโููุณ ูุงููุฒูุงู</em> ูุณุชูุฏุ ุฌุง ฺฉู ุนููุงุชโูุง ููฺฉู ุงุณุช ุจู ุชุฑุชุจ ุดุฑูุนโุดุฏู ุชฺฉูู ูุดููุฏ. ุงู ูุตู ุจุฑ ุงุณุงุณ ุงุณุชูุงุฏู ุงุฒ Threadูุง ุจุฑุง ููุงุฒโุณุงุฒ ู ููุฒูุงู ฺฉู ุฏุฑ ูุตู ฑถ ุฏุฏูุ ฺฉ ุฑูฺฉุฑุฏ ุฌุงฺฏุฒู ุจุฑุง ุจุฑูุงููโููุณ ูุงููุฒูุงู ูุนุฑู ูโฺฉูุฏ: Futuresุ Streamsุ ุณูุชฺฉุณ <code>async</code> ู <code>await</code> ุฏุฑ Rustุ ู ุงุจุฒุงุฑูุง ุจุฑุง ูุฏุฑุช ู ููุงููฺฏ ุจู ุนููุงุช ูุงููุฒูุงู.</p>
<p>ุจุงุฏ ฺฉ ูุซุงู ุฑุง ุจุฑุฑุณ ฺฉูู. ูุฑุถ ฺฉูุฏ ุฏุฑ ุญุงู ุฎุฑูุฌ ฺฏุฑูุชู ุงุฒ ฺฉ ูุฏุฆู ูุณุชุฏ ฺฉู ุงุฒ ฺฉ ุฌุดู ุฎุงููุงุฏฺฏ ุณุงุฎุชูโุงุฏุ ุงู ุนููุงุช ููฺฉู ุงุณุช ุงุฒ ฺูุฏ ุฏููู ุชุง ฺูุฏ ุณุงุนุช ุทูู ุจฺฉุดุฏ. ุฎุฑูุฌ ูุฏุฆู ุชุง ุฌุง ฺฉู ููฺฉู ุงุณุช ุงุฒ ูุฏุฑุช CPU ู GPU ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ. ุงฺฏุฑ ููุท ฺฉ ูุณุชู CPU ุฏุงุดุชุฏ ู ุณุณุชูโุนุงูู ุดูุง ุขู ุฎุฑูุฌ ุฑุง ุชุง ูพุงุงู ุชฺฉูู ูุชููู ููโฺฉุฑุฏโุนู ุงฺฏุฑ ุขู ุฑุง ุจู ุตูุฑุช <em>ููุฒูุงู</em> ุงุฌุฑุง ูโฺฉุฑุฏโุฏุฑ ุญุงู ฺฉู ุขู ฺฉุงุฑ ุฏุฑ ุญุงู ุงุฌุฑุง ุจูุฏ ููโุชูุงูุณุชุฏ ูฺ ฺฉุงุฑ ุฏฺฏุฑ ุฑู ฺฉุงููพูุชุฑ ุฎูุฏ ุงูุฌุงู ุฏูุฏ. ุงู ุชุฌุฑุจู ุจุณุงุฑ ูุงุงูุฏฺฉููุฏูโุง ูโุดุฏ. ุฎูุดุจุฎุชุงููุ ุณุณุชูโุนุงูู ฺฉุงููพูุชุฑ ุดูุง ูโุชูุงูุฏ ู ูุนูููุงู ูู ูโฺฉูุฏุ ุจู ุทูุฑ ูุงูุฑุฆ ุฎุฑูุฌ ุฑุง ุจู ุงูุฏุงุฒู ฺฉุงู ูุชููู ูโฺฉูุฏ ุชุง ุจุชูุงูุฏ ููุฒูุงู ฺฉุงุฑูุง ุฏฺฏุฑ ุงูุฌุงู ุฏูุฏ.</p>
<p>ุญุงูุง ูุฑุถ ฺฉูุฏ ฺฉ ูุฏุฆู ฺฉู ุชูุณุท ุดุฎุต ุฏฺฏุฑ ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดุฏู ุงุณุช ุฑุง ุฏุงูููุฏ ูโฺฉูุฏุ ฺฉู ุงู ูุฒ ููฺฉู ุงุณุช ูุฏุช ุทูู ุจฺฉุดุฏ ุงูุง ุจู ุงูุฏุงุฒู ุฎุฑูุฌ ฺฏุฑูุชู ุงุฒ CPU ุฒูุงู ููโุจุฑุฏ. ุฏุฑ ุงู ุญุงูุชุ CPU ุจุงุฏ ููุชุธุฑ ุจูุงูุฏ ุชุง ุฏุงุฏู ุงุฒ ุดุจฺฉู ุจุฑุณุฏ. ุฏุฑ ุญุงู ฺฉู ูโุชูุงูุฏ ุฏุงุฏู ุฑุง ุงุฒ ุฒูุงู ฺฉู ุดุฑูุน ุจู ุฑุณุฏู ูโฺฉูุฏ ุจุฎูุงูุฏุ ููฺฉู ุงุณุช ูุฏุช ุทูู ุจฺฉุดุฏ ุชุง ููู ุขู ุจุฑุณุฏ. ุญุช ููุช ุฏุงุฏู ุจู ุทูุฑ ฺฉุงูู ููุฌูุฏ ุจุงุดุฏุ ุงฺฏุฑ ูุฏุฆู ุฎู ุจุฒุฑฺฏ ุจุงุดุฏุ ููฺฉู ุงุณุช ุญุฏุงูู ฺฉ ุง ุฏู ุซุงูู ุทูู ุจฺฉุดุฏ ุชุง ููู ุขู ุจุงุฑฺฏุฐุงุฑ ุดูุฏ. ุดุงุฏ ุจู ูุธุฑ ูุฑุณุฏ ุฒูุงู ุฒุงุฏ ุจุงุดุฏุ ุงูุง ุจุฑุง ฺฉ ูพุฑุฏุงุฒูุฏู ูุฏุฑู ฺฉู ูโุชูุงูุฏ ููุงุฑุฏูุง ุนููุงุช ุฑุง ุฏุฑ ูุฑ ุซุงูู ุงูุฌุงู ุฏูุฏุ ุงู ุฒูุงู ุจุณุงุฑ ุทููุงู ุงุณุช. ุจุงุฒ ููุ ุณุณุชูโุนุงูู ุจุฑูุงูู ุดูุง ุฑุง ุจู ุทูุฑ ูุงูุฑุฆ ูุชููู ูโฺฉูุฏ ุชุง CPU ุจุชูุงูุฏ ุฏุฑ ุญุงู ฺฉู ููุชุธุฑ ุชูุงุณ ุดุจฺฉู ุงุณุชุ ฺฉุงุฑูุง ุฏฺฏุฑ ุงูุฌุงู ุฏูุฏ.</p>
<p>ุฎุฑูุฌ ูุฏุฆู ฺฉ ูุซุงู ุงุฒ ฺฉ ุนููุงุช <em>ูุงุจุณุชู ุจู CPU</em> ุง <em>ูุงุจุณุชู ุจู ูุญุงุณุจู</em> (<em>CPU-bound</em>) ุงุณุช. ุงู ุนููุงุช ูุญุฏูุฏ ุจู ุณุฑุนุช ูพุฑุฏุงุฒุด ุฏุงุฏู ฺฉุงููพูุชุฑ ุฏุฑ CPU ุง GPU ู ูุฒุงู ุชูุงูุง ุขู ุจุฑุง ุงุฎุชุตุงุต ุงู ุณุฑุนุช ุจู ุนููุงุช ุงุณุช. ุฏุงูููุฏ ูุฏุฆู ฺฉ ูุซุงู ุงุฒ ฺฉ ุนููุงุช <em>ูุงุจุณุชู ุจู ูุฑูุฏ ู ุฎุฑูุฌ</em> (<em>IO-bound</em>) ุงุณุชุ ุฒุฑุง ูุญุฏูุฏ ุจู ุณุฑุนุช <em>ูุฑูุฏ ู ุฎุฑูุฌ</em> ฺฉุงููพูุชุฑ ุงุณุชุ ุงู ุนููุงุช ููุท ุจู ุณุฑุนุช ฺฉู ุฏุงุฏู ูโุชูุงูุฏ ุงุฒ ุทุฑู ุดุจฺฉู ุงุฑุณุงู ุดูุฏุ ูุงุจุณุชู ุงุณุช.</p>
<p>ุฏุฑ ูุฑ ุฏู ุงู ูุซุงูโูุงุ ููููโูุง ูุงูุฑุฆ ุณุณุชูโุนุงูู ููุน ููุฒูุงู ูุฑุงูู ูโฺฉููุฏ. ุจุง ุงู ุญุงูุ ุงู ููุฒูุงู ููุท ุฏุฑ ุณุทุญ ฺฉู ุจุฑูุงูู ุงุชูุงู ูโุงูุชุฏ: ุณุณุชูโุนุงูู ฺฉ ุจุฑูุงูู ุฑุง ูุชููู ูโฺฉูุฏ ุชุง ุจุฑูุงููโูุง ุฏฺฏุฑ ุจุชูุงููุฏ ฺฉุงุฑ ุงูุฌุงู ุฏููุฏ. ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏุ ุงุฒ ุขูุฌุง ฺฉู ูุง ุจุฑูุงููโูุง ุฎูุฏ ุฑุง ุฏุฑ ุณุทุญ ุจุณุงุฑ ุฌุฒุฆโุชุฑ ูุณุจุช ุจู ุณุณุชูโุนุงูู ุฏุฑฺฉ ูโฺฉููุ ูโุชูุงูู ูุฑุตุชโูุง ุจุฑุง ููุฒูุงู ูพุฏุง ฺฉูู ฺฉู ุณุณุชูโุนุงูู ููโุชูุงูุฏ ุจุจูุฏ.</p>
<p>ุจู ุนููุงู ูุซุงูุ ุงฺฏุฑ ุฏุฑ ุญุงู ุณุงุฎุช ฺฉ ุงุจุฒุงุฑ ุจุฑุง ูุฏุฑุช ุฏุงูููุฏ ูุงูโูุง ูุณุชุฏุ ุจุงุฏ ุจุชูุงูุฏ ุจุฑูุงูู ุฎูุฏ ุฑุง ุทูุฑ ุจููุณุฏ ฺฉู ุดุฑูุน ฺฉ ุฏุงูููุฏุ ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุง ููู ูฺฉูุฏุ ู ฺฉุงุฑุจุฑุงู ุจุชูุงููุฏ ุจู ุทูุฑ ููุฒูุงู ฺูุฏู ุฏุงูููุฏ ุฑุง ุขุบุงุฒ ฺฉููุฏ. ุจุณุงุฑ ุงุฒ APIูุง ุณุณุชูโุนุงูู ุจุฑุง ุชุนุงูู ุจุง ุดุจฺฉู <em>ูุณุฏูุฏฺฉููุฏู</em> (<em>blocking</em>) ูุณุชูุฏุ ุนู ูพุดุฑูุช ุจุฑูุงูู ุฑุง ุชุง ุฒูุงู ฺฉู ุฏุงุฏูโุง ฺฉู ูพุฑุฏุงุฒุด ูโฺฉููุฏ ฺฉุงููุงู ุขูุงุฏู ุจุงุดุฏุ ูุชููู ูโฺฉููุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุงู ููุงู ฺุฒ ุงุณุช ฺฉู <em>ุจุดุชุฑ</em> ูุฑุงุฎูุงูโูุง ุชูุงุจุน ุงูุฌุงู ูโุฏููุฏุ ุงฺฏุฑ ุฏุฑ ููุฑุฏ ุขู ูฺฉุฑ ฺฉูุฏ. ุจุง ุงู ุญุงูุ ุงุตุทูุงุญ <em>blocking</em> ูุนูููุงู ุจุฑุง ูุฑุงุฎูุงู ุชูุงุจุน ฺฉู ุจุง ูุงูโูุงุ ุดุจฺฉู ุง ููุงุจุน ุฏฺฏุฑ ุฑู ฺฉุงููพูุชุฑ ุชุนุงูู ุฏุงุฑูุฏ ุงุณุชูุงุฏู ูโุดูุฏุ ุฒุฑุง ุงู ููุงุฑุฏ ูุณุชูุฏ ฺฉู ฺฉ ุจุฑูุงูู ูุฑุฏ ูโุชูุงูุฏ ุงุฒ ุบุฑูุณุฏูุฏฺฉููุฏู (<em>non-blocking</em>) ุจูุฏู ุนููุงุช ุจูุฑูโููุฏ ุดูุฏ.</p>
</blockquote>
<p>ูุง ูโุชูุงูู ุจุง ุงุฌุงุฏ ฺฉ Thread ุงุฎุชุตุงุต ุจุฑุง ุฏุงูููุฏ ูุฑ ูุงูุ ุงุฒ ูุณุฏูุฏ ุดุฏู Thread ุงุตู ุฌููฺฏุฑ ฺฉูู. ุจุง ุงู ุญุงูุ ุณุฑุจุงุฑ ุขู Threadูุง ุฏุฑ ููุงุช ุจู ูุดฺฉู ุชุจุฏู ุฎูุงูุฏ ุดุฏ. ุจูุชุฑ ุงุณุช ฺฉู ูุฑุงุฎูุงู ุงุฒ ุงุจุชุฏุง ูุณุฏูุฏฺฉููุฏู ูุจุงุดุฏ. ููฺูู ุจูุชุฑ ุงุณุช ฺฉู ุจุชูุงูู ุจู ููุงู ุณุจฺฉ ูุณุชูู ฺฉุฏ ฺฉู ุฏุฑ ฺฉุฏ ูุณุฏูุฏฺฉููุฏู ุงุณุชูุงุฏู ูโฺฉููุ ุจููุณูุ ุดุจู ุจู ุงู:</p>
<pre><code class="language-rust ignore does_not_compile">let data = fetch_data_from(url).await;
println!("{data}");</code></pre>
<p>ุงู ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุงูุชุฒุงุน <em>async</em> (ูุฎูู <em>asynchronous</em>) ุฏุฑ Rust ุจู ูุง ูโุฏูุฏ. ุฏุฑ ุงู ูุตูุ ููู ฺุฒ ุฏุฑุจุงุฑู async ุฑุง ุงุฏ ุฎูุงูุฏ ฺฏุฑูุช ู ููุถูุนุงุช ุฒุฑ ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏ:</p>
<ul>
<li>ูุญูู ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ <code>async</code> ู <code>await</code> ุฏุฑ Rust</li>
<li>ูุญูู ุงุณุชูุงุฏู ุงุฒ ูุฏู async ุจุฑุง ุญู ุจุฑุฎ ุงุฒ ฺุงูุดโูุง ฺฉู ุฏุฑ ูุตู ฑถ ุจุฑุฑุณ ฺฉุฑุฏู</li>
<li>ฺฺฏููฺฏ ุงุฑุงุฆู ุฑุงูโุญูโูุง ูฺฉูู ุชูุณุท multithreading ู asyncุ ฺฉู ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏ ูโุชูุงูุฏ ุขูโูุง ุฑุง ุจุง ูู ุชุฑฺฉุจ ฺฉูุฏ</li>
</ul>
<p>ุจุง ุงู ุญุงูุ ูุจู ุงุฒ ุงูฺฉู ุจุจูู async ุฏุฑ ุนูู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ ุจุงุฏ ฺฉ ุชููู ฺฉูุชุงู ุจุฑุง ุจุญุซ ุฏุฑุจุงุฑู ุชูุงูุชโูุง ุจู ููุงุฒโุณุงุฒ ู ููุฒูุงู ุฏุงุดุชู ุจุงุดู.</p>
<h3 id="ุชูุงูุช-ุจู-ููุงุฒุณุงุฒ-ู-ููุฒูุงู"><a class="header" href="#ุชูุงูุช-ุจู-ููุงุฒุณุงุฒ-ู-ููุฒูุงู">ุชูุงูุช ุจู ููุงุฒโุณุงุฒ ู ููุฒูุงู</a></h3>
<p>ูุง ุชุงฺฉููู ููุฒูุงู (<em>concurrency</em>) ู ููุงุฒโุณุงุฒ (<em>parallelism</em>) ุฑุง ุชูุฑุจุงู ุจู ุฌุง ูู ุฏุฑ ูุธุฑ ฺฏุฑูุชูโุงู. ุงฺฉููู ุจุงุฏ ุขูโูุง ุฑุง ุจู ุทูุฑ ุฏููโุชุฑ ุงุฒ ูู ูุชูุงุฒ ฺฉููุ ุฒุฑุง ุชูุงูุชโูุงุดุงู ุฏุฑ ููฺฏุงู ฺฉุงุฑ ูุดุฎุต ุฎูุงูุฏ ุดุฏ.</p>
<p>ุจู ุฑูุดโูุง ูุฎุชูู ฺฉู ฺฉ ุชู ูโุชูุงูุฏ ฺฉุงุฑ ุจุฑ ุฑู ฺฉ ูพุฑูฺู ูุฑูโุงูุฒุงุฑ ุฑุง ุชูุณู ฺฉูุฏ ูฺฉุฑ ฺฉูุฏ. ูโุชูุงูุฏ ฺูุฏู ูุธูู ุฑุง ุจู ฺฉ ุนุถู ุงุฎุชุตุงุต ุฏูุฏุ ุจู ูุฑ ุนุถู ฺฉ ูุธูู ุงุฎุชุตุงุต ุฏูุฏุ ุง ุชุฑฺฉุจ ุงุฒ ุงู ุฏู ุฑูุด ุฑุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ููุช ฺฉ ูุฑุฏ ุฑู ฺูุฏู ูุธูู ูุฎุชูู ูุจู ุงุฒ ุงุชูุงู ูุฑ ฺฉ ุงุฒ ุขูโูุง ฺฉุงุฑ ูโฺฉูุฏุ ุงู <em>ููุฒูุงู</em> ุงุณุช. ุดุงุฏ ุดูุง ุฏู ูพุฑูฺู ูุฎุชูู ุฑุง ุฑู ฺฉุงููพูุชุฑ ุฎูุฏ ุจุงุฒ ฺฉุฑุฏูโุงุฏ ู ููุช ุงุฒ ฺฉ ุฎุณุชู ุง ุฏุฑ ุขู ฺฏุฑ ฺฉุฑุฏุฏุ ุจู ุฏฺฏุฑ ุชุบุฑ ูโุฏูุฏ. ุดูุง ููุท ฺฉ ููุฑ ูุณุชุฏุ ุจูุงุจุฑุงู ููโุชูุงูุฏ ุจู ุทูุฑ ููุฒูุงู ุฑู ูุฑ ุฏู ูุธูู ูพุดุฑูุช ฺฉูุฏุ ุงูุง ูโุชูุงูุฏ ฺูุฏูุธููโุง (<em>multi-tasking</em>) ฺฉูุฏ ู ุจุง ุฌุงุจูโุฌุง ุดุฏู ุจู ุขูโูุงุ ฺฉ ฺฉ ูพุดุฑูุช ฺฉูุฏ (ูฺฏุงู ฺฉูุฏ ุจู ุดฺฉู ฑท-ฑ).</p>
<figure>
<img src="img/trpl17-01.svg" class="center" alt="A diagram with boxes labeled Task A and Task B, with diamonds in them representing subtasks. There are arrows pointing from A1 to B1, B1 to A2, A2 to B2, B2 to A3, A3 to A4, and A4 to B3. The arrows between the subtasks cross the boxes between Task A and Task B." />
<figcaption>ุดฺฉู ฑท-ฑ: ฺฉ ุฌุฑุงู ฺฉุงุฑ ููุฒูุงูุ ฺฉู ุจู ูุธูู A ู ูุธูู B ุฌุงุจูโุฌุง ูโุดูุฏ.</figcaption>
</figure>
<p>ููุช ุชู ฺฏุฑูู ุงุฒ ูุธุงู ุฑุง ุจู ุงู ุตูุฑุช ุชูุณู ูโฺฉูุฏ ฺฉู ูุฑ ุนุถู ฺฉ ูุธูู ุฑุง ุจุฑ ุนูุฏู ูโฺฏุฑุฏ ู ุจู ุชููุง ุฑู ุขู ฺฉุงุฑ ูโฺฉูุฏุ ุงู <em>ููุงุฒโุณุงุฒ</em> ุงุณุช. ูุฑ ูุฑุฏ ุฏุฑ ุชู ูโุชูุงูุฏ ุฏููุงู ุจู ุทูุฑ ููุฒูุงู ูพุดุฑูุช ฺฉูุฏ (ูฺฏุงู ฺฉูุฏ ุจู ุดฺฉู ฑท-ฒ).</p>
<figure>
<img src="img/trpl17-02.svg" class="center" alt="ฺฉ ูููุฏุงุฑ ุจุง ุฌุนุจูโูุง ฺฉู ุจุง ุจุฑฺุณุจโูุง ูุธูู A ู ูุธูู B ูุงูโฺฏุฐุงุฑ ุดุฏูโุงูุฏุ ู ููุฒโูุง ุฏุฑูู ุขูโูุง ฺฉู ููุงุงูฺฏุฑ ุฒุฑูุธุงู ูุณุชูุฏ. ููุดโูุง ุงุฒ A1 ุจู A2ุ A2 ุจู A3ุ A3 ุจู A4ุ B1 ุจู B2ุ ู B2 ุจู B3 ุงุดุงุฑู ูโฺฉููุฏ. ูฺ ููุด ุจู ุฌุนุจูโูุง ูุธูู A ู ูุธูู B ุนุจูุฑ ููโฺฉูุฏ." />
<figcaption>ุดฺฉู ฑท-ฒ: ฺฉ ุฌุฑุงู ฺฉุงุฑ ููุงุฒุ ฺฉู ุฏุฑ ุขู ฺฉุงุฑ ุฑู ูุธูู A ู ูุธูู B ุจู ุทูุฑ ูุณุชูู ุงูุฌุงู ูโุดูุฏ.</figcaption>
</figure>
<p>ุฏุฑ ูุฑ ุฏู ุงู ุฌุฑุงูโูุง ฺฉุงุฑุ ููฺฉู ุงุณุช ูุงุฒ ุจู ููุงููฺฏ ุจู ูุธุงู ูุฎุชูู ุฏุงุดุชู ุจุงุดุฏ. ุดุงุฏ <em>ูฺฉุฑ</em> ูโฺฉุฑุฏุฏ ูุธููโุง ฺฉู ุจู ฺฉ ููุฑ ุงุฎุชุตุงุต ุฏุงุฏู ุดุฏู ฺฉุงููุงู ูุณุชูู ุงุฒ ฺฉุงุฑ ุณุงุฑ ุงุนุถุง ุชู ุงุณุชุ ุงูุง ุฏุฑ ูุงูุน ูุงุฒ ุฏุงุฑุฏ ฺฉู ฺฉ ููุฑ ุฏฺฏุฑ ุฏุฑ ุชู ุงุจุชุฏุง ูุธูู ุฎูุฏ ุฑุง ุจู ูพุงุงู ุจุฑุณุงูุฏ. ุจุฎุด ุงุฒ ฺฉุงุฑ ูโุชูุงูุฏ ุจู ุตูุฑุช ููุงุฒ ุงูุฌุงู ุดูุฏุ ุงูุง ุจุฎุด ุงุฒ ุขู ุฏุฑ ูุงูุน <em>ุณุฑุงู</em> ุงุณุช: ููุท ูโุชูุงูุฏ ุจู ุตูุฑุช ูุชูุงู ุงูุฌุงู ุดูุฏุ ฺฉ ูุธูู ูพุณ ุงุฒ ุฏฺฏุฑุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุดฺฉู ฑท-ณ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure>
<img src="img/trpl17-03.svg" class="center" alt="ฺฉ ูููุฏุงุฑ ุจุง ุฌุนุจูโูุง ฺฉู ุจุง ุจุฑฺุณุจ ูุธูู A ู ูุธูู B ูุงูโฺฏุฐุงุฑ ุดุฏูโุงูุฏุ ู ููุฒโูุง ุฏุฑูู ุขูโูุง ฺฉู ููุงุงูฺฏุฑ ุฒุฑูุธุงู ูุณุชูุฏ. ููุดโูุง ุงุฒ A1 ุจู A2ุ A2 ุจู ฺฉ ุฌูุช ุฎุทูุท ุนููุฏ ุถุฎู ูุงููุฏ ููุงุฏ 'ุชููู'ุ ุงุฒ ุขู ููุงุฏ ุจู A3ุ B1 ุจู B2ุ B2 ุจู B3 (ฺฉู ุฏุฑ ุฒุฑ ุขู ููุงุฏ ูุฑุงุฑ ุฏุงุฑุฏ)ุ B3 ุจู A3ุ ู B3 ุจู B4 ุงุดุงุฑู ูโฺฉููุฏ." />
<figcaption>ุดฺฉู ฑท-ณ: ฺฉ ุฌุฑุงู ฺฉุงุฑ ููู ููุงุฒุ ฺฉู ุฏุฑ ุขู ฺฉุงุฑ ุฑู ูุธูู A ู ูุธูู B ุจู ุทูุฑ ูุณุชูู ุงูุฌุงู ูโุดูุฏ ุชุง ุฒูุงู ฺฉู A3 ุจู ูุชุงุฌ B3 ูุงุจุณุชู ุจุงุดุฏ.</figcaption>
</figure>
<p>ุจู ููู ุชุฑุชุจุ ููฺฉู ุงุณุช ูุชูุฌู ุดูุฏ ฺฉู ฺฉ ุงุฒ ูุธุงู ุดูุง ุจู ูุธูู ุฏฺฏุฑ ุงุฒ ฺฉุงุฑูุง ุดูุง ุจุณุชฺฏ ุฏุงุฑุฏ. ุงฺฉููู ฺฉุงุฑ ููุฒูุงู ุดูุง ูุฒ ุณุฑุงู ุดุฏู ุงุณุช.</p>
<p>ููุงุฒโุณุงุฒ ู ููุฒูุงู ูโุชูุงููุฏ ุจุง ฺฉุฏฺฏุฑ ุชูุงุทุน ุฏุงุดุชู ุจุงุดูุฏ. ุงฺฏุฑ ูุชูุฌู ุดูุฏ ฺฉู ฺฉ ููฺฉุงุฑ ุชุง ุฒูุงู ฺฉู ฺฉ ุงุฒ ูุธุงู ุดูุง ุจู ูพุงุงู ูุฑุณุฏู ฺฏุฑ ฺฉุฑุฏู ุงุณุชุ ุงุญุชูุงูุงู ุชูุงู ุชูุงุด ุฎูุฏ ุฑุง ุฑู ุขู ูุธูู ูุชูุฑฺฉุฒ ูโฺฉูุฏ ุชุง โููฺฉุงุฑุชุงู ุฑุง ุงุฒ ุจูโุจุณุช ุฎุงุฑุฌ ฺฉูุฏ.โ ุดูุง ู ููฺฉุงุฑุชุงู ุฏฺฏุฑ ููโุชูุงูุฏ ุจู ุตูุฑุช ููุงุฒ ฺฉุงุฑ ฺฉูุฏุ ู ููฺูู ุฏฺฏุฑ ููโุชูุงูุฏ ุจู ุตูุฑุช ููุฒูุงู ุฑู ูุธุงู ุฎูุฏุชุงู ฺฉุงุฑ ฺฉูุฏ.</p>
<p>ููุงู ุฏูุงูฺฉโูุง ุงุณุงุณ ุฏุฑ ูุฑูโุงูุฒุงุฑ ู ุณุฎุชโุงูุฒุงุฑ ูุฒ ูุฌูุฏ ุฏุงุฑูุฏ. ุฑู ูุงุดู ุจุง ฺฉ ูุณุชู CPUุ CPU ููุท ูโุชูุงูุฏ ฺฉ ุนููุงุช ุฑุง ุฏุฑ ูุฑ ูุญุธู ุงูุฌุงู ุฏูุฏุ ุงูุง ููฺูุงู ูโุชูุงูุฏ ุจู ุตูุฑุช ููุฒูุงู ฺฉุงุฑ ฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ูุงููุฏ Threadsุ ูุฑุขูุฏูุง (<em>processes</em>) ู asyncุ ฺฉุงููพูุชุฑ ูโุชูุงูุฏ ฺฉ ูุนุงูุช ุฑุง ูุชููู ฺฉูุฏ ู ุจู ูุนุงูุชโูุง ุฏฺฏุฑ ุชุบุฑ ุฏูุฏุ ู ุฏุฑ ููุงุช ุฏูุจุงุฑู ุจู ูุนุงูุช ุงูู ุจุงุฒฺฏุฑุฏุฏ. ุฑู ูุงุดู ุจุง ฺูุฏู ูุณุชู CPUุ ูโุชูุงูุฏ ฺฉุงุฑูุง ุฑุง ุจู ุตูุฑุช ููุงุฒ ูุฒ ุงูุฌุงู ุฏูุฏ. ฺฉ ูุณุชู ูโุชูุงูุฏ ฺฉ ูุธูู ุฑุง ุงุฌุฑุง ฺฉูุฏ ุฏุฑ ุญุงู ฺฉู ูุณุชู ุฏฺฏุฑ ูุธููโุง ฺฉุงููุงู ูุงูุฑุชุจุท ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ู ุงู ุนููุงุชโูุง ูุงูุนุงู ุฏุฑ ฺฉ ุฒูุงู ุงุชูุงู ูโุงูุชูุฏ.</p>
<p>ููฺฏุงู ฺฉุงุฑ ุจุง async ุฏุฑ Rustุ ููุดู ุจุง ููุฒูุงู ุณุฑ ู ฺฉุงุฑ ุฏุงุฑู. ุจุณุชู ุจู ุณุฎุชโุงูุฒุงุฑุ ุณุณุชูโุนุงููุ ู Runtime async ฺฉู ุงุณุชูุงุฏู ูโฺฉูู (ฺฉู ุฏุฑ ุงุฏุงูู ุฏุฑุจุงุฑู Runtimeูุง async ุจุดุชุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ)ุ ุงู ููุฒูุงู ููฺฉู ุงุณุช ุฏุฑ ูพุณโุฒููู ุงุฒ ููุงุฒโุณุงุฒ ูุฒ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุญุงูุง ุจุงุฏ ุจู ุงู ุจูพุฑุฏุงุฒู ฺฉู ุจุฑูุงููโููุณ async ุฏุฑ Rust ุฏุฑ ุนูู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="futures-ู-ุณูุชฺฉุณ-async"><a class="header" href="#futures-ู-ุณูุชฺฉุณ-async">Futures ู ุณูุชฺฉุณ Async</a></h2>
<p>ุนูุงุตุฑ ฺฉูุฏ ุจุฑูุงููโููุณ ูุงููุฒูุงู ุฏุฑ Rust ุดุงูู <em>futures</em> ู ฺฉููุงุช ฺฉูุฏ <code>async</code> ู <code>await</code> ูุณุชูุฏ.</p>
<p>ฺฉ <em>future</em> ููุฏุงุฑ ุงุณุช ฺฉู ููฺฉู ุงุณุช ุงฺฉููู ุขูุงุฏู ูุจุงุดุฏุ ุงูุง ุฏุฑ ุขูุฏู ุฏุฑ ููุทูโุง ุขูุงุฏู ุฎูุงูุฏ ุดุฏ. (ุงู ููููู ุฏุฑ ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ูุฌูุฏ ุฏุงุฑุฏุ ฺฏุงู ุจุง ูุงูโูุง ุฏฺฏุฑ ูุงููุฏ <em>task</em> ุง <em>promise</em>.) Rust ฺฉ ูฺฺฏ <code>Future</code> ุจู ุนููุงู ฺฉ ุจููฺฉ ุณุงุฒูุฏู ูุฑุงูู ูโฺฉูุฏ ุชุง ุนููุงุชโูุง async ูุฎุชูู ุจุง ุณุงุฎุชุงุฑูุง ุฏุงุฏู ูุชูุงูุช ุงูุง ุจุง ฺฉ ุฑุงุจุท ูุดุชุฑฺฉ ูพุงุฏูโุณุงุฒ ุดููุฏ. ุฏุฑ Rustุ futures ููุนโูุง ูุณุชูุฏ ฺฉู ูฺฺฏ <code>Future</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ูุฑ future ุงุทูุงุนุงุช ุฎูุฏ ุฑุง ุฏุฑ ููุฑุฏ ูพุดุฑูุช ู ุงูฺฉู โุขูุงุฏูโ ุจู ฺู ูุนูุงุณุช ูฺฏู ูโุฏุงุฑุฏ.</p>
<p>ูโุชูุงูุฏ ฺฉููู ฺฉูุฏ <code>async</code> ุฑุง ุจู ุจููฺฉโูุง ู ุชูุงุจุน ุงุนูุงู ฺฉูุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉู ูโุชูุงููุฏ ูุชููู ุดุฏู ู ุงุฒ ุณุฑ ฺฏุฑูุชู ุดููุฏ. ุฏุฑูู ฺฉ ุจููฺฉ async ุง ุชุงุจุน asyncุ ูโุชูุงูุฏ ุงุฒ ฺฉููู ฺฉูุฏ <code>await</code> ุจุฑุง <em>ุงูุชุธุงุฑ ฺฉ future</em> (ุนู ููุชุธุฑ ูุงูุฏู ุชุง ุขูุงุฏู ุดูุฏ) ุงุณุชูุงุฏู ฺฉูุฏ. ูุฑ ููุทูโุง ฺฉู ุฏุฑ ุขู ฺฉ future ุฑุง ุฏุฑ ฺฉ ุจููฺฉ ุง ุชุงุจุน async ุงูุชุธุงุฑ ูโฺฉุดุฏุ ฺฉ ููุทู ุจุงูููู ุจุฑุง ูุชููู ู ุงุฒ ุณุฑ ฺฏุฑูุชู ุขู ุจููฺฉ ุง ุชุงุจุน async ุงุณุช. ูุฑุขูุฏ ุจุฑุฑุณ ฺฉ future ุจุฑุง ุงูฺฉู ุจุจูุฏ ููุฏุงุฑ ุขู ูููุฒ ุขูุงุฏู ุงุณุช ุง ุฎุฑุ <em>polling</em> ูุงูุฏู ูโุดูุฏ.</p>
<p>ุจุฑุฎ ุฒุจุงูโูุง ุฏฺฏุฑุ ูุงููุฏ C# ู JavaScriptุ ูุฒ ุงุฒ ฺฉููุงุช ฺฉูุฏ <code>async</code> ู <code>await</code> ุจุฑุง ุจุฑูุงููโููุณ ูุงููุฒูุงู ุงุณุชูุงุฏู ูโฺฉููุฏ. ุงฺฏุฑ ุจุง ุงู ุฒุจุงูโูุง ุขุดูุง ูุณุชุฏุ ููฺฉู ุงุณุช ุชูุงูุชโูุง ูุงุจู ุชูุฌู ุฏุฑ ูุญูู ุนููฺฉุฑุฏ Rustุ ุงุฒ ุฌููู ูุญูู ูุฏุฑุช ุณูุชฺฉุณ ุขูุ ูุดุงูุฏู ฺฉูุฏ. ุงู ุชูุงูุชโูุง ุฏูุงู ุฎูุจ ุฏุงุฑูุฏุ ููุงูโุทูุฑ ฺฉู ุฎูุงูู ุฏุฏ!</p>
<p>ููฺฏุงู ููุดุชู ฺฉุฏ async ุฏุฑ Rustุ ุจุดุชุฑ ุงููุงุช ุงุฒ ฺฉููุงุช ฺฉูุฏ <code>async</code> ู <code>await</code> ุงุณุชูุงุฏู ูโฺฉูู. Rust ุขูโูุง ุฑุง ุจู ฺฉุฏ ูุนุงุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>Future</code> ฺฉุงููพุงู ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุญูููโูุง <code>for</code> ุฑุง ุจู ฺฉุฏ ูุนุงุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ <code>Iterator</code> ฺฉุงููพุงู ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ุงุฒ ุขูุฌุง ฺฉู Rust ูฺฺฏ <code>Future</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏุ ูโุชูุงูุฏ ุขู ุฑุง ุจุฑุง ููุนโูุง ุฏุงุฏู ุฎูุฏุชุงู ูุฒ ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุจุณุงุฑ ุงุฒ ุชูุงุจุน ฺฉู ุฏุฑ ุทูู ุงู ูุตู ูุดุงูุฏู ุฎูุงูู ฺฉุฑุฏ ููุนโูุง ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ ฺฉู ูพุงุฏูโุณุงุฒโูุง ุฎูุฏ ุงุฒ <code>Future</code> ุฑุง ุฏุงุฑูุฏ. ุฏุฑ ุงูุชูุง ูุตู ุจู ุชุนุฑู ุงู ูฺฺฏ ุจุงุฒูโฺฏุฑุฏู ู ุจุดุชุฑ ุฏุฑ ููุฑุฏ ูุญูู ุนููฺฉุฑุฏ ุขู ุจุญุซ ูโฺฉููุ ุงูุง ุงู ุชูุถุญุงุช ุจุฑุง ุงุฏุงูู ฺฉุงู ุงุณุช.</p>
<p>ููฺฉู ุงุณุช ุงู ุชูุถุญุงุช ฺฉู ุงูุชุฒุงุน ุจู ูุธุฑ ุจุฑุณูุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุงููู ุจุฑูุงูู async ุฎูุฏ ุฑุง ุจููุณู: ฺฉ web scraper ฺฉูฺฺฉ. ูุง ุฏู URL ุฑุง ุงุฒ ุฎุท ูุฑูุงู ุฏุฑุงูุช ูโฺฉููุ ูุฑ ุฏู ุฑุง ุจู ุตูุฑุช ููุฒูุงู ุฏุฑุงูุช ูโฺฉูู ู ูุชุฌู ุงููู URL ฺฉู ุจู ูพุงุงู ูโุฑุณุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูู. ุงู ูุซุงู ุฏุงุฑุง ุณูุชฺฉุณ ุฌุฏุฏ ุฎูุงูุฏ ุจูุฏุ ุงูุง ูฺฏุฑุงู ูุจุงุดุฏโููู ฺุฒูุง ฺฉู ุจุงุฏ ุจุฏุงูุฏ ุฑุง ุฏุฑ ุทูู ูุณุฑ ุชูุถุญ ุฎูุงูู ุฏุงุฏ.</p>
<h2 id="ุงููู-ุจุฑูุงูู-async-ูุง"><a class="header" href="#ุงููู-ุจุฑูุงูู-async-ูุง">ุงููู ุจุฑูุงูู Async ูุง</a></h2>
<p>ุจุฑุง ุชูุฑฺฉุฒ ุงู ูุตู ุฑู ุงุฏฺฏุฑ async ุจู ุฌุง ูุฏุฑุช ุจุฎุดโูุง ุงฺฉูุณุณุชูุ ฺฉ crate ุจู ูุงู <code>trpl</code> ุงุฌุงุฏ ฺฉุฑุฏูโุงู (<code>trpl</code> ูุฎูู โThe Rust Programming Languageโ ุงุณุช). ุงู crate ููู ููุนโูุงุ ูฺฺฏโูุงุ ู ุชูุงุจุน ููุฑุฏ ูุงุฒ ุดูุง ุฑุง ุจุงุฒุตุงุฏุฑ ูโฺฉูุฏุ ุนูุฏุชุงู ุงุฒ crateูุง <a href="https://crates.io/crates/futures"><code>futures</code></a><!-- ignore --> ู <a href="https://tokio.rs"><code>tokio</code></a><!-- ignore -->. crate <code>futures</code> ุฎุงูู ุฑุณู ุจุฑุง ุขุฒูุงุด ฺฉุฏ async ุฏุฑ Rust ุงุณุช ู ุฏุฑ ูุงูุน ุฌุง ุงุณุช ฺฉู ูฺฺฏ <code>Future</code> ุฏุฑ ุงุจุชุฏุง ุทุฑุงุญ ุดุฏ. <code>tokio</code> ุงูุฑูุฒ ุฑุงุฌโุชุฑู Runtime async ุฏุฑ Rust ุงุณุชุ ุจู ูฺู ุจุฑุง ุจุฑูุงููโูุง ูุจ. Runtimeูุง ุนุงู ุฏฺฏุฑ ูุฒ ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ููฺฉู ุงุณุช ุจุฑุง ุงูุฏุงู ุดูุง ููุงุณุจโุชุฑ ุจุงุดูุฏ. ูุง ุงุฒ crate <code>tokio</code> ุฏุฑ ุฒุฑุณุงุฎุช <code>trpl</code> ุงุณุชูุงุฏู ูโฺฉูู ุฒุฑุง ุจู ุฎูุจ ุชุณุช ุดุฏู ู ุจู ุทูุฑ ฺฏุณุชุฑุฏู ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<p>ุฏุฑ ุจุฑุฎ ููุงุฑุฏุ <code>trpl</code> ููฺูู APIูุง ุงุตู ุฑุง ุชุบุฑ ูุงู ุฏุงุฏู ุง ุขูโูุง ุฑุง ูพูุดุด ูโุฏูุฏ ุชุง ุดูุง ุฑุง ุจุฑ ุฑู ุฌุฒุฆุงุช ูุฑุชุจุท ุจุง ุงู ูุตู ูุชูุฑฺฉุฒ ูฺฏู ุฏุงุฑุฏ. ุงฺฏุฑ ูโุฎูุงูุฏ ุจูููุฏ ุงู crate ฺู ูโฺฉูุฏุ ูุง ุดูุง ุฑุง ุชุดูู ูโฺฉูู ฺฉู <a href="https://github.com/persian-rust/book/tree/main/packages/trpl">ุณูุฑุณ ฺฉุฏ ุขู</a><!-- ignore --> ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ูโุชูุงูุฏ ุจุจูุฏ ฺฉู ูุฑ ุจุงุฒุตุงุฏุฑ ุงุฒ ฺฉุฏุงู crate ูโุขุฏุ ู ุชูุถุญุงุช ฺฏุณุชุฑุฏูโุง ุฏุฑ ููุฑุฏ ุขูฺู ฺฉู crate ุงูุฌุงู ูโุฏูุฏ ฺฏุฐุงุดุชูโุงู.</p>
<p>ฺฉ ูพุฑูฺู ุจุงูุฑ ุฌุฏุฏ ุจู ูุงู <code>hello-async</code> ุงุฌุงุฏ ฺฉูุฏ ู crate <code>trpl</code> ุฑุง ุจู ุนููุงู ูุงุจุณุชฺฏ ุงุถุงูู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo new hello-async
$ cd hello-async
$ cargo add trpl
</code></pre>
<p>ุงฺฉููู ูโุชูุงูู ุงุฒ ุจุฎุดโูุง ูุฎุชูู ุงุฑุงุฆูโุดุฏู ุชูุณุท <code>trpl</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ุงููู ุจุฑูุงูู async ุฎูุฏ ุฑุง ุจููุณู. ูุง ฺฉ ุงุจุฒุงุฑ ฺฉูฺฺฉ ุฎุท ูุฑูุงู ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุฏู ุตูุญู ูุจ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏุ ุนูุตุฑ <code>&lt;title&gt;</code> ุฑุง ุงุฒ ูุฑฺฉุฏุงู ุงุณุชุฎุฑุงุฌ ูโฺฉูุฏ ู ุนููุงู ุตูุญูโุง ฺฉู ุณุฑุนโุชุฑ ฺฉู ุงู ูุฑุขูุฏ ุฑุง ุชฺฉูู ูโฺฉูุฏุ ฺุงูพ ูโฺฉูุฏ.</p>
<h3 id="ุชุนุฑู-ุชุงุจุน-page_title"><a class="header" href="#ุชุนุฑู-ุชุงุจุน-page_title">ุชุนุฑู ุชุงุจุน <code>page_title</code></a></h3>
<p>ุจุงุฏ ุจุง ููุดุชู ฺฉ ุชุงุจุน ฺฉู ฺฉ URL ุตูุญู ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏุ ฺฉ ุฏุฑุฎูุงุณุช ุจู ุขู ุงุฑุณุงู ูโฺฉูุฏ ู ูุชู ุนูุตุฑ <code>&lt;title&gt;</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ุดุฑูุน ฺฉูู (ูฺฏุงู ฺฉูุฏ ุจู ูุณุช ฑท-ฑ).</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    // TODO: we'll add this next!
</span><span class="boring">}
</span><span class="boring">
</span>use trpl::Html;

async fn page_title(url: &amp;str) -&gt; Option&lt;String&gt; {
    let response = trpl::get(url).await;
    let response_text = response.text().await;
    Html::parse(&amp;response_text)
        .select_first("title")
        .map(|title_element| title_element.inner_html())
}</code></pre></pre>
<figcaption>Listing 17-1: ุชุนุฑู ฺฉ ุชุงุจุน async ุจุฑุง ุฏุฑุงูุช ุนูุตุฑ <code>&lt;title&gt;</code> ุงุฒ ฺฉ ุตูุญู HTML</figcaption>
</figure>
<p>ุงุจุชุฏุง ฺฉ ุชุงุจุน ุจู ูุงู <code>page_title</code> ุชุนุฑู ูโฺฉูู ู ุขู ุฑุง ุจุง ฺฉููู ฺฉูุฏ <code>async</code> ุนูุงูุชโฺฏุฐุงุฑ ูโฺฉูู. ุณูพุณ ุงุฒ ุชุงุจุน <code>trpl::get</code> ุจุฑุง ุฏุฑุงูุช ูุฑ URL ฺฉู ุจู ุขู ุงุฑุณุงู ูโุดูุฏ ุงุณุชูุงุฏู ูโฺฉูู ู ฺฉููู ฺฉูุฏ <code>await</code> ุฑุง ุงุถุงูู ูโฺฉูู ุชุง ููุชุธุฑ ูพุงุณุฎ ุจูุงูู. ุจุฑุง ุฏุฑุงูุช ูุชู ูพุงุณุฎุ ูุชุฏ <code>text</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ู ุฏูุจุงุฑู ุจุง ฺฉููู ฺฉูุฏ <code>await</code> ููุชุธุฑ ุขู ูโูุงูู. ูุฑ ุฏู ุงู ูุฑุงุญู ูุงููุฒูุงู ูุณุชูุฏ. ุจุฑุง ุชุงุจุน <code>get</code>ุ ุจุงุฏ ููุชุธุฑ ุจุงุดู ุชุง ุณุฑูุฑ ุงููู ูุณูุช ุงุฒ ูพุงุณุฎ ุฎูุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ ฺฉู ุดุงูู ูุฏุฑูุง HTTPุ ฺฉูฺฉโูุง ู ุบุฑู ุงุณุช ู ูโุชูุงูุฏ ุฌุฏุง ุงุฒ ุจุฏูู ูพุงุณุฎ ุงุฑุณุงู ุดูุฏ. ุจู ูฺู ุงฺฏุฑ ุจุฏูู ุจุณุงุฑ ุจุฒุฑฺฏ ุจุงุดุฏุ ููฺฉู ุงุณุช ูุฏุช ุทูู ุจฺฉุดุฏ ุชุง ููู ุขู ุจุฑุณุฏ. ุงุฒ ุขูุฌุง ฺฉู ุจุงุฏ ููุชุธุฑ <em>ุชูุงูุช</em> ูพุงุณุฎ ุจูุงููุ ูุชุฏ <code>text</code> ูุฒ async ุงุณุช.</p>
<p>ุจุงุฏ ุจูโุตุฑุงุญุช ููุชุธุฑ ูุฑ ุฏู future ุจุงุดูุ ุฒุฑุง futures ุฏุฑ Rust <em>ุชูุจู</em> ูุณุชูุฏ: ุชุง ุฒูุงู ฺฉู ุงุฒ ุขูโูุง ุจุง ฺฉููู ฺฉูุฏ <code>await</code> ุฏุฑุฎูุงุณุช ูุดูุฏุ ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏููุฏ. (ุฏุฑ ูุงูุนุ Rust ฺฉ ูุดุฏุงุฑ ฺฉุงููพุงูุฑ ููุงุด ูโุฏูุฏ ุงฺฏุฑ ุงุฒ ฺฉ future ุงุณุชูุงุฏู ูฺฉูุฏ.) ุงู ููฺฉู ุงุณุช ุดูุง ุฑุง ุจู ุงุฏ ุจุญุซ ูุตู ฑณ ุฏุฑุจุงุฑู iteratorูุง ุฏุฑ ุจุฎุด <a href="ch13-02-iterators.html">ูพุฑุฏุงุฒุด ฺฉ ุณุฑ ุงุฒ ุขุชูโูุง ุจุง iteratorูุง</a><!-- ignore --> ุจูุฏุงุฒุฏ. iteratorูุง ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏููุฏ ูฺฏุฑ ุงูฺฉู ูุชุฏ <code>next</code> ุขูโูุง ุฑุง ูุฑุงุฎูุงู ฺฉูุฏโฺู ุจู ุตูุฑุช ูุณุชูู ุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุญูููโูุง <code>for</code> ุง ูุชุฏูุง ูุงููุฏ <code>map</code> ฺฉู ุฏุฑ ูพุดุช ุตุญูู ุงุฒ <code>next</code> ุงุณุชูุงุฏู ูโฺฉููุฏ. ุจู ููู ุชุฑุชุจุ futures ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏููุฏ ูฺฏุฑ ุงูฺฉู ุจูโุตุฑุงุญุช ุงุฒ ุขูโูุง ุฏุฑุฎูุงุณุช ุดูุฏ. ุงู ูฺฺฏ ุชูุจู ุจู Rust ุงุฌุงุฒู ูโุฏูุฏ ุชุง ฺฉุฏ async ุฑุง ุชุง ุฒูุงู ฺฉู ูุงูุนุงู ููุฑุฏ ูุงุฒ ุงุณุชุ ุงุฌุฑุง ูฺฉูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุงู ุฑูุชุงุฑ ูุชูุงูุช ุงุฒ ฺุฒ ุงุณุช ฺฉู ุฏุฑ ูุตู ูุจู ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ <code>thread::spawn</code> ุฏุฑ <a href="ch16-01-threads.html#creating-a-new-thread-with-spawn">ุงุฌุงุฏ ฺฉ Thread ุฌุฏุฏ ุจุง <code>spawn</code></a><!-- ignore --> ูุดุงูุฏู ฺฉุฑุฏูุ ุฌุง ฺฉู Closure ฺฉู ุจู ฺฉ Thread ุฏฺฏุฑ ุงุฑุณุงู ฺฉุฑุฏู ุจูุงูุงุตูู ุดุฑูุน ุจู ุงุฌุฑุง ฺฉุฑุฏ. ููฺููุ ุงู ุฑูุชุงุฑ ุจุง ูุญูู ุงุณุชูุงุฏู ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุฏฺฏุฑ ุงุฒ async ูุชูุงูุช ุงุณุช. ุงูุง ุงู ุจุฑุง Rust ููู ุงุณุช ู ุจุนุฏุงู ุฎูุงูู ุฏุฏ ฺุฑุง.</p>
</blockquote>
<p>ููุช <code>response_text</code> ุฑุง ุฏุงุฑูุ ูโุชูุงูู ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Html::parse</code> ุจู ฺฉ ููููู ุงุฒ ููุน <code>Html</code> ุชุฌุฒู ฺฉูู. ุจู ุฌุง ฺฉ ุฑุดุชู ุฎุงูุ ุงฺฉููู ฺฉ ููุน ุฏุงุฏู ุฏุงุฑู ฺฉู ูโุชูุงูู ุงุฒ ุขู ุจุฑุง ฺฉุงุฑ ุจุง HTML ุจู ุนููุงู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุบูโุชุฑ ุงุณุชูุงุฏู ฺฉูู. ุจู ุทูุฑ ุฎุงุตุ ูโุชูุงูู ุงุฒ ูุชุฏ <code>select_first</code> ุจุฑุง ูพุฏุง ฺฉุฑุฏู ุงููู ููููู ุงุฒ ฺฉ ุงูุชุฎุงุจฺฏุฑ CSS ุฎุงุต ุงุณุชูุงุฏู ฺฉูู. ุจุง ุงุฑุณุงู ุฑุดุชู <code>"title"</code>ุ ุงููู ุนูุตุฑ <code>&lt;title&gt;</code> ุฏุฑ ุณูุฏ ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏุ ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ. ฺูู ููฺฉู ุงุณุช ูฺ ุนูุตุฑ ูุทุงุจูุช ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ <code>select_first</code> ฺฉ <code>Option&lt;ElementRef&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุฏุฑ ููุงุชุ ุงุฒ ูุชุฏ <code>Option::map</code> ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุจุง ุขุชู ููุฌูุฏ ุฏุฑ <code>Option</code> ฺฉุงุฑ ฺฉููุ ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏุ ู ุงฺฏุฑ ููุฌูุฏ ูุจุงุดุฏุ ูฺ ฺฉุงุฑ ุงูุฌุงู ูุฏูู. (ูโุชูุงูุณุชู ุงุฒ ฺฉ ุนุจุงุฑุช <code>match</code> ูู ุงุณุชูุงุฏู ฺฉููุ ุงูุง <code>map</code> ุจุดุชุฑ idiomatic ุงุณุช.) ุฏุฑ ุจุฏูู ุชุงุจุน ฺฉู ุจู <code>map</code> ูโุฏููุ ูุชุฏ <code>inner_html</code> ุฑุง ุฑู <code>title_element</code> ูุฑุงุฎูุงู ูโฺฉูู ุชุง ูุญุชูุง ุขู ุฑุง ฺฉู ฺฉ <code>String</code> ุงุณุชุ ุฏุฑุงูุช ฺฉูู. ููุช ููู ฺุฒ ุงูุฌุงู ุดุฏุ ฺฉ <code>Option&lt;String&gt;</code> ุฎูุงูู ุฏุงุดุช.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ฺฉููู ฺฉูุฏ <code>await</code> ุฏุฑ Rust <em>ุจุนุฏ ุงุฒ</em> ุนุจุงุฑุช ููุฑุฏ ุงูุชุธุงุฑ ูุฑุงุฑ ูโฺฏุฑุฏุ ูู ูุจู ุงุฒ ุขู. ุนู ุงู ฺฉ ฺฉููู ฺฉูุฏ <em>postfix</em> ุงุณุช. ุงู ููฺฉู ุงุณุช ุจุง ฺุฒ ฺฉู ุจู ุขู ุนุงุฏุช ุฏุงุฑุฏ ุงฺฏุฑ ุงุฒ async ุฏุฑ ุฒุจุงูโูุง ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉุฑุฏู ุจุงุดุฏุ ูุชูุงูุช ุจุงุดุฏุ ุงูุง ุฏุฑ Rust ุงู ฺฉุงุฑ ุฒูุฌุฑูโุง ุงุฒ ูุชุฏูุง ุฑุง ุจุณุงุฑ ุฑุงุญุชโุชุฑ ูโฺฉูุฏ. ุฏุฑ ูุชุฌูุ ูโุชูุงูู ุจุฏูู <code>page_url_for</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ูุฑุงุฎูุงูโูุง ุชุงุจุน <code>trpl::get</code> ู <code>text</code> ุฑุง ุจุง <code>await</code> ุจู ุขูโูุง ุจู ูู ุฒูุฌุฑ ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฒ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use trpl::Html;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    // TODO: we'll add this next!
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">async fn page_title(url: &amp;str) -&gt; Option&lt;String&gt; {
</span>    let response_text = trpl::get(url).await.text().await;
<span class="boring">    Html::parse(&amp;response_text)
</span><span class="boring">        .select_first("title")
</span><span class="boring">        .map(|title_element| title_element.inner_html())
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-2: ุฒูุฌุฑู ฺฉุฑุฏู ุจุง ฺฉููู ฺฉูุฏ <code>await</code></figcaption>
</figure>
<p>ุจุง ุงู ุชูุถุญุงุชุ ูุง ุงููู ุชุงุจุน async ุฎูุฏ ุฑุง ุจุง ููููุช ููุดุชู! ูพุด ุงุฒ ุงุถุงูู ฺฉุฑุฏู ฺฉุฏ ุฏุฑ <code>main</code> ุจุฑุง ูุฑุงุฎูุงู ุขูุ ุจุงุฏ ฺฉู ุจุดุชุฑ ุฏุฑุจุงุฑู ุขูฺู ููุดุชูโุงู ู ูุนูุง ุขู ุตุญุจุช ฺฉูู.</p>
<p>ููฺฏุงู ฺฉู Rust ฺฉ ุจููฺฉ ฺฉู ุจุง ฺฉููู ฺฉูุฏ <code>async</code> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏู ุงุณุช ุฑุง ูโุจูุฏุ ุขู ุฑุง ุจู ฺฉ ููุน ุฏุงุฏู ููุญุตุฑุจูโูุฑุฏ ู ูุงุดูุงุณ ฺฉู ูฺฺฏ <code>Future</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ฺฉุงููพุงู ูโฺฉูุฏ. ููฺฏุงู ฺฉู Rust ฺฉ ุชุงุจุน ฺฉู ุจุง <code>async</code> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏู ุงุณุช ุฑุง ูโุจูุฏุ ุขู ุฑุง ุจู ฺฉ ุชุงุจุน ุบุฑ-async ฺฉู ุจุฏูู ุขู ฺฉ ุจููฺฉ async ุงุณุชุ ฺฉุงููพุงู ูโฺฉูุฏ. ููุน ุจุงุฒฺฏุดุช ฺฉ ุชุงุจุน async ููุน ุฏุงุฏู ูุงุดูุงุณ ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ุจุฑุง ุขู ุจููฺฉ async ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ุจูุงุจุฑุงูุ ููุดุชู <code>async fn</code> ูุนุงุฏู ููุดุชู ุชุงุจุน ุงุณุช ฺฉู ฺฉ <em>future</em> ุงุฒ ููุน ุจุงุฒฺฏุดุช ุจุฑูโฺฏุฑุฏุงูุฏ. ุจุฑุง ฺฉุงููพุงูุฑุ ฺฉ ุชุนุฑู ุชุงุจุน ูุงููุฏ <code>async fn page_title</code> ุฏุฑ ูุณุช ฑท-ฑ ูุนุงุฏู ฺฉ ุชุงุจุน ุบุฑ-async ุจู ุดฺฉู ุฒุฑ ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">extern crate trpl; // required for mdbook test
</span>use std::future::Future;
use trpl::Html;

fn page_title(url: &amp;str) -&gt; impl Future&lt;Output = Option&lt;String&gt;&gt; + '_ {
    async move {
        let text = trpl::get(url).await.text().await;
        Html::parse(&amp;text)
            .select_first("title")
            .map(|title| title.inner_html())
    }
}
<span class="boring">}</span></code></pre></pre>
<p>ุจุงุฏ ูุฑ ุจุฎุด ุงุฒ ูุณุฎู ุชุจุฏูโุดุฏู ุฑุง ุจุฑุฑุณ ฺฉูู:</p>
<ul>
<li>ุงุฒ ุณูุชฺฉุณ <code>impl Trait</code> ฺฉู ุฏุฑ ูุตู ฑฐ ุฏุฑ ุจุฎุด <a href="ch10-02-traits.html#traits-as-parameters">โูฺฺฏโูุง ุจู ุนููุงู ูพุงุฑุงูุชุฑโ</a><!-- ignore --> ุจุญุซ ฺฉุฑุฏูุ ุงุณุชูุงุฏู ูโฺฉูุฏ.</li>
<li>ูฺฺฏ ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ฺฉ <code>Future</code> ุจุง ฺฉ ููุน ูุงุจุณุชู ุจู ูุงู <code>Output</code> ุงุณุช. ุชูุฌู ฺฉูุฏ ฺฉู ููุน <code>Output</code> ุจุฑุงุจุฑ ุจุง <code>Option&lt;String&gt;</code> ุงุณุชุ ฺฉู ููุงู ููุน ุจุงุฒฺฏุดุช ูุณุฎู ุงุตู <code>async fn</code> ุชุงุจุน <code>page_title</code> ุงุณุช.</li>
<li>ุชูุงู ฺฉุฏ ฺฉู ุฏุฑ ุจุฏูู ุชุงุจุน ุงุตู ูุฑุงุฎูุงู ุดุฏู ุงุณุชุ ุฏุฑ ฺฉ ุจููฺฉ <code>async move</code> ุจุณุชูโุจูุฏ ุดุฏู ุงุณุช. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจููฺฉโูุง ุจุงู (<em>expression</em>) ูุณุชูุฏ. ุงู ุจููฺฉ ฺฉุงููุ ุจุงู ุงุณุช ฺฉู ุงุฒ ุชุงุจุน ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.</li>
<li>ุงู ุจููฺฉ async ฺฉ ููุฏุงุฑ ุจุง ููุน <code>Option&lt;String&gt;</code> ุชููุฏ ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุชูุถุญ ุฏุงุฏู ุดุฏ. ุงู ููุฏุงุฑ ุจุง ููุน <code>Output</code> ุฏุฑ ููุน ุจุงุฒฺฏุดุช ูุทุงุจูุช ุฏุงุฑุฏ. ุงู ุฏุฑุณุช ูุงููุฏ ุจููฺฉโูุง ุฏฺฏุฑ ุงุณุช ฺฉู ูุจูุงู ุฏุฏูโุงุฏ.</li>
<li>ุจุฏูู ุฌุฏุฏ ุชุงุจุน ฺฉ ุจููฺฉ <code>async move</code> ุงุณุช ุจู ุฏูู ูุญูู ุงุณุชูุงุฏู ุงุฒ ูพุงุฑุงูุชุฑ <code>url</code>. (ุฏุฑ ุงุฏุงูู ูุตู ุจุดุชุฑ ุฏุฑุจุงุฑู ุชูุงูุช <code>async</code> ู <code>async move</code> ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.)</li>
<li>ูุณุฎู ุฌุฏุฏ ุชุงุจุน ุฏุงุฑุง ููุน ุทูู ุนูุฑ ุงุณุช ฺฉู ูุจูุงู ูุฏุฏูโุงู: <code>'_</code>. ุงุฒ ุขูุฌุง ฺฉู ุชุงุจุน ฺฉ future ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุจู ฺฉ ูุฑุฌุน ุงุดุงุฑู ูโฺฉูุฏโุฏุฑ ุงู ููุฑุฏุ ูุฑุฌุน ฺฉู ุงุฒ ูพุงุฑุงูุชุฑ <code>url</code> ุขูุฏู ุงุณุชโุจุงุฏ ุจู Rust ุจฺฏูู ฺฉู ูโุฎูุงูู ุขู ูุฑุฌุน ุดุงูู ุดูุฏ. ูุงุฒ ูุณุช ุทูู ุนูุฑ ุฑุง ุงูุฌุง ูุงูโฺฏุฐุงุฑ ฺฉููุ ุฒุฑุง Rust ุจู ุงูุฏุงุฒู ฺฉุงู ููุดููุฏ ุงุณุช ฺฉู ุจูููุฏ ููุท ฺฉ ูุฑุฌุน ูโุชูุงูุฏ ุฏุฑฺฏุฑ ุจุงุดุฏุ ุงูุง ุจุงุฏ ุตุฑุงุญุชุงู ูุดุฎุต ฺฉูู ฺฉู future ุญุงุตู ุจู ุขู ุทูู ุนูุฑ ูุญุฏูุฏ ุดุฏู ุงุณุช.</li>
</ul>
<p>ุญุงูุง ูโุชูุงูู <code>page_title</code> ุฑุง ุฏุฑ <code>main</code> ูุฑุงุฎูุงู ฺฉูู.</p>
<h2 id="ุชุนู-ุนููุงู-ฺฉ-ุตูุญู"><a class="header" href="#ุชุนู-ุนููุงู-ฺฉ-ุตูุญู">ุชุนู ุนููุงู ฺฉ ุตูุญู</a></h2>
<p>ุจุฑุง ุดุฑูุนุ ููุท ุนููุงู ฺฉ ุตูุญู ุฑุง ุฏุฑุงูุช ูโฺฉูู. ุฏุฑ ูุณุช ฑท-ณุ ููุงู ุงูฺฏู ฺฉู ุฏุฑ ูุตู ฑฒ ุจุฑุง ุฏุฑุงูุช ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู ุฏุฑ ุจุฎุด <a href="ch12-01-accepting-command-line-arguments.html">ูพุฐุฑูุชู ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู</a><!-- ignore --> ุงุณุชูุงุฏู ฺฉุฑุฏู ุฑุง ุฏูุจุงู ูโฺฉูู. ุณูพุณ URL ุงูู ุฑุง ุจู <code>page_title</code> ุงุฑุณุงู ฺฉุฑุฏู ู ูุชุฌู ุฑุง ุงูุชุธุงุฑ ูโฺฉุดู. ฺูู ููุฏุงุฑ ฺฉู ุชูุณุท future ุชููุฏ ูโุดูุฏ ฺฉ <code>Option&lt;String&gt;</code> ุงุณุชุ ุงุฒ ฺฉ ุนุจุงุฑุช <code>match</code> ุจุฑุง ฺุงูพ ูพุงูโูุง ูุฎุชูู ุงุณุชูุงุฏู ูโฺฉูู ุชุง ูุดุฎุต ุดูุฏ ุขุง ุตูุญู ฺฉ <code>&lt;title&gt;</code> ุฏุงุดุชู ุงุณุช ุง ุฎุฑ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use trpl::Html;
</span><span class="boring">
</span>async fn main() {
    let args: Vec&lt;String&gt; = std::env::args().collect();
    let url = &amp;args[1];
    match page_title(url).await {
        Some(title) =&gt; println!("The title for {url} was {title}"),
        None =&gt; println!("{url} had no title"),
    }
}
<span class="boring">
</span><span class="boring">async fn page_title(url: &amp;str) -&gt; Option&lt;String&gt; {
</span><span class="boring">    let response_text = trpl::get(url).await.text().await;
</span><span class="boring">    Html::parse(&amp;response_text)
</span><span class="boring">        .select_first("title")
</span><span class="boring">        .map(|title_element| title_element.inner_html())
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-3: Calling the <code>page_title</code> function from <code>main</code> with a user-supplied argument</figcaption>
</figure>
<p>ูุชุฃุณูุงููุ ุงู ฺฉุฏ ฺฉุงููพุงู ููโุดูุฏ. ุชููุง ุฌุง ฺฉู ูโุชูุงูู ุงุฒ ฺฉููู ฺฉูุฏ <code>await</code> ุงุณุชูุงุฏู ฺฉููุ ุฏุฑ ุชูุงุจุน ุง ุจููฺฉโูุง async ุงุณุชุ ู Rust ุงุฌุงุฒู ููโุฏูุฏ ุชุงุจุน ูฺู <code>main</code> ุฑุง ุจูโุนููุงู <code>async</code> ุนูุงูุชโฺฏุฐุงุฑ ฺฉูู.</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-03
cargo build
copy just the compiler error
-->
<pre><code class="language-text">error[E0752]: `main` function is not allowed to be `async`
 --&gt; src/main.rs:6:1
  |
6 | async fn main() {
  | ^^^^^^^^^^^^^^^ `main` function is not allowed to be `async`
</code></pre>
<p>ุฏูู ุงูฺฉู ููโุชูุงู <code>main</code> ุฑุง ุจูโุนููุงู <code>async</code> ุนูุงูุชโฺฏุฐุงุฑ ฺฉุฑุฏ ุงู ุงุณุช ฺฉู ฺฉุฏ async ุจู ฺฉ <em>runtime</em> ูุงุฒ ุฏุงุฑุฏ: ฺฉ crate ุฏุฑ Rust ฺฉู ุฌุฒุฆุงุช ุงุฌุฑุง ฺฉุฏ ูุงููุฒูุงู ุฑุง ูุฏุฑุช ูโฺฉูุฏ. ุชุงุจุน <code>main</code> ฺฉ ุจุฑูุงูู ูโุชูุงูุฏ ฺฉ runtime ุฑุง <em>ููุฏุงุฑุฏู ุงููู</em> ฺฉูุฏุ ุงูุง ุฎูุฏุด ฺฉ runtime ูุณุช. (ุฏุฑ ุงุฏุงููุ ุจุดุชุฑ ุฎูุงูู ุฏุฏ ฺฉู ฺุฑุง ุงูโฺฏููู ุงุณุช.) ูุฑ ุจุฑูุงูู Rust ฺฉู ฺฉุฏ async ุงุฌุฑุง ูโฺฉูุฏุ ุญุฏุงูู ฺฉ ูฺฉุงู ุฏุงุฑุฏ ฺฉู ุฏุฑ ุขู ฺฉ runtime ุฑุงูโุงูุฏุงุฒ ฺฉุฑุฏู ู futures ุฑุง ุงุฌุฑุง ูโฺฉูุฏ.</p>
<p>ุจุดุชุฑ ุฒุจุงูโูุง ฺฉู ุงุฒ async ูพุดุชุจุงู ูโฺฉููุฏุ ฺฉ runtime ููุฑุงู ุฏุงุฑูุฏุ ุงูุง Rust ุงู ฺฉุงุฑ ุฑุง ููโฺฉูุฏ. ุฏุฑ ุนูุถุ ุจุณุงุฑ ุงุฒ runtimeูุง async ูุฎุชูู ููุฌูุฏ ูุณุชูุฏ ฺฉู ูุฑฺฉุฏุงู ููุงุฒููโูุง ูุชูุงูุช ุจุฑุง ููุงุฑุฏ ุงุณุชูุงุฏู ุฎุงุต ุฎูุฏ ุงุฑุงุฆู ูโุฏููุฏ. ุจุฑุง ูุซุงูุ ฺฉ ูุจ ุณุฑูุฑ ุจุง ุชูุงู ุนููุงุช ุจุงูุง ฺฉู ุฏุงุฑุง ูุณุชูโูุง CPU ูุชุนุฏุฏ ู ููุฏุงุฑ ุฒุงุฏ RAM ุงุณุชุ ูุงุฒูุง ุจุณุงุฑ ูุชูุงูุช ูุณุจุช ุจู ฺฉ ูฺฉุฑูฺฉูุชุฑูุฑ ุจุง ฺฉ ูุณุชูุ ููุฏุงุฑ ฺฉู RAM ู ุจุฏูู ูุงุจูุช ุชุฎุตุต heap ุฏุงุฑุฏ. crateูุง ฺฉู ุงู runtimeูุง ุฑุง ูุฑุงูู ูโฺฉููุฏ ุงุบูุจ ูุณุฎูโูุง async ุงุฒ ูุงุจูุชโูุง ุนููู ูุงููุฏ I/O ูุงู ุง ุดุจฺฉู ุฑุง ูุฒ ุงุฑุงุฆู ูโุฏููุฏ.</p>
<p>ุงูุฌุง ู ุฏุฑ ุจูู ุงู ูุตูุ ุงุฒ ุชุงุจุน <code>run</code> ุงุฒ crate <code>trpl</code> ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏุ ฺฉู ฺฉ future ุฑุง ุจูโุนููุงู ุขุฑฺฏููุงู ูโฺฏุฑุฏ ู ุขู ุฑุง ุชุง ูพุงุงู ุงุฌุฑุง ูโฺฉูุฏ. ุฏุฑ ูพุดุช ุตุญููุ ูุฑุงุฎูุงู <code>run</code> ฺฉ runtime ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ ฺฉู ุจุฑุง ุงุฌุฑุง future ุงุฑุณุงูโุดุฏู ุงุณุชูุงุฏู ูโุดูุฏ. ููุช future ฺฉุงูู ุดุฏุ <code>run</code> ูุฑ ููุฏุงุฑ ฺฉู future ุชููุฏ ฺฉุฑุฏู ุจุงุดุฏุ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูโุชูุงูุณุชู future ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชูุณุท <code>page_title</code> ุฑุง ูุณุชููุงู ุจู <code>run</code> ุงุฑุณุงู ฺฉููุ ู ููุช ฺฉุงูู ุดุฏุ ูโุชูุงูุณุชู ุจุฑ ุงุณุงุณ <code>Option&lt;String&gt;</code> ูุชุฌูุ ฺฉ <code>match</code> ุงูุฌุงู ุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ณ ุชูุงุด ฺฉุฑุฏู. ุจุง ุงู ุญุงูุ ุจุฑุง ุจุดุชุฑ ูุซุงูโูุง ุงู ูุตู (ู ุจุดุชุฑ ฺฉุฏ async ุฏุฑ ุฏูุง ูุงูุน)ุ ุจุด ุงุฒ ฺฉ ูุฑุงุฎูุงู ุชุงุจุน async ุงูุฌุงู ุฎูุงูู ุฏุงุฏุ ุจูุงุจุฑุงู ุจูโุฌุง ุขู ฺฉ ุจููฺฉ <code>async</code> ุงุฑุณุงู ูโฺฉูู ู ุตุฑุงุญุชุงู ูุชุฌู ูุฑุงุฎูุงู <code>page_title</code> ุฑุง ุงูุชุธุงุฑ ูโฺฉุดูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<!-- should_panic,noplayground because mdbook test does not pass args -->
<pre><code class="language-rust should_panic noplayground"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use trpl::Html;
</span><span class="boring">
</span>fn main() {
    let args: Vec&lt;String&gt; = std::env::args().collect();

    trpl::run(async {
        let url = &amp;args[1];
        match page_title(url).await {
            Some(title) =&gt; println!("The title for {url} was {title}"),
            None =&gt; println!("{url} had no title"),
        }
    })
}
<span class="boring">
</span><span class="boring">async fn page_title(url: &amp;str) -&gt; Option&lt;String&gt; {
</span><span class="boring">    let response_text = trpl::get(url).await.text().await;
</span><span class="boring">    Html::parse(&amp;response_text)
</span><span class="boring">        .select_first("title")
</span><span class="boring">        .map(|title_element| title_element.inner_html())
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-4: ููุชุธุฑ ูุงูุฏู ฺฉ ุจููฺฉ async ุจุง <code>trpl::run</code></figcaption>
</figure>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฑูุชุงุฑ ุฑุง ฺฉู ููฺฉู ุงุณุช ุงุจุชุฏุง ุงูุชุธุงุฑ ุฏุงุดุชู ุฏุฑุงูุช ูโฺฉูู:</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-04
cargo build # skip all the build noise
cargo run https://www.rust-lang.org
# copy the output here
-->
<pre><code class="language-console">$ cargo run -- https://www.rust-lang.org
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.05s
     Running `target/debug/async_await 'https://www.rust-lang.org'`
The title for https://www.rust-lang.org was
            Rust Programming Language
</code></pre>
<p>ูพููููโุจุงูุงุฎุฑู ููุฏุงุฑ ฺฉุฏ async ฺฉุงุฑุง ุฏุงุฑู! ุงูุง ูุจู ุงุฒ ุงูฺฉู ฺฉุฏ ุงุถุงูู ฺฉูู ฺฉู ุฏู ุณุงุช ุฑุง ุฏุฑ ููุงุจู ฺฉุฏฺฏุฑ ุฑูุงุจุช ุฏูุฏุ ุจุงุฏ ุจูโุทูุฑ ูุฎุชุตุฑ ุฏูุจุงุฑู ุจู ูุญูู ฺฉุงุฑ futures ุชูุฌู ฺฉูู.</p>
<p>ูุฑ <em>ููุทู ุงูุชุธุงุฑ</em>โุนู ูุฑ ุฌุง ฺฉู ฺฉุฏ ุงุฒ ฺฉููู ฺฉูุฏ <code>await</code> ุงุณุชูุงุฏู ูโฺฉูุฏโููุงุงูฺฏุฑ ุฌุง ุงุณุช ฺฉู ฺฉูุชุฑู ุจู runtime ุจุงุฒูโฺฏุฑุฏุฏ. ุจุฑุง ุงูฺฉู ุงู ฺฉุงุฑ ุงูุฌุงู ุดูุฏุ Rust ูุงุฒ ุฏุงุฑุฏ ูุถุนุช ูุฑุจูุท ุจู ุจููฺฉ async ุฑุง ูพฺฏุฑ ฺฉูุฏ ุชุง runtime ุจุชูุงูุฏ ฺฉุงุฑ ุฏฺฏุฑ ุฑุง ุขุบุงุฒ ฺฉูุฏ ู ุณูพุณ ููุช ุขูุงุฏู ุดุฏ ุฏูุจุงุฑู ุจุฑุง ูพุดุฑูุช ุจููฺฉ ุงูู ุจุงุฒฺฏุฑุฏุฏ. ุงู ฺฉ ูุงุดู ุญุงูุช ูุงูุฑุฆ ุงุณุชุ ฺฏู ฺฉู ุดูุง ฺฉ enum ูุงููุฏ ุงู ููุดุชูโุงุฏ ุชุง ูุถุนุช ูุนู ุฑุง ุฏุฑ ูุฑ ููุทู ุงูุชุธุงุฑ ุฐุฎุฑู ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>enum PageTitleFuture&lt;'a&gt; {
    Initial { url: &amp;'a str },
    GetAwaitPoint { url: &amp;'a str },
    TextAwaitPoint { response: trpl::Response },
}
<span class="boring">}</span></code></pre></pre>
<p>ููุดุชู ฺฉุฏ ฺฉู ุจู ุตูุฑุช ุฏุณุช ุจู ูุฑ ุญุงูุช ุงูุชูุงู ุงุจุฏ ุฎุณุชูโฺฉููุฏู ู ูุณุชุนุฏ ุฎุทุง ุฎูุงูุฏ ุจูุฏุ ุจูโูฺู ุฒูุงู ฺฉู ุจุฎูุงูุฏ ุนููฺฉุฑุฏ ุจุดุชุฑ ุงุถุงูู ฺฉุฑุฏู ู ุญุงูุงุช ุจุดุชุฑ ุจู ฺฉุฏ ุงุถุงูู ฺฉูุฏ. ุฎูุดุจุฎุชุงููุ ฺฉุงููพุงูุฑ Rust ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุณุงุฎุชุงุฑูุง ุฏุงุฏู ูุฑุจูุท ุจู ูุงุดู ุญุงูุช ุฑุง ุจุฑุง ฺฉุฏ async ุงุฌุงุฏ ู ูุฏุฑุช ูโฺฉูุฏ. ููุงูู ุนุงุฏ ูุงูฺฉุช ู ูุฑุถโฺฏุฑ ุฏุฑ ููุฑุฏ ุณุงุฎุชุงุฑูุง ุฏุงุฏู ููฺูุงู ุงุนูุงู ูโุดููุฏุ ู ุฎูุดุจุฎุชุงููุ ฺฉุงููพุงูุฑ ุจุฑุฑุณ ุงู ููุงุฑุฏ ุฑุง ูุฒ ุจุฑุง ูุง ุงูุฌุงู ูโุฏูุฏ ู ูพุงูโูุง ุฎุทุง ููุฏ ุงุฑุงุฆู ูโุฏูุฏ. ุฏุฑ ุงุฏุงูู ูุตู ฺูุฏ ููุฑุฏ ุงุฒ ุงู ูพุงูโูุง ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุฏุฑ ููุงุชุ ฺุฒ ุจุงุฏ ุงู ูุงุดู ุญุงูุช ุฑุง ุงุฌุฑุง ฺฉูุฏุ ู ุขู ฺุฒ ฺฉ runtime ุงุณุช. (ุจู ููู ุฏูู ููฺฉู ุงุณุช ุฏุฑ ุจุฑุฑุณ runtimeูุง ุจู ุงุฑุฌุงุนุงุช ุจู <em>executors</em> ุจุฑุฎูุฑุฏ ฺฉูุฏ: ฺฉ executor ุจุฎุด ุงุฒ runtime ุงุณุช ฺฉู ูุณุฆูู ุงุฌุฑุง ฺฉุฏ async ุงุณุช.)</p>
<p>ุญุงูุง ูโุชูุงูุฏ ุจูููุฏ ฺุฑุง ฺฉุงููพุงูุฑ ูุงูุน ุดุฏ ฺฉู <code>main</code> ุฎูุฏุด ุจู ุนููุงู ฺฉ ุชุงุจุน async ุฏุฑ ูุณุช ฑท-ณ ุชุนุฑู ุดูุฏ. ุงฺฏุฑ <code>main</code> ฺฉ ุชุงุจุน async ุจูุฏุ ฺุฒ ุฏฺฏุฑ ุจุงุฏ ูุงุดู ุญุงูุช ุฑุง ุจุฑุง future ฺฉู <code>main</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ูุฏุฑุช ูโฺฉุฑุฏุ ุงูุง <code>main</code> ููุทู ุดุฑูุน ุจุฑูุงูู ุงุณุช! ุฏุฑ ุนูุถุ ูุง ุชุงุจุน <code>trpl::run</code> ุฑุง ุฏุฑ <code>main</code> ูุฑุงุฎูุงู ฺฉุฑุฏู ุชุง ฺฉ runtime ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ ู future ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุชูุณุท ุจููฺฉ <code>async</code> ุฑุง ุชุง ุฒูุงู ฺฉู <code>Ready</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุงุฌุฑุง ฺฉูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุจุฑุฎ runtimeูุง ูุงฺฉุฑููุง ุงุฑุงุฆู ูโุฏููุฏ ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉ ุชุงุจุน async ุจุฑุง <code>main</code> ุจููุณุฏ. ุงู ูุงฺฉุฑููุง <code>async fn main() { ... }</code> ุฑุง ุจู ฺฉ <code>fn main</code> ุนุงุฏ ุชุจุฏู ูโฺฉููุฏุ ฺฉู ููุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ ฺฉู ูุง ุจู ุตูุฑุช ุฏุณุช ุฏุฑ ูุณุช ฑท-ต ุงูุฌุงู ุฏุงุฏู: ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ฺฉู ฺฉ future ุฑุง ุจู ุทูุฑ ฺฉุงูู ุงุฌุฑุง ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู <code>trpl::run</code> ุงูุฌุงู ูโุฏูุฏ.</p>
</blockquote>
<p>ุญุงูุง ุจุงุฏ ุงู ุจุฎุดโูุง ุฑุง ฺฉูุงุฑ ูู ูุฑุงุฑ ุฏูู ู ุจุจูู ฺฺฏููู ูโุชูุงู ฺฉุฏ ููุฒูุงู ููุดุช.</p>
<h3 id="ุฑูุงุจุช-ุจู-ุฏู-url"><a class="header" href="#ุฑูุงุจุช-ุจู-ุฏู-url">ุฑูุงุจุช ุจู ุฏู URL</a></h3>
<p>ุฏุฑ ูุณุช ฑท-ตุ ูุง <code>page_title</code> ุฑุง ุจุง ุฏู URL ูุฎุชูู ฺฉู ุงุฒ ุฎุท ูุฑูุงู ุงุฑุณุงู ุดุฏูโุงูุฏุ ูุฑุงุฎูุงู ฺฉุฑุฏู ู ุขูโูุง ุฑุง ุจุง ฺฉุฏฺฏุฑ ุฑูุงุจุช ูโุฏูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<!-- should_panic,noplayground because mdbook does not pass args -->
<pre><code class="language-rust should_panic noplayground"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>use trpl::{Either, Html};

fn main() {
    let args: Vec&lt;String&gt; = std::env::args().collect();

    trpl::run(async {
        let title_fut_1 = page_title(&amp;args[1]);
        let title_fut_2 = page_title(&amp;args[2]);

        let (url, maybe_title) =
            match trpl::race(title_fut_1, title_fut_2).await {
                Either::Left(left) =&gt; left,
                Either::Right(right) =&gt; right,
            };

        println!("{url} returned first");
        match maybe_title {
            Some(title) =&gt; println!("Its page title is: '{title}'"),
            None =&gt; println!("Its title could not be parsed."),
        }
    })
}

async fn page_title(url: &amp;str) -&gt; (&amp;str, Option&lt;String&gt;) {
    let text = trpl::get(url).await.text().await;
    let title = Html::parse(&amp;text)
        .select_first("title")
        .map(|title| title.inner_html());
    (url, title)
}</code></pre>
<figcaption>Listing 17-5: </figcaption>
</figure>
<p>ูุง ุจุง ูุฑุงุฎูุงู <code>page_title</code> ุจุฑุง ูุฑ ฺฉ ุงุฒ URLูุง ฺฉู ุชูุณุท ฺฉุงุฑุจุฑ ุงุฑุณุงู ุดุฏูโุงูุฏุ ุดุฑูุน ูโฺฉูู. Futureูุง ุญุงุตู ุฑุง ุจู ูุงูโูุง <code>title_fut_1</code> ู <code>title_fut_2</code> ุฐุฎุฑู ูโฺฉูู. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏุ ุงูโูุง ูููุฒ ฺฉุงุฑ ุงูุฌุงู ููโุฏููุฏุ ุฒุฑุง futures ุชูุจู ูุณุชูุฏ ู ูููุฒ ููุชุธุฑ ุขูโูุง ููุงูุฏูโุงู. ุณูพุณ ุงู futures ุฑุง ุจู <code>trpl::race</code> ุงุฑุณุงู ูโฺฉููุ ฺฉู ููุฏุงุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉุฏุงู ฺฉ ุงุฒ futures ุงุฑุณุงูโุดุฏู ุจู ุขู ุงุจุชุฏุง ฺฉุงูู ุดุฏู ุงุณุช.</p>
<blockquote>
<p>ูฺฉุชู: ุฏุฑ ูพุดุช ุตุญููุ <code>race</code> ุจุฑ ุงุณุงุณ ฺฉ ุชุงุจุน ุนูููโุชุฑ ุจู ูุงู <code>select</code> ุณุงุฎุชู ุดุฏู ุงุณุชุ ฺฉู ุงุบูุจ ุฏุฑ ฺฉุฏูุง ูุงูุน Rust ุจุง ุขู ููุงุฌู ุฎูุงูุฏ ุดุฏ. ฺฉ ุชุงุจุน <code>select</code> ูโุชูุงูุฏ ฺฉุงุฑูุง ุงูุฌุงู ุฏูุฏ ฺฉู ุชุงุจุน <code>trpl::race</code> ููโุชูุงูุฏุ ุงูุง ููฺูู ุฏุงุฑุง ูพฺุฏฺฏโูุง ุงุถุงู ุงุณุช ฺฉู ูุนูุงู ูโุชูุงูู ุงุฒ ุขู ุตุฑูโูุธุฑ ฺฉูู.</p>
</blockquote>
<p>ูุฑฺฉุฏุงู ุงุฒ futures ูโุชูุงููุฏ ุจู ุทูุฑ ูุงููู โุจุฑูุฏูโ ุดููุฏุ ุจูุงุจุฑุงู ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Result</code> ููุทู ูุณุช. ุฏุฑ ุนูุถุ <code>race</code> ููุน ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ูุจูุงู ูุฏุฏูโุงู: <code>trpl::Either</code>. ููุน <code>Either</code> ุชุง ุญุฏูุฏ ุดุจู ุจู <code>Result</code> ุงุณุช ุจู ุงู ูุนูุง ฺฉู ุฏู ุญุงูุช ุฏุงุฑุฏ. ุงูุง ุจุฑุฎูุงู <code>Result</code>ุ ูฺ ููููู ุงุฒ ููููุช ุง ุดฺฉุณุช ุฏุฑ <code>Either</code> ูุฌูุฏ ูุฏุงุฑุฏ. ุฏุฑ ุนูุถุ ุงุฒ <code>Left</code> ู <code>Right</code> ุจุฑุง ูุดุงู ุฏุงุฏู โฺฉ ุง ุฏฺฏุฑโ ุงุณุชูุงุฏู ูโฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Either&lt;A, B&gt; {
    Left(A),
    Right(B),
}
<span class="boring">}</span></code></pre></pre>
<p>ุชุงุจุน <code>race</code> ููุฏุงุฑ <code>Left</code> ุฑุง ุจุง ุฎุฑูุฌ future ุงูู ุจุงุฒูโฺฏุฑุฏุงูุฏ ุงฺฏุฑ ุขุฑฺฏููุงู ุงูู ุจุฑูุฏู ุดูุฏุ ู ููุฏุงุฑ <code>Right</code> ุฑุง ุจุง ุฎุฑูุฌ future ุฏูู ุจุงุฒูโฺฏุฑุฏุงูุฏ ุงฺฏุฑ <em>ุขู</em> ฺฉ ุจุฑูุฏู ุดูุฏ. ุงู ุชุฑุชุจ ุจุง ุชุฑุชุจ ฺฉู ุขุฑฺฏููุงูโูุง ููฺฏุงู ูุฑุงุฎูุงู ุชุงุจุน ุธุงูุฑ ูโุดููุฏ ูุทุงุจูุช ุฏุงุฑุฏ: ุขุฑฺฏููุงู ุงูู ุฏุฑ ุณูุช ฺูพ ุขุฑฺฏููุงู ุฏูู ูุฑุงุฑ ุฏุงุฑุฏ.</p>
<p>ููฺูู ุชุงุจุน <code>page_title</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ููุงู URL ุงุฑุณุงูโุดุฏู ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุจู ุงู ุชุฑุชุจุ ุงฺฏุฑ ุตูุญูโุง ฺฉู ุงุจุชุฏุง ุจุงุฒูโฺฏุฑุฏุฏุ ุฏุงุฑุง ฺฉ <code>&lt;title&gt;</code> ูุจุงุดุฏ ฺฉู ุจุชูุงูู ุขู ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉููุ ููฺูุงู ูโุชูุงูู ฺฉ ูพุงู ูุนูุงุฏุงุฑ ฺุงูพ ฺฉูู. ุจุง ุฏุฑ ุฏุณุชุฑุณ ุจูุฏู ุงู ุงุทูุงุนุงุชุ ุฎุฑูุฌ <code>println!</code> ุฎูุฏ ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ูุดุฎุต ฺฉูุฏ ฺฉุฏุงู URL ุงูู ฺฉุงูู ุดุฏู ุงุณุช ู <code>&lt;title&gt;</code> ุตูุญู ูุจ ุฏุฑ ุขู URL ฺุณุช (ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ).</p>
<p>ุดูุง ุงฺฉููู ฺฉ web scraper ฺฉูฺฺฉ ู ฺฉุงุฑุง ุณุงุฎุชูโุงุฏ! ฺูุฏ URL ุงูุชุฎุงุจ ฺฉูุฏ ู ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ุฑุง ุงุฌุฑุง ฺฉูุฏ. ููฺฉู ุงุณุช ูุชูุฌู ุดูุฏ ฺฉู ุจุฑุฎ ุณุงุชโูุง ุจู ุทูุฑ ูุฏุงูู ุณุฑุนโุชุฑ ุงุฒ ุจูู ูุณุชูุฏุ ุฏุฑ ุญุงู ฺฉู ุฏุฑ ููุงุฑุฏ ุฏฺฏุฑุ ุณุงุช ุณุฑุนโุชุฑ ุงุฒ ุงุฌุฑุง ุจู ุงุฌุฑุง ุฏฺฏุฑ ูุชูุงูุช ุงุณุช. ูููโุชุฑ ุงุฒ ูููุ ุดูุง ุงุตูู ฺฉุงุฑ ุจุง futures ุฑุง ุขููุฎุชูโุงุฏุ ุจูุงุจุฑุงู ุญุงูุง ูโุชูุงูู ุนููโุชุฑ ุจู ุขูฺู ูโุชูุงู ุจุง async ุงูุฌุงู ุฏุงุฏุ ุจูพุฑุฏุงุฒู.</p>
<!-- TODO: map source link version to version of Rust? -->
<div style="break-before: page; page-break-before: always;"></div><h2 id="applying-concurrency-with-async"><a class="header" href="#applying-concurrency-with-async">Applying Concurrency with Async</a></h2>
<!-- Old headings. Do not remove or links may break. -->
<p><a id="concurrency-with-async"></a></p>
<p>ุฏุฑ ุงู ุจุฎุดุ async ุฑุง ุจู ุจุฑุฎ ุงุฒ ููุงู ฺุงูุดโูุง ููุฒูุงู ฺฉู ุจุง ูุฎโูุง ุฏุฑ ูุตู 16 ุงูุฌุงู ุฏุงุฏู ุงุนูุงู ูโฺฉูู. ุงุฒ ุขูุฌุง ฺฉู ูุจูุงู ุฏุฑุจุงุฑู ุจุณุงุฑ ุงุฒ ุงุฏูโูุง ฺฉูุฏ ุฏุฑ ุขูุฌุง ุตุญุจุช ฺฉุฑุฏูโุงูุ ุฏุฑ ุงู ุจุฎุด ุชูุฑฺฉุฒ ุจุฑ ุชูุงูุชโูุง ุจู ูุฎโูุง ู ุขูุฏูโูุง (futures) ุฎูุงูู ุฏุงุดุช.</p>
<p>ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏุ APIูุง ุจุฑุง ฺฉุงุฑ ุจุง ููุฒูุงู (<em>concurrency</em>) ุจุง ุงุณุชูุงุฏู ุงุฒ async ุจุณุงุฑ ุดุจู ุจู APIูุง ูุณุชูุฏ ฺฉู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ Threadูุง ุงุณุชูุงุฏู ูโุดููุฏ. ุฏุฑ ููุงุฑุฏ ุฏฺฏุฑุ ุงู APIูุง ฺฉุงููุงู ูุชูุงูุช ูุณุชูุฏ. ุญุช ุฒูุงู ฺฉู APIูุง ุจู Threadูุง ู async <em>ุดุจู</em> ุจู ูุธุฑ ูโุฑุณูุฏุ ุงุบูุจ ุฑูุชุงุฑ ูุชูุงูุช ุฏุงุฑูุฏโู ุชูุฑุจุงู ููุดู ูฺฺฏโูุง ุนููฺฉุฑุฏ ูุชูุงูุช ุฏุงุฑูุฏ.</p>
<p><a id="counting"></a></p>
<h3 id="ุงุฌุงุฏ-ฺฉ-task-ุฌุฏุฏ-ุจุง-spawn_task"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-task-ุฌุฏุฏ-ุจุง-spawn_task">ุงุฌุงุฏ ฺฉ Task ุฌุฏุฏ ุจุง <code>spawn_task</code></a></h3>
<p>ุงููู ุนููุงุช ฺฉู ุฏุฑ <a href="ch16-01-threads.html#creating-a-new-thread-with-spawn">ุงุฌุงุฏ ฺฉ Thread ุฌุฏุฏ ุจุง Spawn</a><!-- ignore --> ุงูุฌุงู ุฏุงุฏูุ ุดูุงุฑุด ุงูุฒุงุด ุฏุฑ ุฏู Thread ุฌุฏุงฺฏุงูู ุจูุฏ. ุจุงุฏ ููุงู ฺฉุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ async ุงูุฌุงู ุฏูู. crate <code>trpl</code> ฺฉ ุชุงุจุน <code>spawn_task</code> ูุฑุงูู ูโฺฉูุฏ ฺฉู ุจุณุงุฑ ุดุจู ุจู API <code>thread::spawn</code> ุงุณุชุ ู ฺฉ ุชุงุจุน <code>sleep</code> ฺฉู ูุณุฎู async ุงุฒ API <code>thread::sleep</code> ุงุณุช. ูโุชูุงูู ุงุฒ ุงู ุฏู ุจุง ูู ุงุณุชูุงุฏู ฺฉูู ุชุง ูุซุงู ุดูุงุฑุด ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>use std::time::Duration;

fn main() {
    trpl::run(async {
        trpl::spawn_task(async {
            for i in 1..10 {
                println!("hi number {i} from the first task!");
                trpl::sleep(Duration::from_millis(500)).await;
            }
        });

        for i in 1..5 {
            println!("hi number {i} from the second task!");
            trpl::sleep(Duration::from_millis(500)).await;
        }
    });
}</code></pre></pre>
<figcaption>Listing 17-6: ุงุฌุงุฏ ฺฉ Task ุฌุฏุฏ ุจุฑุง ฺุงูพ ฺฉ ฺุฒ ุฏุฑ ุญุงู ฺฉู Task ุงุตู ฺุฒ ุฏฺฏุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ</figcaption>
</figure>
<p>ุจูโุนููุงู ููุทู ุดุฑูุนุ ุชุงุจุน <code>main</code> ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>trpl::run</code> ุชูุธู ูโฺฉูู ุชุง ุชุงุจุน ุณุทุญ ุจุงูุง ูุง ุจุชูุงูุฏ async ุจุงุดุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุงุฒ ุงู ููุทู ุจู ุจุนุฏ ุฏุฑ ูุตูุ ูุฑ ูุซุงู ุงู ฺฉุฏ ุจุณุชูโุจูุฏ ฺฉุณุงู ุฑุง ุจุง <code>trpl::run</code> ุฏุฑ <code>main</code> ุดุงูู ุฎูุงูุฏ ุดุฏุ ุจูุงุจุฑุงู ุงุบูุจ ุขู ุฑุง ูุงููุฏ <code>main</code> ูุงุฏุฏู ูโฺฏุฑู. ูุฑุงููุด ูฺฉูุฏ ฺฉู ุขู ุฑุง ุฏุฑ ฺฉุฏ ุฎูุฏ ุจฺฏูุฌุงูุฏ!</p>
</blockquote>
<p>ุณูพุณ ุฏู ุญููู ุฏุฑูู ุขู ุจููฺฉ ูโููุณู ฺฉู ูุฑ ฺฉุฏุงู ุดุงูู ฺฉ ูุฑุงุฎูุงู ุจู trpl::sleep ูุณุชูุฏุ ฺฉู ูุจู ุงุฒ ุงุฑุณุงู ูพุงู ุจุนุฏ ุจู ูุฏุช ูู ุซุงูู (ตฐฐ ููโุซุงูู) ููุชุธุฑ ูโูุงููุฏ. ฺฉ ุงุฒ ุญูููโูุง ุฑุง ุฏุฑ ุจุฏูู ฺฉ trpl::spawn_task ูุฑุงุฑ ูโุฏูู ู ุฏฺฏุฑ ุฑุง ุฏุฑ ฺฉ ุญููู for ุฏุฑ ุณุทุญ ุจุงูุง. ููฺูู ูพุณ ุงุฒ ูุฑุงุฎูุงูโูุง sleep ฺฉ await ุงุถุงูู ูโฺฉูู.</p>
<p>ุงู ฺฉุฏ ุฑูุชุงุฑ ูุดุงุจู ุจุง ูพุงุฏูโุณุงุฒ ูุจุชู ุจุฑ Thread ุฏุงุฑุฏโุงุฒ ุฌููู ุงูฺฉู ููฺฉู ุงุณุช ูพุงูโูุง ุฑุง ุฏุฑ ุชุฑุชุจ ูุชูุงูุช ุฏุฑ ุชุฑููุงู ุฎูุฏ ููฺฏุงู ุงุฌุฑุง ูุดุงูุฏู ฺฉูุฏ:s</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">hi number 1 from the second task!
hi number 1 from the first task!
hi number 2 from the first task!
hi number 2 from the second task!
hi number 3 from the first task!
hi number 3 from the second task!
hi number 4 from the first task!
hi number 4 from the second task!
hi number 5 from the first task!
</code></pre>
<p>ุงู ูุณุฎู ุจู ูุญุถ ุงูฺฉู ุญููู <code>for</code> ุฏุฑ ุจุฏูู ุจููฺฉ async ุงุตู ุจู ูพุงุงู ูโุฑุณุฏุ ูุชููู ูโุดูุฏุ ุฒุฑุง task ฺฉู ุชูุณุท <code>spawn_task</code> ุงุฌุงุฏ ุดุฏู ุงุณุช ุจุง ูพุงุงู ุงูุชู ุชุงุจุน <code>main</code> ูุชููู ูโุดูุฏ. ุงฺฏุฑ ุจุฎูุงูุฏ ุชุง ุงุชูุงู ฺฉุงูู task ุงุฌุฑุง ุดูุฏุ ุจุงุฏ ุงุฒ ฺฉ handle join ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ููุชุธุฑ ุจูุงูุฏ ุงููู task ุจู ูพุงุงู ุจุฑุณุฏ. ุจุง Threadูุงุ ุงุฒ ูุชุฏ <code>join</code> ุจุฑุง โูุณุฏูุฏ ฺฉุฑุฏูโ ุชุง ุฒูุงู ฺฉู Thread ุงุฌุฑุง ูโุดุฏุ ุงุณุชูุงุฏู ูโฺฉุฑุฏู. ุฏุฑ ูุณุช ฑท-ทุ ูโุชูุงูู ุงุฒ <code>await</code> ุจุฑุง ุงูุฌุงู ููู ฺฉุงุฑ ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง handle task ุฎูุฏุด ฺฉ future ุงุณุช. ููุน <code>Output</code> ุขู ฺฉ <code>Result</code> ุงุณุชุ ุจูุงุจุฑุงู ูพุณ ุงุฒ ููุชุธุฑ ูุงูุฏู ุขู ุฑุง unwrap ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let handle = trpl::spawn_task(async {
            for i in 1..10 {
                println!("hi number {i} from the first task!");
                trpl::sleep(Duration::from_millis(500)).await;
            }
        });

        for i in 1..5 {
            println!("hi number {i} from the second task!");
            trpl::sleep(Duration::from_millis(500)).await;
        }

        handle.await.unwrap();
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-7: ุงุณุชูุงุฏู ุงุฒ <code>await</code> ุจุง ฺฉ handle ุงูุญุงู ุจุฑุง ุงุฌุฑุง ุชุณฺฉ ุชุง ุชฺฉูู</figcaption>
</figure>
<p>ูุณุฎู ุจูโุฑูุฒุฑุณุงูโุดุฏู ุชุง ุฒูุงู ฺฉู <em>ูุฑ ุฏู</em> ุญููู ุชูุงู ุดููุฏ ุงุฌุฑุง ูโุดูุฏ.</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">hi number 1 from the second task!
hi number 1 from the first task!
hi number 2 from the first task!
hi number 2 from the second task!
hi number 3 from the first task!
hi number 3 from the second task!
hi number 4 from the first task!
hi number 4 from the second task!
hi number 5 from the first task!
hi number 6 from the first task!
hi number 7 from the first task!
hi number 8 from the first task!
hi number 9 from the first task!
</code></pre>
<p>ุชุง ุงูุฌุงุ ุจู ูุธุฑ ูโุฑุณุฏ async ู ูุฎโูุง ูุชุงุฌ ุงุตู ฺฉุณุงู ุจู ูุง ูโุฏููุฏุ ููุท ุจุง ุณูุชฺฉุณ ูุชูุงูุช: ุงุณุชูุงุฏู ุงุฒ <code>await</code> ุจู ุฌุง ูุฑุงุฎูุงู <code>join</code> ุฑู handle ุงูุญุงู ู ุงูุชุธุงุฑ ุจุฑุง ูุฑุงุฎูุงูโูุง <code>sleep</code>.</p>
<p>ุชูุงูุช ุจุฒุฑฺฏโุชุฑ ุงู ุงุณุช ฺฉู ูุงุฒ ุจู ุงุฌุงุฏ ฺฉ ูุฎ ุณุณุชูโุนุงูู ุฌุฏุงฺฏุงูู ุจุฑุง ุงู ฺฉุงุฑ ูุฏุงุดุชู. ุฏุฑ ูุงูุนุ ุญุช ูุงุฒ ุจู ุงุฌุงุฏ ฺฉ ุชุณฺฉ ูู ุฏุฑ ุงูุฌุง ูุฏุงุฑู. ุฒุฑุง ุจููฺฉโูุง async ุจู ุขูุฏูโูุง ูุงุดูุงุณ ฺฉุงููพุงู ูโุดููุฏุ ูโุชูุงูู ูุฑ ุญููู ุฑุง ุฏุฑ ฺฉ ุจููฺฉ async ูุฑุงุฑ ุฏูู ู ุงุฌุงุฒู ุฏูู runtime ูุฑ ุฏู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>trpl::join</code> ุชุง ุชฺฉูู ุงุฌุฑุง ฺฉูุฏ.</p>
<p>ุฏุฑ ุจุฎุด <a href="ch16-01-threads.html#waiting-for-all-threads-to-finish-using-join-handles">ุงูุชุธุงุฑ ุจุฑุง ุงุชูุงู ุชูุงู Threadูุง ุจุง ุงุณุชูุงุฏู ุงุฒ Handles <code>join</code></a><!-- ignore -->ุ ูุดุงู ุฏุงุฏู ฺฉู ฺฺฏููู ูโุชูุงู ุงุฒ ูุชุฏ <code>join</code> ุฏุฑ ููุน <code>JoinHandle</code> ฺฉู ููฺฏุงู ูุฑุงุฎูุงู <code>std::thread::spawn</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏุ ุงุณุชูุงุฏู ฺฉุฑุฏ. ุชุงุจุน <code>trpl::join</code> ูุดุงุจู ุงุณุชุ ุงูุง ุจุฑุง futures ุทุฑุงุญ ุดุฏู ุงุณุช. ููุช ุฏู future ุจู ุขู ูโุฏูุฏุ ฺฉ future ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุฎุฑูุฌ ุขู ฺฉ tuple ุดุงูู ุฎุฑูุฌ ูุฑ ฺฉ ุงุฒ futureูุง ุงุณุช ฺฉู ุจู ุขู ุงุฑุณุงู ฺฉุฑุฏูโุงุฏุ ุจู ุดุฑุท ฺฉู <em>ูุฑ ุฏู</em> ฺฉุงูู ุดููุฏ. ุจูุงุจุฑุงูุ ุฏุฑ ูุณุช ฑท-ธุ ุงุฒ <code>trpl::join</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ููุชุธุฑ ุจูุงูู <code>fut1</code> ู <code>fut2</code> ุจู ูพุงุงู ุจุฑุณูุฏ. ูุง <em>ูู</em> ุจุฑุง <code>fut1</code> ู <code>fut2</code>ุ ุจูฺฉู ุจุฑุง future ุฌุฏุฏ ฺฉู ุชูุณุท <code>trpl::join</code> ุชููุฏ ูโุดูุฏุ ููุชุธุฑ ูโูุงูู. ุฎุฑูุฌ ุฑุง ูุงุฏุฏู ูโฺฏุฑูุ ุฒุฑุง ููุท ฺฉ tuple ุดุงูู ุฏู ููุฏุงุฑ unit ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let fut1 = async {
            for i in 1..10 {
                println!("hi number {i} from the first task!");
                trpl::sleep(Duration::from_millis(500)).await;
            }
        };

        let fut2 = async {
            for i in 1..5 {
                println!("hi number {i} from the second task!");
                trpl::sleep(Duration::from_millis(500)).await;
            }
        };

        trpl::join(fut1, fut2).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-8: ุงุณุชูุงุฏู ุงุฒ <code>trpl::join</code> ุจุฑุง ููุชุธุฑ ูุงูุฏู ุฏู ุขูุฏู ูุงุดูุงุณ</figcaption>
</figure>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ ูโุจูู ูุฑ ุฏู futures ุชุง ุชฺฉูู ุงุฌุฑุง ูโุดููุฏ:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">hi number 1 from the first task!
hi number 1 from the second task!
hi number 2 from the first task!
hi number 2 from the second task!
hi number 3 from the first task!
hi number 3 from the second task!
hi number 4 from the first task!
hi number 4 from the second task!
hi number 5 from the first task!
hi number 6 from the first task!
hi number 7 from the first task!
hi number 8 from the first task!
hi number 9 from the first task!
</code></pre>
<p>ุงฺฉูููุ ูุฑ ุจุงุฑ ุฏููุงู ููุงู ุชุฑุชุจ ุฑุง ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏุ ฺฉู ุจุณุงุฑ ูุชูุงูุช ุงุฒ ฺุฒ ุงุณุช ฺฉู ุจุง Threadูุง ุฏุฏู. ุฏูู ุงู ุงูุฑ ุงู ุงุณุช ฺฉู ุชุงุจุน <code>trpl::join</code> <em>ููุตูุงูู</em> ุงุณุชุ ุจู ุงู ูุนู ฺฉู ูุฑ future ุฑุง ุจู ฺฉ ุงูุฏุงุฒู ุจุฑุฑุณ ูโฺฉูุฏุ ุจู ุขูโูุง ุชูุงูุจ ูโฺฏุฐุงุฑุฏ ู ูุฑฺฏุฒ ุงุฌุงุฒู ููโุฏูุฏ ฺฉ ุงุฒ ุขูโูุง ุฌูู ุจูุชุฏ ุงฺฏุฑ ุฏฺฏุฑ ุขูุงุฏู ุจุงุดุฏ. ุจุง Threadูุงุ ุณุณุชูโุนุงูู ุชุตูู ูโฺฏุฑุฏ ฺฉู ฺฉุฏุงู Thread ุจุฑุฑุณ ุดูุฏ ู ฺู ูุฏุช ุจู ุขู ุงุฌุงุฒู ุงุฌุฑุง ุจุฏูุฏ. ุจุง Rust asyncุ runtime ุชุตูู ูโฺฏุฑุฏ ฺฉู ฺฉุฏุงู task ุจุฑุฑุณ ุดูุฏ. (ุฏุฑ ุนููุ ุฌุฒุฆุงุช ูพฺุฏู ูโุดููุฏ ุฒุฑุง ฺฉ runtime async ููฺฉู ุงุณุช ุงุฒ Threadูุง ุณุณุชูโุนุงูู ุฏุฑ ูพุดุช ุตุญูู ุจูโุนููุงู ุจุฎุด ุงุฒ ูุญูู ูุฏุฑุช ููุฒูุงู ุงุณุชูุงุฏู ฺฉูุฏุ ุจูุงุจุฑุงู ุชุถูู ููุตูุงูู ุจูุฏู ูโุชูุงูุฏ ุจุฑุง runtime ุจุดุชุฑ ฺฉุงุฑ ุจุจุฑุฏโุงูุง ููฺูุงู ููฺฉู ุงุณุช!) runtimeูุง ูุงุฒ ุจู ุชุถูู ููุตูุงูู ุจูุฏู ุจุฑุง ูุฑ ุนููุงุช ุฎุงุต ูุฏุงุฑูุฏุ ู ุงุบูุจ APIูุง ูุฎุชูู ุงุฑุงุฆู ูโุฏููุฏ ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุงูุชุฎุงุจ ฺฉูุฏ ุขุง ูโุฎูุงูุฏ ููุตูุงูู ุจูุฏู ุฑุง ุงุนูุงู ฺฉูุฏ ุง ุฎุฑ.</p>
<p>ุจุฑุฎ ุงุฒ ุงู ุชุบุฑุงุช ุฏุฑ ุงูุชุธุงุฑ ุจุฑุง futures ุฑุง ุงูุชุญุงู ฺฉูุฏ ู ุจุจูุฏ ฺู ูโฺฉููุฏ:</p>
<ul>
<li>ุจููฺฉ async ุฑุง ุงุฒ ุงุทุฑุงู ฺฉ ุง ูุฑ ุฏู ุญููู ุญุฐู ฺฉูุฏ.</li>
<li>ูุฑ ุจููฺฉ async ุฑุง ุจูุงูุงุตูู ูพุณ ุงุฒ ุชุนุฑู ุขู ููุชุธุฑ ุจูุงูุฏ.</li>
<li>ููุท ุญููู ุงูู ุฑุง ุฏุฑ ฺฉ ุจููฺฉ async ูุฑุงุฑ ุฏูุฏ ู ุขูุฏู ุญุงุตู ุฑุง ูพุณ ุงุฒ ุจุฏูู ุญููู ุฏูู ููุชุธุฑ ุจูุงูุฏ.</li>
</ul>
<p>ุจุฑุง ฺฉ ฺุงูุด ุงุถุงูุ ุจุจูุฏ ุขุง ูโุชูุงูุฏ ูพุด ุงุฒ ุงุฌุฑุง ฺฉุฏ ูพุดโุจู ฺฉูุฏ ฺฉู ุฎุฑูุฌ ฺู ุฎูุงูุฏ ุจูุฏ!</p>
<p><a id="message-passing"></a></p>
<h3 id="ุดูุงุฑุด-ุงูุฒุงุด-ุฏุฑ-ุฏู-task-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุงุฑุณุงู-ูพุงู"><a class="header" href="#ุดูุงุฑุด-ุงูุฒุงุด-ุฏุฑ-ุฏู-task-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุงุฑุณุงู-ูพุงู">ุดูุงุฑุด ุงูุฒุงุด ุฏุฑ ุฏู Task ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุฑุณุงู ูพุงู</a></h3>
<p>ุงุดุชุฑุงฺฉ ุฏุงุฏูโูุง ุจู futures ูุฒ ุขุดูุง ุฎูุงูุฏ ุจูุฏ: ุฏูุจุงุฑู ุงุฒ ุงุฑุณุงู ูพุงู ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏุ ุงูุง ุงู ุจุงุฑ ุจุง ูุณุฎูโูุง async ุงุฒ ุงููุงุน ู ุชูุงุจุน. ูุง ูุณุฑ ฺฉู ูุชูุงูุช ุงุฒ <a href="ch16-02-message-passing.html">ุงุณุชูุงุฏู ุงุฒ ุงุฑุณุงู ูพุงู ุจุฑุง ุงูุชูุงู ุฏุงุฏูโูุง ุจู Threadูุง</a><!-- ignore --> ุฎูุงูู ูพููุฏ ุชุง ุจุฑุฎ ุงุฒ ุชูุงูุชโูุง ฺฉูุฏ ุจู ููุฒูุงู ูุจุชู ุจุฑ Thread ู ููุฒูุงู ูุจุชู ุจุฑ futures ุฑุง ูุดุงู ุฏูู. ุฏุฑ ูุณุช ฑท-นุ ููุท ุจุง ฺฉ ุจููฺฉ async ุดุฑูุน ูโฺฉููโู <em>ูู</em> ุงุฌุงุฏ ฺฉ task ุฌุฏุงฺฏุงููุ ููุงูโุทูุฑ ฺฉู ฺฉ Thread ุฌุฏุงฺฏุงูู ุงุฌุงุฏ ฺฉุฑุฏู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let (tx, mut rx) = trpl::channel();

        let val = String::from("hi");
        tx.send(val).unwrap();

        let received = rx.recv().await.unwrap();
        println!("Got: {received}");
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-9: ุงุฌุงุฏ ฺฉ ฺฉุงูุงู async ู ุงุฎุชุตุงุต ุฏู ููู ุจู <code>tx</code> ู <code>rx</code></figcaption>
</figure>
<p>ุงูุฌุงุ ุงุฒ <code>trpl::channel</code> ุงุณุชูุงุฏู ูโฺฉููุ ูุณุฎู async ุงุฒ API ฺฉุงูุงู ฺูุฏุชููุฏุ ฺฉโูุตุฑู ฺฉู ุฏุฑ ูุตู 16 ุจุง ูุฎโูุง ุงุณุชูุงุฏู ฺฉุฑุฏู. ูุณุฎู async ุงุฒ API ููุท ฺฉู ุจุง ูุณุฎู ูุจุชู ุจุฑ ูุฎ ูุชูุงูุช ุงุณุช: ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ฺฏุฑูุฏู ุบุฑูุงุจูโุชุบุฑ (immutable)ุ ุงุฒ ฺฉ ฺฏุฑูุฏู ูุงุจูโุชุบุฑ (mutable) <code>rx</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ู ูุชุฏ <code>recv</code> ุขู ฺฉ ุขูุฏู ุชููุฏ ูโฺฉูุฏ ฺฉู ุจุงุฏ ููุชุธุฑ ุขู ุจูุงููุ ุจู ุฌุง ุชููุฏ ููุฏุงุฑ ุจูโุทูุฑ ูุณุชูู. ุงฺฉููู ูโุชูุงูู ูพุงูโูุง ุฑุง ุงุฒ ูุฑุณุชูุฏู ุจู ฺฏุฑูุฏู ุงุฑุณุงู ฺฉูู. ุชูุฌู ฺฉูุฏ ฺฉู ูุงุฒ ุจู ุงุฌุงุฏ ฺฉ ูุฎ ุฌุฏุงฺฏุงูู ุง ุญุช ฺฉ ุชุณฺฉ ูุฏุงุฑูุ ููุท ุจุงุฏ ูุฑุงุฎูุงู <code>rx.recv</code> ุฑุง ููุชุธุฑ ุจูุงูู.</p>
<p>ูุชุฏ ููฺฏุงู <code>Receiver::recv</code> ุฏุฑ <code>std::mpsc::channel</code> ุชุง ุฒูุงู ฺฉู ูพุงู ุฏุฑุงูุช ุดูุฏ ูุณุฏูุฏ ูโุดูุฏ. ูุชุฏ <code>trpl::Receiver::recv</code> ุงู ฺฉุงุฑ ุฑุง ููโฺฉูุฏุ ุฒุฑุง async ุงุณุช. ุจู ุฌุง ูุณุฏูุฏ ุดุฏูุ ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ุฒูุงู ฺฉู ุง ูพุงู ุฏุฑุงูุช ุดูุฏ ุง ุณูุช ุงุฑุณุงู ฺฉุงูุงู ุจุณุชู ุดูุฏ. ุฏุฑ ููุงุจูุ ูุง ูุฑุงุฎูุงู <code>send</code> ุฑุง ููุชุธุฑ ููโูุงููุ ุฒุฑุง ูุณุฏูุฏ ููโุดูุฏ. ูุงุฒ ุจู ุงู ฺฉุงุฑ ูุฏุงุฑุฏุ ุฒุฑุง ฺฉุงูุงู ฺฉู ูพุงู ุฑุง ุจู ุขู ุงุฑุณุงู ูโฺฉูู ุจุฏูู ุญุฏ ุงุณุช.</p>
<blockquote>
<p>ูฺฉุชู: ุงุฒ ุขูุฌุง ฺฉู ุชูุงู ุงู ฺฉุฏ async ุฏุฑ ฺฉ ุจููฺฉ async ุฏุฑูู ฺฉ ูุฑุงุฎูุงู <code>trpl::run</code> ุงุฌุฑุง ูโุดูุฏุ ููู ฺุฒ ุฏุฑูู ุขู ูโุชูุงูุฏ ุงุฒ ูุณุฏูุฏ ุดุฏู ุงุฌุชูุงุจ ฺฉูุฏ. ุจุง ุงู ุญุงูุ ฺฉุฏ <em>ุฎุงุฑุฌ</em> ุงุฒ ุขู ุฑู ุจุงุฒฺฏุดุช ุชุงุจุน <code>run</code> ูุณุฏูุฏ ูโุดูุฏ. ุงู ููุงู ูุฏู ุงุตู ุชุงุจุน <code>trpl::run</code> ุงุณุช: ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ <em>ุงูุชุฎุงุจ</em> ฺฉูุฏ ฺฉู ฺฉุฌุง ุฑู ูุฌููุนูโุง ุงุฒ ฺฉุฏ async ูุณุฏูุฏ ุดูุฏ ู ุจูุงุจุฑุงู ฺฉุฌุง ุจู ฺฉุฏูุง sync ู async ุงูุชูุงู ุฏูุฏ. ุฏุฑ ุจุดุชุฑ runtimeูุง asyncุ <code>run</code> ุฏุฑ ูุงูุน ุจู ููู ุฏูู <code>block_on</code> ูุงูุฏู ูโุดูุฏ.</p>
</blockquote>
<p>ุฏู ูฺฉุชู ุฏุฑ ููุฑุฏ ุงู ูุซุงู ุชูุฌู ฺฉูุฏ. ุงููุ ูพุงู ุจูุงูุงุตูู ุฎูุงูุฏ ุฑุณุฏ. ุฏููุ ุงฺฏุฑฺู ูุง ุงูุฌุง ุงุฒ ฺฉ future ุงุณุชูุงุฏู ูโฺฉููุ ูููุฒ ูู ูฺ ููุฒูุงู (<em>concurrency</em>) ูุฌูุฏ ูุฏุงุฑุฏ. ููู ฺุฒ ุฏุฑ ุงู ูุณุช ุจู ุชุฑุชุจ ุงูุฌุงู ูโุดูุฏุ ุฏุฑุณุช ูุงููุฏ ุงูฺฉู ูฺ futureุง ุฏุฑ ฺฉุงุฑ ูุจุงุดุฏ.</p>
<p>ุจุงุฏ ุจู ูุณูุช ุงูู ุจูพุฑุฏุงุฒูุ ุจุง ุงุฑุณุงู ฺฉ ุณุฑ ูพุงู ู ุฎูุงุจุฏู ุจู ุขูโูุงุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑฐ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<!-- We cannot test this one because it never stops! -->
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let (tx, mut rx) = trpl::channel();

        let vals = vec![
            String::from("hi"),
            String::from("from"),
            String::from("the"),
            String::from("future"),
        ];

        for val in vals {
            tx.send(val).unwrap();
            trpl::sleep(Duration::from_millis(500)).await;
        }

        while let Some(value) = rx.recv().await {
            println!("received '{value}'");
        }
<span class="boring">    });
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-10: ุงุฑุณุงู ู ุฏุฑุงูุช ฺูุฏู ูพุงู ุงุฒ ุทุฑู ฺฉุงูุงู async ู ุงุณุชูุงุฏู ุงุฒ <code>await</code> ุจู ูุฑ ูพุงู</figcaption>
</figure>
<p>ุนูุงูู ุจุฑ ุงุฑุณุงู ูพุงูโูุงุ ุจุงุฏ ุขูโูุง ุฑุง ุฏุฑุงูุช ฺฉูู. ุฏุฑ ุงู ููุฑุฏุ ฺูู ูโุฏุงูู ฺูุฏ ูพุงู ูุฑุงุฑ ุงุณุช ุฏุฑุงูุช ุดููุฏุ ูโุชูุงูุณุชู ุงู ฺฉุงุฑ ุฑุง ุจูโุตูุฑุช ุฏุณุช ุจุง ฺูุงุฑ ุจุงุฑ ูุฑุงุฎูุงู <code>rx.recv().await</code> ุงูุฌุงู ุฏูู. ุงูุง ุฏุฑ ุฏูุง ูุงูุนุ ูุนูููุงู ุฏุฑ ุงูุชุธุงุฑ ฺฉ ุชุนุฏุงุฏ <em>ูุงูุนููู</em> ุงุฒ ูพุงูโูุง ุฎูุงูู ุจูุฏุ ุจูุงุจุฑุงู ูุงุฒ ุฏุงุฑู ุชุง ุฒูุงู ฺฉู ูุดุฎุต ฺฉูู ูพุงู ุฏฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ุจู ุงูุชุธุงุฑ ุงุฏุงูู ุฏูู.</p>
<p>ุฏุฑ ูุณุช ฑถ-ฑฐุ ุงุฒ ฺฉ ุญููู <code>for</code> ุจุฑุง ูพุฑุฏุงุฒุด ุชูุงู ุขุชูโูุง ุฏุฑุงูุชโุดุฏู ุงุฒ ฺฉ ฺฉุงูุงู ููุฒูุงู ุงุณุชูุงุฏู ฺฉุฑุฏู. ุจุง ุงู ุญุงูุ Rust ูููุฒ ุฑุงู ุจุฑุง ููุดุชู ฺฉ ุญููู <code>for</code> ุฑู ฺฉ ุณุฑ ุขุชู <em>ูุงููุฒูุงู</em> ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุงุฒ ุญูููโุง ุงุณุชูุงุฏู ฺฉูู ฺฉู ูุจูุงู ูุฏุฏูโุงู: ุญููู ุดุฑุท <code>while let</code>. ุงู ุญููู ูุณุฎู ุญูููโุง ุงุฒ ุณุงุฎุชุงุฑ <code>if let</code> ุงุณุช ฺฉู ุฏุฑ ุจุฎุด <a href="ch06-03-if-let.html">ฺฉูุชุฑู ุฌุฑุงู ูุฎุชุตุฑ ุจุง <code>if let</code> ู <code>let else</code></a><!-- ignore --> ุฏุฏู. ุงู ุญููู ุชุง ุฒูุงู ฺฉู ุงูฺฏู ูุดุฎุตโุดุฏู ุขู ููฺูุงู ุจุง ููุฏุงุฑ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ุจู ุงุฌุฑุง ุงุฏุงูู ูโุฏูุฏ.</p>
<p>ูุฑุงุฎูุงู <code>rx.recv</code> ฺฉ future ุชููุฏ ูโฺฉูุฏ ฺฉู ููุชุธุฑ ุขู ูโูุงูู. runtime ุชุง ุฒูุงู ฺฉู future ุขูุงุฏู ุดูุฏุ ุขู ุฑุง ูุชููู ูโฺฉูุฏ. ููุช ูพุงู ุจุฑุณุฏุ future ุจู <code>Some(message)</code> ุญู ูโุดูุฏุ ุจู ุงุฒุง ูุฑ ุจุงุฑ ฺฉู ูพุงู ุจุฑุณุฏ. ููุช ฺฉุงูุงู ุจุณุชู ุดูุฏุ ุตุฑูโูุธุฑ ุงุฒ ุงูฺฉู <em>ุขุง</em> ูพุงูโูุง ุฑุณุฏูโุงูุฏ ุง ุฎุฑุ future ุจู <code>None</code> ุญู ูโุดูุฏ ุชุง ูุดุงู ุฏูุฏ ุฏฺฏุฑ ููุงุฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ ู ุจูุงุจุฑุงู ุจุงุฏ polling ุฑุง ูุชููู ฺฉููโุนู ููุชุธุฑ ูุงูุฏู ุฑุง ูุชููู ฺฉูู.</p>
<p>ุญููู <code>while let</code> ููู ุงูโูุง ุฑุง ฺฉูุงุฑ ูู ูุฑุงุฑ ูโุฏูุฏ. ุงฺฏุฑ ูุชุฌู ูุฑุงุฎูุงู <code>rx.recv().await</code> ุจุฑุงุจุฑ ุจุง <code>Some(message)</code> ุจุงุดุฏุ ุจู ูพุงู ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูู ู ูโุชูุงูู ุงุฒ ุขู ุฏุฑ ุจุฏูู ุญููู ุงุณุชูุงุฏู ฺฉููุ ููุงูุทูุฑ ฺฉู ุจุง <code>if let</code> ูโุชูุงูุณุชู. ุงฺฏุฑ ูุชุฌู <code>None</code> ุจุงุดุฏุ ุญููู ูุชููู ูโุดูุฏ. ูุฑ ุจุงุฑ ฺฉู ุญููู ฺฉุงูู ูโุดูุฏุ ุจู ููุทู ุงูุชุธุงุฑ ุจุงุฒูโฺฏุฑุฏุฏุ ุจูุงุจุฑุงู runtime ุฏูุจุงุฑู ุขู ุฑุง ูุชููู ูโฺฉูุฏ ุชุง ุฒูุงู ฺฉู ูพุงู ุฏฺฏุฑ ุจุฑุณุฏ.</p>
<p>ฺฉุฏ ุงฺฉููู ุชูุงู ูพุงูโูุง ุฑุง ุจุง ููููุช ุงุฑุณุงู ู ุฏุฑุงูุช ูโฺฉูุฏ. ูุชุฃุณูุงููุ ูููุฒ ฺูุฏ ูุดฺฉู ูุฌูุฏ ุฏุงุฑุฏ. ุจุฑุง ฺฉ ููุฑุฏุ ูพุงูโูุง ุจุง ููุงุตู ููโุซุงููโุง ููโุฑุณูุฏ. ููู ุขูโูุง ุจูโฺฉโุจุงุฑู ู ฒ ุซุงูู (ฒฐฐฐ ููโุซุงูู) ูพุณ ุงุฒ ุดุฑูุน ุจุฑูุงูู ูโุฑุณูุฏ. ุจุฑุง ููุฑุฏ ุฏฺฏุฑุ ุงู ุจุฑูุงูู ูุฑฺฏุฒ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ูพุงุงู ููโุงุจุฏ! ุฏุฑ ุนูุถุ ุจุฑุง ููุดู ููุชุธุฑ ูพุงูโูุง ุฌุฏุฏ ูโูุงูุฏ. ุจุฑุง ูุชููู ฺฉุฑุฏู ุขู ุจุงุฏ ุงุฒ <span class="keystroke">ctrl-c</span> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจุงุฏ ุจุง ุจุฑุฑุณ ุฏูู ุงูฺฉู ฺุฑุง ูพุงูโูุง ูพุณ ุงุฒ ุชุฃุฎุฑ ฺฉุงูู ุจูโฺฉโุจุงุฑู ูโุขูุฏุ ุดุฑูุน ฺฉููุ ุจูโุฌุง ุงูฺฉู ุจุง ุชุฃุฎุฑ ุจู ูุฑฺฉุฏุงู ุธุงูุฑ ุดููุฏ. ุฏุฑ ฺฉ ุจููฺฉ async ุฎุงุตุ ุชุฑุชุจ ุธุงูุฑ ุดุฏู ฺฉููุงุช ฺฉูุฏ <code>await</code> ุฏุฑ ฺฉุฏุ ููุงู ุชุฑุชุจ ุงุณุช ฺฉู ููฺฏุงู ุงุฌุฑุง ุจุฑูุงูู ุงุฌุฑุง ูโุดููุฏ.</p>
<p>ุฏุฑ ููุฑุณุช 17-10 ููุท ฺฉ ุจููฺฉ async ูุฌูุฏ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ููู ฺุฒ ุฏุฑ ุขู ุจูโุตูุฑุช ุฎุท ุงุฌุฑุง ูโุดูุฏ. ูููุฒ ูู ูฺ ููุฒูุงู ูุฌูุฏ ูุฏุงุฑุฏ. ุชูุงู ูุฑุงุฎูุงูโูุง <code>tx.send</code> ุงูุฌุงู ูโุดููุฏุ ุฏุฑ ูุงู ุชูุงู ูุฑุงุฎูุงูโูุง <code>trpl::sleep</code> ู ููุงุท ุงูุชุธุงุฑ ูุฑุชุจุท ุจุง ุขูโูุง. ููุท ูพุณ ุงุฒ ุขูุ ุญููู <code>while let</code> ุจู ููุงุท ุงูุชุธุงุฑ ุฑู ูุฑุงุฎูุงูโูุง <code>recv</code> ูโุฑุณุฏ.</p>
<p>ุจุฑุง ุจู ุฏุณุช ุขูุฑุฏู ุฑูุชุงุฑ ููุฑุฏ ูุธุฑุ ฺฉู ุฏุฑ ุขู ุชุฃุฎุฑ ุฎูุงุจ ุจู ูุฑ ูพุงู ุฑุฎ ูโุฏูุฏุ ุจุงุฏ ุนููุงุชโูุง <code>tx</code> ู <code>rx</code> ุฑุง ุฏุฑ ุจููฺฉโูุง async ุฌุฏุงฺฏุงูู ูุฑุงุฑ ุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุณูพุณ runtime ูโุชูุงูุฏ ูุฑ ฺฉ ุงุฒ ุขูโูุง ุฑุง ุฌุฏุงฺฏุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>trpl::join</code> ุงุฌุฑุง ฺฉูุฏุ ุฏููุงู ูุงููุฏ ูุซุงู ุดูุงุฑุด. ุจุงุฑ ุฏฺฏุฑุ ููุชุธุฑ ูุชุฌู ูุฑุงุฎูุงู <code>trpl::join</code> ูโูุงููุ ูู futures ูุฑุฏ. ุงฺฏุฑ ุจู ุตูุฑุช ุชุฑุชุจ ุจุฑุง futures ูุฑุฏ ููุชุธุฑ ูโูุงูุฏูุ ุฏูุจุงุฑู ุจู ุฌุฑุงู ุชุฑุชุจ ุจุงุฒูโฺฏุดุชูโุฏููุงู ฺุฒ ฺฉู ุชูุงุด ูโฺฉูู <em>ุงูุฌุงู ูุฏูู</em>.</p>
<!-- We cannot test this one because it never stops! -->
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span>        let tx_fut = async {
            let vals = vec![
                String::from("hi"),
                String::from("from"),
                String::from("the"),
                String::from("future"),
            ];

            for val in vals {
                tx.send(val).unwrap();
                trpl::sleep(Duration::from_millis(500)).await;
            }
        };

        let rx_fut = async {
            while let Some(value) = rx.recv().await {
                println!("received '{value}'");
            }
        };

        trpl::join(tx_fut, rx_fut).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-11: ุฌุฏุง ฺฉุฑุฏู <code>send</code> ู <code>recv</code> ุฏุฑ ุจููฺฉโูุง <code>async</code> ุฌุฏุงฺฏุงูู ู ููุชุธุฑ ูุงูุฏู ุจุฑุง ุขูุฏูโูุง ุงู ุจููฺฉโูุง</figcaption>
</figure>
<p>ุจุง ฺฉุฏ ุจูโุฑูุฒุฑุณุงูโุดุฏู ุฏุฑ ูุณุช ฑท-ฑฑุ ูพุงูโูุง ุจุง ููุงุตู ตฐฐ ููโุซุงูู ฺุงูพ ูโุดููุฏุ ุจูโุฌุง ุงูฺฉู ููู ุจุง ุนุฌูู ูพุณ ุงุฒ ฒ ุซุงูู ุธุงูุฑ ุดููุฏ.</p>
<p>ุจุฑูุงูู ูููุฒ ูู ูุฑฺฏุฒ ุฎุงุฑุฌ ููโุดูุฏุ ุจู ุฏูู ูุญูู ุชุนุงูู ุญููู <code>while let</code> ุจุง <code>trpl::join</code>:</p>
<ul>
<li>Future ุจุงุฒฺฏุฑุฏุงูุฏูโุดุฏู ุงุฒ <code>trpl::join</code> ุชููุง ุฒูุงู ุชฺฉูู ูโุดูุฏ ฺฉู <em>ูุฑ ุฏู</em> future ุงุฑุณุงูโุดุฏู ุจู ุขู ุชฺฉูู ุดุฏู ุจุงุดูุฏ.</li>
<li>Future ูุฑุจูุท ุจู <code>tx</code> ุฒูุงู ุชฺฉูู ูโุดูุฏ ฺฉู ูพุณ ุงุฒ ุงุฑุณุงู ุขุฎุฑู ูพุงู ุฏุฑ <code>vals</code> ุฎูุงุจุฏู ุขู ุจู ูพุงุงู ุจุฑุณุฏ.</li>
<li>Future ูุฑุจูุท ุจู <code>rx</code> ุชุง ุฒูุงู ฺฉู ุญููู <code>while let</code> ุจู ูพุงุงู ูุฑุณุฏ ุชฺฉูู ูุฎูุงูุฏ ุดุฏ.</li>
<li>ุญููู <code>while let</code> ุชุง ุฒูุงู ฺฉู ููุชุธุฑ <code>rx.recv</code> ุจุงุดุฏ ู ููุฏุงุฑ <code>None</code> ุชููุฏ ุดูุฏุ ูพุงุงู ููโุงุจุฏ.</li>
<li>ููุชุธุฑ ุดุฏู ุจุฑุง <code>rx.recv</code> ุชููุง ุฒูุงู ููุฏุงุฑ <code>None</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุทุฑู ุฏฺฏุฑ ฺฉุงูุงู ุจุณุชู ุดูุฏ.</li>
<li>ฺฉุงูุงู ุชููุง ุฏุฑ ุตูุฑุช ุจุณุชู ูโุดูุฏ ฺฉู <code>rx.close</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู ุง ุทุฑู ูุฑุณุชูุฏูุ ุนู <code>tx</code>ุ ุญุฐู ุดูุฏ.</li>
<li>ูุง ูฺโุฌุง <code>rx.close</code> ุฑุง ูุฑุงุฎูุงู ููโฺฉููุ ู <code>tx</code> ุชุง ุฒูุงู ฺฉู ุจุฑููโุชุฑู ุจููฺฉ async ุงุฑุณุงูโุดุฏู ุจู <code>trpl::run</code> ุจู ูพุงุงู ูุฑุณุฏุ ุญุฐู ููโุดูุฏ.</li>
<li>ุงู ุจููฺฉ ููโุชูุงูุฏ ุจู ูพุงุงู ุจุฑุณุฏ ุฒุฑุง ููุชุธุฑ ุชฺฉูู ุดุฏู <code>trpl::join</code> ุงุณุชุ ฺฉู ูุง ุฑุง ุฏูุจุงุฑู ุจู ุจุงูุง ุงู ูุณุช ุจุงุฒูโฺฏุฑุฏุงูุฏ.</li>
</ul>
<p>ูุง ูโุชูุงูู ุจูโุตูุฑุช ุฏุณุช ุจุง ูุฑุงุฎูุงู <code>rx.close</code> ฺฉุงูุงู ุฑุง ุจุจูุฏูุ ุงูุง ุงู ฺฉุงุฑ ฺูุฏุงู ููุทู ูุณุช. ุชููู ูพุณ ุงุฒ ูพุฑุฏุงุฒุด ุชุนุฏุงุฏ ุฏูุฎูุงู ุงุฒ ูพุงูโูุง ุจุงุนุซ ูโุดูุฏ ุจุฑูุงูู ุฎุงููุด ุดูุฏุ ุงูุง ููฺฉู ุงุณุช ูพุงูโูุง ุฑุง ุงุฒ ุฏุณุช ุจุฏูู. ูุง ุจู ุฑุงู ุฏฺฏุฑ ูุงุฒ ุฏุงุฑู ุชุง ูุทูุฆู ุดูู ฺฉู <code>tx</code> <em>ูุจู ุงุฒ</em> ูพุงุงู ุชุงุจุน ุญุฐู ูโุดูุฏ.</p>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุจููฺฉ async ฺฉู ูพุงูโูุง ุฑุง ุงุฑุณุงู ูโฺฉูุฏ ููุท <code>tx</code> ุฑุง ูุฑุถ ูโฺฏุฑุฏ ุฒุฑุง ุงุฑุณุงู ูพุงู ูุงุฒ ุจู ูุงูฺฉุช ูุฏุงุฑุฏุ ุงูุง ุงฺฏุฑ ูโุชูุงูุณุชู <code>tx</code> ุฑุง ุจู ุฏุงุฎู ุขู ุจููฺฉ async ููุชูู ฺฉููุ ูพุณ ุงุฒ ูพุงุงู ุขู ุจููฺฉ ุญุฐู ูโุดุฏ. ุฏุฑ ุจุฎุด ูุตู ฑณ <a href="ch13-01-closures.html#capturing-references-or-moving-ownership">ฺฏุฑูุชู ูุฑุงุฌุน ุง ุฌุงุจูโุฌุง ูุงูฺฉุช</a><!-- ignore --> ุงุฏ ฺฏุฑูุชุฏ ฺฺฏููู ุงุฒ ฺฉููู ฺฉูุฏ <code>move</code> ุจุง closures ุงุณุชูุงุฏู ฺฉูุฏุ ู ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด ูุตู ฑถ <a href="ch16-01-threads.html#using-move-closures-with-threads">ุงุณุชูุงุฏู ุงุฒ closures <code>move</code> ุจุง Threadูุง</a><!-- ignore --> ุจุญุซ ุดุฏุ ุงุบูุจ ููฺฏุงู ฺฉุงุฑ ุจุง Threadูุง ูุงุฒ ุฏุงุฑู ุฏุงุฏูโูุง ุฑุง ุจู ุฏุงุฎู closures ููุชูู ฺฉูู. ููุงู ุฏูุงูฺฉโูุง ุงุณุงุณ ุจุฑุง ุจููฺฉโูุง async ุงุนูุงู ูโุดูุฏุ ุจูุงุจุฑุงู ฺฉููู ฺฉูุฏ <code>move</code> ุจุง ุจููฺฉโูุง async ููุงูโุทูุฑ ฺฉุงุฑ ูโฺฉูุฏ ฺฉู ุจุง closures ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ูุณุช ฑท-ฑฒุ ุจููฺฉ ููุฑุฏ ุงุณุชูุงุฏู ุจุฑุง ุงุฑุณุงู ูพุงูโูุง ุฑุง ุงุฒ <code>async</code> ุจู <code>async move</code> ุชุบุฑ ูโุฏูู. ููุช <em>ุงู</em> ูุณุฎู ุงุฒ ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ ุจุฑูุงูู ูพุณ ุงุฒ ุงุฑุณุงู ู ุฏุฑุงูุช ุขุฎุฑู ูพุงู ุจูโุทูุฑ ูุฑุชุจ ุฎุงุชูู ูโุงุจุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let (tx, mut rx) = trpl::channel();

        let tx_fut = async move {
            let vals = vec![
                String::from("hi"),
                String::from("from"),
                String::from("the"),
                String::from("future"),
            ];

            for val in vals {
                tx.send(val).unwrap();
                trpl::sleep(Duration::from_millis(500)).await;
            }
        };

        let rx_fut = async {
            while let Some(value) = rx.recv().await {
                println!("received '{value}'");
            }
        };

        trpl::join(tx_fut, rx_fut).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-12: ูุณุฎู ุจุงุฒุจูโุดุฏู ฺฉุฏ ุงุฒ ูุณุช ฑท-ฑฑ ฺฉู ุจูโุฏุฑุณุช ูพุณ ุงุฒ ุงุชูุงู ุฎุงุชูู ูโุงุจุฏ</figcaption>
</figure>
<p>ุงู ฺฉุงูุงู async ููฺูู ฺฉ ฺฉุงูุงู ฺูุฏ-ุชููุฏ (<em>multiple-producer</em>) ุงุณุชุ ุจูุงุจุฑุงู ุงฺฏุฑ ุจุฎูุงูู ูพุงูโูุง ุฑุง ุงุฒ ฺูุฏู future ุงุฑุณุงู ฺฉููุ ูโุชูุงูู <code>clone</code> ุฑุง ุฑู <code>tx</code> ูุฑุงุฎูุงู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑณ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let (tx, mut rx) = trpl::channel();

        let tx1 = tx.clone();
        let tx1_fut = async move {
            let vals = vec![
                String::from("hi"),
                String::from("from"),
                String::from("the"),
                String::from("future"),
            ];

            for val in vals {
                tx1.send(val).unwrap();
                trpl::sleep(Duration::from_millis(500)).await;
            }
        };

        let rx_fut = async {
            while let Some(value) = rx.recv().await {
                println!("received '{value}'");
            }
        };

        let tx_fut = async move {
            let vals = vec![
                String::from("more"),
                String::from("messages"),
                String::from("for"),
                String::from("you"),
            ];

            for val in vals {
                tx.send(val).unwrap();
                trpl::sleep(Duration::from_millis(1500)).await;
            }
        };

        trpl::join3(tx1_fut, tx_fut, rx_fut).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-13: ุงุณุชูุงุฏู ุงุฒ ุชููุฏฺฉููุฏฺฏุงู ูุชุนุฏุฏ ุจุง ุจููฺฉโูุง async</figcaption>
</figure>
<p>ุงุจุชุฏุงุ <code>tx</code> ุฑุง clone ฺฉุฑุฏู ู <code>tx1</code> ุฑุง ุฎุงุฑุฌ ุงุฒ ุจููฺฉ async ุงูู ุงุฌุงุฏ ูโฺฉูู. <code>tx1</code> ุฑุง ููุงููุฏ ูุจู ุจุง <code>tx</code> ุจู ุฏุงุฎู ุขู ุจููฺฉ ููุชูู ูโฺฉูู. ุณูพุณุ ุฏุฑ ุงุฏุงููุ <code>tx</code> ุงุตู ุฑุง ุจู ฺฉ ุจููฺฉ <em>ุฌุฏุฏ</em> async ููุชูู ูโฺฉููุ ุฌุง ฺฉู ูพุงูโูุง ุจุดุชุฑ ุจุง ฺฉ ุชุฃุฎุฑ ฺฉู ฺฉูุฏุชุฑ ุงุฑุณุงู ูโฺฉูู. ูุง ุงู ุจููฺฉ async ุฌุฏุฏ ุฑุง ุจุนุฏ ุงุฒ ุจููฺฉ async ุจุฑุง ุฏุฑุงูุช ูพุงูโูุง ูุฑุงุฑ ูโุฏููุ ุงูุง ูโุชูุงูุณุชู ุจู ููุงู ุงูุฏุงุฒู ุขู ุฑุง ูุจู ุงุฒ ุขู ูุฑุงุฑ ุฏูู. ูฺฉุชู ฺฉูุฏ ุชุฑุชุจ ููุชุธุฑ ูุงูุฏู ุจุฑุง futures ุงุณุชุ ูู ุชุฑุชุจ ุงุฌุงุฏ ุขูโูุง.</p>
<p>ูุฑ ุฏู ุจููฺฉ async ุจุฑุง ุงุฑุณุงู ูพุงูโูุง ุจุงุฏ ุจููฺฉโูุง <code>async move</code> ุจุงุดูุฏ ุชุง <code>tx</code> ู <code>tx1</code> ูุฑ ุฏู ูพุณ ุงุฒ ูพุงุงู ุขู ุจููฺฉโูุง ุญุฐู ุดููุฏ. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุฏูุจุงุฑู ุจู ููุงู ุญููู ุจโููุงุช ุงููู ุจุงุฒูโฺฏุฑุฏู. ุฏุฑ ููุงุชุ ุงุฒ <code>trpl::join</code> ุจู <code>trpl::join3</code> ุชุบุฑ ูโุฏูู ุชุง future ุงุถุงู ุฑุง ูุฏุฑุช ฺฉูู.</p>
<p>ุงฺฉููู ุชูุงู ูพุงูโูุง ูุฑ ุฏู future ุงุฑุณุงู ุฑุง ูโุจููุ ู ฺูู futures ุงุฑุณุงู ุงุฒ ุชุฃุฎุฑูุง ฺฉู ูุชูุงูุช ูพุณ ุงุฒ ุงุฑุณุงู ุงุณุชูุงุฏู ูโฺฉููุฏุ ูพุงูโูุง ูุฒ ุฏุฑ ุงู ููุงุตู ูุฎุชูู ุฏุฑุงูุช ูโุดููุฏ.</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">received 'hi'
received 'more'
received 'from'
received 'the'
received 'messages'
received 'future'
received 'for'
received 'you'
</code></pre>
<p>ุงู ฺฉ ุดุฑูุน ุฎูุจ ุงุณุชุ ุงูุง ูุง ุฑุง ุจู ุชุนุฏุงุฏ ูุญุฏูุฏ ุงุฒ futures ูุญุฏูุฏ ูโฺฉูุฏ: ุฏู ุนุฏุฏ ุจุง <code>join</code> ุง ุณู ุนุฏุฏ ุจุง <code>join3</code>. ุจุงุฏ ุจุจูู ฺฺฏููู ูโุชูุงูู ุจุง ุชุนุฏุงุฏ ุจุดุชุฑ ุงุฒ futures ฺฉุงุฑ ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ฺฉุงุฑ-ุจุง-ุชุนุฏุงุฏ-ุฏูุฎูุงู-ุงุฒ-futures"><a class="header" href="#ฺฉุงุฑ-ุจุง-ุชุนุฏุงุฏ-ุฏูุฎูุงู-ุงุฒ-futures">ฺฉุงุฑ ุจุง ุชุนุฏุงุฏ ุฏูุฎูุงู ุงุฒ Futures</a></h2>
<p>ููุช ุฏุฑ ุจุฎุด ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุฏู future ุจู ุณู future ุชุบุฑ ุฏุงุฏูุ ูุฌุจูุฑ ุดุฏู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ <code>join</code> ุงุฒ <code>join3</code> ุงุณุชูุงุฏู ฺฉูู. ุงู ูุณุฆูู ุขุฒุงุฑุฏููุฏู ุฎูุงูุฏ ุจูุฏ ุงฺฏุฑ ูุฑ ุจุงุฑ ฺฉู ุชุนุฏุงุฏ futures ฺฉู ูโุฎูุงูู join ฺฉูู ุชุบุฑ ูโฺฉูุฏุ ูุฌุจูุฑ ุจู ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ูุชูุงูุช ุจุงุดู. ุฎูุดุจุฎุชุงููุ ฺฉ ูุฑู ูุงฺฉุฑู <code>join</code> ุฏุงุฑู ฺฉู ูโุชูุงูู ุจู ุขู ุชุนุฏุงุฏ ุฏูุฎูุงู ุงุฒ ุขุฑฺฏููุงูโูุง ุฑุง ุงุฑุณุงู ฺฉูู. ุงู ูุงฺฉุฑู ููฺูู ุฎูุฏุด ูุฏุฑุช ุงูุชุธุงุฑ ุจุฑุง futures ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุจูุงุจุฑุงูุ ูโุชูุงูู ฺฉุฏ ูุณุช ฑท-ฑณ ุฑุง ุจุงุฒููุณ ฺฉูู ุชุง ุจู ุฌุง <code>join3</code> ุงุฒ <code>join!</code> ุงุณุชูุงุฏู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">        let tx1 = tx.clone();
</span><span class="boring">        let tx1_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("hi"),
</span><span class="boring">                String::from("from"),
</span><span class="boring">                String::from("the"),
</span><span class="boring">                String::from("future"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx1.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let rx_fut = async {
</span><span class="boring">            while let Some(value) = rx.recv().await {
</span><span class="boring">                println!("received '{value}'");
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let tx_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("more"),
</span><span class="boring">                String::from("messages"),
</span><span class="boring">                String::from("for"),
</span><span class="boring">                String::from("you"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span>        trpl::join!(tx1_fut, tx_fut, rx_fut);
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-14: ุงุณุชูุงุฏู ุงุฒ <code>join!</code> ุจุฑุง ููุชุธุฑ ูุงูุฏู ฺูุฏู ุขูุฏู</figcaption>
</figure>
<p>ุงู ูุทุนุงู ูุณุจุช ุจู ุฌุงุจุฌุง ุจู <code>join</code>ุ <code>join3</code>ุ <code>join4</code> ู ููุงุฑุฏ ุฏฺฏุฑ ุจูุจูุฏ ุงูุชู ุงุณุช! ุจุง ุงู ุญุงูุ ุญุช ุงู ูุฑู ูุงฺฉุฑู ูุฒ ููุท ุฒูุงู ฺฉุงุฑ ูโฺฉูุฏ ฺฉู ุชุนุฏุงุฏ futures ุฑุง ุงุฒ ูุจู ุจุฏุงูู. ุงูุง ุฏุฑ ุฏูุง ูุงูุน Rustุ ุงุถุงูู ฺฉุฑุฏู futures ุจู ฺฉ ูุฌููุนู ู ุณูพุณ ุงูุชุธุงุฑ ุจุฑุง ฺฉุงูู ุดุฏู ุจุฑุฎ ุง ุชูุงู ุขูโูุง ฺฉ ุงูฺฏู ุฑุงุฌ ุงุณุช.</p>
<p>ุจุฑุง ุจุฑุฑุณ ุชูุงู futures ุฏุฑ ฺฉ ูุฌููุนูุ ุจุงุฏ ุฑู <em>ููู</em> ุขูโูุง ุญููู ุจุฒูู ู ุขูโูุง ุฑุง join ฺฉูู. ุชุงุจุน <code>trpl::join_all</code> ูุฑ ููุน ุฑุง ฺฉู ูฺฺฏ <code>Iterator</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ูุจูู ูโฺฉูุฏุ ฺฉู ุฏุฑ ูุตู ฑณ ุฏุฑ ุจุฎุด <a href="ch13-02-iterators.html#the-iterator-trait-and-the-next-method">ูฺฺฏ Iterator ู ูุชุฏ <code>next</code></a><!-- ignore --> ุฏุฑุจุงุฑู ุขู ุงุฏ ฺฏุฑูุชุฏุ ุจูุงุจุฑุงู ุจู ูุธุฑ ูโุฑุณุฏ ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู ูุงุฒ ุฏุงุฑู. ุจุงุฏ ุณุน ฺฉูู futures ุฎูุฏ ุฑุง ุฏุฑ ฺฉ ูฺฉุชูุฑ ูุฑุงุฑ ุฏูู ู <code>join!</code> ุฑุง ุจุง <code>join_all</code> ุฌุงฺฏุฒู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">        let tx1 = tx.clone();
</span><span class="boring">        let tx1_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("hi"),
</span><span class="boring">                String::from("from"),
</span><span class="boring">                String::from("the"),
</span><span class="boring">                String::from("future"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx1.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let rx_fut = async {
</span><span class="boring">            while let Some(value) = rx.recv().await {
</span><span class="boring">                println!("received '{value}'");
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let tx_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("more"),
</span><span class="boring">                String::from("messages"),
</span><span class="boring">                String::from("for"),
</span><span class="boring">                String::from("you"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span>        let futures = vec![tx1_fut, rx_fut, tx_fut];

        trpl::join_all(futures).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-15: ุฐุฎุฑู ุขูุฏูโูุง ูุงุดูุงุณ ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ู ูุฑุงุฎูุงู <code>join_all</code></figcaption>
</figure>
<p>ูุชุฃุณูุงููุ ุงู ฺฉุฏ ฺฉุงููพุงู ููโุดูุฏ. ุฏุฑ ุนูุถุ ุจุง ุงู ุฎุทุง ููุงุฌู ูโุดูู:</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-15/
cargo build
copy just the compiler error
-->
<pre><code class="language-text">error[E0308]: mismatched types
  --&gt; src/main.rs:45:37
   |
10 |         let tx1_fut = async move {
   |                       ---------- the expected `async` block
...
24 |         let rx_fut = async {
   |                      ----- the found `async` block
...
45 |         let futures = vec![tx1_fut, rx_fut, tx_fut];
   |                                     ^^^^^^ expected `async` block, found a 
different `async` block
   |
   = note: expected `async` block `{async block@src/main.rs:10:23: 10:33}`
              found `async` block `{async block@src/main.rs:24:22: 24:27}`
   = note: no two async blocks, even if identical, have the same type
   = help: consider pinning your async block and casting it to a trait object
</code></pre>
<p>ุงู ููฺฉู ุงุณุช ุดฺฏูุชโุขูุฑ ุจุงุดุฏ. ุจุงูุงุฎุฑูุ ูฺโฺฉ ุงุฒ ุจููฺฉโูุง async ฺุฒ ุจุงุฒููโฺฏุฑุฏุงููุฏุ ุจูุงุจุฑุงู ูุฑ ฺฉุฏุงู ฺฉ <code>Future&lt;Output = ()&gt;</code> ุชููุฏ ูโฺฉููุฏ. ุงูุง ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู <code>Future</code> ฺฉ ูฺฺฏ (<em>trait</em>) ุงุณุช ู ฺฉุงููพุงูุฑ ุจุฑุง ูุฑ ุจููฺฉ async ฺฉ enum ููุญุตุฑุจูโูุฑุฏ ุงุฌุงุฏ ูโฺฉูุฏ. ููโุชูุงูุฏ ุฏู struct ูุฎุชูู ุฑุง ฺฉู ุฏุณุช ููุดุชู ุดุฏูโุงูุฏ ุฏุฑ ฺฉ <code>Vec</code> ูุฑุงุฑ ุฏูุฏุ ู ููู ูุงููู ุจุฑุง enumูุง ูุฎุชูู ฺฉู ุชูุณุท ฺฉุงููพุงูุฑ ุชููุฏ ูโุดููุฏ ุงุนูุงู ูโุดูุฏ.</p>
<p>ุจุฑุง ุงูฺฉู ุงู ฺฉุงุฑ ุงูุฌุงู ุดูุฏุ ุจุงุฏ ุงุฒ <em>ุงุดุงุก ูฺฺฏ</em> (<em>trait objects</em>) ุงุณุชูุงุฏู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ <a href="ch12-03-improving-error-handling-and-modularity.html">โุจุงุฒฺฏุฑุฏุงูุฏู ุฎุทุงูุง ุงุฒ ุชุงุจุน runโ</a><!-- ignore --> ุฏุฑ ูุตู ฑฒ ุงูุฌุงู ุฏุงุฏู. (ูุง ุงุดุงุก ูฺฺฏ ุฑุง ุฏุฑ ูุตู ฑธ ุจูโุทูุฑ ููุตู ูพูุดุด ุฎูุงูู ุฏุงุฏ.) ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ูฺฺฏ ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ูุฑ ฺฉ ุงุฒ futureูุง ูุงุดูุงุณ ุชููุฏุดุฏู ุชูุณุท ุงู ุงููุงุน ุฑุง ุจูโุนููุงู ฺฉ ููุน ฺฉุณุงู ุฏุฑ ูุธุฑ ุจฺฏุฑูุ ุฒุฑุง ููู ุขูโูุง ูฺฺฏ <code>Future</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุฏุฑ ุจุฎุด ูุตู ธ <a href="ch12-03-improving-error-handling-and-modularity.html#returning-errors-from-the-run-function">ุงุณุชูุงุฏู ุงุฒ ฺฉ Enum ุจุฑุง ุฐุฎุฑู ููุงุฏุฑ ูุชุนุฏุฏ</a><!-- ignore -->ุ ุฏุฑุจุงุฑู ฺฉ ุฑูุด ุฏฺฏุฑ ุจุฑุง ุดุงูู ฺฉุฑุฏู ฺูุฏู ููุน ุฏุฑ ฺฉ <code>Vec</code> ุตุญุจุช ฺฉุฑุฏู: ุงุณุชูุงุฏู ุงุฒ ฺฉ enum ุจุฑุง ููุงุด ูุฑ ููุน ฺฉู ูโุชูุงูุฏ ุฏุฑ ูฺฉุชูุฑ ุธุงูุฑ ุดูุฏ. ุงูุง ููโุชูุงูู ุงูุฌุง ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู. ุงุฒ ฺฉ ุทุฑูุ ูฺ ุฑุงู ุจุฑุง ูุงูโฺฏุฐุงุฑ ุงููุงุน ูุฎุชูู ูุฏุงุฑูุ ุฒุฑุง ุขูโูุง ูุงุดูุงุณ ูุณุชูุฏ. ุงุฒ ุทุฑู ุฏฺฏุฑุ ุฏูู ฺฉู ูุง ุฏุฑ ูููู ุงูู ุจู ุฏูุจุงู ฺฉ ูฺฉุชูุฑ ู <code>join_all</code> ุฑูุชูุ ุงู ุจูุฏ ฺฉู ุจุชูุงูู ุจุง ฺฉ ูุฌููุนู ูพูุง ุงุฒ futures ฺฉุงุฑ ฺฉููุ ุฌุง ฺฉู ููุท ุจู ุงู ุงููุช ูโุฏูู ฺฉู ููู ุขูโูุง ุฎุฑูุฌ ฺฉุณุงู ุฏุงุฑูุฏ.</p>
</blockquote>
<p>ุงุจุชุฏุง ูุฑ future ุฏุฑูู <code>vec!</code> ุฑุง ุฏุฑ ฺฉ <code>Box::new</code> ุจุณุชูโุจูุฏ ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">        let tx1 = tx.clone();
</span><span class="boring">        let tx1_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("hi"),
</span><span class="boring">                String::from("from"),
</span><span class="boring">                String::from("the"),
</span><span class="boring">                String::from("future"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx1.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let rx_fut = async {
</span><span class="boring">            while let Some(value) = rx.recv().await {
</span><span class="boring">                println!("received '{value}'");
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let tx_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("more"),
</span><span class="boring">                String::from("messages"),
</span><span class="boring">                String::from("for"),
</span><span class="boring">                String::from("you"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span>        let futures =
            vec![Box::new(tx1_fut), Box::new(rx_fut), Box::new(tx_fut)];

        trpl::join_all(futures).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-16: ุงุณุชูุงุฏู ุงุฒ <code>Box::new</code> ุจุฑุง ุชุทุจู ุงููุงุน futures ุฏุฑ ฺฉ <code>Vec</code></figcaption>
</figure>
<p>ูุชุฃุณูุงููุ ุงู ฺฉุฏ ูููุฒ ูู ฺฉุงููพุงู ููโุดูุฏ. ุฏุฑ ูุงูุนุ ููุงู ุฎุทุง ูพุงูโุง ฺฉู ูุจูุงู ุฏุฑุงูุช ฺฉุฑุฏูุ ุจุฑุง ูุฑุงุฎูุงูโูุง ุฏูู ู ุณูู <code>Box::new</code> ูุฒ ุฑุฎ ูโุฏูุฏุ ุจู ููุฑุงู ุฎุทุงูุง ุฌุฏุฏ ฺฉู ุจู ูฺฺฏ <code>Unpin</code> ุงุดุงุฑู ุฏุงุฑูุฏ. ุจู ุฒูุฏ ุจู ุฎุทุงูุง ูุฑุชุจุท ุจุง <code>Unpin</code> ุจุงุฒูโฺฏุฑุฏู. ุงุจุชุฏุงุ ุจุงุฏ ุฎุทุงูุง ููุน ุฏุฑ ูุฑุงุฎูุงูโูุง <code>Box::new</code> ุฑุง ุจุง ูุดุฎุต ฺฉุฑุฏู ุตุฑุญ ููุน ูุชุบุฑ <code>futures</code> ุฑูุน ฺฉูู (ูฺฏุงู ฺฉูุฏ ุจู ูุณุช ฑท-ฑท).</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{future::Future, time::Duration};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">        let tx1 = tx.clone();
</span><span class="boring">        let tx1_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("hi"),
</span><span class="boring">                String::from("from"),
</span><span class="boring">                String::from("the"),
</span><span class="boring">                String::from("future"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx1.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let rx_fut = async {
</span><span class="boring">            while let Some(value) = rx.recv().await {
</span><span class="boring">                println!("received '{value}'");
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        let tx_fut = async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("more"),
</span><span class="boring">                String::from("messages"),
</span><span class="boring">                String::from("for"),
</span><span class="boring">                String::from("you"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        };
</span><span class="boring">
</span>        let futures: Vec&lt;Box&lt;dyn Future&lt;Output = ()&gt;&gt;&gt; =
            vec![Box::new(tx1_fut), Box::new(rx_fut), Box::new(tx_fut)];
<span class="boring">
</span><span class="boring">        trpl::join_all(futures).await;
</span><span class="boring">    });
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-17: ุจุฑุทุฑู ฺฉุฑุฏู ุจูู ุฎุทุงูุง ูุงุณุงุฒฺฏุงุฑ ููุน ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุนูุงู ุตุฑุญ ููุน</figcaption>
</figure>
<p>ุงู type declaration ฺฉู ูพฺุฏู ุงุณุชุ ุจูุงุจุฑุงู ุจุงุฏ ุขู ุฑุง ูุฑุญูู ุจู ูุฑุญูู ุจุฑุฑุณ ฺฉูู:</p>
<ol>
<li>ููุน ุฏุงุฎูโุชุฑูุ ุฎูุฏ future ุงุณุช. ุจูโุทูุฑ ุตุฑุญ ุงุนูุงู ูโฺฉูู ฺฉู ุฎุฑูุฌ future ููุน ูุงุญุฏ <code>()</code> ุงุณุชุ ุจุง ููุดุชู <code>Future&lt;Output = ()&gt;</code>.</li>
<li>ุณูพุณ ูฺฺฏ ุฑุง ุจุง <code>dyn</code> ุนูุงูุชโฺฏุฐุงุฑ ูโฺฉูู ุชุง ุจูโุตูุฑุช ุฏูุงูฺฉ ุจุงุดุฏ.</li>
<li>ฺฉู ูุฑุฌุน ูฺฺฏ ุฏุฑ ฺฉ <code>Box</code> ุจุณุชูโุจูุฏ ูโุดูุฏ.</li>
<li>ุฏุฑ ููุงุชุ ุจูโุทูุฑ ุตุฑุญ ุจุงู ูโฺฉูู ฺฉู <code>futures</code> ฺฉ <code>Vec</code> ุงุณุช ฺฉู ุดุงูู ุงู ุขุชูโูุง ุงุณุช.</li>
</ol>
<p>ุงู ุชุบุฑ ุชุฃุซุฑ ูุงุจูโุชูุฌู ุฏุงุดุช. ุงฺฉููู ููุช ฺฉุงููพุงูุฑ ุฑุง ุงุฌุฑุง ูโฺฉููุ ููุท ุฎุทุงูุง ฺฉู ุจู <code>Unpin</code> ุงุดุงุฑู ุฏุงุฑูุฏ ุจุงู ูโูุงููุฏ. ุงฺฏุฑฺู ุณู ุฎุทุง ูุฌูุฏ ุฏุงุฑุฏุ ุงูุง ูุญุชูุง ุขูโูุง ุจุณุงุฑ ูุดุงุจู ุงุณุช.</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-16
cargo build
# copy *only* the errors
# fix the paths
-->
<pre><code class="language-text">error[E0308]: mismatched types
   --&gt; src/main.rs:46:46
    |
10  |         let tx1_fut = async move {
    |                       ---------- the expected `async` block
...
24  |         let rx_fut = async {
    |                      ----- the found `async` block
...
46  |             vec![Box::new(tx1_fut), Box::new(rx_fut), Box::new(tx_fut)];
    |                                     -------- ^^^^^^ expected `async` block, found a different `async` block
    |                                     |
    |                                     arguments to this function are incorrect
    |
    = note: expected `async` block `{async block@src/main.rs:10:23: 10:33}`
               found `async` block `{async block@src/main.rs:24:22: 24:27}`
    = note: no two async blocks, even if identical, have the same type
    = help: consider pinning your async block and casting it to a trait object
note: associated function defined here
   --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/alloc/src/boxed.rs:255:12
    |
255 |     pub fn new(x: T) -&gt; Self {
    |            ^^^

error[E0308]: mismatched types
   --&gt; src/main.rs:46:64
    |
10  |         let tx1_fut = async move {
    |                       ---------- the expected `async` block
...
30  |         let tx_fut = async move {
    |                      ---------- the found `async` block
...
46  |             vec![Box::new(tx1_fut), Box::new(rx_fut), Box::new(tx_fut)];
    |                                                       -------- ^^^^^^ expected `async` block, found a different `async` block
    |                                                       |
    |                                                       arguments to this function are incorrect
    |
    = note: expected `async` block `{async block@src/main.rs:10:23: 10:33}`
               found `async` block `{async block@src/main.rs:30:22: 30:32}`
    = note: no two async blocks, even if identical, have the same type
    = help: consider pinning your async block and casting it to a trait object
note: associated function defined here
   --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/alloc/src/boxed.rs:255:12
    |
255 |     pub fn new(x: T) -&gt; Self {
    |            ^^^

error[E0277]: `{async block@src/main.rs:10:23: 10:33}` cannot be unpinned
   --&gt; src/main.rs:48:24
    |
48  |         trpl::join_all(futures).await;
    |         -------------- ^^^^^^^ the trait `Unpin` is not implemented for `{async block@src/main.rs:10:23: 10:33}`, which is required by `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;: Future`
    |         |
    |         required by a bound introduced by this call
    |
    = note: consider using the `pin!` macro
            consider using `Box::pin` if you need to access the pinned value outside of the current scope
    = note: required for `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;` to implement `Future`
note: required by a bound in `join_all`
   --&gt; file:///home/.cargo/registry/src/index.crates.io-6f17d22bba15001f/futures-util-0.3.30/src/future/join_all.rs:105:14
    |
102 | pub fn join_all&lt;I&gt;(iter: I) -&gt; JoinAll&lt;I::Item&gt;
    |        -------- required by a bound in this function
...
105 |     I::Item: Future,
    |              ^^^^^^ required by this bound in `join_all`

error[E0277]: `{async block@src/main.rs:10:23: 10:33}` cannot be unpinned
  --&gt; src/main.rs:48:9
   |
48 |         trpl::join_all(futures).await;
   |         ^^^^^^^^^^^^^^^^^^^^^^^ the trait `Unpin` is not implemented for `{async block@src/main.rs:10:23: 10:33}`, which is required by `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;: Future`
   |
   = note: consider using the `pin!` macro
           consider using `Box::pin` if you need to access the pinned value outside of the current scope
   = note: required for `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;` to implement `Future`
note: required by a bound in `futures_util::future::join_all::JoinAll`
  --&gt; file:///home/.cargo/registry/src/index.crates.io-6f17d22bba15001f/futures-util-0.3.30/src/future/join_all.rs:29:8
   |
27 | pub struct JoinAll&lt;F&gt;
   |            ------- required by a bound in this struct
28 | where
29 |     F: Future,
   |        ^^^^^^ required by this bound in `JoinAll`

error[E0277]: `{async block@src/main.rs:10:23: 10:33}` cannot be unpinned
  --&gt; src/main.rs:48:33
   |
48 |         trpl::join_all(futures).await;
   |                                 ^^^^^ the trait `Unpin` is not implemented for `{async block@src/main.rs:10:23: 10:33}`, which is required by `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;: Future`
   |
   = note: consider using the `pin!` macro
           consider using `Box::pin` if you need to access the pinned value outside of the current scope
   = note: required for `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;` to implement `Future`
note: required by a bound in `futures_util::future::join_all::JoinAll`
  --&gt; file:///home/.cargo/registry/src/index.crates.io-6f17d22bba15001f/futures-util-0.3.30/src/future/join_all.rs:29:8
   |
27 | pub struct JoinAll&lt;F&gt;
   |            ------- required by a bound in this struct
28 | where
29 |     F: Future,
   |        ^^^^^^ required by this bound in `JoinAll`
</code></pre>
<p>ุงู ูพุงู ุงุทูุงุนุงุช ุฒุงุฏ ุจุฑุง ูุถู ฺฉุฑุฏู ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุขู ุฑุง ุชุฌุฒู ฺฉูู. ุจุฎุด ุงูู ูพุงู ุจู ูุง ูโฺฏูุฏ ฺฉู ุงููู ุจููฺฉ async (<code>src/main.rs:8:23: 20:10</code>) ูฺฺฏ <code>Unpin</code> ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉูุฏ ู ูพุดููุงุฏ ูโุฏูุฏ ุงุฒ <code>pin!</code> ุง <code>Box::pin</code> ุจุฑุง ุญู ุขู ุงุณุชูุงุฏู ฺฉูู. ุฏุฑ ุงุฏุงูู ุงู ูุตูุ ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู <code>Pin</code> ู <code>Unpin</code> ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุจุง ุงู ุญุงูุ ูุนูุงู ูโุชูุงูู ููุท ุงุฒ ุชูุตู ฺฉุงููพุงูุฑ ูพุฑู ฺฉูู ุชุง ุงุฒ ุงู ูุดฺฉู ุนุจูุฑ ฺฉูู. ุฏุฑ ูุณุช ฑท-ฑธุ ุงุจุชุฏุง ุจุง ุจูโุฑูุฒุฑุณุงู ุงุนูุงู ููุน ุจุฑุง <code>futures</code> ุดุฑูุน ูโฺฉููุ ุจู ุทูุฑ ฺฉู ูุฑ <code>Box</code> ุฏุฑูู ฺฉ <code>Pin</code> ูุฑุงุฑ ุจฺฏุฑุฏ. ุฏููุ ุงุฒ <code>Box::pin</code> ุจุฑุง pin ฺฉุฑุฏู ุฎูุฏ futures ุงุณุชูุงุฏู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{
</span><span class="boring">    future::Future,
</span><span class="boring">    pin::{pin, Pin},
</span><span class="boring">    time::Duration,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">        let tx1 = tx.clone();
</span><span class="boring">        let tx1_fut = pin!(async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("hi"),
</span><span class="boring">                String::from("from"),
</span><span class="boring">                String::from("the"),
</span><span class="boring">                String::from("future"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx1.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        let rx_fut = pin!(async {
</span><span class="boring">            while let Some(value) = rx.recv().await {
</span><span class="boring">                println!("received '{value}'");
</span><span class="boring">            }
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        let tx_fut = pin!(async move {
</span><span class="boring">            let vals = vec![
</span><span class="boring">                String::from("more"),
</span><span class="boring">                String::from("messages"),
</span><span class="boring">                String::from("for"),
</span><span class="boring">                String::from("you"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span><span class="boring">        });
</span><span class="boring">
</span>        let futures: Vec&lt;Pin&lt;Box&lt;dyn Future&lt;Output = ()&gt;&gt;&gt;&gt; =
            vec![Box::pin(tx1_fut), Box::pin(rx_fut), Box::pin(tx_fut)];
<span class="boring">
</span><span class="boring">        trpl::join_all(futures).await;
</span><span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-18: ุงุณุชูุงุฏู ุงุฒ <code>Pin</code> ู <code>Box::pin</code> ุจุฑุง ุจุฑุทุฑู ฺฉุฑุฏู ููุน <code>Vec</code></figcaption>
</figure>
<p>ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ู ุงุฌุฑุง ฺฉููุ ุฏุฑ ููุงุช ุฎุฑูุฌ ููุฑุฏูุธุฑ ุฎูุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">received 'hi'
received 'more'
received 'from'
received 'messages'
received 'the'
received 'for'
received 'future'
received 'you'
</code></pre>
<p>ุขู!</p>
<p>ุงูุฌุง ฺุฒูุง ุจุดุชุฑ ุจุฑุง ุจุฑุฑุณ ูุฌูุฏ ุฏุงุฑุฏ. ุจุฑุง ฺฉ ููุฑุฏุ ุงุณุชูุงุฏู ุงุฒ <code>Pin&lt;Box&lt;T&gt;&gt;</code> ฺฉ ููุฏุงุฑ ฺฉู ุณุฑุจุงุฑ ุงุถุงูู ูโฺฉูุฏุ ุฒุฑุง ุงู futures ุฑุง ุจุง <code>Box</code> ุฑู heap ูุฑุงุฑ ูโุฏููโู ูุง ููุท ุงู ฺฉุงุฑ ุฑุง ุจุฑุง ููโุชุฑุงุฒ ฺฉุฑุฏู ุงููุงุน ุงูุฌุงู ูโุฏูู. ุจุนุฏ ุงุฒ ููู ุงูโูุงุ ูุง <em>ูุงูุนุงู</em> ูุงุฒ ุจู ุชุฎุตุต heap ูุฏุงุฑู: ุงู futures ุจู ุงู ุชุงุจุน ุฎุงุต ูุญุฏูุฏ ูุณุชูุฏ. ููุงูโุทูุฑ ฺฉู ูุจูุงู ุฐฺฉุฑ ุดุฏุ <code>Pin</code> ุฎูุฏุด ฺฉ ููุน wrapper ุงุณุชุ ุจูุงุจุฑุงู ูโุชูุงูู ุงุฒ ูุฒุช ุฏุงุดุชู ฺฉ ููุน ูุงุญุฏ ุฏุฑ <code>Vec</code> ุจูุฑูโููุฏ ุดููโุฏูู ุงุตู ฺฉู ุจู ุฏูุจุงู <code>Box</code> ุฑูุชูโุจุฏูู ุงูุฌุงู ุชุฎุตุต heap. ูโุชูุงูู ูุณุชููุงู ุงุฒ <code>Pin</code> ุจุง ูุฑ future ุงุณุชูุงุฏู ฺฉููุ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>std::pin::pin</code>.</p>
<p>ุจุง ุงู ุญุงูุ ูููุฒ ุจุงุฏ ููุน ูุฑุฌุน pin ุดุฏู ุฑุง ุจูโุตุฑุงุญุช ูุดุฎุต ฺฉููุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ Rust ูููุฒ ููโุฏุงูุฏ ฺฉู ุงูโูุง ุฑุง ุจูโุนููุงู ุงุดุงุก ูฺฺฏ ุฏูุงูฺฉ ุชูุณุฑ ฺฉูุฏุ ฺฉู ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู ูุง ุฏุฑ <code>Vec</code> ุจู ุขู ูุงุฒ ุฏุงุฑู. ุจูุงุจุฑุงูุ ูุฑ future ุฑุง ุฒูุงู ฺฉู ุชุนุฑู ูโฺฉูู ุจุง <code>pin!</code> pin ูโฺฉููุ ู <code>futures</code> ุฑุง ุจูโุนููุงู ฺฉ <code>Vec</code> ฺฉู ุดุงูู ูุฑุงุฌุน ูุชุบุฑ pin ุดุฏู ุจู ููุน future ุฏูุงูฺฉ ุงุณุช ุชุนุฑู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฑน ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<p>ุจุง ุงู ุญุงูุ ุจุงุฏ ุจูโุตุฑุงุญุช ููุน ูุฑุฌุน pinned ุฑุง ูุดุฎุต ฺฉููุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุฑุงุณุช ููฺูุงู ููโุฏุงูุฏ ฺฉู ุงูโูุง ุฑุง ุจูโุนููุงู ุดุกูุง ูฺฺฏ ุฏูุงูฺฉ ุชูุณุฑ ฺฉูุฏุ ฺฉู ููุงู ฺุฒ ุงุณุช ฺฉู ุจุฑุง ูุฑุงุฑ ฺฏุฑูุชู ุฏุฑ <code>Vec</code> ูุงุฒ ุฏุงุฑู. ุจูุงุจุฑุงูุ ูุฑ ุขูุฏู ุฑุง ููุช ุชุนุฑู ูโฺฉูู <code>pin!</code> ูโฺฉูู ู <code>futures</code> ุฑุง ุจูโุนููุงู ฺฉ <code>Vec</code> ฺฉู ุดุงูู ูุฑุงุฌุน ูุชุบุฑ pinned ุจู ููุน ูฺฺฏ ุฏูุงูฺฉ <code>Future</code> ุงุณุช ุชุนุฑู ูโฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 17-19 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{
</span><span class="boring">    future::Future,
</span><span class="boring">    pin::{pin, Pin},
</span><span class="boring">    time::Duration,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let (tx, mut rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">        let tx1 = tx.clone();
</span>        let tx1_fut = pin!(async move {
            // --snip--
<span class="boring">            let vals = vec![
</span><span class="boring">                String::from("hi"),
</span><span class="boring">                String::from("from"),
</span><span class="boring">                String::from("the"),
</span><span class="boring">                String::from("future"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx1.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span>        });

        let rx_fut = pin!(async {
            // --snip--
<span class="boring">            while let Some(value) = rx.recv().await {
</span><span class="boring">                println!("received '{value}'");
</span><span class="boring">            }
</span>        });

        let tx_fut = pin!(async move {
            // --snip--
<span class="boring">            let vals = vec![
</span><span class="boring">                String::from("more"),
</span><span class="boring">                String::from("messages"),
</span><span class="boring">                String::from("for"),
</span><span class="boring">                String::from("you"),
</span><span class="boring">            ];
</span><span class="boring">
</span><span class="boring">            for val in vals {
</span><span class="boring">                tx.send(val).unwrap();
</span><span class="boring">                trpl::sleep(Duration::from_secs(1)).await;
</span><span class="boring">            }
</span>        });

        let futures: Vec&lt;Pin&lt;&amp;mut dyn Future&lt;Output = ()&gt;&gt;&gt; =
            vec![tx1_fut, rx_fut, tx_fut];
<span class="boring">
</span><span class="boring">        trpl::join_all(futures).await;
</span><span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-19: ุงุณุชูุงุฏู ูุณุชูู ุงุฒ <code>Pin</code> ุจุง ูุงฺฉุฑู <code>pin!</code> ุจุฑุง ุงุฌุชูุงุจ ุงุฒ ุชุฎุตุตโูุง ุบุฑุถุฑูุฑ heap</figcaption>
</figure>
<p>ุชุง ุงูุฌุง ุจุง ูุงุฏุฏู ฺฏุฑูุชู ุงู ูุงูุนุช ฺฉู ููฺฉู ุงุณุช ููุนโูุง <code>Output</code> ูุฎุชูู ุฏุงุดุชู ุจุงุดูุ ูพุด ุฑูุชู. ุจุฑุง ูุซุงูุ ุฏุฑ ููุฑุณุช 17-20ุ ุขูุฏู ูุงุดูุงุณ ุจุฑุง <code>a</code> ูฺฺฏ <code>Future&lt;Output = u32&gt;</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุขูุฏู ูุงุดูุงุณ ุจุฑุง <code>b</code> ูฺฺฏ <code>Future&lt;Output = &amp;str&gt;</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ู ุขูุฏู ูุงุดูุงุณ ุจุฑุง <code>c</code> ูฺฺฏ <code>Future&lt;Output = bool&gt;</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let a = async { 1u32 };
        let b = async { "Hello!" };
        let c = async { true };

        let (a_result, b_result, c_result) = trpl::join!(a, b, c);
        println!("{a_result}, {b_result}, {c_result}");
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-20: ุณู ุขูุฏู ุจุง ููุนโูุง ูุชูุงูุช</figcaption>
</figure>
<p>ูโุชูุงูู ุงุฒ <code>trpl::join!</code> ุจุฑุง ููุชุธุฑ ูุงูุฏู ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺูุฏู ููุน future ุฑุง ุงุฑุณุงู ฺฉูู ู ฺฉ tuple ุงุฒ ุขู ุงููุงุน ุชููุฏ ูโฺฉูุฏ. ุงูุง <em>ููโุชูุงูู</em> ุงุฒ <code>trpl::join_all</code> ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง ุงู ุชุงุจุน ูุงุฒ ุฏุงุฑุฏ ฺฉู ููู futures ุงุฑุณุงูโุดุฏู ููุน ฺฉุณุงู ุฏุงุดุชู ุจุงุดูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏุ ููู ุฎุทุง ุจูุฏ ฺฉู ูุง ุฑุง ุจู ุงู ูุงุฌุฑุงุฌู ุจุง <code>Pin</code> ฺฉุดุงูุฏ!</p>
<p>ุงู ฺฉ ูุนุงูุถู ุจูุงุฏ ุงุณุช: ูโุชูุงูู ุจุง ุชุนุฏุงุฏ ูพูุง ุงุฒ futures ุจุง ุงุณุชูุงุฏู ุงุฒ <code>join_all</code> ฺฉุงุฑ ฺฉููุ ุจู ุดุฑุท ฺฉู ููู ุขูโูุง ููุน ฺฉุณุงู ุฏุงุดุชู ุจุงุดูุฏุ ุง ูโุชูุงูู ุจุง ุชุนุฏุงุฏ ูุดุฎุต ุงุฒ futures ุจุง ุชูุงุจุน <code>join</code> ุง ูุงฺฉุฑู <code>join!</code> ฺฉุงุฑ ฺฉููุ ุญุช ุงฺฏุฑ ุขูโูุง ุงููุงุน ูุฎุชูู ุฏุงุดุชู ุจุงุดูุฏ. ุงู ููุงู ุดุฑุงุท ุงุณุช ฺฉู ููฺฏุงู ฺฉุงุฑ ุจุง ูุฑ ููุน ุฏฺฏุฑ ุฏุฑ Rust ุจุง ุขู ููุงุฌู ูโุดูู. Futures ุฎุงุต ูุณุชูุฏุ ุญุช ุงฺฏุฑ ุณูุชฺฉุณ ููุงุณุจ ุจุฑุง ฺฉุงุฑ ุจุง ุขูโูุง ุฏุงุดุชู ุจุงุดูุ ู ุงู ฺฉ ูฺฉุชู ูุซุจุช ุงุณุช.</p>
<h3 id="racing-futures"><a class="header" href="#racing-futures">Racing Futures</a></h3>
<p>ููุช ุขูุฏูโูุง ุฑุง ุจุง ุฎุงููุงุฏู ุชูุงุจุน ู ูุงฺฉุฑููุง <code>join</code> โููุชุธุฑ ูโูุงููโุ ูุงุฒ ุฏุงุฑู <em>ููู</em> ุขูโูุง ุชูุงู ุดููุฏ ูุจู ุงุฒ ุงูฺฉู ุจู ูุฑุญูู ุจุนุฏ ุจุฑูู. ฺฏุงู ุงููุงุชุ ุงูุงุ ููุท ูุงุฒ ุฏุงุฑู <em>ฺฉ</em> ุงุฒ ุขูุฏูโูุง ุงุฒ ูุฌููุนูโุง ุชูุงู ุดูุฏ ูุจู ุงุฒ ุงูฺฉู ุจู ูุฑุญูู ุจุนุฏ ุจุฑููโฺฉู ุดุจู ุจู ูุณุงุจูู ุฏุงุฏู ฺฉ ุขูุฏู ุฏุฑ ุจุฑุงุจุฑ ุฏฺฏุฑ.</p>
<p>ุฏุฑ ูุณุช ฑท-ฒฑุ ูุง ุฏูุจุงุฑู ุงุฒ <code>trpl::race</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุฏู futureุ ุนู <code>slow</code> ู <code>fast</code>ุ ุฑุง ุฏุฑ ุจุฑุงุจุฑ ฺฉุฏฺฏุฑ ุงุฌุฑุง ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let slow = async {
            println!("'slow' started.");
            trpl::sleep(Duration::from_millis(100)).await;
            println!("'slow' finished.");
        };

        let fast = async {
            println!("'fast' started.");
            trpl::sleep(Duration::from_millis(50)).await;
            println!("'fast' finished.");
        };

        trpl::race(slow, fast).await;
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-21: ุงุณุชูุงุฏู ุงุฒ <code>race</code> ุจุฑุง ุฏุฑุงูุช ูุชุฌู ุงููู ุขูุฏูโุง ฺฉู ุชูุงู ูโุดูุฏ</figcaption>
</figure>
<p>ูุฑ future ฺฉ ูพุงู ููฺฏุงู ุดุฑูุน ุงุฌุฑุง ฺุงูพ ูโฺฉูุฏุ ุจุง ูุฑุงุฎูุงู ู ุงูุชุธุงุฑ ุจุฑุง <code>sleep</code> ุจู ูุฏุช ูุดุฎุต ูฺฉุซ ูโฺฉูุฏุ ู ุณูพุณ ฺฉ ูพุงู ุฏฺฏุฑ ููฺฏุงู ุงุชูุงู ฺุงูพ ูโฺฉูุฏ. ุณูพุณุ ูุฑ ุฏู future ุนู <code>slow</code> ู <code>fast</code> ุฑุง ุจู <code>trpl::race</code> ุงุฑุณุงู ูโฺฉูู ู ููุชุธุฑ ูโูุงูู ุชุง ฺฉ ุงุฒ ุขูโูุง ุจู ูพุงุงู ุจุฑุณุฏ. (ูุชุฌู ุงูุฌุง ฺูุฏุงู ุดฺฏูุชโุขูุฑ ูุณุช: <code>fast</code> ุจุฑูุฏู ูโุดูุฏ.) ุจุฑุฎูุงู ุฒูุงู ฺฉู ุฏุฑ <a href="ch17-01-futures-and-syntax.html#our-first-async-program">โุงููู ุจุฑูุงูู Async ูุงโ</a><!-- ignore --> ุงุฒ <code>race</code> ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุงูุฌุง ุจู ููููู <code>Either</code> ฺฉู ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชูุฌู ููโฺฉููุ ุฒุฑุง ุชูุงู ุฑูุชุงุฑ ุฌุงูุจ ุฏุฑ ุจุฏูู ุจููฺฉโูุง async ุฑุฎ ูโุฏูุฏ.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุงฺฏุฑ ุชุฑุชุจ ุขุฑฺฏููุงูโูุง ุจู <code>race</code> ุฑุง ุฌุงุจูโุฌุง ฺฉูุฏุ ุชุฑุชุจ ูพุงูโูุง โstartedโ ุชุบุฑ ูโฺฉูุฏุ ุญุช ุงฺฏุฑ future <code>fast</code> ููุดู ุฒูุฏุชุฑ ุจู ูพุงุงู ุจุฑุณุฏ. ุฏูู ุงู ุงุณุช ฺฉู ูพุงุฏูโุณุงุฒ ุงู ุชุงุจุน ุฎุงุต <code>race</code> ููุตูุงูู ูุณุช. ุงู ุชุงุจุน ููุดู futures ุงุฑุณุงูโุดุฏู ุฑุง ุจู ุชุฑุชุจ ุขุฑฺฏููุงูโูุง ุงุฌุฑุง ูโฺฉูุฏ. ุณุงุฑ ูพุงุฏูโุณุงุฒโูุง <em>ููุตูุงูู</em> ูุณุชูุฏ ู ุจู ุตูุฑุช ุชุตุงุฏู ุงูุชุฎุงุจ ูโฺฉููุฏ ฺฉู ฺฉุฏุงู future ุฑุง ุงุจุชุฏุง poll ฺฉููุฏ. ุจุง ุงู ุญุงูุ ุตุฑูโูุธุฑ ุงุฒ ุงูฺฉู ูพุงุฏูโุณุงุฒ <code>race</code> ูุง ููุตูุงูู ุจุงุดุฏ ุง ููุ <em>ฺฉ</em> ุงุฒ futures ุชุง ุงููู <code>await</code> ุฏุฑ ุจุฏููโุงุด ุงุฌุฑุง ูโุดูุฏ ูุจู ุงุฒ ุงูฺฉู task ุฏฺฏุฑ ุจุชูุงูุฏ ุดุฑูุน ุดูุฏ.</p>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ุงุฒ <a href="ch17-01-futures-and-syntax.html#our-first-async-program">ุงููู ุจุฑูุงูู Async ูุง</a><!-- ignore --> ฺฉู ุฏุฑ ูุฑ ููุทู <code>await</code>ุ Rust ุจู runtime ุงุฌุงุฒู ูโุฏูุฏ ุชุง task ุฑุง ูุชููู ฺฉูุฏ ู ุจู task ุฏฺฏุฑ ุณูุฆฺ ฺฉูุฏ ุงฺฏุฑ future ุฏุฑ ุญุงู ุงูุชุธุงุฑ ุขูุงุฏู ูุจุงุดุฏ. ุนฺฉุณ ุงู ููุถูุน ูู ุตุงุฏู ุงุณุช: Rust ููุท ุจููฺฉโูุง async ุฑุง ูุชููู ูโฺฉูุฏ ู ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒูโฺฏุฑุฏุงูุฏ ุฏุฑ ฺฉ ููุทู <code>await</code>.</p>
<p>ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุงฺฏุฑ ุฏุฑ ฺฉ ุจููฺฉ async ุจุฏูู ููุทู <code>await</code> ููุฏุงุฑ ุฒุงุฏ ฺฉุงุฑ ุงูุฌุงู ุฏูุฏุ ุขู future ุฏฺฏุฑ futures ุฑุง ุงุฒ ูพุดุฑูุช ุจุงุฒ ูโุฏุงุฑุฏ. ฺฏุงู ุงููุงุช ููฺฉู ุงุณุช ุจู ุงู ููุถูุน ุงุดุงุฑู ุดูุฏ ฺฉู ฺฉ future <em>ุฏฺฏุฑ futures ุฑุง ฺฏุฑุณูู ูโฺฉูุฏ</em>. ุฏุฑ ุจุฑุฎ ููุงุฑุฏุ ุงู ููฺฉู ุงุณุช ูุดฺฉู ุจุฒุฑฺฏ ูุจุงุดุฏ. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุฏุฑ ุญุงู ุงูุฌุงู ุจุฑุฎ ุชูุธูุงุช ูพุฑูุฒูู ุง ฺฉุงุฑ ุทููุงูโูุฏุช ูุณุชุฏุ ุง ุงฺฏุฑ futureุง ุฏุงุฑุฏ ฺฉู ุจู ุทูุฑ ูุงูุญุฏูุฏ ฺฉ ฺฉุงุฑ ุฎุงุต ุฑุง ุงูุฌุงู ูโุฏูุฏุ ุจุงุฏ ุจู ุงู ูฺฉุฑ ฺฉูุฏ ฺฉู ฺู ุฒูุงู ู ฺฉุฌุง ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒฺฏุฑุฏุงูุฏ.</p>
<p>ุจู ููุงู ุงูุฏุงุฒูุ ุงฺฏุฑ ุนููุงุชโูุง ูุณุฏูุฏฺฉููุฏู ุทููุงูโูุฏุช ุฏุงุฑุฏุ async ูโุชูุงูุฏ ุงุจุฒุงุฑ ููุฏ ุจุฑุง ุงุฑุงุฆู ุฑุงูโูุง ุจุงุดุฏ ฺฉู ุจุฎุดโูุง ูุฎุชูู ุจุฑูุงูู ุจุชูุงููุฏ ุจุง ฺฉุฏฺฏุฑ ุชุนุงูู ุฏุงุดุชู ุจุงุดูุฏ.</p>
<p>ุงูุง ุฏุฑ ุงู ููุงุฑุฏ <em>ฺฺฏููู</em> ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒูโฺฏุฑุฏุงูุฏุ</p>
<!-- Old headings. Do not remove or links may break. -->
<p><a id="yielding"></a></p>
<h3 id="yielding-control-to-the-runtime"><a class="header" href="#yielding-control-to-the-runtime">Yielding Control to the Runtime</a></h3>
<p>ุจุงุฏ ฺฉ ุนููุงุช ุทููุงูโูุฏุช ุฑุง ุดุจูโุณุงุฒ ฺฉูู. ูุณุช ฑท-ฒฒ ฺฉ ุชุงุจุน ุจู ูุงู <code>slow</code> ูุนุฑู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{thread, time::Duration};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        // We will call `slow` here later
</span><span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span>fn slow(name: &amp;str, ms: u64) {
    thread::sleep(Duration::from_millis(ms));
    println!("'{name}' ran for {ms}ms");
}</code></pre></pre>
<figcaption>Listing 17-22: ุงุณุชูุงุฏู ุงุฒ <code>thread::sleep</code> ุจุฑุง ุดุจูโุณุงุฒ ุนููุงุช ฺฉูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุงุฒ <code>std::thread::sleep</code> ุจู ุฌุง <code>trpl::sleep</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจู ุทูุฑ ฺฉู ูุฑุงุฎูุงู <code>slow</code>ุ Thread ูุนู ุฑุง ุจุฑุง ูุฏุช ูุดุฎุต ุงุฒ ููโุซุงููโูุง ูุณุฏูุฏ ูโฺฉูุฏ. ูโุชูุงูู ุงุฒ <code>slow</code> ุจู ุนููุงู ุฌุงฺฏุฒู ุจุฑุง ุนููุงุชโูุง ูุงูุน ฺฉู ูู ุทููุงูโูุฏุช ูุณุชูุฏ ู ูู ูุณุฏูุฏฺฉููุฏูุ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุฏุฑ ูุณุช ฑท-ฒณุ ุงุฒ <code>slow</code> ุจุฑุง ุดุจูโุณุงุฒ ุงูุฌุงู ุงู ููุน ฺฉุงุฑูุง CPU-bound ุฏุฑ ฺฉ ุฌูุช future ุงุณุชูุงุฏู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{thread, time::Duration};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let a = async {
            println!("'a' started.");
            slow("a", 30);
            slow("a", 10);
            slow("a", 20);
            trpl::sleep(Duration::from_millis(50)).await;
            println!("'a' finished.");
        };

        let b = async {
            println!("'b' started.");
            slow("b", 75);
            slow("b", 10);
            slow("b", 15);
            slow("b", 350);
            trpl::sleep(Duration::from_millis(50)).await;
            println!("'b' finished.");
        };

        trpl::race(a, b).await;
<span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn slow(name: &amp;str, ms: u64) {
</span><span class="boring">    thread::sleep(Duration::from_millis(ms));
</span><span class="boring">    println!("'{name}' ran for {ms}ms");
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-23: ุงุณุชูุงุฏู ุงุฒ <code>thread::sleep</code> ุจุฑุง ุดุจูโุณุงุฒ ุนููุงุช ฺฉูุฏ</figcaption>
</figure>
<p>ุจุฑุง ุดุฑูุนุ ูุฑ future ููุท <em>ูพุณ ุงุฒ</em> ุงูุฌุงู ฺฉ ุณุฑ ุนููุงุช ฺฉูุฏุ ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุงู ุฎุฑูุฌ ุฑุง ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-23/
cargo run
copy just the output
-->
<pre><code class="language-text">'a' started.
'a' ran for 30ms
'a' ran for 10ms
'a' ran for 20ms
'b' started.
'b' ran for 75ms
'b' ran for 10ms
'b' ran for 15ms
'b' ran for 350ms
'a' finished.
</code></pre>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุซุงู ูุจู ุฏุฏูุ <code>race</code> ููฺูุงู ุจู ูุญุถ ุงูฺฉู <code>a</code> ุชูุงู ุดูุฏุ ฺฉุงุฑ ุฑุง ุชูุงู ูโฺฉูุฏ. ุงูุง ุจู ุฏู future ูฺ ุชุฏุงุฎู ุง ุฌุงุจูโุฌุง ูุฌูุฏ ูุฏุงุฑุฏ. future <code>a</code> ุชูุงู ฺฉุงุฑ ุฎูุฏ ุฑุง ุงูุฌุงู ูโุฏูุฏ ุชุง ุฒูุงู ฺฉู ูุฑุงุฎูุงู <code>trpl::sleep</code> ููุชุธุฑ ุจูุงูุฏุ ุณูพุณ future <code>b</code> ุชูุงู ฺฉุงุฑ ุฎูุฏ ุฑุง ุงูุฌุงู ูโุฏูุฏ ุชุง ุฒูุงู ฺฉู ูุฑุงุฎูุงู <code>trpl::sleep</code> ุฎูุฏุด ููุชุธุฑ ุจูุงูุฏุ ู ุฏุฑ ููุงุช future <code>a</code> ฺฉุงูู ูโุดูุฏ. ุจุฑุง ุงูฺฉู ูุฑ ุฏู future ุจุชูุงููุฏ ุจู taskูุง ฺฉูุฏ ุฎูุฏ ูพุดุฑูุช ฺฉููุฏุ ุจู ููุงุท <code>await</code> ูุงุฒ ุฏุงุฑู ุชุง ุจุชูุงูู ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒฺฏุฑุฏุงูู. ุงู ุจู ุงู ูุนูุงุณุช ฺฉู ุจู ฺุฒ ูุงุฒ ุฏุงุฑู ฺฉู ุจุชูุงูู ุจุฑุง ุขู ููุชุธุฑ ุจูุงูู!</p>
<p>ููโุงฺฉููู ูโุชูุงูู ุงู ููุน ุงูุชูุงู ฺฉูุชุฑู ุฑุง ุฏุฑ ูุณุช ฑท-ฒณ ูุดุงูุฏู ฺฉูู: ุงฺฏุฑ <code>trpl::sleep</code> ุฏุฑ ุงูุชูุง future <code>a</code> ุฑุง ุญุฐู ฺฉููุ ุงู future ุจุฏูู ุงุฌุฑุง future <code>b</code> ุจู ุทูุฑ ฺฉุงูู ุจู ูพุงุงู ูโุฑุณุฏ. ุจุงุฏ ุงุฒ ุชุงุจุน <code>sleep</code> ุจูโุนููุงู ููุทู ุดุฑูุน ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ุนููุงุชโูุง ุจุฑุง ุฌุงุจูโุฌุง ุดุฏู ู ูพุดุฑูุช ุงุณุชูุงุฏู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ฒด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{thread, time::Duration};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let one_ms = Duration::from_millis(1);

        let a = async {
            println!("'a' started.");
            slow("a", 30);
            trpl::sleep(one_ms).await;
            slow("a", 10);
            trpl::sleep(one_ms).await;
            slow("a", 20);
            trpl::sleep(one_ms).await;
            println!("'a' finished.");
        };

        let b = async {
            println!("'b' started.");
            slow("b", 75);
            trpl::sleep(one_ms).await;
            slow("b", 10);
            trpl::sleep(one_ms).await;
            slow("b", 15);
            trpl::sleep(one_ms).await;
            slow("b", 35);
            trpl::sleep(one_ms).await;
            println!("'b' finished.");
        };
<span class="boring">
</span><span class="boring">        trpl::race(a, b).await;
</span><span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn slow(name: &amp;str, ms: u64) {
</span><span class="boring">    thread::sleep(Duration::from_millis(ms));
</span><span class="boring">    println!("'{name}' ran for {ms}ms");
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-24: ุงุณุชูุงุฏู ุงุฒ <code>sleep</code> ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ุนููุงุชโูุง ุจุฑุง ูพุดุฑูุช ูุชูุงูุจ</figcaption>
</figure>
<p>ุฏุฑ ููุฑุณุช 17-24ุ ูุฑุงุฎูุงูโูุง <code>trpl::sleep</code> ุจุง ููุงุท ุงูุชุธุงุฑ ุจู ูุฑ ูุฑุงุฎูุงู ุจู <code>slow</code> ุงุถุงูู ูโฺฉูู. ุงฺฉููู ฺฉุงุฑ ุฏู ุขูุฏู ุฏุฑููโุชูุฏู ุดุฏู ุงุณุช:</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-24
cargo run
copy just the output
-->
<pre><code class="language-text">'a' started.
'a' ran for 30ms
'b' started.
'b' ran for 75ms
'a' ran for 10ms
'b' ran for 10ms
'a' ran for 20ms
'b' ran for 15ms
'a' finished.
</code></pre>
<p>future <code>a</code> ูููุฒ ุจุฑุง ูุฏุช ุงุฌุฑุง ูโุดูุฏ ูุจู ุงุฒ ุงูฺฉู ฺฉูุชุฑู ุฑุง ุจู <code>b</code> ููุชูู ฺฉูุฏุ ุฒุฑุง ุงุจุชุฏุง <code>slow</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ูุจู ุงุฒ ุงูฺฉู <code>trpl::sleep</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ุงูุง ูพุณ ุงุฒ ุขูุ futures ูุฑ ุจุงุฑ ฺฉู ฺฉ ุงุฒ ุขูโูุง ุจู ฺฉ ููุทู <code>await</code> ูโุฑุณุฏุ ุจู ุตูุฑุช ูุชูุงูุจ ุฌุงุจูโุฌุง ูโุดููุฏ. ุฏุฑ ุงู ููุฑุฏุ ูุง ุงู ฺฉุงุฑ ุฑุง ูพุณ ุงุฒ ูุฑ ูุฑุงุฎูุงู ุจู <code>slow</code> ุงูุฌุงู ุฏุงุฏูโุงูุ ุงูุง ูโุชูุงูุณุชู ฺฉุงุฑ ุฑุง ุจู ูุฑ ุดฺฉู ฺฉู ุจุฑุง ูุง ููุทูโุชุฑ ุงุณุช ุชูุณู ฺฉูู.</p>
<p>ุจุง ุงู ุญุงูุ ูุงูุนุงู ููโุฎูุงูู ุงูุฌุง <em>sleep</em> ฺฉููุ ูโุฎูุงูู ุจู ุณุฑุนโุชุฑู ุดฺฉู ฺฉู ูโุชูุงูู ูพุดุฑูุช ฺฉูู. ููุท ูุงุฒ ุฏุงุฑู ฺฉูุชุฑู ุฑุง ุจู runtime ุจุงุฒฺฏุฑุฏุงูู. ูโุชูุงูู ุงู ฺฉุงุฑ ุฑุง ุจูโุทูุฑ ูุณุชูู ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>yield_now</code> ุงูุฌุงู ุฏูู. ุฏุฑ ููุฑุณุช 17-25ุ ุชูุงู ุงู ูุฑุงุฎูุงูโูุง <code>sleep</code> ุฑุง ุจุง <code>yield_now</code> ุฌุงฺฏุฒู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{thread, time::Duration};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let a = async {
            println!("'a' started.");
            slow("a", 30);
            trpl::yield_now().await;
            slow("a", 10);
            trpl::yield_now().await;
            slow("a", 20);
            trpl::yield_now().await;
            println!("'a' finished.");
        };

        let b = async {
            println!("'b' started.");
            slow("b", 75);
            trpl::yield_now().await;
            slow("b", 10);
            trpl::yield_now().await;
            slow("b", 15);
            trpl::yield_now().await;
            slow("b", 35);
            trpl::yield_now().await;
            println!("'b' finished.");
        };
<span class="boring">
</span><span class="boring">        trpl::race(a, b).await;
</span><span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn slow(name: &amp;str, ms: u64) {
</span><span class="boring">    thread::sleep(Duration::from_millis(ms));
</span><span class="boring">    println!("'{name}' ran for {ms}ms");
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-25: ุงุณุชูุงุฏู ุงุฒ <code>yield_now</code> ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ุนููุงุชโูุง ุจุฑุง ูพุดุฑูุช ูุชูุงูุจ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูู ุงุฒ ูุธุฑ ุจุงู ูุฏู ูุงูุน ูุงุถุญโุชุฑ ุงุณุช ู ูู ูโุชูุงูุฏ ุจู ุทูุฑ ูุงุจูโุชูุฌู ุณุฑุนโุชุฑ ุงุฒ ุงุณุชูุงุฏู ุงุฒ <code>sleep</code> ุจุงุดุฏุ ุฒุฑุง ุชุงูุฑูุง ูุงููุฏ ุขูฺู ฺฉู ุชูุณุท <code>sleep</code> ุงุณุชูุงุฏู ูโุดูุฏ ุงุบูุจ ูุญุฏูุฏุชโูุง ุฏุฑ ุฏูุช ุฎูุฏ ุฏุงุฑูุฏ. ูุณุฎูโุง ุงุฒ <code>sleep</code> ฺฉู ูุง ุงุณุชูุงุฏู ูโฺฉููุ ุจุฑุง ูุซุงูุ ููุดู ุญุฏุงูู ุจู ูุฏุช ฺฉ ููโุซุงูู ูโุฎูุงุจุฏุ ุญุช ุงฺฏุฑ ฺฉ <code>Duration</code> ฺฉ ูุงููุซุงููโุง ุจู ุขู ุจุฏูู. ุฏูุจุงุฑูุ ฺฉุงููพูุชุฑูุง ูุฏุฑู <em>ุณุฑุน</em> ูุณุชูุฏ: ุขูโูุง ูโุชูุงููุฏ ุฏุฑ ฺฉ ููโุซุงูู ฺฉุงุฑูุง ุฒุงุฏ ุงูุฌุงู ุฏููุฏ!</p>
<p>ูโุชูุงูุฏ ุฎูุฏุชุงู ุงู ุฑุง ุจุจูุฏ ุจุง ุฑุงูโุงูุฏุงุฒ ฺฉ ุจูฺูุงุฑฺฉ ฺฉูฺฺฉุ ูุงููุฏ ุขูฺู ุฏุฑ ูุณุช ฑท-ฒถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. (ุงู ุฑูุด ุจูโูฺู ุฏูู ุจุฑุง ุงูุฌุงู ุชุณุช ุนููฺฉุฑุฏ ูุณุชุ ุงูุง ุจุฑุง ูุดุงู ุฏุงุฏู ุชูุงูุช ุฏุฑ ุงูุฌุง ฺฉุงู ุงุณุช.)</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::{Duration, Instant};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let one_ns = Duration::from_nanos(1);
        let start = Instant::now();
        async {
            for _ in 1..1000 {
                trpl::sleep(one_ns).await;
            }
        }
        .await;
        let time = Instant::now() - start;
        println!(
            "'sleep' version finished after {} seconds.",
            time.as_secs_f32()
        );

        let start = Instant::now();
        async {
            for _ in 1..1000 {
                trpl::yield_now().await;
            }
        }
        .await;
        let time = Instant::now() - start;
        println!(
            "'yield' version finished after {} seconds.",
            time.as_secs_f32()
        );
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-26: ููุงุณู ุนููฺฉุฑุฏ <code>sleep</code> ู <code>yield_now</code></figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ุชูุงู ฺุงูพ ูุถุนุช ุฑุง ฺฉูุงุฑ ูโฺฏุฐุงุฑูุ ฺฉ <code>Duration</code> ฺฉ ูุงููุซุงููโุง ุจู <code>trpl::sleep</code> ูโุฏูู ู ุงุฌุงุฒู ูโุฏูู ูุฑ future ุจูโุตูุฑุช ูุณุชูู ุงุฌุฑุง ุดูุฏุ ุจุฏูู ูฺ ุฌุงุจูโุฌุง ุจู futures. ุณูพุณ ฑ,ฐฐฐ ุจุงุฑ ุงู ุนููุงุช ุฑุง ุชฺฉุฑุงุฑ ูโฺฉูู ู ูโุจูู ฺฉู future ฺฉู ุงุฒ <code>trpl::sleep</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุฏุฑ ููุงุณู ุจุง future ฺฉู ุงุฒ <code>trpl::yield_now</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ฺูุฏุฑ ุฒูุงู ูโุจุฑุฏ.</p>
<p>ูุณุฎูโุง ฺฉู ุงุฒ <code>yield_now</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ <em>ุจุณุงุฑ</em> ุณุฑุนโุชุฑ ุงุณุช!</p>
<p>ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู async ุญุช ุจุฑุง ูุธุงู ูุงุจุณุชู ุจู CPU ูโุชูุงูุฏ ููุฏ ุจุงุดุฏุ ุจุณุชู ุจู ุงูฺฉู ุจุฑูุงูู ุดูุง ฺู ฺฉุงุฑ ุฏฺฏุฑ ุงูุฌุงู ูโุฏูุฏุ ุฒุฑุง ุงุจุฒุงุฑ ููุฏ ุจุฑุง ุณุงุฎุชุงุฑุฏู ุฑูุงุจุท ุจู ุจุฎุดโูุง ูุฎุชูู ุจุฑูุงูู ูุฑุงูู ูโฺฉูุฏ. ุงู ููุน ุงุฒ <em>ฺูุฏูุธููโฺฏ ูุดุงุฑฺฉุช</em> ุงุณุชุ ุฌุง ฺฉู ูุฑ ุขูุฏู ูุฏุฑุช ุชุตููโฺฏุฑ ุฏุฑุจุงุฑู ุฒูุงู ูุงฺฏุฐุงุฑ ฺฉูุชุฑู ุงุฒ ุทุฑู ููุงุท ุงูุชุธุงุฑ ุฑุง ุฏุงุฑุฏ. ุจูุงุจุฑุงูุ ูุฑ ุขูุฏู ูุฒ ูุณุฆููุช ุฏุงุฑุฏ ฺฉู ุงุฒ ูุณุฏูุฏ ฺฉุฑุฏู ุจุด ุงุฒ ุญุฏ ุทููุงู ุงุฌุชูุงุจ ฺฉูุฏ. ุฏุฑ ุจุฑุฎ ุณุณุชูโุนุงููโูุง ูุจุชู ุจุฑ ุฑุงุณุช ุจุฑุง ุณุณุชูโูุง ุชุนุจูโุดุฏูุ ุงู <em>ุชููุง</em> ููุน ฺูุฏูุธููโฺฏ ุงุณุช!</p>
<p>ุฏุฑ ฺฉุฏ ูุงูุนุ ูุนูููุงู ูุฑุงุฎูุงู ุชูุงุจุน ุฑุง ุจุง ููุงุท <code>await</code> ุฏุฑ ูุฑ ุฎุท ูุชูุงูุจ ููโฺฉูุฏุ ุงูุจุชู. ุฏุฑ ุญุงู ฺฉู ูุงฺฏุฐุงุฑ ฺฉูุชุฑู ุจู ุงู ุฑูุด ูุณุจุชุงู ฺฉูโูุฒูู ุงุณุชุ ุงูุง ุฑุงฺฏุงู ูุณุช. ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏุ ุชูุงุด ุจุฑุง ุชูุณู ฺฉ task ฺฉู CPU-bound ุงุณุช ููฺฉู ุงุณุช ุขู ุฑุง ุจูโุทูุฑ ูุงุจู ุชูุฌู ฺฉูุฏุชุฑ ฺฉูุฏุ ุจูุงุจุฑุงู ฺฏุงู ุงููุงุช ุจุฑุง <em>ุนููฺฉุฑุฏ ฺฉู</em> ุจูุชุฑ ุงุณุช ฺฉู ุงุฌุงุฒู ุฏูุฏ ฺฉ ุนููุงุช ุจูโุทูุฑ ูุฎุชุตุฑ ูุณุฏูุฏ ุดูุฏ. ููุดู ุงูุฏุงุฒูโฺฏุฑ ฺฉูุฏ ุชุง ุจุจูุฏ ุชูฺฏูุงูุง ุนููฺฉุฑุฏ ูุงูุน ฺฉุฏ ุดูุง ฺฉุฌุง ูุณุชูุฏ. ุงูุงุ ุงู ุฏูุงูฺฉ ุงุณุงุณ ุฑุง ุจุงุฏ ุฏุฑ ุฐูู ุฏุงุดุชู ุจุงุดุฏุ ุจูโูฺู ุงฺฏุฑ <em>ูุงูุนุงู</em> ุดุงูุฏ ุงูุฌุงู ููุฏุงุฑ ุฒุงุฏ ฺฉุงุฑ ุจูโุตูุฑุช ุชุฑุชุจ ุจุงุดุฏุ ุฏุฑ ุญุงู ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชุฏ ุจูโุทูุฑ ููุฒูุงู ุงูุฌุงู ุดูุฏ!</p>
<h3 id="ุณุงุฎุช-ุงูุชุฒุงุนุงุช-async-ุฎูุฏูุงู"><a class="header" href="#ุณุงุฎุช-ุงูุชุฒุงุนุงุช-async-ุฎูุฏูุงู">ุณุงุฎุช ุงูุชุฒุงุนุงุช Async ุฎูุฏูุงู</a></h3>
<p>ูุง ููฺูู ูโุชูุงูู futures ุฑุง ุจุง ูู ุชุฑฺฉุจ ฺฉูู ุชุง ุงูฺฏููุง ุฌุฏุฏ ุงุฌุงุฏ ฺฉูู. ุจุฑุง ูุซุงูุ ูโุชูุงูู ฺฉ ุชุงุจุน <code>timeout</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ุจููฺฉโูุง ุณุงุฒูุฏู async ฺฉู ุงุฒ ูุจู ุฏุงุฑูุ ุจุณุงุฒู. ููฺฏุงู ฺฉู ฺฉุงุฑูุงู ุชูุงู ุดุฏุ ูุชุฌู ฺฉ ุจููฺฉ ุณุงุฒูุฏู ุฏฺฏุฑ ุฎูุงูุฏ ุจูุฏ ฺฉู ูโุชูุงูู ุจุฑุง ุงุฌุงุฏ ุงูุชุฒุงุนุงุช async ุจุดุชุฑ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ููุฑุณุช 17-27 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุงูุชุธุงุฑ ุฏุงุฑู ุงู <code>timeout</code> ุจุง ฺฉ ุขูุฏู ฺฉูุฏ ฺฉุงุฑ ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let slow = async {
            trpl::sleep(Duration::from_millis(100)).await;
            "I finished!"
        };

        match timeout(slow, Duration::from_millis(10)).await {
            Ok(message) =&gt; println!("Succeeded with '{message}'"),
            Err(duration) =&gt; {
                println!("Failed after {} seconds", duration.as_secs())
            }
        }
<span class="boring">    });
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-27: ุชุนุฑู ูุญูู ฺฉุงุฑ <code>timeout</code> ุจุง ฺฉ ุขูุฏู ฺฉูุฏ</figcaption>
</figure>
<p>ุจุงุฏ ุงู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู! ุจุฑุง ุดุฑูุนุ ุจุงุฏ ุจู API ููุฑุฏ ูุงุฒ ุจุฑุง <code>timeout</code> ูฺฉุฑ ฺฉูู:</p>
<ul>
<li>ุจุงุฏ ุฎูุฏุด ฺฉ ุชุงุจุน async ุจุงุดุฏ ุชุง ุจุชูุงูู ููุชุธุฑ ุขู ุจูุงูู.</li>
<li>ูพุงุฑุงูุชุฑ ุงูู ุขู ุจุงุฏ ฺฉ ุขูุฏู ุจุฑุง ุงุฌุฑุง ุจุงุดุฏ. ูโุชูุงูู ุขู ุฑุง ุนููู ฺฉูู ุชุง ุจุชูุงูุฏ ุจุง ูุฑ ุขูุฏูโุง ฺฉุงุฑ ฺฉูุฏ.</li>
<li>ูพุงุฑุงูุชุฑ ุฏูู ุขู ูุฏุชโุฒูุงู ุญุฏุงฺฉุซุฑ ุจุฑุง ุงูุชุธุงุฑ ุฎูุงูุฏ ุจูุฏ. ุงฺฏุฑ ุงุฒ ฺฉ <code>Duration</code> ุงุณุชูุงุฏู ฺฉููุ ุงู ฺฉุงุฑ ุงุฑุณุงู ุขู ุจู <code>trpl::sleep</code> ุฑุง ุขุณุงู ูโฺฉูุฏ.</li>
<li>ุจุงุฏ ฺฉ <code>Result</code> ุจุงุฒฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุขูุฏู ุจุง ููููุช ฺฉุงูู ุดูุฏุ <code>Result</code> ุดุงูู <code>Ok</code> ุจุง ููุฏุงุฑ ุชููุฏุดุฏู ุชูุณุท ุขูุฏู ุฎูุงูุฏ ุจูุฏ. ุงฺฏุฑ ุฒูุงู ูุญุฏูุฏุช ุฒูุฏุชุฑ ุณูพุฑ ุดูุฏุ <code>Result</code> ุดุงูู <code>Err</code> ุจุง ูุฏุชโุฒูุงู ฺฉู ุฒูุงู ูุญุฏูุฏุช ุจุฑุง ุขู ููุชุธุฑ ูุงูุฏ ุฎูุงูุฏ ุจูุฏ.</li>
</ul>
<p>ููุฑุณุช 17-28 ุงู ุงุนูุงู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<!-- This is not tested because it intentionally does not compile. -->
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{future::Future, time::Duration};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let slow = async {
</span><span class="boring">            trpl::sleep(Duration::from_secs(5)).await;
</span><span class="boring">            "Finally finished"
</span><span class="boring">        };
</span><span class="boring">
</span><span class="boring">        match timeout(slow, Duration::from_millis(10)).await {
</span><span class="boring">            Ok(message) =&gt; println!("Succeeded with '{message}'"),
</span><span class="boring">            Err(duration) =&gt; {
</span><span class="boring">                println!("Failed after {} seconds", duration.as_secs())
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span>async fn timeout&lt;F: Future&gt;(
    future_to_try: F,
    max_time: Duration,
) -&gt; Result&lt;F::Output, Duration&gt; {
    // Here is where our implementation will go!
}</code></pre>
<figcaption>Listing 17-28: ุชุนุฑู ุงูุถุง <code>timeout</code></figcaption>
</figure>
<p>ุงู ุงูุฏุงู ูุง ุจุฑุง ููุนโูุง ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ. ุญุงูุง ุจุงุฏ ุจู <em>ุฑูุชุงุฑ</em> ฺฉู ูุงุฒ ุฏุงุฑู ูฺฉุฑ ฺฉูู: ูโุฎูุงูู ุขูุฏู ุงุฑุณุงูโุดุฏู ุจู ุขู ุฑุง ุฏุฑ ุจุฑุงุจุฑ ูุฏุชโุฒูุงู ูุญุฏูุฏุช ูุณุงุจูู ุฏูู. ูโุชูุงูู ุงุฒ <code>trpl::sleep</code> ุจุฑุง ุณุงุฎุชู ฺฉ ุขูุฏู ุชุงูุฑ ุงุฒ ูุฏุชโุฒูุงู ุงุณุชูุงุฏู ฺฉูู ู ุงุฒ <code>trpl::race</code> ุจุฑุง ุงุฌุฑุง ุขู ุชุงูุฑ ุจุง ุขูุฏูโุง ฺฉู ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโฺฉูุฏ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ูุง ููฺูู ูโุฏุงูู ฺฉู <code>race</code> ููุตูุงูู ูุณุช ู ุขุฑฺฏููุงูโูุง ุฑุง ุจู ุชุฑุชุจ ุงุฑุณุงูโุดุฏู poll ูโฺฉูุฏ. ุจูุงุจุฑุงูุ ุงุจุชุฏุง <code>future_to_try</code> ุฑุง ุจู <code>race</code> ุงุฑุณุงู ูโฺฉูู ุชุง ุญุช ุงฺฏุฑ <code>max_time</code> ูุฏุช ุฒูุงู ุจุณุงุฑ ฺฉูุชุงู ุจุงุดุฏุ ูุฑุตุช ุจุฑุง ุชฺฉูู ุดุฏู ุฏุงุดุชู ุจุงุดุฏ. ุงฺฏุฑ <code>future_to_try</code> ุฒูุฏุชุฑ ุชูุงู ุดูุฏุ <code>race</code> ููุฏุงุฑ <code>Left</code> ุฑุง ุจุง ุฎุฑูุฌ <code>future_to_try</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ <code>timer</code> ุฒูุฏุชุฑ ุชูุงู ุดูุฏุ <code>race</code> ููุฏุงุฑ <code>Right</code> ุฑุง ุจุง ุฎุฑูุฌ <code>()</code> ุชุงูุฑ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ุฏุฑ ูุณุช ฑท-ฒนุ ูุชุฌู ุงูุชุธุงุฑ ุจุฑุง <code>trpl::race</code> ุฑุง match ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{future::Future, time::Duration};
</span><span class="boring">
</span>use trpl::Either;

// --snip--

fn main() {
    trpl::run(async {
        let slow = async {
            trpl::sleep(Duration::from_secs(5)).await;
            "Finally finished"
        };

        match timeout(slow, Duration::from_secs(2)).await {
            Ok(message) =&gt; println!("Succeeded with '{message}'"),
            Err(duration) =&gt; {
                println!("Failed after {} seconds", duration.as_secs())
            }
        }
    });
}

async fn timeout&lt;F: Future&gt;(
    future_to_try: F,
    max_time: Duration,
) -&gt; Result&lt;F::Output, Duration&gt; {
    match trpl::race(future_to_try, trpl::sleep(max_time)).await {
        Either::Left(output) =&gt; Ok(output),
        Either::Right(_) =&gt; Err(max_time),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-29: ุชุนุฑู <code>timeout</code> ุจุง ุงุณุชูุงุฏู ุงุฒ <code>race</code> ู <code>sleep</code></figcaption>
</figure>
<p>ุงฺฏุฑ <code>future_to_try</code> ูููู ุดูุฏ ู ููุฏุงุฑ <code>Left(output)</code> ุฏุฑุงูุช ฺฉููุ ููุฏุงุฑ <code>Ok(output)</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูู. ุงฺฏุฑ ุจู ุฌุง ุขู ุชุงูุฑ ุฎูุงุจ ูููุถ ุดูุฏ ู ููุฏุงุฑ <code>Right(())</code> ุฏุฑุงูุช ฺฉููุ <code>()</code> ุฑุง ุจุง <code>_</code> ูุงุฏุฏู ฺฏุฑูุชู ู ุจู ุฌุง ุขู ููุฏุงุฑ <code>Err(max_time)</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูู.</p>
<p>ุจุง ุงู ฺฉุงุฑุ ฺฉ <code>timeout</code> ุนููุงุช ุฏุงุฑู ฺฉู ุงุฒ ุฏู ุงุจุฒุงุฑ ฺฉูฺฉ async ุฏฺฏุฑ ุณุงุฎุชู ุดุฏู ุงุณุช. ุงฺฏุฑ ฺฉุฏ ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉููุ ูพุณ ุงุฒ ุงููุถุง timeoutุ ุญุงูุช ุดฺฉุณุช ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-text">Failed after 2 seconds
</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู futures ูโุชูุงููุฏ ุจุง ุฏฺฏุฑ futures ุชุฑฺฉุจ ุดููุฏุ ูโุชูุงูุฏ ุงุจุฒุงุฑูุง ุจุณุงุฑ ูุฏุฑุชููุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุจููฺฉโูุง ุณุงุฒูุฏู ฺฉูฺฺฉโุชุฑ async ุจุณุงุฒุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูุฏ ุงุฒ ููู ุฑูฺฉุฑุฏ ุจุฑุง ุชุฑฺฉุจ timeoutูุง ุจุง retries ุงุณุชูุงุฏู ฺฉูุฏ ู ุจู ููุจู ุฎูุฏ ุงุฒ ุขูโูุง ุจุง ุนููุงุช ูุงููุฏ ุชูุงุณโูุง ุดุจฺฉู (ฺฉ ุงุฒ ูุซุงูโูุง ุงุจุชุฏุง ูุตู) ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฏุฑ ุนููุ ูุนูููุงู ูุณุชููุงู ุจุง <code>async</code> ู <code>await</code> ฺฉุงุฑ ูโฺฉูุฏ ู ุจู ุทูุฑ ุซุงููู ุงุฒ ุชูุงุจุน ู ูุงฺฉุฑููุง ูุงููุฏ <code>join</code>ุ <code>join_all</code>ุ <code>race</code> ู ุบุฑู ุงุณุชูุงุฏู ูโฺฉูุฏ. ููุท ฺฏุงู ูุงุฒ ุฎูุงูุฏ ุฏุงุดุช ุงุฒ <code>pin</code> ุจุฑุง ุงุณุชูุงุฏู ุงุฒ futures ุจุง ุขู APIูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุงฺฉููู ุฑูุดโูุง ูุชุนุฏุฏ ุจุฑุง ฺฉุงุฑ ุจุง ฺูุฏู future ุจู ุทูุฑ ููุฒูุงู ุฏุฏูโุงู. ุฏุฑ ุงุฏุงููุ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ูโุชูุงูู ุจุง ฺูุฏู future ุจู ุตูุฑุช ูุชูุงู ุฏุฑ ุทูู ุฒูุงู ุจุง <em>streams</em> ฺฉุงุฑ ฺฉูู. ุจุง ุงู ุญุงูุ ุฏุฑ ุงุจุชุฏุง ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุจู ฺูุฏ ูฺฉุชู ุฏฺฏุฑ ุชูุฌู ฺฉูุฏ:</p>
<ul>
<li>
<p>ูุง ุงุฒ ฺฉ <code>Vec</code> ููุฑุงู ุจุง <code>join_all</code> ุงุณุชูุงุฏู ฺฉุฑุฏู ุชุง ููุชุธุฑ ุจูุงูู ุชูุงู futures ุฏุฑ ฺฉ ฺฏุฑูู ุจู ูพุงุงู ุจุฑุณูุฏ. ฺฺฏููู ูโุชูุงูุฏ ุงุฒ ฺฉ <code>Vec</code> ุจุฑุง ูพุฑุฏุงุฒุด ฺฉ ฺฏุฑูู ุงุฒ futures ุจู ุตูุฑุช ูุชูุงู ุงุณุชูุงุฏู ฺฉูุฏุ ูุนุงูุถูโูุง ุงูุฌุงู ุงู ฺฉุงุฑ ฺุณุชุ</p>
</li>
<li>
<p>ุจู ููุน <code>futures::stream::FuturesUnordered</code> ุงุฒ crate <code>futures</code> ูฺฏุงู ุจูุฏุงุฒุฏ. ุงุณุชูุงุฏู ุงุฒ ุขู ฺฺฏููู ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ <code>Vec</code> ูุชูุงูุช ุจุงุดุฏุ (ูฺฏุฑุงู ุงู ูุจุงุดุฏ ฺฉู ุงู ููุน ุงุฒ ุจุฎุด <code>stream</code> crate ุขูุฏู ุงุณุชุ ุจุง ูุฑ ูุฌููุนูโุง ุงุฒ futures ุจู ุฎูุจ ฺฉุงุฑ ูโฺฉูุฏ.)</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="streamูุง-futures-ุจู-ุตูุฑุช-ูุชูุงู"><a class="header" href="#streamูุง-futures-ุจู-ุตูุฑุช-ูุชูุงู">Streamโูุง: Futures ุจู ุตูุฑุช ูุชูุงู</a></h2>
<p>ุชุง ุงูุฌุง ุฏุฑ ุงู ูุตูุ ุจุดุชุฑ ุจู ุขูุฏูโูุง ูุฑุฏ (<em>individual futures</em>) ูพุงุจูุฏ ุจูุฏูโุงู. ฺฉ ุงุณุชุซูุง ุจุฒุฑฺฏ ุงุณุชูุงุฏู ุงุฒ ฺฉุงูุงู async ุจูุฏ. ุจู ุงุฏ ุจุงูุฑุฏ ฺฺฏููู ุฏุฑ ุงุจุชุฏุง ุงู ูุตู ุฏุฑ ุจุฎุด <a href="ch17-02-concurrency-with-async.html#message-passing">โุงุฑุณุงู ูพุงูโ</a><!-- ignore --> ุงุฒ ฺฏุฑูุฏู ฺฉุงูุงู async ุงุณุชูุงุฏู ฺฉุฑุฏู. ูุชุฏ async ุจู ูุงู <code>recv</code> ฺฉ ุฏูุจุงูู ุงุฒ ุขุชูโูุง ุฑุง ุฏุฑ ุทูู ุฒูุงู ุชููุฏ ูโฺฉูุฏ. ุงู ฺฉ ููููู ุงุฒ ฺฉ ุงูฺฏู ฺฉูโุชุฑ ุจู ูุงู <em>stream</em> ุงุณุช.</p>
<p>ูุง ุฏุฑ ูุตู ฑณ ฺฉ ุฏูุจุงูู ุงุฒ ุขุชูโูุง ุฑุง ุฏุฏูุ ุฒูุงู ฺฉู ูฺฺฏ <code>Iterator</code> ุฑุง ุฏุฑ ุจุฎุด <a href="ch13-02-iterators.html#the-iterator-trait-and-the-next-method">ูฺฺฏ Iterator ู ูุชุฏ <code>next</code></a><!-- ignore --> ุจุฑุฑุณ ฺฉุฑุฏูุ ุงูุง ุจู iteratorูุง ู ฺฏุฑูุฏู ฺฉุงูุงู async ุฏู ุชูุงูุช ูุฌูุฏ ุฏุงุฑุฏ. ุชูุงูุช ุงูู ุฏุฑ ุฒูุงู ุงุณุช: iteratorูุง ููุฒูุงู (<em>synchronous</em>) ูุณุชูุฏุ ุฏุฑ ุญุงู ฺฉู ฺฏุฑูุฏู ฺฉุงูุงู async ุงุณุช. ุชูุงูุช ุฏูู ุฏุฑ API ุงุณุช. ููฺฏุงู ฺฉุงุฑ ูุณุชูู ุจุง <code>Iterator</code>ุ ูุง ูุชุฏ ููุฒูุงู <code>next</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู. ุจู ุทูุฑ ุฎุงุตุ ุจุง stream <code>trpl::Receiver</code>ุ ุจู ุฌุง ุขูุ ฺฉ ูุชุฏ async ุจู ูุงู <code>recv</code> ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏู. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุงู APIูุง ุงุญุณุงุณ ุจุณุงุฑ ูุดุงุจู ุฏุงุฑูุฏ ู ุงู ุดุจุงูุช ุชุตุงุฏู ูุณุช. ฺฉ stream ูุงููุฏ ฺฉ ุดฺฉู ูุงููุฒูุงู ุงุฒ iteration ุงุณุช. ุฏุฑ ุญุงู ฺฉู <code>trpl::Receiver</code> ุจู ุทูุฑ ุฎุงุต ููุชุธุฑ ุฏุฑุงูุช ูพุงูโูุง ุงุณุชุ API ุนููู stream ุจุณุงุฑ ฺฏุณุชุฑุฏูโุชุฑ ุงุณุช: ุงู API ุขุชู ุจุนุฏ ุฑุง ููุงูโุทูุฑ ฺฉู <code>Iterator</code> ุงูุฌุงู ูโุฏูุฏ ุงุฑุงุฆู ูโุฏูุฏุ ุงูุง ุจู ุตูุฑุช ูุงููุฒูุงู.</p>
<p>ุดุจุงูุช ุจู iteratorูุง ู streamโูุง ุฏุฑ Rust ุจู ุงู ูุนูุงุณุช ฺฉู ูุง ุฏุฑ ูุงูุน ูโุชูุงูู ุงุฒ ูุฑ iterator ฺฉ stream ุงุฌุงุฏ ฺฉูู. ูุงููุฏ ฺฉ iteratorุ ูโุชูุงูู ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>next</code> ฺฉ stream ฺฉุงุฑ ฺฉูู ู ุณูพุณ ุฎุฑูุฌ ุฑุง ุงูุชุธุงุฑ ุจฺฉุดูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ณฐ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        let iter = values.iter().map(|n| n * 2);
        let mut stream = trpl::stream_from_iter(iter);

        while let Some(value) = stream.next().await {
            println!("The value was: {value}");
        }
<span class="boring">    });
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-30: ุงุฌุงุฏ ฺฉ stream ุงุฒ ฺฉ iterator ู ฺุงูพ ููุงุฏุฑ ุขู</figcaption>
</figure>
<p>ูุง ุจุง ฺฉ ุขุฑุงู ุงุฒ ุงุนุฏุงุฏ ุดุฑูุน ูโฺฉููุ ุขู ุฑุง ุจู ฺฉ iterator ุชุจุฏู ฺฉุฑุฏู ู ุณูพุณ ูุชุฏ <code>map</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ุชูุงู ููุงุฏุฑ ุฑุง ุฏู ุจุฑุงุจุฑ ฺฉูู. ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>trpl::stream_from_iter</code>ุ ุงู iterator ุฑุง ุจู ฺฉ stream ุชุจุฏู ูโฺฉูู. ุฏุฑ ุงุฏุงููุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุญููู <code>while let</code>ุ ุจุฑ ุฑู ุขุชูโูุง ููุฌูุฏ ุฏุฑ stream ฺฉู ุจู ูุฑูุฑ ูโุฑุณูุฏุ ุญููู ูโุฒูู.</p>
<p>ูุชุฃุณูุงููุ ููุช ุณุน ูโฺฉูู ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉููุ ฺฉุงููพุงู ููโุดูุฏ ู ุจู ุฌุง ุขู ฺฏุฒุงุฑุด ูโุฏูุฏ ฺฉู ูุชุฏ <code>next</code> ุฏุฑ ุฏุณุชุฑุณ ูุณุช:</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-30
cargo build
copy only the error output
-->
<pre><code class="language-console">error[E0599]: no method named `next` found for struct `Iter` in the current scope
  --&gt; src/main.rs:10:40
   |
10 |         while let Some(value) = stream.next().await {
   |                                        ^^^^
   |
   = note: the full type name has been written to 'file:///projects/async_await/target/debug/deps/async_await-9de943556a6001b8.long-type-1281356139287206597.txt'
   = note: consider using `--verbose` to print the full type name to the console
   = help: items from traits can only be used if the trait is in scope
help: the following traits which provide `next` are implemented but not in scope; perhaps you want to import one of them
   |
1  + use crate::trpl::StreamExt;
   |
1  + use futures_util::stream::stream::StreamExt;
   |
1  + use std::iter::Iterator;
   |
1  + use std::str::pattern::Searcher;
   |
help: there is a method `try_next` with a similar name
   |
10 |         while let Some(value) = stream.try_next().await {
   |                                        ~~~~~~~~
</code></pre>
<p>ููุงูโุทูุฑ ฺฉู ุงู ุฎุฑูุฌ ุชูุถุญ ูโุฏูุฏุ ุฏูู ุฎุทุง ฺฉุงููพุงูุฑ ุงู ุงุณุช ฺฉู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>next</code> ุจุงุฏ ูฺฺฏ ููุงุณุจ ุฏุฑ ุฏุงููู ุจุงุดุฏ. ุจุง ุชูุฌู ุจู ุจุญุซโูุง ฺฉู ุชุงฺฉููู ุฏุงุดุชูโุงูุ ููฺฉู ุงุณุช ููุทู ุจุงุดุฏ ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชู ุจุงุดุฏ ุงู ูฺฺฏ <code>Stream</code> ุจุงุดุฏุ ุงูุง ุฏุฑ ูุงูุน <code>StreamExt</code> ุงุณุช. <code>Ext</code> ฺฉู ูุฎูู <em>extension</em> ุงุณุชุ ฺฉ ุงูฺฏู ุฑุงุฌ ุฏุฑ ุฌุงูุนู Rust ุจุฑุง ฺฏุณุชุฑุด ฺฉ ูฺฺฏ ุจุง ูฺฺฏ ุฏฺฏุฑ ุงุณุช.</p>
<p>ูุง ุฏุฑ ุงูุชูุง ุงู ูุตู ูฺฺฏโูุง <code>Stream</code> ู <code>StreamExt</code> ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุชูุถุญ ุฎูุงูู ุฏุงุฏุ ุงูุง ูุนูุงู ุชููุง ฺุฒ ฺฉู ุจุงุฏ ุจุฏุงูุฏ ุงู ุงุณุช ฺฉู ูฺฺฏ <code>Stream</code> ฺฉ ุฑุงุจุท ุณุทุญ ูพุงู ุชุนุฑู ูโฺฉูุฏ ฺฉู ุจู ุทูุฑ ูุคุซุฑ ูฺฺฏโูุง <code>Iterator</code> ู <code>Future</code> ุฑุง ุชุฑฺฉุจ ูโฺฉูุฏ. <code>StreamExt</code> ูุฌููุนูโุง ุงุฒ APIูุง ุณุทุญ ุจุงูุงุชุฑ ุฑุง ุฑู <code>Stream</code> ุงุฑุงุฆู ูโุฏูุฏุ ุงุฒ ุฌููู ูุชุฏ <code>next</code> ู ููฺูู ูุชุฏูุง ฺฉุงุฑุจุฑุฏ ุฏฺฏุฑ ูุดุงุจู ุขูฺู ูฺฺฏ <code>Iterator</code> ุงุฑุงุฆู ูโุฏูุฏ. <code>Stream</code> ู <code>StreamExt</code> ูููุฒ ุจุฎุด ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Rust ูุณุชูุฏุ ุงูุง ุจุดุชุฑ crateูุง ุงฺฉูุณุณุชู ุงุฒ ููู ุชุนุฑู ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p>ุจุฑุง ุฑูุน ุฎุทุง ฺฉุงููพุงูุ ุจุงุฏ ฺฉ ุฏุณุชูุฑ <code>use</code> ุจุฑุง <code>trpl::StreamExt</code> ุงุถุงูู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 17-31 ุขูุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>use trpl::StreamExt;

fn main() {
    trpl::run(async {
        let values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        let iter = values.iter().map(|n| n * 2);
        let mut stream = trpl::stream_from_iter(iter);

        while let Some(value) = stream.next().await {
            println!("The value was: {value}");
        }
    });
}</code></pre></pre>
<figcaption>Listing 17-31: ุงุณุชูุงุฏู ูููู ุงุฒ ฺฉ iterator ุจูโุนููุงู ูพุงูโุง ุจุฑุง ฺฉ stream</figcaption>
</figure>
<p>ุจุง ูุฑุงุฑ ุฏุงุฏู ููู ุงู ูุทุนุงุช ุฏุฑ ฺฉูุงุฑ ููุ ุงู ฺฉุฏ ุจู ููุงู ุฑูุด ฺฉู ูโุฎูุงูู ฺฉุงุฑ ูโฺฉูุฏ! ูููโุชุฑ ุงุฒ ูููุ ุงฺฉููู ฺฉู <code>StreamExt</code> ุฏุฑ ุฏุงููู ุฏุงุฑูุ ูโุชูุงูู ุงุฒ ุชูุงู ูุชุฏูุง ฺฉุงุฑุจุฑุฏ ุขู ุงุณุชูุงุฏู ฺฉููุ ุฏุฑุณุช ูุงููุฏ iteratorูุง. ุจุฑุง ูุซุงูุ ุฏุฑ ููุฑุณุช 17-32ุ ุงุฒ ูุชุฏ <code>filter</code> ุจุฑุง ููุชุฑ ฺฉุฑุฏู ููู ฺุฒ ุจู ุฌุฒ ูุถุฑุจโูุง ุณู ู ูพูุฌ ุงุณุชูุงุฏู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>use trpl::StreamExt;

fn main() {
    trpl::run(async {
        let values = 1..101;
        let iter = values.map(|n| n * 2);
        let stream = trpl::stream_from_iter(iter);

        let mut filtered =
            stream.filter(|value| value % 3 == 0 || value % 5 == 0);

        while let Some(value) = filtered.next().await {
            println!("The value was: {value}");
        }
    });
}</code></pre></pre>
<figcaption>Listing 17-32: ููุชุฑ ฺฉุฑุฏู ฺฉ <code>Stream</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>StreamExt::filter</code></figcaption>
</figure>
<p>ุงูุจุชู ุงู ุฎู ุฌุงูุจ ูุณุชุ ฺูู ูโุชูุงูุณุชู ููู ฺฉุงุฑ ุฑุง ุจุง iteratorูุง ูุนููู ู ุจุฏูู ูฺ async ุงูุฌุงู ุฏูู. ุจุงุฏ ุจุจูู ฺู ฺฉุงุฑ ูโุชูุงูู ุงูุฌุงู ุฏูู ฺฉู <em>ููุญุตุฑุจูโูุฑุฏ</em> ุจุฑุง streamโูุง ุจุงุดุฏ.</p>
<h3 id="ุชุฑฺฉุจ-streamูุง"><a class="header" href="#ุชุฑฺฉุจ-streamูุง">ุชุฑฺฉุจ Streamโูุง</a></h3>
<p>ุจุณุงุฑ ุงุฒ ููุงูู ุจู ุทูุฑ ุทุจุน ุจูโุนููุงู streamโูุง ููุงุด ุฏุงุฏู ูโุดููุฏ: ุขุชูโูุง ฺฉู ุฏุฑ ฺฉ ุตู ุฏุฑ ุฏุณุชุฑุณ ูโุดููุฏุ ุจุฎุดโูุง ุงุฒ ุฏุงุฏู ฺฉู ุจู ุตูุฑุช ุชุฏุฑุฌ ุงุฒ ุณุณุชู ูุงู ุฎูุงูุฏู ูโุดููุฏ ููุช ูุฌููุนู ุฏุงุฏู ฺฉุงูู ุจุฑุง ุญุงูุธู ฺฉุงููพูุชุฑ ุจุด ุงุฒ ุญุฏ ุจุฒุฑฺฏ ุงุณุชุ ุง ุฏุงุฏูโูุง ฺฉู ุจู ูุฑูุฑ ุฒูุงู ุงุฒ ุทุฑู ุดุจฺฉู ูโุฑุณูุฏ. ฺูู streamโูุง ูุฒ futures ูุณุชูุฏุ ูโุชูุงูู ุงุฒ ุขูโูุง ุจุง ูุฑ ููุน ุฏฺฏุฑ future ุงุณุชูุงุฏู ฺฉูู ู ุขูโูุง ุฑุง ุจู ุฑูุดโูุง ุฌุงูุจ ุชุฑฺฉุจ ฺฉูู. ุจุฑุง ูุซุงูุ ูโุชูุงูู ุฑูุฏุงุฏูุง ุฑุง ุจู ุตูุฑุช ุฏุณุชูโุง ุฌูุน ฺฉูู ุชุง ุงุฒ ุงุฌุงุฏ ุชุนุฏุงุฏ ุฒุงุฏ ูุฑุงุฎูุงู ุดุจฺฉู ุฌููฺฏุฑ ฺฉููุ ุชุงูโุงูุชโูุง ุฑู ุฏูุจุงููโุง ุงุฒ ุนููุงุชโูุง ุทููุงู ุชูุธู ฺฉููุ ุง ุฑูุฏุงุฏูุง ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุง ฺฉูุชุฑู ฺฉูู ุชุง ุงุฒ ุงูุฌุงู ฺฉุงุฑูุง ุบุฑุถุฑูุฑ ุงุฌุชูุงุจ ฺฉูู.</p>
<p>ุจุงุฏ ุจุง ุณุงุฎุช ฺฉ stream ฺฉูฺฺฉ ุงุฒ ูพุงูโูุง ุดุฑูุน ฺฉูู ฺฉู ุจูโุนููุงู ฺฉ ุฌุงฺฏุฒู ุจุฑุง ฺฉ stream ุงุฒ ุฏุงุฏูโูุง ฺฉู ููฺฉู ุงุณุช ุงุฒ ฺฉ WebSocket ุง ฺฉ ูพุฑูุชฺฉู ุงุฑุชุจุงุท ุจูุงุฏุฑูฺฏ ุฏฺฏุฑ ุจุจููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ณณ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>use trpl::{ReceiverStream, Stream, StreamExt};

fn main() {
    trpl::run(async {
        let mut messages = get_messages();

        while let Some(message) = messages.next().await {
            println!("{message}");
        }
    });
}

fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
    let (tx, rx) = trpl::channel();

    let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
    for message in messages {
        tx.send(format!("Message: '{message}'")).unwrap();
    }

    ReceiverStream::new(rx)
}</code></pre></pre>
<figcaption>Listing 17-33: ุงุณุชูุงุฏู ุงุฒ ฺฏุฑูุฏู <code>rx</code> ุจูโุนููุงู ฺฉ <code>ReceiverStream</code></figcaption>
</figure>
<p>ุงุจุชุฏุง ฺฉ ุชุงุจุน ุจู ูุงู <code>get_messages</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู <code>impl Stream&lt;Item = String&gt;</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุจุฑุง ูพุงุฏูโุณุงุฒ ุขูุ ฺฉ ฺฉุงูุงู async ุงุฌุงุฏ ูโฺฉููุ ุจุฑ ุฑู ฑฐ ุญุฑู ุงูู ุงููุจุง ุงูฺฏูุณ ุญููู ูโุฒููุ ู ุขูโูุง ุฑุง ุงุฒ ุทุฑู ฺฉุงูุงู ุงุฑุณุงู ูโฺฉูู.</p>
<p>ููฺูู ุงุฒ ฺฉ ููุน ุฌุฏุฏ ุจู ูุงู <code>ReceiverStream</code> ุงุณุชูุงุฏู ูโฺฉููุ ฺฉู <code>rx</code> ฺฏุฑูุฏู ุงุฒ <code>trpl::channel</code> ุฑุง ุจู ฺฉ <code>Stream</code> ุจุง ูุชุฏ <code>next</code> ุชุจุฏู ูโฺฉูุฏ. ุฏูุจุงุฑู ุฏุฑ <code>main</code>ุ ุงุฒ ฺฉ ุญููู <code>while let</code> ุจุฑุง ฺุงูพ ุชูุงู ูพุงูโูุง ุงุฒ stream ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ููุช ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฏููุงู ูุชุงุฌ ุฑุง ฺฉู ุงูุชุธุงุฑ ุฏุงุฑู ุฏุฑุงูุช ูโฺฉูู:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the threads running differently rather than
changes in the compiler -->
<pre><code class="language-text">Message: 'a'
Message: 'b'
Message: 'c'
Message: 'd'
Message: 'e'
Message: 'f'
Message: 'g'
Message: 'h'
Message: 'i'
Message: 'j'
</code></pre>
<p>ุฏูุจุงุฑูุ ูโุชูุงูุณุชู ุงู ฺฉุงุฑ ุฑุง ุจุง API ูุนููู <code>Receiver</code> ุง ุญุช API ูุนููู <code>Iterator</code> ุงูุฌุงู ุฏููุ ุงูุง ุจุงุฏ ูฺฺฏโุง ุงุถุงูู ฺฉูู ฺฉู ูุงุฒ ุจู streams ุฏุงุดุชู ุจุงุดุฏ: ุงุถุงูู ฺฉุฑุฏู ฺฉ ุชุงูโุงูุช ฺฉู ุจุฑุง ูุฑ ุขุชู ุฏุฑ stream ุงุนูุงู ุดูุฏุ ู ฺฉ ุชุฃุฎุฑ ุฑู ุขุชูโูุง ฺฉู ุงุฑุณุงู ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ณด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span>use std::{pin::pin, time::Duration};
use trpl::{ReceiverStream, Stream, StreamExt};

fn main() {
    trpl::run(async {
        let mut messages =
            pin!(get_messages().timeout(Duration::from_millis(200)));

        while let Some(result) = messages.next().await {
            match result {
                Ok(message) =&gt; println!("{message}"),
                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
            }
        }
    })
}
<span class="boring">
</span><span class="boring">fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
</span><span class="boring">    for message in messages {
</span><span class="boring">        tx.send(format!("Message: '{message}'")).unwrap();
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-34: ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>StreamExt::timeout</code> ุจุฑุง ุชุนู ฺฉ ูุญุฏูุฏุช ุฒูุงู ุจุฑุง ุขุชูโูุง ููุฌูุฏ ุฏุฑ ฺฉ stream</figcaption>
</figure>
<p>ุงุจุชุฏุง ฺฉ ุชุงูโุงูุช ุจู stream ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>timeout</code> ุงุถุงูู ูโฺฉููุ ฺฉู ุงุฒ ูฺฺฏ <code>StreamExt</code> ูโุขุฏ. ุณูพุณ ุจุฏูู ุญููู <code>while let</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉููุ ุฒุฑุง ุงฺฉููู stream ฺฉ <code>Result</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุญุงูุช <code>Ok</code> ูุดุงูโุฏููุฏู ุงู ุงุณุช ฺฉู ฺฉ ูพุงู ุจูโูููุน ุฑุณุฏู ุงุณุชุ ุญุงูุช <code>Err</code> ูุดุงู ูโุฏูุฏ ฺฉู ุชุงูโุงูุช ูุจู ุงุฒ ุฑุณุฏู ูุฑ ูพุงู ูููุถ ุดุฏู ุงุณุช. ุฑู ุงู ูุชุฌู ฺฉ <code>match</code> ุงูุฌุงู ูโุฏูู ู ุง ูพุงู ุฑุง ููุช ุจุง ููููุช ุฏุฑุงูุช ูโฺฉูู ฺุงูพ ูโฺฉููุ ุง ุงุฎุทุงุฑ ุฏุฑุจุงุฑู ุชุงูโุงูุช ฺุงูพ ูโฺฉูู. ุฏุฑ ููุงุชุ ุชูุฌู ฺฉูุฏ ฺฉู ูพุณ ุงุฒ ุงุนูุงู ุชุงูโุงูุช ุจู ูพุงูโูุงุ ุขูโูุง ุฑุง pin ูโฺฉููุ ุฒุฑุง ุงุจุฒุงุฑ ุชุงูโุงูุช ฺฉ stream ุชููุฏ ูโฺฉูุฏ ฺฉู ุจุงุฏ pin ุดูุฏ ุชุง ุจุชูุงู ุขู ุฑุง poll ฺฉุฑุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ฺูู ุจู ูพุงูโูุง ุชุฃุฎุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ุงู ุชุงูโุงูุช ุฑูุชุงุฑ ุจุฑูุงูู ุฑุง ุชุบุฑ ููโุฏูุฏ. ุจุงุฏ ฺฉ ุชุฃุฎุฑ ูุชุบุฑ ุจู ูพุงูโูุง ฺฉู ุงุฑุณุงู ูโฺฉูู ุงุถุงูู ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ณต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let mut messages =
</span><span class="boring">            pin!(get_messages().timeout(Duration::from_millis(200)));
</span><span class="boring">
</span><span class="boring">        while let Some(result) = messages.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(message) =&gt; println!("{message}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    })
</span><span class="boring">}
</span><span class="boring">
</span>fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
    let (tx, rx) = trpl::channel();

    trpl::spawn_task(async move {
        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
        for (index, message) in messages.into_iter().enumerate() {
            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
            trpl::sleep(Duration::from_millis(time_to_sleep)).await;

            tx.send(format!("Message: '{message}'")).unwrap();
        }
    });

    ReceiverStream::new(rx)
}</code></pre></pre>
<figcaption>Listing 17-35: ุงุฑุณุงู ูพุงูโูุง ุงุฒ ุทุฑู <code>tx</code> ุจุง ฺฉ ุชุฃุฎุฑ async ุจุฏูู ุชุจุฏู <code>get_messages</code> ุจู ฺฉ ุชุงุจุน async</figcaption>
</figure>
<p>ุจุฑุง ุฎูุงุจุฏู ุจู ูพุงูโูุง ุฏุฑ ุชุงุจุน <code>get_messages</code> ุจุฏูู ูุณุฏูุฏ ฺฉุฑุฏูุ ุจุงุฏ ุงุฒ async ุงุณุชูุงุฏู ฺฉูู. ุจุง ุงู ุญุงูุ ููโุชูุงูู ุฎูุฏ <code>get_messages</code> ุฑุง ุจู ฺฉ ุชุงุจุน async ุชุจุฏู ฺฉููุ ุฒุฑุง ุฏุฑ ุงู ุตูุฑุช ฺฉ <code>Future&lt;Output = Stream&lt;Item = String&gt;&gt;</code> ุจู ุฌุง ฺฉ <code>Stream&lt;Item = String&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ฺฉุงุฑุจุฑ ุจุงุฏ ุฎูุฏ <code>get_messages</code> ุฑุง ููุชุธุฑ ุจูุงูุฏ ุชุง ุจู stream ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ. ุงูุง ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ: ูุฑ ฺุฒ ุฏุฑ ฺฉ ุขูุฏู ูุดุฎุต ุจูโุตูุฑุช ุฎุท ุงุชูุงู ูโุงูุชุฏุ ููุฒูุงู <em>ุจู</em> ุขูุฏูโูุง ุงุชูุงู ูโุงูุชุฏ. ุงูุชุธุงุฑ ุจุฑุง <code>get_messages</code> ูุงุฒ ุฏุงุฑุฏ ฺฉู ุชูุงู ูพุงูโูุง ุฑุง ุงุฑุณุงู ฺฉูุฏุ ุงุฒ ุฌููู ุฎูุงุจุฏู ุจู ุงุฑุณุงู ูุฑ ูพุงูุ ูุจู ุงุฒ ุจุงุฒฺฏุฑุฏุงูุฏู stream ฺฏุฑูุฏู. ุฏุฑ ูุชุฌูุ ุฒูุงู ูุญุฏูุฏ ุจโูุงุฏู ูโุดูุฏ. ูฺ ุชุฃุฎุฑ ุฏุฑ ุฎูุฏ stream ูุฌูุฏ ูุฎูุงูุฏ ุฏุงุดุช: ุชูุงู ุชุฃุฎุฑูุง ูุจู ุงุฒ ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ฺฏุฑูุชู stream ุงุชูุงู ูโุงูุชุฏ.</p>
<p>ุฏุฑ ุนูุถุ <code>get_messages</code> ุฑุง ุจูโุนููุงู ฺฉ ุชุงุจุน ูุนููู ฺฉู ฺฉ stream ุจุงุฒูโฺฏุฑุฏุงูุฏ ุจุงู ูโฺฏุฐุงุฑู ู ฺฉ ุชุณฺฉ ุจุฑุง ูุฏุฑุช ูุฑุงุฎูุงูโูุง async <code>sleep</code> ุงุฌุงุฏ ูโฺฉูู.</p>
<blockquote>
<p>ูฺฉุชู: ูุฑุงุฎูุงู <code>spawn_task</code> ุจู ุงู ุฑูุด ฺฉุงุฑ ูโฺฉูุฏ ุฒุฑุง ูุง ุงุฒ ูุจู runtime ุฎูุฏ ุฑุง ุชูุธู ฺฉุฑุฏูโุงู. ูุฑุงุฎูุงู ุงู ูพุงุฏูโุณุงุฒ ุฎุงุต ุงุฒ <code>spawn_task</code> <em>ุจุฏูู</em> ุชูุธู ุงููู ฺฉ runtime ุจุงุนุซ panic ูโุดูุฏ. ูพุงุฏูโุณุงุฒโูุง ุฏฺฏุฑ ูุนุงููุงุช ูุชูุงูุช ุงูุชุฎุงุจ ูโฺฉููุฏ: ููฺฉู ุงุณุช ฺฉ runtime ุฌุฏุฏ ุงุฌุงุฏ ฺฉููุฏ ู ุจูุงุจุฑุงู ุงุฒ panic ุงุฌุชูุงุจ ฺฉููุฏุ ุงูุง ุจุง ฺฉู ุณุฑุจุงุฑ ุงุถุงู ููุงุฌู ุดููุฏุ ุง ุจู ุณุงุฏฺฏ ุฑุงู ูุณุชูู ุจุฑุง ุงุฌุงุฏ ุชุณฺฉโูุง ุจุฏูู ุงุฑุฌุงุน ุจู ฺฉ runtime ุงุฑุงุฆู ูุฏููุฏ. ุจุงุฏ ูุทูุฆู ุดูุฏ ฺฉู ูโุฏุงูุฏ runtime ุดูุง ฺู ูุนุงูููโุง ุงูุชุฎุงุจ ฺฉุฑุฏู ุงุณุช ู ฺฉุฏ ุฎูุฏ ุฑุง ุจุฑ ุงู ุงุณุงุณ ุจููุณุฏ!</p>
</blockquote>
<p>ุงฺฉููู ฺฉุฏ ูุง ูุชุฌู ุจุณุงุฑ ุฌุงูุจโุชุฑ ุฏุงุฑุฏ! ุจู ูุฑ ุฌูุช ูพุงูุ ฺฉ ุฎุทุง ฺฏุฒุงุฑุด ูโุดูุฏ: <code>Problem: Elapsed(())</code>.</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-35
cargo run
copy only the program output, *not* the compiler output
-->
<pre><code class="language-text">Message: 'a'
Problem: Elapsed(())
Message: 'b'
Message: 'c'
Problem: Elapsed(())
Message: 'd'
Message: 'e'
Problem: Elapsed(())
Message: 'f'
Message: 'g'
Problem: Elapsed(())
Message: 'h'
Message: 'i'
Problem: Elapsed(())
Message: 'j'
</code></pre>
<p>ุชุงูโุงูุช ุงุฒ ุฑุณุฏู ูพุงูโูุง ุฏุฑ ููุงุช ุฌููฺฏุฑ ููโฺฉูุฏ. ูุง ููฺูุงู ุชูุงู ูพุงูโูุง ุงุตู ุฑุง ุฏุฑุงูุช ูโฺฉููุ ุฒุฑุง ฺฉุงูุงู ูุง <em>ุจุฏูู ูุญุฏูุฏุช</em> ุงุณุช: ูโุชูุงูุฏ ุจู ุงูุฏุงุฒูโุง ฺฉู ุฏุฑ ุญุงูุธู ุฌุง ุดูุฏ ูพุงูโูุง ุฑุง ูฺฏู ุฏุงุฑุฏ. ุงฺฏุฑ ูพุงู ูุจู ุงุฒ ุชุงูโุงูุช ูุฑุณุฏุ handler stream ูุง ุขู ุฑุง ูุฏุฑุช ูโฺฉูุฏุ ุงูุง ููุช ุฏูุจุงุฑู stream ุฑุง poll ฺฉูุฏุ ููฺฉู ุงุณุช ูพุงู ุงฺฉููู ุฑุณุฏู ุจุงุดุฏ.</p>
<p>ุงฺฏุฑ ุจู ุฑูุชุงุฑ ูุชูุงูุช ูุงุฒ ุฏุงุฑุฏุ ูโุชูุงูุฏ ุงุฒ ุงููุงุน ุฏฺฏุฑ ฺฉุงูุงูโูุง ุง ุจู ุทูุฑ ฺฉู ุงููุงุน ุฏฺฏุฑ streamูุง ุงุณุชูุงุฏู ฺฉูุฏ. ุจุงุฏ ฺฉ ุงุฒ ุงู ููุงุฑุฏ ุฑุง ุฏุฑ ุนูู ุจุจููุ ุจุง ุชุฑฺฉุจ ฺฉ stream ุงุฒ ููุงุตู ุฒูุงู ุจุง ุงู stream ุงุฒ ูพุงูโูุง.</p>
<h3 id="ุชุฑฺฉุจ-streamูุง-1"><a class="header" href="#ุชุฑฺฉุจ-streamูุง-1">ุชุฑฺฉุจ Streamูุง</a></h3>
<p>ุงุจุชุฏุงุ ฺฉ stream ุฏฺฏุฑ ุงุฌุงุฏ ูโฺฉูู ฺฉู ุงฺฏุฑ ุจู ุทูุฑ ูุณุชูู ุงุฌุฑุง ุดูุฏุ ูุฑ ููโุซุงูู ฺฉ ุขุชู ุงุฑุณุงู ูโฺฉูุฏ. ุจุฑุง ุณุงุฏฺฏุ ูโุชูุงูู ุงุฒ ุชุงุจุน <code>sleep</code> ุจุฑุง ุงุฑุณุงู ฺฉ ูพุงู ุจุง ุชุฃุฎุฑ ุงุณุชูุงุฏู ฺฉูู ู ุขู ุฑุง ุจุง ููุงู ุฑูุด ฺฉู ุฏุฑ <code>get_messages</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงุฌุงุฏ ฺฉ stream ุงุฒ ฺฉ ฺฉุงูุงูโุชุฑฺฉุจ ฺฉูู. ุชูุงูุช ุงู ุงุณุช ฺฉู ุงู ุจุงุฑุ ูโุฎูุงูู ุชุนุฏุงุฏ ููุงุตู ุฒูุงู ฺฉู ฺฏุฐุดุชูโุงูุฏ ุฑุง ุจุงุฒฺฏุฑุฏุงููุ ุจูุงุจุฑุงู ููุน ุจุงุฒฺฏุดุช <code>impl Stream&lt;Item = u32&gt;</code> ุฎูุงูุฏ ุจูุฏุ ู ูโุชูุงูู ุชุงุจุน ุฑุง <code>get_intervals</code> ุจูุงูู (ูฺฏุงู ฺฉูุฏ ุจู ูุณุช ฑท-ณถ).</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let mut messages =
</span><span class="boring">            pin!(get_messages().timeout(Duration::from_millis(200)));
</span><span class="boring">
</span><span class="boring">        while let Some(result) = messages.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(message) =&gt; println!("{message}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    })
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
</span><span class="boring">        for (index, message) in messages.into_iter().enumerate() {
</span><span class="boring">            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
</span><span class="boring">            trpl::sleep(Duration::from_millis(time_to_sleep)).await;
</span><span class="boring">
</span><span class="boring">            tx.send(format!("Message: '{message}'")).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}
</span><span class="boring">
</span>fn get_intervals() -&gt; impl Stream&lt;Item = u32&gt; {
    let (tx, rx) = trpl::channel();

    trpl::spawn_task(async move {
        let mut count = 0;
        loop {
            trpl::sleep(Duration::from_millis(1)).await;
            count += 1;
            tx.send(count).unwrap();
        }
    });

    ReceiverStream::new(rx)
}</code></pre></pre>
<figcaption>Listing 17-36: ุงุฌุงุฏ ฺฉ stream ุจุง ฺฉ ุดูุงุฑูุฏู ฺฉู ูุฑ ููโุซุงูู ฺฉ ุจุงุฑ ุงุฑุณุงู ูโุดูุฏ</figcaption>
</figure>
<p>ุงุจุชุฏุง ฺฉ ูุชุบุฑ <code>count</code> ุฑุง ุฏุฑูู task ุชุนุฑู ูโฺฉูู. (ูโุชูุงูุณุชู ุขู ุฑุง ุฎุงุฑุฌ ุงุฒ task ูุฒ ุชุนุฑู ฺฉููุ ุงูุง ูุญุฏูุฏ ฺฉุฑุฏู ุฏุงููู ูุฑ ูุชุบุฑ ุฏุงุฏูโุดุฏู ูุงุถุญโุชุฑ ุงุณุช.) ุณูพุณ ฺฉ ุญููู ุจโููุงุช ุงุฌุงุฏ ูโฺฉูู. ุฏุฑ ูุฑ ุชฺฉุฑุงุฑ ุญูููุ ุจู ุตูุฑุช ูุงููุฒูุงู ุจู ูุฏุช ฺฉ ููโุซุงูู ูโุฎูุงุจุฏุ ููุฏุงุฑ <code>count</code> ุฑุง ุงูุฒุงุด ูโุฏูุฏ ู ุณูพุณ ุขู ุฑุง ุงุฒ ุทุฑู ฺฉุงูุงู ุงุฑุณุงู ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ููู ุงูโูุง ุฏุฑูู task ฺฉู ุชูุณุท <code>spawn_task</code> ุงุฌุงุฏ ุดุฏู ุงุณุช ูุฑุงุฑ ุฏุงุฑุฏุ ููู ุขูโุงุฒ ุฌููู ุญููู ุจโููุงุชโููุฑุงู ุจุง runtime ูพุงฺฉโุณุงุฒ ูโุดูุฏ.</p>
<p>ุงู ููุน ุญููู ุจโููุงุชุ ฺฉู ุชููุง ุฒูุงู ุจู ูพุงุงู ูโุฑุณุฏ ฺฉู ฺฉู runtime ุงุฒ ุจู ุจุฑูุฏุ ุฏุฑ async Rust ูุณุจุชุงู ุฑุงุฌ ุงุณุช: ุจุณุงุฑ ุงุฒ ุจุฑูุงููโูุง ูุงุฒ ุฏุงุฑูุฏ ฺฉู ุจู ุทูุฑ ูุงูุญุฏูุฏ ุงุฌุฑุง ุดููุฏ. ุจุง asyncุ ุงู ฺฉุงุฑ ฺุฒ ุฏฺฏุฑ ุฑุง ูุณุฏูุฏ ููโฺฉูุฏุ ุชุง ุฒูุงู ฺฉู ุญุฏุงูู ฺฉ ููุทู ุงูุชุธุงุฑ (<em>await point</em>) ุฏุฑ ูุฑ ุชฺฉุฑุงุฑ ุงุฒ ุญููู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุญุงูุงุ ุฏุฑูู ุจููฺฉ async ุชุงุจุน ุงุตู ูุงุ ูโุชูุงูู ุชูุงุด ฺฉูู ฺฉู streamูุง <code>messages</code> ู <code>intervals</code> ุฑุง ุจุง ูู ุชุฑฺฉุจ ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฑท-ณท ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let messages = get_messages().timeout(Duration::from_millis(200));
        let intervals = get_intervals();
        let merged = messages.merge(intervals);
<span class="boring">
</span><span class="boring">        while let Some(result) = merged.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(message) =&gt; println!("{message}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    })
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
</span><span class="boring">        for (index, message) in messages.into_iter().enumerate() {
</span><span class="boring">            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
</span><span class="boring">            trpl::sleep(Duration::from_millis(time_to_sleep)).await;
</span><span class="boring">
</span><span class="boring">            tx.send(format!("Message: '{message}'")).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_intervals() -&gt; impl Stream&lt;Item = u32&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let mut count = 0;
</span><span class="boring">        loop {
</span><span class="boring">            trpl::sleep(Duration::from_millis(1)).await;
</span><span class="boring">            count += 1;
</span><span class="boring">            tx.send(count).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-37: ุชูุงุด ุจุฑุง ุชุฑฺฉุจ streamูุง <code>messages</code> ู <code>intervals</code></figcaption>
</figure>
<p>ุงุจุชุฏุง <code>get_intervals</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู. ุณูพุณ streamูุง <code>messages</code> ู <code>intervals</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>merge</code> ุชุฑฺฉุจ ูโฺฉูู. ุงู ูุชุฏ ฺูุฏู stream ุฑุง ุจู ฺฉ stream ุชุฑฺฉุจ ูโฺฉูุฏ ฺฉู ุขุชูโูุง ุฑุง ุงุฒ ูุฑ ฺฉ ุงุฒ streamูุง ููุจุนุ ุจู ูุญุถ ุฏุฑ ุฏุณุชุฑุณ ุจูุฏูุ ุชููุฏ ูโฺฉูุฏุ ุจุฏูู ุงูฺฉู ุชุฑุชุจ ุฎุงุต ุฑุง ุงุนูุงู ฺฉูุฏ. ุฏุฑ ููุงุชุ ุจู ุฌุง ุงูฺฉู ุฑู <code>messages</code> ุญููู ุจุฒููุ ุฑู ุงู stream ุชุฑฺฉุจ ุญููู ูโุฒูู.</p>
<p>ุฏุฑ ุงู ูุฑุญููุ ูู <code>messages</code> ู ูู <code>intervals</code> ูุงุฒ ุจู pin ุง mutable ุจูุฏู ูุฏุงุฑูุฏุ ุฒุฑุง ูุฑ ุฏู ุฏุฑ ฺฉ stream ูุงุญุฏ ุจู ูุงู <code>merged</code> ุชุฑฺฉุจ ูโุดููุฏ. ุจุง ุงู ุญุงูุ ุงู ูุฑุงุฎูุงู ุจู <code>merge</code> ฺฉุงููพุงู ููโุดูุฏ! (ูุฑุงุฎูุงู <code>next</code> ุฏุฑ ุญููู <code>while let</code> ูู ฺฉุงููพุงู ููโุดูุฏุ ุงูุง ุจู ุขู ุจุฑูโฺฏุฑุฏู.) ุฏูู ุขู ุงู ุงุณุช ฺฉู ุงู ุฏู stream ุงููุงุน ูุฎุชูู ุฏุงุฑูุฏ. stream <code>messages</code> ููุน <code>Timeout&lt;impl Stream&lt;Item = String&gt;&gt;</code> ุฏุงุฑุฏุ ุฌุง ฺฉู <code>Timeout</code> ููุน ุงุณุช ฺฉู ูฺฺฏ <code>Stream</code> ุฑุง ุจุฑุง ูุฑุงุฎูุงู <code>timeout</code> ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. stream <code>intervals</code> ููุน <code>impl Stream&lt;Item = u32&gt;</code> ุฏุงุฑุฏ. ุจุฑุง ุชุฑฺฉุจ ุงู ุฏู streamุ ุจุงุฏ ฺฉ ุงุฒ ุขูโูุง ุฑุง ุจู ููุน ุฏฺฏุฑ ุชุจุฏู ฺฉูู. ูุง stream <code>intervals</code> ุฑุง ุจุงุฒุจู ูโฺฉููุ ุฒุฑุง <code>messages</code> ูุจูุงู ุฏุฑ ูุงูุจ ุงุตู ููุฑุฏ ูุธุฑ ูุง ุงุณุช ู ุจุงุฏ ุฎุทุงูุง timeout ุฑุง ูุฏุฑุช ฺฉูุฏ (ูฺฏุงู ฺฉูุฏ ุจู ูุณุช ฑท-ณธ).</p>
<!-- We cannot directly test this one, because it never stops. -->
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let messages = get_messages().timeout(Duration::from_millis(200));
        let intervals = get_intervals()
            .map(|count| format!("Interval: {count}"))
            .timeout(Duration::from_secs(10));
        let merged = messages.merge(intervals);
        let mut stream = pin!(merged);
<span class="boring">
</span><span class="boring">        while let Some(result) = stream.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(message) =&gt; println!("{message}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    })
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
</span><span class="boring">        for (index, message) in messages.into_iter().enumerate() {
</span><span class="boring">            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
</span><span class="boring">            trpl::sleep(Duration::from_millis(time_to_sleep)).await;
</span><span class="boring">
</span><span class="boring">            tx.send(format!("Message: '{message}'")).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_intervals() -&gt; impl Stream&lt;Item = u32&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let mut count = 0;
</span><span class="boring">        loop {
</span><span class="boring">            trpl::sleep(Duration::from_millis(1)).await;
</span><span class="boring">            count += 1;
</span><span class="boring">            tx.send(count).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 17-38: ููุงููฺฏ ฺฉุฑุฏู ููุนโูุง stream <code>intervals</code> ุจุง ููุน stream <code>messages</code></figcaption>
</figure>
<p>ุงุจุชุฏุง ูโุชูุงูู ุงุฒ ูุชุฏ ฺฉูฺฉ <code>map</code> ุจุฑุง ุชุจุฏู <code>intervals</code> ุจู ฺฉ ุฑุดุชู ุงุณุชูุงุฏู ฺฉูู. ุฏููุ ูุงุฒ ุฏุงุฑู ฺฉู <code>Timeout</code> ุงุฒ <code>messages</code> ุฑุง ูุฏุฑุช ฺฉูู. ุจุง ุงู ุญุงูุ ฺูู ูุงูุนุงู <em>ููโุฎูุงูู</em> ุชุงูโุงูุช ุจุฑุง <code>intervals</code> ุฏุงุดุชู ุจุงุดูุ ูโุชูุงูู ฺฉ ุชุงูโุงูุช ุงุฌุงุฏ ฺฉูู ฺฉู ุทููุงูโุชุฑ ุงุฒ ูุฏุชโูุง ุฏฺฏุฑ ููุฑุฏ ุงุณุชูุงุฏู ูุง ุจุงุดุฏ. ุฏุฑ ุงูุฌุงุ ฺฉ ุชุงูโุงูุช ฑฐ ุซุงููโุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Duration::from_secs(10)</code> ุงุฌุงุฏ ูโฺฉูู. ุฏุฑ ููุงุชุ ูุงุฒ ุฏุงุฑู ฺฉู <code>stream</code> ุฑุง ูุชุบุฑ (<code>mutable</code>) ฺฉูู ุชุง ูุฑุงุฎูุงูโูุง <code>next</code> ุฏุฑ ุญููู <code>while let</code> ุจุชูุงููุฏ ุฑู stream ุชฺฉุฑุงุฑ ฺฉููุฏ ู ุขู ุฑุง pin ฺฉูู ุชุง ุงู ฺฉุงุฑ ุงูู ุจุงุดุฏ. ุงู ูุง ุฑุง <em>ุชูุฑุจุงู</em> ุจู ุฌุง ฺฉู ุจุงุฏ ุจุฑุณู ูโุฑุณุงูุฏ. ููู ฺุฒ ุงุฒ ูุธุฑ ููุน ุจุฑุฑุณ ูโุดูุฏ. ุงูุง ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุฏู ูุดฺฉู ูุฌูุฏ ุฎูุงูุฏ ุฏุงุดุช. ุงููุ ูฺโฺฏุงู ูุชููู ููโุดูุฏ! ุจุงุฏ ุจุง ุฒุฏู <span class="keystroke">ctrl-c</span> ุขู ุฑุง ูุชููู ฺฉูุฏ. ุฏููุ ูพุงูโูุง ุงููุจุง ุงูฺฏูุณ ุฏุฑ ูุงู ุชูุงู ูพุงูโูุง ุดูุงุฑูุฏู interval ุฏูู ุฎูุงููุฏ ุดุฏ:</p>
<!-- Not extracting output because changes to this output aren't significant;
the changes are likely to be due to the tasks running differently rather than
changes in the compiler -->
<pre><code class="language-text">--snip--
Interval: 38
Interval: 39
Interval: 40
Message: 'a'
Interval: 41
Interval: 42
Interval: 43
--snip--
</code></pre>
<p>ูุณุช ฑท-ณน ฺฉ ุฑูุด ุจุฑุง ุญู ุงู ุฏู ูุดฺฉู ุขุฎุฑ ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span>        let messages = get_messages().timeout(Duration::from_millis(200));
        let intervals = get_intervals()
            .map(|count| format!("Interval: {count}"))
            .throttle(Duration::from_millis(100))
            .timeout(Duration::from_secs(10));
        let merged = messages.merge(intervals).take(20);
        let mut stream = pin!(merged);
<span class="boring">
</span><span class="boring">        while let Some(result) = stream.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(message) =&gt; println!("{message}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    })
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
</span><span class="boring">        for (index, message) in messages.into_iter().enumerate() {
</span><span class="boring">            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
</span><span class="boring">            trpl::sleep(Duration::from_millis(time_to_sleep)).await;
</span><span class="boring">
</span><span class="boring">            tx.send(format!("Message: '{message}'")).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_intervals() -&gt; impl Stream&lt;Item = u32&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let mut count = 0;
</span><span class="boring">        loop {
</span><span class="boring">            trpl::sleep(Duration::from_millis(1)).await;
</span><span class="boring">            count += 1;
</span><span class="boring">            tx.send(count).unwrap();
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 17-39: ุงุณุชูุงุฏู ุงุฒ <code>throttle</code> ู <code>take</code> ุจุฑุง ูุฏุฑุช streams ุชุฑฺฉุจโุดุฏู</figcaption>
</figure>
<p>ุงุจุชุฏุง ุงุฒ ูุชุฏ <code>throttle</code> ุฑู stream <code>intervals</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุงู stream ุจุงุนุซ ุบุฑู ุดุฏู stream <code>messages</code> ูุดูุฏ. <em>Throttling</em> ุฑูุด ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ูุฑุฎ ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ุงุณุชโุง ุฏุฑ ุงู ููุฑุฏุ ูุญุฏูุฏ ฺฉุฑุฏู ูุฑุฎ poll ฺฉุฑุฏู ฺฉ stream. ฺฉ ุจุงุฑ ุฏุฑ ูุฑ ฑฐฐ ููโุซุงูู ฺฉุงู ุฎูุงูุฏ ุจูุฏุ ุฒุฑุง ุชูุฑุจุงู ุจู ููุงู ุงูุฏุงุฒู ูพุงูโูุง ูุง ูโุฑุณูุฏ.</p>
<p>ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุชุนุฏุงุฏ ุขุชูโูุง ฺฉู ุงุฒ ฺฉ stream ูุจูู ูโฺฉููุ ูุชุฏ <code>take</code> ุฑุง ุฑู stream <code>merged</code> ุงุนูุงู ูโฺฉููุ ุฒุฑุง ูโุฎูุงูู ุฎุฑูุฌ ููุง ุฑุง ูุญุฏูุฏ ฺฉููุ ูู ููุท ฺฉ ุงุฒ streamูุง ุฑุง.</p>
<p>ุงฺฉููู ููุช ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉููุ ูพุณ ุงุฒ ุฏุฑุงูุช ฒฐ ุขุชู ุงุฒ stream ูุชููู ูโุดูุฏ ู intervals ุจุงุนุซ ุบุฑู ุดุฏู messages ููโุดูุฏ. ููฺููุ ูุง ุฏฺฏุฑ <code>Interval: 100</code> ุง <code>Interval: 200</code> ู ููุงุฑุฏ ูุดุงุจู ุฑุง ููโุจููุ ุจูฺฉู ุจู ุฌุง ุขู <code>Interval: 1</code>ุ <code>Interval: 2</code> ู ุจู ููู ุชุฑุชุจ ุฏุฑุงูุช ูโฺฉููโุญุช ุงฺฏุฑ ฺฉ stream ููุจุน ุฏุงุฑู ฺฉู <em>ูโุชูุงูุฏ</em> ูุฑ ููโุซุงูู ฺฉ ุฑูุฏุงุฏ ุชููุฏ ฺฉูุฏ. ุฏูู ุงู ุงุณุช ฺฉู ูุฑุงุฎูุงู <code>throttle</code> ฺฉ stream ุฌุฏุฏ ุชููุฏ ูโฺฉูุฏ ฺฉู stream ุงุตู ุฑุง ุจุณุชูโุจูุฏ ูโฺฉูุฏ ุชุง stream ุงุตู ููุท ุจุง ูุฑุฎ throttle ู ูู ุจุง ูุฑุฎ โุฐุงุชโ ุฎูุฏ poll ุดูุฏ. ูุง ฺฉ ุณุฑ ูพุงู interval ุบุฑูุงุจู ูพุฑุฏุงุฒุด ูุฏุงุฑู ฺฉู ุงูุชุฎุงุจ ฺฉุฑุฏู ุจุงุดู ุขูโูุง ุฑุง ูุงุฏุฏู ุจฺฏุฑู. ุจูฺฉูุ ูุง ูุฑฺฏุฒ ุขู ูพุงูโูุง interval ุฑุง ุฏุฑ ูููู ุงูู ุชููุฏ ููโฺฉูู! ุงู ููุงู โุชูุจูโ ุฐุงุช futures ุฏุฑ Rust ุงุณุช ฺฉู ุฏูุจุงุฑู ุจู ฺฉุงุฑ ฺฏุฑูุชู ูโุดูุฏ ู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ูฺฺฏโูุง ุนููฺฉุฑุฏ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูู.</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-39
cargo run
copy and paste only the program output
-->
<pre><code class="language-text">Interval: 1
Message: 'a'
Interval: 2
Interval: 3
Problem: Elapsed(())
Interval: 4
Message: 'b'
Interval: 5
Message: 'c'
Interval: 6
Interval: 7
Problem: Elapsed(())
Interval: 8
Message: 'd'
Interval: 9
Message: 'e'
Interval: 10
Interval: 11
Problem: Elapsed(())
Interval: 12
</code></pre>
<p>ุชููุง ฺฉ ููุฑุฏ ุจุงู ูุงูุฏู ฺฉู ุจุงุฏ ูุฏุฑุช ฺฉูู: ุฎุทุงูุง! ุจุง ูุฑ ุฏู stream ูุจุชู ุจุฑ ฺฉุงูุงูุ ูุฑุงุฎูุงูโูุง <code>send</code> ููฺฉู ุงุณุช ุฏุฑ ุตูุฑุช ฺฉู ุทุฑู ุฏฺฏุฑ ฺฉุงูุงู ุจุณุชู ุดูุฏุ ุจุง ุดฺฉุณุช ููุงุฌู ุดููุฏโู ุงู ุจู ูุญูู ุงุฌุฑุง runtime ุจุฑุง futures ฺฉู stream ุฑุง ุชุดฺฉู ูโุฏููุฏ ุจุณุชฺฏ ุฏุงุฑุฏ. ุชุงฺฉููู ุงู ุงุญุชูุงู ุฑุง ุจุง ูุฑุงุฎูุงู <code>unwrap</code> ูุงุฏุฏู ฺฏุฑูุชูโุงูุ ุงูุง ุฏุฑ ฺฉ ุจุฑูุงูู ุจุง ุฑูุชุงุฑ ููุงุณุจุ ุจุงุฏ ุจูโุทูุฑ ุตุฑุญ ุฎุทุง ุฑุง ูุฏุฑุช ฺฉููุ ุญุฏุงูู ุจุง ูพุงุงู ุฏุงุฏู ุจู ุญููู ุชุง ุฏฺฏุฑ ูพุงู ุงุฑุณุงู ูฺฉูู. ูุณุช ฑท-ดฐ ฺฉ ุงุณุชุฑุงุชฺ ุณุงุฏู ุจุฑุง ูุฏุฑุช ุฎุทุง ุฑุง ูุดุงู ูโุฏูุฏ: ฺุงูพ ูุดฺฉู ู ุณูพุณ <code>break</code> ุงุฒ ุญูููโูุง.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let messages = get_messages().timeout(Duration::from_millis(200));
</span><span class="boring">        let intervals = get_intervals()
</span><span class="boring">            .map(|count| format!("Interval #{count}"))
</span><span class="boring">            .throttle(Duration::from_millis(500))
</span><span class="boring">            .timeout(Duration::from_secs(10));
</span><span class="boring">        let merged = messages.merge(intervals).take(20);
</span><span class="boring">        let mut stream = pin!(merged);
</span><span class="boring">
</span><span class="boring">        while let Some(result) = stream.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(item) =&gt; println!("{item}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span>fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
    let (tx, rx) = trpl::channel();

    trpl::spawn_task(async move {
        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];

        for (index, message) in messages.into_iter().enumerate() {
            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
            trpl::sleep(Duration::from_millis(time_to_sleep)).await;

            if let Err(send_error) = tx.send(format!("Message: '{message}'")) {
                eprintln!("Cannot send message '{message}': {send_error}");
                break;
            }
        }
    });

    ReceiverStream::new(rx)
}

fn get_intervals() -&gt; impl Stream&lt;Item = u32&gt; {
    let (tx, rx) = trpl::channel();

    trpl::spawn_task(async move {
        let mut count = 0;
        loop {
            trpl::sleep(Duration::from_millis(1)).await;
            count += 1;

            if let Err(send_error) = tx.send(count) {
                eprintln!("Could not send interval {count}: {send_error}");
                break;
            };
        }
    });

    ReceiverStream::new(rx)
}</code></pre></pre>
<figcaption>Listing 17-40: ูุฏุฑุช ุฎุทุงูุง ู ุฎุงุชูู ุฏุงุฏู ุจู ุญูููโูุง</figcaption>
</figure>
<p>ููุงูโุทูุฑ ฺฉู ูุนููู ุงุณุชุ ุฑูุด ุฏุฑุณุช ุจุฑุง ูุฏุฑุช ฺฉ ุฎุทุง ุงุฑุณุงู ูพุงู ูโุชูุงูุฏ ูุชูุงูุช ุจุงุดุฏุ ููุท ูุทูุฆู ุดูุฏ ฺฉู ฺฉ ุงุณุชุฑุงุชฺ ุฏุงุฑุฏ.</p>
<p>ุงฺฉููู ฺฉู ููุฏุงุฑ ุฒุงุฏ ุงุฒ ฺฉุฏ async ุฑุง ุฏุฑ ุนูู ูุดุงูุฏู ฺฉุฑุฏูุ ุจุงุฏ ฺฉู ุจู ุนูุจ ุจุฑฺฏุฑุฏู ู ุจู ุฌุฒุฆุงุช ูุญูู ฺฉุงุฑฺฉุฑุฏ <code>Future</code>ุ <code>Stream</code> ู ูฺฺฏโูุง ฺฉูุฏ ุฏฺฏุฑ ฺฉู Rust ุจุฑุง ุงุฌุฑุง async ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจูพุฑุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุจุฑุฑุณ-ุฏููุชุฑ-ูฺฺฏูุง-ุจุฑุง-async"><a class="header" href="#ุจุฑุฑุณ-ุฏููุชุฑ-ูฺฺฏูุง-ุจุฑุง-async">ุจุฑุฑุณ ุฏููโุชุฑ ูฺฺฏโูุง ุจุฑุง Async</a></h2>
<p>ุฏุฑ ุทูู ุงู ูุตูุ ุงุฒ ูฺฺฏโูุง <code>Future</code>ุ <code>Pin</code>ุ <code>Unpin</code>ุ <code>Stream</code>ุ ู <code>StreamExt</code> ุจู ุฑูุดโูุง ูุฎุชูู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุชุงฺฉูููุ ุงุฒ ูุฑูุฏ ุจุด ุงุฒ ุญุฏ ุจู ุฌุฒุฆุงุช ูุญูู ฺฉุงุฑฺฉุฑุฏ ุง ฺฺฏููฺฏ ุชุทุจู ุขูโูุง ุจุง ฺฉุฏฺฏุฑ ุงุฌุชูุงุจ ฺฉุฑุฏูโุงูุ ฺฉู ุจุฑุง ุจุดุชุฑ ฺฉุงุฑูุง ุฑูุฒูุฑู ุดูุง ุจุง Rust ฺฉุงู ุงุณุช. ุจุง ุงู ุญุงูุ ฺฏุงู ุงููุงุช ุจุง ูููุนุชโูุง ููุงุฌู ูโุดูุฏ ฺฉู ูุงุฒ ุฏุงุฑุฏ ฺฉู ุจุดุชุฑ ุงุฒ ุงู ุฌุฒุฆุงุช ุฑุง ุจูููุฏ. ุฏุฑ ุงู ุจุฎุดุ ุจู ุงูุฏุงุฒูโุง ุจู ุงู ููุถูุน ูโูพุฑุฏุงุฒู ฺฉู ุฏุฑ ุงู ุณูุงุฑููุง ฺฉูฺฉ ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุจุฑุฑุณ <em>ุนููโุชุฑ</em> ุฑุง ุจู ูุณุชูุฏุงุช ุฏฺฏุฑ ูโุณูพุงุฑู.</p>
<!-- Old headings. Do not remove or links may break. -->
<p><a id="future"></a></p>
<h3 id="ูฺฺฏ-future"><a class="header" href="#ูฺฺฏ-future">ูฺฺฏ <code>Future</code></a></h3>
<p>ุจุงุฏ ุจุง ุจุฑุฑุณ ุฏููโุชุฑ ูุญูู ุนููฺฉุฑุฏ ูฺฺฏ <code>Future</code> ุดุฑูุน ฺฉูู. ุฏุฑ ุงูุฌุง ูุญูู ุชุนุฑู ุขู ุฏุฑ Rust ุขูุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::pin::Pin;
use std::task::{Context, Poll};

pub trait Future {
    type Output;

    fn poll(self: Pin&lt;&amp;mut Self&gt;, cx: &amp;mut Context&lt;'_&gt;) -&gt; Poll&lt;Self::Output&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุชุนุฑู Trait ุดุงูู ฺูุฏู ููุน ุฌุฏุฏ ู ููฺูู ูุญู ุงุณุช ฺฉู ูุจูุงู ูุฏุฏูโุงูุ ุจูุงุจุฑุงู ุจุงุฏ ูุทุนู ุจู ูุทุนู ุขู ุฑุง ุจุฑุฑุณ ฺฉูู.</p>
<p>ุงุจุชุฏุงุ ููุน ูุงุจุณุชู <code>Output</code> ุฏุฑ ูฺฺฏ <code>Future</code> ูุดุฎุต ูโฺฉูุฏ ฺฉู ูุชุฌู future ฺู ุฎูุงูุฏ ุจูุฏ. ุงู ุดุจู ุจู ููุน ูุงุจุณุชู <code>Item</code> ุฏุฑ ูฺฺฏ <code>Iterator</code> ุงุณุช. ุฏููุ ูฺฺฏ <code>Future</code> ููฺูู ูุชุฏ <code>poll</code> ุฑุง ุฏุงุฑุฏ ฺฉู ฺฉ ูุฑุฌุน ุฎุงุต <code>Pin</code> ุจุฑุง ูพุงุฑุงูุชุฑ <code>self</code> ู ฺฉ ูุฑุฌุน ูุชุบุฑ ุจู ููุน <code>Context</code> ูโฺฏุฑุฏ ู ฺฉ <code>Poll&lt;Self::Output&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุฏุฑ ุงุฏุงูู ุฏุฑุจุงุฑู <code>Pin</code> ู <code>Context</code> ุจุดุชุฑ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ุจุงุฏ ุฑู ฺุฒ ฺฉู ูุชุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุนู ููุน <code>Poll</code>ุ ุชูุฑฺฉุฒ ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Poll&lt;T&gt; {
    Ready(T),
    Pending,
}
<span class="boring">}</span></code></pre></pre>
<p>ููุน <code>Poll</code> ุดุจู ุจู ฺฉ <code>Option</code> ุงุณุช. ุงู ููุน ุฏู ุญุงูุช ุฏุงุฑุฏ: ฺฉ <code>Ready(T)</code> ฺฉู ุดุงูู ฺฉ ููุฏุงุฑ ุงุณุช ู ุฏฺฏุฑ <code>Pending</code> ฺฉู ุดุงูู ููุฏุงุฑ ูุณุช. ุจุง ุงู ุญุงูุ <code>Poll</code> ูุนูุง ฺฉุงููุงู ูุชูุงูุช ุงุฒ <code>Option</code> ุฏุงุฑุฏ! ุญุงูุช <code>Pending</code> ูุดุงู ูโุฏูุฏ ฺฉู future ูููุฒ ฺฉุงุฑูุง ุจุฑุง ุงูุฌุงู ุฏุงุฏู ุฏุงุฑุฏุ ุจูุงุจุฑุงู ูุฑุงุฎูุงููุฏู ุจุงุฏ ุจุนุฏุงู ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ. ุญุงูุช <code>Ready</code> ูุดุงู ูโุฏูุฏ ฺฉู future ฺฉุงุฑ ุฎูุฏ ุฑุง ุจู ูพุงุงู ุฑุณุงูุฏู ู ููุฏุงุฑ <code>T</code> ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<blockquote>
<p>ูฺฉุชู: ุจุฑุง ุจุดุชุฑ futuresุ ูุฑุงุฎูุงููุฏู ูุจุงุฏ ูพุณ ุงุฒ ุงูฺฉู future ููุฏุงุฑ <code>Ready</code> ุจุงุฒฺฏุฑุฏุงูุฏุ ุฏูุจุงุฑู <code>poll</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ุจุณุงุฑ ุงุฒ futures ุงฺฏุฑ ูพุณ ุงุฒ ุขูุงุฏู ุดุฏู ุฏูุจุงุฑู <code>poll</code> ุดููุฏุ ุฏฺุงุฑ ูุญุดุช (<em>panic</em>) ูโุดููุฏ. futures ฺฉู ุงูู ุจุฑุง poll ุฏูุจุงุฑู ูุณุชูุฏุ ุจูโุทูุฑ ุตุฑุญ ุงู ููุถูุน ุฑุง ุฏุฑ ูุณุชูุฏุงุช ุฎูุฏ ุฐฺฉุฑ ุฎูุงููุฏ ฺฉุฑุฏ. ุงู ุดุจู ุจู ูุญูู ุฑูุชุงุฑ <code>Iterator::next</code> ุงุณุช.</p>
</blockquote>
<p>ููุช ฺฉุฏ ุฑุง ูโุจูุฏ ฺฉู ุงุฒ <code>await</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ Rust ุขู ุฑุง ุฏุฑ ูพุดุช ุตุญูู ุจู ฺฉุฏ ฺฉู <code>poll</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ฺฉุงููพุงู ูโฺฉูุฏ. ุงฺฏุฑ ุจู ูุณุช ฑท-ด ฺฉู ุฏุฑ ุขู ุนููุงู ุตูุญู ุจุฑุง ฺฉ URL ูุงุญุฏ ูพุณ ุงุฒ ุญูโุดุฏู ฺุงูพ ุดุฏุ ูฺฏุงู ุจูุฏุงุฒุฏุ Rust ุขู ุฑุง ุจู ฺุฒ ฺฉู (ุงฺฏุฑฺู ุฏููุงู ููุ ุงูุง ุชูุฑุจุงู) ุดุจู ุจู ุงู ุงุณุช ฺฉุงููพุงู ูโฺฉูุฏ:</p>
<pre><code class="language-rust ignore">match page_title(url).poll() {
    Ready(page_title) =&gt; match page_title {
        Some(title) =&gt; println!("The title for {url} was {title}"),
        None =&gt; println!("{url} had no title"),
    }
    Pending =&gt; {
        // But what goes here?
    }
}</code></pre>
<p>ููุช ฺฉู future ูููุฒ ุฏุฑ ุญุงูุช <code>Pending</code> ุงุณุชุ ฺู ฺฉุงุฑ ุจุงุฏ ุงูุฌุงู ุฏููุ ูุงุฒ ุฏุงุฑู ุจู ููุน ุฏูุจุงุฑู ุงูุชุญุงู ฺฉููุ ู ุงู ฺฉุงุฑ ุฑุง ุจุงุฑูุง ุชฺฉุฑุงุฑ ฺฉููุ ุชุง ุฒูุงู ฺฉู future ุฏุฑ ููุงุช ุขูุงุฏู ุดูุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูุงุฒ ุจู ฺฉ ุญููู ุฏุงุฑู:</p>
<pre><code class="language-rust ignore">let mut page_title_fut = page_title(url);
loop {
    match page_title_fut.poll() {
        Ready(value) =&gt; match page_title {
            Some(title) =&gt; println!("The title for {url} was {title}"),
            None =&gt; println!("{url} had no title"),
        }
        Pending =&gt; {
            // continue
        }
    }
}</code></pre>
<p>ุงฺฏุฑ Rust ุฏููุงู ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ูโฺฉุฑุฏุ ูุฑ <code>await</code> ูุณุฏูุฏฺฉููุฏู (<em>blocking</em>) ูโุดุฏโุฏููุงู ุจุฑุนฺฉุณ ฺุฒ ฺฉู ูโุฎูุงุณุชู! ุฏุฑ ุนูุถุ Rust ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุญููู ุจุชูุงูุฏ ฺฉูุชุฑู ุฑุง ุจู ฺุฒ ูุงฺฏุฐุงุฑ ฺฉูุฏ ฺฉู ุจุชูุงูุฏ ฺฉุงุฑ ุฑู ุงู future ุฑุง ูุชููู ฺฉุฑุฏูุ ุฑู futures ุฏฺฏุฑ ฺฉุงุฑ ฺฉูุฏุ ู ุณูพุณ ุฏูุจุงุฑู ุงู ฺฉ ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ููุงูโุทูุฑ ฺฉู ุฏุฏูุ ุงู ูุธูู ฺฉ runtime async ุงุณุชุ ู ุงู ุจุฑูุงููโุฑุฒ ู ููุงููฺฏ ฺฉ ุงุฒ ูุธุงู ุงุตู ุขู ุงุณุช.</p>
<p>ุฏุฑ ุงุจุชุฏุง ูุตูุ ุฏุฑุจุงุฑู ุงูุชุธุงุฑ ุจุฑุง <code>rx.recv</code> ุตุญุจุช ฺฉุฑุฏู. ูุฑุงุฎูุงู <code>recv</code> ฺฉ future ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ููุชุธุฑ ุดุฏู ุจุฑุง future ุขู ุฑุง poll ูโฺฉูุฏ. ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ฺฉ runtime future ุฑุง ุชุง ุฒูุงู ฺฉู ุขูุงุฏู ุดูุฏโฺู ุจุง <code>Some(message)</code> ุง ุจุง <code>None</code> ุฏุฑ ุตูุฑุช ุจุณุชู ุดุฏู ฺฉุงูุงูโูุชููู ูโฺฉูุฏ. ุจุง ุฏุฑฺฉ ุนููโุชุฑ ุงุฒ ูฺฺฏ <code>Future</code> ู ุจูโุทูุฑ ุฎุงุต <code>Future::poll</code>ุ ูโุชูุงูู ุจุจูู ุงู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ. ููุช future ููุฏุงุฑ <code>Poll::Pending</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ runtime ูโุฏุงูุฏ ฺฉู ุขูุงุฏู ูุณุช. ุจุฑุนฺฉุณุ ููุช <code>poll</code> ููุฏุงุฑ <code>Poll::Ready(Some(message))</code> ุง <code>Poll::Ready(None)</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ runtime ูโุฏุงูุฏ ฺฉู future ุขูุงุฏู ุงุณุช ู ุขู ุฑุง ูพุด ูโุจุฑุฏ.</p>
<p>ุฌุฒุฆุงุช ุฏูู ูุญูู ุงูุฌุงู ุงู ฺฉุงุฑ ุชูุณุท ฺฉ runtime ูุฑุงุชุฑ ุงุฒ ูุญุฏูุฏู ุงู ฺฉุชุงุจ ุงุณุชุ ุงูุง ูฺฉุชู ฺฉูุฏ ุงู ุงุณุช ฺฉู ูฺฉุงูฺฉ ูพุงูโุง futures ุฑุง ุจุจูู: ฺฉ runtime ูุฑ future ฺฉู ูุณุฆูู ุขู ุงุณุช ุฑุง <em>poll</em> ูโฺฉูุฏ ู ููุช ูููุฒ ุขูุงุฏู ูุณุชุ future ุฑุง ุฏูุจุงุฑู ุจู ุญุงูุช ุฎูุงุจ ูโุจุฑุฏ.</p>
<p><a id="pinning-and-the-pin-and-unpin-traits"></a></p>
<h3 id="ูฺฺฏูุง-pin-ู-unpin"><a class="header" href="#ูฺฺฏูุง-pin-ู-unpin">ูฺฺฏโูุง <code>Pin</code> ู <code>Unpin</code></a></h3>
<p>ููุช ููููู pinning ุฑุง ุฏุฑ ูุณุช ฑท-ฑถ ูุนุฑู ฺฉุฑุฏูุ ุจุง ฺฉ ูพุงู ุฎุทุง ุจุณุงุฑ ูพฺุฏู ููุงุฌู ุดุฏู. ุฏุฑ ุงูุฌุง ุจุฎุด ูุฑุชุจุท ุจุง ุขู ุฏูุจุงุฑู ุขูุฏู ุงุณุช:</p>
<!-- manual-regeneration
cd listings/ch17-async-await/listing-17-16
cargo build
copy *only* the final `error` block from the errors
-->
<pre><code class="language-text">error[E0277]: `{async block@src/main.rs:10:23: 10:33}` cannot be unpinned
  --&gt; src/main.rs:48:33
   |
48 |         trpl::join_all(futures).await;
   |                                 ^^^^^ the trait `Unpin` is not implemented for `{async block@src/main.rs:10:23: 10:33}`, which is required by `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;: Future`
   |
   = note: consider using the `pin!` macro
           consider using `Box::pin` if you need to access the pinned value outside of the current scope
   = note: required for `Box&lt;{async block@src/main.rs:10:23: 10:33}&gt;` to implement `Future`
note: required by a bound in `futures_util::future::join_all::JoinAll`
  --&gt; file:///home/.cargo/registry/src/index.crates.io-6f17d22bba15001f/futures-util-0.3.30/src/future/join_all.rs:29:8
   |
27 | pub struct JoinAll&lt;F&gt;
   |            ------- required by a bound in this struct
28 | where
29 |     F: Future,
   |        ^^^^^^ required by this bound in `JoinAll`
</code></pre>
<p>ุงู ูพุงู ุฎุทุง ูู ุชููุง ุจู ูุง ูโฺฏูุฏ ฺฉู ุจุงุฏ ููุงุฏุฑ ุฑุง pin ฺฉููุ ุจูฺฉู ุฏูู ูุงุฒ ุจู pinning ุฑุง ูุฒ ุชูุถุญ ูโุฏูุฏ. ุชุงุจุน <code>trpl::join_all</code> ฺฉ ุณุงุฎุชุงุฑ ุจู ูุงู <code>JoinAll</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุณุงุฎุชุงุฑ ุจู ููุน ุนููู ุจู ูุงู <code>F</code> ูุงุจุณุชู ุงุณุช ฺฉู ูุญุฏูุฏ ุจู ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>Future</code> ุงุณุช. ููุชุธุฑ ุดุฏู ูุณุชูู ฺฉ future ุจุง <code>await</code>ุ future ุฑุง ุจูโุทูุฑ ุถูู pin ูโฺฉูุฏ. ุจู ููู ุฏูู ูุงุฒ ูุณุช ฺฉู ุงุฒ <code>pin!</code> ุฏุฑ ููู ุฌุงูุง ฺฉู ูโุฎูุงูู ุจุฑุง futures ููุชุธุฑ ุจูุงููุ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุจุง ุงู ุญุงูุ ูุง ุงูุฌุง ูุณุชููุงู ููุชุธุฑ ฺฉ future ูุณุชู. ุฏุฑ ุนูุถุ ฺฉ future ุฌุฏุฏ ุจู ูุงู <code>JoinAll</code> ูโุณุงุฒู ุจุง ุงุฑุณุงู ูุฌููุนูโุง ุงุฒ futures ุจู ุชุงุจุน <code>join_all</code>. ุงูุถุง <code>join_all</code> ูุงุฒ ุฏุงุฑุฏ ฺฉู ููุน ุขุชูโูุง ูุฌููุนูุ ูฺฺฏ <code>Future</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏุ ู <code>Box&lt;T&gt;</code> ููุท ุฏุฑ ุตูุฑุช ูฺฺฏ <code>Future</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ฺฉู <code>T</code> ฺฉู ุจุณุชูโุจูุฏ ูโฺฉูุฏุ ฺฉ future ุจุงุดุฏ ฺฉู ูฺฺฏ <code>Unpin</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช.</p>
<p>ุงู ุงุทูุงุนุงุช ุฒุงุฏ ุจุฑุง ูุถู ฺฉุฑุฏู ุงุณุช! ุจุฑุง ุฏุฑฺฉ ูุงูุน ุขูุ ุจุงุฏ ฺฉู ุจุดุชุฑ ุจู ูุญูู ฺฉุงุฑ ูุงูุน ูฺฺฏ <code>Future</code>ุ ุจูโูฺู ุฏุฑ ุงุฑุชุจุงุท ุจุง <em>pinning</em>ุ ุจูพุฑุฏุงุฒู.</p>
<p>ุฏูุจุงุฑู ุจู ุชุนุฑู ูฺฺฏ <code>Future</code> ูฺฏุงู ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::pin::Pin;
use std::task::{Context, Poll};

pub trait Future {
    type Output;

    // ูุชุฏ ููุฑุฏ ูุงุฒ
    fn poll(self: Pin&lt;&amp;mut Self&gt;, cx: &amp;mut Context&lt;'_&gt;) -&gt; Poll&lt;Self::Output&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>ูพุงุฑุงูุชุฑ <code>cx</code> ู ููุน ุขูุ <code>Context</code>ุ ฺฉูุฏ ุงุตู ุจุฑุง ุงู ุงุณุช ฺฉู ฺฉ runtime ฺฺฏููู ูโุฏุงูุฏ ฺู ุฒูุงู ฺฉ future ุฎุงุต ุฑุง ุจุฑุฑุณ ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ููฺูุงู ุชูุจู (<em>lazy</em>) ุจุงู ูโูุงูุฏ. ุจุงุฒ ููุ ุฌุฒุฆุงุช ูุญูู ฺฉุงุฑ ุงู ูุฑุขูุฏ ูุฑุงุชุฑ ุงุฒ ูุญุฏูุฏู ุงู ูุตู ุงุณุชุ ู ูุนูููุงู ุชููุง ุฒูุงู ฺฉู ุจุฎูุงูุฏ ฺฉ ูพุงุฏูโุณุงุฒ ุณูุงุฑุด ุจุฑุง <code>Future</code> ุจููุณุฏุ ูุงุฒ ุจู ูฺฉุฑ ฺฉุฑุฏู ุจู ุงู ููุถูุน ุฏุงุฑุฏ. ุฏุฑ ุนูุถุ ูุง ุจุฑ ุฑู ููุน <code>self</code> ุชูุฑฺฉุฒ ูโฺฉููุ ุฒุฑุง ุงู ุงููู ุจุงุฑ ุงุณุช ฺฉู ฺฉ ูุชุฏ ุจุง ฺฉ ููุน ูุดุฎุต ุจุฑุง <code>self</code> ุฑูุจุฑู ูโุดูู. ฺฉ ููุน ูุดุฎุต ุจุฑุง <code>self</code> ูุงููุฏ ููุนโูุง ูุดุฎุต ุจุฑุง ุณุงุฑ ูพุงุฑุงูุชุฑูุง ุชุงุจุน ุนูู ูโฺฉูุฏุ ุงูุง ุจุง ุฏู ุชูุงูุช ฺฉูุฏ:</p>
<ul>
<li>
<p>ุจู Rust ูโฺฏูุฏ ฺฉู ููุน <code>self</code> ุจุฑุง ูุฑุงุฎูุงู ูุชุฏ ุจุงุฏ ฺู ุจุงุดุฏ.</p>
</li>
<li>
<p>ููโุชูุงูุฏ ูุฑ ููุน ุจุงุดุฏ. ุงู ููุน ุจู ููุน ฺฉู ูุชุฏ ุฑู ุขู ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ุง ฺฉ ูุฑุฌุน ุง ุงุดุงุฑูโฺฏุฑ ููุดููุฏ ุจู ุขู ููุนุ ุง ฺฉ <code>Pin</code> ฺฉู ฺฉ ูุฑุฌุน ุจู ุขู ููุน ุฑุง ุจุณุชูโุจูุฏ ูโฺฉูุฏุ ูุญุฏูุฏ ุงุณุช.</p>
</li>
</ul>
<p>ุฏุฑ <a href="ch18-00-oop.html">ูุตู ฑธ</a><!-- ignore --> ุจุดุชุฑ ุฏุฑุจุงุฑู ุงู ุณูุชฺฉุณ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ูุนูุงู ฺฉุงู ุงุณุช ุจุฏุงูู ฺฉู ุงฺฏุฑ ุจุฎูุงูู ฺฉ future ุฑุง poll ฺฉูู ุชุง ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง <code>Pending</code> ุง <code>Ready(Output)</code> ุงุณุชุ ุจู ฺฉ ูุฑุฌุน ูุชุบุฑ ุจุณุชูโุจูุฏโุดุฏู ุฏุฑ <code>Pin</code> ุจุฑุง ุขู ููุน ูุงุฒ ุฏุงุฑู.</p>
<p><code>Pin</code> ฺฉ ุจุณุชูโุจูุฏ ุจุฑุง ุงููุงุน ุงุดุงุฑูโฺฏุฑ ูุงููุฏ <code>&amp;</code>ุ <code>&amp;mut</code>ุ <code>Box</code>ุ ู <code>Rc</code> ุงุณุช. (ุจูโุทูุฑ ููุ <code>Pin</code> ุจุง ููุนโูุง ฺฉุงุฑ ูโฺฉูุฏ ฺฉู ูฺฺฏโูุง <code>Deref</code> ุง <code>DerefMut</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุงูุง ุงู ุจู ุทูุฑ ูุคุซุฑ ูุนุงุฏู ฺฉุงุฑ ุจุง ุงุดุงุฑูโฺฏุฑูุง ุงุณุช.) <code>Pin</code> ุฎูุฏุด ฺฉ ุงุดุงุฑูโฺฏุฑ ูุณุช ู ูฺ ุฑูุชุงุฑ ูุงููุฏ <code>Rc</code> ู <code>Arc</code> ฺฉู ุดูุงุฑุด ูุฑุฌุน ุงูุฌุงู ูโุฏููุฏ ูุฏุงุฑุฏุ ุงู ุตุฑูุงู ฺฉ ุงุจุฒุงุฑ ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุจุฑุง ุงุนูุงู ูุญุฏูุฏุชโูุง ุฏุฑ ุงุณุชูุงุฏู ุงุฒ ุงุดุงุฑูโฺฏุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจู ุงุฏ ุขูุฑุฏู ุงู ฺฉู <code>await</code> ุจุฑ ุงุณุงุณ ูุฑุงุฎูุงูโูุง <code>poll</code> ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ุดุฑูุน ุจู ุชูุถุญ ูพุงู ุฎุทุง ฺฉู ูุจูุงู ุฏุฏู ูโฺฉูุฏุ ุงูุง ุขู ูพุงู ุฏุฑ ููุฑุฏ <code>Unpin</code> ุจูุฏุ ูู <code>Pin</code>. ูพุณ ุฏููุงู ฺฺฏููู <code>Pin</code> ุจุง <code>Unpin</code> ูุฑุชุจุท ุงุณุชุ ู ฺุฑุง <code>Future</code> ูุงุฒ ุฏุงุฑุฏ ฺฉู <code>self</code> ุฏุฑ ฺฉ ููุน <code>Pin</code> ุจุงุดุฏ ุชุง ุจุชูุงูุฏ <code>poll</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ</p>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุงูุงู ุงู ูุตูุ ฺฉ ุณุฑ ุงุฒ ููุงุท ุงูุชุธุงุฑ (<em>await points</em>) ุฏุฑ ฺฉ future ุจู ฺฉ ูุงุดู ุญุงูุช ฺฉุงููพุงู ูโุดููุฏุ ู ฺฉุงููพุงูุฑ ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุงู ูุงุดู ุญุงูุช ุชูุงู ููุงูู ูุนููู ุงูู Rustุ ุงุฒ ุฌููู ูุฑุถโฺฏุฑ ู ูุงูฺฉุชุ ุฑุง ุฏูุจุงู ูโฺฉูุฏ. ุจุฑุง ุงูฺฉู ุงู ฺฉุงุฑ ุงูุฌุงู ุดูุฏุ Rust ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ฺู ุฏุงุฏูโุง ุจู ฺฉ ููุทู ุงูุชุธุงุฑ ู ุง ููุทู ุงูุชุธุงุฑ ุจุนุฏ ุง ูพุงุงู ุจููฺฉ async ููุฑุฏ ูุงุฒ ุงุณุช. ุณูพุณ ฺฉ ุญุงูุช ูุชูุงุธุฑ ุฏุฑ ูุงุดู ุญุงูุช ฺฉุงููพุงูโุดุฏู ุงุฌุงุฏ ูโฺฉูุฏ. ูุฑ ุญุงูุช ุฏุณุชุฑุณ ูุงุฒู ุจู ุฏุงุฏูโูุง ฺฉู ุฏุฑ ุขู ุจุฎุด ุงุฒ ฺฉุฏ ููุจุน ุงุณุชูุงุฏู ูโุดููุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏุ ฺู ุจุง ฺฏุฑูุชู ูุงูฺฉุช ุขู ุฏุงุฏูโูุง ุง ุจุง ุฏุฑุงูุช ฺฉ ูุฑุฌุน ูุชุบุฑ ุง ุบุฑูุชุบุฑ ุจู ุขู.</p>
<p>ุชุง ุงูุฌุง ุฎูุจ ุงุณุช: ุงฺฏุฑ ุฏุฑ ููุฑุฏ ูุงูฺฉุช ุง ูุฑุงุฌุน ุฏุฑ ฺฉ ุจููฺฉ async ุฎุทุง ุฏุงุดุชู ุจุงุดูุ borrow checker ุจู ูุง ุงุทูุงุน ูโุฏูุฏ. ุงูุง ููุช ุจุฎูุงูู futureุง ฺฉู ุจู ุขู ุจููฺฉ ูุฑุจูุท ูโุดูุฏ ุฑุง ุฌุงุจูโุฌุง ฺฉููโูุซูุงู ุขู ุฑุง ุจู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู push ฺฉูู ุชุง ุจูโุนููุงู ฺฉ iterator ุจุง <code>join_all</code> ุงุณุชูุงุฏู ุดูุฏ ุง ุขู ุฑุง ุงุฒ ฺฉ ุชุงุจุน ุจุงุฒฺฏุฑุฏุงููโูุณุงุฆู ูพฺุฏูโุชุฑ ูโุดููุฏ.</p>
<p>ููุช ฺฉ future ุฑุง ุฌุงุจูโุฌุง ูโฺฉููโฺู ุจุง push ฺฉุฑุฏู ุขู ุจู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจุฑุง ุงุณุชูุงุฏู ุจูโุนููุงู iterator ุจุง <code>join_all</code> ุง ุจุง ุจุงุฒฺฏุฑุฏุงูุฏู ุขู ุงุฒ ฺฉ ุชุงุจุนโุงู ุฏุฑ ูุงูุน ุจู ูุนูุง ุฌุงุจูโุฌุง ฺฉุฑุฏู ูุงุดู ุญุงูุช ุงุณุช ฺฉู Rust ุจุฑุง ูุง ุงุฌุงุฏ ูโฺฉูุฏ. ู ุจุฑุฎูุงู ุจุดุชุฑ ุงููุงุน ุฏฺฏุฑ ุฏุฑ Rustุ futureูุง ฺฉู Rust ุจุฑุง ุจููฺฉโูุง async ุงุฌุงุฏ ูโฺฉูุฏุ ูโุชูุงููุฏ ุฏุฑ ููุฏูุง ูุฑ ุญุงูุช ูุนูุ ุฏุงุฑุง ูุฑุงุฌุน ุจู ุฎูุฏุดุงู ุจุงุดูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ุณุงุฏูโุดุฏูโุง ฺฉู ุฏุฑ ุดฺฉู ฑท-ด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure>
<img alt="A single-column, three-row table representing a future, fut1, which has data values 0 and 1 in the first two rows and an arrow pointing from the third row back to the second row, representing an internal reference within the future." src="img/trpl17-04.svg" class="center" />
<figcaption>ุดฺฉู 17-4: ฺฉ ููุน ุฏุงุฏู ุฎูุฏุงุฑุฌุงุน.</figcaption>
</figure>
<p>ุจูโุทูุฑ ูพุดโูุฑุถุ ูุฑ ุดุฆ ฺฉู ูุฑุฌุน ุจู ุฎูุฏุด ุฏุงุฑุฏุ ุฌุงุจูโุฌุง ฺฉุฑุฏู ุขู ูุงุงูู ุงุณุชุ ุฒุฑุง ูุฑุงุฌุน ููุดู ุจู ุขุฏุฑุณ ุญุงูุธู ูุงูุน ฺุฒ ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉููุฏ ุงุดุงุฑู ุฏุงุฑูุฏ (ูฺฏุงู ฺฉูุฏ ุจู ุดฺฉู ฑท-ต). ุงฺฏุฑ ุฎูุฏ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฑุง ุฌุงุจูโุฌุง ฺฉูุฏุ ุขู ูุฑุงุฌุน ุฏุงุฎู ููฺูุงู ุจู ูฺฉุงู ูุฏู ุงุดุงุฑู ูโฺฉููุฏ. ุจุง ุงู ุญุงูุ ุขู ูฺฉุงู ุญุงูุธู ุงฺฉููู ูุงูุนุชุจุฑ ุงุณุช. ุงุฒ ฺฉ ุทุฑูุ ููุฏุงุฑ ุขู ููฺฏุงู ุงุฌุงุฏ ุชุบุฑุงุช ุฏุฑ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจูโุฑูุฒุฑุณุงู ููโุดูุฏ. ุงุฒ ุทุฑู ุฏฺฏุฑโู ูููโุชุฑโฺฉุงููพูุชุฑ ุงฺฉููู ูโุชูุงูุฏ ุขู ูฺฉุงู ุญุงูุธู ุฑุง ุจุฑุง ููุงุตุฏ ุฏฺฏุฑ ุจุงุฒุงุณุชูุงุฏู ฺฉูุฏ! ููฺฉู ุงุณุช ุจุนุฏุงู ุฏุงุฏูโูุง ฺฉุงููุงู ูุงูุฑุชุจุท ุจุฎูุงูุฏ.</p>
<figure>
<img alt="Two tables, depicting two futures, fut1 and fut2, each of which has one column and three rows, representing the result of having moved a future out of fut1 into fut2. The first, fut1, is grayed out, with a question mark in each index, representing unknown memory. The second, fut2, has 0 and 1 in the first and second rows and an arrow pointing from its third row back to the second row of fut1, representing a pointer that is referencing the old location in memory of the future before it was moved." src="img/trpl17-05.svg" class="center" />
<figcaption>ุดฺฉู ฑท-ต: ูุชุฌู ูุงุงูู ุฌุงุจูโุฌุง ฺฉ ููุน ุฏุงุฏู ฺฉู ุจู ุฎูุฏุด ุงุฑุฌุงุน ุฏุงุฑุฏ</figcaption>
</figure>
<p>ุงุฒ ูุธุฑ ุชุฆูุฑุ ฺฉุงููพุงูุฑ Rust ูโุชูุงูุฏ ุณุน ฺฉูุฏ ูุฑ ูุฑุฌุน ุจู ฺฉ ุดุก ุฑุง ูุฑ ุฒูุงู ฺฉู ุฌุงุจูโุฌุง ูโุดูุฏุ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏุ ุงูุง ุงู ฺฉุงุฑ ูโุชูุงูุฏ ุณุฑุจุงุฑ ุนููฺฉุฑุฏ ุฒุงุฏ ุงุฌุงุฏ ฺฉูุฏุ ุจูโูฺู ุงฺฏุฑ ฺฉ ุดุจฺฉู ฺฉุงูู ุงุฒ ูุฑุงุฌุน ูุงุฒ ุจู ุจูโุฑูุฒุฑุณุงู ุฏุงุดุชู ุจุงุดุฏ. ุงฺฏุฑ ุจุชูุงูู ุจู ุฌุง ุขู ูุทูุฆู ุดูู ฺฉู ุณุงุฎุชุงุฑ ุฏุงุฏู ููุฑุฏ ูุธุฑ <em>ุฏุฑ ุญุงูุธู ุฌุงุจูโุฌุง ููโุดูุฏ</em>ุ ูุงุฒ ุจู ุจูโุฑูุฒุฑุณุงู ูุฑุงุฌุน ูุฎูุงูู ุฏุงุดุช. ุงู ุฏููุงู ููุงู ฺุฒ ุงุณุช ฺฉู borrow checker ุฏุฑ Rust ูุงุฒ ุฏุงุฑุฏ: ุฏุฑ ฺฉุฏ ุงููุ ุงุฒ ุฌุงุจูโุฌุง ฺฉุฑุฏู ูุฑ ุขุชู ฺฉู ูุฑุฌุน ูุนุงู ุจู ุขู ุฏุงุฑุฏ ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<p><code>Pin</code> ุจุฑ ุงุณุงุณ ุงู ุงุตู ุนูู ูโฺฉูุฏ ู ุชุถูู ุฏูู ฺฉู ูุงุฒ ุฏุงุฑู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ. ููุช ฺฉ ููุฏุงุฑ ุฑุง ุจุง ุจุณุชูโุจูุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ ุจู ุขู ููุฏุงุฑ ุฏุฑ <code>Pin</code> <em>pin</em> ูโฺฉููุ ุฏฺฏุฑ ููโุชูุงูุฏ ุฌุงุจูโุฌุง ุดูุฏ. ุจูุงุจุฑุงูุ ุงฺฏุฑ <code>Pin&lt;Box&lt;SomeType&gt;&gt;</code> ุฏุงุดุชู ุจุงุดุฏุ ุฏุฑ ูุงูุน ููุฏุงุฑ <code>SomeType</code> ุฑุง pin ูโฺฉูุฏุ <em>ูู</em> ุงุดุงุฑูโฺฏุฑ <code>Box</code>. ุดฺฉู ฑท-ถ ุงู ูุฑุขูุฏ ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure>
<img alt="Three boxes laid out side by side. The first is labeled โPinโ, the second โb1โ, and the third โpinnedโ. Within โpinnedโ is a table labeled โfutโ, with a single column; it represents a future with cells for each part of the data structure. Its first cell has the value โ0โ, its second cell has an arrow coming out of it and pointing to the fourth and final cell, which has the value โ1โ in it, and the third cell has dashed lines and an ellipsis to indicate there may be other parts to the data structure. All together, the โfutโ table represents a future which is self-referential. An arrow leaves the box labeled โPinโ, goes through the box labeled โb1โ and has terminates inside the โpinnedโ box at the โfutโ table." src="img/trpl17-06.svg" class="center" />
<figcaption>ุดฺฉู 17-6: pin ฺฉุฑุฏู ฺฉ `Box` ฺฉู ุจู ฺฉ ููุน ุขูุฏู ุฎูุฏุงุฑุฌุงุน ุงุดุงุฑู ูโฺฉูุฏ.</figcaption>
</figure>
<p>ุฏุฑ ูุงูุนุ ุงุดุงุฑูโฺฏุฑ (Pointer) <code>Box</code> ูููุฒ ูโุชูุงูุฏ ุจูโุทูุฑ ุขุฒุงุฏ ุฌุงุจูโุฌุง ุดูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ: ูุง ุจู ูุทูุฆู ุดุฏู ุงุฒ ุงูฺฉู ุฏุงุฏูโุง ฺฉู ุฏุฑ ููุงุช ุจู ุขู ุงุฑุฌุงุน ุฏุงุฏู ูโุดูุฏ ุฏุฑ ุฌุง ุฎูุฏ ุจุงู ูโูุงูุฏ ุงููุช ูโุฏูู. ุงฺฏุฑ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฌุงุจูโุฌุง ุดูุฏ ุงูุง ุฏุงุฏูโุง ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุฏุฑ ููุงู ูฺฉุงู ุจุงู ุจูุงูุฏุ ููุงูุทูุฑ ฺฉู ุฏุฑ ุดฺฉู 17-7 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ูฺ ูุดฺฉู ูพุด ููโุขุฏ. (ฺฺฏููฺฏ ุงูุฌุงู ุงู ฺฉุงุฑ ุจุง ฺฉ <code>Pin</code> ฺฉู ฺฉ <code>Box</code> ุฑุง ูโูพฺุฏ ูุฑุงุชุฑ ุงุฒ ุจุญุซ ุงู ุจุฎุด ุฎุงุต ุงุณุชุ ุงูุง ูโุชูุงูุฏ ุชูุฑู ุฎูุจ ุจุงุดุฏ! ุงฺฏุฑ ุจู ูุณุชูุฏุงุช ููุนโูุง ู ููฺูู ูุงฺูู <code>std::pin</code> ูฺฏุงู ฺฉูุฏุ ููฺฉู ุงุณุช ุจุชูุงูุฏ ุจูููุฏ ฺฺฏููู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ.) ูฺฉุชู ฺฉูุฏ ุงู ุงุณุช ฺฉู ููุน ุฎูุฏุงุฑุฌุงุน ุฎูุฏ ููโุชูุงูุฏ ุฌุงุจูโุฌุง ุดูุฏุ ุฒุฑุง ููฺูุงู pin ุดุฏู ุงุณุช.</p>
<figure>
<img alt="Four boxes laid out in three rough columns, identical to the previous diagram with a change to the second column. Now there are two boxes in the second column, labeled โb1โ and โb2โ, โb1โ is grayed out, and the arrow from โPinโ goes through โb2โ instead of โb1โ, indicating that the pointer has moved from โb1โ to โb2โ, but the data in โpinnedโ has not moved." src="img/trpl17-07.svg" class="center" />
<figcaption>ุดฺฉู 17-7: ุฌุงุจูโุฌุง ฺฉ `Box` ฺฉู ุจู ฺฉ ููุน ุขูุฏู ุฎูุฏุงุฑุฌุงุน ุงุดุงุฑู ูโฺฉูุฏ.</figcaption>
</figure>
<p>ุจุง ุงู ุญุงูุ ุงฺฉุซุฑ ุงููุงุน ฺฉุงููุงู ุจุฑุง ุฌุงุจูโุฌุง ุงูู ูุณุชูุฏุ ุญุช ุงฺฏุฑ ูพุดุช ฺฉ ุงุดุงุฑูโฺฏุฑ <code>Pin</code> ูุฑุงุฑ ุฏุงุดุชู ุจุงุดูุฏ. ููุท ุฒูุงู ูุงุฒ ุจู ูฺฉุฑ ฺฉุฑุฏู ุจู pinning ุฏุงุฑู ฺฉู ุขุชูโูุง ุฏุงุฑุง ูุฑุงุฌุน ุฏุงุฎู ุจุงุดูุฏ. ููุงุฏุฑ ุงููู (<em>primitive</em>) ูุงููุฏ ุงุนุฏุงุฏ ู ููุงุฏุฑ Boolean ุงูู ูุณุชูุฏุ ุฒุฑุง ุจูโูุถูุญ ูฺ ูุฑุฌุน ุฏุงุฎู ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุจุฏู ุงุณุช ฺฉู ุงูู ูุณุชูุฏ. ุจุดุชุฑ ุงููุงุน ฺฉู ูุนูููุงู ุจุง ุขูโูุง ุฏุฑ Rust ฺฉุงุฑ ูโฺฉูุฏ ูุฒ ุงูโฺฏูููโุงูุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูุฏ ฺฉ <code>Vec</code> ุฑุง ุจุฏูู ูฺฏุฑุงู ุฌุงุจูโุฌุง ฺฉูุฏ. ุจุง ุชูุฌู ุจู ุขูฺู ุชุงฺฉููู ุฏุฏูโุงูุ ุงฺฏุฑ ฺฉ <code>Pin&lt;Vec&lt;String&gt;&gt;</code> ุฏุงุดุชู ุจุงุดุฏุ ุจุงุฏ ููู ฺุฒ ุฑุง ุงุฒ ุทุฑู APIูุง ุงูู ุงูุง ูุญุฏูุฏฺฉููุฏูโุง ฺฉู <code>Pin</code> ุงุฑุงุฆู ูโุฏูุฏ ุงูุฌุงู ุฏูุฏุ ุญุช ุงฺฏุฑ ฺฉ <code>Vec&lt;String&gt;</code> ููุดู ุจุฑุง ุฌุงุจูโุฌุง ุงูู ุจุงุดุฏ ุงฺฏุฑ ูฺ ูุฑุฌุน ุฏฺฏุฑ ุจู ุขู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ. ูุง ุจู ุฑูุด ูุงุฒ ุฏุงุฑู ฺฉู ุจู ฺฉุงููพุงูุฑ ุจฺฏูู ุฏุฑ ฺูู ููุงุฑุฏ ุฌุงุจูโุฌุง ฺฉุฑุฏู ุขุชูโูุง ูุดฺฉู ูุฏุงุฑุฏโู ุงูุฌุง ุงุณุช ฺฉู <code>Unpin</code> ูุงุฑุฏ ุนูู ูโุดูุฏ.</p>
<p><code>Unpin</code> ฺฉ ูฺฺฏ ุนูุงูุชโฺฏุฐุงุฑ (<em>marker trait</em>) ุงุณุชุ ูุดุงุจู ูฺฺฏโูุง <code>Send</code> ู <code>Sync</code> ฺฉู ุฏุฑ ูุตู ฑถ ุฏุฏูุ ู ุจูุงุจุฑุงู ูฺ ุนููฺฉุฑุฏ ุงุฒ ุฎูุฏ ูุฏุงุฑุฏ. ูฺฺฏโูุง ุนูุงูุชโฺฏุฐุงุฑ ููุท ุจุฑุง ุงู ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุจู ฺฉุงููพุงูุฑ ุจฺฏููุฏ ุงุณุชูุงุฏู ุงุฒ ููุน ฺฉู ฺฉ ูฺฺฏ ุฎุงุต ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุฏุฑ ฺฉ ุฒููู ุฎุงุต ุงูู ุงุณุช. <code>Unpin</code> ุจู ฺฉุงููพุงูุฑ ุงุทูุงุน ูโุฏูุฏ ฺฉู ฺฉ ููุน ุฎุงุต <em>ูุงุฒ</em> ุจู ุชุถูู ุงูฺฉู ููุฏุงุฑ ูุฑุจูุทู ุจูโุตูุฑุช ุงูู ุฌุงุจูโุฌุง ูโุดูุฏุ ูุฏุงุฑุฏ.</p>
<p>ูุดุงุจู <code>Send</code> ู <code>Sync</code>ุ ฺฉุงููพุงูุฑ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ <code>Unpin</code> ุฑุง ุจุฑุง ุชูุงู ุงููุงุน ฺฉู ูโุชูุงูุฏ ุซุงุจุช ฺฉูุฏ ุงูู ูุณุชูุฏุ ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ฺฉ ููุฑุฏ ุฎุงุตุ ุฏูุจุงุฑู ูุดุงุจู <code>Send</code> ู <code>Sync</code>ุ ุงู ุงุณุช ฺฉู <code>Unpin</code> ุจุฑุง ฺฉ ููุน <em>ูพุงุฏูโุณุงุฒ ููโุดูุฏ</em>. ูุดุงููโฺฏุฐุงุฑ ุจุฑุง ุงู ุญุงูุช ุจู ุดฺฉู <code>impl !Unpin for <em>SomeType</em></code> ุงุณุชุ ฺฉู ุฏุฑ ุขู <code><em>SomeType</em></code> ูุงู ููุน ุงุณุช ฺฉู <em>ุจุงุฏ</em> ุขู ุชุถููโูุง ุฑุง ุจุฑุง ุงูู ุจูุฏูุ ูุฑ ุฒูุงู ฺฉู ุงุดุงุฑูโฺฏุฑ ุจู ุขู ููุน ุฏุฑ ฺฉ <code>Pin</code> ุงุณุชูุงุฏู ูโุดูุฏุ ุญูุธ ฺฉูุฏ.</p>
<p>ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุฏู ูฺฉุชู ุฏุฑ ููุฑุฏ ุฑุงุจุทู ุจู <code>Pin</code> ู <code>Unpin</code> ุจุงุฏ ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ. ุงููุ <code>Unpin</code> ุญุงูุช โูุนูููโ ุงุณุช ู <code>!Unpin</code> ุญุงูุช ุฎุงุต. ุฏููุ ุงูฺฉู ุขุง ฺฉ ููุน ูฺฺฏ <code>Unpin</code> ุง <code>!Unpin</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ <em>ููุท</em> ุฒูุงู ุงููุช ุฏุงุฑุฏ ฺฉู ุฏุฑ ุญุงู ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงุดุงุฑูโฺฏุฑ pin ุดุฏู ุจู ุขู ููุน ูุงููุฏ <code>Pin&lt;&amp;mut <em>SomeType</em>&gt;</code> ุจุงุดุฏ.</p>
<p>ุจุฑุง ุฑูุดูโุชุฑ ฺฉุฑุฏู ุงู ููุถูุนุ ุจู ฺฉ <code>String</code> ูฺฉุฑ ฺฉูุฏ: ุงู ููุน ุฏุงุฑุง ุทูู ู ฺฉุงุฑุงฺฉุชุฑูุง Unicode ุงุณุช ฺฉู ุขู ุฑุง ุชุดฺฉู ูโุฏููุฏ. ูุง ูโุชูุงูู ฺฉ <code>String</code> ุฑุง ุฏุฑ <code>Pin</code> ุจุณุชูโุจูุฏ ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุดฺฉู ฑท-ธ ุฏุฏู ูโุดูุฏ. ุจุง ุงู ุญุงูุ <code>String</code> ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูฺฺฏ <code>Unpin</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุจุดุชุฑ ุงููุงุน ุฏฺฏุฑ ุฏุฑ Rust ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏููุฏ.</p>
<figure>
<img alt="Concurrent work flow" src="img/trpl17-08.svg" class="center" />
<figcaption>ุดฺฉู ฑท-ธ: Pin ฺฉุฑุฏู ฺฉ `String`ุ ุฎุท ููุทูโฺู ูุดุงู ูโุฏูุฏ ฺฉู `String` ูฺฺฏ `Unpin` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ุจูุงุจุฑุงู pin ูุดุฏู ุงุณุช.</figcaption>
</figure>
<p>ุฏุฑ ูุชุฌูุ ูโุชูุงูู ฺฉุงุฑูุง ุงูุฌุงู ุฏูู ฺฉู ุงฺฏุฑ <code>String</code> ูฺฺฏ <code>!Unpin</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉุฑุฏ ุบุฑูุงููู ุจูุฏุ ูุงููุฏ ุฌุงฺฏุฒู ฺฉุฑุฏู ฺฉ ุฑุดุชู ุจุง ุฑุดุชูโุง ุฏฺฏุฑ ุฏุฑ ููุงู ูฺฉุงู ุญุงูุธูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุดฺฉู ฑท-น ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ฺฉุงุฑ ูุฑุงุฑุฏุงุฏ <code>Pin</code> ุฑุง ููุถ ููโฺฉูุฏุ ุฒุฑุง <code>String</code> ูฺ ูุฑุฌุน ุฏุงุฎู ูุฏุงุฑุฏ ฺฉู ุฌุงุจูโุฌุง ุขู ุฑุง ูุงุงูู ฺฉูุฏ! ุงู ุฏููุงู ุฏูู ุงุณุช ฺฉู ูฺฺฏ <code>Unpin</code> ุฑุง ุจู ุฌุง <code>!Unpin</code> ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</p>
<figure>
<img alt="Concurrent work flow" src="img/trpl17-09.svg" class="center" />
<figcaption>ุดฺฉู 17-9: ุฌุงฺฏุฒู ฺฉ String ุจุง ฺฉ String ฺฉุงููุงู ูุชูุงูุช ุฏุฑ ุญุงูุธู.</figcaption>
</figure>
<p>ุงฺฉููู ุจูโุงูุฏุงุฒู ฺฉุงู ูโุฏุงูู ุชุง ุฎุทุงูุง ฺฉู ุจุฑุง ุขู ูุฑุงุฎูุงู <code>join_all</code> ุฏุฑ ููุฑุณุช 17-17 ฺฏุฒุงุฑุด ุดุฏูุฏ ุฑุง ุฏุฑฺฉ ฺฉูู. ูุง ุฏุฑ ุงุจุชุฏุง ุณุน ฺฉุฑุฏู ุขูุฏูโูุง ุชููุฏุดุฏู ุชูุณุท ุจููฺฉโูุง async ุฑุง ุจู ฺฉ <code>Vec&lt;Box&lt;dyn Future&lt;Output = ()&gt;&gt;&gt;</code> ููุชูู ฺฉููุ ุงูุง ููุงูโุทูุฑ ฺฉู ุฏุฏูุ ุงู ุขูุฏูโูุง ููฺฉู ุงุณุช ุงุฑุฌุงุนุงุช ุฏุงุฎู ุฏุงุดุชู ุจุงุดูุฏุ ุจูุงุจุฑุงู ูฺฺฏ <code>Unpin</code> ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉููุฏ. ุขูโูุง ูุงุฒ ุจู pin ุดุฏู ุฏุงุฑูุฏุ ู ุณูพุณ ูโุชูุงูู ููุน <code>Pin</code> ุฑุง ุจู <code>Vec</code> ุงุฑุณุงู ฺฉููุ ุจุง ุงุทููุงู ุงุฒ ุงูฺฉู ุฏุงุฏูโูุง ุฒุฑุจูุง ุฏุฑ ุขูุฏูโูุง <em>ุฌุงุจูโุฌุง ูุฎูุงููุฏ ุดุฏ</em>.</p>
<p><code>Pin</code> ู <code>Unpin</code> ุจุดุชุฑ ุจุฑุง ุณุงุฎุช ฺฉุชุงุจุฎุงููโูุง ุณุทุญ ูพุงู ุง ููุช ฺฉู ุฎูุฏุชุงู ฺฉ runtime ูโุณุงุฒุฏ ููู ูุณุชูุฏุ ูู ุจุฑุง ฺฉุฏ ุฑูุฒูุฑู ุฑุงุณุช. ููุช ุงู Traits ุฑุง ุฏุฑ ูพุงูโูุง ุฎุทุง ูุดุงูุฏู ูโฺฉูุฏุ ุงฺฉููู ุงุฏู ุจูุชุฑ ุงุฒ ูุญูู ุฑูุน ฺฉุฏ ุฎูุงูุฏ ุฏุงุดุช!</p>
<blockquote>
<p>ูฺฉุชู: ุงู ุชุฑฺฉุจ <code>Pin</code> ู <code>Unpin</code> ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ฺฉ ฺฉูุงุณ ฺฉุงูู ุงุฒ ููุนโูุง ูพฺุฏู ุฏุฑ ุฑุงุณุช ุงูู ุจุงุดูุฏ ฺฉู ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุจู ุฏูู ุฎูุฏุงุฑุฌุงุน ุจูุฏู ุฏุดูุงุฑ ุจุฑุง ูพุงุฏูโุณุงุฒ ูุณุชูุฏ. ููุนโูุง ฺฉู ูุงุฒ ุจู <code>Pin</code> ุฏุงุฑูุฏ <em>ุจุดุชุฑ</em> ุฏุฑ ุฑุงุณุช async ุงูุฑูุฒ ุธุงูุฑ ูโุดููุฏุ ุงูุง ููฺฉู ุงุณุชโุจุณุงุฑ ุจูโูุฏุฑุช!โุฏุฑ ุฒูููโูุง ุฏฺฏุฑ ูุฒ ุจุจูุฏ.</p>
<p>ุฌุฒุฆุงุช ูุญูู ฺฉุงุฑ <code>Pin</code> ู <code>Unpin</code> ู ููุงูู ฺฉู ุจุงุฏ ุฑุนุงุช ฺฉููุฏุ ุจูโุทูุฑ ฺฏุณุชุฑุฏู ุฏุฑ ูุณุชูุฏุงุช API ุจุฑุง <code>std::pin</code> ูพูุดุด ุฏุงุฏู ุดุฏูโุงูุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ูโุฎูุงูุฏ ุขูโูุง ุฑุง ุนููโุชุฑ ุฏุฑฺฉ ฺฉูุฏุ ุงู ูฺฉุงู ุฎูุจ ุจุฑุง ุดุฑูุน ุงุณุช.</p>
<p>ุงฺฏุฑ ูโุฎูุงูุฏ ุจูููุฏ ฺฉู โุฏุฑ ูพุดุช ุตุญููโ ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏุ ฺฉุชุงุจ ุฑุณู <a href="https://rust-lang.github.io/async-book/"><em>ุจุฑูุงููโููุณ ูุงููฺฏุงู ุฏุฑ ุฑุงุณุช</em></a> ูพุงุณุฎฺฏู ุดูุงุณุช:</p>
<ul>
<li><a href="https://rust-lang.github.io/async-book/02_execution/01_chapter.html">Chapter 2: Under the Hood: Executing Futures and Tasks</a></li>
<li><a href="https://rust-lang.github.io/async-book/04_pinning/01_chapter.html">Chapter 4: Pinning</a></li>
</ul>
</blockquote>
<h3 id="the-stream-trait"><a class="header" href="#the-stream-trait">The Stream Trait</a></h3>
<p>ุงฺฉููู ฺฉู ุฏุฑฺฉ ุนููโุชุฑ ุงุฒ Traitsโูุง <code>Future</code>ุ <code>Pin</code>ุ ู <code>Unpin</code> ุฏุงุฑูุ ูโุชูุงูู ุชูุฌู ุฎูุฏ ุฑุง ุจู Trait <code>Stream</code> ูุนุทูู ฺฉูู. ููุงูุทูุฑ ฺฉู ุฏุฑ ุจุฎุด ูุนุฑู streams ุชูุถุญ ุฏุงุฏู ุดุฏุ streams ูุดุงุจู iteratorูุง ูุงููฺฏุงู ูุณุชูุฏ. ุจุฑุฎูุงู <code>Iterator</code> ู <code>Future</code>ุ ุฏุฑ ุฒูุงู ูฺฏุงุฑุด ุงู ูุชูุ ุชุนุฑู <code>Stream</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุฌูุฏ ูุฏุงุฑุฏุ ุงูุง ฺฉ ุชุนุฑู ุจุณุงุฑ ุฑุงุฌ ุงุฒ crate <code>futures</code> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ุณุฑุงุณุฑ ุงฺฉูุณุณุชู ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<p>ุจุงุฏ ุชุนุงุฑู Traitsโูุง <code>Iterator</code> ู <code>Future</code> ุฑุง ูุฑูุฑ ฺฉูู ุชุง ุจุชูุงูู ุชุตูุฑ ฺฉูู ฺฉ Trait <code>Stream</code> ฺฉู ุงู ุฏู ุฑุง ุชุฑฺฉุจ ูโฺฉูุฏ ฺฺฏููู ููฺฉู ุงุณุช ุจู ูุธุฑ ุจุฑุณุฏ. ุงุฒ <code>Iterator</code>ุ ููููู ฺฉ ุชูุงู ุฑุง ุฏุงุฑู: ูุชุฏ <code>next</code> ุขู ฺฉ <code>Option&lt;Self::Item&gt;</code> ูุฑุงูู ูโฺฉูุฏ. ุงุฒ <code>Future</code>ุ ููููู ุขูุงุฏู ุดุฏู ุฏุฑ ุทูู ุฒูุงู ุฑุง ุฏุงุฑู: ูุชุฏ <code>poll</code> ุขู ฺฉ <code>Poll&lt;Self::Output&gt;</code> ูุฑุงูู ูโฺฉูุฏ. ุจุฑุง ููุงุด ฺฉ ุชูุงู ุงุฒ ุขุชูโูุง ฺฉู ุฏุฑ ุทูู ุฒูุงู ุขูุงุฏู ูโุดููุฏุ ฺฉ Trait <code>Stream</code> ุชุนุฑู ูโฺฉูู ฺฉู ุงู ูฺฺฏโูุง ุฑุง ุชุฑฺฉุจ ูโฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::pin::Pin;
use std::task::{Context, Poll};

trait Stream {
    type Item;

    fn poll_next(
        self: Pin&lt;&amp;mut Self&gt;,
        cx: &amp;mut Context&lt;'_&gt;
    ) -&gt; Poll&lt;Option&lt;Self::Item&gt;&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>Trait <code>Stream</code> ฺฉ ููุน ูุฑุชุจุท ุจู ูุงู <code>Item</code> ุจุฑุง ููุน ุขุชูโูุง ฺฉู ุชูุณุท stream ุชููุฏ ูโุดููุฏ ุชุนุฑู ูโฺฉูุฏ. ุงู ูุดุงุจู ุจุง <code>Iterator</code> ุงุณุช: ููฺฉู ุงุณุช ุชุนุฏุงุฏ ุงู ุขุชูโูุง ุตูุฑ ุชุง ุจโููุงุช ุจุงุดุฏุ ุจุฑุฎูุงู <code>Future</code> ฺฉู ููุดู ฺฉ <code>Output</code> ูุงุญุฏ ุฏุงุฑุฏ (ุญุช ุงฺฏุฑ ููุน ูุงุญุฏ <code>()</code> ุจุงุดุฏ).</p>
<p><code>Stream</code> ููฺูู ฺฉ ูุชุฏ ุจุฑุง ุฏุฑุงูุช ุงู ุขุชูโูุง ุชุนุฑู ูโฺฉูุฏ. ูุง ุขู ุฑุง <code>poll_next</code> ูโูุงูู ุชุง ูุงุถุญ ุจุงุดุฏ ฺฉู ุงู ูุชุฏ ุจู ููุงู ุฑูุด ฺฉู <code>Future::poll</code> ุจุฑุฑุณ ูโฺฉูุฏุ ุขุชูโูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ุจู ููุงู ุฑูุด ฺฉู <code>Iterator::next</code> ฺฉ ุชูุงู ุงุฒ ุขุชูโูุง ุชููุฏ ูโฺฉูุฏุ ุขุชูโูุง ุฑุง ุชููุฏ ูโฺฉูุฏ. ููุน ุจุงุฒฺฏุดุช ุขู <code>Poll</code> ุฑุง ุจุง <code>Option</code> ุชุฑฺฉุจ ูโฺฉูุฏ. ููุน ุฎุงุฑุฌ <code>Poll</code> ุงุณุชุ ุฒุฑุง ุจุงุฏ ุจุฑุง ุขูุงุฏู ุจูุฏู ุจุฑุฑุณ ุดูุฏุ ููุงูโุทูุฑ ฺฉู ฺฉ ุขูุฏู ุจุฑุฑุณ ูโุดูุฏ. ููุน ุฏุงุฎู <code>Option</code> ุงุณุชุ ุฒุฑุง ุจุงุฏ ูุดุงู ุฏูุฏ ฺฉู ุขุง ูพุงูโูุง ุจุดุชุฑ ูุฌูุฏ ุฏุงุฑุฏ ุง ููุ ููุงูโุทูุฑ ฺฉู ฺฉ iterator ุงูุฌุงู ูโุฏูุฏ.</p>
<p>ฺุฒ ุจุณุงุฑ ูุดุงุจู ุจุง ุงู ุงุญุชูุงูุงู ุฏุฑ ููุงุช ุจูโุนููุงู ุจุฎุด ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุงุณุช ุงุณุชุงูุฏุงุฑุฏุณุงุฒ ุฎูุงูุฏ ุดุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ุงู Trait ุจุฎุด ุงุฒ ุงุจุฒุงุฑ ุงฺฉุซุฑ runtimeโูุง ุงุณุชุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ุฑู ุขู ุญุณุงุจ ฺฉูุฏ ู ููู ฺุฒูุง ฺฉู ุฏุฑ ุงุฏุงูู ูโุจูุฏ ุนูููุงู ูุงุจู ุงุนูุงู ูุณุชูุฏ!</p>
<p>ุจุง ุงู ุญุงูุ ุฏุฑ ูุซุงู ฺฉู ุฏุฑ ุจุฎุด ูุฑุจูุท ุจู streams ุฏุฏูุ ูุง ุงุฒ <code>poll_next</code> ุง <code>Stream</code> ุงุณุชูุงุฏู ูฺฉุฑุฏูุ ุจูฺฉู ุงุฒ <code>next</code> ู <code>StreamExt</code> ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงูุจุชู ูโุชูุงูู ูุณุชููุงู ุงุฒ API <code>poll_next</code> ุงุณุชูุงุฏู ฺฉูู ู ูุงุดูโูุง ุญุงูุช <code>Stream</code> ุฎูุฏ ุฑุง ุจุง ุฏุณุช ุจููุณูุ ููุงูโุทูุฑ ฺฉู ูโุชูุงูู ูุณุชููุงู ุงุฒ ุทุฑู ูุชุฏ <code>poll</code> ุจุง ุขูุฏูโูุง ฺฉุงุฑ ฺฉูู. ุงูุง ุงุณุชูุงุฏู ุงุฒ <code>await</code> ุจุณุงุฑ ุฏููพุฐุฑุชุฑ ุงุณุชุ ุจูุงุจุฑุงู Trait <code>StreamExt</code> ูุชุฏ <code>next</code> ุฑุง ูุฑุงูู ูโฺฉูุฏ ุชุง ุจุชูุงูู ุฏููุงู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู.</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::pin::Pin;
</span><span class="boring">use std::task::{Context, Poll};
</span><span class="boring">
</span><span class="boring">trait Stream {
</span><span class="boring">    type Item;
</span><span class="boring">    fn poll_next(
</span><span class="boring">        self: Pin&lt;&amp;mut Self&gt;,
</span><span class="boring">        cx: &amp;mut Context&lt;'_&gt;,
</span><span class="boring">    ) -&gt; Poll&lt;Option&lt;Self::Item&gt;&gt;;
</span><span class="boring">}
</span><span class="boring">
</span>trait StreamExt: Stream {
    async fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;
    where
        Self: Unpin;

    // other methods...
}
<span class="boring">}</span></code></pre></pre>
<!--
TODO: update this if/when tokio/etc. update their MSRV and switch to using async functions
in traits, since the lack thereof is the reason they do not yet have this.
-->
<blockquote>
<p>ูฺฉุชู: ุชุนุฑู ูุงูุน ฺฉู ูุจูุงู ุฏุฑ ุงู ูุตู ุงุณุชูุงุฏู ฺฉุฑุฏู ฺฉู ูุชูุงูุช ุจู ูุธุฑ ูโุฑุณุฏุ ุฒุฑุง ุงุฒ ูุณุฎูโูุง ุงุฒ ุฑุงุณุช ูพุดุชุจุงู ูโฺฉูุฏ ฺฉู ูููุฒ ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน async ุฏุฑ Traits ูพุดุชุจุงู ููโฺฉููุฏ. ุฏุฑ ูุชุฌูุ ุงูโฺฏููู ุจู ูุธุฑ ูโุฑุณุฏ:</p>
<pre><code class="language-rust ignore">fn next(&amp;mut self) -&gt; Next&lt;'_, Self&gt; where Self: Unpin;</code></pre>
<p>ููุน <code>Next</code> ฺฉ <code>struct</code> ุงุณุช ฺฉู <code>Future</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ุฑุงู ุจุฑุง ูุงูโฺฏุฐุงุฑ ุทูู ุนูุฑ ุงุฑุฌุงุน ุจู <code>self</code> ุจุง <code>Next&lt;'_, Self&gt;</code> ูุฑุงูู ูโฺฉูุฏุ ุจูโุทูุฑ ฺฉู <code>await</code> ุจุชูุงูุฏ ุจุง ุงู ูุชุฏ ฺฉุงุฑ ฺฉูุฏ!</p>
</blockquote>
<p>Trait <code>StreamExt</code> ููฺูู ูุญู ุชูุงู ูุชุฏูุง ุฌุงูุจ ุงุณุช ฺฉู ูโุชูุงู ุจุง streams ุงุณุชูุงุฏู ฺฉุฑุฏ. <code>StreamExt</code> ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุจุฑุง ูุฑ ููุน ฺฉู <code>Stream</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูพุงุฏูโุณุงุฒ ูโุดูุฏุ ุงูุง ุงู Traits ุจูโุทูุฑ ุฌุฏุงฺฏุงูู ุชุนุฑู ุดุฏูโุงูุฏ ุชุง ุฌุงูุนู ุจุชูุงูุฏ ุจูโุตูุฑุช ุฌุฏุงฺฏุงูู ุฑู Trait ุจูุงุฏ ู APIโูุง ุฑุงุญุช ฺฉุงุฑ ฺฉูุฏ.</p>
<p>ุฏุฑ ูุณุฎู <code>StreamExt</code> ุงุณุชูุงุฏูโุดุฏู ุฏุฑ crate <code>trpl</code>ุ ุงู Trait ูู ุชููุง ูุชุฏ <code>next</code> ุฑุง ุชุนุฑู ูโฺฉูุฏุ ุจูฺฉู ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ <code>next</code> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุฌุฒุฆุงุช ูุฑุงุฎูุงู <code>Stream::poll_next</code> ุฑุง ุจูโุฏุฑุณุช ูุฏุฑุช ูโฺฉูุฏ. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุญุช ุฒูุงู ฺฉู ูุงุฒ ุฏุงุฑุฏ ููุน ุฏุงุฏูโูุง ุฌุฑุงู ุฎูุฏ ุฑุง ุจููุณุฏุ ููุท ฺฉุงู ุงุณุช <code>Stream</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ู ุณูพุณ ูุฑฺฉุณ ฺฉู ุงุฒ ููุน ุฏุงุฏู ุดูุง ุงุณุชูุงุฏู ฺฉูุฏุ ูโุชูุงูุฏ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุงุฒ <code>StreamExt</code> ู ูุชุฏูุง ุขู ุจุง ุขู ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุงู ุชูุงู ฺุฒ ุงุณุช ฺฉู ุฏุฑุจุงุฑู ุฌุฒุฆุงุช ุณุทุญ ูพุงู ุงู Traits ูพูุดุด ุฎูุงูู ุฏุงุฏ. ุจุฑุง ุฌูุนโุจูุฏุ ุจุงุฏ ุฏุฑ ูุธุฑ ุจฺฏุฑู ฺฉู ฺฺฏููู ุขูุฏูโูุง (ุดุงูู streams)ุ ุชุณฺฉโูุงุ ู ูุฎโูุง ููฺฏ ุจุง ูู ุณุงุฒฺฏุงุฑ ูุณุชูุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฌูุนุจูุฏ-futures-tasks-ู-threads"><a class="header" href="#ุฌูุนุจูุฏ-futures-tasks-ู-threads">ุฌูุนโุจูุฏ: Futuresุ Tasksุ ู Threads</a></h2>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ <a href="http://localhost:3000/ch16-00-concurrency.html">ูุตู ฑถ</a><!-- ignore --> ุฏุฏูุ Threads ฺฉ ุงุฒ ุฑูุดโูุง ููุฒูุงู ุฑุง ูุฑุงูู ูโฺฉููุฏ. ุฏุฑ ุงู ูุตู ุจุง ุฑูุด ุฏฺฏุฑ ุขุดูุง ุดุฏู: ุงุณุชูุงุฏู ุงุฒ async ุจุง Futures ู Streams. ุงฺฏุฑ ุจุฑุงุชุงู ุณุคุงู ูพุด ุขูุฏู ฺฉู ฺู ุฒูุงู ุจุงุฏ ฺฉ ุงุฒ ุงู ุฑูุดโูุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ูพุงุณุฎ ุงู ุงุณุช: ุจุณุชฺฏ ุฏุงุฑุฏ! ู ุฏุฑ ุจุณุงุฑ ุงุฒ ููุงุฑุฏุ ุงูุชุฎุงุจ ููุท ุจู Threads <em>ุง</em> async ูุณุชุ ุจูฺฉู ุชุฑฺฉุจ ุงุฒ Threads <em>ู</em> async ุงุณุช.</p>
<p>ุจุณุงุฑ ุงุฒ ุณุณุชูโุนุงููโูุง ูุฏูโูุง ููุฒูุงู ูุจุชู ุจุฑ Threads ุฑุง ุฏููโูุงุณุช ฺฉู ูุฑุงูู ฺฉุฑุฏูโุงูุฏ ู ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุงุฒ ุงู ูุฏูโูุง ูพุดุชุจุงู ูโฺฉููุฏ. ุจุง ุงู ุญุงูุ ุงู ูุฏูโูุง ุจุฏูู ููุงุท ุถุนู ูุณุชูุฏ. ุฏุฑ ุจุณุงุฑ ุงุฒ ุณุณุชูโุนุงููโูุงุ ูุฑ Thread ููุฏุงุฑ ุฒุงุฏ ุญุงูุธู ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุฑุงูโุงูุฏุงุฒ ู ุฎุงููุด ฺฉุฑุฏู ุขูโูุง ูุฒ ูุฒููโุง ุจู ููุฑุงู ุฏุงุฑุฏ. Threads ููฺูู ููุท ุฒูุงู ูุงุจู ุงุณุชูุงุฏู ูุณุชูุฏ ฺฉู ุณุณุชูโุนุงูู ู ุณุฎุชโุงูุฒุงุฑ ุดูุง ุงุฒ ุขูโูุง ูพุดุชุจุงู ฺฉููุฏ. ุจุฑุฎูุงู ฺฉุงููพูุชุฑูุง ุฏุณฺฉุชุงูพ ู ููุจุงู ุงุตูุ ุจุฑุฎ ุงุฒ ุณุณุชูโูุง ุชุนุจูโุดุฏู (<em>embedded systems</em>) ูฺ ุณุณุชูโุนุงูู ูุฏุงุฑูุฏ ู ุจูุงุจุฑุงู Threads ูู ูุฏุงุฑูุฏ.</p>
<p>ูุฏู async ูุฌููุนูโุง ูุชูุงูุช ู ุฏุฑ ููุงุช ูฺฉูู ุงุฒ ูุตุงูุญูโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุฏุฑ ูุฏู asyncุ ุนููุงุช ููุฒูุงู ูุงุฒ ุจู Threadูุง ุฌุฏุงฺฏุงูู ูุฏุงุฑูุฏ. ุฏุฑ ุนูุถุ ูโุชูุงููุฏ ุจุฑ ุฑู Tasks ุงุฌุฑุง ุดููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด Streams ุงุฒ <code>trpl::spawn_task</code> ุจุฑุง ุดุฑูุน ฺฉุงุฑ ุงุฒ ฺฉ ุชุงุจุน ููุฒูุงู ุงุณุชูุงุฏู ฺฉุฑุฏู. ฺฉ Task ูุดุงุจู ฺฉ Thread ุงุณุชุ ุงูุง ุจู ุฌุง ุงูฺฉู ุชูุณุท ุณุณุชูโุนุงูู ูุฏุฑุช ุดูุฏุ ุชูุณุท ฺฉุฏ ุณุทุญ ฺฉุชุงุจุฎุงููโุง ุนู Runtime ูุฏุฑุช ูโุดูุฏ.</p>
<p>ุฏุฑ ุจุฎุด ูุจูุ ุฏุฏู ฺฉู ูโุชูุงูู ฺฉ Stream ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ฺฉุงูุงู async ู ุงุฌุงุฏ ฺฉ Task async ฺฉู ูโุชูุงูู ุงุฒ ฺฉุฏ ููุฒูุงู ูุฑุงุฎูุงู ฺฉููุ ุจุณุงุฒู. ูโุชูุงูู ููู ฺฉุงุฑ ุฑุง ุจุง ฺฉ Thread ุงูุฌุงู ุฏูู. ุฏุฑ ูุณุช ฑท-ดฐ ุงุฒ <code>trpl::spawn_task</code> ู <code>trpl::sleep</code> ุงุณุชูุงุฏู ฺฉุฑุฏู. ุฏุฑ ูุณุช ฑท-ดฑุ ุงู ููุงุฑุฏ ุฑุง ุจุง APIูุง <code>thread::spawn</code> ู <code>thread::sleep</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฏุฑ ุชุงุจุน <code>get_intervals</code> ุฌุงฺฏุฒู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // required for mdbook test
</span><span class="boring">
</span><span class="boring">use std::{pin::pin, thread, time::Duration};
</span><span class="boring">
</span><span class="boring">use trpl::{ReceiverStream, Stream, StreamExt};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    trpl::run(async {
</span><span class="boring">        let messages = get_messages().timeout(Duration::from_millis(200));
</span><span class="boring">        let intervals = get_intervals()
</span><span class="boring">            .map(|count| format!("Interval #{count}"))
</span><span class="boring">            .throttle(Duration::from_millis(500))
</span><span class="boring">            .timeout(Duration::from_secs(10));
</span><span class="boring">        let merged = messages.merge(intervals).take(20);
</span><span class="boring">        let mut stream = pin!(merged);
</span><span class="boring">
</span><span class="boring">        while let Some(result) = stream.next().await {
</span><span class="boring">            match result {
</span><span class="boring">                Ok(item) =&gt; println!("{item}"),
</span><span class="boring">                Err(reason) =&gt; eprintln!("Problem: {reason:?}"),
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn get_messages() -&gt; impl Stream&lt;Item = String&gt; {
</span><span class="boring">    let (tx, rx) = trpl::channel();
</span><span class="boring">
</span><span class="boring">    trpl::spawn_task(async move {
</span><span class="boring">        let messages = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
</span><span class="boring">
</span><span class="boring">        for (index, message) in messages.into_iter().enumerate() {
</span><span class="boring">            let time_to_sleep = if index % 2 == 0 { 100 } else { 300 };
</span><span class="boring">            trpl::sleep(Duration::from_millis(time_to_sleep)).await;
</span><span class="boring">
</span><span class="boring">            if let Err(send_error) = tx.send(format!("Message: '{message}'")) {
</span><span class="boring">                eprintln!("Cannot send message '{message}': {send_error}");
</span><span class="boring">                break;
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    });
</span><span class="boring">
</span><span class="boring">    ReceiverStream::new(rx)
</span><span class="boring">}
</span><span class="boring">
</span>fn get_intervals() -&gt; impl Stream&lt;Item = u32&gt; {
    let (tx, rx) = trpl::channel();

    // This is *not* `trpl::spawn` but `std::thread::spawn`!
    thread::spawn(move || {
        let mut count = 0;
        loop {
            // Likewise, this is *not* `trpl::sleep` but `std::thread::sleep`!
            thread::sleep(Duration::from_millis(1));
            count += 1;

            if let Err(send_error) = tx.send(count) {
                eprintln!("Could not send interval {count}: {send_error}");
                break;
            };
        }
    });

    ReceiverStream::new(rx)
}</code></pre></pre>
<figcaption>Listing 17-41: ุงุณุชูุงุฏู ุงุฒ APIูุง <code>std::thread</code> ุจู ุฌุง APIูุง async <code>trpl</code> ุจุฑุง ุชุงุจุน <code>get_intervals</code></figcaption>
</figure>
<p>ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุฎุฑูุฌ ุขู ุฏููุงู ูุดุงุจู ูุณุช ฑท-ดฐ ุฎูุงูุฏ ุจูุฏ. ู ุชูุฌู ฺฉูุฏ ฺฉู ุงุฒ ุฏุฏ ฺฉุฏ ฺฉู ูุฑุงุฎูุงู ุงูุฌุงู ูโุฏูุฏุ ุชุบุฑุงุช ุจุณุงุฑ ฺฉู ูุฌูุฏ ุฏุงุฑุฏ. ุนูุงูู ุจุฑ ุงูุ ุญุช ุงฺฏุฑ ฺฉ ุงุฒ ุชูุงุจุน ูุง ฺฉ Task async ุฑุง ุฑู Runtime ุงุฌุงุฏ ฺฉุฑุฏู ู ุฏฺฏุฑ ฺฉ Thread ุณุณุชูโุนุงูู ุฑุง ุงุฌุงุฏ ฺฉุฑุฏู ุจุงุดุฏุ Streamูุง ุญุงุตู ุงุฒ ุงู ุชูุงูุชโูุง ุชุฃุซุฑ ููโฺฏุฑูุฏ.</p>
<p>ุจุง ูุฌูุฏ ุดุจุงูุชโูุงุดุงูุ ุงู ุฏู ุฑูฺฉุฑุฏ ุฑูุชุงุฑูุง ุจุณุงุฑ ูุชูุงูุช ุฏุงุฑูุฏุ ุงฺฏุฑฺู ููฺฉู ุงุณุช ุฏุฑ ุงู ูุซุงู ุจุณุงุฑ ุณุงุฏู ุณุฎุช ุจุงุดุฏ ุงู ุชูุงูุชโูุง ุฑุง ุงูุฏุงุฒูโฺฏุฑ ฺฉูู. ูโุชูุงูู ููููโูุง Task async ุฑุง ุฑู ูุฑ ฺฉุงููพูุชุฑ ุดุฎุต ูุฏุฑู ุงุฌุงุฏ ฺฉูู. ุงูุง ุงฺฏุฑ ุจุฎูุงูู ููู ฺฉุงุฑ ุฑุง ุจุง Threads ุงูุฌุงู ุฏููุ ูุงูุนุงู ุงุฒ ุญุงูุธู ุฎุงุฑุฌ ุฎูุงูู ุดุฏ!</p>
<p>ุงูุง ุฏูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุงู APIูุง ุงูโูุฏุฑ ูุดุงุจู ูุณุชูุฏ. ูุฎโูุง ุจู ุนููุงู ูุฑุฒ ุจุฑุง ูุฌููุนูโุง ุงุฒ ุนููุงุช ููุฒูุงู ุนูู ูโฺฉููุฏุ ููุฒูุงู <em>ุจู</em> ูุฎโูุง ููฺฉู ุงุณุช. tasks ุจู ุนููุงู ูุฑุฒ ุจุฑุง ูุฌููุนูโุง ุงุฒ ุนููุงุช <em>ุบุฑููุฒูุงู</em> ุนูู ูโฺฉููุฏุ ููุฒูุงู ูู <em>ุจู</em> ู ูู <em>ุฏุฑูู</em> tasks ููฺฉู ุงุณุชุ ุฒุฑุง ฺฉ task ูโุชูุงูุฏ ุจู futures ุฏุฑ ุจุฏูู ุฎูุฏ ุฌุงุจูโุฌุง ุดูุฏ. ุฏุฑ ููุงุชุ futures ฺฉูฺฺฉโุชุฑู ูุงุญุฏ ููุฒูุงู ุฏุฑ Rust ูุณุชูุฏ ู ูุฑ future ููฺฉู ุงุณุช ฺฉ ุฏุฑุฎุช ุงุฒ futures ุฏฺฏุฑ ุฑุง ููุงูุฏฺฏ ฺฉูุฏ. runtimeโุจูโูฺูุ executor ุขูโtasks ุฑุง ูุฏุฑุช ูโฺฉูุฏ ู tasks futures ุฑุง ูุฏุฑุช ูโฺฉููุฏ. ุงุฒ ุงู ูุธุฑุ tasks ุดุจู ูุฎโูุง ุณุจฺฉ ู ูุฏุฑุชโุดุฏู ุชูุณุท runtime ูุณุชูุฏ ฺฉู ูุงุจูุชโูุง ุจุดุชุฑ ุฏุงุฑูุฏ ุฒุฑุง ุชูุณุท runtime ุจู ุฌุง ุณุณุชูโุนุงูู ูุฏุฑุช ูโุดููุฏ.</p>
<p>ุงู ุจุฏุงู ูุนูุง ูุณุช ฺฉู Taskูุง async ููุดู ุจูุชุฑ ุงุฒ Threads ูุณุชูุฏ (ุง ุจุฑุนฺฉุณ). ููุฒูุงู ุจุง Threads ุงุฒ ุจุฑุฎ ุฌูุงุช ูุฏู ุจุฑูุงููโููุณ ุณุงุฏูโุชุฑ ูุณุจุช ุจู ููุฒูุงู ุจุง <code>async</code> ุงุณุช. ุงู ูโุชูุงูุฏ ฺฉ ููุทู ููุช ุง ุถุนู ุจุงุดุฏ. Threads ุชุง ุญุฏูุฏ โุขุชุด ู ูุฑุงููุดโ (<em>fire and forget</em>) ูุณุชูุฏุ ุขูโูุง ูุนุงุฏู ุฐุงุช ุจุฑุง ฺฉ Future ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุจุฏูู ุงูฺฉู ุฌุฒ ุชูุณุท ุฎูุฏ ุณุณุชูโุนุงูู ูุชููู ุดููุฏุ ุชุง ุงูุชูุง ุงุฌุฑุง ูโุดููุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุขูโูุง ูพุดุชุจุงู ุฏุงุฎู ุจุฑุง <em>ููุฒูุงู ุฏุฑูู ูุธููโุง</em> (<em>intratask concurrency</em>) ูุงููุฏ Futures ูุฏุงุฑูุฏ. ููฺููุ Threads ุฏุฑ Rust ูฺ ูฺฉุงูุฒู ุจุฑุง ูุบู ูุฏุงุฑูุฏโููุถูุน ฺฉู ุจูโุทูุฑ ุตุฑุญ ุฏุฑ ุงู ูุตู ุจู ุขู ูพุฑุฏุงุฎุชู ูุดุฏู ุงุณุชุ ุงูุง ุงุฒ ุงู ูุงูุนุช ฺฉู ูุฑ ุฒูุงู ฺฉ Future ุจู ูพุงุงู ูโุฑุณุฏุ ูุถุนุช ุขู ุจู ุฏุฑุณุช ูพุงฺฉโุณุงุฒ ูโุดุฏุ ุจูโุทูุฑ ุถูู ุจุงู ุดุฏู ุงุณุช.</p>
<p>ุงู ูุญุฏูุฏุชโูุง ููฺูู ุจุงุนุซ ูโุดููุฏ Threads ุณุฎุชโุชุฑ ุงุฒ Futures ุชุฑฺฉุจ ุดููุฏ. ุจุฑุง ูุซุงูุ ุงุณุชูุงุฏู ุงุฒ Threads ุจุฑุง ุณุงุฎุช ุงุจุฒุงุฑูุง ูุงููุฏ ูุชุฏูุง <code>timeout</code> ู <code>throttle</code> ฺฉู ูุจูุงู ุฏุฑ ุงู ูุตู ุณุงุฎุชูโุงูุ ุจุณุงุฑ ุฏุดูุงุฑุชุฑ ุงุณุช. ุงู ูุงูุนุช ฺฉู Futures ุณุงุฎุชุงุฑ ุฏุงุฏู ุบูโุชุฑ ูุณุชูุฏ ุจู ุงู ูุนูุงุณุช ฺฉู ุขูโูุง ูโุชูุงููุฏ ุจูโุทูุฑ ุทุจุนโุชุฑ ุจุง ูู ุชุฑฺฉุจ ุดููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฏูโุงู.</p>
<p>Tasksุ ุฏุฑ ูุชุฌูุ ฺฉูุชุฑู <em>ุงุถุงููโุง</em> ุจุฑ ุฑู Futures ุจู ูุง ูโุฏููุฏ ู ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉู ุงูุชุฎุงุจ ฺฉูู ฺฉุฌุง ู ฺฺฏููู ุขูโูุง ุฑุง ฺฏุฑููโุจูุฏ ฺฉูู. ู ูุนููู ูโุดูุฏ ฺฉู Threads ู Tasks ุงุบูุจ ุจู ุฎูุจ ุจุง ูู ฺฉุงุฑ ูโฺฉููุฏุ ุฒุฑุง Tasks ูโุชูุงููุฏ (ุญุฏุงูู ุฏุฑ ุจุฑุฎ Runtimeูุง) ุจู Threads ุฌุงุจูโุฌุง ุดููุฏ. ุฏุฑ ูุงูุนุ ุฏุฑ ูพุณโุฒูููุ Runtime ฺฉู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูโุงุฒ ุฌููู ุชูุงุจุน <code>spawn_blocking</code> ู <code>spawn_task</code>โุจู ุทูุฑ ูพุดโูุฑุถ ฺูุฏ Thread (<em>multithreaded</em>) ุงุณุช! ุจุณุงุฑ ุงุฒ Runtimeูุง ุงุฒ ุฑูฺฉุฑุฏ ุจู ูุงู <em>ุฏุฒุฏุฏู ฺฉุงุฑ</em> (<em>work stealing</em>) ุงุณุชูุงุฏู ูโฺฉููุฏ ุชุง Tasks ุฑุง ุจูโุทูุฑ ุดูุงู ุจู Threads ุฌุงุจูโุฌุง ฺฉููุฏุ ุจุฑ ุงุณุงุณ ุงูฺฉู ฺฺฏููู Threads ุฏุฑ ุญุงู ุญุงุถุฑ ุงุณุชูุงุฏู ูโุดููุฏุ ุชุง ุนููฺฉุฑุฏ ฺฉู ุณุณุชู ุฑุง ุจูุจูุฏ ุจุฎุดูุฏ. ุงู ุฑูฺฉุฑุฏ ุฏุฑ ูุงูุน ุจู Threads <em>ู</em> Tasksุ ู ุจูุงุจุฑุงู Futures ูุงุฒ ุฏุงุฑุฏ.</p>
<p>ููุช ุฏุฑ ููุฑุฏ ุงุณุชูุงุฏู ุงุฒ ุฑูุดโูุง ูุฎุชูู ูฺฉุฑ ูโฺฉูุฏุ ุงู ููุงูู ฺฉู ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:</p>
<ul>
<li>ุงฺฏุฑ ฺฉุงุฑ <em>ุจู ุดุฏุช ูุงุจู ููุงุฒโุณุงุฒ</em> ุงุณุชุ ูุงููุฏ ูพุฑุฏุงุฒุด ููุฏุงุฑ ุฒุงุฏ ุฏุงุฏู ฺฉู ูุฑ ุจุฎุด ูโุชูุงูุฏ ุฌุฏุงฺฏุงูู ูพุฑุฏุงุฒุด ุดูุฏุ Threads ุงูุชุฎุงุจ ุจูุชุฑ ูุณุชูุฏ.</li>
<li>ุงฺฏุฑ ฺฉุงุฑ <em>ุจู ุดุฏุช ููุฒูุงู</em> ุงุณุชุ ูุงููุฏ ูุฏุฑุช ูพุงูโูุง ุงุฒ ููุงุจุน ูุฎุชูู ฺฉู ููฺฉู ุงุณุช ุฏุฑ ููุงุตู ุง ูุฑุฎโูุง ูุฎุชูู ูุงุฑุฏ ุดููุฏุ async ุงูุชุฎุงุจ ุจูุชุฑ ุงุณุช.</li>
</ul>
<p>ู ุงฺฏุฑ ุจู ูุฑ ุฏู ููุงุฒโุณุงุฒ ู ููุฒูุงู ูุงุฒ ุฏุงุฑุฏุ ูุงุฒู ูุณุช ุจู Threads ู async ฺฉ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ูโุชูุงูุฏ ุงุฒ ูุฑ ุฏู ุจู ุทูุฑ ุขุฒุงุฏุงูู ุงุณุชูุงุฏู ฺฉูุฏ ู ุงุฌุงุฒู ุฏูุฏ ูุฑ ฺฉุฏุงู ููุด ฺฉู ุฏุฑ ุขู ุจูุชุฑ ูุณุชูุฏ ุฑุง ุจุงุฒ ฺฉููุฏ. ุจุฑุง ูุซุงูุ ูุณุช ฑท-ดฒ ฺฉ ููููู ูุณุจุชุงู ุฑุงุฌ ุงุฒ ุงู ููุน ุชุฑฺฉุจ ุฏุฑ ฺฉุฏ Rust ุฏูุง ูุงูุน ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">extern crate trpl; // for mdbook test
</span><span class="boring">
</span>use std::{thread, time::Duration};

fn main() {
    let (tx, mut rx) = trpl::channel();

    thread::spawn(move || {
        for i in 1..11 {
            tx.send(i).unwrap();
            thread::sleep(Duration::from_secs(1));
        }
    });

    trpl::run(async {
        while let Some(message) = rx.recv().await {
            println!("{message}");
        }
    });
}</code></pre></pre>
<figcaption>Listing 17-42: ุงุฑุณุงู ูพุงูโูุง ุจุง ฺฉุฏ ูุณุฏูุฏฺฉููุฏู ุฏุฑ ฺฉ ูุฎ ู ุงูุชุธุงุฑ ุจุฑุง ูพุงูโูุง ุฏุฑ ฺฉ ุจููฺฉ async</figcaption>
</figure>
<p>ูุง ุจุง ุงุฌุงุฏ ฺฉ ฺฉุงูุงู async ุดุฑูุน ูโฺฉููุ ุณูพุณ ฺฉ Thread ุงุฌุงุฏ ูโฺฉูู ฺฉู ูุงูฺฉุช ุจุฎุด ุงุฑุณุงูโฺฉููุฏู ฺฉุงูุงู ุฑุง ุจู ุฏุณุช ูโฺฏุฑุฏ. ุฏุฑูู Threadุ ุงุนุฏุงุฏ ฑ ุชุง ฑฐ ุฑุง ุงุฑุณุงู ูโฺฉูู ู ุจู ูุฑ ุงุฑุณุงู ฺฉ ุซุงูู ูโุฎูุงุจู. ุฏุฑ ููุงุชุ ฺฉ Future ฺฉู ุจุง ฺฉ ุจููฺฉ async ุงุฌุงุฏ ุดุฏู ู ุจู <code>trpl::run</code> ุงุฑุณุงู ุดุฏู ุงุณุช ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฏุฑุณุช ููุงูโุทูุฑ ฺฉู ุฏุฑ ุทูู ุงู ูุตู ุงูุฌุงู ุฏุงุฏูโุงู. ุฏุฑ ุขู Futureุ ููุชุธุฑ ุฏุฑุงูุช ูพุงูโูุง ูโูุงููุ ุฏููุงู ูุงููุฏ ุณุงุฑ ูุซุงูโูุง ุงุฑุณุงู ูพุงู ฺฉู ุฏุฏูโุงู.</p>
<p>ุจุฑุง ุจุงุฒฺฏุดุช ุจู ุณูุงุฑู ฺฉู ูุตู ุฑุง ุจุง ุขู ุขุบุงุฒ ฺฉุฑุฏูุ ุชุตูุฑ ฺฉูุฏ ฺฉู ูุฌููุนูโุง ุงุฒ ูุธุงู ฺฉุฏฺฏุฐุงุฑ ูุฏุฆู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ Thread ุงุฎุชุตุงุต (ุฒุฑุง ฺฉุฏฺฏุฐุงุฑ ูุฏุฆู ุจู ุดุฏุช ูุงุจุณุชู ุจู ูพุฑุฏุงุฒุด ุงุณุช) ุงุฌุฑุง ูโฺฉูุฏุ ุงูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ฺฉุงูุงู async ุจู ุฑุงุจุท ฺฉุงุฑุจุฑ ุงุทูุงุน ูโุฏูุฏ ฺฉู ุขู ุนููุงุช ุจู ูพุงุงู ุฑุณุฏูโุงูุฏ. ุฏุฑ ููุงุฑุฏ ุงุณุชูุงุฏู ูุงูุนุ ุจโุดูุงุฑ ููููู ุงุฒ ุงู ููุน ุชุฑฺฉุจโูุง ูุฌูุฏ ุฏุงุฑุฏ.</p>
<h2 id="ุฎูุงุตู-16"><a class="header" href="#ุฎูุงุตู-16">ุฎูุงุตู</a></h2>
<p>ุงู ุขุฎุฑู ุจุงุฑ ูุณุช ฺฉู ุฏุฑ ุงู ฺฉุชุงุจ ุจุง ููุฒูุงู ููุงุฌู ูโุดูุฏ. ูพุฑูฺู ููุฌูุฏ ุฏุฑ <a href="ch21-00-final-project-a-web-server.html">ูุตู ฒฑ</a><!-- ignore --> ุงู ููุงูู ุฑุง ุฏุฑ ฺฉ ูููุนุช ูุงูุนโุชุฑ ุงุฒ ูุซุงูโูุง ุณุงุฏูโุง ฺฉู ุฏุฑ ุงูุฌุง ุจุญุซ ุดุฏุ ุจู ฺฉุงุฑ ุฎูุงูุฏ ฺฏุฑูุช ู ุญู ูุณุฆูู ุจุง ุงุณุชูุงุฏู ุงุฒ Threadูุง ุฏุฑ ููุงุจู Tasks ุฑุง ุจู ุทูุฑ ูุณุชููโุชุฑ ููุงุณู ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุตุฑูโูุธุฑ ุงุฒ ุงูฺฉู ฺฉุฏุงู ฺฉ ุงุฒ ุงู ุฑูฺฉุฑุฏูุง ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏุ Rust ุงุจุฒุงุฑูุง ูุงุฒู ุจุฑุง ููุดุชู ฺฉุฏ ุงููุ ุณุฑุน ู ููุฒูุงู ุฑุง ุฏุฑ ุงุฎุชุงุฑ ุดูุง ูุฑุงุฑ ูโุฏูุฏโฺู ุจุฑุง ฺฉ ูุจ ุณุฑูุฑ ุจุง ุชูุงู ุนููุงุช ุจุงูุง ู ฺู ุจุฑุง ฺฉ ุณุณุชูโุนุงูู ุชุนุจูโุดุฏู.</p>
<p>ุฏุฑ ุงุฏุงููุ ุฏุฑุจุงุฑู ุฑูุดโูุง ุงุฏุฆููุงุชฺฉ ุจุฑุง ูุฏูโุณุงุฒ ูุดฺฉูุงุช ู ุณุงุฎุชุงุฑุฏู ุฑุงูโุญูโูุง ุจูโุนููุงู ุจุฑูุงููโูุง Rust ุดูุง ุจุฒุฑฺฏโุชุฑ ูโุดููุฏ ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ. ุนูุงูู ุจุฑ ุงูุ ุฏุฑุจุงุฑู ุงูฺฉู ุงุฏุฆููโูุง Rust ฺฺฏููู ุจุง ุขูโูุง ฺฉู ููฺฉู ุงุณุช ุงุฒ ุจุฑูุงููโููุณ ุดโฺฏุฑุง ุจุง ุขูโูุง ุขุดูุง ุจุงุดุฏ ูุฑุชุจุท ูุณุชูุฏ ุจุญุซ ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูฺฺฏูุง-ุจุฑูุงููููุณ-ุดฺฏุฑุง-oop-ุฏุฑ-rust"><a class="header" href="#ูฺฺฏูุง-ุจุฑูุงููููุณ-ุดฺฏุฑุง-oop-ุฏุฑ-rust">ูฺฺฏโูุง ุจุฑูุงููโููุณ ุดโฺฏุฑุง (OOP) ุฏุฑ Rust</a></h1>
<p>ุจุฑูุงููโููุณ ุดโฺฏุฑุง (OOP) ุฑูุด ุจุฑุง ูุฏูโุณุงุฒ ุจุฑูุงููโูุง ุงุณุช. ููููู ุงุดุงุก ุจูโุนููุงู ฺฉ ููููู ุจุฑูุงููโููุณ ุฏุฑ ุฏูู 1960 ุฏุฑ ุฒุจุงู ุจุฑูุงููโููุณ Simula ูุนุฑู ุดุฏ. ุงู ุงุดุงุก ุจุฑ ูุนูุงุฑ ุจุฑูุงููโููุณ ุขูู ฺฉ ุชุฃุซุฑ ฺฏุฐุงุดุชูุฏ ฺฉู ุฏุฑ ุขู ุงุดุงุก ูพุงูโูุง ุฑุง ุจู ฺฉุฏฺฏุฑ ุงุฑุณุงู ูโฺฉููุฏ. ุจุฑุง ุชูุตู ุงู ูุนูุงุฑุ ุงู ุงุตุทูุงุญ <em>ุจุฑูุงููโููุณ ุดโฺฏุฑุง</em> ุฑุง ุฏุฑ ุณุงู 1967 ุงุจุฏุงุน ฺฉุฑุฏ. ุชุนุงุฑู ูุชุนุฏุฏ ุจุง ฺฉุฏฺฏุฑ ุฑูุงุจุช ูโฺฉููุฏ ุชุง ุชูุถุญ ุฏููุฏ ฺฉู OOP ฺุณุชุ ู ุจุฑ ุงุณุงุณ ุจุฑุฎ ุงุฒ ุงู ุชุนุงุฑู Rust ุดโฺฏุฑุง ุงุณุชุ ุงูุง ุจุฑ ุงุณุงุณ ุจุฑุฎ ุฏฺฏุฑ ุงูโฺฏููู ูุณุช. ุฏุฑ ุงู ูุตูุ ูฺฺฏโูุง ฺฉู ูุนูููุงู ุดโฺฏุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดููุฏ ู ฺฺฏููฺฏ ุชุฑุฌูู ุขู ูฺฺฏโูุง ุจู Rust ุงุฏุฆููุงุชฺฉ ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ. ุณูพุณ ูุดุงู ูโุฏูู ฺฺฏููู ฺฉ ุงูฺฏู ุทุฑุงุญ ุดโฺฏุฑุง ุฑุง ุฏุฑ Rust ูพุงุฏูโุณุงุฒ ฺฉูู ู ูุฒุงุง ู ูุนุงุจ ุงูุฌุงู ุงู ฺฉุงุฑ ุฏุฑ ููุงุจู ุงุณุชูุงุฏู ุงุฒ ููุงุท ููุช Rust ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูฺฺฏูุง-ุฒุจุงููุง-ุดฺฏุฑุง"><a class="header" href="#ูฺฺฏูุง-ุฒุจุงููุง-ุดฺฏุฑุง">ูฺฺฏโูุง ุฒุจุงูโูุง ุดโฺฏุฑุง</a></h2>
<p>ุฏุฑ ุฌุงูุนู ุจุฑูุงููโููุณ ูฺ ุชูุงูู ุฏุฑุจุงุฑู ุงูฺฉู ฺฉ ุฒุจุงู ุจุงุฏ ฺู ูฺฺฏโูุง ุฏุงุดุชู ุจุงุดุฏ ุชุง ุจูโุนููุงู ุดโฺฏุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏุ ูุฌูุฏ ูุฏุงุฑุฏ. Rust ุชุญุช ุชุฃุซุฑ ุจุณุงุฑ ุงุฒ ูพุงุฑุงุฏุงูโูุง ุจุฑูุงููโููุณ ูุฑุงุฑ ฺฏุฑูุชู ุงุณุชุ ุงุฒ ุฌููู OOPุ ุจุฑุง ูุซุงูุ ูุง ูฺฺฏโูุง ฺฉู ุงุฒ ุจุฑูุงููโููุณ ุชุงุจุน ุขูุฏู ุจูุฏูุฏ ุฑุง ุฏุฑ ูุตู 13 ุจุฑุฑุณ ฺฉุฑุฏู. ูโุชูุงู ฺฏูุช ฺฉู ุฒุจุงูโูุง ุดโฺฏุฑุง ุจุฑุฎ ูฺฺฏโูุง ูุดุชุฑฺฉ ุฏุงุฑูุฏุ ุนู ุงุดุงุกุ ฺฉูพุณูููโุณุงุฒ (encapsulation) ู ูุฑุงุซุช (inheritance). ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ูุฑ ฺฉ ุงุฒ ุงู ูฺฺฏโูุง ฺู ูุนูุง ุฏุงุฑูุฏ ู ุขุง Rust ุงุฒ ุขูโูุง ูพุดุชุจุงู ูโฺฉูุฏ ุง ุฎุฑ.</p>
<h3 id="ุงุดุงุก-ุดุงูู-ุฏุงุฏููุง-ู-ุฑูุชุงุฑ-ูุณุชูุฏ"><a class="header" href="#ุงุดุงุก-ุดุงูู-ุฏุงุฏููุง-ู-ุฑูุชุงุฑ-ูุณุชูุฏ">ุงุดุงุก ุดุงูู ุฏุงุฏูโูุง ู ุฑูุชุงุฑ ูุณุชูุฏ</a></h3>
<p>ฺฉุชุงุจ <em>Design Patterns: Elements of Reusable Object-Oriented Software</em> ููุดุชู Erich Gammaุ Richard Helmุ Ralph Johnson ู John Vlissides (ุงูุชุดุงุฑุงุช Addison-Wesley Professionalุ 1994)ุ ฺฉู ุจู ุทูุฑ ุบุฑุฑุณู ุจู ุนููุงู ฺฉุชุงุจ <em>Gang of Four</em> ุดูุงุฎุชู ูโุดูุฏุ ฺฉ ููุฑุณุช ุงุฒ ุงูฺฏููุง ุทุฑุงุญ ุดโฺฏุฑุง ุงุณุช. ุงู ฺฉุชุงุจ OOP ุฑุง ุจู ุงู ุตูุฑุช ุชุนุฑู ูโฺฉูุฏ:</p>
<blockquote>
<p>ุจุฑูุงููโูุง ุดโฺฏุฑุง ุงุฒ ุงุดุงุก ุชุดฺฉู ุดุฏูโุงูุฏ. ฺฉ <em>ุดุก</em> ุดุงูู ุฏุงุฏูโูุง ู ุฑูุดโูุง ฺฉู ุจุฑ ุฑู ุขู ุฏุงุฏูโูุง ุนูู ูโฺฉููุฏุ ุงุณุช. ุงู ุฑูุดโูุง ูุนูููุงู ุจู ูุงู <em>ูุชุฏูุง</em> ุง <em>ุนููุงุช</em> ุดูุงุฎุชู ูโุดููุฏ.</p>
</blockquote>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุชุนุฑูุ Rust ฺฉ ุฒุจุงู ุดโฺฏุฑุง ุงุณุช: structูุง ู enumูุง ุฏุงุฏู ุฏุงุฑูุฏุ ู ุจููฺฉโูุง <code>impl</code> ูุชุฏูุง ุฑุง ุจุฑุง structูุง ู enumูุง ุงุฑุงุฆู ูโุฏููุฏ. ุญุช ุงฺฏุฑ structูุง ู enumูุง ุจุง ูุชุฏูุง ฺฉู ุฏุงุฑูุฏ <em>ุงุดุงุก</em> ูุงูุฏู ูุดููุฏุ ุจุฑ ุงุณุงุณ ุชุนุฑู Gang of Fourุ ุขูโูุง ููุงู ุนููฺฉุฑุฏ ุฑุง ุงุฑุงุฆู ูโุฏููุฏ.</p>
<h3 id="ฺฉูพุณูููุณุงุฒ-ุจุฑุง-ูุฎู-ฺฉุฑุฏู-ุฌุฒุฆุงุช-ูพุงุฏูุณุงุฒ"><a class="header" href="#ฺฉูพุณูููุณุงุฒ-ุจุฑุง-ูุฎู-ฺฉุฑุฏู-ุฌุฒุฆุงุช-ูพุงุฏูุณุงุฒ">ฺฉูพุณูููโุณุงุฒ ุจุฑุง ูุฎู ฺฉุฑุฏู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ</a></h3>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ุฌูุจูโูุง ฺฉู ูุนูููุงู ุจุง OOP ูุฑุชุจุท ุงุณุชุ ููููู <em>ฺฉูพุณูููโุณุงุฒ</em> ุงุณุชุ ฺฉู ุจู ุงู ูุนูุงุณุช ฺฉู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ฺฉ ุดุก ุจุฑุง ฺฉุฏ ฺฉู ุงุฒ ุขู ุดุก ุงุณุชูุงุฏู ูโฺฉูุฏ ูุงุจู ุฏุณุชุฑุณ ูุณุช. ุจูุงุจุฑุงู ุชููุง ุฑุงู ุชุนุงูู ุจุง ฺฉ ุดุก ุงุฒ ุทุฑู API ุนููู ุขู ุงุณุชุ ฺฉุฏ ฺฉู ุงุฒ ุดุก ุงุณุชูุงุฏู ูโฺฉูุฏ ูุจุงุฏ ุจุชูุงูุฏ ุจู ุฌุฒุฆุงุช ุฏุงุฎู ุดุก ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ ู ุฏุงุฏูโูุง ุง ุฑูุชุงุฑ ุฑุง ุจู ุตูุฑุช ูุณุชูู ุชุบุฑ ุฏูุฏ. ุงู ุงูฺฉุงู ุฑุง ุจู ุจุฑูุงููโููุณ ูโุฏูุฏ ฺฉู ุฌุฒุฆุงุช ุฏุงุฎู ุดุก ุฑุง ุชุบุฑ ุฏุงุฏู ู ุจุงุฒุณุงุฒ ฺฉูุฏ ุจุฏูู ุงูฺฉู ูุงุฒ ุจู ุชุบุฑ ฺฉุฏ ฺฉู ุงุฒ ุขู ุดุก ุงุณุชูุงุฏู ูโฺฉูุฏุ ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ูุง ุฏุฑ ูุตู 7 ุจุญุซ ฺฉุฑุฏู ฺฉู ฺฺฏููู ูโุชูุงู ฺฉูพุณูููโุณุงุฒ ุฑุง ฺฉูุชุฑู ฺฉุฑุฏ: ูโุชูุงูู ุงุฒ ฺฉููู ฺฉูุฏ <code>pub</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ุชุตูู ุจฺฏุฑู ฺฉุฏุงู ูุงฺููโูุงุ ุงููุงุนุ ุชูุงุจุน ู ูุชุฏูุง ุฏุฑ ฺฉุฏ ูุง ุนููู ุจุงุดูุฏุ ู ุจูโุทูุฑ ูพุดโูุฑุถ ููู ฺุฒ ุฏฺฏุฑ ุฎุตูุต ุงุณุช. ุจุฑุง ูุซุงูุ ูโุชูุงูู ฺฉ struct ุจู ูุงู <code>AveragedCollection</code> ุชุนุฑู ฺฉูู ฺฉู ฺฉ ููุฏ ุดุงูู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ููุงุฏุฑ <code>i32</code> ุฏุงุฑุฏ. ุงู struct ููฺูู ูโุชูุงูุฏ ฺฉ ููุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุงูฺฏู ููุงุฏุฑ ููุฌูุฏ ุฏุฑ ุจุฑุฏุงุฑ ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ุจู ุงู ูุนูุง ฺฉู ูุงุฒ ุจู ูุญุงุณุจู ูุงูฺฏู ุจู ุตูุฑุช ูุญุธูโุง ูุณุช ูุฑ ุฒูุงู ฺฉู ฺฉุณ ุจู ุขู ูุงุฒ ุฏุงุดุช. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ <code>AveragedCollection</code> ูุงูฺฏู ูุญุงุณุจูโุดุฏู ุฑุง ุจุฑุง ูุง ฺฉุด ูโฺฉูุฏ. ูุณุชูฺฏ 18-1 ุชุนุฑู struct <code>AveragedCollection</code> ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub struct AveragedCollection {
    list: Vec&lt;i32&gt;,
    average: f64,
}</code></pre>
<figcaption>Listing 18-1: An <code>AveragedCollection</code> struct that maintains a list of integers and the average of the items in the collection</figcaption>
</figure>
<p>ุณุงุฎุชุงุฑ <code>struct</code> ุจุง ฺฉููู ฺฉูุฏ <code>pub</code> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏู ุงุณุช ุชุง ฺฉุฏูุง ุฏฺฏุฑ ุจุชูุงููุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุฏุ ุงูุง ููุฏูุง ุฏุงุฎู struct ููฺูุงู ุฎุตูุต ุจุงู ูโูุงููุฏ. ุงู ูฺฉุชู ุฏุฑ ุงู ูุซุงู ููู ุงุณุชุ ุฒุฑุง ูโุฎูุงูู ุงุทููุงู ุญุงุตู ฺฉูู ฺฉู ูุฑ ุฒูุงู ููุฏุงุฑ ุจู ูุณุช ุงุถุงูู ุง ุงุฒ ุขู ุญุฐู ูโุดูุฏุ ูุงูฺฏู ูุฒ ุจูโุฑูุฒุฑุณุงู ูโุดูุฏ. ุงู ฺฉุงุฑ ุฑุง ุจุง ูพุงุฏูโุณุงุฒ ูุชุฏูุง <code>add</code>ุ <code>remove</code> ู <code>average</code> ุฑู struct ุงูุฌุงู ูโุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-2 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct AveragedCollection {
</span><span class="boring">    list: Vec&lt;i32&gt;,
</span><span class="boring">    average: f64,
</span><span class="boring">}
</span><span class="boring">
</span>impl AveragedCollection {
    pub fn add(&amp;mut self, value: i32) {
        self.list.push(value);
        self.update_average();
    }

    pub fn remove(&amp;mut self) -&gt; Option&lt;i32&gt; {
        let result = self.list.pop();
        match result {
            Some(value) =&gt; {
                self.update_average();
                Some(value)
            }
            None =&gt; None,
        }
    }

    pub fn average(&amp;self) -&gt; f64 {
        self.average
    }

    fn update_average(&amp;mut self) {
        let total: i32 = self.list.iter().sum();
        self.average = total as f64 / self.list.len() as f64;
    }
}</code></pre>
<figcaption>Listing 18-2: ูพุงุฏูโุณุงุฒ ูุชุฏูุง ุนููู <code>add</code>ุ <code>remove</code> ู <code>average</code> ุฏุฑ <code>AveragedCollection</code></figcaption>
</figure>
<p>ูุชุฏูุง ุนููู <code>add</code>ุ <code>remove</code> ู <code>average</code> ุชููุง ุฑุงูโูุง ุฏุณุชุฑุณ ุง ุชุบุฑ ุฏุงุฏูโูุง ุฏุฑ ฺฉ ููููู ุงุฒ <code>AveragedCollection</code> ูุณุชูุฏ. ุฒูุงู ฺฉู ฺฉ ุขุชู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>add</code> ุจู <code>list</code> ุงุถุงูู ูโุดูุฏ ุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>remove</code> ุงุฒ ุขู ุญุฐู ูโุดูุฏุ ูพุงุฏูโุณุงุฒ ูุฑ ฺฉ ุงุฒ ุขูโูุง ูุชุฏ ุฎุตูุต <code>update_average</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ฺฉู ุจูโุฑูุฒุฑุณุงู ููุฏ <code>average</code> ุฑุง ูุฏุฑุช ูโฺฉูุฏ.</p>
<p>ูุง ููุฏูุง <code>list</code> ู <code>average</code> ุฑุง ุฎุตูุต ูฺฏู ูโุฏุงุฑู ุชุง ูฺ ุฑุงู ุจุฑุง ฺฉุฏ ุฎุงุฑุฌ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุณุชููุงู ุขุชูโูุง ุฑุง ุจู <code>list</code> ุงุถุงูู ุง ุงุฒ ุขู ุญุฐู ฺฉูุฏ. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ููุฏ <code>average</code> ููฺฉู ุงุณุช ุจุง ุชุบุฑุงุช <code>list</code> ููุงููฺฏ ูุจุงุดุฏ. ูุชุฏ <code>average</code> ููุฏุงุฑ ููุฌูุฏ ุฏุฑ ููุฏ <code>average</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ุจู ฺฉุฏ ุฎุงุฑุฌ ุงุฌุงุฒู ูโุฏูุฏ ุชุง ููุฏุงุฑ ูุงูฺฏู ุฑุง ุจุฎูุงูุฏ ุงูุง ุขู ุฑุง ุชุบุฑ ูุฏูุฏ.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุณุงุฎุชุงุฑ <code>AveragedCollection</code> ุฑุง ฺฉูพุณููู ฺฉุฑุฏูโุงูุ ูโุชูุงูู ุจู ุฑุงุญุช ุฌูุจูโูุง ุงุฒ ุขู ุฑุง ุฏุฑ ุขูุฏู ุชุบุฑ ุฏูู. ุจุฑุง ูุซุงูุ ูโุชูุงูู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ <code>Vec&lt;i32&gt;</code> ุจุฑุง ููุฏ <code>list</code>ุ ุงุฒ ฺฉ <code>HashSet&lt;i32&gt;</code> ุงุณุชูุงุฏู ฺฉูู. ุชุง ุฒูุงู ฺฉู ุงูุถุง ูุชุฏูุง ุนููู <code>add</code>ุ <code>remove</code> ู <code>average</code> ฺฉุณุงู ุจุงู ุจูุงูุฏุ ฺฉุฏ ฺฉู ุงุฒ <code>AveragedCollection</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ูุงุฒ ุจู ุชุบุฑ ุจุฑุง ฺฉุงููพุงู ุดุฏู ูุฎูุงูุฏ ุฏุงุดุช. ุงฺฏุฑ <code>list</code> ุนููู ุจูุฏุ ุงู ููุถูุน ูุฒููุงู ุตุงุฏู ูุจูุฏ: <code>HashSet&lt;i32&gt;</code> ู <code>Vec&lt;i32&gt;</code> ูุชุฏูุง ูุชูุงูุช ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ู ุญุฐู ุขุชูโูุง ุฏุงุฑูุฏุ ุจูุงุจุฑุงู ฺฉุฏ ุฎุงุฑุฌ ุงุญุชูุงูุงู ุจุงุฏ ุชุบุฑ ฺฉูุฏ ุงฺฏุฑ ูุณุชููุงู <code>list</code> ุฑุง ุชุบุฑ ูโุฏุงุฏ.</p>
<p>ุงฺฏุฑ ฺฉูพุณูููโุณุงุฒ ฺฉ ุงุฒ ุฌูุจูโูุง ุถุฑูุฑ ุจุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ฺฉ ุฒุจุงู ุจู ุนููุงู ุดโฺฏุฑุง ุจุงุดุฏุ Rust ุงู ูุงุฒ ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ. ุงูฺฉุงู ุงุณุชูุงุฏู ุง ุนุฏู ุงุณุชูุงุฏู ุงุฒ <code>pub</code> ุจุฑุง ุจุฎุดโูุง ูุฎุชูู ฺฉุฏุ ฺฉูพุณูููโุณุงุฒ ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุฑุง ููฺฉู ูโุณุงุฒุฏ.</p>
<h3 id="ูุฑุงุซุช-ุจูุนููุงู-ุณุณุชู-ููุน-ู-ุจูุนููุงู-ุงุดุชุฑุงฺฉฺฏุฐุงุฑ-ฺฉุฏ"><a class="header" href="#ูุฑุงุซุช-ุจูุนููุงู-ุณุณุชู-ููุน-ู-ุจูุนููุงู-ุงุดุชุฑุงฺฉฺฏุฐุงุฑ-ฺฉุฏ">ูุฑุงุซุช ุจูโุนููุงู ุณุณุชู ููุน ู ุจูโุนููุงู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุฏ</a></h3>
<p><em>ูุฑุงุซุช</em> ูฺฉุงูุฒู ุงุณุช ฺฉู ุจู ฺฉ ุดุก ุงุฌุงุฒู ูโุฏูุฏ ุนูุงุตุฑ ุฑุง ุงุฒ ุชุนุฑู ฺฉ ุดุก ุฏฺฏุฑ ุจู ุงุฑุซ ุจุจุฑุฏ ู ุฏุฑ ูุชุฌู ุฏุงุฏูโูุง ู ุฑูุชุงุฑ ุดุก ูุงูุฏ ุฑุง ุจุฏูู ูุงุฒ ุจู ุชุนุฑู ูุฌุฏุฏ ุขูโูุง ุจู ุฏุณุช ุขูุฑุฏ.</p>
<p>ุงฺฏุฑ ูุฑุงุซุช ุจุงุฏ ุจุฑุง ฺฉ ุฒุจุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ุชุง ุดโฺฏุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏุ Rust ฺฉ ุฒุจุงู ุดโฺฏุฑุง ูุณุช. ุฏุฑ Rustุ ููโุชูุงูุฏ ฺฉ struct ุชุนุฑู ฺฉูุฏ ฺฉู ููุฏูุง ู ูพุงุฏูโุณุงุฒ ูุชุฏูุง struct ูุงูุฏ ุฑุง ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุงฺฉุฑู ุจู ุงุฑุซ ุจุจุฑุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุจู ุงุณุชูุงุฏู ุงุฒ ูุฑุงุซุช ุฏุฑ ุงุจุฒุงุฑูุง ุจุฑูุงููโููุณ ุฎูุฏ ุนุงุฏุช ฺฉุฑุฏูโุงุฏุ ูโุชูุงูุฏ ุจุณุชู ุจู ุฏูู ุฎูุฏ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุฑุงุซุชุ ุงุฒ ุฑุงูโุญูโูุง ุฏฺฏุฑ ุฏุฑ Rust ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฏู ุฏูู ุงุตู ุจุฑุง ุงูุชุฎุงุจ ูุฑุงุซุช ูุฌูุฏ ุฏุงุฑุฏ. ฺฉ ุจุฑุง ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ฺฉุฏ: ูโุชูุงูุฏ ฺฉ ุฑูุชุงุฑ ุฎุงุต ุฑุง ุจุฑุง ฺฉ ููุน ูพุงุฏูโุณุงุฒ ฺฉูุฏ ู ูุฑุงุซุช ุงู ุงูฺฉุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ุงุฒ ุขู ูพุงุฏูโุณุงุฒ ุจุฑุง ฺฉ ููุน ุฏฺฏุฑ ุงุณุชูุงุฏู ูุฌุฏุฏ ฺฉูุฏ. ุฏุฑ Rustุ ุงู ฺฉุงุฑ ุฑุง ุจู ุตูุฑุช ูุญุฏูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุงุฏูโุณุงุฒโูุง ูพุดโูุฑุถ ูุชุฏูุง ุตูุช (trait) ุงูุฌุงู ุฏูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 10-14 ุฏุฏู ฺฉู ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุจุฑุง ูุชุฏ <code>summarize</code> ุฏุฑ ุตูุช <code>Summary</code> ุงุถุงูู ฺฉุฑุฏู. ูุฑ ููุน ฺฉู ุตูุช <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูุชุฏ <code>summarize</code> ุฑุง ุจุฏูู ูุงุฒ ุจู ฺฉุฏ ุงุถุงู ุฎูุงูุฏ ุฏุงุดุช. ุงู ุดุจู ุจู ุงู ุงุณุช ฺฉู ฺฉ ฺฉูุงุณ ูุงูุฏ ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ ฺฉ ูุชุฏ ุฏุงุดุชู ุจุงุดุฏ ู ฺฉ ฺฉูุงุณ ูุฑุฒูุฏ ุงุฑุซโุจุฑุฏู ูุฒ ุขู ูพุงุฏูโุณุงุฒ ูุชุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ. ููฺูู ูโุชูุงูู ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุชุฏ <code>summarize</code> ุฑุง ุฒูุงู ฺฉู ุตูุช <code>Summary</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุ ุจุงุฒููุณ ฺฉูู ฺฉู ุดุจู ุจู ุจุงุฒููุณ ูพุงุฏูโุณุงุฒ ฺฉ ูุชุฏ ุงุฑุซโุจุฑุฏู ุดุฏู ุฏุฑ ฺฉูุงุณ ูุฑุฒูุฏ ุงุณุช.</p>
<p>ุฏูู ุฏฺฏุฑ ุงุณุชูุงุฏู ุงุฒ ูุฑุงุซุช ูุฑุจูุท ุจู ุณุณุชู ููุน ุงุณุช: ุจุฑุง ุงู ฺฉู ฺฉ ููุน ูุฑุฒูุฏ ุจุชูุงูุฏ ุฏุฑ ููุงู ูฺฉุงูโูุง ฺฉู ููุน ูุงูุฏ ุงุณุชูุงุฏู ูโุดูุฏุ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ฺฏุฑุฏ. ุงู ููููู <em>ฺูุฏุฑุฎุช (polymorphism)</em> ูุฒ ูุงูุฏู ูโุดูุฏุ ฺฉู ุจู ุงู ูุนูุงุณุช ฺฉู ูโุชูุงูุฏ ฺูุฏู ุดุก ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฌุงฺฏุฒู ฺฉุฏฺฏุฑ ฺฉูุฏ ุงฺฏุฑ ุขูโูุง ูฺฺฏโูุง ุฎุงุต ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑูุฏ.</p>
<section class="note" aria-role="note">
<h3 id="ฺูุฏุฑุฎุช-polymorphism"><a class="header" href="#ฺูุฏุฑุฎุช-polymorphism">ฺูุฏุฑุฎุช (Polymorphism)</a></h3>
<p>ุจุฑุง ุจุณุงุฑ ุงุฒ ุงูุฑุงุฏุ ฺูุฏุฑุฎุช ูุชุฑุงุฏู ุจุง ูุฑุงุซุช ุงุณุช. ุงูุง ุฏุฑ ูุงูุน ฺฉ ููููู ุนูููโุชุฑ ุงุณุช ฺฉู ุจู ฺฉุฏ ุงุดุงุฑู ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุจุง ุฏุงุฏูโูุง ุงุฒ ุงููุงุน ูุฎุชูู ฺฉุงุฑ ฺฉูุฏ. ุฏุฑ ููุฑุฏ ูุฑุงุซุชุ ุงู ุงููุงุน ูุนูููุงู ุฒุฑฺฉูุงุณโูุง ูุณุชูุฏ.</p>
<p>ุฏุฑ ููุงุจูุ Rust ุงุฒ ุฌูุฑฺฉโูุง ุจุฑุง ุงูุชุฒุงุน ุงููุงุน ููฺฉู ูุฎุชูู ุงุณุชูุงุฏู ูโฺฉูุฏ ู ูุญุฏูุฏุชโูุง ุตูุช (trait bounds) ุฑุง ุจุฑุง ุชุญูู ุงู ฺฉู ุงู ุงููุงุน ุจุงุฏ ฺู ูฺฺฏโูุง ุงุฑุงุฆู ุฏููุฏุ ุงุนูุงู ูโฺฉูุฏ. ุงู ุฑูฺฉุฑุฏ ฺฏุงู <em>ฺูุฏุฑุฎุช ูพุงุฑุงูุชุฑฺฉ ูุญุฏูุฏุดุฏู</em> ูุงูุฏู ูโุดูุฏ.</p>
</section>
<p>ูุฑุงุซุช ุงุฎุฑุงู ุจูโุนููุงู ฺฉ ุฑุงูโุญู ุทุฑุงุญ ุจุฑูุงููโููุณ ุฏุฑ ุจุณุงุฑ ุงุฒ ุฒุจุงูโูุง ูุญุจูุจุช ุฎูุฏ ุฑุง ุงุฒ ุฏุณุช ุฏุงุฏู ุงุณุช ุฒุฑุง ุงุบูุจ ุฎุทุฑ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุจุด ุงุฒ ุญุฏ ฺฉุฏ ุฑุง ุจู ููุฑุงู ุฏุงุฑุฏ. ุฒุฑฺฉูุงุณโูุง ูุจุงุฏ ููุดู ุชูุงู ูฺฺฏโูุง ฺฉูุงุณ ูุงูุฏ ุฎูุฏ ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑูุฏุ ุงูุง ุจุง ูุฑุงุซุช ุงู ุงุชูุงู ูโุงูุชุฏ. ุงู ูโุชูุงูุฏ ุทุฑุงุญ ุจุฑูุงูู ุฑุง ฺฉูุชุฑ ุงูุนุทุงูโูพุฐุฑ ฺฉูุฏ. ููฺูู ุงูฺฉุงู ูุฑุงุฎูุงู ูุชุฏูุง ุฑู ุฒุฑฺฉูุงุณโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ูุนูุง ูุฏุงุฑูุฏ ุง ุจุงุนุซ ุฎุทุง ูโุดููุฏ ุฒุฑุง ูุชุฏูุง ุจุฑุง ุฒุฑฺฉูุงุณ ุงุนูุงู ููโุดููุฏ. ุนูุงูู ุจุฑ ุงูุ ุจุฑุฎ ุฒุจุงูโูุง ููุท ุงุฌุงุฒู ูุฑุงุซุช ุชฺฉ (single inheritance) ุฑุง ูโุฏููุฏ (ุนู ฺฉ ุฒุฑฺฉูุงุณ ููุท ูโุชูุงูุฏ ุงุฒ ฺฉ ฺฉูุงุณ ุงุฑุซ ุจุจุฑุฏ)ุ ฺฉู ุงูุนุทุงูโูพุฐุฑ ุทุฑุงุญ ุจุฑูุงูู ุฑุง ุจุดุชุฑ ูุญุฏูุฏ ูโฺฉูุฏ.</p>
<p>ุจู ุงู ุฏูุงูุ Rust ุฑูฺฉุฑุฏ ูุชูุงูุช ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ุตูุช (trait objects) ุจู ุฌุง ูุฑุงุซุช ุงุชุฎุงุฐ ูโฺฉูุฏ. ุจุงุฏ ุจุจูู ฺฉู ฺฺฏููู ุงุดุงุก ุตูุช ุฏุฑ Rust ฺูุฏุฑุฎุช ุฑุง ููฺฉู ูโุณุงุฒูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงุณุชูุงุฏู-ุงุฒ-ุงุดุงุก-ุตูุช-ุจุฑุง-ููุงุฏุฑ-ุจุง-ุงููุงุน-ูุฎุชูู"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ุงุดุงุก-ุตูุช-ุจุฑุง-ููุงุฏุฑ-ุจุง-ุงููุงุน-ูุฎุชูู">ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ุตูุช ุจุฑุง ููุงุฏุฑ ุจุง ุงููุงุน ูุฎุชูู</a></h2>
<p>ุฏุฑ ูุตู 8ุ ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ฺฉ ุงุฒ ูุญุฏูุฏุชโูุง ูฺฉุชูุฑูุง ุงู ุงุณุช ฺฉู ูโุชูุงููุฏ ููุท ุนูุงุตุฑ ฺฉ ููุน ุฑุง ุฐุฎุฑู ฺฉููุฏ. ุฏุฑ ูุณุชูฺฏ 8-9ุ ุฑุงูโุญู ุงุฌุงุฏ ฺฉุฑุฏู ฺฉู ุฏุฑ ุขู ฺฉ enum ุจู ูุงู <code>SpreadsheetCell</code> ุชุนุฑู ฺฉุฑุฏู ฺฉู ุงููุงุน ูุฎุชูู ูุงููุฏ ุงุนุฏุงุฏ ุตุญุญุ ุงุนุฏุงุฏ ุงุนุดุงุฑ ู ูุชู ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ูโุฏุงุฏ. ุงู ุจู ูุง ุงุฌุงุฒู ูโุฏุงุฏ ุฏุงุฏูโูุง ูุฎุชูู ุฑุง ุฏุฑ ูุฑ ุณููู ุฐุฎุฑู ฺฉูู ู ููฺูุงู ฺฉ ูฺฉุชูุฑ ุฏุงุดุชู ุจุงุดู ฺฉู ููุงุงูฺฏุฑ ฺฉ ุฑุฏู ุงุฒ ุณูููโูุง ุจุงุดุฏ. ุงู ุฑุงูโุญู ุฒูุงู ููุงุณุจ ุงุณุช ฺฉู ุขุชูโูุง ูุงุจู ุชุนูุถ ูุง ูุฌููุนูโุง ุซุงุจุช ุงุฒ ุงููุงุน ุจุงุดุฏ ฺฉู ููฺฏุงู ฺฉุงููพุงู ฺฉุฏ ูโุฏุงูู.</p>
<p>ุจุง ุงู ุญุงูุ ฺฏุงู ุงููุงุช ูโุฎูุงูู ฺฉุงุฑุจุฑุงู ฺฉุชุงุจุฎุงูู ูุง ุจุชูุงููุฏ ูุฌููุนูโุง ุงุฒ ุงููุงุน ูุนุชุจุฑ ุฏุฑ ฺฉ ูุถุนุช ุฎุงุต ุฑุง ฺฏุณุชุฑุด ุฏููุฏ. ุจุฑุง ูุดุงู ุฏุงุฏู ูุญูู ุงูุฌุงู ุงู ฺฉุงุฑุ ฺฉ ุงุจุฒุงุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฏุฑุงูฺฉ (GUI) ููููู ุงุฌุงุฏ ูโฺฉูู ฺฉู ุงุฒ ุทุฑู ฺฉ ูุณุช ุงุฒ ุขุชูโูุง ุชฺฉุฑุงุฑ ูโฺฉูุฏ ู ูุชุฏ ุจู ูุงู <code>draw</code> ุฑุง ุจุฑุง ูุฑ ุขุชู ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ุขู ุฑุง ุฑู ุตูุญู ุฑุณู ฺฉูุฏโฺฉ ุชฺฉูฺฉ ุฑุงุฌ ุจุฑุง ุงุจุฒุงุฑูุง GUI. ฺฉ crate ฺฉุชุงุจุฎุงููโุง ุจู ูุงู <code>gui</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู ุณุงุฎุชุงุฑ ฺฉ ฺฉุชุงุจุฎุงูู GUI ุฑุง ุดุงูู ูโุดูุฏ. ุงู crate ููฺฉู ุงุณุช ุดุงูู ุจุฑุฎ ุงููุงุน ุจุงุดุฏ ฺฉู ุงูุฑุงุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉููุฏุ ูุงููุฏ <code>Button</code> ุง <code>TextField</code>. ุนูุงูู ุจุฑ ุงูุ ฺฉุงุฑุจุฑุงู <code>gui</code> ูโุฎูุงููุฏ ุงููุงุน ุฎูุฏ ุฑุง ฺฉู ูโุชูุงููุฏ ุฑุณู ุดููุฏ ุงุฌุงุฏ ฺฉููุฏ: ุจุฑุง ูุซุงูุ ฺฉ ุจุฑูุงููโููุณ ููฺฉู ุงุณุช ฺฉ <code>Image</code> ุงุถุงูู ฺฉูุฏ ู ุฏฺฏุฑ ููฺฉู ุงุณุช ฺฉ <code>SelectBox</code> ุงุถุงูู ฺฉูุฏ.</p>
<p>ูุง ุจุฑุง ุงู ูุซุงู ฺฉ ฺฉุชุงุจุฎุงูู GUI ฺฉุงูู ูพุงุฏูโุณุงุฒ ูุฎูุงูู ฺฉุฑุฏุ ุงูุง ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฉู ูุทุนุงุช ฺฺฏููู ุจู ูู ูุชุตู ูโุดููุฏ. ููฺฏุงู ููุดุชู ุงู ฺฉุชุงุจุฎุงููุ ููโุชูุงูู ุชูุงู ุงููุงุน ฺฉู ุจุฑูุงููโููุณุงู ุฏฺฏุฑ ููฺฉู ุงุณุช ุจุฎูุงููุฏ ุงุฌุงุฏ ฺฉููุฏ ุฑุง ุจุฏุงูู ู ุชุนุฑู ฺฉูู. ุงูุง ูโุฏุงูู ฺฉู <code>gui</code> ุจุงุฏ ููุงุฏุฑ ุฒุงุฏ ุงุฒ ุงููุงุน ูุฎุชูู ุฑุง ูพฺฏุฑ ฺฉูุฏ ู ุจุงุฏ ูุชุฏ ุจู ูุงู <code>draw</code> ุฑุง ุจุฑุง ูุฑ ฺฉ ุงุฒ ุงู ููุงุฏุฑ ุจุง ููุน ูุชูุงูุช ูุฑุงุฎูุงู ฺฉูุฏ. ูุงุฒ ุจู ุฏุงูุณุชู ุฏูู ุขูฺู ููฺฏุงู ูุฑุงุฎูุงู ูุชุฏ <code>draw</code> ุงุชูุงู ูโุงูุชุฏ ูุฏุงุฑูุ ููุท ุงูฺฉู ููุฏุงุฑ ุจุงุฏ ุงู ูุชุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ุฏุฑ ฺฉ ุฒุจุงู ุจุง ูุฑุงุซุชุ ููฺฉู ุงุณุช ฺฉ ฺฉูุงุณ ุจู ูุงู <code>Component</code> ุชุนุฑู ฺฉูู ฺฉู ฺฉ ูุชุฏ ุจู ูุงู <code>draw</code> ุฏุงุดุชู ุจุงุดุฏ. ุณุงุฑ ฺฉูุงุณโูุงุ ูุงููุฏ <code>Button</code>ุ <code>Image</code> ู <code>SelectBox</code>ุ ุงุฒ <code>Component</code> ุงุฑุซ ูโุจุฑูุฏ ู ุจู ุงู ุชุฑุชุจ ูุชุฏ <code>draw</code> ุฑุง ุจู ุงุฑุซ ูโุจุฑูุฏ. ุขูโูุง ูโุชูุงููุฏ ูุชุฏ <code>draw</code> ุฑุง ุจุงุฒููุณ ฺฉููุฏ ุชุง ุฑูุชุงุฑ ุณูุงุฑุด ุฎูุฏ ุฑุง ุชุนุฑู ฺฉููุฏุ ุงูุง ูุฑูโูุฑฺฉ ูโุชูุงูุฏ ุชูุงู ุงู ุงููุงุน ุฑุง ุจู ฺฏูููโุง ูุฏุฑุช ฺฉูุฏ ฺฉู ฺฏู ูููููโูุง ุงุฒ <code>Component</code> ูุณุชูุฏ ู ูุชุฏ <code>draw</code> ุฑุง ุฑู ุขูโูุง ูุฑุงุฎูุงู ฺฉูุฏ. ุงูุง ฺูู Rust ูุฑุงุซุช ูุฏุงุฑุฏุ ุจุงุฏ ุฑุงู ุฏฺฏุฑ ุจุฑุง ุณุงุฎุชุงุฑุฏู ฺฉุชุงุจุฎุงูู <code>gui</code> ูพุฏุง ฺฉูู ุชุง ุจู ฺฉุงุฑุจุฑุงู ุงุฌุงุฒู ุฏูุฏ ุขู ุฑุง ุจุง ุงููุงุน ุฌุฏุฏ ฺฏุณุชุฑุด ุฏููุฏ.</p>
<h3 id="ุชุนุฑู-ฺฉ-ุตูุช-ุจุฑุง-ุฑูุชุงุฑ-ูุดุชุฑฺฉ"><a class="header" href="#ุชุนุฑู-ฺฉ-ุตูุช-ุจุฑุง-ุฑูุชุงุฑ-ูุดุชุฑฺฉ">ุชุนุฑู ฺฉ ุตูุช ุจุฑุง ุฑูุชุงุฑ ูุดุชุฑฺฉ</a></h3>
<p>ุจุฑุง ูพุงุฏูโุณุงุฒ ุฑูุชุงุฑ ฺฉู ูโุฎูุงูู <code>gui</code> ุฏุงุดุชู ุจุงุดุฏุ ฺฉ ุตูุช ุจู ูุงู <code>Draw</code> ุชุนุฑู ูโฺฉูู ฺฉู ฺฉ ูุชุฏ ุจู ูุงู <code>draw</code> ุฎูุงูุฏ ุฏุงุดุช. ุณูพุณ ูโุชูุงูู ฺฉ ูฺฉุชูุฑ ุชุนุฑู ฺฉูู ฺฉู ฺฉ <em>ุดุก ุตูุช</em> ุฑุง ุจฺฏุฑุฏ. ฺฉ ุดุก ุตูุช ุจู ฺฉ ููููู ุงุฒ ฺฉ ููุน ฺฉู ุตูุช ูุดุฎุต ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุดุงุฑู ูโฺฉูุฏ ู ููฺูู ฺฉ ุฌุฏูู ุจุฑุง ุฌุณุชุฌู ูุชุฏูุง ุตูุช ุฑู ุขู ููุน ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฑุง ุดุงูู ูโุดูุฏ. ุจุฑุง ุงุฌุงุฏ ฺฉ ุดุก ุตูุชุ ุจุงุฏ ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) (ูุงููุฏ ฺฉ ุงุฑุฌุงุน <code>&amp;</code> ุง ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ููุดููุฏ <code>Box&lt;T&gt;</code>)ุ ฺฉููู ฺฉูุฏ <code>dyn</code> ู ุณูพุณ ุตูุช ูุฑุจูุทู ุฑุง ูุดุฎุต ฺฉูู. (ุฏุฑ ูุตู 20ุ ุจุฎุด <a href="ch20-03-advanced-types.html#dynamically-sized-types-and-the-sized-trait">โุงููุงุน ุจุง ุงูุฏุงุฒู ูพูุง ู ุตูุช <code>Sized</code>โ</a><!-- ignore --> ุฏูู ุงูฺฉู ุงุดุงุก ุตูุช ุจุงุฏ ุงุฒ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุงุณุชูุงุฏู ฺฉููุฏ ุฑุง ุชูุถุญ ุฎูุงูู ุฏุงุฏ.) ูโุชูุงูู ุงุฒ ุงุดุงุก ุตูุช ุจู ุฌุง ฺฉ ููุน ุฌูุฑฺฉ ุง ููุน ูุดุฎุต ุงุณุชูุงุฏู ฺฉูู. ูุฑ ุฌุง ฺฉู ุงุฒ ฺฉ ุดุก ุตูุช ุงุณุชูุงุฏู ฺฉููุ ุณุณุชู ููุน Rust ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุชุถูู ูโฺฉูุฏ ฺฉู ูุฑ ููุฏุงุฑ ฺฉู ุฏุฑ ุขู ุฒููู ุงุณุชูุงุฏู ุดูุฏุ ุตูุช ุดุก ุตูุช ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ุจูุงุจุฑุงู ูุงุฒ ุจู ุฏุงูุณุชู ุชูุงู ุงููุงุน ููฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุฏุงุฑู.</p>
<p>ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ุฏุฑ Rust ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงุตุทูุงุญ โุงุดุงุกโ ุจุฑุง structูุง ู enumูุง ุงุฌุชูุงุจ ูโฺฉูู ุชุง ุขูโูุง ุฑุง ุงุฒ ุงุดุงุก ุณุงุฑ ุฒุจุงูโูุง ูุชูุงุฒ ฺฉูู. ุฏุฑ ฺฉ struct ุง enumุ ุฏุงุฏูโูุง ุฏุฑ ููุฏูุง struct ู ุฑูุชุงุฑ ุฏุฑ ุจููฺฉโูุง <code>impl</code> ุฌุฏุง ุดุฏูโุงูุฏุ ุฏุฑ ุญุงู ฺฉู ุฏุฑ ุณุงุฑ ุฒุจุงูโูุง ุฏุงุฏูโูุง ู ุฑูุชุงุฑ ูุนูููุงู ุฏุฑ ฺฉ ููููู ูุงุญุฏ ุจู ูุงู ุดุก ุชุฑฺฉุจ ูโุดููุฏ. ุงูุง ุงุดุงุก ุตูุช ุฏุฑ Rust ุจุดุชุฑ ุดุจู ุงุดุงุก ุฏุฑ ุณุงุฑ ุฒุจุงูโูุง ูุณุชูุฏุ ุฒุฑุง ุฏุงุฏูโูุง ู ุฑูุชุงุฑ ุฑุง ุชุฑฺฉุจ ูโฺฉููุฏ. ุจุง ุงู ุญุงูุ ุงุดุงุก ุตูุช ุงุฒ ุงุดุงุก ุณูุช ูุชูุงูุช ูุณุชูุฏ ุฒุฑุง ููโุชูุงู ุฏุงุฏูโุง ุจู ฺฉ ุดุก ุตูุช ุงุถุงูู ฺฉุฑุฏ. ุงุดุงุก ุตูุช ุจู ุงูุฏุงุฒู ุงุดุงุก ุฏุฑ ุณุงุฑ ุฒุจุงูโูุง ุนููู ูุณุชูุฏ: ูุฏู ุฎุงุต ุขูโูุง ูุฑุงูู ฺฉุฑุฏู ุงูุชุฒุงุน ุฏุฑ ุฑูุชุงุฑ ูุดุชุฑฺฉ ุงุณุช.</p>
<p>ูุณุชูฺฏ 18-3 ูุดุงู ูโุฏูุฏ ฺฺฏููู ูโุชูุงู ฺฉ ุตูุช ุจู ูุงู <code>Draw</code> ุจุง ฺฉ ูุชุฏ ุจู ูุงู <code>draw</code> ุชุนุฑู ฺฉุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub trait Draw {
    fn draw(&amp;self);
}</code></pre>
<figcaption>Listing 18-3: Definition of the <code>Draw</code> trait</figcaption>
</figure>
<p>ุงู ูุญู ุจุงุฏ ุงุฒ ุจุญุซโูุง ูุง ุฏุฑ ูุตู 10 ุฏุฑ ููุฑุฏ ูุญูู ุชุนุฑู ุตูุงุช ุขุดูุง ุจุงุดุฏ. ุญุงูุง ุจู ูุญู ุฌุฏุฏ ูโุฑุณู: ูุณุชูฺฏ 18-4 ฺฉ ุณุงุฎุชุงุฑ ุจู ูุงู <code>Screen</code> ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ฺฉ ุจุฑุฏุงุฑ ุจู ูุงู <code>components</code> ุฏุงุฑุฏ. ุงู ุจุฑุฏุงุฑ ุงุฒ ููุน <code>Box&lt;dyn Draw&gt;</code> ุงุณุชุ ฺฉู ฺฉ ุดุก ุตูุช ุงุณุชุ ุงู ุจูโุนููุงู ุฌุงฺฏุฒู ุจุฑุง ูุฑ ููุน ุฏุงุฎู ฺฉ <code>Box</code> ฺฉู ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุนูู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub trait Draw {
</span><span class="boring">    fn draw(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span>pub struct Screen {
    pub components: Vec&lt;Box&lt;dyn Draw&gt;&gt;,
}</code></pre>
<figcaption>Listing 18-4: ุชุนุฑู ุณุงุฎุชุงุฑ <code>Screen</code> ุจุง ฺฉ ููุฏ <code>components</code> ฺฉู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ุงุดุงุก ุตูุช ุฑุง ูฺฏู ูโุฏุงุฑุฏ ฺฉู ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงูุฏ</figcaption>
</figure>
<p>ุฑู ุณุงุฎุชุงุฑ <code>Screen</code>ุ ูุชุฏ ุจู ูุงู <code>run</code> ุชุนุฑู ูโฺฉูู ฺฉู ูุชุฏ <code>draw</code> ุฑุง ุฑู ูุฑ ฺฉ ุงุฒ <code>components</code> ุฎูุฏ ูุฑุงุฎูุงู ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-5 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub trait Draw {
</span><span class="boring">    fn draw(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct Screen {
</span><span class="boring">    pub components: Vec&lt;Box&lt;dyn Draw&gt;&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>impl Screen {
    pub fn run(&amp;self) {
        for component in self.components.iter() {
            component.draw();
        }
    }
}</code></pre>
<figcaption>Listing 18-5: ูุชุฏ <code>run</code> ุฑู <code>Screen</code> ฺฉู ูุชุฏ <code>draw</code> ุฑุง ุฑู ูุฑ ฺฉุงููพูููุช ูุฑุงุฎูุงู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุงู ุฑูุด ูุชูุงูุช ุงุฒ ุชุนุฑู ุณุงุฎุชุงุฑ ุงุณุช ฺฉู ุงุฒ ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุจุง ูุญุฏูุฏุชโูุง ุตูุช ุงุณุชูุงุฏู ูโฺฉูุฏ. ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ููุท ูโุชูุงูุฏ ฺฉ ููุน ูุดุฎุต ุฑุง ุฏุฑ ูุฑ ุฒูุงู ุฌุงฺฏุฒู ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุงุดุงุก ุตูุช ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ฺูุฏู ููุน ูุดุฎุต ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจู ุฌุง ุงุดุงุก ุตูุช ูุฑุงุฑ ุฏูู. ุจุฑุง ูุซุงูุ ูโุชูุงูุณุชู ุณุงุฎุชุงุฑ <code>Screen</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุน ุฌูุฑฺฉ ู ฺฉ ูุญุฏูุฏุช ุตูุช ุจู ุตูุฑุช ูุณุชูฺฏ 18-6 ุชุนุฑู ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub trait Draw {
</span><span class="boring">    fn draw(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span>pub struct Screen&lt;T: Draw&gt; {
    pub components: Vec&lt;T&gt;,
}

impl&lt;T&gt; Screen&lt;T&gt;
where
    T: Draw,
{
    pub fn run(&amp;self) {
        for component in self.components.iter() {
            component.draw();
        }
    }
}</code></pre>
<figcaption>Listing 18-6: ฺฉ ูพุงุฏูโุณุงุฒ ุฌุงฺฏุฒู ุจุฑุง ุณุงุฎุชุงุฑ <code>Screen</code> ู ูุชุฏ <code>run</code> ุขู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ู ูุญุฏูุฏุชโูุง ุตูุช</figcaption>
</figure>
<p>ุงู ุฑูุด ูุง ุฑุง ูุญุฏูุฏ ุจู ฺฉ ููููู <code>Screen</code> ูโฺฉูุฏ ฺฉู ูุณุช ุงุฒ ฺฉุงููพูููุชโูุง ููู ุงุฒ ููุน <code>Button</code> ุง ููู ุงุฒ ููุน <code>TextField</code> ุฏุงุดุชู ุจุงุดุฏ. ุงฺฏุฑ ููุท ูุฌููุนูโูุง ููฺฏู ุฏุงุดุชู ุจุงุดุฏุ ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุง ู ูุญุฏูุฏุชโูุง ุตูุช ุชุฑุฌุญ ุฏุงุฏู ูโุดูุฏ ุฒุฑุง ุงู ุชุนุงุฑู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงููุงุน ูุดุฎุต ููููููุฑูุฒู ูโุดููุฏ.</p>
<p>ุงุฒ ุทุฑู ุฏฺฏุฑุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑูุด ูุจุชู ุจุฑ ุงุดุงุก ุตูุชุ ฺฉ ููููู <code>Screen</code> ูโุชูุงูุฏ ฺฉ <code>Vec&lt;T&gt;</code> ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุดุงูู ฺฉ <code>Box&lt;Button&gt;</code> ู ููฺูู ฺฉ <code>Box&lt;TextField&gt;</code> ุจุงุดุฏ. ุจุงุฏ ุจุจูู ฺฉู ฺฺฏููู ุงู ฺฉุงุฑ ูโฺฉูุฏุ ุณูพุณ ุฏุฑุจุงุฑู ูพุงูุฏูุง ุนููฺฉุฑุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุตุญุจุช ฺฉูู.</p>
<h3 id="ูพุงุฏูุณุงุฒ-ุตูุช"><a class="header" href="#ูพุงุฏูุณุงุฒ-ุตูุช">ูพุงุฏูโุณุงุฒ ุตูุช</a></h3>
<p>ุญุงูุง ุจุฑุฎ ุงุฒ ุงููุงุน ฺฉู ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุงุถุงูู ูโฺฉูู. ููุน <code>Button</code> ุฑุง ุงุฑุงุฆู ูโุฏูู. ุฏูุจุงุฑูุ ูพุงุฏูโุณุงุฒ ฺฉ ฺฉุชุงุจุฎุงูู GUI ฺฉุงูู ูุฑุงุชุฑ ุงุฒ ูุญุฏูุฏู ุงู ฺฉุชุงุจ ุงุณุชุ ุจูุงุจุฑุงู ูุชุฏ <code>draw</code> ูฺ ูพุงุฏูโุณุงุฒ ููุฏ ุฏุฑ ุจุฏูู ุฎูุฏ ูุฎูุงูุฏ ุฏุงุดุช. ุจุฑุง ุชุตูุฑ ุงูฺฉู ูพุงุฏูโุณุงุฒ ููฺฉู ุงุณุช ฺฺฏููู ุจุงุดุฏุ ฺฉ ุณุงุฎุชุงุฑ <code>Button</code> ููฺฉู ุงุณุช ููุฏูุง ุจุฑุง <code>width</code>ุ <code>height</code> ู <code>label</code> ุฏุงุดุชู ุจุงุดุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-7 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub trait Draw {
</span><span class="boring">    fn draw(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct Screen {
</span><span class="boring">    pub components: Vec&lt;Box&lt;dyn Draw&gt;&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Screen {
</span><span class="boring">    pub fn run(&amp;self) {
</span><span class="boring">        for component in self.components.iter() {
</span><span class="boring">            component.draw();
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>pub struct Button {
    pub width: u32,
    pub height: u32,
    pub label: String,
}

impl Draw for Button {
    fn draw(&amp;self) {
        // code to actually draw a button
    }
}</code></pre>
<figcaption>Listing 18-7: ฺฉ ุณุงุฎุชุงุฑ <code>Button</code> ฺฉู ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ</figcaption>
</figure>
<p>ููุฏูุง <code>width</code>ุ <code>height</code> ู <code>label</code> ุฏุฑ <code>Button</code> ุจุง ููุฏูุง ฺฉุงููพูููุชโูุง ุฏฺฏุฑ ูุชูุงูุช ุฎูุงููุฏ ุจูุฏ. ุจุฑุง ูุซุงูุ ฺฉ ููุน <code>TextField</code> ููฺฉู ุงุณุช ููุงู ููุฏูุง ุจูโุนูุงูู ฺฉ ููุฏ <code>placeholder</code> ุฏุงุดุชู ุจุงุดุฏ. ูุฑ ฺฉ ุงุฒ ุงููุงุน ฺฉู ูโุฎูุงูู ุฑู ุตูุญู ุฑุณู ุดููุฏุ ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุงูุง ุงุฒ ฺฉุฏ ูุชูุงูุช ุฏุฑ ูุชุฏ <code>draw</code> ุจุฑุง ุชุนุฑู ูุญูู ุฑุณู ุขู ููุน ุฎุงุต ุงุณุชูุงุฏู ูโฺฉููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงูุฌุง ุจุฑุง <code>Button</code> ุขูุฏู ุงุณุช (ุจุฏูู ฺฉุฏ GUI ูุงูุนุ ููุงูโุทูุฑ ฺฉู ุฐฺฉุฑ ุดุฏ). ููุน <code>Button</code>ุ ุจุฑุง ูุซุงูุ ููฺฉู ุงุณุช ฺฉ ุจููฺฉ <code>impl</code> ุงุถุงู ุดุงูู ูุชุฏูุง ูุฑุชุจุท ุจุง ุขูฺู ููฺฏุงู ฺฉูฺฉ ฺฉุงุฑุจุฑ ุฑู ุฏฺฉูู ุงุชูุงู ูโุงูุชุฏ ุฏุงุดุชู ุจุงุดุฏ. ุงู ููุน ูุชุฏูุง ุจุฑุง ุงููุงุน ูุงููุฏ <code>TextField</code> ุงุนูุงู ููโุดููุฏ.</p>
<p>ุงฺฏุฑ ฺฉุณ ฺฉู ุงุฒ ฺฉุชุงุจุฎุงูู ูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุตูู ุจฺฏุฑุฏ ฺฉ ุณุงุฎุชุงุฑ <code>SelectBox</code> ุจุง ููุฏูุง <code>width</code>ุ <code>height</code> ู <code>options</code> ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูโุชูุงูุฏ ุตูุช <code>Draw</code> ุฑุง ุฑู ููุน <code>SelectBox</code> ูุฒ ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-8 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use gui::Draw;

struct SelectBox {
    width: u32,
    height: u32,
    options: Vec&lt;String&gt;,
}

impl Draw for SelectBox {
    fn draw(&amp;self) {
        // code to actually draw a select box
    }
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre>
<figcaption>Listing 18-8: ฺฉ crate ุฏฺฏุฑ ฺฉู ุงุฒ <code>gui</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุตูุช <code>Draw</code> ุฑุง ุฑู ฺฉ ุณุงุฎุชุงุฑ <code>SelectBox</code> ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ</figcaption>
</figure>
<p>ุงฺฉููู ฺฉุงุฑุจุฑ ฺฉุชุงุจุฎุงูู ูุง ูโุชูุงูุฏ ุชุงุจุน <code>main</code> ุฎูุฏ ุฑุง ุจููุณุฏ ุชุง ฺฉ ููููู <code>Screen</code> ุงุฌุงุฏ ฺฉูุฏ. ุจู ููููู <code>Screen</code>ุ ุขูโูุง ูโุชูุงููุฏ ฺฉ <code>SelectBox</code> ู ฺฉ <code>Button</code> ุงุถุงูู ฺฉููุฏุ ุจุง ูุฑุงุฑ ุฏุงุฏู ูุฑ ฺฉ ุฏุฑ ฺฉ <code>Box&lt;T&gt;</code> ุชุง ุจู ฺฉ ุดุก ุตูุช ุชุจุฏู ุดููุฏ. ุณูพุณ ูโุชูุงููุฏ ูุชุฏ <code>run</code> ุฑุง ุฑู ููููู <code>Screen</code> ูุฑุงุฎูุงู ฺฉููุฏุ ฺฉู ูุชุฏ <code>draw</code> ุฑุง ุฑู ูุฑ ฺฉ ุงุฒ ฺฉุงููพูููุชโูุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ูุณุชูฺฏ 18-9 ุงู ูพุงุฏูโุณุงุฒ ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use gui::Draw;
</span><span class="boring">
</span><span class="boring">struct SelectBox {
</span><span class="boring">    width: u32,
</span><span class="boring">    height: u32,
</span><span class="boring">    options: Vec&lt;String&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Draw for SelectBox {
</span><span class="boring">    fn draw(&amp;self) {
</span><span class="boring">        // code to actually draw a select box
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>use gui::{Button, Screen};

fn main() {
    let screen = Screen {
        components: vec![
            Box::new(SelectBox {
                width: 75,
                height: 10,
                options: vec![
                    String::from("Yes"),
                    String::from("Maybe"),
                    String::from("No"),
                ],
            }),
            Box::new(Button {
                width: 50,
                height: 10,
                label: String::from("OK"),
            }),
        ],
    };

    screen.run();
}</code></pre>
<figcaption>Listing 18-9: ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ุตูุช ุจุฑุง ุฐุฎุฑู ููุงุฏุฑ ุจุง ุงููุงุน ูุฎุชูู ฺฉู ฺฉ ุตูุช ฺฉุณุงู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ</figcaption>
</figure>
<p>ููุช ฺฉุชุงุจุฎุงูู ุฑุง ููุดุชูุ ููโุฏุงูุณุชู ฺฉู ฺฉุณ ููฺฉู ุงุณุช ููุน <code>SelectBox</code> ุฑุง ุงุถุงูู ฺฉูุฏุ ุงูุง ูพุงุฏูโุณุงุฒ <code>Screen</code> ูุง ุชูุงูุณุช ุฑู ููุน ุฌุฏุฏ ุนูู ฺฉูุฏ ู ุขู ุฑุง ุฑุณู ฺฉูุฏ ุฒุฑุง <code>SelectBox</code> ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุชุ ฺฉู ุจู ุงู ูุนูุงุณุช ฺฉู ูุชุฏ <code>draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช.</p>
<p>ุงู ูููููโููุท ุจู ูพุงูโูุง ฺฉู ฺฉ ููุฏุงุฑ ุจู ุขูโูุง ูพุงุณุฎ ูโุฏูุฏ ุงููุช ุฏุงุฏู ูโุดูุฏุ ูู ููุน ุฏูู ููุฏุงุฑโูุดุงุจู ููููู <em>duck typing</em> ุฏุฑ ุฒุจุงูโูุง ุจุง ููุนโุฏู ูพูุง ุงุณุช: ุงฺฏุฑ ูุงููุฏ ุงุฑุฏฺฉ ุญุฑฺฉุช ูโฺฉูุฏ ู ูุงููุฏ ุงุฑุฏฺฉ ุตุฏุง ูโฺฉูุฏุ ูพุณ ุญุชูุงู ฺฉ ุงุฑุฏฺฉ ุงุณุช! ุฏุฑ ูพุงุฏูโุณุงุฒ ูุชุฏ <code>run</code> ุฑู <code>Screen</code> ุฏุฑ ูุณุชูฺฏ 18-5ุ <code>run</code> ูุงุฒ ูุฏุงุฑุฏ ุจุฏุงูุฏ ููุน ุฏูู ูุฑ ฺฉุงููพูููุช ฺุณุช. ูุงุฒ ูุฏุงุฑุฏ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง ฺฉ ฺฉุงููพูููุช ูููููโุง ุงุฒ <code>Button</code> ุง <code>SelectBox</code> ุงุณุชุ ููุท ูุชุฏ <code>draw</code> ุฑุง ุฑู ฺฉุงููพูููุช ูุฑุงุฎูุงู ูโฺฉูุฏ. ุจุง ูุดุฎุต ฺฉุฑุฏู <code>Box&lt;dyn Draw&gt;</code> ุจูโุนููุงู ููุน ููุงุฏุฑ ุฏุฑ ุจุฑุฏุงุฑ <code>components</code>ุ ูุง ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู <code>Screen</code> ุจู ููุงุฏุฑ ูุงุฒ ุฏุงุฑุฏ ฺฉู ุจุชูุงูู ูุชุฏ <code>draw</code> ุฑุง ุฑู ุขูโูุง ูุฑุงุฎูุงู ฺฉูู.</p>
<p>ูุฒุช ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ุตูุช ู ุณุณุชู ููุน Rust ุจุฑุง ููุดุชู ฺฉุฏ ูุดุงุจู ุจุง duck typing ุงู ุงุณุช ฺฉู ูุฑฺฏุฒ ูุงุฒ ุจู ุจุฑุฑุณ ูุฏุงุฑู ฺฉู ุขุง ฺฉ ููุฏุงุฑ ูุชุฏ ุฎุงุต ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช ุง ุฎุฑุ ุง ูฺฏุฑุงู ุฎุทุงูุง ุจุงุดู ุงฺฏุฑ ฺฉ ููุฏุงุฑ ูุชุฏ ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏู ุงูุง ูุง ุขู ุฑุง ูุฑุงุฎูุงู ฺฉูู. Rust ฺฉุฏ ูุง ุฑุง ฺฉุงููพุงู ููโฺฉูุฏ ุงฺฏุฑ ููุงุฏุฑ ุตูุงุช ุฑุง ฺฉู ุงุดุงุก ุตูุช ูุงุฒ ุฏุงุฑูุฏ ูพุงุฏูโุณุงุฒ ูฺฉููุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูุณุชูฺฏ 18-10 ูุดุงู ูโุฏูุฏ ฺู ุงุชูุงู ูโุงูุชุฏ ุงฺฏุฑ ุจุฎูุงูู ฺฉ <code>Screen</code> ุจุง ฺฉ <code>String</code> ุจูโุนููุงู ฺฉ ฺฉุงููพูููุช ุงุฌุงุฏ ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use gui::Screen;

fn main() {
    let screen = Screen {
        components: vec![Box::new(String::from("Hi"))],
    };

    screen.run();
}</code></pre>
<figcaption>Listing 18-10: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ููุน ฺฉู ุตูุช ุดุก ุตูุช ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏู ุงุณุช</figcaption>
</figure>
<p>ูุง ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ ุฒุฑุง <code>String</code> ุตูุช <code>Draw</code> ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling gui v0.1.0 (file:///projects/gui)
error[E0277]: the trait bound `String: Draw` is not satisfied
 --&gt; src/main.rs:5:26
  |
5 |         components: vec![Box::new(String::from("Hi"))],
  |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Draw` is not implemented for `String`
  |
  = help: the trait `Draw` is implemented for `Button`
  = note: required for the cast from `Box&lt;String&gt;` to `Box&lt;dyn Draw&gt;`

For more information about this error, try `rustc --explain E0277`.
error: could not compile `gui` (bin "gui") due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ุจู ูุง ูโฺฏูุฏ ุง ฺุฒ ุฑุง ุจู <code>Screen</code> ุงุฑุณุงู ูโฺฉูู ฺฉู ูุตุฏ ูุฏุงุดุชู ุงุฑุณุงู ฺฉูู ู ุจูุงุจุฑุงู ุจุงุฏ ููุน ุฏฺฏุฑ ุฑุง ุงุฑุณุงู ฺฉูู ุง ุจุงุฏ <code>Draw</code> ุฑุง ุฑู <code>String</code> ูพุงุฏูโุณุงุฒ ฺฉูู ุชุง <code>Screen</code> ุจุชูุงูุฏ ูุชุฏ <code>draw</code> ุฑุง ุฑู ุขู ูุฑุงุฎูุงู ฺฉูุฏ.</p>
<h3 id="ุงุดุงุก-ุตูุช-ุงุฌุฑุง-dispatch-ูพูุง-ุฑุง-ุงูุฌุงู-ูุฏููุฏ"><a class="header" href="#ุงุดุงุก-ุตูุช-ุงุฌุฑุง-dispatch-ูพูุง-ุฑุง-ุงูุฌุงู-ูุฏููุฏ">ุงุดุงุก ุตูุช ุงุฌุฑุง Dispatch ูพูุง ุฑุง ุงูุฌุงู ูโุฏููุฏ</a></h3>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch10-01-syntax.html#performance-of-code-using-generics">โุนููฺฉุฑุฏ ฺฉุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌูุฑฺฉโูุงโ</a><!-- ignore --> ุฏุฑ ูุตู 10 ุจุญุซ ฺฉุฑุฏู ฺฉู ฺฉุงููพุงูุฑ ูุฑุงูุฏ ููููููุฑูุฒู ฺฉุฑุฏู ุฑุง ุฑู ุฌูุฑฺฉโูุง ุงูุฌุงู ูโุฏูุฏ: ฺฉุงููพุงูุฑ ูพุงุฏูโุณุงุฒโูุง ุบุฑุจูุฑฺฉ ุงุฒ ุชูุงุจุน ู ูุชุฏูุง ุฑุง ุจุฑุง ูุฑ ููุน ูุดุฎุต ฺฉู ุจู ุฌุง ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุงุณุชูุงุฏู ูโฺฉููุ ุชููุฏ ูโฺฉูุฏ. ฺฉุฏ ฺฉู ุงุฒ ููููููุฑูุฒู ฺฉุฑุฏู ุจู ุฏุณุช ูโุขุฏุ <em>dispatch ุงุณุชุงุชฺฉ</em> ุงูุฌุงู ูโุฏูุฏุ ุจู ุงู ูุนูุง ฺฉู ฺฉุงููพุงูุฑ ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูโุฏุงูุฏ ฺฉุฏุงู ูุชุฏ ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ุจุฑุฎูุงู <em>dispatch ูพูุง</em> ุงุณุชุ ฺฉู ุฏุฑ ุขู ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุชุดุฎุต ุฏูุฏ ฺฉุฏุงู ูุชุฏ ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุฏุฑ ููุงุฑุฏ dispatch ูพูุงุ ฺฉุงููพุงูุฑ ฺฉุฏ ุชููุฏ ูโฺฉูุฏ ฺฉู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุชุดุฎุต ูโุฏูุฏ ฺฉุฏุงู ูุชุฏ ุจุงุฏ ูุฑุงุฎูุงู ุดูุฏ.</p>
<p>ููุช ุงุฒ ุงุดุงุก ุตูุช ุงุณุชูุงุฏู ูโฺฉููุ Rust ูุฌุจูุฑ ุงุณุช ุงุฒ dispatch ูพูุง ุงุณุชูุงุฏู ฺฉูุฏ. ฺฉุงููพุงูุฑ ููโุฏุงูุฏ ฺฉู ฺู ููุนโูุง ููฺฉู ุงุณุช ุจุง ฺฉุฏ ฺฉู ุงุฒ ุงุดุงุก ุตูุช ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงุณุชูุงุฏู ุดููุฏุ ุจูุงุจุฑุงู ููโุฏุงูุฏ ฺฉุฏุงู ูุชุฏ ูพุงุฏูโุณุงุฒโุดุฏู ุฑู ฺฉุฏุงู ููุน ุฑุง ุจุงุฏ ูุฑุงุฎูุงู ฺฉูุฏ. ุฏุฑ ุนูุถุ ุฏุฑ ุฒูุงู ุงุฌุฑุงุ Rust ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฏุงุฎู ุดุก ุตูุช ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุจุฏุงูุฏ ฺฉุฏุงู ูุชุฏ ุฑุง ุจุงุฏ ูุฑุงุฎูุงู ฺฉูุฏ. ุงู ุฌุณุชุฌู ูุฒูู ุฒูุงู ุงุฌุฑุง ุจู ููุฑุงู ุฏุงุฑุฏ ฺฉู ุจุง dispatch ุงุณุชุงุชฺฉ ุงุชูุงู ููโุงูุชุฏ. dispatch ูพูุง ููฺูู ุงุฒ ุงู ุฌููฺฏุฑ ูโฺฉูุฏ ฺฉู ฺฉุงููพุงูุฑ ฺฉุฏ ฺฉ ูุชุฏ ุฑุง inline ฺฉูุฏุ ฺฉู ุจู ููุจู ุฎูุฏ ุงุฒ ุจุฑุฎ ุจูููโุณุงุฒโูุง ุฌููฺฏุฑ ูโฺฉูุฏ. Rust ููฺูู ููุงูู ุฏุงุฑุฏ ฺฉู ูุดุฎุต ูโฺฉููุฏ ฺฉุฌุง ูโุชูุงูุฏ ู ฺฉุฌุง ููโุชูุงูุฏ ุงุฒ dispatch ูพูุง ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉู ุจู <a href="https://doc.rust-lang.org/reference/items/traits.html#dyn-compatibility"><em>ุณุงุฒฺฏุงุฑ dyn</em></a> ูุนุฑูู ุงุณุช. ุจุง ุงู ุญุงูุ ูุง ุฏุฑ ฺฉุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-5 ููุดุชู ู ุชูุงูุณุชู ุฏุฑ ูุณุชูฺฏ 18-9 ูพุดุชุจุงู ฺฉููุ ุงูุนุทุงูโูพุฐุฑ ุจุดุชุฑ ุจู ุฏุณุช ุขูุฑุฏูุ ุจูุงุจุฑุงู ุงู ููุถูุน ฺฉ ููุงุฒูู ุงุณุช ฺฉู ุจุงุฏ ููุฑุฏ ุชูุฌู ูุฑุงุฑ ฺฏุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูพุงุฏูุณุงุฒ-ฺฉ-ุงูฺฏู-ุทุฑุงุญ-ุดฺฏุฑุง"><a class="header" href="#ูพุงุฏูุณุงุฒ-ฺฉ-ุงูฺฏู-ุทุฑุงุญ-ุดฺฏุฑุง">ูพุงุฏูโุณุงุฒ ฺฉ ุงูฺฏู ุทุฑุงุญ ุดโฺฏุฑุง</a></h2>
<p><em>ุงูฺฏู ูุถุนุช</em> ฺฉ ุงูฺฏู ุทุฑุงุญ ุดโฺฏุฑุง ุงุณุช. ูุณุชู ุงู ุงูฺฏู ุงู ุงุณุช ฺฉู ูุฌููุนูโุง ุงุฒ ูุถุนุชโูุง ุฑุง ฺฉู ฺฉ ููุฏุงุฑ ูโุชูุงูุฏ
ุจูโุทูุฑ ุฏุงุฎู ุฏุงุดุชู ุจุงุดุฏุ ุชุนุฑู ฺฉูู. ุงู ูุถุนุชโูุง ุจุง ูุฌููุนูโุง ุงุฒ <em>ุงุดุง ูุถุนุช</em> ููุงุด ุฏุงุฏู ูโุดููุฏ ู ุฑูุชุงุฑ ููุฏุงุฑ
ุจุฑ ุงุณุงุณ ูุถุนุช ุขู ุชุบุฑ ูโฺฉูุฏ. ูุตุฏ ุฏุงุฑู ูุซุงู ุงุฒ ฺฉ ุณุงุฎุชุงุฑ blog post (ูพุณุช ูุจูุงฺฏ) ุฑุง ุจุฑุฑุณ ฺฉูู ฺฉู ฺฉ ููุฏ ุจุฑุง
ูฺฏูโุฏุงุดุชู ูุถุนุช ุฏุงุฑุฏ. ุงู ูุถุนุช ฺฉ ุดุก ุงุฒ ูุฌููุนู โูพุดโููุณโ (draft)ุ โุฏุฑ ุญุงู ุจุฑุฑุณโ (review)ุ ุง โููุชุดุฑุดุฏูโ
(published) ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุงุดุง ูุถุนุช ูุงุจูุชโูุง ุฑุง ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏ: ุฏุฑ Rustุ ุงูุจุชูุ ูุง ุงุฒ ุณุงุฎุชุงุฑูุง (structs) ู ุตูุชโูุง (traits) ุจู ุฌุง
ุงุดุง ู ุงุฑุซโุจุฑ ุงุณุชูุงุฏู ูโฺฉูู. ูุฑ ุดุก ูุถุนุช ูุณุฆูู ุฑูุชุงุฑ ุฎูุฏ ู ูุฏุฑุช ุฒูุงู ุงุณุช ฺฉู ุจุงุฏ ุจู ูุถุนุช ุฏฺฏุฑ ุชุบุฑ ฺฉูุฏ.
ููุฏุงุฑ ฺฉู ฺฉ ุดุก ูุถุนุช ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ูฺ ุงุทูุงุน ุงุฒ ุฑูุชุงุฑูุง ูุฎุชูู ูุถุนุชโูุง ุง ุฒูุงู ุชุบุฑ ูุถุนุช ูุฏุงุฑุฏ.</p>
<p>ูุฒุช ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู ูุถุนุช ุงู ุงุณุช ฺฉู ููุช ูุงุฒูุง ุชุฌุงุฑ ุจุฑูุงูู ุชุบุฑ ูโฺฉููุฏุ ูุงุฒ ุจู ุชุบุฑ ฺฉุฏ ููุฏุงุฑ ฺฉู ูุถุนุช
ุฑุง ูฺฏู ูโุฏุงุฑุฏ ุง ฺฉุฏ ฺฉู ุงุฒ ุขู ููุฏุงุฑ ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุฏุงุฑู. ุชููุง ูุงุฒู ุงุณุช ฺฉุฏ ุฏุงุฎู ฺฉ ุงุฒ ุงุดุง ูุถุนุช ุฑุง ุจุฑุง ุชุบุฑ
ููุงูู ุขู ุง ุดุงุฏ ุงุถุงูู ฺฉุฑุฏู ุงุดุง ูุถุนุช ุฌุฏุฏ ุจูโุฑูุฒุฑุณุงู ฺฉูู.</p>
<p>ุงุจุชุฏุง ุงูฺฏู ูุถุนุช ุฑุง ุจู ุฑูุด ุณูุช ุดโฺฏุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุ ุณูพุณ ุงุฒ ุฑูฺฉุฑุฏ ฺฉู ุฏุฑ Rust ุทุจุนโุชุฑ ุงุณุช ุงุณุชูุงุฏู ุฎูุงูู
ฺฉุฑุฏ. ุจุงุฏ ุจูโุตูุฑุช ูุฑุญููโุจูโูุฑุญูู ูพุงุฏูโุณุงุฒ ฺฉ ูุฑุขูุฏ ฺฉุงุฑ ูพุณุช ูุจูุงฺฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู ูุถุนุช ุฑุง ุจุฑุฑุณ ฺฉูู.</p>
<p>ูุงุจูุช ููุง ุจู ุงู ุดฺฉู ุฎูุงูุฏ ุจูุฏ:</p>
<ol>
<li>ฺฉ ูพุณุช ูุจูุงฺฏ ุจูโุตูุฑุช ฺฉ ูพุดโููุณ ุฎุงู ุดุฑูุน ูโุดูุฏ.</li>
<li>ููุช ูพุดโููุณ ุชูุงู ุดุฏุ ุจุฑุฑุณ ูพุณุช ุฏุฑุฎูุงุณุช ูโุดูุฏ.</li>
<li>ููุช ูพุณุช ุชุฃุฏ ุดุฏุ ููุชุดุฑ ูโุดูุฏ.</li>
<li>ุชููุง ูพุณุชโูุง ูุจูุงฺฏ ฺฉู ููุชุดุฑ ุดุฏูโุงูุฏ ูุชู ุฑุง ุจุฑุง ฺุงูพ ุจุงุฒูโฺฏุฑุฏุงููุฏุ ุจูุงุจุฑุงู ูพุณุชโูุง ุชุฃุฏูุดุฏู ููโุชูุงููุฏ ุจูโุทูุฑ
ุชุตุงุฏู ููุชุดุฑ ุดููุฏ.</li>
</ol>
<p>ูุฑ ุชุบุฑ ุฏฺฏุฑ ฺฉู ุฑู ฺฉ ูพุณุช ุชูุงุด ุดูุฏ ูุจุงุฏ ุชุฃุซุฑ ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุจุฎูุงูู ฺฉ ูพุณุช ูุจูุงฺฏ ูพุดโููุณ ุฑุง
ูุจู ุงุฒ ุฏุฑุฎูุงุณุช ุจุฑุฑุณ ุชุฃุฏ ฺฉููุ ูพุณุช ุจุงุฏ ุจูโุนููุงู ูพุดโููุณ ููุชุดุฑูุดุฏู ุจุงู ุจูุงูุฏ.</p>
<p>ูุณุชูฺฏ 18-11 ุงู ูุฑุขูุฏ ฺฉุงุฑ ุฑุง ุจูโุตูุฑุช ฺฉุฏ ูุดุงู ูโุฏูุฏ: ุงู ฺฉ ููููู ุงุฒ ุงุณุชูุงุฏู ุงุฒ API ุงุณุช ฺฉู ูุตุฏ ุฏุงุฑู ุฏุฑ ฺฉ
crate ฺฉุชุงุจุฎุงููโุง ุจู ูุงู <code>blog</code> ูพุงุฏูโุณุงุฒ ฺฉูู. ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ ุฒุฑุง ูููุฒ crate <code>blog</code> ุฑุง ูพุงุฏูโุณุงุฒ
ูฺฉุฑุฏูโุงู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use blog::Post;

fn main() {
    let mut post = Post::new();

    post.add_text("I ate a salad for lunch today");
    assert_eq!("", post.content());

    post.request_review();
    assert_eq!("", post.content());

    post.approve();
    assert_eq!("I ate a salad for lunch today", post.content());
}</code></pre>
<figcaption>Listing 18-11: ฺฉุฏ ฺฉู ุฑูุชุงุฑ ููุฑุฏ ูุธุฑ ูุง ุจุฑุง crate <code>blog</code> ุฑุง ูุดุงู ูโุฏูุฏ</figcaption>
</figure>
<p>ูุง ูโุฎูุงูู ุจู ฺฉุงุฑุจุฑ ุงุฌุงุฒู ุฏูู ฺฉ ูพุณุช ูุจูุงฺฏ ูพุดโููุณ ุฌุฏุฏ ุจุง <code>Post::new</code> ุงุฌุงุฏ ฺฉูุฏ. ูโุฎูุงูู ุงูฺฉุงู ุงุถุงูู ฺฉุฑุฏู
ูุชู ุจู ูพุณุช ูุจูุงฺฏ ุฑุง ูุฑุงูู ฺฉูู. ุงฺฏุฑ ููุฑุงู ุจุฎูุงูู ูุญุชูุง ูพุณุช ุฑุง ุฏุฑุงูุช ฺฉููุ ูุจู ุงุฒ ุชุฃุฏุ ูุจุงุฏ ูฺ ูุชู ุฏุฑุงูุช
ฺฉููุ ุฒุฑุง ูพุณุช ูููุฒ ฺฉ ูพุดโููุณ ุงุณุช. ูุง ุงุฒ <code>assert_eq!</code> ุฏุฑ ฺฉุฏ ุจุฑุง ุงูุฏุงู ููุงุด ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ฺฉ ุชุณุช ูุงุญุฏ ุนุงู
ุจุฑุง ุงู ููุฑุฏ ุงู ุงุณุช ฺฉู ุชุฃุฏ ฺฉูู ฺฉ ูพุณุช ูุจูุงฺฏ ูพุดโููุณ ฺฉ ุฑุดุชู ุฎุงู ุงุฒ ูุชุฏ <code>content</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงูุง ูุตุฏ ูุฏุงุฑู
ุจุฑุง ุงู ูุซุงู ุชุณุช ุจููุณู.</p>
<p>ุณูพุณ ูโุฎูุงูู ุงูฺฉุงู ุฏุฑุฎูุงุณุช ุจุฑุฑุณ ุจุฑุง ูพุณุช ูุฑุงูู ุดูุฏ ู ูโุฎูุงูู <code>content</code> ุฏุฑ ุญู ุงูุชุธุงุฑ ุจุฑุง ุจุฑุฑุณ ฺฉ ุฑุดุชู ุฎุงู
ุจุงุฒฺฏุฑุฏุงูุฏ. ููุช ูพุณุช ุชุฃุฏ ุดูุฏุ ุจุงุฏ ููุชุดุฑ ุดูุฏุ ุจู ุงู ูุนู ฺฉู ูุชู ูพุณุช ููฺฏุงู ูุฑุงุฎูุงู <code>content</code> ุจุงุฒฺฏุฑุฏุงูุฏู ุฎูุงูุฏ ุดุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชููุง ููุน ฺฉู ุงุฒ crate ุชุนุงูู ุฏุงุฑูุ ููุน <code>Post</code> ุงุณุช. ุงู ููุน ุงุฒ ุงูฺฏู ูุถุนุช ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ ู
ููุฏุงุฑ ูฺฏู ูโุฏุงุฑุฏ ฺฉู ฺฉ ุงุฒ ุณู ุดุก ูุถุนุช ููุงุดโุฏููุฏู ูุถุนุชโูุง ูุฎุชูู ฺฉ ูพุณุช ุจุงุดุฏโูพุดโููุณุ ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณุ ุง
ููุชุดุฑุดุฏู. ุชุบุฑ ุงุฒ ฺฉ ูุถุนุช ุจู ูุถุนุช ุฏฺฏุฑ ุจูโุตูุฑุช ุฏุงุฎู ุฏุฑ ููุน <code>Post</code> ูุฏุฑุช ูโุดูุฏ. ุชุบุฑ ูุถุนุชโูุง ุฏุฑ ูพุงุณุฎ ุจู
ูุชุฏูุง ฺฉู ฺฉุงุฑุจุฑุงู ฺฉุชุงุจุฎุงูู ูุง ุฑู ููููู <code>Post</code> ูุฑุงุฎูุงู ูโฺฉููุฏ ุงุชูุงู ูโุงูุชุฏุ ุงูุง ฺฉุงุฑุจุฑุงู ูุฌุจูุฑ ูุณุชูุฏ ุชุบุฑ
ูุถุนุชโูุง ุฑุง ูุณุชููุงู ูุฏุฑุช ฺฉููุฏ. ููฺููุ ฺฉุงุฑุจุฑุงู ููโุชูุงููุฏ ุฏุฑ ููุฑุฏ ูุถุนุชโูุง ุงุดุชุจุงู ฺฉููุฏุ ูุงููุฏ ุงูุชุดุงุฑ ฺฉ ูพุณุช ูุจู
ุงุฒ ุจุฑุฑุณ ุขู.</p>
<h3 id="ุชุนุฑู-post-ู-ุงุฌุงุฏ-ฺฉ-ููููู-ุฌุฏุฏ-ุฏุฑ-ูุถุนุช-ูพุดููุณ"><a class="header" href="#ุชุนุฑู-post-ู-ุงุฌุงุฏ-ฺฉ-ููููู-ุฌุฏุฏ-ุฏุฑ-ูุถุนุช-ูพุดููุณ">ุชุนุฑู <code>Post</code> ู ุงุฌุงุฏ ฺฉ ููููู ุฌุฏุฏ ุฏุฑ ูุถุนุช ูพุดโููุณ</a></h3>
<p>ุจุงุฏ ูพุงุฏูโุณุงุฒ ฺฉุชุงุจุฎุงูู ุฑุง ุดุฑูุน ฺฉูู! ูโุฏุงูู ฺฉู ุจู ฺฉ ุณุงุฎุชุงุฑ <code>Post</code> ุนููู ูุงุฒ ุฏุงุฑู ฺฉู ููุฏุงุฑ ูุญุชูุง ุฑุง ูฺฏู
ูโุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจุง ุชุนุฑู ุงู ุณุงุฎุชุงุฑ ู ฺฉ ุชุงุจุน ูุฑุชุจุท <code>new</code> ุนููู ุจุฑุง ุงุฌุงุฏ ฺฉ ููููู ุงุฒ <code>Post</code> ุดุฑูุน ูโฺฉูู. ุงู
ุชุนุงุฑู ุฏุฑ ูุณุชูฺฏ 18-12 ุขูุฏูโุงูุฏ. ููฺููุ ฺฉ ุตูุช ุฎุตูุต <code>State</code> ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุฑูุชุงุฑ ุฑุง ฺฉู ุชูุงู ุงุดุง ูุถุนุช
ุจุฑุง <code>Post</code> ุจุงุฏ ุฏุงุดุชู ุจุงุดูุฏ ุชุนุฑู ูโฺฉูุฏ.</p>
<p>ุณูพุณุ <code>Post</code> ฺฉ ุดุก ุตูุช <code>Box&lt;dyn State&gt;</code> ุฑุง ุฏุฑูู ฺฉ <code>Option&lt;T&gt;</code> ุฏุฑ ฺฉ ููุฏ ุฎุตูุต ุจู ูุงู <code>state</code> ูฺฏู ุฎูุงูุฏ ุฏุงุดุช ุชุง
ุดุก ูุถุนุช ุฑุง ูุฏุฑุช ฺฉูุฏ. ุฏุฑ ุงุฏุงูู ุฎูุงูุฏ ุฏุฏ ฺฉู ฺุฑุง <code>Option&lt;T&gt;</code> ุถุฑูุฑ ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub struct Post {
    state: Option&lt;Box&lt;dyn State&gt;&gt;,
    content: String,
}

impl Post {
    pub fn new() -&gt; Post {
        Post {
            state: Some(Box::new(Draft {})),
            content: String::new(),
        }
    }
}

trait State {}

struct Draft {}

impl State for Draft {}</code></pre>
<figcaption>Listing 18-12: ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ <code>Post</code> ู ฺฉ ุชุงุจุน <code>new</code> ฺฉู ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>Post</code> ุงุฌุงุฏ ูโฺฉูุฏุ ฺฉ ุตูุช <code>State</code>ุ ู ฺฉ ุณุงุฎุชุงุฑ <code>Draft</code></figcaption>
</figure>
<p>ุตูุช <code>State</code> ุฑูุชุงุฑ ุฑุง ฺฉู ูุถุนุชโูุง ูุฎุชูู ูพุณุชโูุง ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏ ุชุนุฑู ูโฺฉูุฏ. ุงุดุง ูุถุนุช ุดุงูู <code>Draft</code>,
<code>PendingReview</code> ู <code>Published</code> ูุณุชูุฏ ู ููู ุขูโูุง ุตูุช <code>State</code> ุฑุง ูพุงุฏูโุณุงุฒ ุฎูุงููุฏ ฺฉุฑุฏ. ูุนูุงู ุตูุช ูฺ ูุชุฏ ูุฏุงุฑุฏ ู
ูุง ุจุง ุชุนุฑู ุชููุง ูุถุนุช <code>Draft</code> ุดุฑูุน ูโฺฉููุ ุฒุฑุง ุงู ูุถุนุช ุงุณุช ฺฉู ูโุฎูุงูู ูพุณุช ุฏุฑ ุขู ุดุฑูุน ุดูุฏ.</p>
<p>ููุช ฺฉ <code>Post</code> ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉููุ ููุฏ <code>state</code> ุขู ุฑุง ุจู ฺฉ ููุฏุงุฑ <code>Some</code> ุชูุธู ูโฺฉูู ฺฉู ฺฉ <code>Box</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ.
ุงู <code>Box</code> ุจู ฺฉ ููููู ุฌุฏุฏ ุงุฒ ุณุงุฎุชุงุฑ <code>Draft</code> ุงุดุงุฑู ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุชุถูู ูโฺฉูุฏ ฺฉู ูุฑฺฏุงู ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>Post</code>
ุงุฌุงุฏ ุดูุฏุ ุจูโุนููุงู ฺฉ ูพุดโููุณ ุดุฑูุน ุดูุฏ. ุงุฒ ุขูุฌุง ฺฉู ููุฏ <code>state</code> ุฏุฑ <code>Post</code> ุฎุตูุต ุงุณุชุ ูฺ ุฑุงู ุจุฑุง ุงุฌุงุฏ ฺฉ
<code>Post</code> ุฏุฑ ูุถุนุช ุฏฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ! ุฏุฑ ุชุงุจุน <code>Post::new</code>ุ ููุฏ <code>content</code> ุฑุง ุจู ฺฉ <code>String</code> ุฌุฏุฏ ู ุฎุงู ุชูุธู
ูโฺฉูู.</p>
<h3 id="ุฐุฎุฑู-ูุชู-ูุญุชูุง-ูพุณุช"><a class="header" href="#ุฐุฎุฑู-ูุชู-ูุญุชูุง-ูพุณุช">ุฐุฎุฑู ูุชู ูุญุชูุง ูพุณุช</a></h3>
<p>ุฏุฑ ูุณุชูฺฏ 18-11 ุฏุฏู ฺฉู ูโุฎูุงูู ุจุชูุงูู ฺฉ ูุชุฏ ุจู ูุงู <code>add_text</code> ูุฑุงุฎูุงู ฺฉูู ู ฺฉ <code>&amp;str</code> ุจู ุขู ุจุฏูู ฺฉู ุจู
ุนููุงู ูุญุชูุง ูุชู ูพุณุช ูุจูุงฺฏ ุงุถุงูู ุดูุฏ. ุงู ฺฉุงุฑ ุฑุง ุจูโุตูุฑุช ฺฉ ูุชุฏ ูพุงุฏูโุณุงุฒ ูโฺฉูู ุชุง ููุฏ <code>content</code> ุฑุง ุจูโุฌุง
ุชุนุฑู ุขู ุจูโุตูุฑุช <code>pub</code> ฺฉูุชุฑู ฺฉูู ู ุจุชูุงูู ุฏุฑ ุขูุฏู ูุชุฏ ุจุฑุง ฺฉูุชุฑู ฺฺฏููฺฏ ุฎูุงูุฏู ุฏุงุฏู ููุฏ <code>content</code>
ูพุงุฏูโุณุงุฒ ฺฉูู. ูุชุฏ <code>add_text</code> ูุณุจุชุงู ุณุงุฏู ุงุณุชุ ุจูุงุจุฑุงู ุจุงุฏ ูพุงุฏูโุณุงุฒ ุขู ุฑุง ุจู ุจููฺฉ <code>impl Post</code> ุฏุฑ ูุณุชูฺฏ
18-13 ุงุถุงูู ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Post {
</span><span class="boring">    state: Option&lt;Box&lt;dyn State&gt;&gt;,
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Post {
    // --snip--
<span class="boring">    pub fn new() -&gt; Post {
</span><span class="boring">        Post {
</span><span class="boring">            state: Some(Box::new(Draft {})),
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn add_text(&amp;mut self, text: &amp;str) {
        self.content.push_str(text);
    }
}
<span class="boring">
</span><span class="boring">trait State {}
</span><span class="boring">
</span><span class="boring">struct Draft {}
</span><span class="boring">
</span><span class="boring">impl State for Draft {}</span></code></pre>
<figcaption>Listing 18-13: ูพุงุฏูโุณุงุฒ ูุชุฏ <code>add_text</code> ุจุฑุง ุงูุฒูุฏู ูุชู ุจู <code>content</code> ฺฉ ูพุณุช</figcaption>
</figure>
<p>ูุชุฏ <code>add_text</code> ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุจู <code>self</code> ูโฺฏุฑุฏุ ุฒุฑุง ุฏุฑ ุญุงู ุชุบุฑ ููููู <code>Post</code> ูุณุชู ฺฉู <code>add_text</code> ุฑู ุขู ูุฑุงุฎูุงู
ุดุฏู ุงุณุช. ุณูพุณุ ูุชุฏ <code>push_str</code> ุฑุง ุฑู <code>String</code> ููุฌูุฏ ุฏุฑ <code>content</code> ูุฑุงุฎูุงู ูโฺฉูู ู ุขุฑฺฏููุงู <code>text</code> ุฑุง ุจุฑุง ุงูุฒูุฏู
ุจู ูุญุชูุง ุฐุฎุฑูโุดุฏู ุจู ุขู ูโุฏูู. ุงู ุฑูุชุงุฑ ุจู ูุถุนุช ฺฉู ูพุณุช ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ูุงุจุณุชู ูุณุชุ ุจูุงุจุฑุงู ุจุฎุด ุงุฒ ุงูฺฏู
ูุถุนุช ูุณุช. ูุชุฏ <code>add_text</code> ูฺ ุชุนุงูู ุจุง ููุฏ <code>state</code> ูุฏุงุฑุฏุ ุงูุง ุจุฎุด ุงุฒ ุฑูุชุงุฑ ุงุณุช ฺฉู ูโุฎูุงูู ูพุดุชุจุงู ฺฉูู.</p>
<h3 id="ุงุทููุงู-ุงุฒ-ุฎุงู-ุจูุฏู-ูุญุชูุง-ฺฉ-ูพุณุช-ูพุดููุณ"><a class="header" href="#ุงุทููุงู-ุงุฒ-ุฎุงู-ุจูุฏู-ูุญุชูุง-ฺฉ-ูพุณุช-ูพุดููุณ">ุงุทููุงู ุงุฒ ุฎุงู ุจูุฏู ูุญุชูุง ฺฉ ูพุณุช ูพุดโููุณ</a></h3>
<p>ุญุช ูพุณ ุงุฒ ูุฑุงุฎูุงู <code>add_text</code> ู ุงูุฒูุฏู ูุญุชูุง ุจู ูพุณุชุ ููฺูุงู ูโุฎูุงูู ูุชุฏ <code>content</code> ฺฉ ุจุฑุด ุฑุดุชู ุฎุงู ุจุงุฒฺฏุฑุฏุงูุฏุ
ุฒุฑุง ูพุณุช ูููุฒ ุฏุฑ ูุถุนุช ูพุดโููุณ ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุฎุท 7 ูุณุชูฺฏ 18-11 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ูุนูุงู ูุชุฏ <code>content</code> ุฑุง
ุจุง ุณุงุฏูโุชุฑู ฺุฒ ฺฉู ุงู ูุงุฒ ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ ูพุงุฏูโุณุงุฒ ูโฺฉูู: ููุดู ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ ุจุฑุด ุฑุดุชู ุฎุงู. ุจุนุฏุงู ุงู ุฑุง
ุชุบุฑ ุฎูุงูู ุฏุงุฏ ุชุง ูุงุจูุช ุชุบุฑ ูุถุนุช ูพุณุช ุจู ุญุงูุช ููุชุดุฑุดุฏู ุฑุง ุงุถุงูู ฺฉูู. ุชุงฺฉูููุ ูพุณุชโูุง ููุท ูโุชูุงููุฏ ุฏุฑ ูุถุนุช
ูพุดโููุณ ุจุงุดูุฏุ ุจูุงุจุฑุงู ูุญุชูุง ูพุณุช ุจุงุฏ ููุดู ุฎุงู ุจุงุดุฏ. ูุณุชูฺฏ 18-14 ุงู ูพุงุฏูโุณุงุฒ ูููุช ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Post {
</span><span class="boring">    state: Option&lt;Box&lt;dyn State&gt;&gt;,
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Post {
    // --snip--
<span class="boring">    pub fn new() -&gt; Post {
</span><span class="boring">        Post {
</span><span class="boring">            state: Some(Box::new(Draft {})),
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn add_text(&amp;mut self, text: &amp;str) {
</span><span class="boring">        self.content.push_str(text);
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn content(&amp;self) -&gt; &amp;str {
        ""
    }
}
<span class="boring">
</span><span class="boring">trait State {}
</span><span class="boring">
</span><span class="boring">struct Draft {}
</span><span class="boring">
</span><span class="boring">impl State for Draft {}</span></code></pre>
<figcaption>Listing 18-14: ุงูุฒูุฏู ฺฉ ูพุงุฏูโุณุงุฒ ูููุช ุจุฑุง ูุชุฏ <code>content</code> ุฏุฑ <code>Post</code> ฺฉู ููุดู ฺฉ ุจุฑุด ุฑุดุชู ุฎุงู ุจุงุฒูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ุจุง ุงูุฒูุฏู ุงู ูุชุฏ <code>content</code>ุ ุชูุงู ููุงุฑุฏ ุชุง ุฎุท 7 ูุณุชูฺฏ 18-11 ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉููุฏ.</p>
<h3 id="ุฏุฑุฎูุงุณุช-ุจุฑุฑุณ-ูพุณุช-ู-ุชุบุฑ-ูุถุนุช-ุขู"><a class="header" href="#ุฏุฑุฎูุงุณุช-ุจุฑุฑุณ-ูพุณุช-ู-ุชุบุฑ-ูุถุนุช-ุขู">ุฏุฑุฎูุงุณุช ุจุฑุฑุณ ูพุณุช ู ุชุบุฑ ูุถุนุช ุขู</a></h3>
<p>ุฏุฑ ูุฑุญูู ุจุนุฏุ ุจุงุฏ ูุงุจูุช ุฏุฑุฎูุงุณุช ุจุฑุฑุณ ูพุณุช ุฑุง ุงุถุงูู ฺฉููุ ฺฉู ุจุงุฏ ูุถุนุช ุขู ุฑุง ุงุฒ <code>Draft</code> ุจู <code>PendingReview</code>
ุชุบุฑ ุฏูุฏ. ูุณุชูฺฏ 18-15 ุงู ฺฉุฏ ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Post {
</span><span class="boring">    state: Option&lt;Box&lt;dyn State&gt;&gt;,
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Post {
    // --snip--
<span class="boring">    pub fn new() -&gt; Post {
</span><span class="boring">        Post {
</span><span class="boring">            state: Some(Box::new(Draft {})),
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn add_text(&amp;mut self, text: &amp;str) {
</span><span class="boring">        self.content.push_str(text);
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn content(&amp;self) -&gt; &amp;str {
</span><span class="boring">        ""
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn request_review(&amp;mut self) {
        if let Some(s) = self.state.take() {
            self.state = Some(s.request_review())
        }
    }
}

trait State {
    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
}

struct Draft {}

impl State for Draft {
    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
        Box::new(PendingReview {})
    }
}

struct PendingReview {}

impl State for PendingReview {
    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
        self
    }
}</code></pre>
<figcaption>Listing 18-15: ูพุงุฏูโุณุงุฒ ูุชุฏูุง <code>request_review</code> ุจุฑุง <code>Post</code> ู ุตูุช <code>State</code></figcaption>
</figure>
<p>ูุง ฺฉ ูุชุฏ ุนููู ุจู ูุงู <code>request_review</code> ุจู <code>Post</code> ุงุถุงูู ูโฺฉูู ฺฉู ฺฉ ุงุฑุฌุงุน ูุชุบุฑ ุจู <code>self</code> ูโฺฏุฑุฏ. ุณูพุณ ฺฉ ูุชุฏ
ุฏุงุฎู <code>request_review</code> ุฑุง ุฑู ูุถุนุช ูุนู <code>Post</code> ูุฑุงุฎูุงู ูโฺฉููุ ู ุงู ูุชุฏ ุฏูู ูุถุนุช ูุนู ุฑุง ูุตุฑู ฺฉุฑุฏู ู ฺฉ ูุถุนุช
ุฌุฏุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุง ูุชุฏ <code>request_review</code> ุฑุง ุจู ุตูุช <code>State</code> ุงุถุงูู ูโฺฉููุ ุชูุงู ุงููุงุน ฺฉู ุงู ุตูุช ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุงฺฉููู ุจุงุฏ
ูุชุฏ <code>request_review</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจู ุฌุง <code>self</code>ุ <code>&amp;self</code> ุง <code>&amp;mut self</code> ุจูโุนููุงู ุงููู
ูพุงุฑุงูุชุฑ ูุชุฏุ ุงุฒ <code>self: Box&lt;Self&gt;</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุงู ูุญู ุจู ุงู ูุนู ุงุณุช ฺฉู ูุชุฏ ููุท ุฒูุงู ูุนุชุจุฑ ุงุณุช ฺฉู ุฑู
ฺฉ <code>Box</code> ูฺฏูโุฏุงุฑูุฏู ููุน ูุฑุงุฎูุงู ุดูุฏ. ุงู ูุญู ูุงูฺฉุช <code>Box&lt;Self&gt;</code> ุฑุง ูโฺฏุฑุฏ ู ูุถุนุช ูุฏู ุฑุง ุจุงุทู ูโฺฉูุฏ ุชุง ููุฏุงุฑ
ูุถุนุช <code>Post</code> ุจุชูุงูุฏ ุจู ฺฉ ูุถุนุช ุฌุฏุฏ ุชุจุฏู ุดูุฏ.</p>
<p>ุจุฑุง ูุตุฑู ูุถุนุช ูุฏูุ ูุชุฏ <code>request_review</code> ูุงุฒ ุจู ฺฏุฑูุชู ูุงูฺฉุช ููุฏุงุฑ ูุถุนุช ุฏุงุฑุฏ. ุงูุฌุงุณุช ฺฉู <code>Option</code> ุฏุฑ ููุฏ
<code>state</code> ุงุฒ <code>Post</code> ูุงุฑุฏ ุนูู ูโุดูุฏ: ูุง ูุชุฏ <code>take</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ููุฏุงุฑ <code>Some</code> ุฑุง ุงุฒ ููุฏ <code>state</code> ุฎุงุฑุฌ ฺฉุฑุฏู
ู ฺฉ ููุฏุงุฑ <code>None</code> ุจู ุฌุง ุขู ูุฑุงุฑ ุฏููุ ุฒุฑุง Rust ุจู ูุง ุงุฌุงุฒู ููโุฏูุฏ ููุฏูุง ุณุงุฎุชุงุฑ ุฑุง ุจุฏูู ููุฏุงุฑ ุฑูุง ฺฉูู. ุงู
ฺฉุงุฑ ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ ููุฏุงุฑ <code>state</code> ุฑุง ุงุฒ <code>Post</code> ููุชูู ฺฉููุ ูู ุงูฺฉู ุขู ุฑุง ูุฑุถ ุจฺฏุฑู. ุณูพุณ ููุฏุงุฑ <code>state</code> ูพุณุช ุฑุง
ุจู ูุชุฌู ุงู ุนููุงุช ุชูุธู ุฎูุงูู ฺฉุฑุฏ.</p>
<p>ุจุงุฏ ุจูโุทูุฑ ูููุช <code>state</code> ุฑุง ุจู <code>None</code> ุชูุธู ฺฉููุ ูู ุงูฺฉู ูุณุชููุงู ุขู ุฑุง ุจุง ฺฉุฏ ูุงููุฏ
<code>self.state = self.state.request_review();</code> ุชูุธู ฺฉููุ ุชุง ูุงูฺฉุช ููุฏุงุฑ <code>state</code> ุฑุง ุจุฏุณุช ุขูุฑู. ุงู ฺฉุงุฑ ุงุทููุงู
ูโุฏูุฏ ฺฉู <code>Post</code> ููโุชูุงูุฏ ุงุฒ ููุฏุงุฑ ูุฏู <code>state</code> ูพุณ ุงุฒ ุชุจุฏู ุขู ุจู ฺฉ ูุถุนุช ุฌุฏุฏ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ูุชุฏ <code>request_review</code> ุฏุฑ <code>Draft</code> ฺฉ ููููู ุฌุฏุฏ ุงุฒ ุณุงุฎุชุงุฑ <code>PendingReview</code> ุฑุง ฺฉู ูุดุงูโุฏููุฏู ูุถุนุช ุฒูุงู ุงุณุช ฺฉู ฺฉ
ูพุณุช ููุชุธุฑ ุจุฑุฑุณ ุงุณุช ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุณุงุฎุชุงุฑ <code>PendingReview</code> ูุฒ ูุชุฏ <code>request_review</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุงูุง ูฺ
ุชุจุฏู ุงูุฌุงู ููโุฏูุฏ. ุจูฺฉู ุฎูุฏุด ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุฒุฑุง ููุช ุจุฑุง ฺฉ ูพุณุช ุฏุฑ ูุถุนุช <code>PendingReview</code> ุฏุฑุฎูุงุณุช ุจุฑุฑุณ
ูโฺฉููุ ุจุงุฏ ุฏุฑ ููุงู ูุถุนุช ุจุงู ุจูุงูุฏ.</p>
<p>ุงฺฉููู ูโุชูุงูู ูุฒุงุง ุงูฺฏู ูุถุนุช ุฑุง ูุดุงูุฏู ฺฉูู: ูุชุฏ <code>request_review</code> ุฏุฑ <code>Post</code> ุจุฏูู ุชูุฌู ุจู ููุฏุงุฑ <code>state</code> ุขู
ฺฉุณุงู ุงุณุช. ูุฑ ูุถุนุช ูุณุฆูู ููุงูู ุฎุงุต ุฎูุฏ ุงุณุช.</p>
<p>ูุง ูุชุฏ <code>content</code> ุฏุฑ <code>Post</code> ุฑุง ุจู ููุงู ุตูุฑุช ุจุงู ูโฺฏุฐุงุฑู ฺฉู ฺฉ ุจุฑุด ุฑุดุชู ุฎุงู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงฺฉููู ูโุชูุงูู
ฺฉ <code>Post</code> ุฏุฑ ูุถุนุช <code>PendingReview</code> ู ููฺูู ุฏุฑ ูุถุนุช <code>Draft</code> ุฏุงุดุชู ุจุงุดูุ ุงูุง ูโุฎูุงูู ููุงู ุฑูุชุงุฑ ุฏุฑ ูุถุนุช
<code>PendingReview</code> ูุฒ ุจุงุดุฏ. ูุณุชูฺฏ 18-11 ุงฺฉููู ุชุง ุฎุท 10 ฺฉุงุฑ ูโฺฉูุฏ!</p>
<!-- Old headings. Do not remove or links may break. -->
<p><a id="adding-the-approve-method-that-changes-the-behavior-of-content"></a></p>
<h3 id="ุงูุฒูุฏู-approve-ุจุฑุง-ุชุบุฑ-ุฑูุชุงุฑ-content"><a class="header" href="#ุงูุฒูุฏู-approve-ุจุฑุง-ุชุบุฑ-ุฑูุชุงุฑ-content">ุงูุฒูุฏู <code>approve</code> ุจุฑุง ุชุบุฑ ุฑูุชุงุฑ <code>content</code></a></h3>
<p>ูุชุฏ <code>approve</code> ุดุจู ูุชุฏ <code>request_review</code> ุฎูุงูุฏ ุจูุฏ: ุงู ูุชุฏ ููุฏุงุฑ <code>state</code> ุฑุง ุจู ููุฏุงุฑ ุชูุธู ูโฺฉูุฏ ฺฉู ูุถุนุช ูุนู ููฺฏุงู
ุชุฃุฏ ุจุงุฏ ุฏุงุดุชู ุจุงุดุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-16 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Post {
</span><span class="boring">    state: Option&lt;Box&lt;dyn State&gt;&gt;,
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Post {
    // --snip--
<span class="boring">    pub fn new() -&gt; Post {
</span><span class="boring">        Post {
</span><span class="boring">            state: Some(Box::new(Draft {})),
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn add_text(&amp;mut self, text: &amp;str) {
</span><span class="boring">        self.content.push_str(text);
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn content(&amp;self) -&gt; &amp;str {
</span><span class="boring">        ""
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn request_review(&amp;mut self) {
</span><span class="boring">        if let Some(s) = self.state.take() {
</span><span class="boring">            self.state = Some(s.request_review())
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn approve(&amp;mut self) {
        if let Some(s) = self.state.take() {
            self.state = Some(s.approve())
        }
    }
}

trait State {
    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
}

struct Draft {}

impl State for Draft {
    // --snip--
<span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        Box::new(PendingReview {})
</span><span class="boring">    }
</span><span class="boring">
</span>    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
        self
    }
}

struct PendingReview {}

impl State for PendingReview {
    // --snip--
<span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">
</span>    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
        Box::new(Published {})
    }
}

struct Published {}

impl State for Published {
    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
        self
    }

    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
        self
    }
}</code></pre>
<figcaption>Listing 18-16: ูพุงุฏูโุณุงุฒ ูุชุฏ <code>approve</code> ุฏุฑ <code>Post</code> ู ุตูุช <code>State</code></figcaption>
</figure>
<p>ูุง ูุชุฏ <code>approve</code> ุฑุง ุจู ุตูุช <code>State</code> ุงุถุงูู ูโฺฉูู ู ฺฉ ุณุงุฎุชุงุฑ ุฌุฏุฏ ฺฉู ุตูุช <code>State</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุนู ูุถุนุช
<code>Published</code>ุ ุงุถุงูู ูโฺฉูู.</p>
<p>ูุดุงุจู ฺฉุงุฑ ฺฉู <code>request_review</code> ุฏุฑ <code>PendingReview</code> ุงูุฌุงู ูโุฏูุฏุ ุงฺฏุฑ ูุชุฏ <code>approve</code> ุฑุง ุฑู ฺฉ <code>Draft</code> ูุฑุงุฎูุงู ฺฉููุ
ูฺ ุชุฃุซุฑ ูุฎูุงูุฏ ุฏุงุดุช ุฒุฑุง <code>approve</code> ููุฏุงุฑ <code>self</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ููุช <code>approve</code> ุฑุง ุฑู <code>PendingReview</code> ูุฑุงุฎูุงู
ูโฺฉููุ ฺฉ ููููู ุฌุฏุฏ ุงุฒ ุณุงุฎุชุงุฑ <code>Published</code> ฺฉู ุฏุฑ ฺฉ <code>Box</code> ูุฑุงุฑ ุฏุงุฑุฏุ ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุณุงุฎุชุงุฑ <code>Published</code> ุตูุช
<code>State</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ู ุจุฑุง ูุชุฏูุง <code>request_review</code> ู <code>approve</code> ุฎูุฏุด ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุฒุฑุง ุฏุฑ ุงู ููุงุฑุฏ
ูพุณุช ุจุงุฏ ุฏุฑ ูุถุนุช <code>Published</code> ุจุงู ุจูุงูุฏ.</p>
<p>ุงฺฉููู ุจุงุฏ ูุชุฏ <code>content</code> ุฏุฑ <code>Post</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูู. ูโุฎูุงูู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุฒ <code>content</code> ุจู ูุถุนุช ูุนู <code>Post</code>
ุจุณุชฺฏ ุฏุงุดุชู ุจุงุดุฏุ ุจูุงุจุฑุงู ูโุฎูุงูู <code>Post</code> ุงู ูุธูู ุฑุง ุจู ูุชุฏ <code>content</code> ุชุนุฑูโุดุฏู ุฏุฑ ูุถุนุช ุฎูุฏ ูุงฺฏุฐุงุฑ ฺฉูุฏุ ููุงูโุทูุฑ
ฺฉู ุฏุฑ ูุณุชูฺฏ 18-17 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">pub struct Post {
</span><span class="boring">    state: Option&lt;Box&lt;dyn State&gt;&gt;,
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span>impl Post {
    // --snip--
<span class="boring">    pub fn new() -&gt; Post {
</span><span class="boring">        Post {
</span><span class="boring">            state: Some(Box::new(Draft {})),
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn add_text(&amp;mut self, text: &amp;str) {
</span><span class="boring">        self.content.push_str(text);
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn content(&amp;self) -&gt; &amp;str {
        self.state.as_ref().unwrap().content(self)
    }
    // --snip--
<span class="boring">
</span><span class="boring">    pub fn request_review(&amp;mut self) {
</span><span class="boring">        if let Some(s) = self.state.take() {
</span><span class="boring">            self.state = Some(s.request_review())
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn approve(&amp;mut self) {
</span><span class="boring">        if let Some(s) = self.state.take() {
</span><span class="boring">            self.state = Some(s.approve())
</span><span class="boring">        }
</span><span class="boring">    }
</span>}
<span class="boring">
</span><span class="boring">trait State {
</span><span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Draft {}
</span><span class="boring">
</span><span class="boring">impl State for Draft {
</span><span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        Box::new(PendingReview {})
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct PendingReview {}
</span><span class="boring">
</span><span class="boring">impl State for PendingReview {
</span><span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        Box::new(Published {})
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Published {}
</span><span class="boring">
</span><span class="boring">impl State for Published {
</span><span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 18-17: ุจูโุฑูุฒุฑุณุงู ูุชุฏ <code>content</code> ุฏุฑ <code>Post</code> ุจุฑุง ุงุฑุฌุงุน ุจู ูุชุฏ <code>content</code> ุฏุฑ <code>State</code></figcaption>
</figure>
<p>ฺูู ูุฏู ุงู ุงุณุช ฺฉู ุชูุงู ุงู ููุงูู ุฏุฑ ุฏุงุฎู ุณุงุฎุชุงุฑูุง ฺฉู ุตูุช <code>State</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุจุงู ุจูุงูุฏุ ูุง ฺฉ ูุชุฏ
<code>content</code> ุฑุง ุฑู ููุฏุงุฑ <code>state</code> ูุฑุงุฎูุงู ูโฺฉูู ู ููููู ูพุณุช (ุนู <code>self</code>) ุฑุง ุจูโุนููุงู ุขุฑฺฏููุงู ุจู ุขู ูโุฏูู. ุณูพุณ
ููุฏุงุฑ ฺฉู ุงุฒ ูุชุฏ <code>content</code> ุฑู ููุฏุงุฑ <code>state</code> ุจุงุฒูโฺฏุฑุฏุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงูู.</p>
<p>ูุง ูุชุฏ <code>as_ref</code> ุฑุง ุฑู <code>Option</code> ูุฑุงุฎูุงู ูโฺฉูู ุฒุฑุง ูโุฎูุงูู ฺฉ ุงุฑุฌุงุน ุจู ููุฏุงุฑ ุฏุงุฎู <code>Option</code> ุฏุงุดุชู ุจุงุดูุ ูู
ูุงูฺฉุช ููุฏุงุฑ. ฺูู <code>state</code> ฺฉ <code>Option&lt;Box&lt;dyn State&gt;&gt;</code> ุงุณุชุ ููุช <code>as_ref</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ฺฉ
<code>Option&lt;&amp;Box&lt;dyn State&gt;&gt;</code> ุจุงุฒูโฺฏุฑุฏุฏ. ุงฺฏุฑ <code>as_ref</code> ุฑุง ูุฑุงุฎูุงู ูฺฉููุ ุจุง ฺฉ ุฎุทุง ููุงุฌู ูโุดูู ุฒุฑุง ููโุชูุงูู
<code>state</code> ุฑุง ุงุฒ <code>&amp;self</code> ฺฉู ุจูโุนููุงู ูพุงุฑุงูุชุฑ ุจู ุชุงุจุน ุฏุงุฏู ุดุฏู ุงุณุช ุฎุงุฑุฌ ฺฉูู.</p>
<p>ุณูพุณ ูุชุฏ <code>unwrap</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ฺฉู ูโุฏุงูู ูุฑฺฏุฒ ูุญุดุช (panic) ูุฎูุงูุฏ ฺฉุฑุฏุ ุฒุฑุง ูโุฏุงูู ูุชุฏูุง <code>Post</code>
ุชุถูู ูโฺฉููุฏ ฺฉู <code>state</code> ููุดู ฺฉ ููุฏุงุฑ <code>Some</code> ุฏุงุฑุฏ ููุช ุงู ูุชุฏูุง ฺฉุงุฑุดุงู ุฑุง ุชูุงู ูโฺฉููุฏ. ุงู ฺฉ ุงุฒ ููุงุฑุฏ ุงุณุช
ฺฉู ุฏุฑ ุจุฎุด <a href="ch09-03-to-panic-or-not-to-panic.html#cases-in-which-you-have-more-information-than-the-compiler">โููุงุฑุฏ ฺฉู ุดูุง ุงุทูุงุนุงุช ุจุดุชุฑ ูุณุจุช ุจู ฺฉุงููพุงูุฑ ุฏุงุฑุฏโ</a><!-- ignore --> ุฏุฑ ูุตู 9
ุฏุฑ ููุฑุฏ ุขู ุตุญุจุช ฺฉุฑุฏูุ ุฒูุงู ฺฉู ูโุฏุงูู ฺฉ ููุฏุงุฑ <code>None</code> ูุฑฺฏุฒ ููฺฉู ูุณุชุ ุญุช ุงฺฏุฑ ฺฉุงููพุงูุฑ ูุชูุงูุฏ ุงู ููุถูุน ุฑุง
ุฏุฑฺฉ ฺฉูุฏ.</p>
<p>ุฏุฑ ุงู ูุฑุญููุ ููุช <code>content</code> ุฑุง ุฑู <code>&amp;Box&lt;dyn State&gt;</code> ูุฑุงุฎูุงู ูโฺฉููุ ุชุจุฏู ุฎูุฏฺฉุงุฑ ุจู ููุน ุงุฑุฌุงุน (<code>deref coercion</code>)
ุฑู <code>&amp;</code> ู <code>Box</code> ุงุนูุงู ูโุดูุฏ ุชุง ูุชุฏ <code>content</code> ุฏุฑ ููุงุช ุฑู ููุน ฺฉู ุตูุช <code>State</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูุฑุงุฎูุงู ุดูุฏ.
ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุจุงุฏ <code>content</code> ุฑุง ุจู ุชุนุฑู ุตูุช <code>State</code> ุงุถุงูู ฺฉููุ ู ุงูุฌุง ุฌุง ุงุณุช ฺฉู ููุทู ูุฑุจูุท ุจู ุจุงุฒฺฏุฑุฏุงูุฏู
ูุญุชูุง ุจุฑ ุงุณุงุณ ูุถุนุช ูุนู ูุฑุงุฑ ุฎูุงูุฏ ฺฏุฑูุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-18 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Post {
</span><span class="boring">    state: Option&lt;Box&lt;dyn State&gt;&gt;,
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Post {
</span><span class="boring">    pub fn new() -&gt; Post {
</span><span class="boring">        Post {
</span><span class="boring">            state: Some(Box::new(Draft {})),
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn add_text(&amp;mut self, text: &amp;str) {
</span><span class="boring">        self.content.push_str(text);
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn content(&amp;self) -&gt; &amp;str {
</span><span class="boring">        self.state.as_ref().unwrap().content(self)
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn request_review(&amp;mut self) {
</span><span class="boring">        if let Some(s) = self.state.take() {
</span><span class="boring">            self.state = Some(s.request_review())
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn approve(&amp;mut self) {
</span><span class="boring">        if let Some(s) = self.state.take() {
</span><span class="boring">            self.state = Some(s.approve())
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>trait State {
    // --snip--
<span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt;;
</span><span class="boring">
</span>    fn content&lt;'a&gt;(&amp;self, post: &amp;'a Post) -&gt; &amp;'a str {
        ""
    }
}

// --snip--
<span class="boring">
</span><span class="boring">struct Draft {}
</span><span class="boring">
</span><span class="boring">impl State for Draft {
</span><span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        Box::new(PendingReview {})
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct PendingReview {}
</span><span class="boring">
</span><span class="boring">impl State for PendingReview {
</span><span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        Box::new(Published {})
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>struct Published {}

impl State for Published {
    // --snip--
<span class="boring">    fn request_review(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn approve(self: Box&lt;Self&gt;) -&gt; Box&lt;dyn State&gt; {
</span><span class="boring">        self
</span><span class="boring">    }
</span><span class="boring">
</span>    fn content&lt;'a&gt;(&amp;self, post: &amp;'a Post) -&gt; &amp;'a str {
        &amp;post.content
    }
}</code></pre>
<figcaption>Listing 18-18: Adding the <code>content</code> method to the <code>State</code> trait</figcaption>
</figure>
<p>ูุง ุจุฑุง ูุชุฏ <code>content</code> ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุงุถุงูู ูโฺฉูู ฺฉู ฺฉ ุจุฑุด ุฑุดุชู ุฎุงู ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ
ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ <code>content</code> ุฑู ุณุงุฎุชุงุฑูุง <code>Draft</code> ู <code>PendingReview</code> ูุฏุงุดุชู ุจุงุดู. ุณุงุฎุชุงุฑ <code>Published</code> ูุชุฏ
<code>content</code> ุฑุง ุจุงุฒููุณ ฺฉุฑุฏู ู ููุฏุงุฑ ููุฌูุฏ ุฏุฑ <code>post.content</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุฑุง ุงู ูุชุฏ ูุงุฒ ุจู ุญุงุดูโููุณ ุทูู ุนูุฑ ุฏุงุฑูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 10 ุชูุถุญ ุฏุงุฏู ุดุฏ. ฺูู ฺฉ
ุงุฑุฌุงุน ุจู ฺฉ <code>post</code> ุฑุง ุจูโุนููุงู ุขุฑฺฏููุงู ูโฺฏุฑู ู ฺฉ ุงุฑุฌุงุน ุจู ุจุฎุด ุงุฒ ุขู <code>post</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุ ุทูู ุนูุฑ ุงุฑุฌุงุน
ุจุงุฒฺฏุดุช ุจู ุทูู ุนูุฑ ุขุฑฺฏููุงู <code>post</code> ูุฑุชุจุท ุงุณุช.</p>
<p>ู ุชูุงูโุงฺฉููู ุชูุงู ูุณุชูฺฏ 18-11 ฺฉุงุฑ ูโฺฉูุฏ! ูุง ุงูฺฏู ูุถุนุช ุฑุง ุจุง ููุงูู ูุฑุจูุท ุจู ูุฑุขูุฏ ฺฉุงุฑ ูพุณุช ูุจูุงฺฏ ูพุงุฏูโุณุงุฒ
ฺฉุฑุฏูโุงู. ููุทู ูุฑุจูุท ุจู ููุงูู ุฏุฑ ุงุดุง ูุถุนุช ูุฑุงุฑ ุฏุงุฑุฏุ ูู ุงูฺฉู ุฏุฑ ุณุฑุงุณุฑ <code>Post</code> ูพุฑุงฺฉูุฏู ุจุงุดุฏ.</p>
<section class="note" aria-role="note">
<h4 id="ฺุฑุง-ุงุฒ-enum-ุงุณุชูุงุฏู-ูฺฉุฑุฏู"><a class="header" href="#ฺุฑุง-ุงุฒ-enum-ุงุณุชูุงุฏู-ูฺฉุฑุฏู">ฺุฑุง ุงุฒ Enum ุงุณุชูุงุฏู ูฺฉุฑุฏูุ</a></h4>
<p>ููฺฉู ุงุณุช ุงู ุณุคุงู ุจุฑุง ุดูุง ูพุด ุขูุฏู ุจุงุดุฏ ฺฉู ฺุฑุง ุงุฒ ฺฉ <code>enum</code> ุจุง ุญุงูุชโูุง ูุฎุชูู ูพุณุช ุจูโุนููุงู ูุชุบุฑูุง ุงุณุชูุงุฏู
ูฺฉุฑุฏู. ุงู ูุทุนุงู ฺฉ ุฑุงูโุญู ููฺฉู ุงุณุชุ ุขู ุฑุง ุงูุชุญุงู ฺฉูุฏ ู ูุชุงุฌ ููุง ุฑุง ููุงุณู ฺฉูุฏ ุชุง ุจุจูุฏ ฺฉุฏุงู ุฑุง ุชุฑุฌุญ
ูโุฏูุฏ! ฺฉ ุงุฒ ูุนุงุจ ุงุณุชูุงุฏู ุงุฒ <code>enum</code> ุงู ุงุณุช ฺฉู ูุฑ ุฌุง ููุฏุงุฑ <code>enum</code> ุจุฑุฑุณ ูโุดูุฏ ูุงุฒ ุจู ฺฉ ุนุจุงุฑุช <code>match</code> ุง
ฺุฒ ูุดุงุจู ุจุฑุง ูุฏุฑุช ุชูุงู ูุชุบุฑูุง ููฺฉู ุฏุงุฑู. ุงู ูโุชูุงูุฏ ูุณุจุช ุจู ุฑุงูโุญู ุงุดุง ุตูุช ฺฉู ุงุณุชูุงุฏู ฺฉุฑุฏู
ุชฺฉุฑุงุฑโุชุฑ ุจุงุดุฏ.</p>
</section>
<h3 id="ูุฒุงุง-ู-ูุนุงุจ-ุงูฺฏู-ูุถุนุช"><a class="header" href="#ูุฒุงุง-ู-ูุนุงุจ-ุงูฺฏู-ูุถุนุช">ูุฒุงุง ู ูุนุงุจ ุงูฺฏู ูุถุนุช</a></h3>
<p>ูุง ูุดุงู ุฏุงุฏูโุงู ฺฉู Rust ูุงุฏุฑ ุงุณุช ุงูฺฏู ูุถุนุช ุดโฺฏุฑุง ุฑุง ุจุฑุง ฺฉูพุณููู ฺฉุฑุฏู ุฑูุชุงุฑูุง ูุฎุชูู ฺฉ ูพุณุช ุฏุฑ ูุฑ ุญุงูุช
ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ูุชุฏูุง <code>Post</code> ูฺ ุงุทูุงุน ุงุฒ ุฑูุชุงุฑูุง ูุฎุชูู ูุฏุงุฑูุฏ. ุจุง ุฑูุด ฺฉู ฺฉุฏ ุฑุง ุณุงุฒูุงูโุฏู ฺฉุฑุฏูโุงูุ ุชููุง
ุจุงุฏ ุฏุฑ ฺฉ ูฺฉุงู ุจูโุฏูุจุงู ุฑุงูโูุง ูุฎุชูู ุฑูุชุงุฑ ฺฉ ูพุณุช ููุชุดุฑุดุฏู ุจฺฏุฑุฏู: ูพุงุฏูโุณุงุฒ ุตูุช <code>State</code> ุฑู ุณุงุฎุชุงุฑ
<code>Published</code>.</p>
<p>ุงฺฏุฑ ุจุฎูุงูู ฺฉ ูพุงุฏูโุณุงุฒ ุฌุงฺฏุฒู ุงุฌุงุฏ ฺฉูู ฺฉู ุงุฒ ุงูฺฏู ูุถุนุช ุงุณุชูุงุฏู ููโฺฉูุฏุ ููฺฉู ุงุณุช ุจูโุฌุง ุขู ุงุฒ ุนุจุงุฑุงุช
<code>match</code> ุฏุฑ ูุชุฏูุง <code>Post</code> ุง ุญุช ุฏุฑ ฺฉุฏ <code>main</code> ุงุณุชูุงุฏู ฺฉูู ฺฉู ูุถุนุช ูพุณุช ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู ู ุฑูุชุงุฑ ุฑุง ุฏุฑ ููุงู ูฺฉุงูโูุง
ุชุบุฑ ูโุฏูุฏ. ุงู ุจู ุงู ูุนูุงุณุช ฺฉู ุจุงุฏ ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ุฌุณุชโูุฌู ฺฉูู ุชุง ุชูุงู ูพุงูุฏูุง ฺฉ ูพุณุช ุฏุฑ ุญุงูุช ููุชุดุฑุดุฏู
ุฑุง ุจูููู! ู ุจุง ุงุถุงูู ุดุฏู ุญุงูุชโูุง ุจุดุชุฑุ ุงู ููุถูุน ููุท ุจุฏุชุฑ ุฎูุงูุฏ ุดุฏ: ูุฑ ฺฉ ุงุฒ ุขู ุนุจุงุฑุงุช <code>match</code> ูุงุฒ ุจู ฺฉ
ุดุงุฎู ุฏฺฏุฑ ุฎูุงููุฏ ุฏุงุดุช.</p>
<p>ุจุง ุงูฺฏู ูุถุนุชุ ูุชุฏูุง <code>Post</code> ู ูฺฉุงูโูุง ฺฉู ุงุฒ <code>Post</code> ุงุณุชูุงุฏู ูโฺฉูู ูุงุฒ ุจู ุนุจุงุฑุงุช <code>match</code> ูุฏุงุฑูุฏุ ู ุจุฑุง
ุงุถุงูู ฺฉุฑุฏู ฺฉ ุญุงูุช ุฌุฏุฏุ ููุท ฺฉุงู ุงุณุช ฺฉ ุณุงุฎุชุงุฑ ุฌุฏุฏ ุงุถุงูู ฺฉุฑุฏู ู ูุชุฏูุง ุตูุช ุฑุง ุฑู ููุงู ุณุงุฎุชุงุฑ ูพุงุฏูโุณุงุฒ ฺฉูู.</p>
<p>ูพุงุฏูโุณุงุฒ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู ูุถุนุช ุจูโุฑุงุญุช ูุงุจูุช ฺฏุณุชุฑุด ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุนููฺฉุฑุฏูุง ุจุดุชุฑ ุฑุง ุฏุงุฑุฏ. ุจุฑุง ุฏุฏู
ุณุงุฏฺฏ ูฺฏูุฏุงุฑ ฺฉุฏ ฺฉู ุงุฒ ุงูฺฏู ูุถุนุช ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺูุฏ ูพุดููุงุฏ ุฒุฑ ุฑุง ุงูุชุญุงู ฺฉูุฏ:</p>
<ul>
<li>ฺฉ ูุชุฏ <code>reject</code> ุงุถุงูู ฺฉูุฏ ฺฉู ูุถุนุช ูพุณุช ุฑุง ุงุฒ <code>PendingReview</code> ุจู <code>Draft</code> ุชุบุฑ ุฏูุฏ.</li>
<li>ุฏู ูุฑุงุฎูุงู ุจู <code>approve</code> ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ ุชุง ูุถุนุช ุจู <code>Published</code> ุชุบุฑ ฺฉูุฏ.</li>
<li>ุงุฌุงุฒู ุฏูุฏ ฺฉุงุฑุจุฑุงู ููุท ุฒูุงู ฺฉู ฺฉ ูพุณุช ุฏุฑ ุญุงูุช <code>Draft</code> ุงุณุช ูุชู ูุญุชูุง ุงุถุงูู ฺฉููุฏ. ูฺฉุชู: ุจฺฏุฐุงุฑุฏ ุดุก ูุถุนุช
ูุณุฆูู ุชุบุฑุงุช ุจุงุดุฏ ฺฉู ููฺฉู ุงุณุช ุฏุฑ ูุญุชูุง ุงุฌุงุฏ ุดูุฏุ ุงูุง ูุณุฆูู ุงุตูุงุญ ูุณุชูู <code>Post</code> ูุจุงุดุฏ.</li>
</ul>
<p>ฺฉ ุงุฒ ูุนุงุจ ุงูฺฏู ูุถุนุช ุงู ุงุณุช ฺฉู ุจู ุฏูู ุงูฺฉู ูุถุนุชโูุง ุงูุชูุงู ุจู ุญุงูุชโูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุจุฑุฎ ุงุฒ
ูุถุนุชโูุง ุจู ฺฉุฏฺฏุฑ ูุงุจุณุชู ูุณุชูุฏ. ุงฺฏุฑ ฺฉ ุญุงูุช ุฏฺฏุฑ ุจู <code>PendingReview</code> ู <code>Published</code> ุงุถุงูู ฺฉููุ ูุงููุฏ
<code>Scheduled</code>ุ ุจุงุฏ ฺฉุฏ ุฏุฑ <code>PendingReview</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ุจู <code>Scheduled</code> ููุชูู ุดูุฏ. ุงฺฏุฑ ูุงุฒ ูุจูุฏ ฺฉู
<code>PendingReview</code> ุจุง ุงุถุงูู ุดุฏู ฺฉ ุญุงูุช ุฌุฏุฏ ุชุบุฑ ฺฉูุฏุ ฺฉุงุฑ ฺฉูุชุฑ ูโุฏุงุดุชูุ ุงูุง ุงู ุจู ูุนูุง ุชุบุฑ ุจู ฺฉ ุงูฺฏู
ุทุฑุงุญ ุฏฺฏุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ูุนุงุจ ุงู ุงุณุช ฺฉู ูุง ุจุฑุฎ ุงุฒ ููุทูโูุง ุฑุง ุชฺฉุฑุงุฑ ฺฉุฑุฏูโุงู. ุจุฑุง ุญุฐู ุจุฑุฎ ุงุฒ ุงู ุชฺฉุฑุงุฑูุงุ ููฺฉู ุงุณุช ุณุน
ฺฉูู ุจุฑุง ูุชุฏูุง <code>request_review</code> ู <code>approve</code> ุฏุฑ ุตูุช <code>State</code> ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุงุฌุงุฏ ฺฉูู ฺฉู <code>self</code> ุฑุง
ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุจุง ุงู ุญุงูุ ุงู ุจุง <code>dyn</code> ุณุงุฒฺฏุงุฑ ูุฎูุงูุฏ ุจูุฏุ ุฒุฑุง ุตูุช ุฏููุงู ููโุฏุงูุฏ <code>self</code> ฺู ุฎูุงูุฏ ุจูุฏ. ูุง
ูโุฎูุงูู ุจุชูุงูู ุงุฒ <code>State</code> ุจูโุนููุงู ฺฉ ุดุก ุตูุช ุงุณุชูุงุฏู ฺฉููุ ุจูุงุจุฑุงู ูุชุฏูุง ุขู ุจุงุฏ ุจุง <code>dyn</code> ุณุงุฒฺฏุงุฑ ุจุงุดูุฏ.</p>
<p>ูพุงุฏูโุณุงุฒ ูุดุงุจู ูุชุฏูุง <code>request_review</code> ู <code>approve</code> ุฑู <code>Post</code> ูุฒ ููุน ุชฺฉุฑุงุฑ ุงุณุช. ูุฑ ุฏู ูุชุฏ ุงุฌุฑุง ูุชุฏ ูุดุงุจู
ุฑู ููุฏุงุฑ ููุฌูุฏ ุฏุฑ ููุฏ <code>state</code> ุงุฒ <code>Option</code> ุฑุง ุจู ุขู ูุงฺฏุฐุงุฑ ฺฉุฑุฏู ู ููุฏุงุฑ ุฌุฏุฏ ููุฏ <code>state</code> ุฑุง ุจู ูุชุฌู ุชูุธู
ูโฺฉููุฏ. ุงฺฏุฑ ูุชุฏูุง ุฒุงุฏ ุฑู <code>Post</code> ุฏุงุดุชู ุจุงุดู ฺฉู ุงู ุงูฺฏู ุฑุง ุฏูุจุงู ูโฺฉููุฏุ ููฺฉู ุงุณุช ุชุนุฑู ฺฉ ูุงฺฉุฑู ุฑุง ุจุฑุง ุญุฐู
ุงู ุชฺฉุฑุงุฑ ุฏุฑ ูุธุฑ ุจฺฏุฑู (ุจุฎุด <a href="ch20-05-macros.html#macros">โูุงฺฉุฑููุงโ</a><!-- ignore --> ุฏุฑ ูุตู 20 ุฑุง ุจุจูุฏ).</p>
<p>ุจุง ูพุงุฏูโุณุงุฒ ุงูฺฏู ูุถุนุช ุฏููุงู ููุงูโุทูุฑ ฺฉู ุจุฑุง ุฒุจุงูโูุง ุดโฺฏุฑุง ุชุนุฑู ุดุฏู ุงุณุชุ ุจูโุทูุฑ ฺฉุงูู ุงุฒ ููุงุท ููุช Rust
ุงุณุชูุงุฏู ููโฺฉูู. ุจุงุฏ ูฺฏุงู ุจู ุชุบุฑุงุช ุจูุฏุงุฒู ฺฉู ูโุชูุงูู ุฏุฑ crate <code>blog</code> ุงุฌุงุฏ ฺฉูู ุชุง ูุถุนุชโูุง ู
ุงูุชูุงูุงุช ูุงูุนุชุจุฑ ุจู ุฎุทุงูุง ุฒูุงู ฺฉุงููพุงู ุชุจุฏู ุดููุฏ.</p>
<h4 id="ฺฉุฏฺฏุฐุงุฑ-ูุถุนุชูุง-ู-ุฑูุชุงุฑ-ุจูุนููุงู-ุงููุงุน"><a class="header" href="#ฺฉุฏฺฏุฐุงุฑ-ูุถุนุชูุง-ู-ุฑูุชุงุฑ-ุจูุนููุงู-ุงููุงุน">ฺฉุฏฺฏุฐุงุฑ ูุถุนุชโูุง ู ุฑูุชุงุฑ ุจูโุนููุงู ุงููุงุน</a></h4>
<p>ุจู ุดูุง ูุดุงู ุฎูุงูู ุฏุงุฏ ฺฉู ฺฺฏููู ุงูฺฏู ูุถุนุช ุฑุง ุฏูุจุงุฑู ุทุฑุงุญ ฺฉูุฏ ุชุง ูุฌููุนูโุง ูุชูุงูุช ุงุฒ ูุฒุงุง ู ูุนุงุจ ุจู ุฏุณุช
ุขูุฑุฏ. ุจูโุฌุง ุงูฺฉู ูุถุนุชโูุง ู ุงูุชูุงูุงุช ุฑุง ฺฉุงููุงู ฺฉูพุณููู ฺฉูู ุชุง ฺฉุฏ ุฎุงุฑุฌ ุงุฒ ุขูโูุง ุงุทูุงุน ูุฏุงุดุชู ุจุงุดุฏุ ูุถุนุชโูุง ุฑุง
ุจู ุงููุงุน ูุฎุชูู ฺฉุฏฺฏุฐุงุฑ ูโฺฉูู. ุฏุฑ ูุชุฌูุ ุณุณุชู ุจุฑุฑุณ ููุน Rust ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูพุณุชโูุง ูพุดโููุณ ุฏุฑ ุฌุงูุง ฺฉู
ููุท ูพุณุชโูุง ููุชุดุฑุดุฏู ูุฌุงุฒ ูุณุชูุฏ ุฑุง ุจุง ุตุฏูุฑ ฺฉ ุฎุทุง ฺฉุงููพุงูุฑ ูุชููู ูโฺฉูุฏ.</p>
<p>ุงุจุชุฏุง ูุณูุช ุงูู <code>main</code> ุฏุฑ ูุณุชูฺฏ 18-11 ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use blog::Post;
</span><span class="boring">
</span>fn main() {
    let mut post = Post::new();

    post.add_text("I ate a salad for lunch today");
    assert_eq!("", post.content());
<span class="boring">
</span><span class="boring">    post.request_review();
</span><span class="boring">    assert_eq!("", post.content());
</span><span class="boring">
</span><span class="boring">    post.approve();
</span><span class="boring">    assert_eq!("I ate a salad for lunch today", post.content());
</span>}</code></pre>
</figure>
<p>ูุง ููฺูุงู ุงูฺฉุงู ุงุฌุงุฏ ูพุณุชโูุง ุฌุฏุฏ ุฏุฑ ูุถุนุช ูพุดโููุณ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Post::new</code> ู ุงูุฒูุฏู ูุชู ุจู ูุญุชูุง ูพุณุช ุฑุง ูุฑุงูู
ูโฺฉูู. ุงูุง ุจูโุฌุง ุฏุงุดุชู ูุชุฏ <code>content</code> ุฑู ฺฉ ูพุณุช ูพุดโููุณ ฺฉู ฺฉ ุฑุดุชู ุฎุงู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุขู ุฑุง ุจู ฺฏูููโุง ุทุฑุงุญ
ูโฺฉูู ฺฉู ูพุณุชโูุง ูพุดโููุณ ุงุตูุงู ูุชุฏ <code>content</code> ูุฏุงุดุชู ุจุงุดูุฏ. ุจู ุงู ุชุฑุชุจุ ุงฺฏุฑ ุจุฎูุงูู ูุญุชูุง ฺฉ ูพุณุช ูพุดโููุณ
ุฑุง ุฏุฑุงูุช ฺฉููุ ุฎุทุง ฺฉุงููพุงูุฑ ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ ฺฉู ุจู ูุง ูโฺฏูุฏ ุงู ูุชุฏ ูุฌูุฏ ูุฏุงุฑุฏ. ุฏุฑ ูุชุฌูุ ููุงุด ูุญุชูุง
ูพุณุชโูุง ูพุดโููุณ ุฏุฑ ูุญุท ุชููุฏ ุจูโุทูุฑ ุชุตุงุฏู ุบุฑููฺฉู ูโุดูุฏุ ุฒุฑุง ุขู ฺฉุฏ ุญุช ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ูุณุชูฺฏ 18-19
ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ <code>Post</code> ู ฺฉ ุณุงุฎุชุงุฑ <code>DraftPost</code> ู ููฺูู ูุชุฏูุง ุฑู ูุฑฺฉุฏุงู ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub struct Post {
    content: String,
}

pub struct DraftPost {
    content: String,
}

impl Post {
    pub fn new() -&gt; DraftPost {
        DraftPost {
            content: String::new(),
        }
    }

    pub fn content(&amp;self) -&gt; &amp;str {
        &amp;self.content
    }
}

impl DraftPost {
    pub fn add_text(&amp;mut self, text: &amp;str) {
        self.content.push_str(text);
    }
}</code></pre>
<figcaption>Listing 18-19: ฺฉ <code>Post</code> ุจุง ฺฉ ูุชุฏ <code>content</code> ู ฺฉ <code>DraftPost</code> ุจุฏูู ูุชุฏ <code>content</code></figcaption>
</figure>
<p>ูุฑ ุฏู ุณุงุฎุชุงุฑ <code>Post</code> ู <code>DraftPost</code> ุฏุงุฑุง ฺฉ ููุฏ ุฎุตูุต ุจู ูุงู <code>content</code> ูุณุชูุฏ ฺฉู ูุชู ูพุณุช ูุจูุงฺฏ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ. ุงู
ุณุงุฎุชุงุฑูุง ุฏฺฏุฑ ููุฏ <code>state</code> ูุฏุงุฑูุฏ ุฒุฑุง ฺฉุฏฺฏุฐุงุฑ ูุถุนุช ุฑุง ุจู ุงููุงุน ุณุงุฎุชุงุฑูุง ููุชูู ฺฉุฑุฏูโุงู. ุณุงุฎุชุงุฑ <code>Post</code> ููุงูุฏู
ฺฉ ูพุณุช ููุชุดุฑุดุฏู ุงุณุช ู ุฏุงุฑุง ูุชุฏ <code>content</code> ุงุณุช ฺฉู ููุฏุงุฑ <code>content</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุง ููฺูุงู ฺฉ ุชุงุจุน <code>Post::new</code> ุฏุงุฑูุ ุงูุง ุจูโุฌุง ุจุงุฒฺฏุฑุฏุงูุฏู ูููููโุง ุงุฒ <code>Post</code>ุ ฺฉ ููููู ุงุฒ <code>DraftPost</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.
ุงุฒ ุขูุฌุง ฺฉู <code>content</code> ุฎุตูุต ุงุณุช ู ูฺ ุชุงุจุน ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู <code>Post</code> ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ุฏุฑ ุญุงู ุญุงุถุฑ ุงูฺฉุงู ุงุฌุงุฏ ูููููโุง ุงุฒ
<code>Post</code> ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>ุณุงุฎุชุงุฑ <code>DraftPost</code> ฺฉ ูุชุฏ <code>add_text</code> ุฏุงุฑุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ููุงููุฏ ูุจู ูุชู ุฑุง ุจู <code>content</code> ุงุถุงูู ฺฉููุ ุงูุง
ุชูุฌู ฺฉูุฏ ฺฉู <code>DraftPost</code> ูุชุฏ <code>content</code> ุชุนุฑูโุดุฏู ูุฏุงุฑุฏ! ุจูุงุจุฑุงู ุงฺฉููู ุจุฑูุงูู ุชุถูู ูโฺฉูุฏ ฺฉู ุชูุงู ูพุณุชโูุง ุจูโุตูุฑุช
ูพุณุชโูุง ูพุดโููุณ ุดุฑูุน ูโุดููุฏ ู ูพุณุชโูุง ูพุดโููุณ ูุญุชูุง ุฎูุฏ ุฑุง ุจุฑุง ููุงุด ุฏุฑ ุฏุณุชุฑุณ ูุฏุงุฑูุฏ. ูุฑ ุชูุงุด ุจุฑุง ุฏูุฑ ุฒุฏู
ุงู ูุญุฏูุฏุชโูุง ููุฌุฑ ุจู ุฎุทุง ฺฉุงููพุงูุฑ ุฎูุงูุฏ ุดุฏ.</p>
<h4 id="ูพุงุฏูุณุงุฒ-ุงูุชูุงููุง-ุจูุนููุงู-ุชุจุฏู-ุจู-ุงููุงุน-ูุฎุชูู"><a class="header" href="#ูพุงุฏูุณุงุฒ-ุงูุชูุงููุง-ุจูุนููุงู-ุชุจุฏู-ุจู-ุงููุงุน-ูุฎุชูู">ูพุงุฏูโุณุงุฒ ุงูุชูุงูโูุง ุจูโุนููุงู ุชุจุฏู ุจู ุงููุงุน ูุฎุชูู</a></h4>
<p>ฺฺฏููู ูโุชูุงูู ฺฉ ูพุณุช ููุชุดุฑุดุฏู ุฏุงุดุชู ุจุงุดูุ ูุง ูโุฎูุงูู ูุงููู ุฑุง ุงุฌุฑุง ฺฉูู ฺฉู ฺฉ ูพุณุช ูพุดโููุณ ุจุงุฏ ุจุฑุฑุณ ู
ุชุฃุฏ ุดูุฏ ูุจู ุงุฒ ุงูฺฉู ุจุชูุงูุฏ ููุชุดุฑ ุดูุฏ. ฺฉ ูพุณุช ุฏุฑ ุญุงูุช โุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณโ ููฺูุงู ูุจุงุฏ ูฺ ูุญุชูุง ููุงุด ุฏูุฏ. ุจุงุฏ
ุงู ูุญุฏูุฏุชโูุง ุฑุง ุจุง ุงุถุงูู ฺฉุฑุฏู ฺฉ ุณุงุฎุชุงุฑ ุฏฺฏุฑ ุจู ูุงู <code>PendingReviewPost</code>ุ ุชุนุฑู ูุชุฏ <code>request_review</code> ุฑู
<code>DraftPost</code> ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>PendingReviewPost</code> ู ุชุนุฑู ฺฉ ูุชุฏ <code>approve</code> ุฑู <code>PendingReviewPost</code> ุจุฑุง
ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Post</code>ุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 18-20 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ูพุงุฏูโุณุงุฒ ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct Post {
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">pub struct DraftPost {
</span><span class="boring">    content: String,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Post {
</span><span class="boring">    pub fn new() -&gt; DraftPost {
</span><span class="boring">        DraftPost {
</span><span class="boring">            content: String::new(),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn content(&amp;self) -&gt; &amp;str {
</span><span class="boring">        &amp;self.content
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl DraftPost {
    // --snip--
<span class="boring">    pub fn add_text(&amp;mut self, text: &amp;str) {
</span><span class="boring">        self.content.push_str(text);
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn request_review(self) -&gt; PendingReviewPost {
        PendingReviewPost {
            content: self.content,
        }
    }
}

pub struct PendingReviewPost {
    content: String,
}

impl PendingReviewPost {
    pub fn approve(self) -&gt; Post {
        Post {
            content: self.content,
        }
    }
}</code></pre>
<figcaption>Listing 18-20: ฺฉ <code>PendingReviewPost</code> ฺฉู ุจุง ูุฑุงุฎูุงู <code>request_review</code> ุฑู <code>DraftPost</code> ุงุฌุงุฏ ูโุดูุฏ ู ฺฉ ูุชุฏ <code>approve</code> ฺฉู ฺฉ <code>PendingReviewPost</code> ุฑุง ุจู ฺฉ <code>Post</code> ููุชุดุฑุดุฏู ุชุจุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ูุชุฏูุง <code>request_review</code> ู <code>approve</code> ูุงูฺฉุช <code>self</code> ุฑุง ูโฺฏุฑูุฏุ ุจูุงุจุฑุงู ูููููโูุง <code>DraftPost</code> ู <code>PendingReviewPost</code>
ุฑุง ูุตุฑู ฺฉุฑุฏู ู ุขูโูุง ุฑุง ุจูโุชุฑุชุจ ุจู ฺฉ <code>PendingReviewPost</code> ู ฺฉ <code>Post</code> ููุชุดุฑุดุฏู ุชุจุฏู ูโฺฉููุฏ. ุจู ุงู ุชุฑุชุจุ
ูพุณ ุงุฒ ูุฑุงุฎูุงู <code>request_review</code> ุฑู ฺฉ <code>DraftPost</code> ู ุจู ููู ุชุฑุชุจุ ูฺ ูููููโุง ุงุฒ <code>DraftPost</code> ุจุงู ููโูุงูุฏ.
ุณุงุฎุชุงุฑ <code>PendingReviewPost</code> ูุชุฏ <code>content</code> ุชุนุฑูโุดุฏูโุง ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ุชูุงุด ุจุฑุง ุฎูุงูุฏู ูุญุชูุง ุขู ููุฌุฑ ุจู ุฎุทุง
ฺฉุงููพุงูุฑ ูโุดูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุฏ <code>DraftPost</code> ุงุชูุงู ูโุงูุชุฏ. ฺูู ุชููุง ุฑุงู ุจุฑุง ฺฏุฑูุชู ฺฉ ููููู ุงุฒ <code>Post</code> ููุชุดุฑุดุฏู
ฺฉู ูุชุฏ <code>content</code> ุชุนุฑูโุดุฏูโุง ุฏุงุฑุฏุ ูุฑุงุฎูุงู ูุชุฏ <code>approve</code> ุฑู ฺฉ <code>PendingReviewPost</code> ุงุณุชุ ู ุชููุง ุฑุงู ุจุฑุง ฺฏุฑูุชู
ฺฉ <code>PendingReviewPost</code> ูุฑุงุฎูุงู ูุชุฏ <code>request_review</code> ุฑู ฺฉ <code>DraftPost</code> ุงุณุชุ ูุง ุงฺฉููู ูุฑุขูุฏ ฺฉุงุฑ ูพุณุช ูุจูุงฺฏ ุฑุง ุจู
ุณุณุชู ููุน ฺฉุฏฺฏุฐุงุฑ ฺฉุฑุฏูโุงู.</p>
<p>ุงูุง ููฺูู ุจุงุฏ ุชุบุฑุงุช ฺฉูฺฺฉ ุฏุฑ <code>main</code> ุงุฌุงุฏ ฺฉูู. ูุชุฏูุง <code>request_review</code> ู <code>approve</code> ูููููโูุง ุฌุฏุฏ ุจุงุฒูโฺฏุฑุฏุงููุฏ
ุจูโุฌุง ุงูฺฉู ุณุงุฎุชุงุฑ ฺฉู ุฑู ุขู ูุฑุงุฎูุงู ุดุฏูโุงูุฏ ุฑุง ุชุบุฑ ุฏููุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุชุฎุตุตโูุง ูุฌุฏุฏ ุจุง <code>let post =</code> ุงุถุงูู ฺฉูู
ุชุง ูููููโูุง ุจุงุฒฺฏุดุช ุฑุง ุฐุฎุฑู ฺฉูู. ููฺูู ููโุชูุงูู ุชุฃุฏูโูุง ูุฑุจูุท ุจู ุฎุงู ุจูุฏู ูุญุชูุง ูพุณุชโูุง ูพุดโููุณ ู ุฏุฑ
ุงูุชุธุงุฑ ุจุฑุฑุณ ุฑุง ุฏุงุดุชู ุจุงุดูุ ู ูุงุฒ ุจู ุขูโูุง ูุณุช: ุฏฺฏุฑ ููโุชูุงูู ฺฉุฏ ฺฉู ุณุน ูโฺฉูุฏ ูุญุชูุง ูพุณุชโูุง ุฏุฑ ุงู ุญุงูุชโูุง ุฑุง
ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉุงููพุงู ฺฉูู. ฺฉุฏ ุจูโุฑูุฒุดุฏู ุฏุฑ <code>main</code> ุฏุฑ ูุณุชูฺฏ 18-21 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use blog::Post;

fn main() {
    let mut post = Post::new();

    post.add_text("I ate a salad for lunch today");

    let post = post.request_review();

    let post = post.approve();

    assert_eq!("I ate a salad for lunch today", post.content());
}</code></pre>
<figcaption>Listing 18-21: ุชุบุฑุงุช ุฏุฑ <code>main</code> ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูพุงุฏูโุณุงุฒ ุฌุฏุฏ ูุฑุขูุฏ ฺฉุงุฑ ูพุณุช ูุจูุงฺฏ</figcaption>
</figure>
<p>ุชุบุฑุงุช ฺฉู ุจุงุฏ ุฏุฑ <code>main</code> ุจุฑุง ุชุฎุตุต ูุฌุฏุฏ <code>post</code> ุงูุฌุงู ูโุฏุงุฏูุ ุจู ุงู ูุนูุงุณุช ฺฉู ุงู ูพุงุฏูโุณุงุฒ ุฏฺฏุฑ ฺฉุงููุงู ุงุฒ
ุงูฺฏู ูุถุนุช ุดโฺฏุฑุง ูพุฑู ููโฺฉูุฏ: ุงูุชูุงูุงุช ุจู ุญุงูุชโูุง ุฏฺฏุฑ ุจูโุทูุฑ ฺฉุงูู ุฏุฑ ูพุงุฏูโุณุงุฒ <code>Post</code> ฺฉูพุณููู ูุดุฏูโุงูุฏ.
ุงูุงุ ูุฒุช ูุง ุงู ุงุณุช ฺฉู ุงฺฉููู ูุถุนุชโูุง ูุงูุนุชุจุฑ ุจู ุฏูู ุณุณุชู ููุน ู ุจุฑุฑุณ ููุน ฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงูุฌุงู ูโุดูุฏุ
ุบุฑููฺฉู ูุณุชูุฏ! ุงู ุชุถูู ูโฺฉูุฏ ฺฉู ุจุฑุฎ ุงุฒ ุจุงฺฏโูุงุ ูุงููุฏ ููุงุด ูุญุชูุง ฺฉ ูพุณุช ููุชุดุฑูุดุฏูุ ูุจู ุงุฒ ุฑุณุฏู ุจู ุชููุฏ
ฺฉุดู ุดููุฏ.</p>
<p>ุชฺฉุงูู ูพุดููุงุฏ ุฏุฑ ุงุจุชุฏุง ุงู ุจุฎุด ุฑุง ุฑู crate <code>blog</code> ููุงูโุทูุฑ ฺฉู ูพุณ ุงุฒ ูุณุชูฺฏ 18-21 ุงุณุช ุงูุชุญุงู ฺฉูุฏ ุชุง ุจุจูุฏ
ุฏุฑุจุงุฑู ุทุฑุงุญ ุงู ูุณุฎู ุงุฒ ฺฉุฏ ฺู ูุธุฑ ุฏุงุฑุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุฑุฎ ุงุฒ ุชฺฉุงูู ููฺฉู ุงุณุช ุฏุฑ ุงู ุทุฑุงุญ ุงุฒ ูพุด
ุงูุฌุงู ุดุฏู ุจุงุดูุฏ.</p>
<p>ุฏุฏู ฺฉู ุญุช ุจุง ูุฌูุฏ ุงูฺฉู Rust ูุงุฏุฑ ุจู ูพุงุฏูโุณุงุฒ ุงูฺฏููุง ุทุฑุงุญ ุดโฺฏุฑุง ุงุณุชุ ุงูฺฏููุง ุฏฺฏุฑุ ูุงููุฏ ฺฉุฏฺฏุฐุงุฑ ุญุงูุช
ุฏุฑ ุณุณุชู ููุนุ ูุฒ ุฏุฑ Rust ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ. ุงู ุงูฺฏููุง ูุฒุงุง ู ูุนุงุจ ูุชูุงูุช ุฏุงุฑูุฏ. ุงฺฏุฑฺู ููฺฉู ุงุณุช ุจุง ุงูฺฏููุง ุดโฺฏุฑุง
ุจุณุงุฑ ุขุดูุง ุจุงุดุฏุ ุจุงุฒุงูุฏุด ูุณุฆูู ุจุฑุง ุจูุฑูโุจุฑุฏู ุงุฒ ูฺฺฏโูุง Rust ูโุชูุงูุฏ ูุฒุงุง ูุงููุฏ ุฌููฺฏุฑ ุงุฒ ุจุฑุฎ ุจุงฺฏโูุง
ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุฑุง ูุฑุงูู ฺฉูุฏ. ุงูฺฏููุง ุดโฺฏุฑุง ููุดู ุจูุชุฑู ุฑุงูโุญู ุฏุฑ Rust ูุฎูุงููุฏ ุจูุฏุ ุจู ุฏูู ูฺฺฏโูุง ูุงููุฏ
ูุงูฺฉุช ฺฉู ุฒุจุงูโูุง ุดโฺฏุฑุง ูุฏุงุฑูุฏ.</p>
<h2 id="ุฎูุงุตู-17"><a class="header" href="#ุฎูุงุตู-17">ุฎูุงุตู</a></h2>
<p>ูุงุฑุบ ุงุฒ ุงูฺฉู ูพุณ ุงุฒ ุฎูุงูุฏู ุงู ูุตู ูฺฉุฑ ูโฺฉูุฏ Rust ฺฉ ุฒุจุงู ุดโฺฏุฑุง ุงุณุช ุง ููุ ุงฺฉููู ูโุฏุงูุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ
ุงุดุง ุตูุช ุจุฑุง ุฏุฑุงูุช ุจุฑุฎ ูฺฺฏโูุง ุดโฺฏุฑุง ุฏุฑ Rust ุงุณุชูุงุฏู ฺฉูุฏ. ุชุฎุตุต ูพูุง (Dynamic Dispatch) ูโุชูุงูุฏ
ุงูุนุทุงูโูพุฐุฑ ุจู ฺฉุฏ ุดูุง ุจุฏูุฏุ ุงูุง ุฏุฑ ุงุฒุง ุขู ฺฉู ุงุฒ ุนููฺฉุฑุฏ ุฒูุงู ุงุฌุฑุง ุฑุง ูุฑุจุงู ูโฺฉูุฏ. ูโุชูุงูุฏ ุงุฒ ุงู ุงูุนุทุงูโูพุฐุฑ
ุจุฑุง ูพุงุฏูโุณุงุฒ ุงูฺฏููุง ุดโฺฏุฑุง ฺฉู ูโุชูุงููุฏ ุจู ูฺฏูโุฏุงุฑ ฺฉุฏ ุดูุง ฺฉูฺฉ ฺฉููุฏุ ุงุณุชูุงุฏู ฺฉูุฏ. Rust ููฺูู ุฏุงุฑุง ูฺฺฏโูุง
ุฏฺฏุฑ ูุงููุฏ ูุงูฺฉุช ุงุณุช ฺฉู ุฒุจุงูโูุง ุดโฺฏุฑุง ูุฏุงุฑูุฏ. ฺฉ ุงูฺฏู ุดโฺฏุฑุง ููุดู ุจูุชุฑู ุฑุงู ุจุฑุง ุจูุฑูโุจุฑุฏู ุงุฒ ููุงุท ููุช
Rust ูุฎูุงูุฏ ุจูุฏุ ุงูุง ุจูโุนููุงู ฺฉ ฺฏุฒูู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<p>ุฏุฑ ุงุฏุงููุ ุจู ุจุฑุฑุณ ุงูฺฏููุง ุฎูุงูู ูพุฑุฏุงุฎุช ฺฉู ฺฉ ุฏฺฏุฑ ุงุฒ ูฺฺฏโูุง Rust ุงุณุช ฺฉู ุงูุนุทุงูโูพุฐุฑ ุฒุงุฏ ุฑุง ูุฑุงูู
ูโฺฉููุฏ. ุฏุฑ ุทูู ฺฉุชุงุจ ุจูโุทูุฑ ูุฎุชุตุฑ ุจู ุขูโูุง ุงุดุงุฑู ฺฉุฑุฏูโุงูุ ุงูุง ูููุฒ ุจูโุทูุฑ ฺฉุงูู ุชูุงูุง ุขูโูุง ุฑุง ูุฏุฏูโุงู. ุจุฑูู!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุงูฺฏููุง-ู-match"><a class="header" href="#ุงูฺฏููุง-ู-match">ุงูฺฏููุง ู Match</a></h1>
<p><em>ุงูฺฏููุง</em> ฺฉ ูุญู ุฎุงุต ุฏุฑ Rust ูุณุชูุฏ ฺฉู ุจุฑุง ูุทุงุจูุช ุจุง ุณุงุฎุชุงุฑ ุงููุงุนุ ฺู ูพฺุฏู ู ฺู ุณุงุฏูุ ุงุณุชูุงุฏู ูโุดููุฏ. ุงุณุชูุงุฏู ุงุฒ ุงูฺฏููุง ููุฑุงู ุจุง ุนุจุงุฑุงุช <code>match</code> ู ุณุงุฑ ุณุงุฒูโูุง ุจู ุดูุง ฺฉูุชุฑู ุจุดุชุฑ ุจุฑ ุฌุฑุงู ฺฉูุชุฑู ุจุฑูุงูู ูโุฏูุฏ. ฺฉ ุงูฺฏู ุงุฒ ุชุฑฺฉุจ ุงุฒ ููุงุฑุฏ ุฒุฑ ุชุดฺฉู ุดุฏู ุงุณุช:</p>
<div dir="rtl">
    <ul>
        <li>ููุงุฏุฑ ุซุงุจุช (Literals)</li>
        <li>ุขุฑุงูโูุงุ enumูุงุ structูุง ุง tupleูุง ุชุฎุฑุจโุดุฏู</li>
        <li>ูุชุบุฑูุง</li>
        <li>ฺฉุงุฑุงฺฉุชุฑูุง ุนููู (Wildcards)</li>
        <li>ุฌุงโูฺฏูุฏุงุฑูุง (Placeholders)</li>
    </ul>
</div>
<p>ุจุฑุฎ ุงุฒ ููููู ุงูฺฏููุง ุนุจุงุฑุชูุฏ ุงุฒ <code>x</code>ุ <code>(a, 3)</code> ู <code>Some(Color::Red)</code>. ุฏุฑ ุฒูููโูุง ฺฉู ุงูฺฏููุง ูุนุชุจุฑ ูุณุชูุฏุ ุงู ูุคูููโูุง ุดฺฉู ุฏุงุฏูโูุง ุฑุง ุชูุตู ูโฺฉููุฏ. ุณูพุณ ุจุฑูุงูู ูุง ููุงุฏุฑ ุฑุง ุจุง ุงูฺฏููุง ููุงุณู ูโฺฉูุฏ ุชุง ูุดุฎุต ุดูุฏ ุขุง ุฏุงุฏูโูุง ุดฺฉู ุฏุฑุณุช ุฏุงุฑูุฏ ุชุง ฺฉ ูุทุนู ุฎุงุต ุงุฒ ฺฉุฏ ุงุฌุฑุง ุดูุฏ ุง ุฎุฑ.</p>
<p>ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูฺฏูุ ุขู ุฑุง ุจุง ฺฉ ููุฏุงุฑ ููุงุณู ูโฺฉูู. ุงฺฏุฑ ุงูฺฏู ุจุง ููุฏุงุฑ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ุงุฒ ูุทุนุงุช ููุฏุงุฑ ุฏุฑ ฺฉุฏ ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉูู. ุจู ุงุฏ ุขูุฑุฏ ฺฉู ุฏุฑ ูุตู 6 ุงุฒ ุนุจุงุฑุงุช <code>match</code> ฺฉู ุงุฒ ุงูฺฏููุง ุงุณุชูุงุฏู ูโฺฉุฑุฏูุฏุ ูุงููุฏ ูุซุงู ูุงุดู ูุฑุชุจโุณุงุฒ ุณฺฉูุ ุจุญุซ ฺฉุฑุฏู. ุงฺฏุฑ ููุฏุงุฑ ุจุง ุดฺฉู ุงูฺฏู ุชุทุงุจู ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูู ุงุฒ ูุณูุชโูุง ูุงูโฺฏุฐุงุฑโุดุฏู ุงุณุชูุงุฏู ฺฉูู. ุงฺฏุฑ ูุทุงุจูุช ูุฏุงุดุชู ุจุงุดุฏุ ฺฉุฏ ูุฑุชุจุท ุจุง ุขู ุงูฺฏู ุงุฌุฑุง ูุฎูุงูุฏ ุดุฏ.</p>
<p>ุงู ูุตู ฺฉ ูุฑุฌุน ุฌุงูุน ุฏุฑ ููุฑุฏ ูุฑ ฺุฒ ุงุณุช ฺฉู ุจู ุงูฺฏููุง ูุฑุจูุท ูโุดูุฏ. ูุง ูฺฉุงูโูุง ูุนุชุจุฑ ฺฉู ูโุชูุงู ุงุฒ ุงูฺฏููุง ุงุณุชูุงุฏู ฺฉุฑุฏุ ุชูุงูุช ุจู ุงูฺฏููุง ูุงุจูโุฑุฏ (refutable) ู ุบุฑูุงุจูโุฑุฏ (irrefutable)ุ ู ุงููุงุน ูุฎุชูู ูุญู ุงูฺฏู ฺฉู ููฺฉู ุงุณุช ุจุจูุฏ ุฑุง ูพูุดุด ุฎูุงูู ุฏุงุฏ. ุชุง ูพุงุงู ูุตูุ ุฎูุงูุฏ ุฏุงูุณุช ฺฉู ฺฺฏููู ุงุฒ ุงูฺฏููุง ุจุฑุง ุจุงู ุจุณุงุฑ ุงุฒ ููุงูู ุจู ุฑูุด ูุงุถุญ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="all-the-places-patterns-can-be-used"><a class="header" href="#all-the-places-patterns-can-be-used">All the Places Patterns Can Be Used</a></h2>
<p>ุงูฺฏููุง ุฏุฑ ุจุณุงุฑ ุงุฒ ุฌุงูุง ุฏุฑ ุฑุงุณุช ุธุงูุฑ ูโุดููุฏุ ู ุดูุง ุงุฒ ุขูโูุง ุฒุงุฏ ุงุณุชูุงุฏู ฺฉุฑุฏูโุงุฏ ุจุฏูู ุงูฺฉู ูุชูุฌู ุดูุฏ! ุงู ุจุฎุด ุชูุงู ุฌุงูุง ฺฉู ุงูฺฏููุง ูุนุชุจุฑ ูุณุชูุฏ ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ.</p>
<h3 id="match-arms"><a class="header" href="#match-arms"><code>match</code> Arms</a></h3>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 6 ุจุญุซ ุดุฏุ ูุง ุงุฒ ุงูฺฏููุง ุฏุฑ ุจุงุฒููุง (arms) ุนุจุงุฑุงุช <code>match</code> ุงุณุชูุงุฏู ูโฺฉูู. ุจูโุทูุฑ ุฑุณูุ ุนุจุงุฑุงุช <code>match</code> ุจูโุตูุฑุช ฺฉููู ฺฉูุฏ <code>match</code>ุ ฺฉ ููุฏุงุฑ ุจุฑุง ูุทุงุจูุชุ ู ฺฉ ุง ฺูุฏ ุจุงุฒู match ฺฉู ุงุฒ ฺฉ ุงูฺฏู ู ฺฉ ุนุจุงุฑุช ุจุฑุง ุงุฌุฑุง ุฏุฑ ุตูุฑุช ูุทุงุจูุช ููุฏุงุฑ ุจุง ุงูฺฏู ุขู ุจุงุฒู ุชุดฺฉู ุดุฏูโุงูุฏุ ุชุนุฑู ูโุดููุฏุ ูุงููุฏ ุงู:</p>
<pre><code class="language-text">match VALUE {
    PATTERN =&gt; EXPRESSION,
    PATTERN =&gt; EXPRESSION,
    PATTERN =&gt; EXPRESSION,
}
</code></pre>
<p>ุจุฑุง ูุซุงูุ ุงูุฌุง ุนุจุงุฑุช <code>match</code> ุงุฒ ููุฑุณุช 6-5 ุงุณุช ฺฉู ุจุฑ ุฑู ฺฉ ููุฏุงุฑ <code>Option&lt;i32&gt;</code> ุฏุฑ ูุชุบุฑ <code>x</code> ูุทุงุจูุช ูโุฏูุฏ:</p>
<pre><code class="language-rust ignore">match x {
    None =&gt; None,
    Some(i) =&gt; Some(i + 1),
}</code></pre>
<p>ุงูฺฏููุง ุฏุฑ ุงู ุนุจุงุฑุช <code>match</code> ุดุงูู <code>None</code> ู <code>Some(i)</code> ูุณุชูุฏ ฺฉู ุฏุฑ ุณูุช ฺูพ ูุฑ ูพฺฉุงู ูุฑุงุฑ ุฏุงุฑูุฏ.</p>
<p>ฺฉ ุงุฒ ูุงุฒููุฏโูุง ุนุจุงุฑุงุช <code>match</code> ุงู ุงุณุช ฺฉู ุจุงุฏ ุจูโุตูุฑุช <em>ฺฉุงูู</em> ุจุงุดูุฏุ ุจู ุงู ูุนูุง ฺฉู ุชูุงู ุญุงูุงุช ููฺฉู ุจุฑุง ููุฏุงุฑ ุฏุฑ ุนุจุงุฑุช <code>match</code> ุจุงุฏ ูพูุดุด ุฏุงุฏู ุดููุฏ. ฺฉ ุงุฒ ุฑุงูโูุง ุงุทููุงู ุงุฒ ุงูฺฉู ููู ุญุงูุงุช ุฑุง ูพูุดุด ุฏุงุฏูโุงุฏ ุงู ุงุณุช ฺฉู ฺฉ ุงูฺฏู ุนููู (catchall) ุจุฑุง ุจุงุฒู ุขุฎุฑ ุฏุงุดุชู ุจุงุดุฏ: ุจุฑุง ูุซุงูุ ฺฉ ูุงู ูุชุบุฑ ฺฉู ูุฑ ููุฏุงุฑ ุฑุง ูุทุงุจูุช ูโุฏูุฏ ูุฑฺฏุฒ ุดฺฉุณุช ููโุฎูุฑุฏ ู ุจูุงุจุฑุงู ุชูุงู ููุงุฑุฏ ุจุงูโูุงูุฏู ุฑุง ูพูุดุด ูโุฏูุฏ.</p>
<p>ุงูฺฏู ุฎุงุต <code>_</code> ูุฑ ฺุฒ ุฑุง ูุทุงุจูุช ูโุฏูุฏุ ุงูุง ูุฑฺฏุฒ ุจู ฺฉ ูุชุบุฑ ูุชุตู ููโุดูุฏุ ุจูุงุจุฑุงู ุงุบูุจ ุฏุฑ ุจุงุฒู ุขุฎุฑ match ุงุณุชูุงุฏู ูโุดูุฏ. ุงูฺฏู <code>_</code> ูโุชูุงูุฏ ุฒูุงู ููุฏ ุจุงุดุฏ ฺฉู ุจุฎูุงูุฏ ูุฑ ููุฏุงุฑ ฺฉู ูุดุฎุต ูุดุฏู ุงุณุช ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏุ ุจุฑุง ูุซุงู. ูุง ุงูฺฏู <code>_</code> ุฑุง ุฏุฑ ุจุฎุด <a href="ch19-03-pattern-syntax.html#ignoring-values-in-a-pattern">โIgnoring Values in a Patternโ</a><!-- ignore --> ุจุนุฏุงู ุฏุฑ ุงู ูุตู ุจูโุทูุฑ ููุตู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="conditional-if-let-expressions"><a class="header" href="#conditional-if-let-expressions">Conditional <code>if let</code> Expressions</a></h3>
<p>ุฏุฑ ูุตู 6 ุจุญุซ ฺฉุฑุฏู ฺฉู ฺฺฏููู ุงุฒ ุนุจุงุฑุงุช <code>if let</code> ุนูุฏุชุงู ุจูโุนููุงู ฺฉ ุฑูุด ฺฉูุชุงูโุชุฑ ุจุฑุง ููุดุชู ูุนุงุฏู ฺฉ <code>match</code> ฺฉู ููุท ฺฉ ุญุงูุช ุฑุง ูุทุงุจูุช ูโุฏูุฏ ุงุณุชูุงุฏู ฺฉูู. ุจูโุตูุฑุช ุงุฎุชุงุฑุ <code>if let</code> ูโุชูุงูุฏ ฺฉ <code>else</code> ูุชูุงุธุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุดุงูู ฺฉุฏ ุจุฑุง ุงุฌุฑุง ุฏุฑ ุตูุฑุช ุนุฏู ูุทุงุจูุช ุงูฺฏู ุฏุฑ <code>if let</code> ุจุงุดุฏ.</p>
<p>ููุฑุณุช 19-1 ูุดุงู ูโุฏูุฏ ฺฉู ููฺูู ููฺฉู ุงุณุช ุนุจุงุฑุงุช <code>if let</code>ุ <code>else if</code>ุ ู <code>else if let</code> ุฑุง ุจุง ูู ุชุฑฺฉุจ ู ุชุทุจู ุฏูุฏ. ุงู ฺฉุงุฑ ุจู ูุง ุงูุนุทุงู ุจุดุชุฑ ูุณุจุช ุจู ฺฉ ุนุจุงุฑุช <code>match</code> ูโุฏูุฏุ ฺฉู ุฏุฑ ุขู ููุท ูโุชูุงูู ฺฉ ููุฏุงุฑ ุจุฑุง ููุงุณู ุจุง ุงูฺฏููุง ุจุงู ฺฉูู. ููฺููุ ุฑุงุณุช ูุงุฒ ูุฏุงุฑุฏ ฺฉู ุดุฑุงุท ุฏุฑ ฺฉ ุณุฑ ุงุฒ ุจุงุฒููุง <code>if let</code>ุ <code>else if</code>ุ <code>else if let</code> ุจู ฺฉุฏฺฏุฑ ูุฑุชุจุท ุจุงุดูุฏ.</p>
<p>ฺฉุฏ ุฏุฑ ููุฑุณุช 19-1 ุชุนู ูโฺฉูุฏ ฺฉู ุจุฑ ุงุณุงุณ ฺฉ ุณุฑ ุจุฑุฑุณ ุจุฑุง ฺูุฏู ุดุฑุทุ ูพุณโุฒููู ุดูุง ฺู ุฑูฺฏ ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ุงู ูุซุงูุ ูุชุบุฑูุง ุจุง ููุงุฏุฑ ุณุฎุชโฺฉุฏุดุฏู ุงุฌุงุฏ ฺฉุฑุฏูโุงู ฺฉู ฺฉ ุจุฑูุงูู ูุงูุน ููฺฉู ุงุณุช ุงุฒ ูุฑูุฏ ฺฉุงุฑุจุฑ ุฏุฑุงูุช ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let favorite_color: Option&lt;&amp;str&gt; = None;
    let is_tuesday = false;
    let age: Result&lt;u8, _&gt; = "34".parse();

    if let Some(color) = favorite_color {
        println!("Using your favorite color, {color}, as the background");
    } else if is_tuesday {
        println!("Tuesday is green day!");
    } else if let Ok(age) = age {
        if age &gt; 30 {
            println!("Using purple as the background color");
        } else {
            println!("Using orange as the background color");
        }
    } else {
        println!("Using blue as the background color");
    }
}</code></pre></pre>
<figcaption>Listing 19-1: ุชุฑฺฉุจ <code>if let</code>ุ <code>else if</code>ุ <code>else if let</code>ุ ู <code>else</code></figcaption>
</figure>
<p>ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฉ ุฑูฺฏ ููุฑุฏ ุนูุงูู ูุดุฎุต ฺฉูุฏุ ุงุฒ ุขู ุฑูฺฏ ุจูโุนููุงู ูพุณโุฒููู ุงุณุชูุงุฏู ูโุดูุฏ. ุงฺฏุฑ ูฺ ุฑูฺฏ ููุฑุฏ ุนูุงููโุง ูุดุฎุต ูุดุฏู ุจุงุดุฏ ู ุงูุฑูุฒ ุณูโุดูุจู ุจุงุดุฏุ ุฑูฺฏ ูพุณโุฒููู ุณุจุฒ ุงุณุช. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ุงฺฏุฑ ฺฉุงุฑุจุฑ ุณู ุฎูุฏ ุฑุง ุจูโุนููุงู ฺฉ ุฑุดุชู ูุดุฎุต ฺฉูุฏ ู ุจุชูุงูู ุขู ุฑุง ุจุง ููููุช ุจู ฺฉ ุนุฏุฏ ุชุจุฏู ฺฉููุ ุฑูฺฏ ุง ุจููุด ุง ูุงุฑูุฌ ุงุณุชุ ุจุณุชู ุจู ููุฏุงุฑ ุนุฏุฏ. ุงฺฏุฑ ูฺโฺฉุฏุงู ุงุฒ ุงู ุดุฑุงุท ุตุฏู ูฺฉูุฏุ ุฑูฺฏ ูพุณโุฒููู ุขุจ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุงู ุณุงุฎุชุงุฑ ุดุฑุท ุจู ูุง ุงูฺฉุงู ูพุดุชุจุงู ุงุฒ ูุงุฒูุง ูพฺุฏู ุฑุง ูโุฏูุฏ. ุจุง ููุงุฏุฑ ุณุฎุชโฺฉุฏุดุฏูโุง ฺฉู ุฏุฑ ุงูุฌุง ุฏุงุฑูุ ุงู ูุซุงู ูพุงู <code>Using purple as the background color</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ูโุชูุงูุฏ ุจุจูุฏ ฺฉู <code>if let</code> ูุฒ ูโุชูุงูุฏ ูุชุบุฑูุง ุฌุฏุฏ ุฑุง ูุนุฑู ฺฉูุฏ ฺฉู ูุชุบุฑูุง ููุฌูุฏ ุฑุง ุจู ููุงู ุฑูุด ฺฉู ุจุงุฒููุง <code>match</code> ุงูุฌุงู ูโุฏููุฏุ ูพูุดุด ูโุฏููุฏ: ุฎุท <code>if let Ok(age) = age</code> ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจู ูุงู <code>age</code> ูุนุฑู ูโฺฉูุฏ ฺฉู ุญุงู ููุฏุงุฑ ุฏุงุฎู ุญุงูุช <code>Ok</code> ุงุณุช ู ูุชุบุฑ ููุฌูุฏ <code>age</code> ุฑุง ูพูุดุด ูโุฏูุฏ. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุจุงุฏ ุดุฑุท <code>if age &gt; 30</code> ุฑุง ุฏุฑ ุฏุงุฎู ุขู ุจููฺฉ ูุฑุงุฑ ุฏูู: ููโุชูุงูู ุงู ุฏู ุดุฑุท ุฑุง ุจูโุตูุฑุช <code>if let Ok(age) = age &amp;&amp; age &gt; 30</code> ุชุฑฺฉุจ ฺฉูู. ูุชุบุฑ ุฌุฏุฏ <code>age</code> ฺฉู ูโุฎูุงูู ุจุง 30 ููุงุณู ฺฉูู ุชุง ุดุฑูุน ูุญุฏูุฏู ุฌุฏุฏ ุจุง ุขฺฉููุงุฏ ูุนุชุจุฑ ูุณุช.</p>
<p>ููุทู ุถุนู ุงุณุชูุงุฏู ุงุฒ ุนุจุงุฑุงุช <code>if let</code> ุงู ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ุจุฑุฑุณ ููโฺฉูุฏ ฺฉู ุขุง ููู ุญุงูุงุช ูพูุดุด ุฏุงุฏู ุดุฏูโุงูุฏ ุง ุฎุฑุ ุฏุฑ ุญุงู ฺฉู ุจุง ุนุจุงุฑุงุช <code>match</code> ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุงฺฏุฑ ุจููฺฉ ุขุฎุฑ <code>else</code> ุฑุง ุญุฐู ฺฉูู ู ุจูุงุจุฑุงู ุจุฑุฎ ููุงุฑุฏ ุฑุง ูพูุดุด ูุฏููุ ฺฉุงููพุงูุฑ ุจู ูุง ุฏุฑ ููุฑุฏ ุจุงฺฏ ุงุญุชูุงู ููุทู ูุดุฏุงุฑ ููโุฏูุฏ.</p>
<h3 id="while-let-conditional-loops"><a class="header" href="#while-let-conditional-loops"><code>while let</code> Conditional Loops</a></h3>
<p>ูุดุงุจู ุจุง ุณุงุฎุชุงุฑ <code>if let</code>ุ ุญููู ุดุฑุท <code>while let</code> ุจู ฺฉ ุญููู <code>while</code> ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุฒูุงู ฺฉู ฺฉ ุงูฺฏู ููฺูุงู ูุทุงุจูุช ุฏุงุฑุฏุ ุงุฌุฑุง ุดูุฏ. ุงููู ุจุงุฑ ฺฉ ุญููู <code>while let</code> ุฑุง ุฏุฑ ูุตู 17 ุฏุฏูุ ุฌุง ฺฉู ุงุฒ ุขู ุจุฑุง ุงุฏุงูู ุญููู ุฒุฏู ุชุง ุฒูุงู ฺฉู ฺฉ stream ููุงุฏุฑ ุฌุฏุฏ ุชููุฏ ูโฺฉุฑุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู. ุจูโุทูุฑ ูุดุงุจูุ ุฏุฑ ููุฑุณุช 19-2 ฺฉ ุญููู <code>while let</code> ูุดุงู ุฏุงุฏู ูโุดูุฏ ฺฉู ููุชุธุฑ ูพุงูโูุง ุงุณุช ฺฉู ุจู ูุฎโูุง ุงุฑุณุงู ูโุดูุฏุ ุงูุง ุฏุฑ ุงู ููุฑุฏ ฺฉ <code>Result</code> ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ุจูโุฌุง ฺฉ <code>Option</code>.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let (tx, rx) = std::sync::mpsc::channel();
    std::thread::spawn(move || {
        for val in [1, 2, 3] {
            tx.send(val).unwrap();
        }
    });

    while let Ok(value) = rx.recv() {
        println!("{value}");
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-2: ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>while let</code> ุจุฑุง ฺุงูพ ููุงุฏุฑ ุชุง ุฒูุงู ฺฉู <code>rx.recv()</code> ููุฏุงุฑ <code>Ok</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ุงู ูุซุงู ููุงุฏุฑ 1ุ 2ุ ู 3 ุฑุง ฺุงูพ ูโฺฉูุฏ. ููุช ฺฉู <code>recv</code> ุฑุง ุฏุฑ ูุตู 16 ุฏุฏูุ ุฎุทุง ุฑุง ูุณุชููุงู unwrap ูโฺฉุฑุฏู ุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญููู <code>for</code> ุจูโุนููุงู ฺฉ iterator ุจุง ุขู ุชุนุงูู ุฏุงุดุชู. ุจุง ุงู ุญุงูุ ููุงูโุทูุฑ ฺฉู ููุฑุณุช 19-2 ูุดุงู ูโุฏูุฏุ ูโุชูุงูู ุงุฒ <code>while let</code> ูุฒ ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง ูุชุฏ <code>recv</code> ุชุง ุฒูุงู ฺฉู ูุฑุณุชูุฏู ูพุงูโูุง ุชููุฏ ูโฺฉูุฏ ููุฏุงุฑ <code>Ok</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ุณูพุณ ุฒูุงู ฺฉู ุทุฑู ูุฑุณุชูุฏู ูุทุน ูโุดูุฏ ฺฉ ููุฏุงุฑ <code>Err</code> ุชููุฏ ูโฺฉูุฏ.</p>
<h3 id="for-loops"><a class="header" href="#for-loops"><code>for</code> Loops</a></h3>
<p>ุฏุฑ ฺฉ ุญููู <code>for</code>ุ ููุฏุงุฑ ฺฉู ูุณุชููุงู ุจุนุฏ ุงุฒ ฺฉููู ฺฉูุฏ <code>for</code> ูโุขุฏ ฺฉ ุงูฺฏู ุงุณุช. ุจุฑุง ูุซุงูุ ุฏุฑ ุนุจุงุฑุช <code>for x in y</code> ููุฏุงุฑ <code>x</code> ฺฉ ุงูฺฏู ุงุณุช. ููุฑุณุช 19-3 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุงุฒ ฺฉ ุงูฺฏู ุฏุฑ ฺฉ ุญููู <code>for</code> ุจุฑุง ุชุฎุฑุจ (destructure) ุง ุชุฌุฒู ฺฉ tuple ุจูโุนููุงู ุจุฎุด ุงุฒ ุญููู <code>for</code> ุงุณุชูุงุฏู ฺฉุฑุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let v = vec!['a', 'b', 'c'];

    for (index, value) in v.iter().enumerate() {
        println!("{value} is at index {index}");
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-3: Using a pattern in a <code>for</code> loop to destructure a tuple</figcaption>
</figure>
<p>ฺฉุฏ ุฏุฑ ููุฑุณุช 19-3 ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling patterns v0.1.0 (file:///projects/patterns)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.52s
     Running `target/debug/patterns`
a is at index 0
b is at index 1
c is at index 2
</code></pre>
<p>ูุง ฺฉ iterator ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>enumerate</code> ุชุทุจู ูโุฏูู ุชุง ฺฉ ููุฏุงุฑ ู ุดุงุฎุต ุขู ููุฏุงุฑ ุฑุง ุชููุฏ ฺฉูุฏุ ฺฉู ุฏุฑ ฺฉ tuple ูุฑุงุฑ ูโฺฏุฑุฏ. ุงููู ููุฏุงุฑ ุชููุฏุดุฏู tuple <code>(0, 'a')</code> ุงุณุช. ููุช ุงู ููุฏุงุฑ ุจุง ุงูฺฏู <code>(index, value)</code> ูุทุงุจูุช ุฏุงุฏู ูโุดูุฏุ ููุฏุงุฑ <code>index</code> ุจุฑุงุจุฑ ุจุง <code>0</code> ู ููุฏุงุฑ <code>value</code> ุจุฑุงุจุฑ ุจุง <code>'a'</code> ุฎูุงูุฏ ุจูุฏุ ู ุงููู ุฎุท ุฎุฑูุฌ ฺุงูพ ูโุดูุฏ.</p>
<h3 id="let-statements"><a class="header" href="#let-statements"><code>let</code> Statements</a></h3>
<p>ูพุด ุงุฒ ุงู ูุตูุ ูุง ุจูโุทูุฑ ุฎุงุต ููุท ุฏุฑุจุงุฑู ุงุณุชูุงุฏู ุงุฒ ุงูฺฏููุง ุจุง <code>match</code> ู <code>if let</code> ุจุญุซ ฺฉุฑุฏู ุจูุฏูุ ุงูุง ุฏุฑ ูุงูุนุ ูุง ุงุฒ ุงูฺฏููุง ุฏุฑ ูฺฉุงูโูุง ุฏฺฏุฑ ูุฒ ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงุฒ ุฌููู ุฏุฑ ุนุจุงุฑุงุช <code>let</code>. ุจุฑุง ูุซุงูุ ุจู ุงู ุชุฎุตุต ุณุงุฏู ูุชุบุฑ ุจุง <code>let</code> ุชูุฌู ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 5;
<span class="boring">}</span></code></pre></pre>
<p>ูุฑ ุจุงุฑ ฺฉู ุงุฒ ฺฉ ุนุจุงุฑุช <code>let</code> ูุงููุฏ ุงู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงุฏุ ุงุฒ ุงูฺฏููุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงุฏุ ุญุช ุงฺฏุฑ ูุชูุฌู ุขู ูุดุฏู ุจุงุดุฏ! ุจูโุทูุฑ ุฑุณูุ ฺฉ ุนุจุงุฑุช <code>let</code> ุจู ุงู ุดฺฉู ุงุณุช:</p>
<pre><code class="language-text">let PATTERN = EXPRESSION;
</code></pre>
<p>ุฏุฑ ุนุจุงุฑุงุช ูุงููุฏ <code>let x = 5;</code> ุจุง ฺฉ ูุงู ูุชุบุฑ ุฏุฑ ูุญู <code>PATTERN</code>ุ ูุงู ูุชุบุฑ ููุท ฺฉ ุดฺฉู ุณุงุฏู ุงุฒ ฺฉ ุงูฺฏู ุงุณุช. ุฑุงุณุช ุนุจุงุฑุช ุฑุง ุจุง ุงูฺฏู ููุงุณู ูโฺฉูุฏ ู ูุฑ ูุงู ฺฉู ูพุฏุง ูโฺฉูุฏ ุฑุง ุชุฎุตุต ูโุฏูุฏ. ุจูุงุจุฑุงู ุฏุฑ ูุซุงู <code>let x = 5;</code>ุ <code>x</code> ุงูฺฏู ุงุณุช ฺฉู ุจู ุงู ูุนูุงุณุช: ยซูุฑ ฺุฒ ฺฉู ุฏุฑ ุงูุฌุง ูุทุงุจูุช ุฏุงุฑุฏ ุฑุง ุจู ูุชุบุฑ <code>x</code> ุงุฎุชุตุงุต ุจุฏูยป. ฺูู ูุงู <code>x</code> ฺฉู ุงูฺฏู ุงุณุชุ ุงู ุงูฺฏู ุจูโุทูุฑ ูุคุซุฑ ุจู ุงู ูุนูุงุณุช: ยซูุฑ ฺุฒ ฺฉู ูุณุช ุฑุง ุจู ูุชุบุฑ <code>x</code> ุงุฎุชุตุงุต ุจุฏูยป.</p>
<p>ุจุฑุง ูุดุงูุฏู ุฌูุจู ุชุทุจู ุงูฺฏู ุฏุฑ <code>let</code> ุจูโุตูุฑุช ูุงุถุญโุชุฑุ ููุฑุณุช 19-4 ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏุ ฺฉู ุงุฒ ฺฉ ุงูฺฏู ุจุง <code>let</code> ุจุฑุง ุชุฎุฑุจ ฺฉ tuple ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let (x, y, z) = (1, 2, 3);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-4: Using a pattern to destructure a tuple and create three variables at once</figcaption>
</figure>
<p>ุงูุฌุงุ ูุง ฺฉ tuple ุฑุง ุจุง ฺฉ ุงูฺฏู ูุทุงุจูุช ูโุฏูู. ุฑุงุณุช ููุฏุงุฑ <code>(1, 2, 3)</code> ุฑุง ุจุง ุงูฺฏู <code>(x, y, z)</code> ููุงุณู ูโฺฉูุฏ ู ูโุจูุฏ ฺฉู ููุฏุงุฑ ุจุง ุงูฺฏู ูุทุงุจูุช ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุฑุงุณุช <code>1</code> ุฑุง ุจู <code>x</code>ุ <code>2</code> ุฑุง ุจู <code>y</code>ุ ู <code>3</code> ุฑุง ุจู <code>z</code> ุงุฎุชุตุงุต ูโุฏูุฏ. ูโุชูุงูุฏ ุงู ุงูฺฏู tuple ุฑุง ุจูโุนููุงู ุณู ุงูฺฏู ูุชุบุฑ ูุฑุฏ ฺฉู ุฏุฑูู ุขู ูุฑุงุฑ ุฏุงุฑูุฏ ุชุตูุฑ ฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุชุนุฏุงุฏ ุนูุงุตุฑ ุฏุฑ ุงูฺฏู ุจุง ุชุนุฏุงุฏ ุนูุงุตุฑ ุฏุฑ tuple ูุทุงุจูุช ูุฏุงุดุชู ุจุงุดุฏุ ฺฉู ููุน ูุทุงุจูุช ูุฎูุงูุฏ ุฏุงุดุช ู ฺฉ ุฎุทุง ฺฉุงููพุงูุฑ ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ. ุจุฑุง ูุซุงูุ ููุฑุณุช 19-5 ฺฉ ุชูุงุด ุจุฑุง ุชุฎุฑุจ ฺฉ tuple ุจุง ุณู ุนูุตุฑ ุจู ุฏู ูุชุบุฑ ุฑุง ูุดุงู ูโุฏูุฏุ ฺฉู ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let (x, y) = (1, 2, 3);
<span class="boring">}</span></code></pre>
<figcaption>Listing 19-5: Incorrectly constructing a pattern whose variables donโt match the number of elements in the tuple</figcaption>
</figure>
<p>ุชูุงุด ุจุฑุง ฺฉุงููพุงู ุงู ฺฉุฏ ููุฌุฑ ุจู ุงู ุฎุทุง type ูโุดูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling patterns v0.1.0 (file:///projects/patterns)
error[E0308]: mismatched types
 --&gt; src/main.rs:2:9
  |
2 |     let (x, y) = (1, 2, 3);
  |         ^^^^^^   --------- this expression has type `({integer}, {integer}, {integer})`
  |         |
  |         expected a tuple with 3 elements, found one with 2 elements
  |
  = note: expected tuple `({integer}, {integer}, {integer})`
             found tuple `(_, _)`

For more information about this error, try `rustc --explain E0308`.
error: could not compile `patterns` (bin "patterns") due to 1 previous error
</code></pre>
<p>ุจุฑุง ุฑูุน ุฎุทุงุ ูโุชูุงูู ฺฉ ุง ฺูุฏ ููุฏุงุฑ ุฏุฑ tuple ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>_</code> ุง <code>..</code> ูุงุฏุฏู ุจฺฏุฑูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch19-03-pattern-syntax.html#ignoring-values-in-a-pattern">โIgnoring Values in a Patternโ</a><!-- ignore --> ุฎูุงูุฏ ุฏุฏ. ุงฺฏุฑ ูุดฺฉู ุงู ุงุณุช ฺฉู ุชุนุฏุงุฏ ูุชุบุฑูุง ุฏุฑ ุงูฺฏู ุจุด ุงุฒ ุญุฏ ุงุณุชุ ุฑุงูโุญู ุงู ุงุณุช ฺฉู ููุนโูุง ุฑุง ุจุง ุญุฐู ูุชุบุฑูุง ุทูุฑ ุชุทุจู ุฏูู ฺฉู ุชุนุฏุงุฏ ูุชุบุฑูุง ุจุฑุงุจุฑ ุจุง ุชุนุฏุงุฏ ุนูุงุตุฑ ุฏุฑ tuple ุดูุฏ.</p>
<h3 id="function-parameters"><a class="header" href="#function-parameters">Function Parameters</a></h3>
<p>ูพุงุฑุงูุชุฑูุง ุชุงุจุน ูุฒ ูโุชูุงููุฏ ุงูฺฏู ุจุงุดูุฏ. ฺฉุฏ ุฏุฑ ููุฑุณุช 19-6ุ ฺฉู ุชุงุจุน ุจู ูุงู <code>foo</code> ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุจู ูุงู <code>x</code> ุงุฒ ููุน <code>i32</code> ูโฺฏุฑุฏุ ุจุงุฏ ุชุง ุงูุงู ุขุดูุง ุจู ูุธุฑ ุจุฑุณุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">fn foo(x: i32) {
    // code goes here
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 19-6: ฺฉ ุงูุถุง ุชุงุจุน ุงุฒ ุงูฺฏููุง ุฏุฑ ูพุงุฑุงูุชุฑูุง ุงุณุชูุงุฏู ูโฺฉูุฏ</figcaption>
</figure>
<p>ูุณูุช <code>x</code> ฺฉ ุงูฺฏู ุงุณุช! ููุงูโุทูุฑ ฺฉู ุจุง <code>let</code> ุงูุฌุงู ุฏุงุฏูุ ูโุชูุงูู ฺฉ tuple ุฑุง ุฏุฑ ุขุฑฺฏููุงูโูุง ฺฉ ุชุงุจุน ุจุง ุงูฺฏู ูุทุงุจูุช ุฏูู. ููุฑุณุช 19-7 ููุงุฏุฑ ฺฉ tuple ุฑุง ููฺฏุงู ุงุฑุณุงู ุจู ฺฉ ุชุงุจุน ุชุฌุฒู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn print_coordinates(&amp;(x, y): &amp;(i32, i32)) {
    println!("Current location: ({x}, {y})");
}

fn main() {
    let point = (3, 5);
    print_coordinates(&amp;point);
}</code></pre></pre>
<figcaption>Listing 19-7: ฺฉ ุชุงุจุน ุจุง ูพุงุฑุงูุชุฑูุง ฺฉู ฺฉ tuple ุฑุง ุชุฎุฑุจ ูโฺฉููุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูพุงู <code>Current location: (3, 5)</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ููุงุฏุฑ <code>&amp;(3, 5)</code> ุจุง ุงูฺฏู <code>&amp;(x, y)</code> ูุทุงุจูุช ุฏุงุฑูุฏุ ุจูุงุจุฑุงู <code>x</code> ููุฏุงุฑ <code>3</code> ู <code>y</code> ููุฏุงุฑ <code>5</code> ุงุณุช.</p>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ุงูฺฏููุง ุฏุฑ ูุณุช ูพุงุฑุงูุชุฑูุง closureูุง ุจู ููุงู ุฑูุด ฺฉู ุฏุฑ ูุณุช ูพุงุฑุงูุชุฑูุง ุชุงุจุน ุงุณุชูุงุฏู ูโฺฉููุ ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง closureูุง ุดุจู ุจู ุชูุงุจุน ูุณุชูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 13 ุจุญุซ ุดุฏ.</p>
<p>ุชุง ุงูุฌุงุ ฺูุฏู ุฑูุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฏููุง ุฑุง ุฏุฏูโุงุฏุ ุงูุง ุงูฺฏููุง ุฏุฑ ูุฑ ุฌุง ฺฉู ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูู ุจู ฺฉ ุดฺฉู ฺฉุงุฑ ููโฺฉููุฏ. ุฏุฑ ุจุฑุฎ ูฺฉุงูโูุงุ ุงูฺฏููุง ุจุงุฏ ุบุฑูุงุจูโุฑุฏ (irrefutable) ุจุงุดูุฏุ ุฏุฑ ุดุฑุงุท ุฏฺฏุฑุ ูโุชูุงููุฏ ูุงุจูโุฑุฏ (refutable) ุจุงุดูุฏ. ุฏุฑ ุจุฎุด ุจุนุฏ ุงู ุฏู ููููู ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="refutability-whether-a-pattern-might-fail-to-match"><a class="header" href="#refutability-whether-a-pattern-might-fail-to-match">Refutability: Whether a Pattern Might Fail to Match</a></h2>
<p>ุงูฺฏููุง ุจู ุฏู ุดฺฉู ูุณุชูุฏ: ูุงุจูโุฑุฏ (refutable) ู ุบุฑูุงุจูโุฑุฏ (irrefutable). ุงูฺฏููุง ฺฉู ุจุฑุง ูุฑ ููุฏุงุฑ ููฺฉู ูุทุงุจูุช ุฏุงุฑูุฏ <em>ุบุฑูุงุจูโุฑุฏ</em> ูุณุชูุฏ. ุจูโุนููุงู ูุซุงูุ <code>x</code> ุฏุฑ ุนุจุงุฑุช <code>let x = 5;</code>ุ ุฒุฑุง <code>x</code> ุจุง ูุฑ ฺุฒ ูุทุงุจูุช ุฏุงุฑุฏ ู ุจูุงุจุฑุงู ููโุชูุงูุฏ ุงุฒ ุชุทุงุจู ุจุงุฒ ุจูุงูุฏ. ุงูฺฏููุง ฺฉู ููฺฉู ุงุณุช ุจุฑุง ุจุฑุฎ ููุงุฏุฑ ููฺฉู ูุทุงุจูุช ูุฏุงุดุชู ุจุงุดูุฏ <em>ูุงุจูโุฑุฏ</em> ูุณุชูุฏ. ุจูโุนููุงู ูุซุงูุ <code>Some(x)</code> ุฏุฑ ุนุจุงุฑุช <code>if let Some(x) = a_value</code>ุ ุฒุฑุง ุงฺฏุฑ ููุฏุงุฑ ุฏุฑ ูุชุบุฑ <code>a_value</code> <code>None</code> ุจุงุดุฏ ุจูโุฌุง <code>Some</code>ุ ุงูฺฏู <code>Some(x)</code> ูุทุงุจูุช ูุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ูพุงุฑุงูุชุฑูุง ุชุงุจุนุ ุนุจุงุฑุงุช <code>let</code>ุ ู ุญูููโูุง <code>for</code> ููุท ูโุชูุงููุฏ ุงูฺฏููุง ุบุฑูุงุจูโุฑุฏ ุจูพุฐุฑูุฏุ ุฒุฑุง ุจุฑูุงูู ููโุชูุงูุฏ ฺฉุงุฑ ูุนูุงุฏุงุฑ ุงูุฌุงู ุฏูุฏ ููุช ููุงุฏุฑ ูุทุงุจูุช ูุฏุงุฑูุฏ. ุนุจุงุฑุงุช <code>if let</code> ู <code>while let</code> ู ุนุจุงุฑุช <code>let</code>-<code>else</code> ุงูฺฏููุง ูุงุจูโุฑุฏ ู ุบุฑูุงุจูโุฑุฏ ุฑุง ูโูพุฐุฑูุฏุ ุงูุง ฺฉุงููพุงูุฑ ุฏุฑุจุงุฑู ุงูฺฏููุง ุบุฑูุงุจูโุฑุฏ ูุดุฏุงุฑ ูโุฏูุฏ ุฒุฑุง ุจูโุทูุฑ ุชุนุฑูโุดุฏู ุจุฑุง ูุฏุฑุช ุดฺฉุณุช ุงุญุชูุงู ุทุฑุงุญ ุดุฏูโุงูุฏ: ุนููฺฉุฑุฏ ุดุฑุท ุฏุฑ ุชูุงูุง ุขู ุงุณุช ฺฉู ุจุณุชู ุจู ููููุช ุง ุดฺฉุณุช ุจูโุทูุฑ ูุชูุงูุช ุนูู ฺฉูุฏ.</p>
<p>ุจูโุทูุฑ ฺฉูุ ูุจุงุฏ ูุงุฒ ุจู ูฺฏุฑุงู ุฏุฑ ููุฑุฏ ุชูุงุฒ ุจู ุงูฺฏููุง ูุงุจูโุฑุฏ ู ุบุฑูุงุจูโุฑุฏ ุฏุงุดุชู ุจุงุดุฏุ ุจุง ุงู ุญุงูุ ุจุงุฏ ุจุง ููููู ูุงุจูโุฑุฏ ุจูุฏู ุขุดูุง ุจุงุดุฏ ุชุง ุจุชูุงูุฏ ุฒูุงู ฺฉู ุขู ุฑุง ุฏุฑ ฺฉ ูพุงู ุฎุทุง ูโุจูุฏุ ูุงฺฉูุด ูุดุงู ุฏูุฏ. ุฏุฑ ุงู ููุงุฑุฏุ ุจุงุฏ ุง ุงูฺฏู ุฑุง ุชุบุฑ ุฏูุฏ ุง ุณุงุฎุชุงุฑ ฺฉู ุงูฺฏู ุฑุง ุจุง ุขู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจุณุชู ุจู ุฑูุชุงุฑ ููุฑุฏูุธุฑ ฺฉุฏ ุชุบุฑ ุฏูุฏ.</p>
<p>ุจุงุฏ ุจู ูุซุงู ูฺฏุงู ฺฉูู ฺฉู ููุช ุณุน ูโฺฉูู ุงุฒ ฺฉ ุงูฺฏู ูุงุจูโุฑุฏ ุฌุง ฺฉู ุฑุงุณุช ูุงุฒ ุจู ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ุฏุงุฑุฏ ุงุณุชูุงุฏู ฺฉููุ ู ุจุฑุนฺฉุณุ ฺู ุงุชูุงู ูโุงูุชุฏ. ููุฑุณุช 19-8 ฺฉ ุนุจุงุฑุช <code>let</code> ุฑุง ูุดุงู ูโุฏูุฏุ ุงูุง ุจุฑุง ุงูฺฏู ูุง <code>Some(x)</code>ุ ฺฉ ุงูฺฏู ูุงุจูโุฑุฏ ูุดุฎุต ฺฉุฑุฏูโุงู. ููุงูโุทูุฑ ฺฉู ููฺฉู ุงุณุช ุงูุชุธุงุฑ ุฏุงุดุชู ุจุงุดุฏุ ุงู ฺฉุฏ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let some_option_value: Option&lt;i32&gt; = None;
</span>    let Some(x) = some_option_value;
<span class="boring">}</span></code></pre>
<figcaption>Listing 19-8: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูฺฏู ูุงุจูโุฑุฏ ุจุง <code>let</code></figcaption>
</figure>
<p>ุงฺฏุฑ ููุฏุงุฑ <code>some_option_value</code> <code>None</code> ุจุงุดุฏุ ูุทุงุจูุช ุจุง ุงูฺฏู <code>Some(x)</code> ุดฺฉุณุช ุฎูุงูุฏ ุฎูุฑุฏุ ุจู ุงู ูุนูุง ฺฉู ุงูฺฏู ูุงุจูโุฑุฏ ุงุณุช. ุจุง ุงู ุญุงูุ ุนุจุงุฑุช <code>let</code> ููุท ูโุชูุงูุฏ ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ุจูพุฐุฑุฏ ุฒุฑุง ฺุฒ ูุนุชุจุฑ ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ฺฉุฏ ุจุชูุงูุฏ ุจุง ููุฏุงุฑ <code>None</code> ุงูุฌุงู ุฏูุฏ. ุฏุฑ ุฒูุงู ฺฉุงููพุงูุ ุฑุงุณุช ุดฺฉุงุช ูโฺฉูุฏ ฺฉู ูุง ุณุน ฺฉุฑุฏูโุงู ุงุฒ ฺฉ ุงูฺฏู ูุงุจูโุฑุฏ ุฌุง ฺฉู ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ูุงุฒ ุงุณุช ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling patterns v0.1.0 (file:///projects/patterns)
error[E0005]: refutable pattern in local binding
 --&gt; src/main.rs:3:9
  |
3 |     let Some(x) = some_option_value;
  |         ^^^^^^^ pattern `None` not covered
  |
  = note: `let` bindings require an "irrefutable pattern", like a `struct` or an `enum` with only one variant
  = note: for more information, visit https://doc.rust-lang.org/book/ch18-02-refutability.html
  = note: the matched value is of type `Option&lt;i32&gt;`
help: you might want to use `let else` to handle the variant that isn't matched
  |
3 |     let Some(x) = some_option_value else { todo!() };
  |                                     ++++++++++++++++

For more information about this error, try `rustc --explain E0005`.
error: could not compile `patterns` (bin "patterns") due to 1 previous error
</code></pre>
<p>ุฒุฑุง ูุง ูุฑ ููุฏุงุฑ ูุนุชุจุฑ ุฑุง ุจุง ุงูฺฏู <code>Some(x)</code> ูพูุดุด ูุฏุงุฏู (ู ููโุชูุงูุณุชู ูพูุดุด ุฏูู!)ุ ุฑุงุณุช ุจูโุฏุฑุณุช ฺฉ ุฎุทุง ฺฉุงููพุงูุฑ ุชููุฏ ูโฺฉูุฏ.</p>
<p>ุงฺฏุฑ ฺฉ ุงูฺฏู ูุงุจูโุฑุฏ ุฏุงุดุชู ุจุงุดู ุฌุง ฺฉู ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ูุงุฒ ุงุณุชุ ูโุชูุงูู ุจุง ุชุบุฑ ฺฉุฏ ฺฉู ุงุฒ ุงูฺฏู ุงุณุชูุงุฏู ูโฺฉูุฏ ุขู ุฑุง ุฑูุน ฺฉูู: ุจูโุฌุง ุงุณุชูุงุฏู ุงุฒ <code>let</code>ุ ูโุชูุงูู ุงุฒ <code>if let</code> ุงุณุชูุงุฏู ฺฉูู. ุณูพุณ ุงฺฏุฑ ุงูฺฏู ูุทุงุจูุช ูุฏุงุดุชู ุจุงุดุฏุ ฺฉุฏ ุจูโุณุงุฏฺฏ ุงุฒ ุงุฌุฑุง ฺฉุฏ ุฏุงุฎู ุขฺฉููุงุฏูุง ุตุฑูโูุธุฑ ูโฺฉูุฏ ู ุฑุงู ุจุฑุง ุงุฏุงูู ูุนุชุจุฑ ูุฑุงูู ูโฺฉูุฏ. ููุฑุณุช 19-9 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ฺฉุฏ ุฏุฑ ููุฑุณุช 19-8 ุฑุง ุฑูุน ฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    let some_option_value: Option&lt;i32&gt; = None;
</span>    if let Some(x) = some_option_value {
        println!("{x}");
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-9: ุงุณุชูุงุฏู ุงุฒ <code>if let</code> ู ฺฉ ุจููฺฉ ุจุง ุงูฺฏููุง ูุงุจูโุฑุฏ ุจูโุฌุง <code>let</code></figcaption>
</figure>
<p>ูุง ุจู ฺฉุฏ ฺฉ ูุณุฑ ุฎุฑูุฌ ุฏุงุฏู! ุงู ฺฉุฏ ุงฺฉููู ฺฉุงููุงู ูุนุชุจุฑ ุงุณุช. ุจุง ุงู ุญุงูุ ุงฺฏุฑ ุจู <code>if let</code> ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ (ุงูฺฏู ฺฉู ููุดู ูุทุงุจูุช ุฏุงุฑุฏ)ุ ูุงููุฏ <code>x</code>ุ ุจุฏููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 19-10 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ฺฉุงููพุงูุฑ ฺฉ ูุดุฏุงุฑ ุฎูุงูุฏ ุฏุงุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    if let x = 5 {
        println!("{x}");
    };
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-10: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ุจุง <code>if let</code></figcaption>
</figure>
<p>ุฑุงุณุช ุดฺฉุงุช ูโฺฉูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ <code>if let</code> ุจุง ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ููุทู ูุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling patterns v0.1.0 (file:///projects/patterns)
warning: irrefutable `if let` pattern
 --&gt; src/main.rs:2:8
  |
2 |     if let x = 5 {
  |        ^^^^^^^^^
  |
  = note: this pattern will always match, so the `if let` is useless
  = help: consider replacing the `if let` with a `let`
  = note: `#[warn(irrefutable_let_patterns)]` on by default

warning: `patterns` (bin "patterns") generated 1 warning
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.39s
     Running `target/debug/patterns`
5
</code></pre>
<p>ุจู ุงู ุฏููุ ุจุงุฒููุง match ุจุงุฏ ุงุฒ ุงูฺฏููุง ูุงุจูโุฑุฏ ุงุณุชูุงุฏู ฺฉููุฏุ ุจูโุฌุฒ ุจุงุฒู ุขุฎุฑ ฺฉู ุจุงุฏ ุจุง ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ูุฑ ููุฏุงุฑ ุจุงูโูุงูุฏู ุฑุง ูุทุงุจูุช ุฏูุฏ. ุฑุงุณุช ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ฺฉ ุงูฺฏู ุบุฑูุงุจูโุฑุฏ ุฏุฑ ฺฉ <code>match</code> ุจุง ุชููุง ฺฉ ุจุงุฒู ุงุณุชูุงุฏู ฺฉููุ ุงูุง ุงู ูุญู ุจูโูฺู ููุฏ ูุณุช ู ูโุชูุงูุฏ ุจุง ฺฉ ุนุจุงุฑุช ุณุงุฏูโุชุฑ <code>let</code> ุฌุงฺฏุฒู ุดูุฏ.</p>
<p>ุงฺฉููู ฺฉู ูโุฏุงูุฏ ฺฉุฌุง ูโุชูุงู ุงุฒ ุงูฺฏููุง ุงุณุชูุงุฏู ฺฉุฑุฏ ู ุชูุงูุช ุจู ุงูฺฏููุง ูุงุจูโุฑุฏ ู ุบุฑูุงุจูโุฑุฏ ฺุณุชุ ุจุงุฏ ุชูุงู ูุญููุง ฺฉู ูโุชูุงูู ุจุฑุง ุงุฌุงุฏ ุงูฺฏููุง ุงุณุชูุงุฏู ฺฉูู ุฑุง ุจุฑุฑุณ ฺฉูู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="pattern-syntax"><a class="header" href="#pattern-syntax">Pattern Syntax</a></h2>
<p>ุฏุฑ ุงู ุจุฎุดุ ุชูุงู ูุญููุง ฺฉู ุฏุฑ ุงูฺฏููุง ูุนุชุจุฑ ูุณุชูุฏ ุฑุง ุฌูุนโุขูุฑ ฺฉุฑุฏู ู ุจุญุซ ูโฺฉูู ฺฉู ฺุฑุง ู ฺู ุฒูุงู ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุงุฒ ูุฑ ฺฉุฏุงู ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h3 id="matching-literals"><a class="header" href="#matching-literals">Matching Literals</a></h3>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 6 ุฏุฏุฏุ ูโุชูุงูุฏ ุงูฺฏููุง ุฑุง ูุณุชููุงู ุจุง ููุงุฏุฑ ุซุงุจุช (literals) ุชุทุจู ุฏูุฏ. ฺฉุฏ ุฒุฑ ุจุฑุฎ ุงุฒ ูุซุงูโูุง ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 1;

    match x {
        1 =&gt; println!("one"),
        2 =&gt; println!("two"),
        3 =&gt; println!("three"),
        _ =&gt; println!("anything"),
    }
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ <code>one</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ุฒุฑุง ููุฏุงุฑ ุฏุฑ <code>x</code> ุจุฑุงุจุฑ ุจุง 1 ุงุณุช. ุงู ูุญู ุฒูุงู ููุฏ ุงุณุช ฺฉู ุจุฎูุงูุฏ ฺฉุฏ ุดูุง ุฏุฑ ุตูุฑุช ุฏุฑุงูุช ฺฉ ููุฏุงุฑ ูุดุฎุต ุฎุงุต ุงูุฏุงู ุงูุฌุงู ุฏูุฏ.</p>
<h3 id="matching-named-variables"><a class="header" href="#matching-named-variables">Matching Named Variables</a></h3>
<p>ูุชุบุฑูุง ูุงูโฺฏุฐุงุฑโุดุฏู ุงูฺฏููุง ุบุฑูุงุจูโุฑุฏ ูุณุชูุฏ ฺฉู ุจุง ูุฑ ููุฏุงุฑ ูุทุงุจูุช ุฏุงุฑูุฏุ ู ูุง ุจุงุฑูุง ุฏุฑ ุงู ฺฉุชุงุจ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุจุง ุงู ุญุงูุ ุฒูุงู ฺฉู ุงุฒ ูุชุบุฑูุง ูุงูโฺฏุฐุงุฑโุดุฏู ุฏุฑ ุนุจุงุฑุงุช <code>match</code>ุ <code>if let</code>ุ ุง <code>while let</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉ ูพฺุฏฺฏ ูุฌูุฏ ุฏุงุฑุฏ. ุฒุฑุง ูุฑ ฺฉ ุงุฒ ุงู ููุน ุนุจุงุฑุงุช ฺฉ ุฏุงููู ุฌุฏุฏ ุฑุง ุดุฑูุน ูโฺฉููุฏุ ูุชุบุฑูุง ฺฉู ุจูโุนููุงู ุจุฎุด ุงุฒ ฺฉ ุงูฺฏู ุฏุฑ ุฏุงุฎู ุนุจุงุฑุช ุชุนุฑู ูโุดููุฏุ ูุชุบุฑูุง ุจุง ููุงู ูุงู ุฏุฑ ุฎุงุฑุฌ ุฑุง ูพูุดุด ูโุฏููุฏุ ููุงูโุทูุฑ ฺฉู ุจุฑุง ููู ูุชุบุฑูุง ุตุฏู ูโฺฉูุฏ. ุฏุฑ ููุฑุณุช 19-11ุ ฺฉ ูุชุบุฑ ุจู ูุงู <code>x</code> ุจุง ููุฏุงุฑ <code>Some(5)</code> ู ฺฉ ูุชุบุฑ <code>y</code> ุจุง ููุฏุงุฑ <code>10</code> ุชุนุฑู ูโฺฉูู. ุณูพุณ ฺฉ ุนุจุงุฑุช <code>match</code> ุฑู ููุฏุงุฑ <code>x</code> ุงุฌุงุฏ ูโฺฉูู. ุจู ุงูฺฏููุง ุฏุฑ ุจุงุฒููุง match ู ุฏุณุชูุฑ <code>println!</code> ุฏุฑ ุงูุชูุง ูฺฏุงู ฺฉูุฏ ู ุณุน ฺฉูุฏ ูุจู ุงุฒ ุงุฌุฑุง ุงู ฺฉุฏ ุง ุฎูุงูุฏู ุจุดุชุฑุ ุญุฏุณ ุจุฒูุฏ ฺฉู ฺฉุฏ ฺู ฺุฒ ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = Some(5);
    let y = 10;

    match x {
        Some(50) =&gt; println!("Got 50"),
        Some(y) =&gt; println!("Matched, y = {y}"),
        _ =&gt; println!("Default case, x = {x:?}"),
    }

    println!("at the end: x = {x:?}, y = {y}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-11: ฺฉ ุนุจุงุฑุช <code>match</code> ุจุง ุจุงุฒู ฺฉู ฺฉ ูุชุบุฑ ุฌุฏุฏ ูุนุฑู ูโฺฉูุฏ ฺฉู ูุชุบุฑ ููุฌูุฏ <code>y</code> ุฑุง ูพูุดุด ูโุฏูุฏ</figcaption>
</figure>
<p>ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ููุช ุนุจุงุฑุช <code>match</code> ุงุฌุฑุง ูโุดูุฏ ฺู ุงุชูุงู ูโุงูุชุฏ. ุงูฺฏู ููุฌูุฏ ุฏุฑ ุจุงุฒู ุงูู match ุจุง ููุฏุงุฑ ุชุนุฑูโุดุฏู <code>x</code> ูุทุงุจูุช ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ฺฉุฏ ุงุฏุงูู ูโุงุจุฏ.</p>
<p>ุงูฺฏู ููุฌูุฏ ุฏุฑ ุจุงุฒู ุฏูู match ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจู ูุงู <code>y</code> ูุนุฑู ูโฺฉูุฏ ฺฉู ุจุง ูุฑ ููุฏุงุฑ ุฏุฑูู ฺฉ <code>Some</code> ูุทุงุจูุช ุฎูุงูุฏ ุฏุงุดุช. ุงุฒ ุขูุฌุง ฺฉู ูุง ุฏุฑ ฺฉ ุฏุงููู ุฌุฏุฏ ุฏุงุฎู ุนุจุงุฑุช <code>match</code> ูุณุชูุ ุงู ฺฉ ูุชุบุฑ ุฌุฏุฏ <code>y</code> ุงุณุชุ ูู ูุชุบุฑ ฺฉู ุฏุฑ ุงุจุชุฏุง ุจุง ููุฏุงุฑ 10 ุชุนุฑู ฺฉุฑุฏู. ุงู binding ุฌุฏุฏ <code>y</code> ุจุง ูุฑ ููุฏุงุฑ ุฏุฑูู ฺฉ <code>Some</code> ูุทุงุจูุช ุฏุงุฑุฏุ ฺฉู ููุงู ฺุฒ ุงุณุช ฺฉู ูุง ุฏุฑ <code>x</code> ุฏุงุฑู. ุจูุงุจุฑุงูุ ุงู <code>y</code> ุฌุฏุฏ ุจู ููุฏุงุฑ ุฏุงุฎู <code>Some</code> ุฏุฑ <code>x</code> ูุชุตู ูโุดูุฏ. ุขู ููุฏุงุฑ <code>5</code> ุงุณุชุ ุจูุงุจุฑุงู ุนุจุงุฑุช ุจุฑุง ุขู ุจุงุฒู ุงุฌุฑุง ูโุดูุฏ ู <code>Matched, y = 5</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุงฺฏุฑ <code>x</code> ุจู ุฌุง <code>Some(5)</code> ฺฉ ููุฏุงุฑ <code>None</code> ุจูุฏุ ุงูฺฏููุง ููุฌูุฏ ุฏุฑ ุฏู ุจุงุฒู ุงูู ูุทุงุจูุช ูุฏุงุดุชูุฏุ ุจูุงุจุฑุงู ููุฏุงุฑ ุจู ุนูุงูุช ุฒุฑุฎุท (<code>_</code>) ูุทุงุจูุช ุฏุงุฏู ูโุดุฏ. ูุง ูุชุบุฑ <code>x</code> ุฑุง ุฏุฑ ุงูฺฏู ุจุงุฒู ุฒุฑุฎุท ูุนุฑู ูฺฉุฑุฏูุ ุจูุงุจุฑุงู <code>x</code> ุฏุฑ ุนุจุงุฑุช ููฺูุงู ููุงู <code>x</code> ุฎุงุฑุฌ ุงุณุช ฺฉู ูพูุดุด ุฏุงุฏู ูุดุฏู ุงุณุช. ุฏุฑ ุงู ุญุงูุช ูุฑุถุ ุนุจุงุฑุช <code>match</code> ูพุงู <code>Default case, x = None</code> ุฑุง ฺุงูพ ูโฺฉุฑุฏ.</p>
<p>ููุช ุนุจุงุฑุช <code>match</code> ุชูุงู ูโุดูุฏุ ุฏุงููู ุขู ูุฒ ูพุงุงู ูโุงุจุฏุ ู ูููโุทูุฑ ุฏุงููู <code>y</code> ุฏุงุฎู. ุฏุณุชูุฑ <code>println!</code> ุขุฎุฑ ูพุงู <code>at the end: x = Some(5), y = 10</code> ุฑุง ุชููุฏ ูโฺฉูุฏ.</p>
<p>ุจุฑุง ุงุฌุงุฏ ฺฉ ุนุจุงุฑุช <code>match</code> ฺฉู ููุงุฏุฑ <code>x</code> ู <code>y</code> ุฎุงุฑุฌ ุฑุง ููุงุณู ฺฉูุฏุ ุจู ุฌุง ูุนุฑู ฺฉ ูุชุบุฑ ุฌุฏุฏ ฺฉู ูุชุบุฑ ููุฌูุฏ <code>y</code> ุฑุง ูพูุดุด ูโุฏูุฏุ ุจุงุฏ ุงุฒ ฺฉ ูฺฏูุจุงู ุดุฑุท (match guard) ุงุณุชูุงุฏู ฺฉูู. ูุง ุฏุฑุจุงุฑู ูฺฏูุจุงูโูุง ุดุฑุท ุฏุฑ ุจุฎุด <a href="ch19-03-pattern-syntax.html#extra-conditionals-with-match-guards">โExtra Conditionals with Match Guardsโ</a><!-- ignore --> ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="multiple-patterns"><a class="header" href="#multiple-patterns">Multiple Patterns</a></h3>
<p>ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู <code>|</code>ุ ฺฉู ุนููฺฏุฑ <em>ุง</em> (or) ุจุฑุง ุงูฺฏููุง ุงุณุชุ ฺูุฏู ุงูฺฏู ุฑุง ูุทุงุจูุช ุฏูุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ฺฉุฏ ุฒุฑ ููุฏุงุฑ <code>x</code> ุฑุง ุจุง ุจุงุฒููุง match ุชุทุจู ูโุฏููุ ฺฉู ุจุงุฒู ุงูู ุขู ฺฉ ฺฏุฒูู <em>ุง</em> ุฏุงุฑุฏุ ุจู ุงู ูุนูุง ฺฉู ุงฺฏุฑ ููุฏุงุฑ <code>x</code> ุจุง ูุฑ ฺฉุฏุงู ุงุฒ ููุงุฏุฑ ุฏุฑ ุขู ุจุงุฒู ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ฺฉุฏ ุขู ุจุงุฒู ุงุฌุฑุง ูโุดูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 1;

    match x {
        1 | 2 =&gt; println!("one or two"),
        3 =&gt; println!("three"),
        _ =&gt; println!("anything"),
    }
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ <code>one or two</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<h3 id="matching-ranges-of-values-with-"><a class="header" href="#matching-ranges-of-values-with-">Matching Ranges of Values with <code>..=</code></a></h3>
<p>ูุญู <code>..=</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉ ุจุงุฒู ุดุงูู ููุงุฏุฑ ุฑุง ูุทุงุจูุช ุฏูู. ุฏุฑ ฺฉุฏ ุฒุฑุ ููุช ฺฉ ุงูฺฏู ุจุง ูุฑ ฺฉุฏุงู ุงุฒ ููุงุฏุฑ ุฏุฑ ุจุงุฒู ุฏุงุฏูโุดุฏู ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ุขู ุจุงุฒู ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 5;

    match x {
        1..=5 =&gt; println!("one through five"),
        _ =&gt; println!("something else"),
    }
<span class="boring">}</span></code></pre></pre>
<p>ุงฺฏุฑ ููุฏุงุฑ <code>x</code> ุจุฑุงุจุฑ ุจุง 1ุ 2ุ 3ุ 4 ุง 5 ุจุงุดุฏุ ุจุงุฒู ุงูู ูุทุงุจูุช ุฎูุงูุฏ ุฏุงุดุช. ุงู ูุญู ุจุฑุง ููุงุฏุฑ ูุทุงุจูุช ฺูุฏฺฏุงูู ุฑุงุญุชโุชุฑ ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>|</code> ุจุฑุง ุจุงู ููุงู ุงุฏู ุงุณุชุ ุงฺฏุฑ ุจุฎูุงูู ุงุฒ <code>|</code> ุงุณุชูุงุฏู ฺฉููุ ุจุงุฏ <code>1 | 2 | 3 | 4 | 5</code> ุฑุง ูุดุฎุต ฺฉูู. ูุดุฎุต ฺฉุฑุฏู ฺฉ ุจุงุฒู ุจุณุงุฑ ฺฉูุชุงูโุชุฑ ุงุณุชุ ุจูโูฺู ุงฺฏุฑ ุจุฎูุงููุ ุจุฑุง ูุซุงูุ ูุฑ ุนุฏุฏ ุจู 1 ู 1,000 ุฑุง ูุทุงุจูุช ุฏูู!</p>
<p>ฺฉุงููพุงูุฑ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุจุงุฒู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุฎุงู ูุณุชุ ู ฺูู ุชููุง ููุนโูุง ฺฉู ุฑุงุณุช ูโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู ุขุง ฺฉ ุจุงุฒู ุฎุงู ุงุณุช ุง ูู <code>char</code> ู ููุงุฏุฑ ุนุฏุฏ ูุณุชูุฏุ ุจุงุฒูโูุง ููุท ุจุฑุง ููุงุฏุฑ ุนุฏุฏ ุง <code>char</code> ูุฌุงุฒ ูุณุชูุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุจุงุฒูโูุง ุงุฒ ููุงุฏุฑ <code>char</code> ุขูุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 'c';

    match x {
        'a'..='j' =&gt; println!("early ASCII letter"),
        'k'..='z' =&gt; println!("late ASCII letter"),
        _ =&gt; println!("something else"),
    }
<span class="boring">}</span></code></pre></pre>
<p>ุฑุงุณุช ูโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู <code>'c'</code> ุฏุฑ ุจุงุฒู ุงูฺฏู ุงูู ุงุณุช ู ูพุงู <code>early ASCII letter</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<h3 id="destructuring-to-break-apart-values"><a class="header" href="#destructuring-to-break-apart-values">Destructuring to Break Apart Values</a></h3>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ุงูฺฏููุง ุจุฑุง ุชุฎุฑุจ (destructure) ุณุงุฎุชุงุฑูุง (structs)ุ enumsุ ู tupleโูุง ุงุณุชูุงุฏู ฺฉูู ุชุง ุงุฒ ุจุฎุดโูุง ูุฎุชูู ุงู ููุงุฏุฑ ุงุณุชูุงุฏู ฺฉูู. ุจุงุฏ ุจู ูุฑ ููุน ููุฏุงุฑ ูฺฏุงู ุจูุฏุงุฒู.</p>
<h4 id="destructuring-structs"><a class="header" href="#destructuring-structs">Destructuring Structs</a></h4>
<p>ููุฑุณุช 19-12 ฺฉ struct ุจู ูุงู <code>Point</code> ุฑุง ุจุง ุฏู ููุฏุ <code>x</code> ู <code>y</code> ูุดุงู ูโุฏูุฏ ฺฉู ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูฺฏู ุฏุฑ ฺฉ ุนุจุงุฑุช <code>let</code> ุขู ุฑุง ุชุฎุฑุจ ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p = Point { x: 0, y: 7 };

    let Point { x: a, y: b } = p;
    assert_eq!(0, a);
    assert_eq!(7, b);
}</code></pre></pre>
<figcaption>Listing 19-12: ุชุฎุฑุจ ููุฏูุง ฺฉ struct ุจู ูุชุบุฑูุง ุฌุฏุงฺฏุงูู</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูุชุบุฑูุง <code>a</code> ู <code>b</code> ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุจุง ููุงุฏุฑ ููุฏูุง <code>x</code> ู <code>y</code> ุงุฒ struct <code>p</code> ูุทุงุจูุช ุฏุงุฑูุฏ. ุงู ูุซุงู ูุดุงู ูโุฏูุฏ ฺฉู ูุงู ูุชุบุฑูุง ุฏุฑ ุงูฺฏู ูุงุฒ ุจู ูุทุงุจูุช ุจุง ูุงู ููุฏูุง struct ูุฏุงุฑูุฏ. ุจุง ุงู ุญุงูุ ูุนูููุงู ูุงู ูุชุบุฑูุง ุจุง ูุงู ููุฏูุง ูุทุงุจูุช ุฏุงุฏู ูโุดููุฏ ุชุง ุงุฏุขูุฑ ุงูฺฉู ฺฉุฏุงู ูุชุบุฑูุง ุงุฒ ฺฉุฏุงู ููุฏูุง ุขูุฏูโุงูุฏ ุขุณุงูโุชุฑ ุดูุฏ. ุจูโุฏูู ุงู ุงุณุชูุงุฏู ูุนููู ู ุจูโุฏูู ุงูฺฉู ููุดุชู <code>let Point { x: x, y: y } = p;</code> ุชฺฉุฑุงุฑ ุฒุงุฏ ุฏุงุฑุฏุ ุฑุงุณุช ฺฉ ูุญู ฺฉูุชุงู ุจุฑุง ุงูฺฏููุง ฺฉู ููุฏูุง struct ุฑุง ูุทุงุจูุช ูโุฏููุฏ ูุฑุงูู ูโฺฉูุฏ: ููุท ฺฉุงู ุงุณุช ูุงู ููุฏ struct ุฑุง ูุณุช ฺฉูุฏ ู ูุชุบุฑูุง ฺฉู ุงุฒ ุงูฺฏู ุงุฌุงุฏ ูโุดููุฏ ููุงู ูุงูโูุง ุฑุง ุฎูุงููุฏ ุฏุงุดุช. ููุฑุณุช 19-13 ุจู ููุงู ุฑูุด ฺฉู ฺฉุฏ ุฏุฑ ููุฑุณุช 19-12 ุนูู ูโฺฉูุฏุ ุงูุง ูุชุบุฑูุง ุงุฌุงุฏุดุฏู ุฏุฑ ุงูฺฏู <code>let</code> ุจูโุฌุง <code>a</code> ู <code>b</code>ุ <code>x</code> ู <code>y</code> ูุณุชูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p = Point { x: 0, y: 7 };

    let Point { x, y } = p;
    assert_eq!(0, x);
    assert_eq!(7, y);
}</code></pre></pre>
<figcaption>Listing 19-13: ุชุฎุฑุจ ููุฏูุง struct ุจุง ุงุณุชูุงุฏู ุงุฒ ูุญู ฺฉูุชุงู ููุฏ struct</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูุชุบุฑูุง <code>x</code> ู <code>y</code> ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุจุง ููุฏูุง <code>x</code> ู <code>y</code> ุงุฒ ูุชุบุฑ <code>p</code> ูุทุงุจูุช ุฏุงุฑูุฏ. ูุชุฌู ุงู ุงุณุช ฺฉู ูุชุบุฑูุง <code>x</code> ู <code>y</code> ููุงุฏุฑ ุงุฒ ุณุงุฎุชุงุฑ <code>p</code> ุฑุง ุดุงูู ูโุดููุฏ.</p>
<p>ูุง ููฺูู ูโุชูุงูู ุจุง ููุงุฏุฑ ุซุงุจุช (literals) ุจูโุนููุงู ุจุฎุด ุงุฒ ุงูฺฏู struct ุชุฎุฑุจ ฺฉููุ ุจูโุฌุง ุงุฌุงุฏ ูุชุบุฑูุง ุจุฑุง ููู ููุฏูุง. ุงูุฌุงู ุงู ฺฉุงุฑ ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุจุฑุฎ ุงุฒ ููุฏูุง ุฑุง ุจุฑุง ููุงุฏุฑ ุฎุงุต ุชุณุช ฺฉููุ ุฏุฑ ุญุงู ฺฉู ูุชุบุฑูุง ุจุฑุง ุชุฎุฑุจ ููุฏูุง ุฏฺฏุฑ ุงุฌุงุฏ ูโฺฉูู.</p>
<p>ุฏุฑ ููุฑุณุช 19-14ุ ฺฉ ุนุจุงุฑุช <code>match</code> ุฏุงุฑู ฺฉู ููุงุฏุฑ <code>Point</code> ุฑุง ุจู ุณู ุญุงูุช ุชูุณู ูโฺฉูุฏ: ููุงุท ฺฉู ูุณุชููุงู ุฑู ูุญูุฑ <code>x</code> ูุฑุงุฑ ุฏุงุฑูุฏ (ฺฉู ุฏุฑ ุตูุฑุช ุฏุฑุณุช ุงุณุช ฺฉู <code>y = 0</code>)ุ ุฑู ูุญูุฑ <code>y</code> (<code>x = 0</code>)ุ ุง ูฺโฺฉุฏุงู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">struct Point {
</span><span class="boring">    x: i32,
</span><span class="boring">    y: i32,
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let p = Point { x: 0, y: 7 };

    match p {
        Point { x, y: 0 } =&gt; println!("On the x axis at {x}"),
        Point { x: 0, y } =&gt; println!("On the y axis at {y}"),
        Point { x, y } =&gt; {
            println!("On neither axis: ({x}, {y})");
        }
    }
}</code></pre></pre>
<figcaption>Listing 19-14: ุชุฎุฑุจ ู ุชุทุจู ููุงุฏุฑ ุซุงุจุช ุฏุฑ ฺฉ ุงูฺฏู</figcaption>
</figure>
<p>ุจุงุฒู ุงูู ูุฑ ููุทูโุง ฺฉู ุฑู ูุญูุฑ <code>x</code> ูุฑุงุฑ ุฏุงุฑุฏ ุฑุง ุจุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ููุฏ <code>y</code> ุฏุฑ ุตูุฑุช ูุทุงุจูุช ุฏุงุฑุฏ ฺฉู ููุฏุงุฑ ุขู ุจุง ููุฏุงุฑ ุซุงุจุช <code>0</code> ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏุ ุชุทุจู ูโุฏูุฏ. ุงูฺฏู ููฺูุงู ฺฉ ูุชุบุฑ <code>x</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ูโุชูุงูู ุฏุฑ ฺฉุฏ ุงู ุจุงุฒู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุจูโุทูุฑ ูุดุงุจูุ ุจุงุฒู ุฏูู ูุฑ ููุทู ุฑู ูุญูุฑ <code>y</code> ุฑุง ุจุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ููุฏ <code>x</code> ุฏุฑ ุตูุฑุช ฺฉู ููุฏุงุฑ ุขู <code>0</code> ุจุงุดุฏ ูุทุงุจูุช ุฏุงุฑุฏ ู ฺฉ ูุชุบุฑ <code>y</code> ุจุฑุง ููุฏุงุฑ ููุฏ <code>y</code> ุงุฌุงุฏ ูโฺฉูุฏ. ุจุงุฒู ุณูู ูฺ ููุฏุงุฑ ุซุงุจุช ุฑุง ูุดุฎุต ููโฺฉูุฏุ ุจูุงุจุฑุงู ูุฑ <code>Point</code> ุฏฺฏุฑ ุฑุง ูุทุงุจูุช ูโุฏูุฏ ู ูุชุบุฑูุง ุจุฑุง ูุฑ ุฏู ููุฏ <code>x</code> ู <code>y</code> ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุงู ูุซุงูุ ููุฏุงุฑ <code>p</code> ุจู ูุทู <code>x</code> ฺฉู ููุฏุงุฑ <code>0</code> ุฏุงุฑุฏุ ุจุง ุจุงุฒู ุฏูู ูุทุงุจูุช ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุงู ฺฉุฏ ูพุงู <code>On the y axis at 7</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉ ุนุจุงุฑุช <code>match</code> ูพุณ ุงุฒ ุงูุชู ุงููู ุงูฺฏู ูุทุงุจูุช ูุชููู ูโุดูุฏุ ุจูุงุจุฑุงู ุญุช ุงฺฏุฑ <code>Point { x: 0, y: 0 }</code> ุฑู ูุญูุฑ <code>x</code> ู ูุญูุฑ <code>y</code> ุจุงุดุฏุ ุงู ฺฉุฏ ููุท ูพุงู <code>On the x axis at 0</code> ุฑุง ฺุงูพ ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<h4 id="destructuring-enums"><a class="header" href="#destructuring-enums">Destructuring Enums</a></h4>
<p>ูุง ุฏุฑ ุงู ฺฉุชุงุจ enums ุฑุง ุชุฎุฑุจ ฺฉุฑุฏูโุงู (ุจุฑุง ูุซุงูุ ููุฑุณุช 6-5 ุฏุฑ ูุตู 6)ุ ุงูุง ูููุฒ ุจูโุทูุฑ ุฎุงุต ุจุญุซ ูฺฉุฑุฏูโุงู ฺฉู ุงูฺฏู ุชุฎุฑุจ ฺฉ enum ูุทุงุจู ุจุง ูุญูู ุชุนุฑู ุฏุงุฏูโูุง ุฐุฎุฑูโุดุฏู ุฏุฑูู enum ุงุณุช. ุจูโุนููุงู ูุซุงูุ ุฏุฑ ููุฑุณุช 19-15 ุงุฒ enum <code>Message</code> ุงุฒ ููุฑุณุช 6-2 ุงุณุชูุงุฏู ูโฺฉูู ู ฺฉ <code>match</code> ุจุง ุงูฺฏููุง ูโููุณู ฺฉู ูุฑ ููุฏุงุฑ ุฏุงุฎู ุฑุง ุชุฎุฑุจ ูโฺฉููุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

fn main() {
    let msg = Message::ChangeColor(0, 160, 255);

    match msg {
        Message::Quit =&gt; {
            println!("The Quit variant has no data to destructure.");
        }
        Message::Move { x, y } =&gt; {
            println!("Move in the x direction {x} and in the y direction {y}");
        }
        Message::Write(text) =&gt; {
            println!("Text message: {text}");
        }
        Message::ChangeColor(r, g, b) =&gt; {
            println!("Change the color to red {r}, green {g}, and blue {b}");
        }
    }
}</code></pre></pre>
<figcaption>Listing 19-15: ุชุฎุฑุจ ูุชุบุฑูุง enum ฺฉู ููุงุฏุฑ ูุฎุชูู ุฏุงุฑูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูพุงู <code>Change the color to red 0, green 160, and blue 255</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ููุฏุงุฑ <code>msg</code> ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ฺฉุฏ ุงุฒ ุจุงุฒููุง ุฏฺฏุฑ ุงุฌุฑุง ุดูุฏ.</p>
<p>ุจุฑุง ูุชุบุฑูุง enum ุจุฏูู ูฺ ุฏุงุฏูโุงุ ูุงููุฏ <code>Message::Quit</code>ุ ููโุชูุงู ููุฏุงุฑ ุฑุง ุจุดุชุฑ ุชุฎุฑุจ ฺฉุฑุฏ. ููุท ูโุชูุงู ุฑู ููุฏุงุฑ ุซุงุจุช <code>Message::Quit</code> ูุทุงุจูุช ุฏุงุฏุ ู ูฺ ูุชุบุฑ ุฏุฑ ุขู ุงูฺฏู ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>ุจุฑุง ูุชุบุฑูุง enum ุดุจู ุจู structุ ูุงููุฏ <code>Message::Move</code>ุ ูโุชูุงูู ุงุฒ ุงูฺฏู ูุดุงุจู ุงูฺฏู ูุดุฎุตโุดุฏู ุจุฑุง ุชุทุจู structs ุงุณุชูุงุฏู ฺฉูู. ูพุณ ุงุฒ ูุงู ูุชุบุฑุ ุขฺฉููุงุฏ ุจุงุฒ ูโฺฉูู ู ุณูพุณ ููุฏูุง ุฑุง ุจุง ูุชุบุฑูุง ูุณุช ูโฺฉูู ุชุง ุจุฎุดโูุง ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ฺฉุฏ ุงู ุจุงุฒู ุชุฌุฒู ฺฉูู. ุฏุฑ ุงูุฌุง ุงุฒ ูุฑู ฺฉูุชุงู ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 19-13 ุงุณุชูุงุฏู ฺฉุฑุฏู ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ุจุฑุง ูุชุบุฑูุง enum ุดุจู ุจู tupleุ ูุงููุฏ <code>Message::Write</code> ฺฉู ฺฉ tuple ุจุง ฺฉ ุนูุตุฑ ุฏุงุฑุฏ ู <code>Message::ChangeColor</code> ฺฉู ฺฉ tuple ุจุง ุณู ุนูุตุฑ ุฏุงุฑุฏุ ุงูฺฏู ูุดุงุจู ุงูฺฏู ุงุณุช ฺฉู ุจุฑุง ุชุทุจู tupleโูุง ูุดุฎุต ูโฺฉูู. ุชุนุฏุงุฏ ูุชุบุฑูุง ุฏุฑ ุงูฺฏู ุจุงุฏ ุจุง ุชุนุฏุงุฏ ุนูุงุตุฑ ุฏุฑ ูุชุบุฑ ฺฉู ุชุทุจู ูโุฏูู ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.</p>
<h4 id="destructuring-nested-structs-and-enums"><a class="header" href="#destructuring-nested-structs-and-enums">Destructuring Nested Structs and Enums</a></h4>
<p>ุชุงฺฉูููุ ูุซุงูโูุง ูุง ููู ุชุทุจู ุณุงุฎุชุงุฑูุง ุง enums ุฏุฑ ฺฉ ุณุทุญ ุนูู ุจูุฏูโุงูุฏุ ุงูุง ุชุทุจู ูโุชูุงูุฏ ุฑู ุขุชูโูุง ุชู ุฏุฑ ุชู ูุฒ ฺฉุงุฑ ฺฉูุฏ! ุจุฑุง ูุซุงูุ ูโุชูุงูู ฺฉุฏ ุฏุฑ ููุฑุณุช 19-15 ุฑุง ุจุงุฒุณุงุฒ ฺฉูู ุชุง ุงุฒ ุฑูฺฏโูุง RGB ู HSV ุฏุฑ ูพุงู <code>ChangeColor</code> ูพุดุชุจุงู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 19-16 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">enum Color {
    Rgb(i32, i32, i32),
    Hsv(i32, i32, i32),
}

enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(Color),
}

fn main() {
    let msg = Message::ChangeColor(Color::Hsv(0, 160, 255));

    match msg {
        Message::ChangeColor(Color::Rgb(r, g, b)) =&gt; {
            println!("Change color to red {r}, green {g}, and blue {b}");
        }
        Message::ChangeColor(Color::Hsv(h, s, v)) =&gt; {
            println!("Change color to hue {h}, saturation {s}, value {v}");
        }
        _ =&gt; (),
    }
}</code></pre></pre>
<figcaption>Listing 19-16: ุชุทุจู ุฑู enums ุชู ุฏุฑ ุชู</figcaption>
</figure>
<p>ุงูฺฏู ุจุงุฒู ุงูู ุฏุฑ ุนุจุงุฑุช <code>match</code> ฺฉ ูุชุบุฑ enum ุจู ูุงู <code>Message::ChangeColor</code> ุฑุง ุชุทุจู ูโุฏูุฏ ฺฉู ุดุงูู ฺฉ ูุชุบุฑ <code>Color::Rgb</code> ุงุณุชุ ุณูพุณ ุงูฺฏู ุจู ุณู ููุฏุงุฑ ุฏุงุฎู <code>i32</code> ูุชุตู ูโุดูุฏ. ุงูฺฏู ุจุงุฒู ุฏูู ูุฒ ฺฉ ูุชุบุฑ enum ุจู ูุงู <code>Message::ChangeColor</code> ุฑุง ุชุทุจู ูโุฏูุฏุ ุงูุง enum ุฏุงุฎู ุจู ุฌุง ุขู <code>Color::Hsv</code> ุฑุง ูุทุงุจูุช ูโุฏูุฏ. ูุง ูโุชูุงูู ุงู ุดุฑุงุท ูพฺุฏู ุฑุง ุฏุฑ ฺฉ ุนุจุงุฑุช <code>match</code> ูุดุฎุต ฺฉููุ ุญุช ุงฺฏุฑ ุฏู enum ุฏุฑฺฏุฑ ุจุงุดูุฏ.</p>
<h4 id="destructuring-structs-and-tuples"><a class="header" href="#destructuring-structs-and-tuples">Destructuring Structs and Tuples</a></h4>
<p>ูุง ูโุชูุงูู ุงูฺฏููุง ุชุฎุฑุจ ุฑุง ุจู ุฑูุดโูุง ูพฺุฏูโุชุฑ ุชุฑฺฉุจุ ุชุทุจู ู ุชู ุฏุฑ ุชู ฺฉูู. ูุซุงู ุฒุฑ ฺฉ ุชุฎุฑุจ ูพฺุฏู ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุฑ ุขู ุณุงุฎุชุงุฑูุง ู tupleโูุง ุฑุง ุฏุงุฎู ฺฉ tuple ุชู ุฏุฑ ุชู ูโฺฉูู ู ุชูุงู ููุงุฏุฑ ุงููู ุฑุง ุชุฎุฑุจ ูโฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span><span class="boring">    struct Point {
</span><span class="boring">        x: i32,
</span><span class="boring">        y: i32,
</span><span class="boring">    }
</span><span class="boring">
</span>    let ((feet, inches), Point { x, y }) = ((3, 10), Point { x: 3, y: -10 });
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงููุงุน ูพฺุฏู ุฑุง ุจู ุงุฌุฒุง ุณุงุฒูุฏู ุขูโูุง ุจุดฺฉูู ุชุง ุจุชูุงูู ููุงุฏุฑ ฺฉู ุจู ุขูโูุง ุนูุงูู ุฏุงุฑู ุฑุง ุฌุฏุงฺฏุงูู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุชุฎุฑุจ ุจุง ุงูฺฏููุง ฺฉ ุฑูุด ุฑุงุญุช ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุจุฎุดโูุง ุงุฒ ููุงุฏุฑุ ูุงููุฏ ููุฏุงุฑ ูุฑ ููุฏ ุฏุฑ ฺฉ ุณุงุฎุชุงุฑุ ุจูโุตูุฑุช ุฌุฏุงฺฏุงูู ุงุณุช.</p>
<h3 id="ignoring-values-in-a-pattern"><a class="header" href="#ignoring-values-in-a-pattern">Ignoring Values in a Pattern</a></h3>
<p>ฺฏุงู ุงููุงุช ููุฏ ุงุณุช ฺฉู ููุงุฏุฑ ุฑุง ุฏุฑ ฺฉ ุงูฺฏู ูุงุฏุฏู ุจฺฏุฑุฏุ ูุงููุฏ ุจุงุฒู ุขุฎุฑ ฺฉ <code>match</code>ุ ุจุฑุง ุฏุฑุงูุช ฺฉ catchall ฺฉู ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏูุฏ ุงูุง ุชูุงู ููุงุฏุฑ ุจุงูโูุงูุฏู ููฺฉู ุฑุง ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ. ฺูุฏู ุฑูุด ุจุฑุง ูุงุฏุฏู ฺฏุฑูุชู ููุงุฏุฑ ฺฉุงูู ุง ุจุฎุดโูุง ุงุฒ ููุงุฏุฑ ุฏุฑ ฺฉ ุงูฺฏู ูุฌูุฏ ุฏุงุฑุฏ: ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู <code>_</code> (ฺฉู ุฏุฏูโุงุฏ)ุ ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู <code>_</code> ุฏุฑูู ฺฉ ุงูฺฏู ุฏฺฏุฑุ ุงุณุชูุงุฏู ุงุฒ ูุงู ฺฉู ุจุง ฺฉ ุฒุฑุฎุท ุดุฑูุน ูโุดูุฏุ ุง ุงุณุชูุงุฏู ุงุฒ <code>..</code> ุจุฑุง ูุงุฏุฏู ฺฏุฑูุชู ุจุฎุดโูุง ุจุงูโูุงูุฏู ฺฉ ููุฏุงุฑ. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฺฏููู ู ฺุฑุง ุงุฒ ูุฑ ฺฉ ุงุฒ ุงู ุงูฺฏููุง ุงุณุชูุงุฏู ฺฉูู.</p>
<h4 id="ignoring-an-entire-value-with-_"><a class="header" href="#ignoring-an-entire-value-with-_">Ignoring an Entire Value with <code>_</code></a></h4>
<p>ูุง ุงุฒ ุฒุฑุฎุท ุจูโุนููุงู ฺฉ ุงูฺฏู wildcard ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู ฺฉู ุจุง ูุฑ ููุฏุงุฑ ูุทุงุจูุช ุฏุงุฑุฏ ุงูุง ุจู ููุฏุงุฑ ูุชุตู ููโุดูุฏ. ุงู ุจูโูฺู ุจูโุนููุงู ุจุงุฒู ุขุฎุฑ ุฏุฑ ฺฉ ุนุจุงุฑุช <code>match</code> ููุฏ ุงุณุชุ ุงูุง ูุง ููฺูู ูโุชูุงูู ุขู ุฑุง ุฏุฑ ูุฑ ุงูฺฏู ุงุณุชูุงุฏู ฺฉููุ ุงุฒ ุฌููู ูพุงุฑุงูุชุฑูุง ุชุงุจุนุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 19-17 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn foo(_: i32, y: i32) {
    println!("This code only uses the y parameter: {y}");
}

fn main() {
    foo(3, 4);
}</code></pre></pre>
<figcaption>Listing 19-17: ุงุณุชูุงุฏู ุงุฒ <code>_</code> ุฏุฑ ฺฉ ุงูุถุง ุชุงุจุน</figcaption>
</figure>
<p>ุงู ฺฉุฏ ููุฏุงุฑ <code>3</code> ุฑุง ฺฉู ุจูโุนููุงู ุขุฑฺฏููุงู ุงูู ุงุฑุณุงู ุดุฏู ุงุณุชุ ฺฉุงููุงู ูุงุฏุฏู ูโฺฏุฑุฏ ู ูพุงู <code>This code only uses the y parameter: 4</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุจุดุชุฑ ููุงุฑุฏุ ุฒูุงู ฺฉู ุฏฺฏุฑ ูุงุฒ ุจู ฺฉ ูพุงุฑุงูุชุฑ ุชุงุจุน ุฎุงุต ูุฏุงุฑุฏุ ุงูุถุง ุชุงุจุน ุฑุง ุชุบุฑ ูโุฏูุฏ ุชุง ุขู ูพุงุฑุงูุชุฑ ุงุณุชูุงุฏูโูุดุฏู ุฑุง ุดุงูู ูุดูุฏ. ูุงุฏุฏู ฺฏุฑูุชู ฺฉ ูพุงุฑุงูุชุฑ ุชุงุจุน ูโุชูุงูุฏ ุจูโูฺู ุฏุฑ ููุงุฑุฏ ููุฏ ุจุงุดุฏ ฺฉูุ ุจุฑุง ูุซุงูุ ุดูุง ุฏุฑ ุญุงู ูพุงุฏูโุณุงุฒ ฺฉ trait ูุณุชุฏ ู ุจู ฺฉ ุงูุถุง ุฎุงุต ูุงุฒ ุฏุงุฑุฏุ ุงูุง ุจุฏูู ุชุงุจุน ุฏุฑ ูพุงุฏูโุณุงุฒ ุดูุง ูุงุฒ ุจู ฺฉ ุงุฒ ูพุงุฑุงูุชุฑูุง ูุฏุงุฑุฏ. ุฏุฑ ุงู ุตูุฑุชุ ุงุฒ ุฏุฑุงูุช ูุดุฏุงุฑ ฺฉุงููพุงูุฑ ุฏุฑุจุงุฑู ูพุงุฑุงูุชุฑูุง ุงุณุชูุงุฏูโูุดุฏู ุฌููฺฏุฑ ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุงฺฏุฑ ุจู ุฌุง ุขู ุงุฒ ฺฉ ูุงู ุงุณุชูุงุฏู ูโฺฉุฑุฏุฏุ ูุดุฏุงุฑ ุฏุฑุงูุช ูโฺฉุฑุฏุฏ.</p>
<h4 id="ignoring-parts-of-a-value-with-a-nested-_"><a class="header" href="#ignoring-parts-of-a-value-with-a-nested-_">Ignoring Parts of a Value with a Nested <code>_</code></a></h4>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ <code>_</code> ุฏุฑ ุฏุงุฎู ฺฉ ุงูฺฏู ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉูู ุชุง ููุท ุจุฎุด ุงุฒ ฺฉ ููุฏุงุฑ ุฑุง ูุงุฏุฏู ุจฺฏุฑู. ุจุฑุง ูุซุงูุ ููุช ูโุฎูุงูู ููุท ุจุฎุด ุงุฒ ฺฉ ููุฏุงุฑ ุฑุง ุชุณุช ฺฉูู ุงูุง ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุจุฎุดโูุง ุฏฺฏุฑ ุฏุฑ ฺฉุฏ ฺฉู ูโุฎูุงูู ุงุฌุฑุง ฺฉูู ูุฏุงุฑู. ููุฑุณุช 19-18 ฺฉุฏ ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ูุณุฆูู ูุฏุฑุช ููุฏุงุฑ ฺฉ ุชูุธู ุงุณุช. ูุงุฒููุฏโูุง ุชุฌุงุฑ ุงู ุงุณุช ฺฉู ฺฉุงุฑุจุฑ ูุจุงุฏ ุงุฌุงุฒู ุฏุงุดุชู ุจุงุดุฏ ฺฉ ุณูุงุฑุดโุณุงุฒ ููุฌูุฏ ุจุฑุง ฺฉ ุชูุธู ุฑุง ุจุงุฒููุณ ฺฉูุฏุ ุงูุง ูโุชูุงูุฏ ุชูุธู ุฑุง ูุบู ฺฉูุฏ ู ุจู ุขู ฺฉ ููุฏุงุฑ ุจุฏูุฏ ุงฺฏุฑ ุฏุฑ ุญุงู ุญุงุถุฑ ูุบู ุดุฏู ุจุงุดุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut setting_value = Some(5);
    let new_setting_value = Some(10);

    match (setting_value, new_setting_value) {
        (Some(_), Some(_)) =&gt; {
            println!("Can't overwrite an existing customized value");
        }
        _ =&gt; {
            setting_value = new_setting_value;
        }
    }

    println!("setting is {setting_value:?}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-18: ุงุณุชูุงุฏู ุงุฒ ฺฉ ุฒุฑุฎุท ุฏุฑ ุฏุงุฎู ุงูฺฏููุง ฺฉู ุจุง ูุชุบุฑูุง <code>Some</code> ูุทุงุจูุช ุฏุงุฑูุฏ ููุช ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ุฏุงุฎู <code>Some</code> ูุฏุงุฑู</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูพุงู <code>Can't overwrite an existing customized value</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ู ุณูพุณ <code>setting is Some(5)</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ุฏุฑ ุจุงุฒู ุงูู matchุ ูุงุฒ ุจู ูุทุงุจูุช ุง ุงุณุชูุงุฏู ุงุฒ ููุงุฏุฑ ุฏุงุฎู ูุฑ ฺฉ ุงุฒ ูุชุบุฑูุง <code>Some</code> ูุฏุงุฑูุ ุงูุง ุจุงุฏ ุญุงูุชโูุง ุฑุง ฺฉู ุฏุฑ ุขูโูุง <code>setting_value</code> ู <code>new_setting_value</code> ุฏุฑ ุญุงูุช <code>Some</code> ูุณุชูุฏุ ุชุณุช ฺฉูู. ุฏุฑ ุงู ุตูุฑุชุ ุฏูู ุชุบุฑ ูุฏุงุฏู <code>setting_value</code> ุฑุง ฺุงูพ ูโฺฉูู ู ุงู ููุฏุงุฑ ุชุบุฑ ููโฺฉูุฏ.</p>
<p>ุฏุฑ ุชูุงู ููุงุฑุฏ ุฏฺฏุฑ (ุงฺฏุฑ <code>setting_value</code> ุง <code>new_setting_value</code> ููุฏุงุฑ <code>None</code> ุฏุงุดุชู ุจุงุดูุฏ) ฺฉู ุชูุณุท ุงูฺฏู <code>_</code> ุฏุฑ ุจุงุฒู ุฏูู ุจุงู ุดุฏู ุงุณุชุ ูโุฎูุงูู ุงุฌุงุฒู ุฏูู <code>new_setting_value</code> ุจู <code>setting_value</code> ุชุจุฏู ุดูุฏ.</p>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ุฒุฑุฎุทโูุง ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ุฏุฑ ฺฉ ุงูฺฏู ุจุฑุง ูุงุฏุฏู ฺฏุฑูุชู ููุงุฏุฑ ุฎุงุต ุงุณุชูุงุฏู ฺฉูู. ููุฑุณุช 19-19 ูุซุงู ุงุฒ ูุงุฏุฏู ฺฏุฑูุชู ููุงุฏุฑ ุฏูู ู ฺูุงุฑู ุฏุฑ ฺฉ tuple ูพูุฌ ุขุชู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let numbers = (2, 4, 8, 16, 32);

    match numbers {
        (first, _, third, _, fifth) =&gt; {
            println!("Some numbers: {first}, {third}, {fifth}")
        }
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-19: ูุงุฏุฏู ฺฏุฑูุชู ุจุฎุดโูุง ูุฎุชูู ฺฉ tuple</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูพุงู <code>Some numbers: 2, 8, 32</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ู ููุงุฏุฑ 4 ู 16 ูุงุฏุฏู ฺฏุฑูุชู ูโุดููุฏ.</p>
<h4 id="ignoring-an-unused-variable-by-starting-its-name-with-_"><a class="header" href="#ignoring-an-unused-variable-by-starting-its-name-with-_">Ignoring an Unused Variable by Starting Its Name with <code>_</code></a></h4>
<p>ุงฺฏุฑ ฺฉ ูุชุบุฑ ุงุฌุงุฏ ฺฉูุฏ ุงูุง ุงุฒ ุขู ุฏุฑ ูฺ ุฌุง ุงุณุชูุงุฏู ูฺฉูุฏุ ุฑุงุณุช ูุนูููุงู ฺฉ ูุดุฏุงุฑ ุตุงุฏุฑ ูโฺฉูุฏ ุฒุฑุง ฺฉ ูุชุบุฑ ุงุณุชูุงุฏูโูุดุฏู ููฺฉู ุงุณุช ฺฉ ุจุงฺฏ ุจุงุดุฏ. ุจุง ุงู ุญุงูุ ฺฏุงู ุงููุงุช ููุฏ ุงุณุช ฺฉู ุจุชูุงูุฏ ูุชุบุฑ ุงุฌุงุฏ ฺฉูุฏ ฺฉู ูููุฒ ุงุฒ ุขู ุงุณุชูุงุฏู ููโฺฉูุฏุ ูุงููุฏ ุฒูุงู ฺฉู ุฏุฑ ุญุงู ูููููโุณุงุฒ ุง ุชุงุฒู ุดุฑูุน ฺฉ ูพุฑูฺู ูุณุชุฏ. ุฏุฑ ุงู ูุถุนุชุ ูโุชูุงูุฏ ุจู ุฑุงุณุช ุจฺฏูุฏ ฺฉู ุฏุฑุจุงุฑู ูุชุบุฑ ุงุณุชูุงุฏูโูุดุฏู ูุดุฏุงุฑ ูุฏูุฏุ ุจุง ุดุฑูุน ูุงู ูุชุบุฑ ุจุง ฺฉ ุฒุฑุฎุท. ุฏุฑ ููุฑุณุช 19-20ุ ุฏู ูุชุบุฑ ุงุณุชูุงุฏูโูุดุฏู ุงุฌุงุฏ ูโฺฉููุ ุงูุง ููุช ุงู ฺฉุฏ ุฑุง ฺฉุงููพุงู ูโฺฉููุ ุจุงุฏ ููุท ฺฉ ูุดุฏุงุฑ ุฏุฑุจุงุฑู ฺฉ ุงุฒ ุขูโูุง ุฏุฑุงูุช ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let _x = 5;
    let y = 10;
}</code></pre></pre>
<figcaption>Listing 19-20: ุดุฑูุน ูุงู ูุชุบุฑ ุจุง ฺฉ ุฒุฑุฎุท ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุดุฏุงุฑูุง ูุชุบุฑ ุงุณุชูุงุฏูโูุดุฏู</figcaption>
</figure>
<p>ุงูุฌุง ุฏุฑุจุงุฑู ุงุณุชูุงุฏู ูฺฉุฑุฏู ุงุฒ ูุชุบุฑ <code>y</code> ฺฉ ูุดุฏุงุฑ ุฏุฑุงูุช ูโฺฉููุ ุงูุง ุฏุฑุจุงุฑู ุงุณุชูุงุฏู ูฺฉุฑุฏู ุงุฒ <code>_x</code> ูุดุฏุงุฑ ููโฺฏุฑู.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชูุงูุช ุธุฑู ุจู ุงุณุชูุงุฏู ุงุฒ ููุท <code>_</code> ู ุงุณุชูุงุฏู ุงุฒ ูุงู ฺฉู ุจุง ฺฉ ุฒุฑุฎุท ุดุฑูุน ูโุดูุฏ ูุฌูุฏ ุฏุงุฑุฏ. ูุญู <code>_x</code> ููฺูุงู ููุฏุงุฑ ุฑุง ุจู ูุชุบุฑ ูุชุตู ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู <code>_</code> ุงุตูุงู ูุชุตู ููโุดูุฏ. ุจุฑุง ูุดุงู ุฏุงุฏู ููุฑุฏ ฺฉู ุงู ุชูุงูุช ุงููุช ุฏุงุฑุฏุ ููุฑุณุช 19-21 ุจู ูุง ฺฉ ุฎุทุง ุงุฑุงุฆู ูโุฏูุฏ.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let s = Some(String::from("Hello!"));

    if let Some(_s) = s {
        println!("found a string");
    }

    println!("{s:?}");
<span class="boring">}</span></code></pre>
<figcaption>Listing 19-21: ฺฉ ูุชุบุฑ ุงุณุชูุงุฏูโูุดุฏู ฺฉู ุจุง ฺฉ ุฒุฑุฎุท ุดุฑูุน ูโุดูุฏ ููฺูุงู ููุฏุงุฑ ุฑุง ูุชุตู ูโฺฉูุฏุ ฺฉู ููฺฉู ุงุณุช ูุงูฺฉุช ููุฏุงุฑ ุฑุง ุจฺฏุฑุฏ</figcaption>
</figure>
<p>ูุง ฺฉ ุฎุทุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ ุฒุฑุง ููุฏุงุฑ <code>s</code> ููฺูุงู ุจู <code>_s</code> ููุชูู ูโุดูุฏุ ฺฉู ูุงูุน ุงุฒ ุงุณุชูุงุฏู ุฏูุจุงุฑู ุงุฒ <code>s</code> ูโุดูุฏ. ุจุง ุงู ุญุงูุ ุงุณุชูุงุฏู ุงุฒ ุฒุฑุฎุท ุจูโุชููุง ูุฑฺฏุฒ ุจู ููุฏุงุฑ ูุชุตู ููโุดูุฏ. ููุฑุณุช 19-22 ุจุฏูู ูฺ ุฎุทุง ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ ุฒุฑุง <code>s</code> ุจู <code>_</code> ููุชูู ููโุดูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let s = Some(String::from("Hello!"));

    if let Some(_) = s {
        println!("found a string");
    }

    println!("{s:?}");
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-22: ุงุณุชูุงุฏู ุงุฒ ฺฉ ุฒุฑุฎุท ููุฏุงุฑ ุฑุง ูุชุตู ููโฺฉูุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุจูโุฎูุจ ฺฉุงุฑ ูโฺฉูุฏ ุฒุฑุง ูุง ูุฑฺฏุฒ <code>s</code> ุฑุง ุจู ฺุฒ ูุชุตู ููโฺฉููุ ุจูุงุจุฑุงู ุงูุชูุงู ุฏุงุฏู ููโุดูุฏ.</p>
<h4 id="ignoring-remaining-parts-of-a-value-with-"><a class="header" href="#ignoring-remaining-parts-of-a-value-with-">Ignoring Remaining Parts of a Value with <code>..</code></a></h4>
<p>ุจุฑุง ููุงุฏุฑ ฺฉู ุจุฎุดโูุง ุฒุงุฏ ุฏุงุฑูุฏุ ูโุชูุงูู ุงุฒ ูุญู <code>..</code> ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุจุฎุดโูุง ุฎุงุต ู ูุงุฏุฏู ฺฏุฑูุชู ุจุงู ุจุฎุดโูุง ุงุณุชูุงุฏู ฺฉููุ ู ูุงุฒ ุจู ูุณุช ฺฉุฑุฏู ุฒุฑุฎุทโูุง ุจุฑุง ูุฑ ููุฏุงุฑ ูุงุฏุฏู ฺฏุฑูุชูโุดุฏู ูุฎูุงูู ุฏุงุดุช. ุงูฺฏู <code>..</code> ูุฑ ุจุฎุด ุงุฒ ฺฉ ููุฏุงุฑ ุฑุง ฺฉู ุจูโุทูุฑ ุตุฑุญ ุฏุฑ ุจูู ุงูฺฏู ูุทุงุจูุช ุฏุงุฏู ูุดุฏู ูุงุฏุฏู ูโฺฏุฑุฏ. ุฏุฑ ููุฑุณุช 19-23ุ ฺฉ struct ุจู ูุงู <code>Point</code> ุฏุงุฑู ฺฉู ฺฉ ูุฎุชุตุงุช ุฏุฑ ูุถุง ุณูโุจุนุฏ ูฺฏู ูโุฏุงุฑุฏ. ุฏุฑ ุนุจุงุฑุช <code>match</code>ุ ูโุฎูุงูู ููุท ุฑู ูุฎุชุตุงุช <code>x</code> ุนูู ฺฉูู ู ููุงุฏุฑ ููุฌูุฏ ุฏุฑ ููุฏูุง <code>y</code> ู <code>z</code> ุฑุง ูุงุฏุฏู ุจฺฏุฑู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    struct Point {
        x: i32,
        y: i32,
        z: i32,
    }

    let origin = Point { x: 0, y: 0, z: 0 };

    match origin {
        Point { x, .. } =&gt; println!("x is {x}"),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-23: ูุงุฏุฏู ฺฏุฑูุชู ุชูุงู ููุฏูุง ฺฉ <code>Point</code> ุจูโุฌุฒ <code>x</code> ุจุง ุงุณุชูุงุฏู ุงุฒ <code>..</code></figcaption>
</figure>
<p>ูุง ููุฏุงุฑ <code>x</code> ุฑุง ููุฑุณุช ูโฺฉูู ู ุณูพุณ ููุท ุงูฺฏู <code>..</code> ุฑุง ุงุถุงูู ูโฺฉูู. ุงู ุณุฑุนโุชุฑ ุงุฒ ุงู ุงุณุช ฺฉู <code>y: _</code> ู <code>z: _</code> ุฑุง ููุฑุณุช ฺฉููุ ุจูโูฺู ุฒูุงู ฺฉู ุจุง ุณุงุฎุชุงุฑูุง ฺฉุงุฑ ูโฺฉูู ฺฉู ููุฏูุง ุฒุงุฏ ุฏุงุฑูุฏ ู ููุท ฺฉ ุง ุฏู ููุฏ ููู ูุณุชูุฏ.</p>
<p>ูุญู <code>..</code> ุจู ูุฑ ุชุนุฏุงุฏ ููุฏุงุฑ ฺฉู ูุงุฒ ุจุงุดุฏ ฺฏุณุชุฑุด ูโุงุจุฏ. ููุฑุณุช 19-24 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุงุฒ <code>..</code> ุจุง ฺฉ tuple ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let numbers = (2, 4, 8, 16, 32);

    match numbers {
        (first, .., last) =&gt; {
            println!("Some numbers: {first}, {last}");
        }
    }
}</code></pre></pre>
<figcaption>Listing 19-24: ุชุทุจู ููุท ุงููู ู ุขุฎุฑู ููุงุฏุฑ ุฏุฑ ฺฉ tuple ู ูุงุฏุฏู ฺฏุฑูุชู ุชูุงู ููุงุฏุฑ ุฏฺฏุฑ</figcaption>
</figure>
<p>ุฏุฑ ุงู ฺฉุฏุ ููุฏุงุฑ ุงูู ู ุขุฎุฑ ุจุง <code>first</code> ู <code>last</code> ูุทุงุจูุช ุฏุงุฏู ูโุดููุฏ. ุงูฺฏู <code>..</code> ุชูุงู ููุงุฏุฑ ูุงู ุฑุง ูุทุงุจูุช ุฏุงุฏู ู ูุงุฏุฏู ูโฺฏุฑุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุงุณุชูุงุฏู ุงุฒ <code>..</code> ุจุงุฏ ุจุฏูู ุงุจูุงู ุจุงุดุฏ. ุงฺฏุฑ ูุดุฎุต ูุจุงุดุฏ ฺฉุฏุงู ููุงุฏุฑ ุจุฑุง ุชุทุจู ู ฺฉุฏุงู ุจุฑุง ูุงุฏุฏู ฺฏุฑูุชู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏูโุงูุฏุ ุฑุงุณุช ุจู ูุง ุฎุทุง ูโุฏูุฏ. ููุฑุณุช 19-25 ูุซุงู ุงุฒ ุงุณุชูุงุฏู ุงุฒ <code>..</code> ุจู ุดฺฉู ูุจูู ุฑุง ูุดุงู ูโุฏูุฏุ ุจูุงุจุฑุงู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let numbers = (2, 4, 8, 16, 32);

    match numbers {
        (.., second, ..) =&gt; {
            println!("Some numbers: {second}")
        },
    }
}</code></pre>
<figcaption>Listing 19-25: ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>..</code> ุจู ุดฺฉู ูุจูู</figcaption>
</figure>
<p>ููุช ุงู ูุซุงู ุฑุง ฺฉุงููพุงู ูโฺฉููุ ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ูโฺฉูู:</p>
<pre><code class="language-console">$ cargo run
   Compiling patterns v0.1.0 (file:///projects/patterns)
error: `..` can only be used once per tuple pattern
 --&gt; src/main.rs:5:22
  |
5 |         (.., second, ..) =&gt; {
  |          --          ^^ can only be used once per tuple pattern
  |          |
  |          previously used here

error: could not compile `patterns` (bin "patterns") due to 1 previous error
</code></pre>
<p>ุจุฑุง ุฑุงุณุช ุงูฺฉุงูโูพุฐุฑ ูุณุช ฺฉู ุชุนู ฺฉูุฏ ฺูุฏ ููุฏุงุฑ ุฏุฑ tuple ุจุงุฏ ูุงุฏุฏู ฺฏุฑูุชู ุดูุฏ ูุจู ุงุฒ ุงูฺฉู ฺฉ ููุฏุงุฑ ุฑุง ุจุง <code>second</code> ุชุทุจู ุฏูุฏ ู ุณูพุณ ฺูุฏ ููุฏุงุฑ ุฏฺฏุฑ ุฑุง ุจุนุฏ ุงุฒ ุขู ูุงุฏุฏู ุจฺฏุฑุฏ. ุงู ฺฉุฏ ูโุชูุงูุฏ ุจู ุงู ูุนูุง ุจุงุดุฏ ฺฉู ูโุฎูุงูู <code>2</code> ุฑุง ูุงุฏุฏู ุจฺฏุฑูุ <code>second</code> ุฑุง ุจู <code>4</code> ูุชุตู ฺฉููุ ู ุณูพุณ <code>8</code>ุ <code>16</code> ู <code>32</code> ุฑุง ูุงุฏุฏู ุจฺฏุฑูุ ุง ุงูฺฉู ูโุฎูุงูู <code>2</code> ู <code>4</code> ุฑุง ูุงุฏุฏู ุจฺฏุฑูุ <code>second</code> ุฑุง ุจู <code>8</code> ูุชุตู ฺฉููุ ู ุณูพุณ <code>16</code> ู <code>32</code> ุฑุง ูุงุฏุฏู ุจฺฏุฑูุ ู ุบุฑู. ูุงู ูุชุบุฑ <code>second</code> ุจุฑุง ุฑุงุณุช ูุนู ุฎุงุต ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจู ุฏูู ุงุณุชูุงุฏู ุงุฒ <code>..</code> ุฏุฑ ุฏู ูฺฉุงู ุจู ุงู ุดฺฉู ูุจููุ ุฎุทุง ฺฉุงููพุงู ุฏุฑุงูุช ูโฺฉูู.</p>
<h3 id="extra-conditionals-with-match-guards"><a class="header" href="#extra-conditionals-with-match-guards">Extra Conditionals with Match Guards</a></h3>
<p>ฺฉ <em>match guard</em> ฺฉ ุดุฑุท ุงุถุงู <code>if</code> ุงุณุช ฺฉู ูพุณ ุงุฒ ุงูฺฏู ุฏุฑ ฺฉ ุจุงุฒู <code>match</code> ูุดุฎุต ูโุดูุฏ ู ุจุงุฏ ุจุฑุง ุงูุชุฎุงุจ ุขู ุจุงุฒู ูุฒ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ. Match guardูุง ุจุฑุง ุจุงู ุงุฏูโูุง ูพฺุฏูโุชุฑ ุงุฒ ุขูฺู ฺฉู ฺฉ ุงูฺฏู ุจูโุชููุง ุงุฌุงุฒู ูโุฏูุฏุ ููุฏ ูุณุชูุฏ. ุงู ูุงุจูุช ููุท ุฏุฑ ุนุจุงุฑุงุช <code>match</code> ุฏุฑ ุฏุณุชุฑุณ ุงุณุชุ ูู ุฏุฑ ุนุจุงุฑุงุช <code>if let</code> ุง <code>while let</code>.</p>
<p>ุดุฑุท ูโุชูุงูุฏ ุงุฒ ูุชุบุฑูุง ฺฉู ุฏุฑ ุงูฺฏู ุงุฌุงุฏ ุดุฏูโุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ููุฑุณุช 19-26 ฺฉ <code>match</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุจุงุฒู ุงูู ุขู ุฏุงุฑุง ุงูฺฏู <code>Some(x)</code> ุงุณุช ู ููฺูู ุฏุงุฑุง ฺฉ match guard <code>if x % 2 == 0</code> ุงุณุช (ฺฉู ุฏุฑ ุตูุฑุช ฺฉู ุนุฏุฏ ุฒูุฌ ุจุงุดุฏุ true ุฎูุงูุฏ ุจูุฏ).</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let num = Some(4);

    match num {
        Some(x) if x % 2 == 0 =&gt; println!("The number {x} is even"),
        Some(x) =&gt; println!("The number {x} is odd"),
        None =&gt; (),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-26: ุงูุฒูุฏู ฺฉ match guard ุจู ฺฉ ุงูฺฏู</figcaption>
</figure>
<p>ุงู ูุซุงู ูพุงู <code>The number 4 is even</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ููุช <code>num</code> ุจุง ุงูฺฏู ุจุงุฒู ุงูู ููุงุณู ูโุดูุฏุ ูุทุงุจูุช ุฏุงุฑุฏุ ุฒุฑุง <code>Some(4)</code> ุจุง <code>Some(x)</code> ูุทุงุจูุช ุฏุงุฑุฏ. ุณูพุณ match guard ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ุจุงูโูุงูุฏู ุชูุณู <code>x</code> ุจุฑ 2 ุจุฑุงุจุฑ ุจุง 0 ุงุณุช ุง ููุ ู ฺูู ุงู ุดุฑุท ุจุฑูุฑุงุฑ ุงุณุชุ ุจุงุฒู ุงูู ุงูุชุฎุงุจ ูโุดูุฏ.</p>
<p>ุงฺฏุฑ ููุฏุงุฑ <code>num</code> ุจุฑุงุจุฑ ุจุง <code>Some(5)</code> ุจูุฏุ match guard ุฏุฑ ุจุงุฒู ุงูู false ูโุดุฏ ุฒุฑุง ุจุงูโูุงูุฏู ุชูุณู 5 ุจุฑ 2 ุจุฑุงุจุฑ ุจุง 1 ุงุณุช ฺฉู ุจุฑุงุจุฑ ุจุง 0 ูุณุช. ุฑุงุณุช ุณูพุณ ุจู ุจุงุฒู ุฏูู ูโุฑูุฏ ฺฉู ูุทุงุจูุช ุฏุงุฑุฏ ุฒุฑุง ุจุงุฒู ุฏูู match guard ูุฏุงุฑุฏ ู ุจูุงุจุฑุงู ุจุง ูุฑ ูุชุบุฑ <code>Some</code> ูุทุงุจูุช ุฏุงุฑุฏ.</p>
<p>ูฺ ุฑุงู ุจุฑุง ุจุงู ุดุฑุท <code>if x % 2 == 0</code> ุฏุฑ ุฏุงุฎู ฺฉ ุงูฺฏู ูุฌูุฏ ูุฏุงุฑุฏุ ุจูุงุจุฑุงู match guard ุจู ูุง ุงูฺฉุงู ุจุงู ุงู ููุทู ุฑุง ูโุฏูุฏ. ููุทู ุถุนู ุงู ูุงุจูุช ุงุถุงู ุงู ุงุณุช ฺฉู ฺฉุงููพุงูุฑ ุณุน ููโฺฉูุฏ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง ุชูุงู ููุงุฑุฏ ูพูุดุด ุฏุงุฏู ุดุฏูโุงูุฏ ุง ูู ููุช ฺฉู match guardูุง ุฏุฑฺฏุฑ ูุณุชูุฏ.</p>
<p>ุฏุฑ ููุฑุณุช 19-11 ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ูโุชูุงูู ุงุฒ match guardูุง ุจุฑุง ุญู ูุดฺฉู shadowing ุงูฺฏู ุงุณุชูุงุฏู ฺฉูู. ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ูุง ฺฉ ูุชุบุฑ ุฌุฏุฏ ุฏุฑ ุฏุงุฎู ุงูฺฏู ุฏุฑ ุนุจุงุฑุช <code>match</code> ุงุฌุงุฏ ฺฉุฑุฏู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑ ุจุฑูู ุงุฒ <code>match</code>. ุขู ูุชุบุฑ ุฌุฏุฏ ุจู ุงู ูุนูุง ุจูุฏ ฺฉู ููโุชูุงูุณุชู ููุฏุงุฑ ูุชุบุฑ ุจุฑูู ุฑุง ุชุณุช ฺฉูู. ููุฑุณุช 19-27 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ูโุชูุงูู ุงุฒ ฺฉ match guard ุจุฑุง ุฑูุน ุงู ูุดฺฉู ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = Some(5);
    let y = 10;

    match x {
        Some(50) =&gt; println!("Got 50"),
        Some(n) if n == y =&gt; println!("Matched, n = {n}"),
        _ =&gt; println!("Default case, x = {x:?}"),
    }

    println!("at the end: x = {x:?}, y = {y}");
}</code></pre></pre>
<figcaption>Listing 19-27: ุงุณุชูุงุฏู ุงุฒ ฺฉ match guard ุจุฑุง ุขุฒูุงุด ุจุฑุงุจุฑ ุจุง ฺฉ ูุชุบุฑ ุจุฑูู</figcaption>
</figure>
<p>ุงู ฺฉุฏ ุงฺฉููู ูพุงู <code>Default case, x = Some(5)</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ุงูฺฏู ุจุงุฒู ุฏูู match ฺฉ ูุชุบุฑ ุฌุฏุฏ <code>y</code> ฺฉู ูุชุบุฑ ุจุฑูู <code>y</code> ุฑุง shadow ฺฉูุฏ ูุนุฑู ููโฺฉูุฏุ ุจู ุงู ูุนูุง ฺฉู ูโุชูุงูู ุงุฒ ูุชุบุฑ ุจุฑูู <code>y</code> ุฏุฑ match guard ุงุณุชูุงุฏู ฺฉูู. ุจู ุฌุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฏู ุจูโุนููุงู <code>Some(y)</code> ฺฉู ูุชุบุฑ ุจุฑูู <code>y</code> ุฑุง shadow ูโฺฉุฑุฏุ ูุง <code>Some(n)</code> ุฑุง ูุดุฎุต ูโฺฉูู. ุงู ฺฉ ูุชุบุฑ ุฌุฏุฏ <code>n</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ูฺ ฺุฒ ุฑุง shadow ููโฺฉูุฏ ุฒุฑุง ูฺ ูุชุบุฑ <code>n</code> ุฏุฑ ุฎุงุฑุฌ ุงุฒ <code>match</code> ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>Match guard <code>if n == y</code> ฺฉ ุงูฺฏู ูุณุช ู ุจูุงุจุฑุงู ูุชุบุฑูุง ุฌุฏุฏ ุฑุง ูุนุฑู ููโฺฉูุฏ. ุงู <code>y</code> <em>ููุงู</em> ูุชุบุฑ ุจุฑูู <code>y</code> ุงุณุช ู ฺฉ ูุชุบุฑ ุฌุฏุฏ ฺฉู ุขู ุฑุง shadow ฺฉูุฏ ูุณุชุ ู ูโุชูุงูู ุจุง ููุงุณู <code>n</code> ุจุง <code>y</code> ุจู ุฏูุจุงู ููุฏุงุฑ ุจุงุดู ฺฉู ุจุง ููุฏุงุฑ ุจุฑูู <code>y</code> ฺฉุณุงู ุจุงุดุฏ.</p>
<p>ููฺูู ูโุชูุงูุฏ ุงุฒ ุนููฺฏุฑ <em>ุง</em> <code>|</code> ุฏุฑ ฺฉ match guard ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ฺูุฏู ุงูฺฏู ูุดุฎุต ฺฉูุฏุ ุดุฑุท match guard ุจุฑุง ุชูุงู ุงูฺฏููุง ุงุนูุงู ุฎูุงูุฏ ุดุฏ. ููุฑุณุช 19-28 ุชูุฏู ููฺฏุงู ุชุฑฺฉุจ ฺฉ ุงูฺฏู ฺฉู ุงุฒ <code>|</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ุจุง ฺฉ match guard ุฑุง ูุดุงู ูโุฏูุฏ. ุจุฎุด ููู ุงู ูุซุงู ุงู ุงุณุช ฺฉู match guard <code>if y</code> ุจุฑุง <code>4</code>ุ <code>5</code>ุ <em>ู</em> <code>6</code> ุงุนูุงู ูโุดูุฏุ ุญุช ุงฺฏุฑ ููฺฉู ุงุณุช ุจู ูุธุฑ ุจุฑุณุฏ ฺฉู <code>if y</code> ููุท ุจุฑุง <code>6</code> ุงุนูุงู ูโุดูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let x = 4;
    let y = false;

    match x {
        4 | 5 | 6 if y =&gt; println!("yes"),
        _ =&gt; println!("no"),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-28: ุชุฑฺฉุจ ฺูุฏู ุงูฺฏู ุจุง ฺฉ match guard</figcaption>
</figure>
<p>ุดุฑุท ูุทุงุจูุช ุจุงู ูโฺฉูุฏ ฺฉู ุจุงุฒู ููุท ุฒูุงู ูุทุงุจูุช ุฏุงุฑุฏ ฺฉู ููุฏุงุฑ <code>x</code> ุจุฑุงุจุฑ ุจุง <code>4</code>ุ <code>5</code>ุ ุง <code>6</code> <em>ู</em> ููุฏุงุฑ <code>y</code> ุจุฑุงุจุฑ ุจุง <code>true</code> ุจุงุดุฏ. ููุช ุงู ฺฉุฏ ุงุฌุฑุง ูโุดูุฏุ ุงูฺฏู ุจุงุฒู ุงูู ูุทุงุจูุช ุฏุงุฑุฏ ุฒุฑุง <code>x</code> ุจุฑุงุจุฑ ุจุง <code>4</code> ุงุณุชุ ุงูุง match guard <code>if y</code> ุจุฑุงุจุฑ ุจุง false ุงุณุชุ ุจูุงุจุฑุงู ุจุงุฒู ุงูู ุงูุชุฎุงุจ ููโุดูุฏ. ฺฉุฏ ุจู ุจุงุฒู ุฏูู ูโุฑูุฏ ฺฉู ูุทุงุจูุช ุฏุงุฑุฏุ ู ุงู ุจุฑูุงูู <code>no</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ุฏูู ุงู ุงุณุช ฺฉู ุดุฑุท <code>if</code> ุจุฑุง ฺฉู ุงูฺฏู <code>4 | 5 | 6</code> ุงุนูุงู ูโุดูุฏุ ูู ููุท ุจุฑุง ููุฏุงุฑ ุขุฎุฑ <code>6</code>. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุชูุฏู ฺฉ match guard ูุณุจุช ุจู ฺฉ ุงูฺฏู ุจู ุงู ุดฺฉู ุฑูุชุงุฑ ูโฺฉูุฏ:</p>
<pre><code class="language-text">(4 | 5 | 6) if y =&gt; ...
</code></pre>
<p>ู ูู ุจู ุงู ุดฺฉู:</p>
<pre><code class="language-text">4 | 5 | (6 if y) =&gt; ...
</code></pre>
<p>ุจุนุฏ ุงุฒ ุงุฌุฑุง ฺฉุฏุ ุฑูุชุงุฑ ุชูุฏู ุขุดฺฉุงุฑ ูโุดูุฏ: ุงฺฏุฑ match guard ููุท ุจุฑุง ููุฏุงุฑ ููุง ุฏุฑ ูุณุช ููุงุฏุฑ ูุดุฎุตโุดุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑ <code>|</code> ุงุนูุงู ูโุดุฏุ ุจุงุฒู ูุทุงุจูุช ูโุฏุงุดุช ู ุจุฑูุงูู ูพุงู <code>yes</code> ุฑุง ฺุงูพ ูโฺฉุฑุฏ.</p>
<h3 id="-bindings"><a class="header" href="#-bindings"><code>@</code> Bindings</a></h3>
<p>ุนููฺฏุฑ <em>at</em> (<code>@</code>) ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉ ูุชุบุฑ ุงุฌุงุฏ ฺฉูู ฺฉู ฺฉ ููุฏุงุฑ ุฑุง ูฺฏู ูโุฏุงุฑุฏ ู ููุฒูุงู ุขู ููุฏุงุฑ ุฑุง ุจุฑุง ุชุทุจู ุจุง ุงูฺฏู ุขุฒูุงุด ูโฺฉูุฏ. ุฏุฑ ููุฑุณุช 19-29ุ ูุง ูโุฎูุงูู ุจุฑุฑุณ ฺฉูู ฺฉู ุขุง ููุฏ <code>id</code> ุฏุฑ <code>Message::Hello</code> ุฏุฑ ุจุงุฒู <code>3..=7</code> ูุฑุงุฑ ุฏุงุฑุฏ ุง ูู. ููฺูู ูโุฎูุงูู ููุฏุงุฑ ุฑุง ุจู ูุชุบุฑ <code>id_variable</code> ูุชุตู ฺฉูู ุชุง ุจุชูุงูู ุฏุฑ ฺฉุฏ ูุฑุชุจุท ุจุง ุจุงุฒู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูู. ูโุชูุงูุณุชู ุงู ูุชุบุฑ ุฑุง <code>id</code> ุจูุงููุ ูุดุงุจู ููุฏุ ุงูุง ุจุฑุง ุงู ูุซุงู ุงุฒ ูุงู ูุชูุงูุช ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    enum Message {
        Hello { id: i32 },
    }

    let msg = Message::Hello { id: 5 };

    match msg {
        Message::Hello {
            id: id_variable @ 3..=7,
        } =&gt; println!("Found an id in range: {id_variable}"),
        Message::Hello { id: 10..=12 } =&gt; {
            println!("Found an id in another range")
        }
        Message::Hello { id } =&gt; println!("Found some other id: {id}"),
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 19-29: ุงุณุชูุงุฏู ุงุฒ <code>@</code> ุจุฑุง ุงุชุตุงู ุจู ฺฉ ููุฏุงุฑ ุฏุฑ ฺฉ ุงูฺฏู ู ููุฒูุงู ุขุฒูุงุด ุขู</figcaption>
</figure>
<p>ุงู ูุซุงู ูพุงู <code>Found an id in range: 5</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ุจุง ูุดุฎุต ฺฉุฑุฏู <code>id_variable @</code> ูุจู ุงุฒ ุจุงุฒู <code>3..=7</code>ุ ูุง ูุฑ ููุฏุงุฑ ฺฉู ุจุง ุจุงุฒู ูุทุงุจูุช ุฏุงุดุช ุฑุง ุฐุฎุฑู ูโฺฉูู ู ููุฒูุงู ุจุฑุฑุณ ูโฺฉูู ฺฉู ุขุง ููุฏุงุฑ ุจุง ุงูฺฏู ุจุงุฒู ูุทุงุจูุช ุฏุงุฑุฏ.</p>
<p>ุฏุฑ ุจุงุฒู ุฏููุ ุฌุง ฺฉู ููุท ฺฉ ุจุงุฒู ุฏุฑ ุงูฺฏู ูุดุฎุต ุดุฏู ุงุณุชุ ฺฉุฏ ฺฉู ุจุง ุจุงุฒู ูุฑุชุจุท ุงุณุช ูุชุบุฑ ูุฏุงุฑุฏ ฺฉู ููุฏุงุฑ ูุงูุน ููุฏ <code>id</code> ุฑุง ุดุงูู ุดูุฏ. ููุฏุงุฑ ููุฏ <code>id</code> ูโุชูุงูุณุช 10ุ 11ุ ุง 12 ุจุงุดุฏุ ุงูุง ฺฉุฏ ฺฉู ุจุง ุขู ุงูฺฏู ูุฑุชุจุท ุงุณุช ููโุฏุงูุฏ ููุฏุงุฑ ฺุณุช. ฺฉุฏ ุจุงุฒู ููโุชูุงูุฏ ุงุฒ ููุฏุงุฑ ููุฏ <code>id</code> ุงุณุชูุงุฏู ฺฉูุฏุ ุฒุฑุง ูุง ููุฏุงุฑ <code>id</code> ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุฐุฎุฑู ูฺฉุฑุฏูโุงู.</p>
<p>ุฏุฑ ุจุงุฒู ุขุฎุฑุ ุฌุง ฺฉู ฺฉ ูุชุบุฑ ุจุฏูู ุจุงุฒู ูุดุฎุต ฺฉุฑุฏูโุงูุ ููุฏุงุฑ ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ฺฉุฏ ุจุงุฒู ุฏุฑ ูุชุบุฑ ุจู ูุงู <code>id</code> ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ุฏูู ุงู ุงุณุช ฺฉู ูุง ุงุฒ ูุญู ฺฉูุชุงู ููุฏูุง struct ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุงูุง ุฏุฑ ุงู ุจุงุฒู ูฺ ุขุฒูุงุด ุจุฑุง ููุฏุงุฑ ุฏุฑ ููุฏ <code>id</code> ุงุนูุงู ูฺฉุฑุฏูโุงูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุฏู ุจุงุฒู ุงูู ุงูุฌุงู ุฏุงุฏู: ูุฑ ููุฏุงุฑ ุจุง ุงู ุงูฺฏู ูุทุงุจูุช ุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ุงุณุชูุงุฏู ุงุฒ <code>@</code> ุจู ูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉ ููุฏุงุฑ ุฑุง ุขุฒูุงุด ฺฉูู ู ููุฒูุงู ุขู ุฑุง ุฏุฑ ฺฉ ูุชุบุฑ ุฐุฎุฑู ฺฉููุ ููู ุฏุฑ ฺฉ ุงูฺฏู.</p>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>ุงูฺฏููุง ุฑุงุณุช ุฏุฑ ุชุดุฎุต ุจู ุงููุงุน ูุฎุชูู ุฏุงุฏู ุจุณุงุฑ ููุฏ ูุณุชูุฏ. ููุช ุฏุฑ ุนุจุงุฑุงุช <code>match</code> ุงุณุชูุงุฏู ูโุดููุฏุ ุฑุงุณุช ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุงูฺฏููุง ุดูุง ุชูุงู ููุงุฏุฑ ููฺฉู ุฑุง ูพูุดุด ูโุฏููุฏุ ูฺฏุฑูู ุจุฑูุงูู ุดูุง ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ุงูฺฏููุง ุฏุฑ ุนุจุงุฑุงุช <code>let</code> ู ูพุงุฑุงูุชุฑูุง ุชุงุจุน ุงู ุณุงุฎุชุงุฑูุง ุฑุง ููุฏุชุฑ ูโฺฉููุฏ ู ุชุฎุฑุจ ููุงุฏุฑ ุจู ุจุฎุดโูุง ฺฉูฺฺฉโุชุฑ ุฑุง ููุฒูุงู ุจุง ุชุฎุตุต ุจู ูุชุบุฑูุง ููฺฉู ูโุณุงุฒูุฏ. ูุง ูโุชูุงูู ุงูฺฏููุง ุณุงุฏู ุง ูพฺุฏูโุง ุงุฌุงุฏ ฺฉูู ฺฉู ูุงุฒูุง ูุง ุฑุง ุจุฑุขูุฑุฏู ฺฉููุฏ.</p>
<p>ุฏุฑ ูุตู ูุงูุจู ุขุฎุฑ ุงู ฺฉุชุงุจุ ุจู ุจุฑุฎ ุงุฒ ุฌูุจูโูุง ูพุดุฑูุชู ุงุฒ ูฺฺฏโูุง ูุฎุชูู ุฑุงุณุช ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="advanced-features"><a class="header" href="#advanced-features">Advanced Features</a></h1>
<p>ุชุง ุงูุฌุงุ ุดูุง ุจุง ุฑุงุฌโุชุฑู ุจุฎุดโูุง ุฒุจุงู ุจุฑูุงููโููุณ ุฑุงุณุช ุขุดูุง ุดุฏูโุงุฏ. ูพุด ุงุฒ ุงูฺฉู ุฏุฑ ูุตู 21 ฺฉ ูพุฑูฺู ุฏฺฏุฑ ุงูุฌุงู ุฏููุ ุจู ุจุฑุฎ ุงุฒ ุฌูุจูโูุง ุฒุจุงู ูโูพุฑุฏุงุฒู ฺฉู ููฺฉู ุงุณุช ูุฑ ุงุฒ ฺฏุงู ุจุง ุขูโูุง ุฑูุจุฑู ุดูุฏุ ุงูุง ุดุงุฏ ูุฑ ุฑูุฒ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ูฺฉูุฏ. ูโุชูุงูุฏ ุงุฒ ุงู ูุตู ุจูโุนููุงู ูุฑุฌุน ุงุณุชูุงุฏู ฺฉูุฏ ุฒูุงู ฺฉู ุจุง ููุงุฑุฏ ูุงุดูุงุฎุชูโุง ุฑูุจุฑู ูโุดูุฏ. ูฺฺฏโูุง ฺฉู ุงูุฌุง ูพูุดุด ุฏุงุฏู ูโุดููุฏ ุฏุฑ ูููุนุชโูุง ุจุณุงุฑ ุฎุงุต ููุฏ ูุณุชูุฏ. ุงฺฏุฑฺู ููฺฉู ุงุณุช ุงุบูุจ ุจู ุขูโูุง ูุงุฒ ูุฏุงุดุชู ุจุงุดุฏุ ูุง ูโุฎูุงูู ุงุทููุงู ุญุงุตู ฺฉูู ฺฉู ุดูุง ุฏุฑฺฉ ุฎูุจ ุงุฒ ุชูุงู ูฺฺฏโูุง ฺฉู ุฑุงุณุช ุงุฑุงุฆู ูโุฏูุฏ ุฏุงุฑุฏ.</p>
<p>ุฏุฑ ุงู ูุตูุ ูุง ุจู ููุถูุนุงุช ุฒุฑ ุฎูุงูู ูพุฑุฏุงุฎุช:</p>
<ul>
<li>Unsafe Rust: ฺฺฏููู ูโุชูุงู ุงุฒ ุจุฑุฎ ุงุฒ ุชุถููโูุง ุฑุงุณุช ฺุดูโูพูุด ฺฉุฑุฏ ู ูุณุฆููุช ุชุถูู ุฏุณุช ุงู ููุงุฑุฏ ุฑุง ุจุฑ ุนูุฏู ฺฏุฑูุช.</li>
<li>Advanced traits: ููุนโูุง ูุฑุชุจุท (associated types)ุ ูพุงุฑุงูุชุฑูุง ููุน ูพุดโูุฑุถุ ูุญู ฺฉุงููุงู ูุงุฌุฏ ุดุฑุงุทุ ุงุจุฑ traits (supertraits)ุ ู ุงูฺฏู newtype ุฏุฑ ุฑุงุจุทู ุจุง traits.</li>
<li>Advanced types: ุจุดุชุฑ ุฏุฑุจุงุฑู ุงูฺฏู newtypeุ ูุงู ูุณุชุนุงุฑ ููุน (type aliases)ุ ููุน neverุ ู ููุนโูุง ุจุง ุงูุฏุงุฒู ูพูุง.</li>
<li>Advanced functions and closures: ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุชุงุจุน ู ุจุงุฒฺฏุฑุฏุงูุฏู closures.</li>
<li>Macros: ุฑูุดโูุง ุจุฑุง ุชุนุฑู ฺฉุฏ ฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ฺฉุฏ ุจุดุชุฑ ุชุนุฑู ูโฺฉูุฏ.</li>
</ul>
<p>ุงู ฺฉ ูุฌููุนู ฺฏุณุชุฑุฏู ุงุฒ ูฺฺฏโูุง ุฑุงุณุช ุงุณุช ฺฉู ุจุฑุง ููู ฺุฒ ุฏุฑ ุขู ูุฌูุฏ ุฏุงุฑุฏ! ุจุงุฏ ุดุฑูุน ฺฉูู!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="unsafe-rust"><a class="header" href="#unsafe-rust">Unsafe Rust</a></h2>
<p>ุชูุงู ฺฉุฏ ฺฉู ุชุง ุจู ุญุงู ุจุฑุฑุณ ฺฉุฑุฏูโุงู ุฏุงุฑุง ุชุถููโูุง ุงูู ุญุงูุธู ุฑุงุณุช ุจูุฏู ุงุณุช ฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงุนูุงู ูโุดููุฏ. ุจุง ุงู ุญุงูุ ุฑุงุณุช ุฏุงุฑุง ฺฉ ุฒุจุงู ุฏูู ูุฎู ุฏุฑูู ุฎูุฏ ุงุณุช ฺฉู ุงู ุชุถููโูุง ุงูู ุญุงูุธู ุฑุง ุงุนูุงู ููโฺฉูุฏ: ุงู ุฒุจุงู <em>Unsafe Rust</em> ูุงูุฏู ูโุดูุฏ ู ุฏุฑุณุช ูุงููุฏ ุฑุงุณุช ูุนููู ฺฉุงุฑ ูโฺฉูุฏุ ุงูุง ุจู ูุง ูุฏุฑุชโูุง ูููโุงูุนุงุฏูโุง ูโุฏูุฏ.</p>
<p>ูุฌูุฏ Unsafe Rust ุจู ุงู ุฏูู ุงุณุช ฺฉู ุชุญูู ุงุณุชุง ุฐุงุชุงู ูุญุงูุธูโฺฉุงุฑุงูู ุงุณุช. ููุช ฺฉุงููพุงูุฑ ุณุน ูโฺฉูุฏ ุชุนู ฺฉูุฏ ฺฉู ุขุง ฺฉุฏ ุชุถููโูุง ุฑุง ุฑุนุงุช ูโฺฉูุฏ ุง ููุ ุจูุชุฑ ุงุณุช ุจุฑุฎ ุงุฒ ุจุฑูุงููโูุง ูุนุชุจุฑ ุฑุง ุฑุฏ ฺฉูุฏ ุชุง ุงูฺฉู ุจุฑุฎ ุงุฒ ุจุฑูุงููโูุง ูุงูุนุชุจุฑ ุฑุง ุจูพุฐุฑุฏ. ุงฺฏุฑฺู ููฺฉู ุงุณุช ฺฉุฏ <em>ุฏุฑุณุช</em> ุจุงุดุฏุ ุงูุง ุงฺฏุฑ ฺฉุงููพุงูุฑ ุฑุงุณุช ุงุทูุงุนุงุช ฺฉุงู ุจุฑุง ุงุทููุงู ูุฏุงุดุชู ุจุงุดุฏุ ฺฉุฏ ุฑุง ุฑุฏ ุฎูุงูุฏ ฺฉุฑุฏ. ุฏุฑ ุงู ููุงุฑุฏุ ูโุชูุงูุฏ ุงุฒ ฺฉุฏ ูุงุงูู ุจุฑุง ฺฏูุชู ุจู ฺฉุงููพุงูุฑ ุงุณุชูุงุฏู ฺฉูุฏ: ยซุจู ูู ุงุนุชูุงุฏ ฺฉูุ ูู ูโุฏุงูู ฺู ฺฉุงุฑ ูโฺฉูู.ยป ุงูุง ูุดุฏุงุฑ ุฏุงุฏู ุดูุฏ ฺฉู ุดูุง ุงุฒ ฺฉุฏ ูุงุงูู ุจู ูุณุฆููุช ุฎูุฏุชุงู ุงุณุชูุงุฏู ูโฺฉูุฏ: ุงฺฏุฑ ุงุฒ ฺฉุฏ ูุงุงูู ุจูโุทูุฑ ูุงุฏุฑุณุช ุงุณุชูุงุฏู ฺฉูุฏุ ูุดฺฉูุงุช ููฺฉู ุงุณุช ุจู ุฏูู ูุงุงูู ุญุงูุธู ุงุฌุงุฏ ุดููุฏุ ูุงููุฏ dereferencing ุงุดุงุฑูโฺฏุฑ (Pointer) null.</p>
<p>ุฏูู ุฏฺฏุฑ ูุฌูุฏ ฺฉ ููุฒุงุฏ ูุงุงูู ุจุฑุง ุฑุงุณุช ุงู ุงุณุช ฺฉู ุณุฎุชโุงูุฒุงุฑ ฺฉุงููพูุชุฑ ุฏุฑ ุฐุงุช ุฎูุฏ ูุงุงูู ุงุณุช. ุงฺฏุฑ ุฑุงุณุช ุจู ุดูุง ุงุฌุงุฒู ุงูุฌุงู ุนููุงุช ูุงุงูู ุฑุง ููโุฏุงุฏุ ููโุชูุงูุณุชุฏ ุจุฑุฎ ุงุฒ ูุธุงู ุฑุง ุงูุฌุงู ุฏูุฏ. ุฑุงุณุช ุจุงุฏ ุจู ุดูุง ุงุฌุงุฒู ุฏูุฏ ุชุง ุจุฑูุงููโููุณ ุณุทุญ ูพุงู ุณุณุชูุ ูุงููุฏ ุชุนุงูู ูุณุชูู ุจุง ุณุณุชูโุนุงูู ุง ุญุช ููุดุชู ุณุณุชูโุนุงูู ุฎูุฏุชุงู ุฑุง ุงูุฌุงู ุฏูุฏ. ฺฉุงุฑ ุจุง ุจุฑูุงููโููุณ ุณุทุญ ูพุงู ุณุณุชู ฺฉ ุงุฒ ุงูุฏุงู ุงู ุฒุจุงู ุงุณุช. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ุจุง Unsafe Rust ฺู ูโุชูุงูู ุงูุฌุงู ุฏูู ู ฺฺฏููู ุจุงุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู.</p>
<h3 id="unsafe-superpowers"><a class="header" href="#unsafe-superpowers">Unsafe Superpowers</a></h3>
<p>ุจุฑุง ุชุบุฑ ุจู Unsafe Rustุ ุงุฒ ฺฉูุฏูุงฺู <code>unsafe</code> ุงุณุชูุงุฏู ฺฉูุฏ ู ุณูพุณ ฺฉ ุจููฺฉ ุฌุฏุฏ ฺฉู ฺฉุฏ ูุงุงูู ุฑุง ูฺฏู ูโุฏุงุฑุฏ ุดุฑูุน ฺฉูุฏ. ุฏุฑ Unsafe Rust ูโุชูุงูุฏ ูพูุฌ ุนูู ุฑุง ุงูุฌุงู ุฏูุฏ ฺฉู ุฏุฑ ุฑุงุณุช ุงูู ููโุชูุงูุฏุ ู ูุง ุงูโูุง ุฑุง <em>ูุฏุฑุชโูุง ูููโุงูุนุงุฏู ูุงุงูู</em> ูโูุงูู. ุงู ูุฏุฑุชโูุง ุดุงูู ุชูุงูุงโูุง ุฒุฑ ูุณุชูุฏ:</p>
<ul>
<li>Dereference ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู</li>
<li>ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ุง ูุชุฏ ูุงุงูู</li>
<li>ุฏุณุชุฑุณ ุง ุชุบุฑ ฺฉ ูุชุบุฑ static ูุงุจู ุชุบุฑ</li>
<li>ูพุงุฏูโุณุงุฒ ฺฉ trait ูุงุงูู</li>
<li>ุฏุณุชุฑุณ ุจู ููุฏูุง ฺฉ <code>union</code></li>
</ul>
<p>ููู ุงุณุช ฺฉู ุจูููุฏ <code>unsafe</code> ุณุณุชู borrow checker ุง ุณุงุฑ ุจุฑุฑุณโูุง ุงูู ุฑุงุณุช ุฑุง ุฎุงููุด ููโฺฉูุฏ: ุงฺฏุฑ ุงุฒ ฺฉ reference ุฏุฑ ฺฉุฏ ูุงุงูู ุงุณุชูุงุฏู ฺฉูุฏุ ููฺูุงู ุจุฑุฑุณ ุฎูุงูุฏ ุดุฏ. ฺฉูุฏูุงฺู <code>unsafe</code> ููุท ุจู ุดูุง ุฏุณุชุฑุณ ุจู ุงู ูพูุฌ ูฺฺฏ ูโุฏูุฏ ฺฉู ุณูพุณ ุชูุณุท ฺฉุงููพุงูุฑ ุจุฑุง ุงูู ุญุงูุธู ุจุฑุฑุณ ููโุดููุฏ. ุดูุง ููฺูุงู ุฏุฑุฌูโุง ุงุฒ ุงูู ุฑุง ุฏุฑ ุฏุงุฎู ฺฉ ุจููฺฉ ูุงุงูู ุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ุนูุงูู ุจุฑ ุงูุ <code>unsafe</code> ุจู ุงู ูุนูุง ูุณุช ฺฉู ฺฉุฏ ุฏุงุฎู ุจููฺฉ ูุฒููุงู ุฎุทุฑูุงฺฉ ุงุณุช ุง ุงูฺฉู ุญุชูุงู ูุดฺฉูุงุช ุงูู ุญุงูุธู ุฎูุงูุฏ ุฏุงุดุช: ูุตุฏ ุงู ุงุณุช ฺฉู ุจูโุนููุงู ุจุฑูุงููโููุณุ ุดูุง ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ฺฉุฏ ุฏุงุฎู ฺฉ ุจููฺฉ <code>unsafe</code> ุจู ุฑูุด ูุนุชุจุฑ ุจู ุญุงูุธู ุฏุณุชุฑุณ ุฎูุงูุฏ ุฏุงุดุช.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ุงูุณุงูโูุง ุฏฺุงุฑ ุงุดุชุจุงู ูโุดููุฏุ ููฺฉู ุงุณุช ุงุดุชุจุงูุงุช ุฑุฎ ุฏูุฏุ ุงูุง ุจุง ุงูุฒุงู ุงู ูพูุฌ ุนููุงุช ูุงุงูู ุจู ุงูฺฉู ุฏุฑ ุจููฺฉโูุง ฺฉู ุจุง <code>unsafe</code> ุญุงุดูโููุณ ุดุฏูโุงูุฏ ูุฑุงุฑ ฺฏุฑูุฏุ ุดูุง ูโุฏุงูุฏ ฺฉู ูุฑ ุฎุทุง ูุฑุชุจุท ุจุง ุงูู ุญุงูุธู ุจุงุฏ ุฏุฑ ุฏุงุฎู ฺฉ ุจููฺฉ ูุงุงูู ุจุงุดุฏ. ุจููฺฉโูุง <code>unsafe</code> ุฑุง ฺฉูฺฺฉ ูฺฏู ุฏุงุฑุฏุ ุจุนุฏุงู ุฒูุงู ฺฉู ุจู ุจุฑุฑุณ ุจุงฺฏโูุง ุญุงูุธู ูโูพุฑุฏุงุฒุฏุ ุงุฒ ุงู ฺฉุงุฑ ุณูพุงุณฺฏุฒุงุฑ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุจุฑุง ุงุฒููู ฺฉุฑุฏู ฺฉุฏ ูุงุงูู ุชุง ุญุฏ ููฺฉูุ ุจูุชุฑ ุงุณุช ฺฉุฏ ูุงุงูู ุฑุง ุฏุฑูู ฺฉ ุงูุชุฒุงุน ุงูู ูุฑุงุฑ ุฏูุฏ ู ฺฉ API ุงูู ุงุฑุงุฆู ุฏูุฏุ ฺฉู ุฏุฑ ุงุฏุงูู ูุตู ููุช ุชูุงุจุน ู ูุชุฏูุง ูุงุงูู ุฑุง ุจุฑุฑุณ ูโฺฉููุ ุฏุฑ ุงู ููุฑุฏ ุจุญุซ ุฎูุงูู ฺฉุฑุฏ. ุจุฎุดโูุง ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจูโุนููุงู ุงูุชุฒุงุนุงุช ุงูู ุฑู ฺฉุฏ ูุงุงูู ฺฉู ููุฑุฏ ุจุงุฒุจู ูุฑุงุฑ ฺฏุฑูุชูโุงูุฏ ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ. ูุญุตูุฑ ฺฉุฑุฏู ฺฉุฏ ูุงุงูู ุฏุฑ ฺฉ ุงูุชุฒุงุน ุงูู ุงุฒ ูุดุช ุงุณุชูุงุฏูโูุง <code>unsafe</code> ุจู ุชูุงู ูฺฉุงูโูุง ฺฉู ุดูุง ุง ฺฉุงุฑุจุฑุงูโุชุงู ููฺฉู ุงุณุช ุจุฎูุงููุฏ ุงุฒ ูุงุจูุชโูุง ฺฉู ุจุง ฺฉุฏ ูุงุงูู ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ ุงุณุชูุงุฏู ฺฉููุฏุ ุฌููฺฏุฑ ูโฺฉูุฏุ ุฒุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูุชุฒุงุน ุงููุ ุงูู ุงุณุช.</p>
<p>ุจุงุฏ ุจู ูุฑ ฺฉ ุงุฒ ูพูุฌ ูุฏุฑุช ูููโุงูุนุงุฏู ูุงุงูู ุจูโููุจุช ูฺฏุงู ฺฉูู. ููฺูู ุจู ุจุฑุฎ ุงุฒ ุงูุชุฒุงุนุงุช ฺฉู ฺฉ ุฑุงุจุท ุงูู ุจุฑุง ฺฉุฏ ูุงุงูู ูุฑุงูู ูโฺฉููุฏ ูฺฏุงู ุฎูุงูู ุงูุฏุงุฎุช.</p>
<h3 id="dereferencing-a-raw-pointer"><a class="header" href="#dereferencing-a-raw-pointer">Dereferencing a Raw Pointer</a></h3>
<p>ุฏุฑ ูุตู 4ุ ุฏุฑ ุจุฎุด <a href="ch04-02-references-and-borrowing.html#dangling-references">โDangling Referencesโ</a><!-- ignore -->ุ ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ฺฉุงููพุงูุฑ ุชุถูู ูโฺฉูุฏ ฺฉู ุงุฑุฌุงุนุงุช ููุดู ูุนุชุจุฑ ูุณุชูุฏ. Unsafe Rust ุฏู ููุน ุฌุฏุฏ ุจู ูุงู <em>ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู</em> (raw pointers) ุฏุงุฑุฏ ฺฉู ูุดุงุจู ุงุฑุฌุงุนุงุช ูุณุชูุฏ. ูุงููุฏ ุงุฑุฌุงุนุงุชุ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ูโุชูุงููุฏ immutable ุง mutable ุจุงุดูุฏ ู ุจูโุชุฑุชุจ ุจูโุดฺฉู <code>*const T</code> ู <code>*mut T</code> ููุดุชู ูโุดููุฏ. ุณุชุงุฑู (<code>*</code>) ุนููฺฏุฑ dereference ูุณุชุ ุจูฺฉู ุจุฎุด ุงุฒ ูุงู ููุน ุงุณุช. ุฏุฑ ุฒููู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงูุ <em>immutable</em> ุจู ุงู ูุนูุงุณุช ฺฉู ุงุดุงุฑูโฺฏุฑ (Pointer) ููโุชูุงูุฏ ูพุณ ุงุฒ dereference ูุณุชููุงู ููุฏุงุฑุฏู ุดูุฏ.</p>
<p>ุฏุฑ ููุงุณู ุจุง ุงุฑุฌุงุนุงุช ู ุงุดุงุฑูโฺฏุฑ ูุง ููุดููุฏ (smart pointers)ุ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู:</p>
<ul>
<li>ูุฌุงุฒ ุจู ูุงุฏุฏู ฺฏุฑูุชู ููุงูู borrowing ูุณุชูุฏุ ุจู ุงู ุตูุฑุช ฺฉู ูโุชูุงููุฏ ูู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง immutable ู ูู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง mutable ุจู ููุงู ูฺฉุงู ุฏุงุดุชู ุจุงุดูุฏ.</li>
<li>ุชุถูู ุจุฑุง ุงุดุงุฑู ุจู ุญุงูุธู ูุนุชุจุฑ ูุฏุงุฑูุฏ.</li>
<li>ูโุชูุงููุฏ null ุจุงุดูุฏ.</li>
<li>ูฺ ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉููุฏ.</li>
</ul>
<p>ุจุง ุตุฑูโูุธุฑ ุงุฒ ุชุถููโูุง ุงุฌุจุงุฑ ุฑุงุณุชุ ูโุชูุงูุฏ ุงูู ุชุถููโุดุฏู ุฑุง ุจุง ุนููฺฉุฑุฏ ุจูุชุฑ ุง ุชูุงูุง ุงุฑุชุจุงุท ุจุง ฺฉ ุฒุจุงู ุง ุณุฎุชโุงูุฒุงุฑ ุฏฺฏุฑ ฺฉู ุชุถููโูุง ุฑุงุณุช ุฏุฑ ุขูโูุง ุงุนูุงู ููโุดูุฏุ ูุจุงุฏูู ฺฉูุฏ.</p>
<p>ููุฑุณุช 20-1 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู immutable ู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู mutable ุงุฌุงุฏ ฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut num = 5;

    let r1 = &amp;raw const num;
    let r2 = &amp;raw mut num;
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 20-1: ุงุฌุงุฏ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุจุง ุนููฺฏุฑูุง raw borrow</figcaption>
</figure>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง ุฏุฑ ุงู ฺฉุฏ ุงุฒ ฺฉูุฏูุงฺู <code>unsafe</code> ุงุณุชูุงุฏู ูฺฉุฑุฏูโุงู. ูโุชูุงูู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฑุง ุฏุฑ ฺฉุฏ ุงูู ุงุฌุงุฏ ฺฉููุ ููุท ููโุชูุงูู ุฎุงุฑุฌ ุงุฒ ฺฉ ุจููฺฉ <code>unsafe</code> ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฑุง dereference ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุงุฏุงูู ุฎูุงูุฏ ุฏุฏ.</p>
<p>ูุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑูุง raw borrow ุงุฌุงุฏ ฺฉุฑุฏูโุงู: <code>&amp;raw const num</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู immutable ุงุฒ ููุน <code>*const i32</code> ุงุฌุงุฏ ูโฺฉูุฏุ ู <code>&amp;raw mut num</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู mutable ุงุฒ ููุน <code>*mut i32</code> ุงุฌุงุฏ ูโฺฉูุฏ. ฺูู ุขูโูุง ุฑุง ูุณุชููุงู ุงุฒ ฺฉ ูุชุบุฑ ูุญู ุงุฌุงุฏ ฺฉุฑุฏูโุงูุ ูโุฏุงูู ฺฉู ุงู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฎุงุต ูุนุชุจุฑ ูุณุชูุฏุ ุงูุง ููโุชูุงูู ุงู ูุฑุถ ุฑุง ุจุฑุง ูุฑ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ุฏุงุดุชู ุจุงุดู.</p>
<p>ุจุฑุง ูุดุงู ุฏุงุฏู ุงู ููุถูุนุ ุฏุฑ ุงุฏุงูู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ุงุฌุงุฏ ูโฺฉูู ฺฉู ููโุชูุงูู ุจูโุทูุฑ ูุทุน ุงุฒ ุงุนุชุจุงุฑ ุขู ูุทูุฆู ุจุงุดูุ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>as</code> ุจุฑุง ุชุจุฏู ฺฉ ููุฏุงุฑ ุจูโุฌุง ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑูุง raw reference. ููุฑุณุช 20-2 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ุจู ฺฉ ูฺฉุงู ุฏูุฎูุงู ุฏุฑ ุญุงูุธู ุงุฌุงุฏ ฺฉูู. ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู ุฏูุฎูุงู ุชุนุฑูโูุดุฏู ุงุณุช: ููฺฉู ุงุณุช ุฏุงุฏูโุง ุฏุฑ ุขู ุขุฏุฑุณ ุจุงุดุฏ ุง ูุจุงุดุฏุ ฺฉุงููพุงูุฑ ููฺฉู ุงุณุช ฺฉุฏ ุฑุง ุจูููโุณุงุฒ ฺฉูุฏ ุชุง ูฺ ุฏุณุชุฑุณ ุญุงูุธูโุง ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ ุง ุจุฑูุงูู ููฺฉู ุงุณุช ุจุง ฺฉ ุฎุทุง segmentation fault ููุงุฌู ุดูุฏ. ูุนูููุงู ุฏูู ุฎูุจ ุจุฑุง ููุดุชู ฺฉุฏ ูุงููุฏ ุงู ูุฌูุฏ ูุฏุงุฑุฏุ ุจูโูฺู ุฏุฑ ููุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุนููฺฏุฑ raw borrow ุงุณุชูุงุฏู ฺฉูุฏุ ุงูุง ุงู ฺฉุงุฑ ุงูฺฉุงูโูพุฐุฑ ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let address = 0x012345usize;
    let r = address as *const i32;
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 20-2: ุงุฌุงุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ุจู ฺฉ ุขุฏุฑุณ ุญุงูุธู ุฏูุฎูุงู</figcaption>
</figure>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูโุชูุงูู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฑุง ุฏุฑ ฺฉุฏ ุงูู ุงุฌุงุฏ ฺฉููุ ุงูุง ููโุชูุงูู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฑุง <em>dereference</em> ฺฉูู ู ุฏุงุฏูโุง ฺฉู ุจู ุขู ุงุดุงุฑู ุดุฏู ุฑุง ุจุฎูุงูู. ุฏุฑ ููุฑุณุช 20-3ุ ูุง ุงุฒ ุนููฺฏุฑ dereference (<code>*</code>) ุฑู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุจู ฺฉ ุจููฺฉ <code>unsafe</code> ูุงุฒ ุฏุงุฑุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut num = 5;

    let r1 = &amp;raw const num;
    let r2 = &amp;raw mut num;

    unsafe {
        println!("r1 is: {}", *r1);
        println!("r2 is: {}", *r2);
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 20-3: Dereferencing ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุฏุฑูู ฺฉ ุจููฺฉ <code>unsafe</code></figcaption>
</figure>
<p>ุงุฌุงุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุขุณุจ ููโุฑุณุงูุฏุ ููุท ููุช ุณุน ูโฺฉูู ุจู ููุฏุงุฑ ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉูู ููฺฉู ุงุณุช ุจุง ฺฉ ููุฏุงุฑ ูุงูุนุชุจุฑ ุณุฑ ู ฺฉุงุฑ ุฏุงุดุชู ุจุงุดู.</p>
<p>ููฺูู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุฑ ููุฑุณุช 20-1 ู 20-3ุ ูุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู <code>*const i32</code> ู <code>*mut i32</code> ุงุฌุงุฏ ฺฉุฑุฏู ฺฉู ูุฑ ุฏู ุจู ููุงู ูฺฉุงู ุญุงูุธู ฺฉู <code>num</code> ุฏุฑ ุขู ุฐุฎุฑู ุดุฏู ุจูุฏ ุงุดุงุฑู ูโฺฉุฑุฏูุฏ. ุงฺฏุฑ ุจูโุฌุง ุงู ฺฉุงุฑุ ุณุน ูโฺฉุฑุฏู ฺฉ ุงุฑุฌุงุน immutable ู ฺฉ ุงุฑุฌุงุน mutable ุจู <code>num</code> ุงุฌุงุฏ ฺฉููุ ฺฉุฏ ฺฉุงููพุงู ููโุดุฏุ ุฒุฑุง ููุงูู ูุงูฺฉุช ุฑุงุณุช ุงุฌุงุฒู ููโุฏููุฏ ฺฉู ฺฉ ุงุฑุฌุงุน mutable ููุฒูุงู ุจุง ูุฑ ุงุฑุฌุงุน immutable ุฏฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุจุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงูุ ูโุชูุงูู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) mutable ู ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) immutable ุจู ููุงู ูฺฉุงู ุงุฌุงุฏ ฺฉูู ู ุฏุงุฏูโูุง ุฑุง ุงุฒ ุทุฑู ุงุดุงุฑูโฺฏุฑ (Pointer) mutable ุชุบุฑ ุฏููุ ฺฉู ููฺฉู ุงุณุช ฺฉ data race ุงุฌุงุฏ ฺฉูุฏ. ูุฑุงูุจ ุจุงุดุฏ!</p>
<p>ุจุง ูุฌูุฏ ุชูุงู ุงู ุฎุทุฑุงุชุ ฺุฑุง ุจุงุฏ ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉ ุงุฒ ููุงุฑุฏ ุงุณุชูุงุฏู ุงุตู ููฺฏุงู ุชุนุงูู ุจุง ฺฉุฏ C ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด ุจุนุฏ <a href="ch20-01-unsafe-rust.html#calling-an-unsafe-function-or-method">โCalling an Unsafe Function or Method.โ</a><!-- ignore --> ุฎูุงูุฏ ุฏุฏ. ููุฑุฏ ุฏฺฏุฑ ุฒูุงู ุงุณุช ฺฉู ุงูุชุฒุงุนุงุช ุงูู ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุณุณุชู borrow checker ุขู ุฑุง ููโูููุฏ. ุงุจุชุฏุง ุชูุงุจุน ูุงุงูู ุฑุง ูุนุฑู ูโฺฉูู ู ุณูพุณ ุจู ฺฉ ูุซุงู ุงุฒ ฺฉ ุงูุชุฒุงุน ุงูู ฺฉู ุงุฒ ฺฉุฏ ูุงุงูู ุงุณุชูุงุฏู ูโฺฉูุฏุ ูโูพุฑุฏุงุฒู.</p>
<h3 id="calling-an-unsafe-function-or-method"><a class="header" href="#calling-an-unsafe-function-or-method">Calling an Unsafe Function or Method</a></h3>
<p>ุฏููู ููุน ุนููุงุช ฺฉู ูโุชูุงูุฏ ุฏุฑ ฺฉ ุจููฺฉ ูุงุงูู ุงูุฌุงู ุฏูุฏุ ูุฑุงุฎูุงู ุชูุงุจุน ูุงุงูู ุงุณุช. ุชูุงุจุน ู ูุชุฏูุง ูุงุงูู ุฏููุงู ุดุจู ุชูุงุจุน ู ูุชุฏูุง ุนุงุฏ ุจู ูุธุฑ ูโุฑุณูุฏุ ุงูุง ูุจู ุงุฒ ุจูู ุชุนุฑู ฺฉ <code>unsafe</code> ุงุถุงูู ุฏุงุฑูุฏ. ฺฉูุฏูุงฺู <code>unsafe</code> ุฏุฑ ุงู ุฒููู ูุดุงู ูโุฏูุฏ ฺฉู ุชุงุจุน ุฏุงุฑุง ุงูุฒุงูุงุช ุงุณุช ฺฉู ููฺฏุงู ูุฑุงุฎูุงู ุงู ุชุงุจุน ุจุงุฏ ุฑุนุงุช ฺฉููุ ุฒุฑุง ุฑุงุณุช ููโุชูุงูุฏ ุชุถูู ฺฉูุฏ ฺฉู ุงู ุงูุฒุงูุงุช ุฑุง ุฑุนุงุช ฺฉุฑุฏูโุงู. ุจุง ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ูุงุงูู ุฏุฑ ฺฉ ุจููฺฉ <code>unsafe</code>ุ ูุง ูโฺฏูู ฺฉู ูุณุชูุฏุงุช ุงู ุชุงุจุน ุฑุง ุฎูุงูุฏูโุงู ู ูุณุฆููุช ุฑุนุงุช ูุฑุงุฑุฏุงุฏูุง ุชุงุจุน ุฑุง ุจุฑ ุนูุฏู ูโฺฏุฑู.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ุชุงุจุน ูุงุงูู ุจู ูุงู <code>dangerous</code> ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ุฏุฑ ุจุฏูู ุฎูุฏ ฺฉุงุฑ ุงูุฌุงู ููโุฏูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    unsafe fn dangerous() {}

    unsafe {
        dangerous();
    }
<span class="boring">}</span></code></pre></pre>
<p>ูุง ุจุงุฏ ุชุงุจุน <code>dangerous</code> ุฑุง ุฏุฑ ฺฉ ุจููฺฉ <code>unsafe</code> ุฌุฏุงฺฏุงูู ูุฑุงุฎูุงู ฺฉูู. ุงฺฏุฑ ุณุน ฺฉูู ุจุฏูู ุจููฺฉ <code>unsafe</code> ุชุงุจุน <code>dangerous</code> ุฑุง ูุฑุงุฎูุงู ฺฉููุ ุจุง ุฎุทุง ููุงุฌู ุฎูุงูู ุดุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling unsafe-example v0.1.0 (file:///projects/unsafe-example)
error[E0133]: call to unsafe function `dangerous` is unsafe and requires unsafe function or block
 --&gt; src/main.rs:4:5
  |
4 |     dangerous();
  |     ^^^^^^^^^^^ call to unsafe function
  |
  = note: consult the function's documentation for information on how to avoid undefined behavior

For more information about this error, try `rustc --explain E0133`.
error: could not compile `unsafe-example` (bin "unsafe-example") due to 1 previous error
</code></pre>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ุจููฺฉ <code>unsafe</code>ุ ูุง ุจู ุฑุงุณุช ุงุนูุงู ูโฺฉูู ฺฉู ูุณุชูุฏุงุช ุชุงุจุน ุฑุง ุฎูุงูุฏูโุงูุ ูโุฏุงูู ฺฺฏููู ุจูโุฏุฑุณุช ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุ ู ุชุฃุฏ ฺฉุฑุฏูโุงู ฺฉู ูุฑุงุฑุฏุงุฏ ุชุงุจุน ุฑุง ุฑุนุงุช ูโฺฉูู.</p>
<p>ุจุฑุง ุงูุฌุงู ุนููุงุช ูุงุงูู (<em>unsafe</em>) ุฏุฑ ุจุฏูู ฺฉ ุชุงุจุน ูุงุงููุ ููฺูุงู ุจุงุฏ ุงุฒ ฺฉ ุจููฺฉ <code>unsafe</code> ุงุณุชูุงุฏู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ฺฉ ุชุงุจุน ูุนููู ุงู ฺฉุงุฑ ุฑุง ูโฺฉูุฏุ ู ุงฺฏุฑ ุงู ฺฉุงุฑ ุฑุง ูุฑุงููุด ฺฉูุฏุ ฺฉุงููพุงูุฑ ุจู ุดูุง ูุดุฏุงุฑ ุฎูุงูุฏ ุฏุงุฏ. ุงู ุงูุฑ ุจู ฺฉูฺฺฉ ูฺฏู ุฏุงุดุชู ุจููฺฉโูุง <code>unsafe</code> ฺฉูฺฉ ูโฺฉูุฏุ ุฒุฑุง ููฺฉู ุงุณุช ุนููุงุช ูุงุงูู ุฏุฑ ฺฉู ุจุฏูู ุชุงุจุน ููุฑุฏ ูุงุฒ ูุจุงุดุฏ.</p>
<h4 id="creating-a-safe-abstraction-over-unsafe-code"><a class="header" href="#creating-a-safe-abstraction-over-unsafe-code">Creating a Safe Abstraction over Unsafe Code</a></h4>
<p>ููุท ุจู ุงู ุฏูู ฺฉู ฺฉ ุชุงุจุน ุญุงู ฺฉุฏ ูุงุงูู ุงุณุช ุจู ุงู ูุนูุง ูุณุช ฺฉู ุจุงุฏ ฺฉู ุชุงุจุน ุฑุง ุจูโุนููุงู ูุงุงูู ุนูุงูุชโฺฏุฐุงุฑ ฺฉูู. ุฏุฑ ูุงูุนุ ูุญุตูุฑ ฺฉุฑุฏู ฺฉุฏ ูุงุงูู ุฏุฑ ฺฉ ุชุงุจุน ุงูู ฺฉ ุงูุชุฒุงุน ุฑุงุฌ ุงุณุช. ุจูโุนููุงู ูุซุงูุ ุจุงุฏ ุชุงุจุน <code>split_at_mut</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูู ฺฉู ุจู ฺฉุฏ ูุงุงูู ูุงุฒ ุฏุงุฑุฏ. ูุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ููฺฉู ุงุณุช ุขู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู. ุงู ูุชุฏ ุงูู ุฑู ุจุฑุดโูุง ูุงุจู ุชุบุฑ (mutable slices) ุชุนุฑู ุดุฏู ุงุณุช: ุงู ุชุงุจุน ฺฉ ุจุฑุด ุฑุง ูโฺฏุฑุฏ ู ุขู ุฑุง ุจู ุฏู ูุณูุช ุชูุณู ูโฺฉูุฏ ุจุง ุชูุณู ฺฉุฑุฏู ุจุฑุด ุฏุฑ ุงูุฏฺฉุณ ฺฉู ุจูโุนููุงู ุขุฑฺฏููุงู ุฏุงุฏู ุดุฏู ุงุณุช. ููุฑุณุช 20-4 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุงุฒ <code>split_at_mut</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let mut v = vec![1, 2, 3, 4, 5, 6];

    let r = &amp;mut v[..];

    let (a, b) = r.split_at_mut(3);

    assert_eq!(a, &amp;mut [1, 2, 3]);
    assert_eq!(b, &amp;mut [4, 5, 6]);
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 20-4: ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน ุงูู <code>split_at_mut</code></figcaption>
</figure>
<p>ูุง ููโุชูุงูู ุงู ุชุงุจุน ุฑุง ููุท ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑุงุณุช ุงูู ูพุงุฏูโุณุงุฒ ฺฉูู. ฺฉ ุชูุงุด ููฺฉู ุงุณุช ฺุฒ ุดุจู ุจู ููุฑุณุช 20-5 ุจุงุดุฏุ ฺฉู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ุจุฑุง ุณุงุฏฺฏุ ูุง <code>split_at_mut</code> ุฑุง ุจูโุนููุงู ฺฉ ุชุงุจุน ูพุงุฏูโุณุงุฒ ูโฺฉูู ูู ฺฉ ูุชุฏุ ู ููุท ุจุฑุง ุจุฑุดโูุง <code>i32</code> ุจูโุฌุง ฺฉ ููุน generic <code>T</code>.</p>
<figure class="listing">
<pre><code class="language-rust ignore does_not_compile">fn split_at_mut(values: &amp;mut [i32], mid: usize) -&gt; (&amp;mut [i32], &amp;mut [i32]) {
    let len = values.len();

    assert!(mid &lt;= len);

    (&amp;mut values[..mid], &amp;mut values[mid..])
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let mut vector = vec![1, 2, 3, 4, 5, 6];
</span><span class="boring">    let (left, right) = split_at_mut(&amp;mut vector, 3);
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 20-5: ุชูุงุด ุจุฑุง ูพุงุฏูโุณุงุฒ <code>split_at_mut</code> ููุท ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑุงุณุช ุงูู</figcaption>
</figure>
<p>ุงู ุชุงุจุน ุงุจุชุฏุง ุทูู ฺฉู ุจุฑุด ุฑุง ุจู ุฏุณุช ูโุขูุฑุฏ. ุณูพุณ ุชุฃุฏ ูโฺฉูุฏ ฺฉู ุงูุฏฺฉุณ ฺฉู ุจูโุนููุงู ูพุงุฑุงูุชุฑ ุฏุงุฏู ุดุฏู ุฏุฑ ูุญุฏูุฏู ุจุฑุด ูุฑุงุฑ ุฏุงุฑุฏุ ุจุง ุจุฑุฑุณ ุงูฺฉู ุขุง ฺฉูุชุฑ ุงุฒ ุง ุจุฑุงุจุฑ ุทูู ุงุณุช. ุงู ุชุฃุฏ ุจู ุงู ูุนูุงุณุช ฺฉู ุงฺฏุฑ ุงูุฏฺฉุณ ุจุฒุฑฺฏโุชุฑ ุงุฒ ุทูู ุจุฑุง ุชูุณู ุจุฑุด ุฏุงุฏู ุดูุฏุ ุชุงุจุน ูุจู ุงุฒ ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุขู ุงูุฏฺฉุณ ุฏฺุงุฑ panic ุฎูุงูุฏ ุดุฏ.</p>
<p>ุณูพุณ ุฏู ุจุฑุด ูุงุจู ุชุบุฑ ุฑุง ุฏุฑ ฺฉ tuple ุจุงุฒูโฺฏุฑุฏุงูู: ฺฉ ุงุฒ ุงุจุชุฏุง ุจุฑุด ุงุตู ุชุง ุงูุฏฺฉุณ <code>mid</code> ู ุฏฺฏุฑ ุงุฒ <code>mid</code> ุชุง ุงูุชูุง ุจุฑุด.</p>
<p>ููุช ุณุน ูโฺฉูู ฺฉุฏ ุฏุฑ ููุฑุณุช 20-5 ุฑุง ฺฉุงููพุงู ฺฉููุ ุจุง ุฎุทุง ููุงุฌู ุฎูุงูู ุดุฏ.</p>
<pre><code class="language-console">$ cargo run
   Compiling unsafe-example v0.1.0 (file:///projects/unsafe-example)
error[E0499]: cannot borrow `*values` as mutable more than once at a time
 --&gt; src/main.rs:6:31
  |
1 | fn split_at_mut(values: &amp;mut [i32], mid: usize) -&gt; (&amp;mut [i32], &amp;mut [i32]) {
  |                         - let's call the lifetime of this reference `'1`
...
6 |     (&amp;mut values[..mid], &amp;mut values[mid..])
  |     --------------------------^^^^^^--------
  |     |     |                   |
  |     |     |                   second mutable borrow occurs here
  |     |     first mutable borrow occurs here
  |     returning this value requires that `*values` is borrowed for `'1`
  |
  = help: use `.split_at_mut(position)` to obtain two mutable non-overlapping sub-slices

For more information about this error, try `rustc --explain E0499`.
error: could not compile `unsafe-example` (bin "unsafe-example") due to 1 previous error
</code></pre>
<p>Rustโs borrow checker ููโุชูุงูุฏ ุจูููุฏ ฺฉู ูุง ุฏุฑ ุญุงู ูุฑุถ ฺฏุฑูุชู ูุณูุชโูุง ูุฎุชูู ุงุฒ ฺฉ ุจุฑุด ูุณุชูุ ุชููุง ฺุฒ ฺฉู ูโุฏุงูุฏ ุงู ุงุณุช ฺฉู ูุง ุฏู ุจุงุฑ ุงุฒ ููุงู ุจุฑุด ูุฑุถ ฺฏุฑูุชูโุงู. ูุฑุถ ฺฏุฑูุชู ูุณูุชโูุง ูุฎุชูู ฺฉ ุจุฑุด ุงุตููุงู ุงุดฺฉุงู ูุฏุงุฑุฏุ ุฒุฑุง ุงู ุฏู ุจุฑุด ุจุง ฺฉุฏฺฏุฑ ููโูพูุดุงู ูุฏุงุฑูุฏุ ุงูุง Rust ุจูโุงูุฏุงุฒู ฺฉุงู ููุดููุฏ ูุณุช ฺฉู ุงู ููุถูุน ุฑุง ุจุฏุงูุฏ. ููุช ูโุฏุงูู ฺฉุฏ ูุดฺฉู ูุฏุงุฑุฏุ ุงูุง Rust ููโุฏุงูุฏุ ุฒูุงู ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ูุงุงูู ูุฑุง ูโุฑุณุฏ.</p>
<p>ููุฑุณุช 20-6 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุงุฒ ฺฉ ุจููฺฉ <code>unsafe</code>ุ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงูุ ู ฺูุฏ ูุฑุงุฎูุงู ุจู ุชูุงุจุน ูุงุงูู ุจุฑุง ุงุฌุฑุง ุชุงุจุน <code>split_at_mut</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">use std::slice;

fn split_at_mut(values: &amp;mut [i32], mid: usize) -&gt; (&amp;mut [i32], &amp;mut [i32]) {
    let len = values.len();
    let ptr = values.as_mut_ptr();

    assert!(mid &lt;= len);

    unsafe {
        (
            slice::from_raw_parts_mut(ptr, mid),
            slice::from_raw_parts_mut(ptr.add(mid), len - mid),
        )
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let mut vector = vec![1, 2, 3, 4, 5, 6];
</span><span class="boring">    let (left, right) = split_at_mut(&amp;mut vector, 3);
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 20-6: ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ูุงุงูู ุฏุฑ ูพุงุฏูโุณุงุฒ ุชุงุจุน <code>split_at_mut</code></figcaption>
</figure>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ุงุฒ ุจุฎุด <a href="ch04-03-slices.html#the-slice-type">โThe Slice Typeโ</a><!-- ignore --> ุฏุฑ ูุตู 4 ฺฉู ุจุฑุดโูุง ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุจู ุจุฑุฎ ุฏุงุฏูโูุง ู ุทูู ุขู ุจุฑุด ูุณุชูุฏ. ูุง ุงุฒ ูุชุฏ <code>len</code> ุจุฑุง ุฏุฑุงูุช ุทูู ฺฉ ุจุฑุด ู ุงุฒ ูุชุฏ <code>as_mut_ptr</code> ุจุฑุง ุฏุณุชุฑุณ ุจู ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ฺฉ ุจุฑุด ุงุณุชูุงุฏู ูโฺฉูู. ุฏุฑ ุงู ููุฑุฏุ ฺูู ูุง ฺฉ ุจุฑุด ูุงุจู ุชุบุฑ ุจู ููุงุฏุฑ <code>i32</code> ุฏุงุฑูุ <code>as_mut_ptr</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ุจุง ููุน <code>*mut i32</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุขู ุฑุง ุฏุฑ ูุชุบุฑ <code>ptr</code> ุฐุฎุฑู ฺฉุฑุฏูโุงู.</p>
<p>ูุง ุชุฃุฏ ูโฺฉูู ฺฉู ุงูุฏฺฉุณ <code>mid</code> ุฏุฑ ูุญุฏูุฏู ุจุฑุด ุงุณุช. ุณูพุณ ุจู ฺฉุฏ ูุงุงูู ูโุฑุณู: ุชุงุจุน <code>slice::from_raw_parts_mut</code> ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ู ฺฉ ุทูู ุฑุง ูโฺฏุฑุฏ ู ฺฉ ุจุฑุด ุงุฌุงุฏ ูโฺฉูุฏ. ูุง ุงุฒ ุงู ุชุงุจุน ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฑุด ฺฉู ุงุฒ <code>ptr</code> ุดุฑูุน ูโุดูุฏ ู <code>mid</code> ุขุชู ุทูู ุฏุงุฑุฏ ุงุณุชูุงุฏู ูโฺฉูู. ุณูพุณ ูุชุฏ <code>add</code> ุฑุง ุฑู <code>ptr</code> ุจุง ุขุฑฺฏููุงู <code>mid</code> ูุฑุงุฎูุงู ูโฺฉูู ุชุง ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ฺฉู ุงุฒ <code>mid</code> ุดุฑูุน ูโุดูุฏ ุฏุฑุงูุช ฺฉููุ ู ุจุง ุงุณุชูุงุฏู ุงุฒ ุขู ุงุดุงุฑูโฺฏุฑ (Pointer) ู ุชุนุฏุงุฏ ุขุชูโูุง ุจุงูโูุงูุฏู ุจุนุฏ ุงุฒ <code>mid</code> ุจูโุนููุงู ุทููุ ฺฉ ุจุฑุด ุงุฌุงุฏ ูโฺฉูู.</p>
<p>ุชุงุจุน <code>slice::from_raw_parts_mut</code> ูุงุงูู ุงุณุช ุฒุฑุง ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู ูโฺฏุฑุฏ ู ุจุงุฏ ุงุนุชูุงุฏ ฺฉูุฏ ฺฉู ุงู ุงุดุงุฑูโฺฏุฑ (Pointer) ูุนุชุจุฑ ุงุณุช. ูุชุฏ <code>add</code> ุฑู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ูุฒ ูุงุงูู ุงุณุชุ ุฒุฑุง ุจุงุฏ ุงุนุชูุงุฏ ฺฉูุฏ ฺฉู ูููุนุช ุขูุณุช ูุฒ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ูุนุชุจุฑ ุงุณุช. ุจูุงุจุฑุงูุ ูุง ูุฌุจูุฑ ุดุฏู ฺฉ ุจููฺฉ <code>unsafe</code> ุฏุฑ ุงุทุฑุงู ูุฑุงุฎูุงูโูุง ุฎูุฏ ุจู <code>slice::from_raw_parts_mut</code> ู <code>add</code> ูุฑุงุฑ ุฏูู ุชุง ุจุชูุงูู ุขูโูุง ุฑุง ูุฑุงุฎูุงู ฺฉูู. ุจุง ูฺฏุงู ุจู ฺฉุฏ ู ุจุง ุงูุฒูุฏู ุชุฃุฏูโุง ฺฉู <code>mid</code> ุจุงุฏ ฺฉูุชุฑ ุงุฒ ุง ุจุฑุงุจุฑ ุจุง <code>len</code> ุจุงุดุฏุ ูโุชูุงูู ุจฺฏูู ฺฉู ุชูุงู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงู ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ุจููฺฉ <code>unsafe</code> ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ูุนุชุจุฑ ุจู ุฏุงุฏูโูุง ุฏุฑูู ุจุฑุด ุฎูุงููุฏ ุจูุฏ. ุงู ฺฉ ุงุณุชูุงุฏู ูุงุจูโูุจูู ู ููุงุณุจ ุงุฒ <code>unsafe</code> ุงุณุช.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุงุฒ ุจู ุนูุงูุชโฺฏุฐุงุฑ ุชุงุจุน <code>split_at_mut</code> ุจูโุนููุงู <code>unsafe</code> ูุฏุงุฑู ู ูโุชูุงูู ุงู ุชุงุจุน ุฑุง ุงุฒ ฺฉุฏ ุงูู Rust ูุฑุงุฎูุงู ฺฉูู. ูุง ฺฉ ุงูุชุฒุงุน ุงูู ุจุฑุง ฺฉุฏ ูุงุงูู ุจุง ูพุงุฏูโุณุงุฒ ุชุงุจุน ฺฉู ุงุฒ ฺฉุฏ ูุงุงูู ุจู ุฑูุด ุงูู ุงุณุชูุงุฏู ูโฺฉูุฏ ุงุฌุงุฏ ฺฉุฑุฏูโุงูุ ุฒุฑุง ููุท ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ูุนุชุจุฑ ุงุฒ ุฏุงุฏูโูุง ฺฉู ุงู ุชุงุจุน ุจู ุขูโูุง ุฏุณุชุฑุณ ุฏุงุฑุฏ ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ููุงุจูุ ุงุณุชูุงุฏู ุงุฒ <code>slice::from_raw_parts_mut</code> ุฏุฑ ููุฑุณุช 20-7 ุงุญุชูุงูุงู ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ุจุฑุด ุจุงุนุซ ฺฉุฑุด ฺฉุฑุฏู ูโุดูุฏ. ุงู ฺฉุฏ ฺฉ ูฺฉุงู ุญุงูุธู ุฏูุฎูุงู ูโฺฏุฑุฏ ู ฺฉ ุจุฑุด ุจุง ุทูู 10,000 ุขุชู ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    use std::slice;

    let address = 0x01234usize;
    let r = address as *mut i32;

    let values: &amp;[i32] = unsafe { slice::from_raw_parts_mut(r, 10000) };
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 20-7: ุงุฌุงุฏ ฺฉ ุจุฑุด ุงุฒ ฺฉ ูฺฉุงู ุญุงูุธู ุฏูุฎูุงู</figcaption>
</figure>
<p>ูุง ูุงูฺฉ ุญุงูุธู ุฏุฑ ุงู ูฺฉุงู ุฏูุฎูุงู ูุณุชู ู ูฺ ุชุถูู ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุจุฑุด ฺฉู ุงู ฺฉุฏ ุงุฌุงุฏ ูโฺฉูุฏ ุญุงู ููุงุฏุฑ ูุนุชุจุฑ <code>i32</code> ุจุงุดุฏ. ุชูุงุด ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>values</code> ุจูโุนููุงู ุงูฺฉู ฺฉ ุจุฑุด ูุนุชุจุฑ ุงุณุช ููุฌุฑ ุจู ุฑูุชุงุฑ ุชุนุฑูโูุดุฏู ูโุดูุฏ.</p>
<h4 id="using-extern-functions-to-call-external-code"><a class="header" href="#using-extern-functions-to-call-external-code">Using <code>extern</code> Functions to Call External Code</a></h4>
<p>ฺฏุงู ุงููุงุชุ ฺฉุฏ Rust ุดูุง ููฺฉู ุงุณุช ูุงุฒ ุจู ุชุนุงูู ุจุง ฺฉุฏ ฺฉู ุจู ุฒุจุงู ุฏฺฏุฑ ููุดุชู ุดุฏู ุฏุงุฑุฏ. ุจุฑุง ุงู ููุธูุฑุ ุฑุงุณุช ฺฉูุฏูุงฺู <code>extern</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุงูฺฉุงู ุงุฌุงุฏ ู ุงุณุชูุงุฏู ุงุฒ ฺฉ <em>ุฑุงุจุท ุชุงุจุน ุฎุงุฑุฌ (FFI)</em> ุฑุง ูุฑุงูู ูโฺฉูุฏ. ฺฉ FFI ุฑุงู ุงุณุช ุจุฑุง ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุจุฑุง ุชุนุฑู ุชูุงุจุน ู ุงูฺฉุงู ูุฑุงุฎูุงู ุขู ุชูุงุจุน ุชูุณุท ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุฏฺฏุฑ (ุฎุงุฑุฌ).</p>
<p>ููุฑุณุช 20-8 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ฺฉ ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ุชุงุจุน <code>abs</code> ุงุฒ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ C ุชูุธู ฺฉูู. ุชูุงุจุน ฺฉู ุฏุฑูู ุจููฺฉโูุง <code>extern</code> ุงุนูุงู ูโุดููุฏ ูุนูููุงู ุงุฒ ฺฉุฏ ุฑุงุณุช ูุงุงูู ุจุฑุง ูุฑุงุฎูุงู ุงุณุชูุงุฏู ูโุดููุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุจุง <code>unsafe</code> ูุฒ ุนูุงูุชโฺฏุฐุงุฑ ุดููุฏ. ุฏูู ุงู ุงุณุช ฺฉู ุฒุจุงูโูุง ุฏฺฏุฑ ููุงูู ู ุชุถููโูุง ุฑุงุณุช ุฑุง ุงุนูุงู ููโฺฉููุฏุ ู ุฑุงุณุช ููโุชูุงูุฏ ุขูโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏุ ุจูุงุจุฑุงู ูุณุฆููุช ุจุฑ ุนูุฏู ุจุฑูุงููโููุณ ุงุณุช ฺฉู ุงูู ุฑุง ุชุถูู ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">unsafe extern "C" {
    fn abs(input: i32) -&gt; i32;
}

fn main() {
    unsafe {
        println!("Absolute value of -3 according to C: {}", abs(-3));
    }
}</code></pre></pre>
<figcaption>Listing 20-8: ุงุนูุงู ู ูุฑุงุฎูุงู ฺฉ ุชุงุจุน <code>extern</code> ุชุนุฑูโุดุฏู ุฏุฑ ุฒุจุงู ุฏฺฏุฑ</figcaption>
</figure>
<p>ุฏุฑูู ุจููฺฉ <code>unsafe extern "C"</code>ุ ูุง ูุงูโูุง ู ุงูุถุงูุง ุชูุงุจุน ุฎุงุฑุฌ ุงุฒ ฺฉ ุฒุจุงู ุฏฺฏุฑ ฺฉู ูโุฎูุงูู ูุฑุงุฎูุงู ฺฉูู ุฑุง ููุฑุณุช ูโฺฉูู. ุจุฎุด <code>"C"</code> ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฉุฏุงู <em>ุฑุงุจุท ุฏูุฏู ุจุฑูุงูู (ABI)</em> ุชูุณุท ุชุงุจุน ุฎุงุฑุฌ ุงุณุชูุงุฏู ูโุดูุฏ: ABI ุชุนุฑู ูโฺฉูุฏ ฺฉู ฺฺฏููู ุชุงุจุน ุฏุฑ ุณุทุญ ุงุณูุจู ูุฑุงุฎูุงู ุดูุฏ. ABI <code>"C"</code> ุฑุงุฌโุชุฑู ุงุณุช ู ุงุฒ ABI ุฒุจุงู ุจุฑูุงููโููุณ C ูพุฑู ูโฺฉูุฏ.</p>
<p>ุงู ุชุงุจุน ุฎุงุต ูฺ ููุงุญุธุงุช ุงูู ุญุงูุธูโุง ูุฏุงุฑุฏ. ุฏุฑ ูุงูุนุ ูุง ูโุฏุงูู ฺฉู ูุฑ ูุฑุงุฎูุงู ุจู <code>abs</code> ููุดู ุจุฑุง ูุฑ <code>i32</code> ุงูู ุฎูุงูุฏ ุจูุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุงุฒ ฺฉูุฏูุงฺู <code>safe</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ุจฺฏูู ฺฉู ุงู ุชุงุจุน ุฎุงุต ุญุช ุจุง ูุฌูุฏ ุงูฺฉู ุฏุฑ ฺฉ ุจููฺฉ <code>unsafe extern</code> ุงุณุชุ ุงูู ุงุณุช. ููฺฏุงู ฺฉู ุงู ุชุบุฑ ุฑุง ุงุนูุงู ฺฉููุ ูุฑุงุฎูุงู ุขู ุฏฺฏุฑ ูุงุฒ ุจู ฺฉ ุจููฺฉ <code>unsafe</code> ูุฏุงุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-9 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">unsafe extern "C" {
    safe fn abs(input: i32) -&gt; i32;
}

fn main() {
    println!("Absolute value of -3 according to C: {}", abs(-3));
}</code></pre></pre>
<figcaption>Listing 20-9: ุนูุงูุชโฺฏุฐุงุฑ ุตุฑุญ ฺฉ ุชุงุจุน ุจูโุนููุงู <code>safe</code> ุฏุฑูู ฺฉ ุจููฺฉ <code>unsafe extern</code> ู ูุฑุงุฎูุงู ุงูู ุขู</figcaption>
</figure>
<p>ุนูุงูุชโฺฏุฐุงุฑ ฺฉ ุชุงุจุน ุจูโุนููุงู <code>safe</code> ุฐุงุชุงู ุขู ุฑุง ุงูู ููโฺฉูุฏ! ุฏุฑ ุนูุถุ ุงู ูุงููุฏ ฺฉ ูุนุฏูโุง ุงุณุช ฺฉู ุดูุง ุจู ุฑุงุณุช ูโุฏูุฏ ฺฉู ุงูู <em>ุงุณุช</em>. ููฺูุงู ูุณุฆููุช ุดูุงุณุช ฺฉู ุงุทููุงู ุญุงุตู ฺฉูุฏ ุงู ูุนุฏู ุฑุนุงุช ุดูุฏ!</p>
<section class="note" aria-role="note">
<h4 id="calling-rust-functions-from-other-languages"><a class="header" href="#calling-rust-functions-from-other-languages">Calling Rust Functions from Other Languages</a></h4>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ <code>extern</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ุฑุงุจุท ุงุณุชูุงุฏู ฺฉูู ฺฉู ุจู ุฒุจุงูโูุง ุฏฺฏุฑ ุงุฌุงุฒู ุฏูุฏ ุชูุงุจุน ุฑุงุณุช ุฑุง ูุฑุงุฎูุงู ฺฉููุฏ. ุจู ุฌุง ุงุฌุงุฏ ฺฉ ุจููฺฉ <code>extern</code> ฺฉุงููุ ูุง ฺฉูุฏูุงฺู <code>extern</code> ุฑุง ุงุถุงูู ูโฺฉูู ู ABI ููุฑุฏ ุงุณุชูุงุฏู ุฑุง ุฏุฑุณุช ูุจู ุงุฒ ฺฉูุฏูุงฺู <code>fn</code> ุจุฑุง ุชุงุจุน ูุฑุจูุทู ูุดุฎุต ูโฺฉูู. ููฺูู ุจุงุฏ ฺฉ ุญุงุดูโููุณ <code>#[unsafe(no_mangle)]</code> ุงุถุงูู ฺฉูู ุชุง ุจู ฺฉุงููพุงูุฑ ุฑุงุณุช ุจฺฏูู ูุงู ุงู ุชุงุจุน ุฑุง ุชุบุฑ ูุฏูุฏ. <em>Mangling</em> ุฒูุงู ุงุณุช ฺฉู ฺฉ ฺฉุงููพุงูุฑ ูุงู ุฑุง ฺฉู ุจู ฺฉ ุชุงุจุน ุฏุงุฏูโุงู ุจู ูุงู ูุชูุงูุช ุชุบุฑ ูโุฏูุฏ ฺฉู ุญุงู ุงุทูุงุนุงุช ุจุดุชุฑ ุจุฑุง ุณุงุฑ ุจุฎุดโูุง ูุฑุขูุฏ ฺฉุงููพุงู ุจุงุดุฏ ุงูุง ฺฉูุชุฑ ูุงุจู ุฎูุงูุฏู ุจุฑุง ุงูุณุงู ุจุงุดุฏ. ูุฑ ฺฉุงููพุงูุฑ ุฒุจุงู ุจุฑูุงููโููุณ ูุงูโูุง ุฑุง ฺฉู ูุชูุงูุช mangling ูโฺฉูุฏุ ุจูุงุจุฑุงู ุจุฑุง ุงูฺฉู ฺฉ ุชุงุจุน ุฑุงุณุช ุชูุณุท ุฒุจุงูโูุง ุฏฺฏุฑ ูุงุจู ูุงูโฺฏุฐุงุฑ ุจุงุดุฏุ ุจุงุฏ mangling ูุงู ฺฉุงููพุงูุฑ ุฑุงุณุช ุฑุง ุบุฑูุนุงู ฺฉูู. ุงู ูุงุงูู ุงุณุช ุฒุฑุง ููฺฉู ุงุณุช ุฏุฑ ูุงู ฺฉุชุงุจุฎุงููโูุง ุชุถุงุฏ ูุงู ุฑุฎ ุฏูุฏ ุจุฏูู mangling ุฏุงุฎูุ ุจูุงุจุฑุงู ูุณุฆููุช ูุงุณุช ฺฉู ุงุทููุงู ุญุงุตู ฺฉูู ูุงู ฺฉู ุตุงุฏุฑ ฺฉุฑุฏูโุงู ุจุฑุง ุตุฏูุฑ ุจุฏูู mangling ุงูู ุงุณุช.</p>
<p>ุฏุฑ ูุซุงู ุฒุฑุ ูุง ุชุงุจุน <code>call_from_c</code> ุฑุง ุจุฑุง ฺฉุฏ C ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ูโุฏููุ ูพุณ ุงุฒ ุงูฺฉู ุจู ฺฉ ฺฉุชุงุจุฎุงูู ูุดุชุฑฺฉ ฺฉุงููพุงู ู ุงุฒ C ููฺฉ ุดุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[unsafe(no_mangle)]
pub extern "C" fn call_from_c() {
    println!("Just called a Rust function from C!");
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ุงุณุชูุงุฏู ุงุฒ <code>extern</code> ูุงุฒ ุจู <code>unsafe</code> ูุฏุงุฑุฏ.</p>
</section>
<h3 id="accessing-or-modifying-a-mutable-static-variable"><a class="header" href="#accessing-or-modifying-a-mutable-static-variable">Accessing or Modifying a Mutable Static Variable</a></h3>
<p>ุฏุฑ ุงู ฺฉุชุงุจุ ูููุฒ ุฏุฑ ููุฑุฏ <em>ูุชุบุฑูุง ุฌูุงู</em> ุตุญุจุช ูฺฉุฑุฏูโุงูุ ฺฉู ุฑุงุณุช ุงุฒ ุขูโูุง ูพุดุชุจุงู ูโฺฉูุฏ ุงูุง ููฺฉู ุงุณุช ุจุง ููุงูู ูุงูฺฉุช ุฑุงุณุช ูุดฺฉูโุณุงุฒ ุดููุฏ. ุงฺฏุฑ ุฏู thread ุจู ฺฉ ูุชุบุฑ ุฌูุงู ูุงุจู ุชุบุฑ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏุ ููฺฉู ุงุณุช ฺฉ data race ุงุฌุงุฏ ุดูุฏ.</p>
<p>ุฏุฑ ุฑุงุณุชุ ูุชุบุฑูุง ุฌูุงู <em>static</em> ูุงูุฏู ูโุดููุฏ. ููุฑุณุช 20-10 ฺฉ ูุซุงู ุงุฒ ุงุนูุงู ู ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุชุบุฑ static ุจุง ฺฉ string slice ุจูโุนููุงู ููุฏุงุฑ ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">static HELLO_WORLD: &amp;str = "Hello, world!";

fn main() {
    println!("name is: {HELLO_WORLD}");
}</code></pre></pre>
<figcaption>Listing 20-10: ุชุนุฑู ู ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุชุบุฑ static ุบุฑูุงุจู ุชุบุฑ</figcaption>
</figure>
<p>ูุชุบุฑูุง static ูุดุงุจู ุซุงุจุชโูุง ูุณุชูุฏุ ฺฉู ุฏุฑ ุจุฎุด <a href="ch03-01-variables-and-mutability.html#constants">โConstantsโ</a><!-- ignore --> ุฏุฑ ูุตู 3 ุฏุฑ ููุฑุฏ ุขูโูุง ุตุญุจุช ฺฉุฑุฏู. ูุงู ูุชุบุฑูุง static ุทุจู ูุฑุงุฑุฏุงุฏ ุจูโุตูุฑุช <code>SCREAMING_SNAKE_CASE</code> ููุดุชู ูโุดูุฏ. ูุชุบุฑูุง static ููุท ูโุชูุงููุฏ ุงุฑุฌุงุนโูุง ุจุง lifetime <code>'static</code> ุฐุฎุฑู ฺฉููุฏุ ุจู ุงู ูุนูุง ฺฉู ฺฉุงููพุงูุฑ ุฑุงุณุช ูโุชูุงูุฏ lifetime ุฑุง ูุดุฎุต ฺฉูุฏ ู ูุงุฒ ูุณุช ฺฉู ุขู ุฑุง ุตุฑุงุญุชุงู ุญุงุดูโููุณ ฺฉูู. ุฏุณุชุฑุณ ุจู ฺฉ ูุชุบุฑ static ุบุฑูุงุจู ุชุบุฑ ุงูู ุงุณุช.</p>
<p>ฺฉ ุชูุงูุช ุธุฑู ุจู ุซุงุจุชโูุง ู ูุชุบุฑูุง static ุบุฑูุงุจู ุชุบุฑ ุงู ุงุณุช ฺฉู ููุงุฏุฑ ุฏุฑ ฺฉ ูุชุบุฑ static ุฏุงุฑุง ฺฉ ุขุฏุฑุณ ุซุงุจุช ุฏุฑ ุญุงูุธู ูุณุชูุฏ. ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ููุดู ุจู ููุงู ุฏุงุฏู ุฏุณุชุฑุณ ุฎูุงูุฏ ุฏุงุดุช. ุงุฒ ุณู ุฏฺฏุฑุ ุซุงุจุชโูุง ูุฌุงุฒ ูุณุชูุฏ ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ูุฑ ุฒูุงู ฺฉู ุงุณุชูุงุฏู ูโุดููุฏ ุชฺฉุฑุงุฑ ฺฉููุฏ. ุชูุงูุช ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ูุชุบุฑูุง static ูโุชูุงููุฏ ูุงุจู ุชุบุฑ ุจุงุดูุฏ. ุฏุณุชุฑุณ ู ุชุบุฑ ูุชุบุฑูุง static ูุงุจู ุชุบุฑ <em>ูุงุงูู</em> ุงุณุช. ููุฑุณุช 20-11 ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ฺฉ ูุชุบุฑ static ูุงุจู ุชุบุฑ ุจู ูุงู <code>COUNTER</code> ุฑุง ุงุนูุงูุ ุฏุณุชุฑุณ ู ุชุบุฑ ุฏูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">static mut COUNTER: u32 = 0;

/// SAFETY: Calling this from more than a single thread at a time is undefined
/// behavior, so you *must* guarantee you only call it from a single thread at
/// a time.
unsafe fn add_to_count(inc: u32) {
    unsafe {
        COUNTER += inc;
    }
}

fn main() {
    unsafe {
        // SAFETY: This is only called from a single thread in `main`.
        add_to_count(3);
        println!("COUNTER: {}", *(&amp;raw const COUNTER));
    }
}</code></pre></pre>
<figcaption>Listing 20-11: ุฎูุงูุฏู ุงุฒ ุง ููุดุชู ุจู ฺฉ ูุชุบุฑ static ูุงุจู ุชุบุฑ ูุงุงูู ุงุณุช</figcaption>
</figure>
<p>ููุงููุฏ ูุชุบุฑูุง ูุนูููุ ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉููู ฺฉูุฏ <code>mut</code> ูุงุจูุช ุชุบุฑูพุฐุฑ ุฑุง ูุดุฎุต ูโฺฉูู. ูุฑ ฺฉุฏ ฺฉู ุจุฎูุงูุฏ ุงุฒ <code>COUNTER</code> ุจุฎูุงูุฏ ุง ุฏุฑ ุขู ุจููุณุฏุ ุจุงุฏ ุฏุฑ ฺฉ ุจููฺฉ <code>unsafe</code> ุจุงุดุฏ. ฺฉุฏ ฺฉู ุฏุฑ ูุณุช ฒฐ-ฑฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ฺฉุงููพุงู ูโุดูุฏ ู ููุฏุงุฑ <code>COUNTER: 3</code> ุฑุง ููุงูโุทูุฑ ฺฉู ุงูุชุธุงุฑ ูโุฑูุฏ ฺุงูพ ูโฺฉูุฏุ ุฒุฑุง ุงู ฺฉุฏ ุชฺฉโุฑุณูุงู (<em>single-threaded</em>) ุงุณุช. ุฏุณุชุฑุณ ฺูุฏู ุฑุณูุงู ุจู <code>COUNTER</code> ุจู ุงุญุชูุงู ุฒุงุฏ ููุฌุฑ ุจู ุฑูุงุจุช ุฏุงุฏูโุง (<em>data race</em>) ูโุดูุฏ ู ุงู ุฑูุชุงุฑ ุชุนุฑูโูุดุฏู (<em>undefined behavior</em>) ุฎูุงูุฏ ุจูุฏ. ุจูุงุจุฑุงูุ ูุงุฒ ุงุณุช ฺฉู ุชุงุจุน ุฑุง ุจู ุนููุงู <code>unsafe</code> ุนูุงูุชโฺฏุฐุงุฑ ฺฉูู ู ูุญุฏูุฏุช ุงูู ุฑุง ูุณุชูุฏ ฺฉููุ ุชุง ูุฑฺฉุณ ฺฉู ุชุงุจุน ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุจุฏุงูุฏ ฺู ฺฉุงุฑูุง ุฑุง ูโุชูุงูุฏ ุจุง ุงุทููุงู ุงูุฌุงู ุฏูุฏ ู ฺู ฺฉุงุฑูุง ุฑุง ููโุชูุงูุฏ.</p>
<p>ูุฑ ุฒูุงู ฺฉู ฺฉ ุชุงุจุน ูุงุงูู ูโููุณูุ ุจู ุตูุฑุช ูุฑุงุฑุฏุงุฏ ฺฉุงููุช ุจุง <code>SAFETY</code> ุดุฑูุน ูโฺฉูู ู ุชูุถุญ ูโุฏูู ฺฉู ูุฑุงุฎูุงู ุชุงุจุน ฺู ฺุฒ ูุงุฒ ุฏุงุฑุฏ ุชุง ุงูู ุจุงุดุฏ. ุจู ููู ุชุฑุชุจุ ูุฑ ุฒูุงู ฺฉู ฺฉ ุนููุงุช ูุงุงูู ุงูุฌุงู ูโุฏููุ ููุดุชู ฺฉ ฺฉุงููุช ฺฉู ุจุง <code>SAFETY</code> ุดุฑูุน ุดูุฏ ุจุฑุง ุชูุถุญ ุงูฺฉู ฺฺฏููู ููุงูู ุงูู ุฑุนุงุช ูโุดููุฏุ ูุฑุงุฑุฏุงุฏ ุงุณุช.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ฺฉุงููพุงูุฑ ุจู ุดูุง ุงุฌุงุฒู ููโุฏูุฏ ฺฉู ูุฑุงุฌุน ุจู ฺฉ ูุชุบุฑ ุงุณุชุงุชฺฉ ุชุบุฑูพุฐุฑ ุงุฌุงุฏ ฺฉูุฏ. ุชููุง ูโุชูุงูุฏ ุงุฒ ุทุฑู ฺฉ ุงุดุงุฑูโฺฏุฑ ุฎุงู (<em>raw pointer</em>) ฺฉู ุจุง ฺฉ ุงุฒ ุนููฺฏุฑูุง ูุฑุถ ุฎุงู ุงุฌุงุฏ ูโุดูุฏ ุจู ุขู ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ. ุงู ุดุงูู ููุงุฑุฏ ุงุณุช ฺฉู ูุฑุฌุน ุจู ุตูุฑุช ูุงูุฑุฆ ุงุฌุงุฏ ูโุดูุฏุ ูุงููุฏ ุฒูุงู ฺฉู ุฏุฑ <code>println!</code> ุฏุฑ ุงู ูุณุช ฺฉุฏ ุงุณุชูุงุฏู ูโุดูุฏ. ุงูุฒุงู ุงูฺฉู ูุฑุงุฌุน ุจู ูุชุบุฑูุง ุงุณุชุงุชฺฉ ุชุบุฑูพุฐุฑ ููุท ุงุฒ ุทุฑู ุงุดุงุฑูโฺฏุฑูุง ุฎุงู ุงุฌุงุฏ ุดููุฏุ ุจู ูุถูุญ ุจุดุชุฑ ูุงุฒูุง ุงูู ุฏุฑ ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ฺฉูฺฉ ูโฺฉูุฏ.</p>
<p>ุจุง ุฏุงุฏูโูุง ุชุบุฑูพุฐุฑ ฺฉู ุจู ุตูุฑุช ุฌูุงู ูุงุจู ุฏุณุชุฑุณ ูุณุชูุฏุ ุงุทููุงู ุงุฒ ุงูฺฉู ุฑูุงุจุช ุฏุงุฏูโุง (<em>data race</em>) ุฑุฎ ููโุฏูุฏ ุฏุดูุงุฑ ุงุณุชุ ุจู ููู ุฏูู Rust ูุชุบุฑูุง ุงุณุชุงุชฺฉ ุชุบุฑูพุฐุฑ ุฑุง ูุงุงูู ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ. ุฏุฑ ุตูุฑุช ุงูฺฉุงูุ ุชุฑุฌุญ ุฏุงุฏู ูโุดูุฏ ุงุฒ ุชฺฉูฺฉโูุง ููุฒูุงู (<em>concurrency techniques</em>) ู ุงุดุงุฑูโฺฏุฑูุง ููุดููุฏ ุงูู ุจุฑุง ุฑุณูุงูโูุง (<em>thread-safe smart pointers</em>) ฺฉู ุฏุฑ ูุตู ฑถ ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ฺฉุงููพุงูุฑ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง ุงุฒ ุฑุณูุงูโูุง ูุฎุชูู ุจู ุตูุฑุช ุงูู ุงูุฌุงู ูโุดูุฏ.</p>
<h3 id="implementing-an-unsafe-trait"><a class="header" href="#implementing-an-unsafe-trait">Implementing an Unsafe Trait</a></h3>
<p>ูโุชูุงูู ุงุฒ <code>unsafe</code> ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉ trait ูุงุงูู ุงุณุชูุงุฏู ฺฉูู. ฺฉ trait ุฒูุงู ูุงุงูู ุงุณุช ฺฉู ุญุฏุงูู ฺฉ ุงุฒ ูุชุฏูุง ุขู ุฏุงุฑุง ฺฉ ูุงุนุฏู (invariant) ุจุงุดุฏ ฺฉู ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุขู ุฑุง ุชุฃุฏ ฺฉูุฏ. ูุง ุจุง ุงูุฒูุฏู ฺฉูุฏูุงฺู <code>unsafe</code> ูุจู ุงุฒ <code>trait</code> ุงุนูุงู ูโฺฉูู ฺฉู ฺฉ trait ูุงุงูู ุงุณุช ู ูพุงุฏูโุณุงุฒ ุขู trait ุฑุง ูุฒ ุจูโุนููุงู <code>unsafe</code> ุนูุงูุชโฺฏุฐุงุฑ ูโฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-12 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<pre><pre class="playground"><code class="language-rust edition2021">unsafe trait Foo {
    // methods go here
}

unsafe impl Foo for i32 {
    // method implementations go here
}

fn main() {}</code></pre></pre>
<figcaption>Listing 20-12: ุชุนุฑู ู ูพุงุฏูโุณุงุฒ ฺฉ trait ูุงุงูู</figcaption>
</figure>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ <code>unsafe impl</code>ุ ูุง ููู ูโุฏูู ฺฉู ูุงุนุฏูโูุง ุฑุง ฺฉู ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุชุฃุฏ ฺฉูุฏุ ุฑุนุงุช ฺฉูู.</p>
<p>ุจูโุนููุงู ูุซุงูุ ุจู marker traitูุง <code>Sync</code> ู <code>Send</code> ฺฉู ุฏุฑ ุจุฎุด <a href="ch16-04-extensible-concurrency-sync-and-send.html#extensible-concurrency-with-the-sync-and-send-traits">โExtensible Concurrency with the <code>Sync</code> and <code>Send</code> Traitsโ</a><!-- ignore --> ุฏุฑ ูุตู 16 ุจุฑุฑุณ ฺฉุฑุฏูุ ุจุงุฒฺฏุฑุฏุฏ: ฺฉุงููพุงูุฑ ุงู traitูุง ุฑุง ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุงฺฏุฑ ููุนโูุง ูุง ุจูโุทูุฑ ฺฉุงูู ุงุฒ ููุนโูุง <code>Send</code> ู <code>Sync</code> ุชุดฺฉู ุดุฏู ุจุงุดูุฏ. ุงฺฏุฑ ููุน ูพุงุฏูโุณุงุฒ ฺฉูู ฺฉู ุญุงู ููุน ุงุณุช ฺฉู <code>Send</code> ุง <code>Sync</code> ูุณุชุ ูุงููุฏ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุฎุงูุ ู ุจุฎูุงูู ุขู ููุน ุฑุง ุจูโุนููุงู <code>Send</code> ุง <code>Sync</code> ุนูุงูุชโฺฏุฐุงุฑ ฺฉููุ ุจุงุฏ ุงุฒ <code>unsafe</code> ุงุณุชูุงุฏู ฺฉูู. ุฑุงุณุช ููโุชูุงูุฏ ุชุฃุฏ ฺฉูุฏ ฺฉู ููุน ูุง ุชุถููโูุง ูุงุฒู ุจุฑุง ุงุฑุณุงู ุงูู ุจู ุฑุณูุงูโูุง ุง ุฏุณุชุฑุณ ุงูู ุงุฒ ุฑุณูุงูโูุง ูุชุนุฏุฏ ุฑุง ุฑุนุงุช ูโฺฉูุฏุ ุจูุงุจุฑุงูุ ูุง ุจุงุฏ ุงู ุจุฑุฑุณโูุง ุฑุง ุจูโุตูุฑุช ุฏุณุช ุงูุฌุงู ุฏูู ู ุงู ุฑุง ุจุง <code>unsafe</code> ูุดุงู ุฏูู.</p>
<h3 id="accessing-fields-of-a-union"><a class="header" href="#accessing-fields-of-a-union">Accessing Fields of a Union</a></h3>
<p>ุขุฎุฑู ุนูู ฺฉู ุชููุง ุจุง <code>unsafe</code> ฺฉุงุฑ ูโฺฉูุฏุ ุฏุณุชุฑุณ ุจู ููุฏูุง ฺฉ <em>union</em> ุงุณุช. ฺฉ <code>union</code> ุดุจู ุจู ฺฉ <code>struct</code> ุงุณุชุ ุงูุง ุชููุง ฺฉ ุงุฒ ููุฏูุง ุงุนูุงูโุดุฏู ุฏุฑ ฺฉ ููููู ุฏุฑ ูุฑ ุฒูุงู ุฎุงุต ุงุณุชูุงุฏู ูโุดูุฏ. unions ุนูุฏุชุงู ุจุฑุง ุชุนุงูู ุจุง unions ุฏุฑ ฺฉุฏ C ุงุณุชูุงุฏู ูโุดููุฏ. ุฏุณุชุฑุณ ุจู ููุฏูุง union ูุงุงูู ุงุณุช ุฒุฑุง ุฑุงุณุช ููโุชูุงูุฏ ููุน ุฏุงุฏูโุง ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ ููููู union ุฐุฎุฑู ุดุฏู ุฑุง ุชุถูู ฺฉูุฏ. ูโุชูุงูุฏ ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู unions ุฏุฑ <a href="../reference/items/unions.html">ูุฑุฌุน ุฑุงุณุช</a> ุจุงููุฒุฏ.</p>
<h3 id="using-miri-to-check-unsafe-code"><a class="header" href="#using-miri-to-check-unsafe-code">Using Miri to check unsafe code</a></h3>
<p>ููฺฏุงู ููุดุชู ฺฉุฏ ูุงุงููุ ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ฺุฒ ฺฉู ููุดุชูโุงุฏ ูุงูุนุงู ุงูู ู ุฏุฑุณุช ุงุณุช. ฺฉ ุงุฒ ุจูุชุฑู ุฑูุดโูุง ุจุฑุง ุงู ฺฉุงุฑ ุงุณุชูุงุฏู ุงุฒ <a href="https://github.com/rust-lang/miri">Miri</a>ุ ฺฉ ุงุจุฒุงุฑ ุฑุณู ุฑุงุณุช ุจุฑุง ุดูุงุณุง ุฑูุชุงุฑูุง ุชุนุฑูโูุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู borrow checker ฺฉ ุงุจุฒุงุฑ <em>ุงุณุชุงุชฺฉ</em> ุงุณุช ฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ฺฉุงุฑ ูโฺฉูุฏุ Miri ฺฉ ุงุจุฒุงุฑ <em>ุฏุงูุงูฺฉ</em> ุงุณุช ฺฉู ุฏุฑ ุฒูุงู ุงุฌุฑุง ฺฉุงุฑ ูโฺฉูุฏ. ุงู ุงุจุฒุงุฑ ฺฉุฏ ุดูุง ุฑุง ุจุง ุงุฌุฑุง ุจุฑูุงูู ุง ูุฌููุนู ุชุณุช ุขู ุจุฑุฑุณ ูโฺฉูุฏ ู ุฒูุงู ฺฉู ููุงูู ูุฑุจูุท ุจู ูุญูู ฺฉุงุฑ ุฑุงุณุช ุฑุง ููุถ ฺฉูุฏุ ุขู ุฑุง ุชุดุฎุต ูโุฏูุฏ.</p>
<p>ุงุณุชูุงุฏู ุงุฒ Miri ูุงุฒ ุจู ฺฉ ูุณุฎู nightly ุงุฒ ุฑุงุณุช ุฏุงุฑุฏ (ฺฉู ุฏุฑ <a href="appendix-07-nightly-rust.html">ุถููู : How Rust is Made and โNightly Rustโ</a> ุจุดุชุฑ ุฏุฑุจุงุฑู ุขู ุตุญุจุช ฺฉุฑุฏูโุงู). ูโุชูุงูุฏ ฺฉ ูุณุฎู nightly ุงุฒ ุฑุงุณุช ู ุงุจุฒุงุฑ Miri ุฑุง ุจุง ุชุงูพ ฺฉุฑุฏู <code>rustup +nightly component add miri</code> ูุตุจ ฺฉูุฏ. ุงู ฺฉุงุฑ ูุณุฎู ุฑุงุณุช ูพุฑูฺู ุดูุง ุฑุง ุชุบุฑ ููโุฏูุฏุ ููุท ุงุจุฒุงุฑ ุฑุง ุจู ุณุณุชู ุดูุง ุงุถุงูู ูโฺฉูุฏ ุชุง ูุฑ ุฒูุงู ฺฉู ุจุฎูุงูุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉูุฏ. ูโุชูุงูุฏ Miri ุฑุง ุฑู ฺฉ ูพุฑูฺู ุจุง ุชุงูพ ฺฉุฑุฏู <code>cargo +nightly miri run</code> ุง <code>cargo +nightly miri test</code> ุงุฌุฑุง ฺฉูุฏ.</p>
<p>ุจุฑุง ูุซุงู ุงุฒ ุงูฺฉู ุงู ุงุจุฒุงุฑ ฺูุฏุฑ ูโุชูุงูุฏ ููุฏ ุจุงุดุฏุ ุจู ุฎุฑูุฌ ุงุฌุฑุง ุขู ุฑู ููุฑุณุช 20-11 ุชูุฌู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo +nightly miri run
   Compiling unsafe-example v0.1.0 (file:///projects/unsafe-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.01s
     Running `/Users/chris/.rustup/toolchains/nightly-aarch64-apple-darwin/bin/cargo-miri runner target/miri/aarch64-apple-darwin/debug/unsafe-example`
warning: creating a shared reference to mutable static is discouraged
  --&gt; src/main.rs:14:33
   |
14 |         println!("COUNTER: {}", COUNTER);
   |                                 ^^^^^^^ shared reference to mutable static
   |
   = note: for more information, see &lt;https://doc.rust-lang.org/nightly/edition-guide/rust-2024/static-mut-references.html&gt;
   = note: shared references to mutable statics are dangerous; it's undefined behavior if the static is mutated or if a mutable reference is created for it while the shared reference lives
   = note: `#[warn(static_mut_refs)]` on by default

COUNTER: 3
</code></pre>
<p>ุงู ุงุจุฒุงุฑ ุจูโุฏุฑุณุช ูุชูุฌู ูโุดูุฏ ฺฉู ูุง ุจู ุฏุงุฏูโูุง ูุงุจู ุชุบุฑ ุงุฑุฌุงุนุงุช ูุดุชุฑฺฉ ุฏุงุฏูโุงู ู ุฏุฑ ุงู ููุฑุฏ ูุดุฏุงุฑ ูโุฏูุฏ. ุฏุฑ ุงู ููุฑุฏุ ุงุจุฒุงุฑ ุจู ูุง ููโฺฏูุฏ ฺฉู ฺฺฏููู ูุดฺฉู ุฑุง ุจุฑุทุฑู ฺฉููุ ุงูุง ุจู ูุง ุงุทูุงุน ูโุฏูุฏ ฺฉู ููฺฉู ุงุณุช ฺฉ ูุดฺฉู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ู ูโุชูุงูู ุจู ุงู ูฺฉุฑ ฺฉูู ฺฉู ฺฺฏููู ูุทูุฆู ุดูู ฺฉู ุงูู ุงุณุช. ุฏุฑ ููุงุฑุฏ ุฏฺฏุฑุ ููฺฉู ุงุณุช ุจู ูุง ุจฺฏูุฏ ฺฉู ุจุฎุด ุงุฒ ฺฉุฏ ูุทุนุงู ุงุดุชุจุงู ุงุณุช ู ุชูุตูโูุง ุจุฑุง ุฑูุน ุขู ุงุฑุงุฆู ุฏูุฏ.</p>
<p>Miri ููู ฺุฒูุง ุฑุง ฺฉู ููฺฉู ุงุณุช ุฏุฑ ููฺฏุงู ููุดุชู ฺฉุฏ ูุงุงูู ุงุดุชุจุงู ุจุงุดุฏุ ุดูุงุณุง ููโฺฉูุฏ. ุงููุงูุ ฺูู ุงู ุงุจุฒุงุฑ ฺฉ ุจุฑุฑุณ ุฏุงูุงูฺฉ ุงุณุชุ ููุท ูุดฺฉูุงุช ฺฉุฏ ุฑุง ฺฉู ูุงูุนุงู ุงุฌุฑุง ูโุดูุฏ ุดูุงุณุง ูโฺฉูุฏ. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุจุงุฏ ุงุฒ ุขู ููุฑุงู ุจุง ุชฺฉูฺฉโูุง ุชุณุช ุฎูุจ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุทููุงู ุจุดุชุฑ ุฏุฑุจุงุฑู ฺฉุฏ ูุงุงูู ุฎูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุซุงูุงูุ ุงู ุงุจุฒุงุฑ ุชูุงู ุฑุงูโูุง ููฺฉู ุจุฑุง ูุงุณุงูู ุจูุฏู ฺฉุฏ ุดูุง ุฑุง ูพูุดุด ููโุฏูุฏ. ุงฺฏุฑ Miri ูุดฺฉู ุฑุง ุดูุงุณุง ฺฉูุฏุ ูโุฏุงูุฏ ฺฉู ฺฉ ุจุงฺฏ ูุฌูุฏ ุฏุงุฑุฏุ ุงูุง ููุท ุจู ุงู ุฏูู ฺฉู Miri ุจุงฺฏ ุฑุง ุดูุงุณุง ููโฺฉูุฏุ ุจู ุงู ูุนูุง ูุณุช ฺฉู ูุดฺฉู ูุฌูุฏ ูุฏุงุฑุฏ. ุจุง ุงู ุญุงูุ Miri ูโุชูุงูุฏ ุจุณุงุฑ ุงุฒ ูุดฺฉูุงุช ุฑุง ุดูุงุณุง ฺฉูุฏ. ุขู ุฑุง ุฑู ุณุงุฑ ูุซุงูโูุง ฺฉุฏ ูุงุงูู ุฏุฑ ุงู ูุตู ุงุฌุฑุง ฺฉูุฏ ู ุจุจูุฏ ฺู ูโฺฏูุฏ!</p>
<h3 id="when-to-use-unsafe-code"><a class="header" href="#when-to-use-unsafe-code">When to Use Unsafe Code</a></h3>
<p>ุงุณุชูุงุฏู ุงุฒ <code>unsafe</code> ุจุฑุง ุงูุฌุงู ฺฉ ุงุฒ ูพูุฌ ุนูู (ุงุจุฑูุฏุฑุช) ฺฉู ุฏุฑ ุงูุฌุง ุจุญุซ ุดุฏุ ุงุดุชุจุงู ุง ุญุช ูุงููุงุณุจ ูุณุช. ุงูุง ุฏุฑุณุช ฺฉุฑุฏู ฺฉุฏ <code>unsafe</code> ุณุฎุชโุชุฑ ุงุณุชุ ุฒุฑุง ฺฉุงููพุงูุฑ ููโุชูุงูุฏ ุจู ุญูุธ ุงูู ุญุงูุธู ฺฉูฺฉ ฺฉูุฏ. ููุช ุฏูู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ <code>unsafe</code> ุฏุงุฑุฏุ ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏุ ู ุฏุงุดุชู ุญุงุดูโููุณ ุตุฑุญ <code>unsafe</code> ุฑุฏุงุจ ููุจุน ูุดฺฉูุงุช ุฑุง ุฒูุงู ฺฉู ุงุชูุงู ูโุงูุชูุฏ ุขุณุงูโุชุฑ ูโฺฉูุฏ. ูุฑ ุฒูุงู ฺฉู ฺฉุฏ ูุงุงูู ูโููุณุฏุ ูโุชูุงูุฏ ุงุฒ Miri ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุทููุงู ุจุดุชุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉุฏ ฺฉู ููุดุชูโุงุฏ ููุงูู ุฑุงุณุช ุฑุง ุฑุนุงุช ูโฺฉูุฏ.</p>
<p>ุจุฑุง ฺฉ ุจุฑุฑุณ ุนููโุชุฑ ุฏุฑุจุงุฑู ูุญูู ฺฉุงุฑ ูุคุซุฑ ุจุง ุฑุงุณุช ูุงุงููุ ุฑุงูููุง ุฑุณู ุฑุงุณุช ุฏุฑ ุงู ููุถูุนุ ุนู <a href="https://doc.rust-lang.org/nomicon/">Rustonomicon</a> ุฑุง ุจุฎูุงูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="advanced-traits"><a class="header" href="#advanced-traits">Advanced Traits</a></h2>
<p>ูุง ุฏุฑ ุจุฎุด <a href="ch10-02-traits.html#traits-defining-shared-behavior">โTraits: Defining Shared Behaviorโ</a><!-- ignore --> ุงุฒ ูุตู 10 ุจู ุจุฑุฑุณ traits ูพุฑุฏุงุฎุชูุ ุงูุง ุฌุฒุฆุงุช ูพุดุฑูุชูโุชุฑ ุขู ุฑุง ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูุฏุงุฏู. ุงฺฉููู ฺฉู ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุฑุงุณุช ุฏุงุฑุฏุ ูโุชูุงูู ุจู ุนูู ููุถูุน ุจูพุฑุฏุงุฒู.</p>
<h3 id="specifying-placeholder-types-in-trait-definitions-with-associated-types"><a class="header" href="#specifying-placeholder-types-in-trait-definitions-with-associated-types">Specifying Placeholder Types in Trait Definitions with Associated Types</a></h3>
<p><em>ููุนโูุง ูุฑุชุจุท</em> (Associated types) ฺฉ ููุน ุฌุงฺฏุฒู ุฑุง ุจุง ฺฉ trait ูุชุตู ูโฺฉููุฏุ ุจูโฺฏูููโุง ฺฉู ุชุนุฑูโูุง ูุชุฏ trait ูโุชูุงููุฏ ุงุฒ ุงู ููุนโูุง ุฌุงฺฏุฒู ุฏุฑ ุงูุถุงูุง ุฎูุฏ ุงุณุชูุงุฏู ฺฉููุฏ. ูพุงุฏูโุณุงุฒ ฺฉ trait ููุน ุฎุงุต ุฑุง ุจุฑุง ุฌุงฺฏุฒู ููุน ุฌุงฺฏุฒู ุจุฑุง ูพุงุฏูโุณุงุฒ ุฎุงุต ูุดุฎุต ูโฺฉูุฏ. ุจู ุงู ุชุฑุชุจุ ูโุชูุงูู ฺฉ trait ุชุนุฑู ฺฉูู ฺฉู ุงุฒ ุจุฑุฎ ููุนโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ุจุฏูู ุงูฺฉู ูุงุฒ ุฏุงุดุชู ุจุงุดู ุฏููุงู ุจุฏุงูู ุงู ููุนโูุง ฺู ูุณุชูุฏ ุชุง ุฒูุงู ฺฉู trait ูพุงุฏูโุณุงุฒ ุดูุฏ.</p>
<p>ุจุดุชุฑ ูฺฺฏโูุง ูพุดุฑูุชูโุง ฺฉู ุฏุฑ ุงู ูุตู ุชูุถุญ ุฏุงุฏู ุดุฏู ุงุณุชุ ุจูโูุฏุฑุช ููุฑุฏ ูุงุฒ ูุณุชูุฏ. ููุนโูุง ูุฑุชุจุท ุฏุฑ ุญุฏ ูุณุท ูุฑุงุฑ ุฏุงุฑูุฏ: ุขูโูุง ฺฉูุชุฑ ุงุฒ ูฺฺฏโูุง ุชูุถุญ ุฏุงุฏูโุดุฏู ุฏุฑ ุจูู ฺฉุชุงุจ ุงุณุชูุงุฏู ูโุดููุฏุ ุงูุง ุจุดุชุฑ ุงุฒ ุจุณุงุฑ ุงุฒ ูฺฺฏโูุง ุฏฺฏุฑ ููุฑุฏ ุจุญุซ ุฏุฑ ุงู ูุตู ุจู ฺฉุงุฑ ูโุฑููุฏ.</p>
<p>ฺฉ ุงุฒ ูุซุงูโูุง ฺฉ trait ุจุง ฺฉ ููุน ูุฑุชุจุทุ trait <code>Iterator</code> ุงุณุช ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูุฑุงูู ูโฺฉูุฏ. ููุน ูุฑุชุจุท ุจุง ูุงู <code>Item</code> ูุดุฎุต ุดุฏู ู ุจูโุฌุง ููุน ููุงุฏุฑ ฺฉู ููุน ูพุงุฏูโุณุงุฒโฺฉููุฏู <code>Iterator</code> ุงุฒ ุฑู ุขูโูุง ุชฺฉุฑุงุฑ ูโฺฉูุฏ ูุฑุงุฑ ูโฺฏุฑุฏ. ุชุนุฑู trait <code>Iterator</code> ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-13 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<pre><code class="language-rust noplayground">pub trait Iterator {
    type Item;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;;
}</code></pre>
<figcaption>Listing 20-13: ุชุนุฑู trait <code>Iterator</code> ฺฉู ุฏุงุฑุง ฺฉ ููุน ูุฑุชุจุท ุจู ูุงู <code>Item</code> ุงุณุช</figcaption>
</figure>
<p>ููุน <code>Item</code> ฺฉ ุฌุงฺฏุฒู ุงุณุช ู ุชุนุฑู ูุชุฏ <code>next</code> ูุดุงู ูโุฏูุฏ ฺฉู ููุงุฏุฑ ุงุฒ ููุน <code>Option&lt;Self::Item&gt;</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูพุงุฏูโุณุงุฒุงู trait <code>Iterator</code> ููุน ุฎุงุต ุฑุง ุจุฑุง <code>Item</code> ูุดุฎุต ูโฺฉููุฏ ู ูุชุฏ <code>next</code> ฺฉ <code>Option</code> ุญุงู ููุฏุงุฑ ุงุฒ ุขู ููุน ุฎุงุต ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ููุนโูุง ูุฑุชุจุท ููฺฉู ุงุณุช ููููู ูุดุงุจู ุจุง genericูุง ุจู ูุธุฑ ุจุฑุณูุฏุ ุจู ุงู ูุนูุง ฺฉู genericูุง ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ฺฉ ุชุงุจุน ุจุฏูู ูุดุฎุต ฺฉุฑุฏู ููุนโูุง ฺฉู ูโุชูุงูุฏ ุจุง ุขูโูุง ฺฉุงุฑ ฺฉูุฏุ ุชุนุฑู ฺฉูู. ุจุฑุง ุจุฑุฑุณ ุชูุงูุช ุจู ุงู ุฏู ูููููุ ุจู ฺฉ ูพุงุฏูโุณุงุฒ trait <code>Iterator</code> ุฑู ฺฉ ููุน ุจู ูุงู <code>Counter</code> ูฺฏุงู ุฎูุงูู ฺฉุฑุฏ ฺฉู ููุน <code>Item</code> ุฑุง ุจูโุนููุงู <code>u32</code> ูุดุฎุต ูโฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">struct Counter {
</span><span class="boring">    count: u32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Counter {
</span><span class="boring">    fn new() -&gt; Counter {
</span><span class="boring">        Counter { count: 0 }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl Iterator for Counter {
    type Item = u32;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt; {
        // --snip--
<span class="boring">        if self.count &lt; 5 {
</span><span class="boring">            self.count += 1;
</span><span class="boring">            Some(self.count)
</span><span class="boring">        } else {
</span><span class="boring">            None
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
</figure>
<p>ุงู ุณูุชฺฉุณ ุจุง ุณูุชฺฉุณ genericูุง ูุงุจู ููุงุณู ุจู ูุธุฑ ูโุฑุณุฏ. ูพุณ ฺุฑุง ุจู ุฌุง ุงู ฺฉุงุฑุ trait <code>Iterator</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ genericูุง ุชุนุฑู ูฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-14 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ</p>
<figure class="listing">
<pre><code class="language-rust noplayground">pub trait Iterator&lt;T&gt; {
    fn next(&amp;mut self) -&gt; Option&lt;T&gt;;
}</code></pre>
<figcaption>Listing 20-14: ฺฉ ุชุนุฑู ูุฑุถ ุงุฒ trait <code>Iterator</code> ุจุง ุงุณุชูุงุฏู ุงุฒ genericูุง</figcaption>
</figure>
<p>ุชูุงูุช ุงู ุงุณุช ฺฉู ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ genericูุงุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-14 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ูุง ุจุงุฏ ููุนโูุง ุฑุง ุฏุฑ ูุฑ ูพุงุฏูโุณุงุฒ ุญุงุดูโููุณ ฺฉูู. ุฒุฑุง ูโุชูุงูู ููฺูู <code>Iterator&lt;String&gt; for Counter</code> ุง ูุฑ ููุน ุฏฺฏุฑ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุ ุจูโุทูุฑ ฺฉู ุจุชูุงูู ูพุงุฏูโุณุงุฒโูุง ูุชุนุฏุฏ ุงุฒ <code>Iterator</code> ุจุฑุง <code>Counter</code> ุฏุงุดุชู ุจุงุดู. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุฒูุงู ฺฉู ฺฉ trait ฺฉ ูพุงุฑุงูุชุฑ generic ุฏุงุฑุฏุ ูโุชูุงูุฏ ุจุฑุง ฺฉ ููุน ฺูุฏู ุจุงุฑ ูพุงุฏูโุณุงุฒ ุดูุฏ ู ููุนโูุง ุฎุงุต ูพุงุฑุงูุชุฑูุง generic ุฑุง ูุฑ ุจุงุฑ ุชุบุฑ ุฏูุฏ. ุฒูุงู ฺฉู ูุง ุงุฒ ูุชุฏ <code>next</code> ุจุฑ ุฑู <code>Counter</code> ุงุณุชูุงุฏู ูโฺฉููุ ุจุงุฏ ุญุงุดูโููุณ ููุน ุงุฑุงุฆู ุฏูู ุชุง ูุดุฎุต ฺฉูู ฺฉุฏุงู ูพุงุฏูโุณุงุฒ <code>Iterator</code> ุฑุง ูโุฎูุงูู ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ููุนโูุง ูุฑุชุจุทุ ูุงุฒ ุจู ุญุงุดูโููุณ ููุนโูุง ูุฏุงุฑู ุฒุฑุง ููโุชูุงูู ฺฉ trait ุฑุง ุจุฑ ุฑู ฺฉ ููุน ฺูุฏู ุจุงุฑ ูพุงุฏูโุณุงุฒ ฺฉูู. ุฏุฑ ููุฑุณุช 20-13 ุจุง ุชุนุฑู ฺฉู ุงุฒ ููุนโูุง ูุฑุชุจุท ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุง ููุท ูโุชูุงูู ููุน <code>Item</code> ุฑุง ฺฉ ุจุงุฑ ุงูุชุฎุงุจ ฺฉููุ ุฒุฑุง ุชููุง ฺฉ <code>impl Iterator for Counter</code> ูโุชูุงูุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ. ูุง ูุงุฒ ูุฏุงุฑู ฺฉู ูุดุฎุต ฺฉูู ูโุฎูุงูู ฺฉ iterator ุงุฒ ููุงุฏุฑ <code>u32</code> ุฏุงุดุชู ุจุงุดู ุฏุฑ ูุฑ ุฌุง ฺฉู <code>next</code> ุฑุง ุจุฑ ุฑู <code>Counter</code> ูุฑุงุฎูุงู ูโฺฉูู.</p>
<p>ููุนโูุง ูุฑุชุจุท ููฺูู ุจุฎุด ุงุฒ ูุฑุงุฑุฏุงุฏ trait ูโุดููุฏ: ูพุงุฏูโุณุงุฒุงู trait ุจุงุฏ ฺฉ ููุน ุงุฑุงุฆู ุฏููุฏ ุชุง ุฌุงฺฏุฒู ููุน ุฌุงฺฏุฒู ูุฑุชุจุท ุดูุฏ. ููุนโูุง ูุฑุชุจุท ุงุบูุจ ูุงู ุฏุงุฑูุฏ ฺฉู ุชูุตู ูโฺฉูุฏ ฺฺฏููู ููุน ุงุณุชูุงุฏู ุฎูุงูุฏ ุดุฏ ู ูุณุชูุฏุณุงุฒ ููุน ูุฑุชุจุท ุฏุฑ ูุณุชูุฏุงุช API ฺฉ ุนูู ุฎูุจ ุงุณุช.</p>
<h3 id="default-generic-type-parameters-and-operator-overloading"><a class="header" href="#default-generic-type-parameters-and-operator-overloading">Default Generic Type Parameters and Operator Overloading</a></h3>
<p>ููุช ฺฉู ุงุฒ ูพุงุฑุงูุชุฑูุง generic type ุงุณุชูุงุฏู ูโฺฉููุ ูโุชูุงูู ฺฉ ููุน ุฎุงุต ูพุดโูุฑุถ ุจุฑุง ูพุงุฑุงูุชุฑ generic ุชุนู ฺฉูู. ุงู ูุงุฒ ุจู ูุดุฎุต ฺฉุฑุฏู ฺฉ ููุน ุฎุงุต ุชูุณุท ูพุงุฏูโุณุงุฒุงู trait ุฑุง ุฏุฑ ุตูุฑุช ฺฉู ููุน ูพุดโูุฑุถ ฺฉุงุฑ ฺฉูุฏุ ุงุฒ ุจู ูโุจุฑุฏ. ุดูุง ูโุชูุงูุฏ ููฺฏุงู ุงุนูุงู ฺฉ ููุน genericุ ฺฉ ููุน ูพุดโูุฑุถ ุจุง ุณูุชฺฉุณ <code>&lt;PlaceholderType=ConcreteType&gt;</code> ูุดุฎุต ฺฉูุฏ.</p>
<p>ฺฉ ูุซุงู ุนุงู ุงุฒ ูุถุนุช ฺฉู ุงู ุชฺฉูฺฉ ููุฏ ุงุณุชุ <em>ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ุนููฺฏุฑูุง</em> ุงุณุชุ ุฌุง ฺฉู ุดูุง ุฑูุชุงุฑ ฺฉ ุนููฺฏุฑ (ูุงููุฏ <code>+</code>) ุฑุง ุฏุฑ ุดุฑุงุท ุฎุงุต ุดุฎุตโุณุงุฒ ูโฺฉูุฏ.</p>
<p>ุฑุงุณุช ุจู ุดูุง ุงุฌุงุฒู ููโุฏูุฏ ุนููฺฏุฑูุง ุฎูุฏ ุฑุง ุงุฌุงุฏ ฺฉูุฏ ุง ุนููฺฏุฑูุง ุฏูุฎูุงู ุฑุง ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ฺฉูุฏ. ุงูุง ูโุชูุงูุฏ ุนููุงุชโูุง ู traits ูุฑุจูุท ุจู ุขูโูุง ุฑุง ฺฉู ุฏุฑ <code>std::ops</code> ููุฑุณุช ุดุฏูโุงูุฏ ุจุง ูพุงุฏูโุณุงุฒ traits ูุฑุชุจุท ุจุง ุนููฺฏุฑุ ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ููุฑุณุช 20-15 ูุง ุนููฺฏุฑ <code>+</code> ุฑุง ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุฏู ููููู <code>Point</code> ุจู ฺฉุฏฺฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ูโฺฉูู. ูุง ุงู ฺฉุงุฑ ุฑุง ุจุง ูพุงุฏูโุณุงุฒ trait <code>Add</code> ุจุฑ ุฑู struct <code>Point</code> ุงูุฌุงู ูโุฏูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::ops::Add;

#[derive(Debug, Copy, Clone, PartialEq)]
struct Point {
    x: i32,
    y: i32,
}

impl Add for Point {
    type Output = Point;

    fn add(self, other: Point) -&gt; Point {
        Point {
            x: self.x + other.x,
            y: self.y + other.y,
        }
    }
}

fn main() {
    assert_eq!(
        Point { x: 1, y: 0 } + Point { x: 2, y: 3 },
        Point { x: 3, y: 3 }
    );
}</code></pre></pre>
<figcaption>Listing 20-15: ูพุงุฏูโุณุงุฒ trait <code>Add</code> ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ุนููฺฏุฑ <code>+</code> ุจุฑุง ูููููโูุง <code>Point</code></figcaption>
</figure>
<p>ูุชุฏ <code>add</code> ููุงุฏุฑ <code>x</code> ุฏู ููููู <code>Point</code> ู ููุงุฏุฑ <code>y</code> ุฏู ููููู <code>Point</code> ุฑุง ุงุถุงูู ูโฺฉูุฏ ุชุง ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>Point</code> ุงุฌุงุฏ ฺฉูุฏ. trait <code>Add</code> ุฏุงุฑุง ฺฉ ููุน ูุฑุชุจุท ุจุง ูุงู <code>Output</code> ุงุณุช ฺฉู ููุน ุจุงุฒฺฏุดุช ุงุฒ ูุชุฏ <code>add</code> ุฑุง ุชุนู ูโฺฉูุฏ.</p>
<p>ููุน generic ูพุดโูุฑุถ ุฏุฑ ุงู ฺฉุฏ ุฏุฑ ุฏุงุฎู trait <code>Add</code> ุงุณุช. ุฏุฑ ุงูุฌุง ุชุนุฑู ุขู ุขูุฏู ุงุณุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>trait Add&lt;Rhs=Self&gt; {
    type Output;

    fn add(self, rhs: Rhs) -&gt; Self::Output;
}
<span class="boring">}</span></code></pre></pre>
<p>ุงู ฺฉุฏ ุจุงุฏ ุจู ุทูุฑ ฺฉู ุขุดูุง ุจู ูุธุฑ ุจุฑุณุฏ: ฺฉ trait ุจุง ฺฉ ูุชุฏ ู ฺฉ ููุน ูุฑุชุจุท. ุจุฎุด ุฌุฏุฏ <code>Rhs=Self</code> ุงุณุช: ุงู ุณูุชฺฉุณ ุจู <em>default type parameters</em> ุง โูพุงุฑุงูุชุฑูุง ููุน ูพุดโูุฑุถโ ูุนุฑูู ุงุณุช. ูพุงุฑุงูุชุฑ generic ููุน <code>Rhs</code> (ูุฎูู โright hand sideโ ุง โุณูุช ุฑุงุณุชโ) ููุน ูพุงุฑุงูุชุฑ <code>rhs</code> ุฑุง ุฏุฑ ูุชุฏ <code>add</code> ุชุนุฑู ูโฺฉูุฏ. ุงฺฏุฑ ููฺฏุงู ูพุงุฏูโุณุงุฒ trait <code>Add</code> ฺฉ ููุน ุฎุงุต ุจุฑุง <code>Rhs</code> ูุดุฎุต ูฺฉููุ ููุน <code>Rhs</code> ุจู ุทูุฑ ูพุดโูุฑุถ ุจู <code>Self</code> ุชูุธู ูโุดูุฏุ ฺฉู ููุน ุฎูุงูุฏ ุจูุฏ ฺฉู ูุง <code>Add</code> ุฑุง ุจุฑ ุฑู ุขู ูพุงุฏูโุณุงุฒ ูโฺฉูู.</p>
<p>ููฺฏุงู ฺฉู <code>Add</code> ุฑุง ุจุฑุง <code>Point</code> ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูุ ุงุฒ ูพุดโูุฑุถ ุจุฑุง <code>Rhs</code> ุงุณุชูุงุฏู ฺฉุฑุฏู ุฒุฑุง ูโุฎูุงุณุชู ุฏู ููููู <code>Point</code> ุฑุง ุจู ูู ุงุถุงูู ฺฉูู. ุญุงูุ ุจุงุฏ ุจู ูุซุงู ุงุฒ ูพุงุฏูโุณุงุฒ trait <code>Add</code> ูฺฏุงู ฺฉูู ฺฉู ุฏุฑ ุขู ูโุฎูุงูู ููุน <code>Rhs</code> ุฑุง ุดุฎุตโุณุงุฒ ฺฉูู ู ุงุฒ ูพุดโูุฑุถ ุงุณุชูุงุฏู ูฺฉูู.</p>
<p>ูุง ุฏู struct ุจู ูุงูโูุง <code>Millimeters</code> ู <code>Meters</code> ุฏุงุฑู ฺฉู ููุงุฏุฑ ุฑุง ุฏุฑ ูุงุญุฏูุง ูุฎุชูู ูฺฏู ูโุฏุงุฑูุฏ. ุงู ููุน ูุงุฒฺฉโุณุงุฒ ฺฉ ููุน ููุฌูุฏ ุฏุฑ ฺฉ struct ุฏฺฏุฑ ุจูโุนููุงู ุงูฺฏู <em>newtype pattern</em> ุดูุงุฎุชู ูโุดูุฏ ฺฉู ูุง ุขู ุฑุง ุฏุฑ ุจุฎุด <a href="ch20-02-advanced-traits.html#using-the-newtype-pattern-to-implement-external-traits-on-external-types">โUsing the Newtype Pattern to Implement External Traits on External Typesโ</a><!-- ignore --> ุจูโุทูุฑ ููุตู ุชูุถุญ ูโุฏูู. ูุง ูโุฎูุงูู ููุงุฏุฑ ููโูุชุฑ ุฑุง ุจู ููุงุฏุฑ ูุชุฑ ุงุถุงูู ฺฉูู ู ูพุงุฏูโุณุงุฒ <code>Add</code> ุชุจุฏู ุฑุง ุจูโุฏุฑุณุช ุงูุฌุงู ุฏูุฏ. ูโุชูุงูู <code>Add</code> ุฑุง ุจุฑุง <code>Millimeters</code> ุจุง <code>Meters</code> ุจูโุนููุงู <code>Rhs</code> ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-16 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ูพุงุฏูโุณุงุฒ ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::ops::Add;

struct Millimeters(u32);
struct Meters(u32);

impl Add&lt;Meters&gt; for Millimeters {
    type Output = Millimeters;

    fn add(self, other: Meters) -&gt; Millimeters {
        Millimeters(self.0 + (other.0 * 1000))
    }
}</code></pre>
<figcaption>Listing 20-16: ูพุงุฏูโุณุงุฒ trait <code>Add</code> ุจุฑุง <code>Millimeters</code> ุฌูุช ุงูุฒูุฏู <code>Millimeters</code> ุจู <code>Meters</code></figcaption>
</figure>
<p>ุจุฑุง ุงูุฒูุฏู <code>Millimeters</code> ู <code>Meters</code>ุ ูุง <code>impl Add&lt;Meters&gt;</code> ุฑุง ูุดุฎุต ูโฺฉูู ุชุง ููุฏุงุฑ ูพุงุฑุงูุชุฑ ููุน <code>Rhs</code> ุฑุง ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ูพุดโูุฑุถ <code>Self</code> ุชูุธู ฺฉูู.</p>
<p>ุดูุง ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ูพุดโูุฑุถ ุฏุฑ ุฏู ุญุงูุช ุงุตู ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<ul>
<li>ุจุฑุง ฺฏุณุชุฑุด ฺฉ ููุน ุจุฏูู ุดฺฉุณุชู ฺฉุฏ ููุฌูุฏ</li>
<li>ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ุดุฎุตโุณุงุฒ ุฏุฑ ููุงุฑุฏ ุฎุงุต ฺฉู ุงฺฉุซุฑ ฺฉุงุฑุจุฑุงู ุจู ุขู ูุงุฒ ูุฏุงุฑูุฏ</li>
</ul>
<p>trait <code>Add</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฉ ูุซุงู ุงุฒ ูุฏู ุฏูู ุงุณุช: ูุนูููุงู ุดูุง ุฏู ููุน ูุดุงุจู ุฑุง ุงุถุงูู ุฎูุงูุฏ ฺฉุฑุฏุ ุงูุง trait <code>Add</code> ูุงุจูุช ุดุฎุตโุณุงุฒ ูุฑุงุชุฑ ุงุฒ ุขู ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงุณุชูุงุฏู ุงุฒ ูพุงุฑุงูุชุฑ ููุน ูพุดโูุฑุถ ุฏุฑ ุชุนุฑู trait <code>Add</code> ุจู ุงู ูุนูุงุณุช ฺฉู ุดูุง ุจุดุชุฑ ุงููุงุช ูุงุฒ ุจู ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑ ุงุถุงู ูุฏุงุฑุฏ. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ููุฏุงุฑ ฺฉู ุงุฒ ฺฉุฏ ุงุถุงู ุญุฐู ูโุดูุฏ ู ุงุณุชูุงุฏู ุงุฒ trait ุขุณุงูโุชุฑ ูโุดูุฏ.</p>
<p>ูุฏู ุงูู ูุดุงุจู ูุฏู ุฏูู ุงุณุชุ ุงูุง ุจูโุตูุฑุช ูุนฺฉูุณ: ุงฺฏุฑ ุจุฎูุงูุฏ ฺฉ ูพุงุฑุงูุชุฑ ููุน ุฑุง ุจู ฺฉ trait ููุฌูุฏ ุงุถุงูู ฺฉูุฏุ ูโุชูุงูุฏ ุจุฑุง ฺฏุณุชุฑุด ูุงุจูุชโูุง trait ุจุฏูู ุดฺฉุณุชู ฺฉุฏ ูพุงุฏูโุณุงุฒ ููุฌูุฏุ ฺฉ ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ุขู ุชูุธู ฺฉูุฏ.</p>
<h3 id="fully-qualified-syntax-for-disambiguation-calling-methods-with-the-same-name"><a class="header" href="#fully-qualified-syntax-for-disambiguation-calling-methods-with-the-same-name">Fully Qualified Syntax for Disambiguation: Calling Methods with the Same Name</a></h3>
<p>ุฏุฑ ุฑุงุณุช ูฺ ูุญุฏูุฏุช ุจุฑุง ุฏุงุดุชู ฺฉ ูุชุฏ ุจุง ููุงู ูุงู ุฏุฑ ฺฉ trait ู ุฏุฑ ููุน ุฏฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ ู ููฺูู ุฑุงุณุช ูุงูุน ููโุดูุฏ ฺฉู ูุฑ ุฏู trait ุฑุง ุจุฑ ุฑู ฺฉ ููุน ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ููฺูู ูโุชูุงูุฏ ูุชุฏ ุฑุง ูุณุชููุงู ุจุฑ ุฑู ููุน ูพุงุฏูโุณุงุฒ ฺฉูุฏ ฺฉู ููุงู ูุงู ูุชุฏูุง ูุฑุจูุท ุจู traits ุฑุง ุฏุงุฑุฏ.</p>
<p>ููฺฏุงู ูุฑุงุฎูุงู ูุชุฏูุง ุจุง ููุงู ูุงูุ ุจุงุฏ ุจู ุฑุงุณุช ุจฺฏูุฏ ฺฉู ฺฉุฏุงู ฺฉ ุฑุง ูโุฎูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ฺฉุฏ ุฒุฑ ุฏุฑ ููุฑุณุช 20-17 ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ุฏุฑ ุขู ุฏู trait ุจู ูุงูโูุง <code>Pilot</code> ู <code>Wizard</code> ุชุนุฑู ุดุฏูโุงูุฏ ฺฉู ูุฑ ุฏู ุฏุงุฑุง ูุชุฏ ุจู ูุงู <code>fly</code> ูุณุชูุฏ. ุณูพุณ ูุฑ ุฏู trait ุจุฑ ุฑู ููุน <code>Human</code> ูพุงุฏูโุณุงุฒ ูโุดููุฏ ฺฉู ูุจูุงู ูุชุฏ ุจู ูุงู <code>fly</code> ูุฒ ุจุฑ ุฑู ุขู ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ูุฑ ูุชุฏ <code>fly</code> ฺฉุงุฑ ูุชูุงูุช ุงูุฌุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">trait Pilot {
    fn fly(&amp;self);
}

trait Wizard {
    fn fly(&amp;self);
}

struct Human;

impl Pilot for Human {
    fn fly(&amp;self) {
        println!("This is your captain speaking.");
    }
}

impl Wizard for Human {
    fn fly(&amp;self) {
        println!("Up!");
    }
}

impl Human {
    fn fly(&amp;self) {
        println!("*waving arms furiously*");
    }
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 20-17: ุฏู trait ุชุนุฑู ุดุฏูโุงูุฏ ฺฉู ฺฉ ูุชุฏ ูุดุชุฑฺฉ ุฏุงุฑูุฏ ู ุจุฑ ุฑู ููุน <code>Human</code> ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏุ ู ฺฉ ูุชุฏ <code>fly</code> ุจูโุทูุฑ ูุณุชูู ุจุฑ ุฑู <code>Human</code> ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช</figcaption>
</figure>
<p>ููุช ูุชุฏ <code>fly</code> ุฑุง ุจุฑ ุฑู ฺฉ ููููู ุงุฒ <code>Human</code> ูุฑุงุฎูุงู ูโฺฉููุ ฺฉุงููพุงูุฑ ุจู ุทูุฑ ูพุดโูุฑุถ ูุชุฏ ุฑุง ฺฉู ูุณุชููุงู ุจุฑ ุฑู ููุน ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ูุฑุงุฎูุงู ูโฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-18 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">trait Pilot {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">trait Wizard {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Human;
</span><span class="boring">
</span><span class="boring">impl Pilot for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!("This is your captain speaking.");
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Wizard for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!("Up!");
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!("*waving arms furiously*");
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let person = Human;
    person.fly();
}</code></pre></pre>
<figcaption>Listing 20-18: ูุฑุงุฎูุงู <code>fly</code> ุจุฑ ุฑู ฺฉ ููููู ุงุฒ <code>Human</code></figcaption>
</figure>
<p>ุงุฌุฑุง ุงู ฺฉุฏ ูุชู <code>*waving arms furiously*</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ู ูุดุงู ูโุฏูุฏ ฺฉู ุฑุงุณุช ูุชุฏ <code>fly</code> ูพุงุฏูโุณุงุฒโุดุฏู ุจุฑ ุฑู <code>Human</code> ุฑุง ูุณุชููุงู ูุฑุงุฎูุงู ฺฉุฑุฏู ุงุณุช.</p>
<p>ุจุฑุง ูุฑุงุฎูุงู ูุชุฏูุง <code>fly</code> ุงุฒ <code>Pilot</code> ุง <code>Wizard</code>ุ ุจุงุฏ ุงุฒ ุณูุชฺฉุณ ุตุฑุญโุชุฑ ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ูุชุฏ ฺฉู ููุธูุฑ ูุงุณุชุ ุงุณุชูุงุฏู ฺฉูู. ููุฑุณุช 20-19 ุงู ุณูุชฺฉุณ ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">trait Pilot {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">trait Wizard {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Human;
</span><span class="boring">
</span><span class="boring">impl Pilot for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!("This is your captain speaking.");
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Wizard for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!("Up!");
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!("*waving arms furiously*");
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let person = Human;
    Pilot::fly(&amp;person);
    Wizard::fly(&amp;person);
    person.fly();
}</code></pre></pre>
<figcaption>Listing 20-19: ูุดุฎุต ฺฉุฑุฏู ูุชุฏ <code>fly</code> ูุฑุจูุท ุจู ฺฉุฏุงู trait ุฑุง ูโุฎูุงูู ูุฑุงุฎูุงู ฺฉูู</figcaption>
</figure>
<p>ูุดุฎุต ฺฉุฑุฏู ูุงู trait ูุจู ุงุฒ ูุงู ูุชุฏุ ุจู ุฑุงุณุช ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ูุชุฏ <code>fly</code> ุฑุง ูโุฎูุงูู ูุฑุงุฎูุงู ฺฉูู. ููฺูู ูโุชูุงูู <code>Human::fly(&amp;person)</code> ุจููุณู ฺฉู ูุนุงุฏู ุจุง <code>person.fly()</code> ุงุณุช ฺฉู ุฏุฑ ููุฑุณุช 20-19 ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงูุง ุงฺฏุฑ ูุงุฒ ุจู ุฑูุน ุงุจูุงู ูุจุงุดุฏุ ุงู ุฑูุด ฺฉู ุทููุงูโุชุฑ ุงุณุช.</p>
<p>ุงุฌุฑุง ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.46s
     Running `target/debug/traits-example`
This is your captain speaking.
Up!
*waving arms furiously*
</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุชุฏ <code>fly</code> ฺฉ ูพุงุฑุงูุชุฑ <code>self</code> ูโฺฏุฑุฏุ ุงฺฏุฑ ุฏู <em>ููุน</em> ุฏุงุดุชู ุจุงุดู ฺฉู ฺฉ <em>trait</em> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏุ ุฑุงุณุช ูโุชูุงูุฏ ุจุฑ ุงุณุงุณ ููุน <code>self</code> ูุดุฎุต ฺฉูุฏ ฺฉู ฺฉุฏุงู ูพุงุฏูโุณุงุฒ trait ุฑุง ุจุงุฏ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ุชูุงุจุน ูุฑุชุจุท ฺฉู ูุชุฏ ูุณุชูุฏุ ูพุงุฑุงูุชุฑ <code>self</code> ูุฏุงุฑูุฏ. ููุช ฺูุฏู ููุน ุง trait ุชูุงุจุน ุบุฑ ูุชุฏ ุจุง ฺฉ ูุงู ูุดุชุฑฺฉ ุชุนุฑู ูโฺฉููุฏุ ุฑุงุณุช ููุดู ููโุฏุงูุฏ ฺฉู ููุธูุฑ ุดูุง ฺฉุฏุงู ููุน ุงุณุชุ ูฺฏุฑ ุงูฺฉู ุงุฒ <em>fully qualified syntax</em> ุงุณุชูุงุฏู ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุฏุฑ ููุฑุณุช 20-20 ูุง ฺฉ trait ุจุฑุง ฺฉ ูพูุงูฺฏุงู ุญูุงูุงุช ุงุฌุงุฏ ูโฺฉูู ฺฉู ูโุฎูุงูุฏ ุชูุงู ุณฺฏโูุง ฺฉูฺฺฉ ุฑุง ุจู ูุงู <em>Spot</em> ูุงูโฺฏุฐุงุฑ ฺฉูุฏ. ูุง ฺฉ trait ุจู ูุงู <code>Animal</code> ุจุง ฺฉ ุชุงุจุน ุบุฑ ูุชุฏ ูุฑุชุจุท ุจู ูุงู <code>baby_name</code> ุชุนุฑู ูโฺฉูู. trait <code>Animal</code> ุจุฑุง ุณุงุฎุชุงุฑ <code>Dog</code> ูพุงุฏูโุณุงุฒ ูโุดูุฏุ ู ููฺูู ฺฉ ุชุงุจุน ุบุฑ ูุชุฏ ูุฑุชุจุท ุจู ูุงู <code>baby_name</code> ูุณุชููุงู ุจุฑ ุฑู <code>Dog</code> ูุฑุงูู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">trait Animal {
    fn baby_name() -&gt; String;
}

struct Dog;

impl Dog {
    fn baby_name() -&gt; String {
        String::from("Spot")
    }
}

impl Animal for Dog {
    fn baby_name() -&gt; String {
        String::from("puppy")
    }
}

fn main() {
    println!("A baby dog is called a {}", Dog::baby_name());
}</code></pre></pre>
<figcaption>Listing 20-20: ฺฉ trait ุจุง ฺฉ ุชุงุจุน ูุฑุชุจุท ู ฺฉ ููุน ุจุง ฺฉ ุชุงุจุน ูุฑุชุจุท ุจุง ููุงู ูุงู ฺฉู ููฺูู trait ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ</figcaption>
</figure>
<p>ูุง ฺฉุฏ ุจุฑุง ูุงูโฺฏุฐุงุฑ ุชูุงู ุณฺฏโูุง ฺฉูฺฺฉ ุจู ูุงู Spot ุฏุฑ ุชุงุจุน ูุฑุชุจุท <code>baby_name</code> ฺฉู ุจุฑ ุฑู <code>Dog</code> ุชุนุฑู ุดุฏู ุงุณุชุ ูพุงุฏูโุณุงุฒ ูโฺฉูู. ููุน <code>Dog</code> ููฺูู trait <code>Animal</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ฺฉู ูฺฺฏโูุง ฺฉู ุชูุงู ุญูุงูุงุช ุฏุงุฑูุฏ ุฑุง ุชูุตู ูโฺฉูุฏ. ุณฺฏโูุง ฺฉูฺฺฉ ุจู ูุงู puppy ุดูุงุฎุชู ูโุดููุฏ ู ุงู ุฏุฑ ูพุงุฏูโุณุงุฒ trait <code>Animal</code> ุจุฑ ุฑู <code>Dog</code> ุฏุฑ ุชุงุจุน <code>baby_name</code> ูุฑุชุจุท ุจุง trait <code>Animal</code> ุจุงู ุดุฏู ุงุณุช.</p>
<p>ุฏุฑ ุชุงุจุน <code>main</code>ุ ูุง ุชุงุจุน <code>Dog::baby_name</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ฺฉู ุชุงุจุน ูุฑุชุจุท ุชุนุฑู ุดุฏู ุจุฑ ุฑู <code>Dog</code> ุฑุง ูุณุชููุงู ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ฺฉุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.54s
     Running `target/debug/traits-example`
A baby dog is called a Spot
</code></pre>
<p>ุงู ุฎุฑูุฌ ุขู ฺุฒ ูุณุช ฺฉู ูุง ูโุฎูุงุณุชู. ูุง ูโุฎูุงูู ุชุงุจุน <code>baby_name</code> ฺฉู ุจุฎุด ุงุฒ trait <code>Animal</code> ุงุณุช ู ุจุฑ ุฑู <code>Dog</code> ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ุฑุง ูุฑุงุฎูุงู ฺฉูู ุชุง ฺฉุฏ <code>A baby dog is called a puppy</code> ุฑุง ฺุงูพ ฺฉูุฏ. ุชฺฉูฺฉ ฺฉู ุฏุฑ ููุฑุณุช 20-19 ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ูุงู trait ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุงูุฌุง ฺฉูฺฉ ููโฺฉูุฏ. ุงฺฏุฑ <code>main</code> ุฑุง ุจู ฺฉุฏ ููุฌูุฏ ุฏุฑ ููุฑุณุช 20-21 ุชุบุฑ ุฏููุ ุฎุทุง ฺฉุงููพุงู ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">trait Animal {
</span><span class="boring">    fn baby_name() -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Dog;
</span><span class="boring">
</span><span class="boring">impl Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from("Spot")
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Animal for Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from("puppy")
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    println!("A baby dog is called a {}", Animal::baby_name());
}</code></pre>
<figcaption>Listing 20-21: ุชูุงุด ุจุฑุง ูุฑุงุฎูุงู ุชุงุจุน <code>baby_name</code> ุงุฒ trait <code>Animal</code>ุ ุงูุง ุฑุงุณุช ููโุฏุงูุฏ ฺฉู ุงุฒ ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ุงุณุชูุงุฏู ฺฉูุฏ</figcaption>
</figure>
<p>ุงุฒ ุขูุฌุง ฺฉู <code>Animal::baby_name</code> ูพุงุฑุงูุชุฑ <code>self</code> ูุฏุงุฑุฏุ ู ููฺฉู ุงุณุช ุงููุงุน ุฏฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ ฺฉู trait <code>Animal</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดูุฏุ ุฑุงุณุช ููโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ุงุฒ <code>Animal::baby_name</code> ููุฑุฏ ูุธุฑ ูุง ุงุณุช. ุฏุฑ ูุชุฌู ุงู ุฎุทุง ฺฉุงููพุงูุฑ ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
error[E0790]: cannot call associated function on trait without specifying the corresponding `impl` type
  --&gt; src/main.rs:20:43
   |
2  |     fn baby_name() -&gt; String;
   |     ------------------------- `Animal::baby_name` defined here
...
20 |     println!("A baby dog is called a {}", Animal::baby_name());
   |                                           ^^^^^^^^^^^^^^^^^^^ cannot call associated function of trait
   |
help: use the fully-qualified path to the only available implementation
   |
20 |     println!("A baby dog is called a {}", &lt;Dog as Animal&gt;::baby_name());
   |                                           +++++++       +

For more information about this error, try `rustc --explain E0790`.
error: could not compile `traits-example` (bin "traits-example") due to 1 previous error
</code></pre>
<p>ุจุฑุง ุฑูุน ุงุจูุงู ู ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ูุง ูโุฎูุงูู ุงุฒ ูพุงุฏูโุณุงุฒ trait <code>Animal</code> ุจุฑุง <code>Dog</code> ุงุณุชูุงุฏู ฺฉููุ ุจู ุฌุง ูพุงุฏูโุณุงุฒ trait <code>Animal</code> ุจุฑุง ููุน ุฏฺฏุฑุ ุจุงุฏ ุงุฒ fully qualified syntax ุงุณุชูุงุฏู ฺฉูู. ููุฑุณุช 20-22 ูุดุงู ูโุฏูุฏ ฺฺฏููู ุงุฒ fully qualified syntax ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">trait Animal {
</span><span class="boring">    fn baby_name() -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Dog;
</span><span class="boring">
</span><span class="boring">impl Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from("Spot")
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Animal for Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from("puppy")
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    println!("A baby dog is called a {}", &lt;Dog as Animal&gt;::baby_name());
}</code></pre></pre>
<figcaption>Listing 20-22: ุงุณุชูุงุฏู ุงุฒ fully qualified syntax ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ูโุฎูุงูู ุชุงุจุน <code>baby_name</code> ุงุฒ trait <code>Animal</code> ฺฉู ุจุฑ ุฑู <code>Dog</code> ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ูุฑุงุฎูุงู ฺฉูู</figcaption>
</figure>
<p>ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงุนูุงู ููุน ุฏุฑ ุฏุงุฎู angle brackets ุจู ุฑุงุณุช ูโฺฏูู ฺฉู ูโุฎูุงูู ูุชุฏ <code>baby_name</code> ุงุฒ trait <code>Animal</code> ฺฉู ุจุฑ ุฑู <code>Dog</code> ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุชุ ูุฑุงุฎูุงู ุดูุฏุ ุจุง ุงู ฺฉุงุฑ ูุดุฎุต ูโฺฉูู ฺฉู ูโุฎูุงูู ููุน <code>Dog</code> ุฑุง ุจุฑุง ุงู ูุฑุงุฎูุงู ุชุงุจุน ุจูโุนููุงู ฺฉ <code>Animal</code> ุฏุฑ ูุธุฑ ุจฺฏุฑู. ุงู ฺฉุฏ ุงฺฉููู ุฎุฑูุฌ ููุฑุฏ ูุธุฑ ูุง ุฑุง ฺุงูพ ูโฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.48s
     Running `target/debug/traits-example`
A baby dog is called a puppy
</code></pre>
<p>ุจู ุทูุฑ ฺฉูุ fully qualified syntax ุจู ุตูุฑุช ุฒุฑ ุชุนุฑู ูโุดูุฏ:</p>
<pre><code class="language-rust ignore">&lt;Type as Trait&gt;::function(receiver_if_method, next_arg, ...);</code></pre>
<p>ุจุฑุง ุชูุงุจุน ูุฑุชุจุท ฺฉู ูุชุฏ ูุณุชูุฏุ <code>receiver</code> ูุฌูุฏ ูุฎูุงูุฏ ุฏุงุดุช: ููุท ูุณุช ุงุฒ ุขุฑฺฏููุงูโูุง ุฏฺฏุฑ ุฎูุงูุฏ ุจูุฏ. ุดูุง ูโุชูุงูุฏ fully qualified syntax ุฑุง ุฏุฑ ูุฑ ุฌุง ฺฉู ุชูุงุจุน ุง ูุชุฏูุง ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏุ ุงุณุชูุงุฏู ฺฉูุฏ. ุจุง ุงู ุญุงูุ ูุฌุงุฒ ูุณุชุฏ ูุฑ ุจุฎุด ุงุฒ ุงู ุณูุชฺฉุณ ุฑุง ฺฉู ุฑุงุณุช ูโุชูุงูุฏ ุงุฒ ุงุทูุงุนุงุช ุฏฺฏุฑ ุจุฑูุงูู ุชุดุฎุต ุฏูุฏุ ุญุฐู ฺฉูุฏ. ุดูุง ููุท ุฏุฑ ููุงุฑุฏ ฺฉู ฺูุฏู ูพุงุฏูโุณุงุฒ ุจุง ูุงู ฺฉุณุงู ูุฌูุฏ ุฏุงุฑุฏ ู ุฑุงุณุช ุจู ฺฉูฺฉ ูุงุฒ ุฏุงุฑุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ุฑุง ูโุฎูุงูุฏ ูุฑุงุฎูุงู ฺฉูุฏุ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุงู ุณูุชฺฉุณ ุฏููโุชุฑ ุฏุงุฑุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-supertraits-ุจุฑุง-ูุงุฒ-ุจู-ูุงุจูุชูุง-ฺฉ-trait-ุฏุฑูู-trait-ุฏฺฏุฑ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-supertraits-ุจุฑุง-ูุงุฒ-ุจู-ูุงุจูุชูุง-ฺฉ-trait-ุฏุฑูู-trait-ุฏฺฏุฑ">ุงุณุชูุงุฏู ุงุฒ Supertraits ุจุฑุง ูุงุฒ ุจู ูุงุจูุชโูุง ฺฉ trait ุฏุฑูู trait ุฏฺฏุฑ</a></h3>
<p>ฺฏุงู ุงููุงุช ููฺฉู ุงุณุช ฺฉ ุชุนุฑู trait ุจููุณุฏ ฺฉู ุจู ฺฉ trait ุฏฺฏุฑ ูุงุจุณุชู ุจุงุดุฏ: ุจุฑุง ุงูฺฉู ฺฉ ููุน ุจุชูุงูุฏ ุงููู trait ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูโุฎูุงูุฏ ฺฉู ุขู ููุน ููฺูู ุฏููู trait ุฑุง ูุฒ ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ ุชุง ุชุนุฑู trait ุดูุง ุจุชูุงูุฏ ุงุฒ ุขุชูโูุง ูุฑุชุจุท trait ุฏูู ุงุณุชูุงุฏู ฺฉูุฏ. traitโุง ฺฉู ุชุนุฑู trait ุดูุง ุจู ุขู ูุชฺฉ ุงุณุชุ <em>supertrait</em> ูุงูุฏู ูโุดูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ูโุฎูุงูุฏ ฺฉ trait ุจู ูุงู <code>OutlinePrint</code> ุจุณุงุฒุฏ ฺฉู ฺฉ ูุชุฏ <code>outline_print</code> ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉ ููุฏุงุฑ ุฏุงุฏู ุดุฏู ุฑุง ุจุง ูุฑูุช ูุดุฎุต ฺฉู ุฏุฑ ูุงุจ ุณุชุงุฑูโูุง ูุฑุงุฑ ฺฏุฑูุชู ุงุณุชุ ฺุงูพ ฺฉูุฏ. ุจู ุงู ุตูุฑุช ฺฉู ุงฺฏุฑ ฺฉ ุณุงุฎุชุงุฑ <code>Point</code> ุฏุงุดุชู ุจุงุดู ฺฉู trait ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ู ูุชุฌู ุขู ุจู ุดฺฉู <code>(x, y)</code> ุจุงุดุฏุ ููุช ูุชุฏ <code>outline_print</code> ุฑุง ุฑู ฺฉ ููููู ุงุฒ <code>Point</code> ฺฉู <code>1</code> ุจุฑุง <code>x</code> ู <code>3</code> ุจุฑุง <code>y</code> ุฏุงุฑุฏ ูุฑุงุฎูุงู ฺฉููุ ุจุงุฏ ุฎุฑูุฌ ุฒุฑ ุฑุง ฺุงูพ ฺฉูุฏ:</p>
<pre><code class="language-text">**********
*        *
* (1, 3) *
*        *
**********
</code></pre>
<p>ุฏุฑ ูพุงุฏูโุณุงุฒ ูุชุฏ <code>outline_print</code>ุ ูโุฎูุงูู ุงุฒ ูุงุจูุชโูุง trait <code>Display</code> ุงุณุชูุงุฏู ฺฉูู. ุจูุงุจุฑุงูุ ูุงุฒ ุฏุงุฑู ูุดุฎุต ฺฉูู ฺฉู trait <code>OutlinePrint</code> ููุท ุจุฑุง ุงููุงุน ฺฉุงุฑ ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ููฺูู trait <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดูุฏ ู ูุงุจูุชโูุง ููุฑุฏ ูุงุฒ <code>OutlinePrint</code> ุฑุง ุงุฑุงุฆู ุฏููุฏ. ูโุชูุงูู ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ุชุนุฑู trait ุจุง ูุดุฎุต ฺฉุฑุฏู <code>OutlinePrint: Display</code> ุงูุฌุงู ุฏูู. ุงู ุชฺฉูฺฉ ุดุจู ุจู ุงุถุงูู ฺฉุฑุฏู ฺฉ ูุญุฏูุฏุช trait ุจู trait ุงุณุช. ููุฑุณุช 20-23 ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ trait <code>OutlinePrint</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::fmt;

trait OutlinePrint: fmt::Display {
    fn outline_print(&amp;self) {
        let output = self.to_string();
        let len = output.len();
        println!("{}", "*".repeat(len + 4));
        println!("*{}*", " ".repeat(len + 2));
        println!("* {output} *");
        println!("*{}*", " ".repeat(len + 2));
        println!("{}", "*".repeat(len + 4));
    }
}
<span class="boring">
</span><span class="boring">fn main() {}</span></code></pre></pre>
<figcaption>Listing 20-23: ูพุงุฏูโุณุงุฒ trait <code>OutlinePrint</code> ฺฉู ูุงุฒ ุจู ูุงุจูุชโูุง <code>Display</code> ุฏุงุฑุฏ</figcaption>
</figure>
<p>ุงุฒ ุขูุฌุง ฺฉู ูุดุฎุต ฺฉุฑุฏูโุงู ฺฉู <code>OutlinePrint</code> ุจู trait <code>Display</code> ูุงุฒ ุฏุงุฑุฏุ ูโุชูุงูู ุงุฒ ุชุงุจุน <code>to_string</code> ุงุณุชูุงุฏู ฺฉูู ฺฉู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุจุฑุง ูุฑ ููุน ฺฉู <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดุฏุ ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ุงฺฏุฑ ุณุน ฺฉูู <code>to_string</code> ุฑุง ุจุฏูู ุงุถุงูู ฺฉุฑุฏู ุฏู ููุทู ู ูุดุฎุต ฺฉุฑุฏู trait <code>Display</code> ุจุนุฏ ุงุฒ ูุงู trait ุงุณุชูุงุฏู ฺฉููุ ุฎุทุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏ ฺฉู ูโฺฏูุฏ ูฺ ูุชุฏ ุจู ูุงู <code>to_string</code> ุจุฑุง ููุน <code>&amp;Self</code> ุฏุฑ ูุญุฏูุฏู ูุนู ุงูุช ูุดุฏ.</p>
<p>ุญุงูุง ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ ุงฺฏุฑ ุจุฎูุงูู <code>OutlinePrint</code> ุฑุง ุจุฑุง ฺฉ ููุน ฺฉู <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏู ุงุณุชุ ูุงููุฏ ุณุงุฎุชุงุฑ <code>Point</code>ุ ูพุงุฏูโุณุงุฒ ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::fmt;
</span><span class="boring">
</span><span class="boring">trait OutlinePrint: fmt::Display {
</span><span class="boring">    fn outline_print(&amp;self) {
</span><span class="boring">        let output = self.to_string();
</span><span class="boring">        let len = output.len();
</span><span class="boring">        println!("{}", "*".repeat(len + 4));
</span><span class="boring">        println!("*{}*", " ".repeat(len + 2));
</span><span class="boring">        println!("* {output} *");
</span><span class="boring">        println!("*{}*", " ".repeat(len + 2));
</span><span class="boring">        println!("{}", "*".repeat(len + 4));
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>struct Point {
    x: i32,
    y: i32,
}

impl OutlinePrint for Point {}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let p = Point { x: 1, y: 3 };
</span><span class="boring">    p.outline_print();
</span><span class="boring">}</span></code></pre>
</figure>
<p>ุฎุทุง ุฏุฑุงูุช ูโฺฉูู ฺฉู ูโฺฏูุฏ <code>Display</code> ููุฑุฏ ูุงุฒ ุงุณุช ูู ูพุงุฏูโุณุงุฒ ูุดุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
error[E0277]: `Point` doesn't implement `std::fmt::Display`
  --&gt; src/main.rs:20:23
   |
20 | impl OutlinePrint for Point {}
   |                       ^^^^^ `Point` cannot be formatted with the default formatter
   |
   = help: the trait `std::fmt::Display` is not implemented for `Point`
   = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead
note: required by a bound in `OutlinePrint`
  --&gt; src/main.rs:3:21
   |
3  | trait OutlinePrint: fmt::Display {
   |                     ^^^^^^^^^^^^ required by this bound in `OutlinePrint`

error[E0277]: `Point` doesn't implement `std::fmt::Display`
  --&gt; src/main.rs:24:7
   |
24 |     p.outline_print();
   |       ^^^^^^^^^^^^^ `Point` cannot be formatted with the default formatter
   |
   = help: the trait `std::fmt::Display` is not implemented for `Point`
   = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead
note: required by a bound in `OutlinePrint::outline_print`
  --&gt; src/main.rs:3:21
   |
3  | trait OutlinePrint: fmt::Display {
   |                     ^^^^^^^^^^^^ required by this bound in `OutlinePrint::outline_print`
4  |     fn outline_print(&amp;self) {
   |        ------------- required by a bound in this associated function

For more information about this error, try `rustc --explain E0277`.
error: could not compile `traits-example` (bin "traits-example") due to 2 previous errors
</code></pre>
<p>ุจุฑุง ุฑูุน ุงู ูุดฺฉูุ ุจุงุฏ <code>Display</code> ุฑุง ุจุฑุง <code>Point</code> ูพุงุฏูโุณุงุฒ ฺฉูู ู ูุญุฏูุฏุช ููุฑุฏ ูุงุฒ <code>OutlinePrint</code> ุฑุง ุจุฑุขูุฑุฏู ฺฉููุ ุจู ุงู ุตูุฑุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">trait OutlinePrint: fmt::Display {
</span><span class="boring">    fn outline_print(&amp;self) {
</span><span class="boring">        let output = self.to_string();
</span><span class="boring">        let len = output.len();
</span><span class="boring">        println!("{}", "*".repeat(len + 4));
</span><span class="boring">        println!("*{}*", " ".repeat(len + 2));
</span><span class="boring">        println!("* {output} *");
</span><span class="boring">        println!("*{}*", " ".repeat(len + 2));
</span><span class="boring">        println!("{}", "*".repeat(len + 4));
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Point {
</span><span class="boring">    x: i32,
</span><span class="boring">    y: i32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl OutlinePrint for Point {}
</span><span class="boring">
</span>use std::fmt;

impl fmt::Display for Point {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {
        write!(f, "({}, {})", self.x, self.y)
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let p = Point { x: 1, y: 3 };
</span><span class="boring">    p.outline_print();
</span><span class="boring">}</span></code></pre></pre>
</figure>
<p>ุณูพุณ ุจุง ูพุงุฏูโุณุงุฒ trait <code>OutlinePrint</code> ุจุฑ ุฑู <code>Point</code>ุ ฺฉุฏ ุจุง ููููุช ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ ู ูโุชูุงูู ูุชุฏ <code>outline_print</code> ุฑุง ุฑู ฺฉ ููููู ุงุฒ <code>Point</code> ูุฑุงุฎูุงู ฺฉูู ุชุง ุขู ุฑุง ุฏุฑ ฺฉ ูุงุจ ุณุชุงุฑูโุง ููุงุด ุฏูุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ุงูฺฏู-newtype-ุจุฑุง-ูพุงุฏูุณุงุฒ-traits-ุฎุงุฑุฌ-ุฑู-ุงููุงุน-ุฎุงุฑุฌ"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ุงูฺฏู-newtype-ุจุฑุง-ูพุงุฏูุณุงุฒ-traits-ุฎุงุฑุฌ-ุฑู-ุงููุงุน-ุฎุงุฑุฌ">ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู Newtype ุจุฑุง ูพุงุฏูโุณุงุฒ Traits ุฎุงุฑุฌ ุฑู ุงููุงุน ุฎุงุฑุฌ</a></h3>
<p>ุฏุฑ ูุตู ฑฐ ุฏุฑ ุจุฎุด <a href="ch10-02-traits.html#implementing-a-trait-on-a-type">โูพุงุฏูโุณุงุฒ ฺฉ Trait ุฑู ฺฉ
ููุนโ</a><!-- ignore -->ุ ุจู ูุงููู orphan ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ุจุงู ูโฺฉูุฏ ูุง ููุท ูุฌุงุฒ ูุณุชู ฺฉ trait ุฑุง ุฑู ฺฉ ููุน ูพุงุฏูโุณุงุฒ ฺฉูู ุงฺฏุฑ ุง trait ุง ููุน ุจู crate ูุง ุชุนูู ุฏุงุดุชู ุจุงุดุฏ. ุจุง ุงู ุญุงูุ ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ <em>ุงูฺฏู newtype</em>ุ ุงู ูุญุฏูุฏุช ุฑุง ุฏูุฑ ุฒุฏ. ุงู ุงูฺฏู ุดุงูู ุงุฌุงุฏ ฺฉ ููุน ุฌุฏุฏ ุฏุฑ ฺฉ tuple struct ุงุณุช. (ูุง tuple structโูุง ุฑุง ุฏุฑ ุจุฎุด <a href="ch05-01-defining-structs.html#using-tuple-structs-without-named-fields-to-create-different-types">โุงุณุชูุงุฏู ุงุฒ Tuple Structs ุจุฏูู ููุฏูุง ูุงูโฺฏุฐุงุฑโุดุฏู ุจุฑุง ุงุฌุงุฏ ุงููุงุน ูุฎุชููโ</a><!-- ignore --> ุฏุฑ ูุตู ต ูพูุดุด ุฏุงุฏู.) tuple struct ฺฉ ููุฏ ุฎูุงูุฏ ุฏุงุดุช ู ฺฉ wrapper ูุงุฒฺฉ ุฏูุฑ ููุน ุฎูุงูุฏ ุจูุฏ ฺฉู ูโุฎูุงูู trait ุฑุง ุจุฑุง ุขู ูพุงุฏูโุณุงุฒ ฺฉูู. ุณูพุณุ ููุน wrapper ุจู crate ูุง ุชุนูู ุฏุงุฑุฏ ู ูโุชูุงูู trait ุฑุง ุฑู wrapper ูพุงุฏูโุณุงุฒ ฺฉูู. ุงุตุทูุงุญ <em>Newtype</em> ุงุฒ ุฒุจุงู ุจุฑูุงููโููุณ Haskell ููุดุฃ ฺฏุฑูุชู ุงุณุช. ูฺ ุฌุฑูู ุนููฺฉุฑุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงูฺฏู ูุฌูุฏ ูุฏุงุฑุฏ ู ููุน wrapper ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุญุฐู ูโุดูุฏ.</p>
<p>ุจูโุนููุงู ูุซุงูุ ูุฑุถ ฺฉูุฏ ูโุฎูุงูู <code>Display</code> ุฑุง ุฑู <code>Vec&lt;T&gt;</code> ูพุงุฏูโุณุงุฒ ฺฉููุ ฺฉู ูุงููู orphan ูุงูุน ุงูุฌุงู ุงู ฺฉุงุฑ ุจูโุตูุฑุช ูุณุชูู ูโุดูุฏ ุฒุฑุง trait <code>Display</code> ู ููุน <code>Vec&lt;T&gt;</code> ุฎุงุฑุฌ ุงุฒ crate ูุง ุชุนุฑู ุดุฏูโุงูุฏ. ูโุชูุงูู ฺฉ ุณุงุฎุชุงุฑ <code>Wrapper</code> ุจุณุงุฒู ฺฉู ุดุงูู ฺฉ ููููู ุงุฒ <code>Vec&lt;T&gt;</code> ุจุงุดุฏุ ุณูพุณ ูโุชูุงูู <code>Display</code> ุฑุง ุฑู <code>Wrapper</code> ูพุงุฏูโุณุงุฒ ฺฉูู ู ุงุฒ ููุฏุงุฑ <code>Vec&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉููุ ููุงูุทูุฑ ฺฉู ุฏุฑ ููุฑุณุช 20-24 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">use std::fmt;

struct Wrapper(Vec&lt;String&gt;);

impl fmt::Display for Wrapper {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {
        write!(f, "[{}]", self.0.join(", "))
    }
}

fn main() {
    let w = Wrapper(vec![String::from("hello"), String::from("world")]);
    println!("w = {w}");
}</code></pre></pre>
<figcaption>Listing 20-24: ุงุฌุงุฏ ููุน <code>Wrapper</code> ุฏูุฑ <code>Vec&lt;String&gt;</code> ุจุฑุง ูพุงุฏูโุณุงุฒ <code>Display</code></figcaption>
</figure>
<p>ูพุงุฏูโุณุงุฒ <code>Display</code> ุงุฒ <code>self.0</code> ุจุฑุง ุฏุณุชุฑุณ ุจู <code>Vec&lt;T&gt;</code> ุฏุงุฎู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุฒุฑุง <code>Wrapper</code> ฺฉ tuple struct ุงุณุช ู <code>Vec&lt;T&gt;</code> ุขุชู ุฏุฑ index ุตูุฑ tuple ุงุณุช. ุณูพุณ ูโุชูุงูู ุงุฒ ูุงุจูุชโูุง trait <code>Display</code> ุฑู <code>Wrapper</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ุนุจ ุงุณุชูุงุฏู ุงุฒ ุงู ุชฺฉูฺฉ ุงู ุงุณุช ฺฉู <code>Wrapper</code> ฺฉ ููุน ุฌุฏุฏ ุงุณุชุ ุจูุงุจุฑุงู ูุชุฏูุง ููุน ฺฉู ุฏุฑูู ุฎูุฏ ูฺฏู ูโุฏุงุฑุฏ ุฑุง ูุฏุงุฑุฏ. ุจุงุฏ ุชูุงู ูุชุฏูุง <code>Vec&lt;T&gt;</code> ุฑุง ูุณุชููุงู ุฑู <code>Wrapper</code> ูพุงุฏูโุณุงุฒ ฺฉูู ุจู ุทูุฑ ฺฉู ูุชุฏูุง ุจู <code>self.0</code> ุงุฑุฌุงุน ุฏููุฏุ ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ <code>Wrapper</code> ุฑุง ุฏููุงู ูุงููุฏ <code>Vec&lt;T&gt;</code> ุฑูุชุงุฑ ุฏูู. ุงฺฏุฑ ุจุฎูุงูู ููุน ุฌุฏุฏ ุชูุงู ูุชุฏูุง ฺฉู ููุน ุฏุงุฎู ุฏุงุฑุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏุ ูพุงุฏูโุณุงุฒ trait <code>Deref</code> (ฺฉู ุฏุฑ ูุตู ฑต ุฏุฑ ุจุฎุด <a href="ch15-02-deref.html#treating-smart-pointers-like-regular-references-with-the-deref-trait">โุฑูุชุงุฑ ุจุง ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุจูโุนููุงู ุงุฑุฌุงุนุงุช ูุนููู ุจุง ุงุณุชูุงุฏู ุงุฒ trait <code>Deref</code>โ</a><!-- ignore --> ุจุญุซ ุดุฏ) ุฑู <code>Wrapper</code> ุจูโฺฏูููโุง ฺฉู ููุน ุฏุงุฎู ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ุฑุงูโุญู ุฎูุงูุฏ ุจูุฏ. ุงฺฏุฑ ูุฎูุงูู ููุน <code>Wrapper</code> ุชูุงู ูุชุฏูุง ููุน ุฏุงุฎู ุฑุง ุฏุงุดุชู ุจุงุดุฏโุจุฑุง ูุซุงูุ ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุฑูุชุงุฑ ููุน <code>Wrapper</code>โุจุงุฏ ูุชุฏูุง ฺฉู ูุงูุนุงู ูุงุฒ ุฏุงุฑู ุฑุง ุจู ุตูุฑุช ุฏุณุช ูพุงุฏูโุณุงุฒ ฺฉูู.</p>
<p>ุงู ุงูฺฏู newtype ุญุช ุฒูุงู ฺฉู traits ุฏุฑฺฏุฑ ูุณุชูุฏ ูุฒ ููุฏ ุงุณุช. ุญุงูุง ุจุงุฏ ุชูุฑฺฉุฒ ุฎูุฏ ุฑุง ุชุบุฑ ุฏูู ู ุจู ุจุฑุฎ ุงุฒ ุฑูุดโูุง ูพุดุฑูุชู ุจุฑุง ุชุนุงูู ุจุง ุณุณุชู ููุน Rust ุจูพุฑุฏุงุฒู.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุงููุงุน-typeูุง-ูพุดุฑูุชู"><a class="header" href="#ุงููุงุน-typeูุง-ูพุดุฑูุชู">ุงููุงุน (Typeูุง) ูพุดุฑูุชู</a></h2>
<p>ุณุณุชู ููุนโุจูุฏ Rust ุดุงูู ูฺฺฏโูุง ุงุณุช ฺฉู ุชุงฺฉููู ููุท ุจู ุขูโูุง ุงุดุงุฑู ฺฉุฑุฏูโุงู ู ูููุฒ ุจูโุทูุฑ ฺฉุงูู ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูฺฏุฑูุชูโุงูุฏ. ุงุจุชุฏุง ุจู ุจุฑุฑุณ ุงูฺฏู newtype ูโูพุฑุฏุงุฒู ุชุง ุจูููู ฺุฑุง ุงู ุงูฺฏู ุจูโุนููุงู ุงููุงุน ููุฏ ุงุณุช. ุณูพุณ ุจู aliasูุง ููุน ูโูพุฑุฏุงุฒูุ ฺฉู ูฺฺฏ ูุดุงุจู ุจุง newtype ุฏุงุฑูุฏ ุงูุง ุจุง ุชูุงูุชโูุง ุฏุฑ ูุนูุงุดูุงุณ. ููฺููุ ููุน <code>!</code> ู ุงููุงุน ูพูุง (dynamically sized types) ุฑุง ูุฒ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ุงุณุชูุงุฏู-ุงุฒ-ุงูฺฏู-newtype-ุจุฑุง-ุงูู-ููุน-ู-ุงูุชุฒุงุน"><a class="header" href="#ุงุณุชูุงุฏู-ุงุฒ-ุงูฺฏู-newtype-ุจุฑุง-ุงูู-ููุน-ู-ุงูุชุฒุงุน">ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู Newtype ุจุฑุง ุงูู ููุน ู ุงูุชุฒุงุน</a></h3>
<blockquote>
<p>ุชูุฌู: ุงู ุจุฎุด ูุฑุถ ูโฺฉูุฏ ฺฉู ูุจูุงู ุจุฎุด <a href="ch20-02-advanced-traits.html#%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A7%D9%84%DA%AF%D9%88%DB%8C-newtype-%D8%A8%D8%B1%D8%A7%DB%8C-%D9%BE%DB%8C%D8%A7%D8%AF%D9%87%D8%B3%D8%A7%D8%B2%DB%8C-traits-%D8%AE%D8%A7%D8%B1%D8%AC%DB%8C-%D8%B1%D9%88%DB%8C-%D8%A7%D9%86%D9%88%D8%A7%D8%B9-%D8%AE%D8%A7%D8%B1%D8%AC%DB%8C">โุงุณุชูุงุฏู ุงุฒ ุงูฺฏู Newtype ุจุฑุง ูพุงุฏูโุณุงุฒ Traits ุฎุงุฑุฌ ุฑู ุงููุงุน ุฎุงุฑุฌโ</a><!-- ignore --> ุฑุง ูุทุงูุนู ฺฉุฑุฏูโุงุฏ.</p>
</blockquote>
<p>ุงูฺฏู newtype ุนูุงูู ุจุฑ ููุงุฑุฏ ฺฉู ุชุงฺฉููู ุจุญุซ ฺฉุฑุฏูุ ุจุฑุง ูุธุงู ุฏฺฏุฑ ูุงููุฏ ุงุนูุงู ูุญุฏูุฏุชโูุง ุงุณุชุงุชฺฉ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุดุชุจุงู ู ููุงุด ูุงุญุฏูุง ฺฉ ููุฏุงุฑ ูุฒ ููุฏ ุงุณุช. ุดูุง ฺฉ ูุซุงู ุงุฒ ุงุณุชูุงุฏู ุงุฒ newtype ุจุฑุง ููุงุด ูุงุญุฏูุง ุฑุง ุฏุฑ ูุซุงู 20-16 ุฏุฏุฏ: ุฏุฑ ุขูุฌุงุ ุณุงุฎุชุงุฑูุง <code>Millimeters</code> ู <code>Meters</code> ููุงุฏุฑ ููุน <code>u32</code> ุฑุง ุฏุฑ ฺฉ newtype ุจุณุชูโุจูุฏ ูโฺฉุฑุฏูุฏ. ุงฺฏุฑ ุชุงุจุน ุจุง ูพุงุฑุงูุชุฑ ุงุฒ ููุน <code>Millimeters</code> ุจููุณูุ ุจุฑูุงููโุง ฺฉู ุจูโุทูุฑ ุงุดุชุจุงู ุจุฎูุงูุฏ ุงู ุชุงุจุน ุฑุง ุจุง ููุฏุงุฑ ููุน <code>Meters</code> ุง ฺฉ <code>u32</code> ุณุงุฏู ูุฑุงุฎูุงู ฺฉูุฏุ ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ุงูฺฏู newtype ุจุฑุง ุงูุชุฒุงุน ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ฺฉ ููุน ุงุณุชูุงุฏู ฺฉูู: ููุน ุฌุฏุฏ ูโุชูุงูุฏ ฺฉ API ุนููู ุงุฑุงุฆู ุฏูุฏ ฺฉู ุจุง API ููุน ุฏุงุฎู ุฎุตูุต ูุชูุงูุช ุงุณุช.</p>
<p>ุงูฺฏู newtype ููฺูู ูโุชูุงูุฏ ูพุงุฏูโุณุงุฒ ุฏุงุฎู ุฑุง ูุฎู ฺฉูุฏ. ุจูโุนููุงู ูุซุงูุ ูโุชูุงูู ููุน ุจู ูุงู <code>People</code> ุงุฑุงุฆู ุฏูู ฺฉู ฺฉ <code>HashMap&lt;i32, String&gt;</code> ุฑุง ุจุฑุง ุฐุฎุฑู ID ุงูุฑุงุฏ ุจุง ูุงู ุขูโูุง ุจุณุชูโุจูุฏ ฺฉูุฏ. ฺฉุฏ ฺฉู ุงุฒ <code>People</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ููุท ุจุง API ุนููู ฺฉู ุงุฑุงุฆู ูโุฏูู ุชุนุงูู ุฎูุงูุฏ ุฏุงุดุชุ ูุงููุฏ ูุชุฏ ุจุฑุง ุงูุฒูุฏู ฺฉ ุฑุดุชู ูุงู ุจู ูุฌููุนู <code>People</code>. ุงู ฺฉุฏ ูุงุฒ ูุฏุงุฑุฏ ฺฉู ุจุฏุงูุฏ ูุง ุจูโุตูุฑุช ุฏุงุฎู ฺฉ ID ููุน <code>i32</code> ุจู ูุงูโูุง ุงุฎุชุตุงุต ูโุฏูู. ุงูฺฏู newtype ฺฉ ุฑูุด ุณุจฺฉโูุฒู ุจุฑุง ุฏุณุชุงุจ ุจู ฺฉูพุณูููโุณุงุฒ ุจุฑุง ูุฎู ฺฉุฑุฏู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุงุณุชุ ฺฉู ุฏุฑ ุจุฎุด <a href="ch18-01-what-is-oo.html#encapsulation-that-hides-implementation-details">โฺฉูพุณูููโุณุงุฒ ุจุฑุง ูุฎู ฺฉุฑุฏู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒโ</a><!-- ignore --> ูุตู ฑธ ุจุญุซ ุดุฏ.</p>
<h3 id="ุงุฌุงุฏ-ูุชุฑุงุฏููุง-ููุน-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-type-aliases"><a class="header" href="#ุงุฌุงุฏ-ูุชุฑุงุฏููุง-ููุน-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-type-aliases">ุงุฌุงุฏ ูุชุฑุงุฏูโูุง ููุน ุจุง ุงุณุชูุงุฏู ุงุฒ Type Aliases</a></h3>
<p>Rust ูุงุจูุช ุชุนุฑู <em>alias ููุน</em> ุฑุง ุจุฑุง ุงุฑุงุฆู ฺฉ ูุงู ุฏฺฏุฑ ุจุฑุง ฺฉ ููุน ููุฌูุฏ ูุฑุงูู ูโฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ ฺฉูููโฺฉูุฏ <code>type</code> ุงุณุชูุงุฏู ูโฺฉูู. ุจูโุนููุงู ูุซุงูุ ูโุชูุงูู aliasโุง ุจู ูุงู <code>Kilometers</code> ุจุฑุง ููุน <code>i32</code> ุงุฌุงุฏ ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    type Kilometers = i32;
<span class="boring">
</span><span class="boring">    let x: i32 = 5;
</span><span class="boring">    let y: Kilometers = 5;
</span><span class="boring">
</span><span class="boring">    println!("x + y = {}", x + y);
</span><span class="boring">}</span></code></pre></pre>
<p>ุงฺฉูููุ alias <code>Kilometers</code> ฺฉ <em>ูุชุฑุงุฏู</em> ุจุฑุง <code>i32</code> ุงุณุช. ุจุฑุฎูุงู ุงููุงุน <code>Millimeters</code> ู <code>Meters</code> ฺฉู ุฏุฑ ูุซุงู 20-16 ุงุฌุงุฏ ฺฉุฑุฏูุ <code>Kilometers</code> ฺฉ ููุน ุฌุฏุฏ ู ุฌุฏุงฺฏุงูู ูุณุช. ููุงุฏุฑ ฺฉู ููุน ุขูโูุง <code>Kilometers</code> ุจุงุดุฏุ ุฏููุงู ููุงููุฏ ููุงุฏุฑ ููุน <code>i32</code> ุฑูุชุงุฑ ูโฺฉููุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    type Kilometers = i32;

    let x: i32 = 5;
    let y: Kilometers = 5;

    println!("x + y = {}", x + y);
<span class="boring">}</span></code></pre></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู <code>Kilometers</code> ู <code>i32</code> ฺฉ ููุน ูุณุชูุฏุ ูโุชูุงูู ููุงุฏุฑ ุงู ุฏู ููุน ุฑุง ุจุง ูู ุฌูุน ฺฉูู ู ูโุชูุงูู ููุงุฏุฑ <code>Kilometers</code> ุฑุง ุจู ุชูุงุจุน ฺฉู ูพุงุฑุงูุชุฑูุง ููุน <code>i32</code> ุฏุงุฑูุฏุ ุงุฑุณุงู ฺฉูู. ุจุง ุงู ุญุงูุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุฑูุดุ ูุฒุงุง ุจุฑุฑุณ ููุน ฺฉู ุงุฒ ุงูฺฏู newtype ุจุฑุฎูุฑุฏุงุฑ ุจูุฏู ุฑุง ุงุฒ ุฏุณุช ูโุฏูู. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุงฺฏุฑ ููุงุฏุฑ <code>Kilometers</code> ู <code>i32</code> ุฑุง ุฏุฑ ุฌุง ุงุดุชุจุงู ุจฺฏุฑูุ ฺฉุงููพุงูุฑ ุฎุทุง ูุดุงู ูุฎูุงูุฏ ุฏุงุฏ.</p>
<p>ุงุณุชูุงุฏู ุงุตู ุงุฒ ูุชุฑุงุฏูโูุง ููุน ุจุฑุง ฺฉุงูุด ุชฺฉุฑุงุฑ ุงุณุช. ุจูโุนููุงู ูุซุงูุ ููฺฉู ุงุณุช ฺฉ ููุน ุทููุงู ูุงููุฏ ุงู ุฏุงุดุชู ุจุงุดู:</p>
<pre><code class="language-rust ignore">Box&lt;dyn Fn() + Send + 'static&gt;</code></pre>
<p>ููุดุชู ุงู ููุน ุทููุงู ุฏุฑ ุงูุถุงูุง ุชูุงุจุน ู ุจูโุนููุงู ุชูุถุญุงุช ููุน ุฏุฑ ุณุฑุงุณุฑ ฺฉุฏ ูโุชูุงูุฏ ุฎุณุชูโฺฉููุฏู ู ูุณุชุนุฏ ุฎุทุง ุจุงุดุฏ. ุชุตูุฑ ฺฉูุฏ ูพุฑูฺูโุง ูพุฑ ุงุฒ ฺฉุฏ ูุงููุฏ ุขูฺู ุฏุฑ ููุฑุณุช 20-25 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<p>&lt;ููุฑุณุช ุดูุงุฑู=โ20-25โ ุนููุงู=โุงุณุชูุงุฏู ุงุฒ ฺฉ ููุน ุทููุงู ุฏุฑ ูฺฉุงูโูุง ูุชุนุฏุฏโ&gt;</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let f: Box&lt;dyn Fn() + Send + 'static&gt; = Box::new(|| println!("hi"));

    fn takes_long_type(f: Box&lt;dyn Fn() + Send + 'static&gt;) {
        // --snip--
    }

    fn returns_long_type() -&gt; Box&lt;dyn Fn() + Send + 'static&gt; {
        // --snip--
<span class="boring">        Box::new(|| ())
</span>    }
<span class="boring">}</span></code></pre></pre>
<p>&lt;/ููุฑุณุช&gt;</p>
<p>ฺฉ <strong>ููุน ูุณุชุนุงุฑ</strong> (type alias) ุงู ฺฉุฏ ุฑุง ุจุง ฺฉุงูุด ุชฺฉุฑุงุฑ ุฎูุงูุงุชุฑ ู ูุฏุฑุชโูพุฐุฑุชุฑ ูโฺฉูุฏ. ุฏุฑ ููุฑุณุช 20-26ุ ูุง ฺฉ ูุณุชุนุงุฑ ุจู ูุงู <code>Thunk</code> ุจุฑุง ููุน ุทููุงู ูุนุฑู ฺฉุฑุฏูโุงู ู ูโุชูุงูู ููู ุงุณุชูุงุฏูโูุง ุงุฒ ุงู ููุน ุฑุง ุจุง ูุณุชุนุงุฑ ฺฉูุชุงูโุชุฑ <code>Thunk</code> ุฌุงฺฏุฒู ฺฉูู.</p>
<p>&lt;ููุฑุณุช ุดูุงุฑู=โ20-26โ ุนููุงู=โูุนุฑู ููุน ูุณุชุนุงุฑ <code>Thunk</code> ุจุฑุง ฺฉุงูุด ุชฺฉุฑุงุฑโ&gt;</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    type Thunk = Box&lt;dyn Fn() + Send + 'static&gt;;

    let f: Thunk = Box::new(|| println!("hi"));

    fn takes_long_type(f: Thunk) {
        // --snip--
    }

    fn returns_long_type() -&gt; Thunk {
        // --snip--
<span class="boring">        Box::new(|| ())
</span>    }
<span class="boring">}</span></code></pre></pre>
<p>&lt;/ููุฑุณุช&gt;</p>
<p>ุงู ฺฉุฏ ุจุณุงุฑ ุฎูุงูุงุชุฑ ู ููุดุชู ุขู ุขุณุงูโุชุฑ ุงุณุช! ุงูุชุฎุงุจ ฺฉ ูุงู ูุนูุงุฏุงุฑ ุจุฑุง ููุน ูุณุชุนุงุฑ ูโุชูุงูุฏ ุจู ุงูุชูุงู ููุตูุฏ ุดูุง ฺฉูฺฉ ฺฉูุฏ. (ุจุฑุง ูุซุงูุ <em>thunk</em> ฺฉูููโุง ุงุณุช ฺฉู ุจู ฺฉุฏ ุงุดุงุฑู ุฏุงุฑุฏ ฺฉู ูุฑุงุฑ ุงุณุช ุฏุฑ ุขูุฏู ุงุฌุฑุง ุดูุฏุ ุจูุงุจุฑุงู ุจุฑุง ุงุดุงุฑู ุจู ฺฉ closure ฺฉู ุฐุฎุฑู ูโุดูุฏุ ููุงุณุจ ุงุณุช).</p>
<p>ููุนโูุง ูุณุชุนุงุฑ ููฺูู ูุนูููุงู ุจุง ููุน <code>Result&lt;T, E&gt;</code> ุจุฑุง ฺฉุงูุด ุชฺฉุฑุงุฑ ุงุณุชูุงุฏู ูโุดููุฏ. ุจูโุนููุงู ูููููุ ูุงฺูู <code>std::io</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. ุนููุงุช I/O ุงุบูุจ ฺฉ <code>Result&lt;T, E&gt;</code> ุจุฑูโฺฏุฑุฏุงูุฏ ุชุง ููุงูุน ฺฉู ุนููุงุช ุจุง ุดฺฉุณุช ููุงุฌู ูโุดูุฏ ูุฏุฑุช ุดูุฏ. ุงู ฺฉุชุงุจุฎุงูู ฺฉ ุณุงุฎุชุงุฑ <code>std::io::Error</code> ุฏุงุฑุฏ ฺฉู ุชูุงู ุฎุทุงูุง ููฺฉู ุฏุฑ I/O ุฑุง ููุงุด ูโุฏูุฏ. ุจุณุงุฑ ุงุฒ ุชูุงุจุน ุฏุฑ <code>std::io</code> <code>Result&lt;T, E&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงููุฏ ฺฉู ุฏุฑ ุขู <code>E</code> ุจุฑุงุจุฑ ุจุง <code>std::io::Error</code> ุงุณุชุ ูุงููุฏ ุงู ุชูุงุจุน ุฏุฑ trait <code>Write</code>:</p>
<pre><code class="language-rust noplayground">use std::fmt;
use std::io::Error;

pub trait Write {
    fn write(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;usize, Error&gt;;
    fn flush(&amp;mut self) -&gt; Result&lt;(), Error&gt;;

    fn write_all(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;(), Error&gt;;
    fn write_fmt(&amp;mut self, fmt: fmt::Arguments) -&gt; Result&lt;(), Error&gt;;
}</code></pre>
<p>ุนุจุงุฑุช <code>Result&lt;..., Error&gt;</code> ุจู ุฏูุนุงุช ุชฺฉุฑุงุฑ ุดุฏู ุงุณุช. ุจู ููู ุฏููุ ุฏุฑ ูุงฺูู <code>std::io</code> ฺฉ ููุน ูุณุชุนุงุฑ (type alias) ุจู ุงู ุดฺฉู ุชุนุฑู ุดุฏู ุงุณุช:</p>
<pre><code class="language-rust noplayground"><span class="boring">use std::fmt;
</span><span class="boring">
</span>type Result&lt;T&gt; = std::result::Result&lt;T, std::io::Error&gt;;
<span class="boring">
</span><span class="boring">pub trait Write {
</span><span class="boring">    fn write(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;usize&gt;;
</span><span class="boring">    fn flush(&amp;mut self) -&gt; Result&lt;()&gt;;
</span><span class="boring">
</span><span class="boring">    fn write_all(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;()&gt;;
</span><span class="boring">    fn write_fmt(&amp;mut self, fmt: fmt::Arguments) -&gt; Result&lt;()&gt;;
</span><span class="boring">}</span></code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ุงู ุชุนุฑู ุฏุฑ ูุงฺูู <code>std::io</code> ูุฑุงุฑ ุฏุงุฑุฏุ ูโุชูุงูู ุงุฒ ููุน ูุณุชุนุงุฑ <code>std::io::Result&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉููุ ุจู ุงู ูุนู ฺฉู <code>Result&lt;T, E&gt;</code> ุจุง ููุฏุงุฑ <code>E</code> ุจุฑุงุจุฑ ุจุง <code>std::io::Error</code> ุงุณุช. ุงูุถุง ุชูุงุจุน ููุฌูุฏ ุฏุฑ trait <code>Write</code> ุจู ุงู ุดฺฉู ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-rust noplayground"><span class="boring">use std::fmt;
</span><span class="boring">
</span><span class="boring">type Result&lt;T&gt; = std::result::Result&lt;T, std::io::Error&gt;;
</span><span class="boring">
</span>pub trait Write {
    fn write(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;usize&gt;;
    fn flush(&amp;mut self) -&gt; Result&lt;()&gt;;

    fn write_all(&amp;mut self, buf: &amp;[u8]) -&gt; Result&lt;()&gt;;
    fn write_fmt(&amp;mut self, fmt: fmt::Arguments) -&gt; Result&lt;()&gt;;
}</code></pre>
<p>ุงู ููุน ูุณุชุนุงุฑ ุงุฒ ุฏู ุฌูุจู ฺฉูฺฉโฺฉููุฏู ุงุณุช: ููุดุชู ฺฉุฏ ุฑุง ุณุงุฏูโุชุฑ ูโฺฉูุฏ <em>ู</em> ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฉูพุงุฑฺู ุฏุฑ ุชูุงู ุจุฎุดโูุง <code>std::io</code> ูุฑุงูู ูโุขูุฑุฏ. ุงุฒ ุขูุฌุง ฺฉู ุงู ฺฉ ูุณุชุนุงุฑ ุงุณุชุ ููฺูุงู ฺฉ <code>Result&lt;T, E&gt;</code> ูุนููู ุงุณุชุ ุจู ุงู ูุนู ฺฉู ูโุชูุงูู ุงุฒ ุชูุงู ูุชุฏูุง ฺฉู ุฑู <code>Result&lt;T, E&gt;</code> ฺฉุงุฑ ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉููุ ููฺูู ุงุฒ ูุญู ุฎุงุต ูุงููุฏ ุนููฺฏุฑ <code>?</code>.</p>
<h3 id="the-never-type-that-never-returns"><a class="header" href="#the-never-type-that-never-returns">The Never Type that Never Returns</a></h3>
<p>Rust ุฏุงุฑุง ฺฉ ููุน ูฺู ุจู ูุงู <code>!</code> ุงุณุช ฺฉู ุฏุฑ ูุธุฑู ููุนโูุง ุจู ุนููุงู <em>ููุน ุฎุงู</em> (empty type) ุดูุงุฎุชู ูโุดูุฏุ ุฒุฑุง ูฺ ููุฏุงุฑ ูุฏุงุฑุฏ. ูุง ุชุฑุฌุญ ูโุฏูู ุขู ุฑุง <em>ููุน ฺฉู ูุฑฺฏุฒ ุจุงุฒููโฺฏุฑุฏุฏ</em> (never type) ุจูุงููุ ุฒุฑุง ุจูโุฌุง ููุน ุจุงุฒฺฏุดุช ูุฑุงุฑ ูโฺฏุฑุฏ ุฒูุงู ฺฉู ฺฉ ุชุงุจุน ูุฑฺฏุฒ ุจุงุฒููโฺฏุฑุฏุฏ. ุจู ูุซุงู ุฒุฑ ุชูุฌู ฺฉูุฏ:</p>
<pre><code class="language-rust noplayground">fn bar() -&gt; ! {
    // --snip--
<span class="boring">    panic!();
</span>}</code></pre>
<p>ุงู ฺฉุฏ ุจู ุงู ุตูุฑุช ุฎูุงูุฏู ูโุดูุฏ: โุชุงุจุน <code>bar</code> ูุฑฺฏุฒ ุจุงุฒ ููโฺฏุฑุฏุฏ.โ ุชูุงุจุน ฺฉู ูุฑฺฏุฒ ุจุงุฒููโฺฏุฑุฏูุฏุ <em>ุชูุงุจุน ุงูุญุฑุงู</em> (diverging functions) ูุงูุฏู ูโุดููุฏ. ููโุชูุงูู ููุฏุงุฑ ุงุฒ ููุน <code>!</code> ุงุฌุงุฏ ฺฉููุ ุจูุงุจุฑุงู ุชุงุจุน <code>bar</code> ูุฑฺฏุฒ ููโุชูุงูุฏ ุจุงุฒฺฏุฑุฏุฏ.</p>
<p>ุงูุง ุงุณุชูุงุฏู ุงุฒ ููุน ฺฉู ูุฑฺฏุฒ ููโุชูุงู ููุฏุงุฑ ุจุฑุง ุขู ุงุฌุงุฏ ฺฉุฑุฏุ ฺุณุชุ ฺฉุฏ ูุฑุจูุท ุจู Listing 2-5 ุฑุง ุจู ุฎุงุทุฑ ุจุงูุฑุฏ ฺฉู ุจุฎุด ุงุฒ ุจุงุฒ ุญุฏุณ ุนุฏุฏ ุจูุฏ. ูุง ุจุฎุด ุงุฒ ุขู ุฑุง ุงูุฌุง ุฏุฑ Listing 20-27 ุจุงุฒุชููุฏ ฺฉุฑุฏูโุงู.</p>
<figure class="listing">
<pre><code class="language-rust ignore"><span class="boring">use rand::Rng;
</span><span class="boring">use std::cmp::Ordering;
</span><span class="boring">use std::io;
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    println!("Guess the number!");
</span><span class="boring">
</span><span class="boring">    let secret_number = rand::thread_rng().gen_range(1..=100);
</span><span class="boring">
</span><span class="boring">    println!("The secret number is: {secret_number}");
</span><span class="boring">
</span><span class="boring">    loop {
</span><span class="boring">        println!("Please input your guess.");
</span><span class="boring">
</span><span class="boring">        let mut guess = String::new();
</span><span class="boring">
</span><span class="boring">        // --snip--
</span><span class="boring">
</span><span class="boring">        io::stdin()
</span><span class="boring">            .read_line(&amp;mut guess)
</span><span class="boring">            .expect("Failed to read line");
</span><span class="boring">
</span>        let guess: u32 = match guess.trim().parse() {
            Ok(num) =&gt; num,
            Err(_) =&gt; continue,
        };
<span class="boring">
</span><span class="boring">        println!("You guessed: {guess}");
</span><span class="boring">
</span><span class="boring">        // --snip--
</span><span class="boring">
</span><span class="boring">        match guess.cmp(&amp;secret_number) {
</span><span class="boring">            Ordering::Less =&gt; println!("Too small!"),
</span><span class="boring">            Ordering::Greater =&gt; println!("Too big!"),
</span><span class="boring">            Ordering::Equal =&gt; {
</span><span class="boring">                println!("You win!");
</span><span class="boring">                break;
</span><span class="boring">            }
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 20-27: ฺฉ <code>match</code> ุจุง ุจุงุฒู ูพุงุงู ฺฉู ุจู <code>continue</code> ุฎุชู ูโุดูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุขู ุฒูุงูุ ุจุฑุฎ ุงุฒ ุฌุฒุฆุงุช ุฏุฑ ุงู ฺฉุฏ ุฑุง ุฑุฏ ฺฉุฑุฏู. ุฏุฑ ูุตู ถ ุฏุฑ ุจุฎุด <a href="ch06-02-match.html#the-match-control-flow-operator">โุงูพุฑุงุชูุฑ ุฌุฑุงู ฺฉูุชุฑู <code>match</code>โ</a><!-- ignore -->ุ ุจุญุซ ฺฉุฑุฏู ฺฉู ุชูุงู ุจุงุฒููุง <code>match</code> ุจุงุฏ ฺฉ ููุน ุฏุงุฏู ฺฉุณุงู ุฑุง ุจุฑฺฏุฑุฏุงููุฏ. ุจู ุนููุงู ูุซุงูุ ฺฉุฏ ุฒุฑ ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let guess = "3";
</span>    let guess = match guess.trim().parse() {
        Ok(_) =&gt; 5,
        Err(_) =&gt; "hello",
    };
<span class="boring">}</span></code></pre>
<p>ููุน <code>guess</code> ุฏุฑ ุงู ฺฉุฏ ุจุงุฏ ูู ุนุฏุฏ ุตุญุญ (<em>integer</em>) ู ูู ุฑุดุชู (<em>string</em>) ุจุงุดุฏุ ู Rust ูุงุฒ ุฏุงุฑุฏ ฺฉู <code>guess</code> ุชููุง ฺฉ ููุน ุฏุงุฏู ุฏุงุดุชู ุจุงุดุฏ. ุจูุงุจุฑุงูุ ุฏุณุชูุฑ <code>continue</code> ฺู ููุฏุงุฑ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏุ ฺฺฏููู ุชูุงูุณุชู ุงุฒ ฺฉ ุจุงุฒู ููุฏุงุฑ <code>u32</code> ุจุงุฒฺฏุฑุฏุงูู ู ุฏุฑ ุจุงุฒู ุฏฺฏุฑ <code>continue</code> ุฑุง ูุฑุงุฑ ุฏูู ฺฉู ุฏุฑ ูุณุช ฒฐ-ฒท ุขูุฑุฏู ุดุฏู ุงุณุชุ</p>
<p>ููุงูโุทูุฑ ฺฉู ุงุญุชูุงูุงู ุญุฏุณ ุฒุฏูโุงุฏุ ุฏุณุชูุฑ <code>continue</code> ุฏุงุฑุง ููุน <code>!</code> ุงุณุช. ุนูุ ููุช Rust ููุน <code>guess</code> ุฑุง ูุญุงุณุจู ูโฺฉูุฏุ ุจู ูุฑ ุฏู ุจุงุฒู <code>match</code> ูฺฏุงู ูโฺฉูุฏ: ุจุงุฒู ุงูู ููุฏุงุฑ ุงุฒ ููุน <code>u32</code> ุฏุงุฑุฏ ู ุจุงุฒู ุฏูู ููุฏุงุฑ ุงุฒ ููุน <code>!</code>. ุงุฒ ุขูุฌุง ฺฉู <code>!</code> ููโุชูุงูุฏ ูฺ ููุฏุงุฑ ุฏุงุดุชู ุจุงุดุฏุ Rust ูุชุฌูโฺฏุฑ ูโฺฉูุฏ ฺฉู ููุน <code>guess</code> ุจุฑุงุจุฑ ุจุง <code>u32</code> ุงุณุช.</p>
<p>ุฑูุด ุฑุณู ุจุฑุง ุชูุตู ุงู ุฑูุชุงุฑ ุงู ุงุณุช ฺฉู ุนุจุงุฑุชโูุง ููุน <code>!</code> ูโุชูุงููุฏ ุจู ูุฑ ููุน ุฏฺฏุฑ ุชุจุฏู ุดููุฏ (<em>coerce</em>). ูุง ูโุชูุงูู ุจุงุฒู <code>match</code> ุฑุง ุจุง ุฏุณุชูุฑ <code>continue</code> ูพุงุงู ุฏูู ุฒุฑุง <code>continue</code> ููุฏุงุฑ ุจุงุฒ ููโฺฏุฑุฏุงูุฏุ ุจูฺฉู ฺฉูุชุฑู ุฑุง ุจู ุจุงูุง ุญููู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุจูุงุจุฑุงู ุฏุฑ ุญุงูุช <code>Err</code>ุ ูฺ ููุฏุงุฑ ุจู <code>guess</code> ุงุฎุชุตุงุต ุฏุงุฏู ููโุดูุฏ.</p>
<p>ููุน <code>!</code> ุฏุฑ ูุงฺฉุฑู <code>panic!</code> ูุฒ ููุฏ ุงุณุช. ุจู ุงุฏ ุจุงูุฑุฏ ุชุงุจุน <code>unwrap</code> ฺฉู ุฑู ููุงุฏุฑ <code>Option&lt;T&gt;</code> ูุฑุงุฎูุงู ูโฺฉูู ุชุง ููุฏุงุฑ ุฑุง ุชููุฏ ฺฉูุฏ ุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุชุนุฑู ูุชููู ุดูุฏ:</p>
<pre><code class="language-rust ignore"><span class="boring">enum Option&lt;T&gt; {
</span><span class="boring">    Some(T),
</span><span class="boring">    None,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">use crate::Option::*;
</span><span class="boring">
</span>impl&lt;T&gt; Option&lt;T&gt; {
    pub fn unwrap(self) -&gt; T {
        match self {
            Some(val) =&gt; val,
            None =&gt; panic!("called `Option::unwrap()` on a `None` value"),
        }
    }
}</code></pre>
<p>ุฏุฑ ุงู ฺฉุฏุ ููุงู ฺุฒ ฺฉู ุฏุฑ <code>match</code> ูุณุช ฒฐ-ฒท ุฑุฎ ุฏุงุฏ ุงุชูุงู ูโุงูุชุฏ: Rust ูโุจูุฏ ฺฉู <code>val</code> ุงุฒ ููุน <code>T</code> ุงุณุช ู <code>panic!</code> ุงุฒ ููุน <code>!</code> ุงุณุชุ ุจูุงุจุฑุงู ูุชุฌู ฺฉู ุนุจุงุฑุช <code>match</code> ุจุฑุงุจุฑ ุจุง <code>T</code> ุงุณุช. ุงู ฺฉุฏ ฺฉุงุฑ ูโฺฉูุฏ ุฒุฑุง <code>panic!</code> ูฺ ููุฏุงุฑ ุชููุฏ ููโฺฉูุฏุ ุจูฺฉู ุจุฑูุงูู ุฑุง ูุชููู ูโฺฉูุฏ. ุฏุฑ ุญุงูุช <code>None</code>ุ ูุง ููุฏุงุฑ ุงุฒ <code>unwrap</code> ุจุงุฒููโฺฏุฑุฏุงููุ ุจูุงุจุฑุงู ุงู ฺฉุฏ ูุนุชุจุฑ ุงุณุช.</p>
<p>ฺฉ ุนุจุงุฑุช ููุง ฺฉู ููุน <code>!</code> ุฏุงุฑุฏุ ุญููู <code>loop</code> ุงุณุช:</p>
<pre><code class="language-rust ignore"><span class="boring">fn main() {
</span>    print!("forever ");

    loop {
        print!("and ever ");
    }
<span class="boring">}</span></code></pre>
<p>ุงูุฌุงุ ุญููู ูฺโฺฏุงู ูุชููู ููโุดูุฏุ ุจูุงุจุฑุงู ููุน <code>!</code> ููุฏุงุฑ ุนุจุงุฑุช ุฎูุงูุฏ ุจูุฏ. ุจุง ุงู ุญุงูุ ุงฺฏุฑ <code>break</code> ุฏุฑูู ุญููู ุจุงุดุฏุ ุงู ููุถูุน ุฏุฑุณุช ูุฎูุงูุฏ ุจูุฏุ ุฒุฑุง ุญููู ููุช ุจู <code>break</code> ูโุฑุณุฏุ ูุชููู ูโุดูุฏ.</p>
<p>ูุงู ุชฺฉูู ุดุฏ.</p>
<h3 id="typeูุง-ุจุง-ุงูุฏุงุฒู-ูพูุง-dynamic-ู-ูฺฺฏ-sized"><a class="header" href="#typeูุง-ุจุง-ุงูุฏุงุฒู-ูพูุง-dynamic-ู-ูฺฺฏ-sized">typeูุง ุจุง ุงูุฏุงุฒู ูพูุง (dynamic) ู ูฺฺฏ <code>Sized</code></a></h3>
<p>ุฒุจุงู Rust ูุงุฒ ุฏุงุฑุฏ ุชุง ุฌุฒุฆุงุช ุฏุฑุจุงุฑู ุงููุงุน ุฎูุฏ ุจุฏุงูุฏุ ูุงููุฏ ุงูฺฉู ฺูุฏุฑ ูุถุง ุจุฑุง ุฐุฎุฑูโุณุงุฒ ฺฉ ููุฏุงุฑ ุงุฒ ฺฉ ููุน ุฎุงุต ุชุฎุตุต ุฏูุฏ. ุงู ุงูุฑ ฺฉ ุงุฒ ฺฏูุดูโูุง ุณุณุชู ุงููุงุน ุงู ุฒุจุงู ุฑุง ฺฉู ฺฏุฌโฺฉููุฏู ูโฺฉูุฏ: ููููู <em>ุงููุงุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ (ูพูุง)</em> (<em>dynamically sized types</em>). ฺฏุงู ุงููุงุช ุจู ุงู ููุนโูุง <em>DST</em> ุง <em>ุงููุงุน ุจุฏูู ุงูุฏุงุฒู</em> (<em>unsized types</em>) ูุฒ ฺฏูุชู ูโุดูุฏ. ุงู ููุนโูุง ุจู ูุง ุงุฌุงุฒู ูโุฏููุฏ ุชุง ฺฉุฏ ุจููุณู ฺฉู ุจุง ููุงุฏุฑ ฺฉุงุฑ ฺฉูุฏ ฺฉู ุงูุฏุงุฒู ุขูโูุง ุชููุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุดุฎุต ูโุดูุฏ.</p>
<p>ุจุงุฏ ุจู ุฌุฒุฆุงุช ฺฉ ููุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ ุจู ูุงู <code>str</code> ุจูพุฑุฏุงุฒู ฺฉู ุฏุฑ ุทูู ฺฉุชุงุจ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ุฏุฑุณุช ุงุณุชุ ูู <code>&amp;str</code>ุ ุจูฺฉู ุฎูุฏ <code>str</code> ฺฉ DST ุงุณุช. ูุง ููโุชูุงูู ุจุฏุงูู ฺฉู ุทูู ฺฉ ุฑุดุชู ฺูุฏุฑ ุงุณุช ุชุง ุฒูุงู ฺฉู ฺฉุฏ ุงุฌุฑุง ุดูุฏุ ุจู ุงู ูุนู ฺฉู ููโุชูุงูู ูุชุบุฑ ุงุฒ ููุน <code>str</code> ุงุฌุงุฏ ฺฉูู ู ููฺูู ููโุชูุงูู ุขุฑฺฏููุงู ุงุฒ ููุน <code>str</code> ุจูพุฐุฑู. ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ฺฉุงุฑ ููโฺฉูุฏ:</p>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span>    let s1: str = "Hello there!";
    let s2: str = "How's it going?";
<span class="boring">}</span></code></pre>
<p>Rust ูุงุฒ ุฏุงุฑุฏ ฺฉู ุจุฏุงูุฏ ฺูุฏุฑ ุญุงูุธู ุจุฑุง ูุฑ ููุฏุงุฑ ุงุฒ ฺฉ ููุน ุฎุงุต ุชุฎุตุต ุฏูุฏุ ู ุชูุงู ููุงุฏุฑ ฺฉ ููุน ุจุงุฏ ุงุฒ ููุงู ููุฏุงุฑ ุญุงูุธู ุงุณุชูุงุฏู ฺฉููุฏ. ุงฺฏุฑ Rust ุงุฌุงุฒู ูโุฏุงุฏ ุงู ฺฉุฏ ุฑุง ุจููุณูุ ุงู ุฏู ููุฏุงุฑ <code>str</code> ุจุงุฏ ุงุฒ ฺฉ ููุฏุงุฑ ูุถุง ุงุณุชูุงุฏู ูโฺฉุฑุฏูุฏ. ุงูุง ุขูโูุง ุทููโูุง ูุชูุงูุช ุฏุงุฑูุฏ: <code>s1</code> ุจู ฑฒ ุจุงุช ูุถุง ุฐุฎุฑูโุณุงุฒ ูุงุฒ ุฏุงุฑุฏ ู <code>s2</code> ุจู ฑต ุจุงุช. ุจู ููู ุฏูู ุงุณุช ฺฉู ุงุฌุงุฏ ฺฉ ูุชุบุฑ ฺฉู ฺฉ ููุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ ุฏุงุดุชู ุจุงุดุฏ ููฺฉู ูุณุช.</p>
<p>ูพุณ ฺู ฺฉุงุฑ ูโุชูุงูู ุงูุฌุงู ุฏููุ ุฏุฑ ุงู ุญุงูุชุ ุดูุง ูุจูุงู ูพุงุณุฎ ุฑุง ูโุฏุงูุฏ: ูุง ููุนโูุง <code>s1</code> ู <code>s2</code> ุฑุง ุจู ุฌุง <code>str</code> ุงุฒ ููุน <code>&amp;str</code> ูโุณุงุฒู. ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch04-03-slices.html#string-slices">โุจุฑุดโูุง ุฑุดุชูโุงโ</a><!-- ignore --> ุงุฒ ูุตู ด ฺฏูุชู ุดุฏ ฺฉู ุณุงุฎุชุงุฑ ุฏุงุฏู ุจุฑุด ุชููุง ูููุนุช ุดุฑูุน ู ุทูู ุจุฑุด ุฑุง ุฐุฎุฑู ูโฺฉูุฏ. ุจูุงุจุฑุงูุ ุงฺฏุฑฺู ฺฉ <code>&amp;T</code> ุชููุง ฺฉ ููุฏุงุฑ ุงุณุช ฺฉู ุขุฏุฑุณ ุญุงูุธูโุง ฺฉู <code>T</code> ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ุฑุง ุฐุฎุฑู ูโฺฉูุฏุ ฺฉ <code>&amp;str</code> <em>ุฏู</em> ููุฏุงุฑ ุฏุงุฑุฏ: ุขุฏุฑุณ <code>str</code> ู ุทูู ุขู. ุจูุงุจุฑุงูุ ูุง ูโุชูุงูู ุงูุฏุงุฒู ฺฉ ููุฏุงุฑ <code>&amp;str</code> ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจุฏุงูู: ุงูุฏุงุฒู ุขู ุฏู ุจุฑุงุจุฑ ุทูู ฺฉ <code>usize</code> ุงุณุช. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูุง ููุดู ุงูุฏุงุฒู ฺฉ <code>&amp;str</code> ุฑุง ูโุฏุงููุ ุจุฏูู ุชูุฌู ุจู ุงูฺฉู ุฑุดุชูโุง ฺฉู ุจู ุขู ุงุดุงุฑู ูโฺฉูุฏ ฺูุฏุฑ ุทููุงู ุงุณุช. ุจู ุทูุฑ ฺฉูุ ุงู ุฑูุด ุงุณุชูุงุฏู ุงุฒ ุงููุงุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ ุฏุฑ Rust ุงุณุช: ุขูโูุง ฺฉ ุจุฎุด ุงุถุงู ุงุฒ ูุชุงุฏุชุง ุฏุงุฑูุฏ ฺฉู ุงูุฏุงุฒู ุงุทูุงุนุงุช ุฏุงุชุงูฺฉ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ. ูุงููู ุทูุง ุงููุงุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ ุงู ุงุณุช ฺฉู ุจุงุฏ ููุดู ููุงุฏุฑ ุงู ููุนโูุง ุฑุง ูพุดุช ฺฉ ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) ูุฑุงุฑ ุฏูู.</p>
<p>ูุง ูโุชูุงูู <code>str</code> ุฑุง ุจุง ุงููุงุน ูุฎุชูู ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุฑฺฉุจ ฺฉูู: ุจู ุนููุงู ูุซุงูุ <code>Box&lt;str&gt;</code> ุง <code>Rc&lt;str&gt;</code>. ุฏุฑ ูุงูุนุ ูุจูุงู ุงู ููุฑุฏ ุฑุง ุฏุฏูโุงุฏ ุงูุง ุจุง ฺฉ ููุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ ูุชูุงูุช: ูฺฺฏโูุง (<em>Traits</em>). ูุฑ ูฺฺฏ ฺฉ ููุน ุจุง ุงูุฏุงุฒู ุฏุงุชุงูฺฉ ุงุณุช ฺฉู ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงู ูฺฺฏ ุจู ุขู ุงุฑุฌุงุน ุฏูู. ุฏุฑ ูุตู ฑธ ุฏุฑ ุจุฎุด <a href="ch18-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types">โุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ูฺฺฏ ฺฉู ุงูฺฉุงู ููุงุฏุฑ ุจุง ุชุงูพโูุง ูุฎุชูู ุฑุง ูุฑุงูู ูโฺฉููุฏโ</a><!-- ignore --> ุงุดุงุฑู ฺฉุฑุฏู ฺฉู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏโูุง ุจู ุนููุงู ุงุดุงุก ูฺฺฏุ ุจุงุฏ ุขูโูุง ุฑุง ูพุดุช ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ูุฑุงุฑ ุฏููุ ูุงููุฏ <code>&amp;dyn Trait</code> ุง <code>Box&lt;dyn Trait&gt;</code> (ุญุช <code>Rc&lt;dyn Trait&gt;</code> ูุฒ ฺฉุงุฑ ุฎูุงูุฏ ฺฉุฑุฏ).</p>
<p>ุจุฑุง ฺฉุงุฑ ุจุง ุชุงูพโูุง ุฏุงุชุงูฺฉุ Rust ูฺฺฏ <code>Sized</code> ุฑุง ูุฑุงูู ูโฺฉูุฏ ุชุง ุชุนู ฺฉูุฏ ฺฉู ุขุง ุงูุฏุงุฒู ฺฉ ููุน ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุดุฎุต ุงุณุช ุง ุฎุฑ. ุงู ูฺฺฏ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุจุฑุง ูุฑ ฺุฒ ฺฉู ุงูุฏุงุฒู ุขู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุดุฎุต ุจุงุดุฏ ูพุงุฏูโุณุงุฒ ูโุดูุฏ. ุนูุงูู ุจุฑ ุงูุ Rust ุจู ุทูุฑ ุถูู ฺฉ ูุญุฏูุฏุช ุฑู <code>Sized</code> ุฑุง ุจู ูุฑ ุชุงุจุน ุฌูุฑฺฉ ุงุถุงูู ูโฺฉูุฏ. ุนู ฺฉ ุชุนุฑู ุชุงุจุน ุฌูุฑฺฉ ุจู ุงู ุตูุฑุช:</p>
<pre><code class="language-rust ignore">fn generic&lt;T&gt;(t: T) {
    // --snip--
}</code></pre>
<p>ุฏุฑ ูุงูุนุ ุจู ฺฏูููโุง ุฑูุชุงุฑ ูโุดูุฏ ฺฉู ฺฏู ุงู ุฑุง ููุดุชูโุงู:</p>
<pre><code class="language-rust ignore">fn generic&lt;T: Sized&gt;(t: T) {
    // --snip--
}</code></pre>
<p>ุจู ุทูุฑ ูพุดโูุฑุถุ ุชูุงุจุน ุฌูุฑฺฉ ููุท ุฑู ููุนโูุง ฺฉุงุฑ ุฎูุงููุฏ ฺฉุฑุฏ ฺฉู ุงูุฏุงุฒู ุขูโูุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุดุฎุต ุจุงุดุฏ. ุจุง ุงู ุญุงูุ ูโุชูุงูุฏ ุงุฒ ุณูุชฺฉุณ ุฎุงุต ุฒุฑ ุจุฑุง ฺฉุงูุด ุงู ูุญุฏูุฏุช ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-rust ignore">fn generic&lt;T: ?Sized&gt;(t: &amp;T) {
    // --snip--
}</code></pre>
<p>ฺฉ ูุญุฏูุฏุช ูฺฺฏ ุฑู <code>?Sized</code> ุจู ุงู ูุนู ุงุณุช ฺฉู โ<code>T</code> ููฺฉู ุงุณุช <code>Sized</code> ุจุงุดุฏ ุง ูุจุงุดุฏโ ู ุงู ุงุฏุฏุงุดุชุ ูพุดโูุฑุถ ฺฉู ููุนโูุง ุฌูุฑฺฉ ุจุงุฏ ุงูุฏุงุฒู ูุดุฎุต ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุฏุงุดุชู ุจุงุดูุฏ ุฑุง ูุบู ูโฺฉูุฏ. ุณูุชฺฉุณ <code>?Trait</code> ุจุง ุงู ูุนูุง ุชููุง ุจุฑุง <code>Sized</code> ุฏุฑ ุฏุณุชุฑุณ ุงุณุชุ ูู ุจุฑุง ูฺ ูฺฺฏ ุฏฺฏุฑ.</p>
<p>ููฺูู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุน ูพุงุฑุงูุชุฑ <code>t</code> ุฑุง ุงุฒ <code>T</code> ุจู <code>&amp;T</code> ุชุบุฑ ุฏุงุฏู. ุงุฒ ุขูุฌุง ฺฉู ููุน ููฺฉู ุงุณุช <code>Sized</code> ูุจุงุดุฏุ ุจุงุฏ ุงุฒ ุขู ูพุดุช ฺฉ ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) ุงุณุชูุงุฏู ฺฉูู. ุฏุฑ ุงู ููุฑุฏุ ฺฉ ุงุฑุฌุงุน ุงูุชุฎุงุจ ฺฉุฑุฏูโุงู.</p>
<p>ุฏุฑ ุงุฏุงููุ ุฏุฑุจุงุฑู ุชูุงุจุน ู closureูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชูุงุจุน-ูพุดุฑูุชู-ู-closureูุง"><a class="header" href="#ุชูุงุจุน-ูพุดุฑูุชู-ู-closureูุง">ุชูุงุจุน ูพุดุฑูุชู ู Closureูุง</a></h2>
<p>ุงู ุจุฎุด ุจู ุจุฑุฑุณ ุจุฑุฎ ุงุฒ ูฺฺฏโูุง ูพุดุฑูุชู ูุฑุจูุท ุจู ุชูุงุจุน ู Closureูุง ูโูพุฑุฏุงุฒุฏุ ุงุฒ ุฌููู Pointerูุง ุชุงุจุน ู ุจุงุฒฺฏุฑุฏุงูุฏู Closureูุง.</p>
<h3 id="pointerูุง-ุชุงุจุน"><a class="header" href="#pointerูุง-ุชุงุจุน">Pointerูุง ุชุงุจุน</a></h3>
<p>ูุจูุงู ุฏุฑ ููุฑุฏ ฺฺฏููฺฏ ุงุฑุณุงู Closureูุง ุจู ุชูุงุจุน ุตุญุจุช ฺฉุฑุฏูุ ุดูุง ููฺูู ูโุชูุงูุฏ ุชูุงุจุน ูุนููู ุฑุง ุจู ุชูุงุจุน ุฏฺฏุฑ ุงุฑุณุงู ฺฉูุฏ! ุงู ุชฺฉูฺฉ ุฒูุงู ููุฏ ุงุณุช ฺฉู ุจุฎูุงูุฏ ุชุงุจุน ฺฉู ูุจูุงู ุชุนุฑู ฺฉุฑุฏูโุงุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ ุจู ุฌุง ุงูฺฉู ฺฉ Closureูุง ุฌุฏุฏ ุชุนุฑู ฺฉูุฏ. ุชูุงุจุน ุจู ููุน <code>fn</code> (ุจุง f ฺฉูฺฺฉ) ุชุจุฏู ูโุดููุฏุ ฺฉู ูุจุงุฏ ุจุง ูฺฺฏ Closureูุง <code>Fn</code> ุงุดุชุจุงู ฺฏุฑูุชู ุดูุฏ. ููุน <code>fn</code> ุจู ุนููุงู ฺฉ <em>ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุงุจุน</em> ุดูุงุฎุชู ูโุดูุฏ. ุงุฑุณุงู ุชูุงุจุน ุจุง ุงุณุชูุงุฏู ุงุฒ Pointerูุง ุชุงุจุน ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุงุฒ ุชูุงุจุน ุจู ุนููุงู ุขุฑฺฏููุงู ุจุฑุง ุชูุงุจุน ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุณูุชฺฉุณ ูุดุฎุต ฺฉุฑุฏู ุงูฺฉู ฺฉ ูพุงุฑุงูุชุฑ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุงุจุน ุงุณุชุ ูุดุงุจู Closureูุง ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฒฐ-ฒธ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุฏุฑ ุงู ูุซุงูุ ุชุงุจุน ุจู ูุงู <code>add_one</code> ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ฺฉ ูุงุญุฏ ุจู ูพุงุฑุงูุชุฑ ุฎูุฏ ุงุถุงูู ูโฺฉูุฏ. ุชุงุจุน <code>do_twice</code> ุฏู ูพุงุฑุงูุชุฑ ูโฺฏุฑุฏ: ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุงุจุน ุจู ูุฑ ุชุงุจุน ฺฉู ฺฉ ูพุงุฑุงูุชุฑ <code>i32</code> ุจฺฏุฑุฏ ู ฺฉ ููุฏุงุฑ <code>i32</code> ุจุฑฺฏุฑุฏุงูุฏุ ู ฺฉ ููุฏุงุฑ <code>i32</code>. ุชุงุจุน <code>do_twice</code> ุชุงุจุน <code>f</code> ุฑุง ุฏู ุจุงุฑ ูุฑุงุฎูุงู ูโฺฉูุฏุ ููุฏุงุฑ <code>arg</code> ุฑุง ุจู ุขู ูโูุฑุณุชุฏ ู ุณูพุณ ูุชุงุฌ ุฏู ูุฑุงุฎูุงู ุฑุง ุจุง ูู ุฌูุน ูโฺฉูุฏ. ุชุงุจุน <code>main</code> ุชุงุจุน <code>do_twice</code> ุฑุง ุจุง ุขุฑฺฏููุงูโูุง <code>add_one</code> ู <code>5</code> ูุฑุงุฎูุงู ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021">fn add_one(x: i32) -&gt; i32 {
    x + 1
}

fn do_twice(f: fn(i32) -&gt; i32, arg: i32) -&gt; i32 {
    f(arg) + f(arg)
}

fn main() {
    let answer = do_twice(add_one, 5);

    println!("The answer is: {answer}");
}</code></pre></pre>
<figcaption>Listing 20-28: ุงุณุชูุงุฏู ุงุฒ ููุน <code>fn</code> ุจุฑุง ูพุฐุฑุด ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุงุจุน ุจู ุนููุงู ุขุฑฺฏููุงู</figcaption>
</figure>
<p>ุงู ฺฉุฏ ููุฏุงุฑ <code>The answer is: 12</code> ุฑุง ฺุงูพ ูโฺฉูุฏ. ูุง ูุดุฎุต ฺฉุฑุฏูโุงู ฺฉู ูพุงุฑุงูุชุฑ <code>f</code> ุฏุฑ <code>do_twice</code> ฺฉ <code>fn</code> ุงุณุช ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุงุฒ ููุน <code>i32</code> ูโฺฏุฑุฏ ู ฺฉ <code>i32</code> ุจุงุฒ ูโฺฏุฑุฏุงูุฏ. ุณูพุณ ูโุชูุงูู <code>f</code> ุฑุง ุฏุฑ ุจุฏูู ุชุงุจุน <code>do_twice</code> ูุฑุงุฎูุงู ฺฉูู. ุฏุฑ <code>main</code>ุ ูโุชูุงูู ูุงู ุชุงุจุน <code>add_one</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุงูู ุจู <code>do_twice</code> ุงุฑุณุงู ฺฉูู.</p>
<p>ุจุฑุฎูุงู Closureูุง <code>fn</code> ฺฉ ููุน ุงุณุช ู ูู ฺฉ ูฺฺฏุ ุจูุงุจุฑุงู ูุง <code>fn</code> ุฑุง ุจู ุทูุฑ ูุณุชูู ุจู ุนููุงู ููุน ูพุงุฑุงูุชุฑ ูุดุฎุต ูโฺฉููุ ุจู ุฌุง ุงุนูุงู ฺฉ ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ ุจุง ฺฉ ุงุฒ ูฺฺฏโูุง <code>Fn</code> ุจู ุนููุงู ูุญุฏูุฏุช ูฺฺฏ.</p>
<p>Pointerูุง ุชุงุจุน ุชูุงู ุณู ูฺฺฏ Closureูุง (<code>Fn</code>ุ <code>FnMut</code>ุ ู <code>FnOnce</code>) ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุจู ุงู ูุนู ฺฉู ุดูุง ููุดู ูโุชูุงูุฏ ฺฉ ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุงุจุน ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจุฑุง ฺฉ ุชุงุจุน ฺฉู ุงูุชุธุงุฑ ฺฉ Closureูุง ุฑุง ุฏุงุฑุฏ ุงุฑุณุงู ฺฉูุฏ. ุจูุชุฑ ุงุณุช ุชูุงุจุน ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ููุน ุฌูุฑฺฉ ู ฺฉ ุงุฒ ูฺฺฏโูุง Closureูุง ุจููุณุฏ ุชุง ุชูุงุจุน ุดูุง ุจุชูุงููุฏ ูู ุชูุงุจุน ู ูู Closureูุง ุฑุง ุจูพุฐุฑูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ฺฉ ูุซุงู ุงุฒ ุฌุง ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูุฏ ููุท <code>fn</code> ุฑุง ุจูพุฐุฑุฏ ู ูู Closureูุง ุฒูุงู ุงุณุช ฺฉู ุจุง ฺฉุฏ ุฎุงุฑุฌ ฺฉู Closureูุง ูุฏุงุฑุฏ ุชุนุงูู ูโฺฉูุฏ: ุชูุงุจุน C ูโุชูุงููุฏ ุชูุงุจุน ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจูพุฐุฑูุฏุ ุงูุง C Closureูุง ูุฏุงุฑุฏ.</p>
<p>ุจู ุนููุงู ูุซุงู ุงุฒ ุฌุง ฺฉู ูโุชูุงูุฏ ุงุฒ ฺฉ Closureูุง ุชุนุฑูโุดุฏู ุฏุฑููโุฎุท ุง ฺฉ ุชุงุจุน ูุงูโฺฏุฐุงุฑโุดุฏู ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ุจู ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>map</code> ฺฉู ุชูุณุท ูฺฺฏ <code>Iterator</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงุฑุงุฆู ุดุฏู ุงุณุช ูฺฏุงู ุจูุฏุงุฒู. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน <code>map</code> ุจุฑุง ุชุจุฏู ฺฉ ุจุฑุฏุงุฑ ุงุนุฏุงุฏ ุจู ฺฉ ุจุฑุฏุงุฑ ุฑุดุชูโูุงุ ูโุชูุงูู ุงุฒ ฺฉ Closureูุง ุจู ุงู ุตูุฑุช ุงุณุชูุงุฏู ฺฉูู:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let list_of_numbers = vec![1, 2, 3];
    let list_of_strings: Vec&lt;String&gt; =
        list_of_numbers.iter().map(|i| i.to_string()).collect();
<span class="boring">}</span></code></pre></pre>
<p>ุง ูโุชูุงูู ุจู ุฌุง ฺฉููุฒุฑุ ูุงู ฺฉ ุชุงุจุน ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจู <code>map</code> ุงุฑุณุงู ฺฉููุ ุจู ุงู ุตูุฑุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    let list_of_numbers = vec![1, 2, 3];
    let list_of_strings: Vec&lt;String&gt; =
        list_of_numbers.iter().map(ToString::to_string).collect();
<span class="boring">}</span></code></pre></pre>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุงุฏ ุงุฒ ุณูุชฺฉุณ ฺฉุงููุงู ูุดุฎุต ฺฉู ูุจูุงู ุฏุฑ ุจุฎุด <a href="ch20-02-advanced-traits.html#advanced-traits">โูฺฺฏโูุง ูพุดุฑูุชูโ</a><!-- ignore --> ุชูุถุญ ุฏุงุฏู ุดุฏ ุงุณุชูุงุฏู ฺฉููุ ุฒุฑุง ฺูุฏู ุชุงุจุน ุจุง ูุงู <code>to_string</code> ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ. ุฏุฑ ุงูุฌุงุ ูุง ุงุฒ ุชุงุจุน <code>to_string</code> ฺฉู ุฏุฑ ูฺฺฏ <code>ToString</code> ุชุนุฑู ุดุฏู ุงุณุช ุงุณุชูุงุฏู ูโฺฉููุ ฺฉู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ูุฑ ููุน ฺฉู ูฺฺฏ <code>Display</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุขู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช.</p>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch06-01-defining-an-enum.html#enum-values">โููุงุฏุฑ Enumโ</a><!-- ignore --> ุงุฒ ูุตู ถ ฺฏูุชู ุดุฏ ฺฉู ูุงู ูุฑ ูุงุฑุงูุช enum ฺฉู ุชุนุฑู ูโฺฉููุ ููฺูู ุจู ฺฉ ุชุงุจุน ููุฏุงุฑุฏู ุงููู ุชุจุฏู ูโุดูุฏ. ูโุชูุงูู ุงุฒ ุงู ุชูุงุจุน ููุฏุงุฑุฏู ุงููู ุจู ุนููุงู ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ุชุงุจุน ฺฉู ูฺฺฏโูุง ฺฉููุฒุฑ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉููุ ุจู ุงู ูุนู ฺฉู ูโุชูุงูู ุชูุงุจุน ููุฏุงุฑุฏู ุงููู ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจุฑุง ูุชุฏูุง ฺฉู ฺฉููุฒุฑูุง (closures) ุฑุง ูโูพุฐุฑูุฏ ูุดุฎุต ฺฉููุ ุจู ุงู ุตูุฑุช:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">fn main() {
</span>    enum Status {
        Value(u32),
        Stop,
    }

    let list_of_statuses: Vec&lt;Status&gt; = (0u32..20).map(Status::Value).collect();
<span class="boring">}</span></code></pre></pre>
<p>ุฏุฑ ุงูุฌุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน ููุฏุงุฑุฏู ุงููู <code>Status::Value</code>ุ ูููููโูุง ุงุฒ <code>Status::Value</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู ุงุฒ ูุฑ ููุฏุงุฑ <code>u32</code> ุฏุฑ ูุญุฏูุฏูโุง ฺฉู <code>map</code> ุฑู ุขู ูุฑุงุฎูุงู ูโุดูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจุฑุฎ ุงูุฑุงุฏ ุงู ุณุจฺฉ ุฑุง ุชุฑุฌุญ ูโุฏููุฏ ู ุจุฑุฎ ุฏฺฏุฑ ุชุฑุฌุญ ูโุฏููุฏ ุงุฒ ฺฉููุฒุฑูุง (closures) ุงุณุชูุงุฏู ฺฉููุฏ. ุงูโูุง ุจู ฺฉุฏ ฺฉุณุงู ฺฉุงููพุงู ูโุดููุฏุ ุจูุงุจุฑุงู ูุฑ ุณุจฺฉ ฺฉู ุจุฑุง ุดูุง ูุงุถุญโุชุฑ ุงุณุช ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</p>
<h3 id="ุจุงุฒฺฏุฑุฏุงูุฏู-ฺฉููุฒุฑูุง-closures-returning-closures"><a class="header" href="#ุจุงุฒฺฏุฑุฏุงูุฏู-ฺฉููุฒุฑูุง-closures-returning-closures">ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉููุฒุฑูุง (closures) (Returning Closures)</a></h3>
<p>ฺฉููุฒุฑูุง (closures) ุจุง ูฺฺฏโูุง ููุงุด ุฏุงุฏู ูโุดููุฏุ ุจู ุงู ูุนู ฺฉู ููโุชูุงูุฏ ูุณุชููุงู ฺฉููุฒุฑูุง (closures) ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุฏุฑ ุจุดุชุฑ ููุงุฑุฏ ฺฉู ููฺฉู ุงุณุช ุจุฎูุงูุฏ ฺฉ ูฺฺฏ ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ูโุชูุงูุฏ ุจู ุฌุง ุขู ุงุฒ ููุน ูุดุฎุต ฺฉู ูฺฺฏ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจู ุนููุงู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุชุงุจุน ุงุณุชูุงุฏู ฺฉูุฏ. ุจุง ุงู ุญุงูุ ููโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจุง ฺฉููุฒุฑูุง (closures) ุงูุฌุงู ุฏูุฏ ุฒุฑุง ุขูโูุง ููุน ูุดุฎุต ฺฉู ูุงุจู ุจุงุฒฺฏุดุช ุจุงุดุฏ ูุฏุงุฑูุฏุ ุจู ุนููุงู ูุซุงูุ ููโุชูุงูุฏ ุงุฒ ุงุดุงุฑูโฺฏุฑ (Pointer) ุชุงุจุน <code>fn</code> ุจู ุนููุงู ููุน ุจุงุฒฺฏุดุช ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฏุฑ ุนูุถุ ูุนูููุงู ุงุฒ ุณูุชฺฉุณ <code>impl Trait</code> ฺฉู ุฏุฑ ูุตู ฑฐ ุงุฏ ฺฏุฑูุชู ุงุณุชูุงุฏู ูโฺฉูุฏ. ูโุชูุงูุฏ ูุฑ ููุน ุชุงุจุน ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Fn</code>ุ <code>FnOnce</code> ู <code>FnMut</code> ุจุงุฒฺฏุฑุฏุงูุฏ. ุจุฑุง ูุซุงูุ ุงู ฺฉุฏ ุจู ุฎูุจ ฺฉุงุฑ ูโฺฉูุฏ:</p>
<pre><code class="language-rust ignore does_not_compile">fn returns_closure() -&gt; impl Fn(i32) -&gt; i32 {
    |x| x + 1
}</code></pre>
<p>ุจุง ุงู ุญุงูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch13-01-closures.html#closure-type-inference-and-annotation">โุงุณุชูุชุงุฌ ููุน ฺฉููุฒุฑ ู ุญุงุดูโููุณโ</a><!-- ignore --> ุงุฒ ูุตู ฑณ ุงุดุงุฑู ฺฉุฑุฏูุ ูุฑ ฺฉููุฒุฑ ููุน ูุดุฎุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ. ุงฺฏุฑ ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ ุจุง ฺูุฏู ุชุงุจุน ฺฉู ุงูุถุง ฺฉุณุงู ุฏุงุฑูุฏ ุงูุง ูพุงุฏูโุณุงุฒโูุง ูุชูุงูุช ุฏุงุฑูุฏ ฺฉุงุฑ ฺฉูุฏุ ุจุงุฏ ุงุฒ ฺฉ ุดุก ูฺฺฏ (<em>trait object</em>) ุจุฑุง ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><code class="language-rust noplayground">fn main() {
    let handlers = vec![returns_closure(), returns_initialized_closure(123)];
    for handler in handlers {
        let output = handler(5);
        println!("{output}");
    }
}

fn returns_closure() -&gt; Box&lt;dyn Fn(i32) -&gt; i32&gt; {
    Box::new(|x| x + 1)
}

fn returns_initialized_closure(init: i32) -&gt; Box&lt;dyn Fn(i32) -&gt; i32&gt; {
    Box::new(move |x| x + init)
}</code></pre>
<p>ุงู ฺฉุฏ ุจู ุฎูุจ ฺฉุงููพุงู ูโุดูุฏโุงูุง ุงฺฏุฑ ุชูุงุด ูโฺฉุฑุฏู ุงุฒ <code>impl Fn(i32) -&gt; i32</code> ุงุณุชูุงุฏู ฺฉููุ ฺฉุงููพุงู ููโุดุฏ. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุงุดุงุก ูฺฺฏุ ุจู ุจุฎุด <a href="ch18-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types">โุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ูฺฺฏ ฺฉู ุงูฺฉุงู ููุงุฏุฑ ุจุง ุชุงูพโูุง ูุฎุชูู ุฑุง ูุฑุงูู ูโฺฉููุฏโ</a><!-- ignore --> ุฏุฑ ูุตู ฑธ ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุฏุฑ ุงุฏุงููุ ุจุงุฏ ูฺฏุงู ุจู ูุงฺฉุฑููุง ุจูุฏุงุฒู!</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ูุงฺฉุฑููุง-macros"><a class="header" href="#ูุงฺฉุฑููุง-macros">ูุงฺฉุฑููุง (Macros)</a></h2>
<p>ูุง ุฏุฑ ุทูู ุงู ฺฉุชุงุจ ุงุฒ ูุงฺฉุฑููุง ูุงููุฏ <code>println!</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุงูุง ูููุฒ ุจู ุทูุฑ ฺฉุงูู ุจุฑุฑุณ ูฺฉุฑุฏูโุงู ฺฉู ฺฉ ูุงฺฉุฑู ฺุณุช ู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ. ุงุตุทูุงุญ <em>ูุงฺฉุฑู</em> ุจู ูุฌููุนูโุง ุงุฒ ูุงุจูุชโูุง ุฏุฑ Rust ุงุดุงุฑู ุฏุงุฑุฏ: ูุงฺฉุฑููุง <em>ุงุนูุงู</em> (declarative) ุจุง <code>macro_rules!</code> ู ุณู ููุน ูุงฺฉุฑู <em>ุฑููโุง</em> (procedural):</p>
<ul>
<li>ูุงฺฉุฑููุง ุณูุงุฑุด <code>#[derive]</code> ฺฉู ฺฉุฏ ุฑุง ฺฉู ุจุง ูฺฺฏ <code>derive</code> ุจุฑุง ุณุงุฎุชุงุฑูุง (structs) ู ุดูุงุฑุดโูุง (enums) ุงุถุงูู ูโุดูุฏ ูุดุฎุต ูโฺฉููุฏ.</li>
<li>ูุงฺฉุฑููุง ุดุจู ูฺฺฏ (Attribute-like) ฺฉู ูฺฺฏโูุง ุณูุงุฑุด ุชุนุฑู ูโฺฉููุฏ ฺฉู ูโุชูุงููุฏ ุฑู ูุฑ ุขุชู ุงุณุชูุงุฏู ุดููุฏ.</li>
<li>ูุงฺฉุฑููุง ุดุจู ุชุงุจุน (Function-like) ฺฉู ูุงููุฏ ูุฑุงุฎูุงู ุชุงุจุน ุจู ูุธุฑ ูโุฑุณูุฏ ุงูุง ุฑู ุชูฺฉูโูุง ฺฉู ุจู ุนููุงู ุขุฑฺฏููุงู ูุดุฎุต ุดุฏูโุงูุฏ ุนูู ูโฺฉููุฏ.</li>
</ul>
<p>ูุง ุจู ููุจุช ุฏุฑุจุงุฑู ูุฑ ฺฉ ุงุฒ ุงูโูุง ุตุญุจุช ุฎูุงูู ฺฉุฑุฏุ ุงูุง ุงุจุชุฏุง ุจุงุฏ ูฺฏุงู ุจูุฏุงุฒู ฺฉู ฺุฑุง ุงุตูุงู ุจู ูุงฺฉุฑููุง ูุงุฒ ุฏุงุฑู ููุช ูุจูุงู ุชูุงุจุน ุฑุง ุฏุงุฑู.</p>
<h3 id="ุชูุงูุช-ุจู-ูุงฺฉุฑููุง-ู-ุชูุงุจุน"><a class="header" href="#ุชูุงูุช-ุจู-ูุงฺฉุฑููุง-ู-ุชูุงุจุน">ุชูุงูุช ุจู ูุงฺฉุฑููุง ู ุชูุงุจุน</a></h3>
<p>ุฏุฑ ุงุตูุ ูุงฺฉุฑููุง ุฑูุด ุจุฑุง ููุดุชู ฺฉุฏ ูุณุชูุฏ ฺฉู ฺฉุฏ ุฏฺฏุฑ ุฑุง ูโููุณุฏุ ฺฉู ุจู ุนููุงู <em>ูุฑุงุจุฑูุงููโููุณ</em> (metaprogramming) ุดูุงุฎุชู ูโุดูุฏ. ุฏุฑ ูพูุณุช Cุ ูุง ูฺฺฏ <code>derive</code> ุฑุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ูพุงุฏูโุณุงุฒ ูฺฺฏโูุง ูุฎุชูู ุฑุง ุจุฑุง ุดูุง ุชููุฏ ูโฺฉูุฏ. ููฺูู ูุง ุงุฒ ูุงฺฉุฑููุง <code>println!</code> ู <code>vec!</code> ุฏุฑ ุทูู ฺฉุชุงุจ ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู. ููู ุงู ูุงฺฉุฑููุง <em>ุชูุณุนู</em> ูพุฏุง ูโฺฉููุฏ ุชุง ฺฉุฏ ุจุดุชุฑ ุงุฒ ฺฉุฏ ฺฉู ุจู ุตูุฑุช ุฏุณุช ููุดุชูโุงุฏ ุชููุฏ ฺฉููุฏ.</p>
<p>ูุฑุงุจุฑูุงููโููุณ ุจุฑุง ฺฉุงูุด ููุฏุงุฑ ฺฉุฏ ฺฉู ุจุงุฏ ุจููุณุฏ ู ูฺฏูุฏุงุฑ ฺฉูุฏ ููุฏ ุงุณุชุ ฺฉู ฺฉ ุงุฒ ููุดโูุง ุชูุงุจุน ูุฒ ูุณุช. ุจุง ุงู ุญุงูุ ูุงฺฉุฑููุง ุชูุงูุงโูุง ุงุถุงู ุฏุงุฑูุฏ ฺฉู ุชูุงุจุน ูุฏุงุฑูุฏ.</p>
<p>ฺฉ ุงูุถุง ุชุงุจุน ุจุงุฏ ุชุนุฏุงุฏ ู ููุน ูพุงุฑุงูุชุฑูุง ฺฉู ุชุงุจุน ุฏุงุฑุฏ ุฑุง ูุดุฎุต ฺฉูุฏ. ุงุฒ ุณู ุฏฺฏุฑุ ูุงฺฉุฑููุง ูโุชูุงููุฏ ุชุนุฏุงุฏ ูุชุบุฑ ุงุฒ ูพุงุฑุงูุชุฑูุง ุฑุง ุจูพุฐุฑูุฏ: ูโุชูุงูู <code>println!("hello")</code> ุฑุง ุจุง ฺฉ ุขุฑฺฏููุงู ุง <code>println!("hello {}", name)</code> ุฑุง ุจุง ุฏู ุขุฑฺฏููุงู ูุฑุงุฎูุงู ฺฉูู. ููฺููุ ูุงฺฉุฑููุง ูุจู ุงุฒ ุงูฺฉู ฺฉุงููพุงูุฑ ูุนู ฺฉุฏ ุฑุง ุชูุณุฑ ฺฉูุฏ ฺฏุณุชุฑุด ูโุงุจูุฏุ ุจูุงุจุฑุงู ฺฉ ูุงฺฉุฑู ูโุชูุงูุฏุ ุจู ุนููุงู ูุซุงูุ ฺฉ ูฺฺฏ ุฑุง ุฑู ฺฉ ููุน ูุดุฎุต ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุงูุง ฺฉ ุชุงุจุน ููโุชูุงูุฏุ ุฒุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุฑุงุฎูุงู ูโุดูุฏ ู ฺฉ ูฺฺฏ ุจุงุฏ ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูพุงุฏูโุณุงุฒ ุดูุฏ.</p>
<p>ุนุจ ูพุงุฏูโุณุงุฒ ฺฉ ูุงฺฉุฑู ุจู ุฌุง ฺฉ ุชุงุจุน ุงู ุงุณุช ฺฉู ุชุนุฑู ูุงฺฉุฑููุง ูพฺุฏูโุชุฑ ุงุฒ ุชุนุฑู ุชูุงุจุน ุงุณุช ุฒุฑุง ุดูุง ุฏุฑ ุญุงู ููุดุชู ฺฉุฏ ุฏุฑ Rust ูุณุชุฏ ฺฉู ฺฉุฏ ุฏฺฏุฑ ุฑุง ุฏุฑ Rust ูโููุณุฏ. ุจู ุฏูู ุงู ูุงุณุทูโฺฏุฑุ ุชุนุฑู ูุงฺฉุฑููุง ุจู ุทูุฑ ฺฉู ุณุฎุชโุชุฑ ุงุฒ ุชูุงุจุน ุฎูุงูุฏู ูโุดูุฏุ ูููุฏู ูโุดูุฏ ู ูฺฏูุฏุงุฑ ูโุดูุฏ.</p>
<p>ฺฉ ุฏฺฏุฑ ุงุฒ ุชูุงูุชโูุง ููู ุจู ูุงฺฉุฑููุง ู ุชูุงุจุน ุงู ุงุณุช ฺฉู ุดูุง ุจุงุฏ ูุงฺฉุฑููุง ุฑุง <em>ูุจู</em> ุงุฒ ูุฑุงุฎูุงู ุขูโูุง ุฏุฑ ฺฉ ูุงู ุชุนุฑู ฺฉูุฏ ุง ุจู ุฏุงููู ุจุงูุฑุฏุ ุจุฑุฎูุงู ุชูุงุจุน ฺฉู ูโุชูุงูุฏ ุขูโูุง ุฑุง ุฏุฑ ูุฑ ุฌุง ุชุนุฑู ฺฉุฑุฏู ู ุฏุฑ ูุฑ ุฌุง ูุฑุงุฎูุงู ฺฉูุฏ.</p>
<h3 id="ูุงฺฉุฑููุง-ุงุนูุงู-ุจุง-macro_rules-ุจุฑุง-ูุฑุงุจุฑูุงููููุณ-ุนููู"><a class="header" href="#ูุงฺฉุฑููุง-ุงุนูุงู-ุจุง-macro_rules-ุจุฑุง-ูุฑุงุจุฑูุงููููุณ-ุนููู">ูุงฺฉุฑููุง ุงุนูุงู ุจุง <code>macro_rules!</code> ุจุฑุง ูุฑุงุจุฑูุงููโููุณ ุนููู</a></h3>
<p>ูพุฑฺฉุงุฑุจุฑุฏุชุฑู ุดฺฉู ูุงฺฉุฑููุง ุฏุฑ Rustุ <em>ูุงฺฉุฑููุง ุงุนูุงู</em> ูุณุชูุฏ. ุจู ุงู ูุงฺฉุฑููุง ฺฏุงู ุงููุงุช โูุงฺฉุฑููุง ุจุง ูุซุงูโุ โูุงฺฉุฑููุง <code>macro_rules!</code>โ ุง ููุท โูุงฺฉุฑููุงโ ฺฏูุชู ูโุดูุฏ. ุฏุฑ ูุณุชู ุฎูุฏุ ูุงฺฉุฑููุง ุงุนูุงู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ฺุฒ ูุดุงุจู ฺฉ ุนุจุงุฑุช <code>match</code> ุฏุฑ Rust ุจููุณุฏ. ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ถ ุจุญุซ ุดุฏุ ุนุจุงุฑุงุช <code>match</code> ุณุงุฎุชุงุฑูุง ฺฉูุชุฑู ูุณุชูุฏ ฺฉู ฺฉ ุนุจุงุฑุช ุฑุง ูโฺฏุฑูุฏุ ููุฏุงุฑ ุญุงุตู ุงุฒ ุนุจุงุฑุช ุฑุง ุจุง ุงูฺฏููุง ููุงุณู ูโฺฉููุฏ ู ุณูพุณ ฺฉุฏ ฺฉู ุจุง ุงูฺฏู ุชุทุงุจู ุงูุชู ูุฑุชุจุท ุงุณุช ุฑุง ุงุฌุฑุง ูโฺฉููุฏ. ูุงฺฉุฑููุง ูุฒ ููุฏุงุฑ ุฑุง ุจุง ุงูฺฏููุง ฺฉู ุจุง ฺฉุฏ ุฎุงุต ูุฑุชุจุท ูุณุชูุฏ ููุงุณู ูโฺฉููุฏ: ุฏุฑ ุงู ุญุงูุชุ ููุฏุงุฑ ฺฉุฏ ููุจุน Rust ุงุณุช ฺฉู ุจู ูุงฺฉุฑู ุงุฑุณุงู ุดุฏู ุงุณุชุ ุงูฺฏููุง ุจุง ุณุงุฎุชุงุฑ ุขู ฺฉุฏ ููุจุน ููุงุณู ูโุดููุฏุ ู ฺฉุฏ ฺฉู ุจุง ูุฑ ุงูฺฏู ูุฑุชุจุท ุงุณุชุ ููุช ุชุทุงุจู ุงูุชุ ุฌุงฺฏุฒู ฺฉุฏ ูโุดูุฏ ฺฉู ุจู ูุงฺฉุฑู ุงุฑุณุงู ุดุฏู ุงุณุช. ููู ุงูโูุง ุฏุฑ ุทูู ฺฉุงููพุงู ุงุชูุงู ูโุงูุชุฏ.</p>
<p>ุจุฑุง ุชุนุฑู ฺฉ ูุงฺฉุฑูุ ุงุฒ ุณุงุฎุชุงุฑ <code>macro_rules!</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฺฏููู ุงุฒ <code>macro_rules!</code> ุงุณุชูุงุฏู ฺฉูู ุจุง ูฺฏุงู ุจู ูุญูู ุชุนุฑู ูุงฺฉุฑู <code>vec!</code>. ูุตู ธ ูพูุดุด ุฏุงุฏ ฺฉู ฺฺฏููู ูโุชูุงูู ุงุฒ ูุงฺฉุฑู <code>vec!</code> ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ ุจุง ููุงุฏุฑ ุฎุงุต ุงุณุชูุงุฏู ฺฉูู. ุจู ุนููุงู ูุซุงูุ ูุงฺฉุฑู ุฒุฑ ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ ุญุงู ุณู ุนุฏุฏ ุตุญุญ ุงุฌุงุฏ ูโฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let v: Vec&lt;u32&gt; = vec![1, 2, 3];
<span class="boring">}</span></code></pre></pre>
<p>ูุง ููฺูู ูโุชูุงูู ุงุฒ ูุงฺฉุฑู <code>vec!</code> ุจุฑุง ุณุงุฎุช ฺฉ ุจุฑุฏุงุฑ ุดุงูู ุฏู ุนุฏุฏ ุตุญุญ ุง ฺฉ ุจุฑุฏุงุฑ ุดุงูู ูพูุฌ ุจุฑุด ุฑุดุชู ุงุณุชูุงุฏู ฺฉูู. ููโุชูุงูู ุงุฒ ฺฉ ุชุงุจุน ุจุฑุง ุงูุฌุงู ููู ฺฉุงุฑ ุงุณุชูุงุฏู ฺฉูู ุฒุฑุง ููโุฏุงูู ุชุนุฏุงุฏ ุง ููุน ููุงุฏุฑ ุงุฒ ูพุด ฺุณุช.</p>
<p>ูุณุช ฒฐ-ฒน ฺฉ ุชุนุฑู ฺฉู ุณุงุฏูโุดุฏู ุงุฒ ูุงฺฉุฑู <code>vec!</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">#[macro_export]
macro_rules! vec {
    ( $( $x:expr ),* ) =&gt; {
        {
            let mut temp_vec = Vec::new();
            $(
                temp_vec.push($x);
            )*
            temp_vec
        }
    };
}</code></pre>
<figcaption>Listing 20-29: ฺฉ ูุณุฎู ุณุงุฏูโุดุฏู ุงุฒ ุชุนุฑู ูุงฺฉุฑู <code>vec!</code></figcaption>
</figure>
<blockquote>
<p>ูฺฉุชู: ุชุนุฑู ูุงูุน ูุงฺฉุฑู <code>vec!</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุดุงูู ฺฉุฏ ุงุณุช ฺฉู ููุฏุงุฑ ุญุงูุธู ููุงุณุจ ุฑุง ุงุฒ ูพุด ุชุฎุตุต ูโุฏูุฏ. ุขู ฺฉุฏ ุจูููโุณุงุฒโุง ุงุณุช ฺฉู ุฏุฑ ุงูุฌุง ุจุฑุง ุณุงุฏูโุชุฑ ุดุฏู ูุซุงู ุดุงูู ูุดุฏู ุงุณุช.</p>
</blockquote>
<p>ุญุงุดูโููุณ <code>#[macro_export]</code> ูุดุงู ูโุฏูุฏ ฺฉู ุงู ูุงฺฉุฑู ุจุงุฏ ูุฑ ุฒูุงู ฺฉู crateโุง ฺฉู ูุงฺฉุฑู ุฏุฑ ุขู ุชุนุฑู ุดุฏู ุงุณุช ุจู ุฏุงููู ุขูุฑุฏู ุดูุฏุ ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ฺฏุฑุฏ. ุจุฏูู ุงู ุญุงุดูโููุณุ ูุงฺฉุฑู ููโุชูุงูุฏ ุจู ุฏุงููู ุขูุฑุฏู ุดูุฏ.</p>
<p>ุณูพุณ ุชุนุฑู ูุงฺฉุฑู ุฑุง ุจุง <code>macro_rules!</code> ู ูุงู ูุงฺฉุฑู ฺฉู ุชุนุฑู ูโฺฉูู <em>ุจุฏูู</em> ุนูุงูุช ุชุนุฌุจ ุดุฑูุน ูโฺฉูู. ูุงูุ ฺฉู ุฏุฑ ุงูุฌุง <code>vec</code> ุงุณุชุ ุจุง ุขฺฉููุงุฏูุง ุฏูุจุงู ูโุดูุฏ ฺฉู ุจุฏูู ุชุนุฑู ูุงฺฉุฑู ุฑุง ูุดุฎุต ูโฺฉููุฏ.</p>
<p>ุณุงุฎุชุงุฑ ุจุฏูู <code>vec!</code> ูุดุงุจู ุณุงุฎุชุงุฑ ฺฉ ุนุจุงุฑุช <code>match</code> ุงุณุช. ุฏุฑ ุงูุฌุง ฺฉ ุจุงุฒู ุจุง ุงูฺฏู <code>( $( $x:expr ),* )</code> ุฏุงุฑูุ ฺฉู ุจุง <code>=&gt;</code> ู ุจููฺฉ ฺฉุฏ ฺฉู ุจุง ุงู ุงูฺฏู ูุฑุชุจุท ุงุณุช ุฏูุจุงู ูโุดูุฏ. ุงฺฏุฑ ุงูฺฏู ุชุทุงุจู ุงุจุฏุ ุจููฺฉ ฺฉุฏ ูุฑุชุจุท ฺฏุณุชุฑุด ูโุงุจุฏ. ุจุง ุชูุฌู ุจู ุงูฺฉู ุงู ุชููุง ุงูฺฏู ุฏุฑ ุงู ูุงฺฉุฑู ุงุณุชุ ุชููุง ฺฉ ุฑูุด ูุนุชุจุฑ ุจุฑุง ุชุทุงุจู ูุฌูุฏ ุฏุงุฑุฏุ ูุฑ ุงูฺฏู ุฏฺฏุฑ ุจุงุนุซ ุฎุทุง ุฎูุงูุฏ ุดุฏ. ูุงฺฉุฑููุง ูพฺุฏูโุชุฑ ููฺฉู ุงุณุช ุจุด ุงุฒ ฺฉ ุจุงุฒู ุฏุงุดุชู ุจุงุดูุฏ.</p>
<p>ุณูุชฺฉุณ ุงูฺฏู ูุนุชุจุฑ ุฏุฑ ุชุนุฑู ูุงฺฉุฑููุง ุจุง ุณูุชฺฉุณ ฺฉู ุฏุฑ ูุตู ฑน ุจุฑุง ุงูฺฏููุง ูพูุดุด ุฏุงุฏู ุดุฏ ูุชูุงูุช ุงุณุช ุฒุฑุง ุงูฺฏููุง ูุงฺฉุฑููุง ุจุฑ ุงุณุงุณ ุณุงุฎุชุงุฑ ฺฉุฏ Rust ู ูู ููุงุฏุฑ ุชุทุงุจู ุฏุงุฏู ูโุดููุฏ. ุจุงุฏ ูุฑูุฑ ฺฉูู ฺฉู ูุณูุชโูุง ุงูฺฏู ูุณุช ฒฐ-ฒน ฺู ูุนูุง ุฏุงุฑูุฏุ ุจุฑุง ูุดุงูุฏู ฺฉุงูู ุณูุชฺฉุณ ุงูฺฏููุง ูุงฺฉุฑูุ ุจู <a href="../reference/macros-by-example.html">ูุณุชูุฏุงุช ูุฑุฌุน Rust</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุงุจุชุฏุงุ ูุฌููุนูโุง ุงุฒ ูพุฑุงูุชุฒูุง ุฑุง ุจุฑุง ุดุงูู ฺฉุฑุฏู ฺฉู ุงูฺฏู ุงุณุชูุงุฏู ูโฺฉูู. ุงุฒ ุนูุงูุช ุฏูุงุฑ (<code>$</code>) ุจุฑุง ุงุนูุงู ฺฉ ูุชุบุฑ ุฏุฑ ุณุณุชู ูุงฺฉุฑู ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ฺฉุฏ Rust ุชุทุงุจูโุงูุชู ุจุง ุงูฺฏู ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ูโุฏูุฏ. ุนูุงูุช ุฏูุงุฑ ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงู ฺฉ ูุชุบุฑ ูุงฺฉุฑู ุงุณุชุ ูู ฺฉ ูุชุบุฑ ูุนููู Rust. ุณูพุณ ูุฌููุนูโุง ุงุฒ ูพุฑุงูุชุฒูุง ูโุขูุฏ ฺฉู ููุงุฏุฑ ุฑุง ฺฉู ุจุง ุงูฺฏู ุฏุฑูู ูพุฑุงูุชุฒูุง ุชุทุงุจู ุฏุงุฑูุฏุ ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ฺฉุฏ ุฌุงฺฏุฒู ุซุจุช ูโฺฉููุฏ. ุฏุฑูู <code>$()</code>ุ <code>$x:expr</code> ูุฑุงุฑ ุฏุงุฑุฏ ฺฉู ุจุง ูุฑ ุนุจุงุฑุช Rust ุชุทุงุจู ุฏุงุฑุฏ ู ุจู ุขู ุนุจุงุฑุช ูุงู <code>$x</code> ูโุฏูุฏ.</p>
<p>ฺฉุงูุง ุจุนุฏ ุงุฒ <code>$()</code> ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ฺฉุงูุง ุฌุฏุงฺฉููุฏู ุจุงุฏ ุจู ูุฑ ููููู ุงุฒ ฺฉุฏ ฺฉู ุจุง ฺฉุฏ ุฏุฑูู <code>$()</code> ุชุทุงุจู ุฏุงุฑุฏ ุธุงูุฑ ุดูุฏ. ุนูุงูุช <code>*</code> ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงูฺฏู ุจุง ุตูุฑ ุง ุจุดุชุฑ ุงุฒ ูุฑ ฺุฒ ฺฉู ูุจู ุงุฒ <code>*</code> ุงุณุชุ ุชุทุงุจู ุฏุงุฑุฏ.</p>
<p>ููุช ุงู ูุงฺฉุฑู ุฑุง ุจุง <code>vec![1, 2, 3];</code> ูุฑุงุฎูุงู ูโฺฉููุ ุงูฺฏู <code>$x</code> ุณู ุจุงุฑ ุจุง ุณู ุนุจุงุฑุช <code>1</code>ุ <code>2</code> ู <code>3</code> ุชุทุงุจู ูพุฏุง ูโฺฉูุฏ.</p>
<p>ุญุงูุง ุจุงุฏ ุจู ุงูฺฏู ฺฉู ุฏุฑ ุจุฏูู ฺฉุฏ ูุฑุชุจุท ุจุง ุงู ุจุงุฒู ูุฌูุฏ ุฏุงุฑุฏ ูฺฏุงู ฺฉูู: <code>temp_vec.push()</code> ุฏุฑูู <code>$()*</code> ุจุฑุง ูุฑ ุจุฎุด ฺฉู ุจุง <code>$()</code> ุฏุฑ ุงูฺฏู ุชุทุงุจู ุฏุงุฑุฏุ ุตูุฑ ุง ุจุดุชุฑ ุจุงุฑ ุจุณุชู ุจู ุงูฺฉู ุงูฺฏู ฺูุฏ ุจุงุฑ ุชุทุงุจู ูพุฏุง ูโฺฉูุฏุ ุชููุฏ ูโุดูุฏ. <code>$x</code> ุจุง ูุฑ ุนุจุงุฑุช ฺฉู ุชุทุงุจู ูพุฏุง ฺฉูุฏ ุฌุงฺฏุฒู ูโุดูุฏ. ููุช ุงู ูุงฺฉุฑู ุฑุง ุจุง <code>vec![1, 2, 3];</code> ูุฑุงุฎูุงู ูโฺฉููุ ฺฉุฏ ฺฉู ุฌุงฺฏุฒู ุงู ูุฑุงุฎูุงู ูุงฺฉุฑู ูโุดูุฏ ุจู ุดฺฉู ุฒุฑ ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-rust ignore">{
    let mut temp_vec = Vec::new();
    temp_vec.push(1);
    temp_vec.push(2);
    temp_vec.push(3);
    temp_vec
}</code></pre>
<p>ูุง ฺฉ ูุงฺฉุฑู ุชุนุฑู ฺฉุฑุฏูโุงู ฺฉู ูโุชูุงูุฏ ูุฑ ุชุนุฏุงุฏ ุขุฑฺฏููุงู ุงุฒ ูุฑ ููุน ุฑุง ุจูพุฐุฑุฏ ู ฺฉุฏ ุจุฑุง ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ฺฉู ุดุงูู ุนูุงุตุฑ ูุดุฎุตโุดุฏู ุงุณุช ุชููุฏ ฺฉูุฏ.</p>
<p>ุจุฑุง ุงุฏฺฏุฑ ุจุดุชุฑ ุฏุฑ ููุฑุฏ ูุญูู ููุดุชู ูุงฺฉุฑููุงุ ุจู ูุณุชูุฏุงุช ุขููุงู ุง ููุงุจุน ุฏฺฏุฑ ูุงููุฏ <a href="https://veykril.github.io/tlborm/">โThe Little Book of Rust Macrosโ</a> ฺฉู ุชูุณุท Daniel Keep ุขุบุงุฒ ู ุชูุณุท Lukas Wirth ุงุฏุงูู ุฏุงุฏู ุดุฏู ุงุณุชุ ูุฑุงุฌุนู ฺฉูุฏ.</p>
<h3 id="ูุงฺฉุฑููุง-ุฑููุง-procedural-ุจุฑุง-ุชููุฏ-ฺฉุฏ-ุงุฒ-ูฺฺฏูุง-attributes"><a class="header" href="#ูุงฺฉุฑููุง-ุฑููุง-procedural-ุจุฑุง-ุชููุฏ-ฺฉุฏ-ุงุฒ-ูฺฺฏูุง-attributes">ูุงฺฉุฑููุง ุฑููโุง (Procedural) ุจุฑุง ุชููุฏ ฺฉุฏ ุงุฒ ูฺฺฏโูุง (Attributes)</a></h3>
<p>ุฏููู ุดฺฉู ูุงฺฉุฑููุงุ <em>ูุงฺฉุฑู ุฑููโุง</em> (procedural macro) ุงุณุช ฺฉู ุจุดุชุฑ ุดุจู ุจู ฺฉ ุชุงุจุน ุนูู ูโฺฉูุฏ (ู ููุน ุฑูู ุงุณุช). ูุงฺฉุฑููุง ุฑููโุง ฺฉุฏ ุฑุง ุจู ุนููุงู ูุฑูุฏ ูโูพุฐุฑูุฏุ ุฑู ุขู ฺฉุฏ ุนูู ูโฺฉููุฏ ู ุจู ุฌุง ุชุทุงุจู ุจุง ุงูฺฏููุง ู ุฌุงฺฏุฒู ฺฉุฑุฏู ฺฉุฏ ุจุง ฺฉุฏ ุฏฺฏุฑ ูุงููุฏ ูุงฺฉุฑููุง ุงุนูุงูุ ฺฉุฏ ุฑุง ุจู ุนููุงู ุฎุฑูุฌ ุชููุฏ ูโฺฉููุฏ. ุณู ููุน ูุงฺฉุฑู ุฑููโุง ุดุงูู <code>derive</code> ุณูุงุฑุดุ ุดุจู ูฺฺฏ (attribute-like) ู ุดุจู ุชุงุจุน (function-like) ูุณุชูุฏ ู ููู ุจู ุดููโุง ูุดุงุจู ุนูู ูโฺฉููุฏ.</p>
<p>ููฺฏุงู ุงุฌุงุฏ ูุงฺฉุฑููุง ุฑููโุงุ ุชุนุงุฑู ุจุงุฏ ุฏุฑ ฺฉ crate ูุฌุฒุง ุจุง ููุน crate ุฎุงุต ุฎูุฏ ูุฑุงุฑ ฺฏุฑูุฏ. ุงู ุจู ุฏูุงู ูู ูพฺุฏูโุง ุงุณุช ฺฉู ุงูุฏูุงุฑู ุฏุฑ ุขูุฏู ุจุฑุทุฑู ุดูุฏ. ุฏุฑ ูุณุช ฒฐ-ณฐุ ูุญูู ุชุนุฑู ฺฉ ูุงฺฉุฑู ุฑููโุง ุฑุง ูุดุงู ูโุฏูู ฺฉู ุฏุฑ ุขู <code>some_attribute</code> ุจู ุนููุงู ุฌุงฺฏุฒู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ููุน ุฎุงุต ุงุฒ ูุงฺฉุฑู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore">use proc_macro;

#[some_attribute]
pub fn some_name(input: TokenStream) -&gt; TokenStream {
}</code></pre>
<figcaption>Listing 20-30: ฺฉ ูุซุงู ุงุฒ ุชุนุฑู ฺฉ ูุงฺฉุฑู ุฑููโุง</figcaption>
</figure>
<p>ุชุงุจุน ฺฉู ฺฉ ูุงฺฉุฑู ุฑููโุง ุฑุง ุชุนุฑู ูโฺฉูุฏุ ฺฉ <code>TokenStream</code> ุฑุง ุจู ุนููุงู ูุฑูุฏ ูโฺฏุฑุฏ ู ฺฉ <code>TokenStream</code> ุฑุง ุจู ุนููุงู ุฎุฑูุฌ ุชููุฏ ูโฺฉูุฏ. ููุน <code>TokenStream</code> ุชูุณุท crate ุจู ูุงู <code>proc_macro</code> ุชุนุฑู ุดุฏู ุงุณุช ฺฉู ุจุง Rust ููุฑุงู ุงุณุช ู ููุงุงูฺฏุฑ ฺฉ ุชูุงู ุงุฒ ุชูฺฉูโูุง ุงุณุช. ุงู ูุณุชู ูุงฺฉุฑู ุงุณุช: ฺฉุฏ ููุจุน ฺฉู ูุงฺฉุฑู ุฑู ุขู ุนูู ูโฺฉูุฏ ูุฑูุฏ <code>TokenStream</code> ุฑุง ุชุดฺฉู ูโุฏูุฏ ู ฺฉุฏ ฺฉู ูุงฺฉุฑู ุชููุฏ ูโฺฉูุฏ ุฎุฑูุฌ <code>TokenStream</code> ุงุณุช. ุงู ุชุงุจุน ููฺูู ุฏุงุฑุง ฺฉ ูฺฺฏ (attribute) ูุชุตู ุจู ุฎูุฏ ุงุณุช ฺฉู ูุดุฎุต ูโฺฉูุฏ ฺฉุฏุงู ููุน ุงุฒ ูุงฺฉุฑู ุฑููโุง ุฑุง ุงุฌุงุฏ ูโฺฉูู. ูุง ูโุชูุงูู ฺูุฏู ููุน ุงุฒ ูุงฺฉุฑููุง ุฑููโุง ุฑุง ุฏุฑ ฺฉ crate ุฏุงุดุชู ุจุงุดู.</p>
<p>ุจุงุฏ ุจู ุชุงูพโูุง ูุฎุชูู ูุงฺฉุฑููุง ุฑููโุง ูฺฏุงู ุจูุฏุงุฒู. ุจุง ฺฉ ูุงฺฉุฑู <code>derive</code> ุณูุงุฑุด ุดุฑูุน ูโฺฉูู ู ุณูพุณ ุชูุงูุชโูุง ฺฉูฺฺฉ ุจู ุงุดฺฉุงู ุฏฺฏุฑ ุฑุง ุชูุถุญ ูโุฏูู.</p>
<h3 id="ูุญูู-ููุดุชู-ฺฉ-ูุงฺฉุฑู-derive-ุณูุงุฑุด"><a class="header" href="#ูุญูู-ููุดุชู-ฺฉ-ูุงฺฉุฑู-derive-ุณูุงุฑุด">ูุญูู ููุดุชู ฺฉ ูุงฺฉุฑู <code>derive</code> ุณูุงุฑุด</a></h3>
<p>ุจุงุฏ ฺฉ crate ุจู ูุงู <code>hello_macro</code> ุงุฌุงุฏ ฺฉูู ฺฉู ฺฉ ูฺฺฏ ุจู ูุงู <code>HelloMacro</code> ุฑุง ุจุง ฺฉ ุชุงุจุน ูุงุจุณุชู ุจู ูุงู <code>hello_macro</code> ุชุนุฑู ฺฉูุฏ. ุจู ุฌุง ุงูฺฉู ฺฉุงุฑุจุฑุงู ูุง ูฺฺฏ <code>HelloMacro</code> ุฑุง ุจุฑุง ูุฑ ฺฉ ุงุฒ ุงููุงุน ุฎูุฏ ูพุงุฏูโุณุงุฒ ฺฉููุฏุ ูุง ฺฉ ูุงฺฉุฑู ุฑููโุง ูุฑุงูู ูโฺฉูู ุชุง ฺฉุงุฑุจุฑุงู ุจุชูุงููุฏ ููุน ุฎูุฏ ุฑุง ุจุง <code>#[derive(HelloMacro)]</code> ุญุงุดูโููุณ ฺฉููุฏ ู ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุจุฑุง ุชุงุจุน <code>hello_macro</code> ุฏุฑุงูุช ฺฉููุฏ. ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุชู <code>Hello, Macro! My name is TypeName!</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ฺฉู ุฏุฑ ุขู <code>TypeName</code> ูุงู ููุน ุงุณุช ฺฉู ุงู ูฺฺฏ ุฑู ุขู ุชุนุฑู ุดุฏู ุงุณุช. ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ูุง crateุง ุฎูุงูู ููุดุช ฺฉู ุจู ุจุฑูุงููโููุณ ุฏฺฏุฑ ุงูฺฉุงู ูโุฏูุฏ ฺฉุฏ ูุงููุฏ ูุณุช ฒฐ-ณฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ crate ูุง ุจููุณุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile">use hello_macro::HelloMacro;
use hello_macro_derive::HelloMacro;

#[derive(HelloMacro)]
struct Pancakes;

fn main() {
    Pancakes::hello_macro();
}</code></pre>
<figcaption>Listing 20-31: ฺฉุฏ ฺฉู ฺฉุงุฑุจุฑ crate ูุง ูโุชูุงูุฏ ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู ุฑููโุง ูุง ุจููุณุฏ</figcaption>
</figure>
<p>ุงู ฺฉุฏ ูุชู <code>Hello, Macro! My name is Pancakes!</code> ุฑุง ฺุงูพ ูโฺฉูุฏ ููุช ฺฉุงุฑ ูุง ุชูุงู ุดูุฏ. ุงููู ูุฏู ุงู ุงุณุช ฺฉู ฺฉ crate ุฌุฏุฏ ุงุฒ ููุน ฺฉุชุงุจุฎุงูู ุจุณุงุฒูุ ุจู ุงู ุตูุฑุช:</p>
<pre><code class="language-console">$ cargo new hello_macro --lib
</code></pre>
<p>ุณูพุณุ ูฺฺฏ <code>HelloMacro</code> ู ุชุงุจุน ูุงุจุณุชู ุจู ุขู ุฑุง ุชุนุฑู ูโฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub trait HelloMacro {
    fn hello_macro();
}</code></pre>
</figure>
<p>ูุง ุงฺฉููู ฺฉ ูฺฺฏ ู ุชุงุจุน ูุงุจุณุชู ุจู ุขู ุฏุงุฑู. ุฏุฑ ุงู ูุฑุญููุ ฺฉุงุฑุจุฑ crate ูุง ูโุชูุงูุฏ ูฺฺฏ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ ุชุง ุจู ุนููฺฉุฑุฏ ููุฑุฏ ูุธุฑ ุจุฑุณุฏุ ุจู ุงู ุตูุฑุช:</p>
<pre><code class="language-rust ignore">use hello_macro::HelloMacro;

struct Pancakes;

impl HelloMacro for Pancakes {
    fn hello_macro() {
        println!("Hello, Macro! My name is Pancakes!");
    }
}

fn main() {
    Pancakes::hello_macro();
}</code></pre>
<p>ุจุง ุงู ุญุงูุ ุขูโูุง ุจุงุฏ ุจููฺฉ ูพุงุฏูโุณุงุฒ ุฑุง ุจุฑุง ูุฑ ููุน ฺฉู ูโุฎูุงููุฏ ุจุง <code>hello_macro</code> ุงุณุชูุงุฏู ฺฉููุฏ ุจููุณูุฏุ ูุง ูโุฎูุงูู ุขูโูุง ุฑุง ุงุฒ ุงูุฌุงู ุงู ฺฉุงุฑ ุจโูุงุฒ ฺฉูู.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ูุง ูููุฒ ููโุชูุงูู ุจุฑุง ุชุงุจุน <code>hello_macro</code> ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุงุฑุงุฆู ุฏูู ฺฉู ูุงู ููุน ฺฉู ูฺฺฏ ุฑู ุขู ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ุฑุง ฺุงูพ ฺฉูุฏ: Rust ูุงุจูุชโูุง ุจุงุฒุชุงุจ (reflection) ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ููโุชูุงูุฏ ูุงู ููุน ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฌุณุชุฌู ฺฉูุฏ. ูุง ุจู ฺฉ ูุงฺฉุฑู ูุงุฒ ุฏุงุฑู ุชุง ฺฉุฏ ุฑุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุชููุฏ ฺฉูุฏ.</p>
<p>ูุฑุญูู ุจุนุฏ ุงู ุงุณุช ฺฉู ูุงฺฉุฑู ุฑููโุง ุฑุง ุชุนุฑู ฺฉูู. ุฏุฑ ุฒูุงู ูฺฏุงุฑุด ุงู ูุชูุ ูุงฺฉุฑููุง ุฑููโุง ุจุงุฏ ุฏุฑ ฺฉ crate ุฌุฏุงฺฏุงูู ูุฑุงุฑ ฺฏุฑูุฏ. ุงู ูุญุฏูุฏุช ููฺฉู ุงุณุช ุฏุฑ ุขูุฏู ุจุฑุฏุงุดุชู ุดูุฏ. ุฑูุด ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุณุงุฎุชุงุฑุฏู ุฌุนุจูโูุง (crates) ู ุฌุนุจูโูุง (crates) ูุงฺฉุฑู ุจู ุงู ุตูุฑุช ุงุณุช: ุจุฑุง ฺฉ crate ุจู ูุงู <code>foo</code>ุ ฺฉ ูุงฺฉุฑู ุฑููโุง ุณูุงุฑุด <code>derive</code> ุจู ูุงู <code>foo_derive</code> ูุงูโฺฏุฐุงุฑ ูโุดูุฏ. ุจุงุฏ ฺฉ crate ุฌุฏุฏ ุจู ูุงู <code>hello_macro_derive</code> ุฏุฑ ูพุฑูฺู <code>hello_macro</code> ุงุฌุงุฏ ฺฉูู:</p>
<pre><code class="language-console">$ cargo new hello_macro_derive --lib
</code></pre>
<p>ุฏู crate ูุง ุจู ุดุฏุช ุจู ูู ูุฑุชุจุท ูุณุชูุฏุ ุจูุงุจุฑุงู ูุง crate ูุงฺฉุฑู ุฑููโุง ุฑุง ุฏุฑูู ุฏุงุฑฺฉุชูุฑ crate <code>hello_macro</code> ุงุฌุงุฏ ูโฺฉูู. ุงฺฏุฑ ุชุนุฑู ูฺฺฏ ุฑุง ุฏุฑ <code>hello_macro</code> ุชุบุฑ ุฏููุ ุจุงุฏ ูพุงุฏูโุณุงุฒ ูุงฺฉุฑู ุฑููโุง ุฏุฑ <code>hello_macro_derive</code> ุฑุง ูุฒ ุชุบุฑ ุฏูู. ุงู ุฏู crate ุจุงุฏ ุจู ุทูุฑ ุฌุฏุงฺฏุงูู ููุชุดุฑ ุดููุฏ ู ุจุฑูุงููโููุณุงู ฺฉู ุงุฒ ุงู ุฌุนุจูโูุง (crates) ุงุณุชูุงุฏู ูโฺฉููุฏ ุจุงุฏ ูุฑ ุฏู ุฑุง ุจู ุนููุงู ูุงุจุณุชฺฏ ุงุถุงูู ฺฉุฑุฏู ู ุขูโูุง ุฑุง ุจู ุฏุงููู ุจุงูุฑูุฏ. ุฏุฑ ุนูุถุ ูโุชูุงูุณุชู crate <code>hello_macro</code> ุงุฒ <code>hello_macro_derive</code> ุจู ุนููุงู ฺฉ ูุงุจุณุชฺฏ ุงุณุชูุงุฏู ฺฉูุฏ ู ฺฉุฏ ูุงฺฉุฑู ุฑููโุง ุฑุง ุฏูุจุงุฑู ุตุงุฏุฑ ฺฉูุฏ. ุจุง ุงู ุญุงูุ ุฑูุด ฺฉู ูพุฑูฺู ุฑุง ุณุงุฎุชุงุฑุจูุฏ ฺฉุฑุฏูโุงูุ ุงู ุงูฺฉุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ุจุฑูุงููโููุณุงู ุงุฒ <code>hello_macro</code> ุญุช ุงฺฏุฑ ุนููฺฉุฑุฏ <code>derive</code> ุฑุง ูุฎูุงููุฏุ ุงุณุชูุงุฏู ฺฉููุฏ.</p>
<p>ูุง ุจุงุฏ crate <code>hello_macro_derive</code> ุฑุง ุจู ุนููุงู ฺฉ crate ูุงฺฉุฑู ุฑููโุง ุงุนูุงู ฺฉูู. ููฺูู ุจู ุนููฺฉุฑุฏูุง ุงุฒ ุฌุนุจูโูุง (crates) <code>syn</code> ู <code>quote</code> ูุงุฒ ุฎูุงูู ุฏุงุดุชุ ููุงูโุทูุฑ ฺฉู ุจู ุฒูุฏ ุฎูุงูุฏ ุฏุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุขูโูุง ุฑุง ุจู ุนููุงู ูุงุจุณุชฺฏ ุงุถุงูู ฺฉูู. ููุงุฑุฏ ุฒุฑ ุฑุง ุจู ูุงู <em>Cargo.toml</em> ุจุฑุง <code>hello_macro_derive</code> ุงุถุงูู ฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: hello_macro_derive/Cargo.toml</span>
<pre><code class="language-toml">[lib]
proc-macro = true

[dependencies]
syn = "2.0"
quote = "1.0"
</code></pre>
</figure>
<p>ุจุฑุง ุดุฑูุน ุชุนุฑู ูุงฺฉุฑู ุฑููโุงุ ฺฉุฏ ูุณุช ฒฐ-ณฒ ุฑุง ุฏุฑ ูุงู <em>src/lib.rs</em> ุจุฑุง crate <code>hello_macro_derive</code> ูุฑุงุฑ ุฏูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงู ฺฉุฏ ุชุง ุฒูุงู ฺฉู ุชุนุฑู ุชุงุจุน <code>impl_hello_macro</code> ุฑุง ุงุถุงูู ูฺฉูู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: hello_macro_derive/src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile">use proc_macro::TokenStream;
use quote::quote;

#[proc_macro_derive(HelloMacro)]
pub fn hello_macro_derive(input: TokenStream) -&gt; TokenStream {
    // Construct a representation of Rust code as a syntax tree
    // that we can manipulate
    let ast = syn::parse(input).unwrap();

    // Build the trait implementation
    impl_hello_macro(&amp;ast)
}</code></pre>
<figcaption>Listing 20-32: ฺฉุฏ ฺฉู ุงฺฉุซุฑ ุฌุนุจูโูุง (crates) ูุงฺฉุฑู ุฑููโุง ุจุฑุง ูพุฑุฏุงุฒุด ฺฉุฏ Rust ูุงุฒ ุฏุงุฑูุฏ</figcaption>
</figure>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ฺฉุฏ ุฑุง ุจู ุฏู ุชุงุจุน ุชูุณู ฺฉุฑุฏูโุงู: <code>hello_macro_derive</code> ฺฉู ูุณุฆูู ูพุฑุฏุงุฒุด <code>TokenStream</code> ุงุณุชุ ู <code>impl_hello_macro</code> ฺฉู ูุณุฆูู ุชุจุฏู ุฏุฑุฎุช ูุญู ุงุณุช. ุงู ฺฉุงุฑ ููุดุชู ฺฉ ูุงฺฉุฑู ุฑููโุง ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ. ฺฉุฏ ุชุงุจุน ุจุฑูู (<code>hello_macro_derive</code> ุฏุฑ ุงูุฌุง) ุชูุฑุจุงู ุจุฑุง ุชูุงู ุฌุนุจูโูุง (crates) ูุงฺฉุฑู ุฑููโุง ฺฉู ูโุจูุฏ ุง ุงุฌุงุฏ ูโฺฉูุฏ ฺฉุณุงู ุฎูุงูุฏ ุจูุฏ. ฺฉุฏ ฺฉู ุฏุฑ ุจุฏูู ุชุงุจุน ุฏุงุฎู (<code>impl_hello_macro</code> ุฏุฑ ุงูุฌุง) ูุดุฎุต ูโฺฉูุฏ ุจุณุชู ุจู ูุฏู ูุงฺฉุฑู ุฑููโุง ุดูุง ูุชูุงูุช ุฎูุงูุฏ ุจูุฏ.</p>
<p>ูุง ุณู crate ุฌุฏุฏ ูุนุฑู ฺฉุฑุฏูโุงู: <code>proc_macro</code>ุ <a href="https://crates.io/crates/syn"><code>syn</code></a>ุ ู <a href="https://crates.io/crates/quote"><code>quote</code></a>. crate <code>proc_macro</code> ููุฑุงู ุจุง Rust ุงุฑุงุฆู ูโุดูุฏุ ุจูุงุจุฑุงู ูุงุฒ ุจู ุงูุฒูุฏู ุขู ุจู ูุงุจุณุชฺฏโูุง ุฏุฑ <em>Cargo.toml</em> ูุฏุงุฑู. crate <code>proc_macro</code> API ฺฉุงููพุงูุฑ ุงุณุช ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉุฏ Rust ุฑุง ุงุฒ ฺฉุฏ ุฎูุฏ ุจุฎูุงูู ู ุฏุณุชฺฉุงุฑ ฺฉูู.</p>
<p>crate <code>syn</code> ฺฉุฏ Rust ุฑุง ุงุฒ ฺฉ ุฑุดุชู ุจู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ุชุจุฏู ูโฺฉูุฏ ฺฉู ูโุชูุงูู ุนููุงุช ุฑู ุขู ุงูุฌุงู ุฏูู. crate <code>quote</code> ุณุงุฎุชุงุฑูุง ุฏุงุฏู <code>syn</code> ุฑุง ุฏูุจุงุฑู ุจู ฺฉุฏ Rust ุชุจุฏู ูโฺฉูุฏ. ุงู ุฌุนุจูโูุง (crates) ูพุฑุฏุงุฒุด ูุฑ ููุน ฺฉุฏ Rust ฺฉู ุจุฎูุงูู ูุฏุฑุช ฺฉูู ุฑุง ุจุณุงุฑ ุณุงุฏูโุชุฑ ูโฺฉููุฏ: ููุดุชู ฺฉ ุชุฌุฒูโฺฉููุฏู ฺฉุงูู ุจุฑุง ฺฉุฏ Rust ฺฉุงุฑ ุณุงุฏูโุง ูุณุช.</p>
<p>ุชุงุจุน <code>hello_macro_derive</code> ุฒูุงู ูุฑุงุฎูุงู ูโุดูุฏ ฺฉู ฺฉ ฺฉุงุฑุจุฑ ุงุฒ ฺฉุชุงุจุฎุงูู ูุง ูฺฺฏ <code>#[derive(HelloMacro)]</code> ุฑุง ุฑู ฺฉ ููุน ูุดุฎุต ฺฉูุฏ. ุงู ุงูุฑ ุจู ุงู ุฏูู ููฺฉู ุงุณุช ฺฉู ูุง ุชุงุจุน <code>hello_macro_derive</code> ุฑุง ุจุง <code>proc_macro_derive</code> ุญุงุดูโููุณ ฺฉุฑุฏูโุงู ู ูุงู <code>HelloMacro</code> ุฑุง ูุดุฎุต ฺฉุฑุฏูโุงูุ ฺฉู ุจุง ูุงู ูฺฺฏ ูุง ูุทุงุจูุช ุฏุงุฑุฏุ ุงู ุฑูุด ูุนูููโุง ุงุณุช ฺฉู ุจุดุชุฑ ูุงฺฉุฑููุง ุฑููโุง ุฏูุจุงู ูโฺฉููุฏ.</p>
<p>ุชุงุจุน <code>hello_macro_derive</code> ุงุจุชุฏุง <code>input</code> ุฑุง ุงุฒ ฺฉ <code>TokenStream</code> ุจู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุชุจุฏู ูโฺฉูุฏ ฺฉู ุณูพุณ ูโุชูุงูู ุขู ุฑุง ุชูุณุฑ ฺฉุฑุฏู ู ุนููุงุชโูุง ุฑู ุขู ุงูุฌุงู ุฏูู. ุงูุฌุงุณุช ฺฉู crate <code>syn</code> ุจู ฺฉุงุฑ ูโุขุฏ. ุชุงุจุน <code>parse</code> ุฏุฑ <code>syn</code> ฺฉ <code>TokenStream</code> ูโฺฏุฑุฏ ู ฺฉ ุณุงุฎุชุงุฑ <code>DeriveInput</code> ุฑุง ฺฉู ููุงุงูฺฏุฑ ฺฉุฏ Rust ุชุฌุฒูโุดุฏู ุงุณุชุ ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุณุช ฒฐ-ณณ ุจุฎุดโูุง ูุฑุชุจุท ุงุฒ ุณุงุฎุชุงุฑ <code>DeriveInput</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ููฺฏุงู ุชุฌุฒู ฺฉุฏ <code>struct Pancakes;</code> ุฏุฑุงูุช ูโฺฉูู:</p>
<figure class="listing">
<pre><code class="language-rust ignore">DeriveInput {
    // --snip--

    ident: Ident {
        ident: "Pancakes",
        span: #0 bytes(95..103)
    },
    data: Struct(
        DataStruct {
            struct_token: Struct,
            fields: Unit,
            semi_token: Some(
                Semi
            )
        }
    )
}</code></pre>
<figcaption>Listing 20-33: ูููููโุง ุงุฒ <code>DeriveInput</code> ฺฉู ููฺฏุงู ุชุฌุฒู ฺฉุฏ ฺฉู ูฺฺฏ ูุงฺฉุฑู ุฏุฑ ูุณุช ฒฐ-ณฑ ุฑุง ุฏุงุฑุฏุ ุฏุฑุงูุช ูโฺฉูู</figcaption>
</figure>
<p>ููุฏูุง ุงู ุณุงุฎุชุงุฑ ูุดุงู ูโุฏููุฏ ฺฉู ฺฉุฏ Rust ฺฉู ุชุฌุฒู ฺฉุฑุฏูโุงู ฺฉ ุณุงุฎุชุงุฑ ูุงุญุฏ (<em>unit struct</em>) ุจุง ุดูุงุณู (<code>ident</code>) ุจู ูุงู <code>Pancakes</code> ุงุณุช. ุงู ุณุงุฎุชุงุฑ ููุฏูุง ุจุดุชุฑ ุจุฑุง ุชูุตู ุงููุงุน ูุฎุชูู ฺฉุฏ Rust ุฏุงุฑุฏุ ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุจู <a href="https://docs.rs/syn/2.0/syn/struct.DeriveInput.html">ูุณุชูุฏุงุช <code>syn</code> ุจุฑุง <code>DeriveInput</code></a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุจู ุฒูุฏ ุชุงุจุน <code>impl_hello_macro</code> ุฑุง ุชุนุฑู ุฎูุงูู ฺฉุฑุฏุ ุฌุง ฺฉู ฺฉุฏ ุฌุฏุฏ ฺฉู ูโุฎูุงูู ุงุถุงูู ฺฉูู ุฑุง ุชููุฏ ุฎูุงูู ฺฉุฑุฏ. ุงูุง ูุจู ุงุฒ ุงู ฺฉุงุฑุ ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฎุฑูุฌ ูุงฺฉุฑู <code>derive</code> ูุง ูุฒ ฺฉ <code>TokenStream</code> ุงุณุช. <code>TokenStream</code> ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู ุจู ฺฉุฏ ฺฉู ฺฉุงุฑุจุฑุงู crate ูุง ูโููุณูุฏ ุงุถุงูู ูโุดูุฏุ ุจูุงุจุฑุงู ููุช crate ุขูโูุง ฺฉุงููพุงู ูโุดูุฏุ ูุงุจูุชโูุง ุงุถุงูโุง ฺฉู ูุง ุฏุฑ <code>TokenStream</code> ุชุบุฑ ุฏุงุฏูโุดุฏู ูุฑุงูู ฺฉุฑุฏูโุงู ุฑุง ุฏุฑุงูุช ุฎูุงููุฏ ฺฉุฑุฏ.</p>
<p>ููฺฉู ุงุณุช ูุชูุฌู ุดุฏู ุจุงุดุฏ ฺฉู ูุง ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุฏุฑ ุตูุฑุช ฺฉู ูุฑุงุฎูุงู ุชุงุจุน <code>syn::parse</code> ุดฺฉุณุช ุจุฎูุฑุฏุ ุชุงุจุน <code>hello_macro_derive</code> ุจู ูุญุดุช ุจูุชุฏ (<em>panic</em>). ูุงุฒู ุงุณุช ูุงฺฉุฑู ุฑููโุง ูุง ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุง ุจู ูุญุดุช ุจูุชุฏุ ุฒุฑุง ุชูุงุจุน <code>proc_macro_derive</code> ุจุงุฏ ุจู ุฌุง <code>Result</code> ฺฉ <code>TokenStream</code> ุจุงุฒฺฏุฑุฏุงููุฏ ุชุง ุจุง API ูุงฺฉุฑููุง ุฑููโุง ุณุงุฒฺฏุงุฑ ุจุงุดูุฏ. ุจุฑุง ุณุงุฏู ฺฉุฑุฏู ุงู ูุซุงู ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงูุ ุฏุฑ ฺฉุฏ ุชููุฏุ ุจูุชุฑ ุงุณุช ูพุงูโูุง ุฎุทุง ุฎุงุตโุชุฑ ุฏุฑุจุงุฑู ูุดฺฉู ุงุฌุงุฏ ุดุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>panic!</code> ุง <code>expect</code> ุงุฑุงุฆู ุฏูุฏ.</p>
<p>ุงฺฉููู ฺฉู ฺฉุฏ ุฏุงุฑู ฺฉู ฺฉุฏ Rust ุญุงุดูโููุณโุดุฏู ุฑุง ุงุฒ ฺฉ <code>TokenStream</code> ุจู ฺฉ ููููู <code>DeriveInput</code> ุชุจุฏู ูโฺฉูุฏุ ุจุงุฏ ฺฉุฏ ฺฉู ูฺฺฏ <code>HelloMacro</code> ุฑุง ุฑู ููุน ุญุงุดูโููุณโุดุฏู ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุชููุฏ ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฒฐ-ณด ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: hello_macro_derive/src/lib.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use proc_macro::TokenStream;
</span><span class="boring">use quote::quote;
</span><span class="boring">
</span><span class="boring">#[proc_macro_derive(HelloMacro)]
</span><span class="boring">pub fn hello_macro_derive(input: TokenStream) -&gt; TokenStream {
</span><span class="boring">    // Construct a representation of Rust code as a syntax tree
</span><span class="boring">    // that we can manipulate
</span><span class="boring">    let ast = syn::parse(input).unwrap();
</span><span class="boring">
</span><span class="boring">    // Build the trait implementation
</span><span class="boring">    impl_hello_macro(&amp;ast)
</span><span class="boring">}
</span><span class="boring">
</span>fn impl_hello_macro(ast: &amp;syn::DeriveInput) -&gt; TokenStream {
    let name = &amp;ast.ident;
    let gen = quote! {
        impl HelloMacro for #name {
            fn hello_macro() {
                println!("Hello, Macro! My name is {}!", stringify!(#name));
            }
        }
    };
    gen.into()
}</code></pre>
<figcaption>Listing 20-34: ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>HelloMacro</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ Rust ุชุฌุฒูโุดุฏู</figcaption>
</figure>
<p>ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>ast.ident</code> ฺฉ ููููู ุงุฒ ุณุงุฎุชุงุฑ <code>Ident</code> ฺฉู ุดุงูู ูุงู (ุดูุงุณู) ููุน ุญุงุดูโููุณโุดุฏู ุงุณุชุ ุฏุฑุงูุช ูโฺฉูู. ุณุงุฎุชุงุฑ ููุฌูุฏ ุฏุฑ ูุณุช ฒฐ-ณณ ูุดุงู ูโุฏูุฏ ฺฉู ููุช ุชุงุจุน <code>impl_hello_macro</code> ุฑุง ุฑู ฺฉุฏ ูุณุช ฒฐ-ณฑ ุงุฌุฑุง ูโฺฉููุ ููุฏ <code>ident</code> ุจุง ููุฏุงุฑ <code>"Pancakes"</code> ูพุฑ ุฎูุงูุฏ ุดุฏ. ุจูุงุจุฑุงูุ ูุชุบุฑ <code>name</code> ุฏุฑ ูุณุช ฒฐ-ณด ฺฉ ููููู ุงุฒ ุณุงุฎุชุงุฑ <code>Ident</code> ุฑุง ุดุงูู ูโุดูุฏ ฺฉู ููุช ฺุงูพ ูโุดูุฏุ ุฑุดุชู <code>"Pancakes"</code>ุ ุนู ูุงู ุณุงุฎุชุงุฑ ุฏุฑ ูุณุช ฒฐ-ณฑุ ุฎูุงูุฏ ุจูุฏ.</p>
<p>ูุงฺฉุฑู <code>quote!</code> ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉุฏ Rust ููุฑุฏ ูุธุฑ ุฎูุฏ ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุฑุง ุชุนุฑู ฺฉูู. ฺฉุงููพุงูุฑ ุจู ฺุฒ ูุชูุงูุช ุงุฒ ูุชุฌู ูุณุชูู ุงุฌุฑุง ูุงฺฉุฑู <code>quote!</code> ูุงุฒ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุขู ุฑุง ุจู ฺฉ <code>TokenStream</code> ุชุจุฏู ฺฉูู. ุงู ฺฉุงุฑ ุฑุง ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>into</code> ุงูุฌุงู ูโุฏูู ฺฉู ุงู ููุงุด ูุงู ุฑุง ูุตุฑู ฺฉุฑุฏู ู ููุฏุงุฑ ุงุฒ ููุน <code>TokenStream</code> ููุฑุฏ ูุงุฒ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุงฺฉุฑู <code>quote!</code> ููฺูู ุจุฑุฎ ูุงุจูุชโูุง ุฌุงูุจ ุงูฺฏูฺฏุฐุงุฑ (templating) ุงุฑุงุฆู ูโุฏูุฏ: ูโุชูุงูู <code>#name</code> ุฑุง ูุงุฑุฏ ฺฉูู ู <code>quote!</code> ุขู ุฑุง ุจุง ููุฏุงุฑ ููุฌูุฏ ุฏุฑ ูุชุบุฑ <code>name</code> ุฌุงฺฏุฒู ูโฺฉูุฏ. ุญุช ูโุชูุงูุฏ ุชฺฉุฑุงุฑูุง ูุดุงุจู ุจุง ูุญูู ฺฉุงุฑ ูุงฺฉุฑููุง ูุนููู ุงูุฌุงู ุฏูุฏ. ุจุฑุง ููุฏููโุง ุฌุงูุน ุจู <a href="https://docs.rs/quote">ูุณุชูุฏุงุช crate <code>quote</code></a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ูุง ูโุฎูุงูู ูุงฺฉุฑู ุฑููโุง ูุง ฺฉ ูพุงุฏูโุณุงุฒ ุงุฒ ูฺฺฏ <code>HelloMacro</code> ุจุฑุง ููุน ฺฉู ฺฉุงุฑุจุฑ ุญุงุดูโููุณ ฺฉุฑุฏู ุงุณุช ุชููุฏ ฺฉูุฏุ ฺฉู ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ <code>#name</code> ุจู ุขู ุฏุณุชุฑุณ ูพุฏุง ฺฉูู. ูพุงุฏูโุณุงุฒ ูฺฺฏ ุดุงูู ฺฉ ุชุงุจุน ุจู ูุงู <code>hello_macro</code> ุงุณุช ฺฉู ุจุฏูู ุขู ูุงุจูุช ููุฑุฏ ูุธุฑ ูุงุ ุนู ฺุงูพ <code>Hello, Macro! My name is</code> ู ุณูพุณ ูุงู ููุน ุญุงุดูโููุณโุดุฏูุ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.</p>
<p>ูุงฺฉุฑู <code>stringify!</code> ฺฉู ุฏุฑ ุงูุฌุง ุงุณุชูุงุฏู ุดุฏู ุงุณุชุ ุจู ุตูุฑุช ุฏุงุฎู ุฏุฑ Rust ุณุงุฎุชู ุดุฏู ุงุณุช. ุงู ูุงฺฉุฑู ฺฉ ุนุจุงุฑุช Rustุ ูุงููุฏ <code>1 + 2</code>ุ ุฑุง ฺฏุฑูุชู ู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุขู ุฑุง ุจู ฺฉ ุฑุดุชู ุซุงุจุชุ ูุงููุฏ <code>"1 + 2"</code>ุ ุชุจุฏู ูโฺฉูุฏ. ุงู ุจุง ูุงฺฉุฑููุง ูุงููุฏ <code>format!</code> ุง <code>println!</code> ฺฉู ุนุจุงุฑุช ุฑุง ุงุฑุฒุงุจ ฺฉุฑุฏู ู ุณูพุณ ูุชุฌู ุฑุง ุจู ฺฉ <code>String</code> ุชุจุฏู ูโฺฉููุฏุ ูุชูุงูุช ุงุณุช. ุงุญุชูุงู ุฏุงุฑุฏ ูุฑูุฏ <code>#name</code> ฺฉ ุนุจุงุฑุช ุจุฑุง ฺุงูพ ุจุงุดุฏุ ุจูุงุจุฑุงู ุงุฒ <code>stringify!</code> ุงุณุชูุงุฏู ูโฺฉูู. ุงุณุชูุงุฏู ุงุฒ <code>stringify!</code> ููฺูู ุจุง ุชุจุฏู <code>#name</code> ุจู ฺฉ ุฑุดุชู ุซุงุจุช ุฏุฑ ุฒูุงู ฺฉุงููพุงูุ ฺฉ ุชุฎุตุต ุฑุง ุตุฑููโุฌู ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุงู ูุฑุญููุ ุฏุณุชูุฑ <code>cargo build</code> ุจุงุฏ ุจุง ููููุช ุฏุฑ ูุฑ ุฏู crate <code>hello_macro</code> ู <code>hello_macro_derive</code> ุงุฌุฑุง ุดูุฏ. ุจุงุฏ ุงู ุฌุนุจูโูุง (crates) ุฑุง ุจู ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฐ-ณฑ ูุชุตู ฺฉูู ุชุง ูุงฺฉุฑู ุฑููโุง ุฑุง ุฏุฑ ุนูู ุจุจูู! ฺฉ ูพุฑูฺู ุจุงูุฑ ุฌุฏุฏ ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>projects</em> ุฎูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ <code>cargo new pancakes</code> ุงุฌุงุฏ ฺฉูุฏ. ุจุงุฏ <code>hello_macro</code> ู <code>hello_macro_derive</code> ุฑุง ุจู ุนููุงู ูุงุจุณุชฺฏ ุฏุฑ ูุงู <em>Cargo.toml</em> crate <code>pancakes</code> ุงุถุงูู ฺฉูู. ุงฺฏุฑ ูุณุฎูโูุง ุฎูุฏ ุงุฒ <code>hello_macro</code> ู <code>hello_macro_derive</code> ุฑุง ุฏุฑ <a href="https://crates.io/">crates.io</a> ููุชุดุฑ ูโฺฉูุฏุ ุขูโูุง ุจู ุนููุงู ูุงุจุณุชฺฏโูุง ูุนููู ุฎูุงููุฏ ุจูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูโุชูุงูุฏ ุขูโูุง ุฑุง ุจู ุตูุฑุช ูุงุจุณุชฺฏโูุง <code>path</code> ุจู ุดฺฉู ุฒุฑ ูุดุฎุต ฺฉูุฏ:</p>
<pre><code class="language-toml">hello_macro = { path = "../hello_macro" }
hello_macro_derive = { path = "../hello_macro/hello_macro_derive" }
</code></pre>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฐ-ณฑ ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ูุฑุงุฑ ุฏูุฏ ู ุฏุณุชูุฑ <code>cargo run</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ: ุจุงุฏ ุนุจุงุฑุช <code>Hello, Macro! My name is Pancakes!</code> ุฑุง ฺุงูพ ฺฉูุฏ. ูพุงุฏูโุณุงุฒ ูฺฺฏ <code>HelloMacro</code> ฺฉู ุงุฒ ูุงฺฉุฑู ุฑููโุง ุขูุฏู ุจูุฏุ ุจุฏูู ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ุขู ุชูุณุท crate <code>pancakes</code> ุงุถุงูู ุดุฏุ ูฺฺฏ <code>#[derive(HelloMacro)]</code> ูพุงุฏูโุณุงุฒ ูฺฺฏ ุฑุง ุงุถุงูู ฺฉุฑุฏ.</p>
<p>ุฏุฑ ุงุฏุงููุ ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ุงููุงุน ุฏฺฏุฑ ูุงฺฉุฑููุง ุฑููโุง ฺู ุชูุงูุช ุจุง ูุงฺฉุฑููุง ุณูุงุฑุด <code>derive</code> ุฏุงุฑูุฏ.</p>
<h3 id="ูุงฺฉุฑููุง-ุดุจู-ูฺฺฏ-attribute-like-macros"><a class="header" href="#ูุงฺฉุฑููุง-ุดุจู-ูฺฺฏ-attribute-like-macros">ูุงฺฉุฑููุง ุดุจู ูฺฺฏ (Attribute-like macros)</a></h3>
<p>ูุงฺฉุฑููุง ุดุจู ูฺฺฏ ูุดุงุจู ูุงฺฉุฑููุง ุณูุงุฑุด <code>derive</code> ูุณุชูุฏุ ุงูุง ุจู ุฌุง ุชููุฏ ฺฉุฏ ุจุฑุง ูฺฺฏ <code>derive</code>ุ ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ ูฺฺฏโูุง ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ. ุขูโูุง ููฺูู ุงูุนุทุงูโูพุฐุฑุชุฑ ูุณุชูุฏ: <code>derive</code> ููุท ุจุฑุง ุณุงุฎุชุงุฑูุง (<em>structs</em>) ู ุดูุงุฑุดโูุง (<em>enums</em>) ฺฉุงุฑ ูโฺฉูุฏุ ุงูุง ูฺฺฏโูุง ูโุชูุงููุฏ ุจู ุขุชูโูุง ุฏฺฏุฑ ูุฒ ุงุนูุงู ุดููุฏุ ูุงููุฏ ุชูุงุจุน. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุงฺฉุฑู ุดุจู ูฺฺฏ ุขูุฑุฏู ุดุฏู ุงุณุช: ูุฑุถ ฺฉูุฏ ฺฉ ูฺฺฏ ุจู ูุงู <code>route</code> ุฏุงุฑุฏ ฺฉู ุชูุงุจุน ุฑุง ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุฑูโูุฑฺฉ ุจุฑูุงูู ูุจ ุญุงุดูโููุณ ูโฺฉูุฏ:</p>
<pre><code class="language-rust ignore">#[route(GET, "/")]
fn index() {</code></pre>
<p>ุงู ูฺฺฏ <code>#[route]</code> ุชูุณุท ูุฑูโูุฑฺฉ ุจู ุนููุงู ฺฉ ูุงฺฉุฑู ุฑููโุง ุชุนุฑู ูโุดูุฏ. ุงูุถุง ุชุงุจุน ุชุนุฑู ูุงฺฉุฑู ุจู ุงู ุตูุฑุช ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-rust ignore">#[proc_macro_attribute]
pub fn route(attr: TokenStream, item: TokenStream) -&gt; TokenStream {</code></pre>
<p>ุฏุฑ ุงูุฌุงุ ุฏู ูพุงุฑุงูุชุฑ ุงุฒ ููุน <code>TokenStream</code> ุฏุงุฑู. ูพุงุฑุงูุชุฑ ุงูู ุจุฑุง ูุญุชูุง ูฺฺฏ ุงุณุช: ุจุฎุด <code>GET, "/"</code>. ูพุงุฑุงูุชุฑ ุฏูู ุจุฑุง ุจุฏูู ุขุชู ุงุณุช ฺฉู ูฺฺฏ ุจู ุขู ูุชุตู ุดุฏู ุงุณุช: ุฏุฑ ุงู ููุฑุฏุ <code>fn index() {}</code> ู ุจุงู ุจุฏูู ุชุงุจุน.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ูุงฺฉุฑููุง ุดุจู ูฺฺฏ ุจู ููุงู ุดูู ูุงฺฉุฑููุง ุณูุงุฑุด <code>derive</code> ฺฉุงุฑ ูโฺฉููุฏ: ุดูุง ฺฉ crate ุจุง ููุน <code>proc-macro</code> ุงุฌุงุฏ ูโฺฉูุฏ ู ุชุงุจุน ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ฺฉู ฺฉุฏ ุฑุง ฺฉู ูโุฎูุงูุฏ ุชููุฏ ูโฺฉูุฏ!</p>
<h3 id="ูุงฺฉุฑููุง-ุดุจู-ุชุงุจุน"><a class="header" href="#ูุงฺฉุฑููุง-ุดุจู-ุชุงุจุน">ูุงฺฉุฑููุง ุดุจู ุชุงุจุน</a></h3>
<p>ูุงฺฉุฑููุง ุดุจู ุชุงุจุนุ ูุงฺฉุฑููุง ุฑุง ุชุนุฑู ูโฺฉููุฏ ฺฉู ุดุจู ุจู ูุฑุงุฎูุงู ุชูุงุจุน ุจู ูุธุฑ ูโุฑุณูุฏ. ูุดุงุจู ุจุง ูุงฺฉุฑููุง <code>macro_rules!</code>ุ ุงู ูุงฺฉุฑููุง ุงูุนุทุงูโูพุฐุฑุชุฑ ุงุฒ ุชูุงุจุน ูุณุชูุฏุ ุจุฑุง ูุซุงูุ ูโุชูุงููุฏ ุชุนุฏุงุฏ ูุงูุดุฎุต ุงุฒ ุขุฑฺฏููุงูโูุง ุฑุง ุจูพุฐุฑูุฏ. ุจุง ุงู ุญุงูุ ูุงฺฉุฑููุง <code>macro_rules!</code> ููุท ูโุชูุงููุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ ุดุจู ุจู <code>match</code> ฺฉู ุฏุฑ ุจุฎุด <a href="ch20-05-macros.html#declarative-macros-with-macro_rules-for-general-metaprogramming">โูุงฺฉุฑููุง ุงุนูุงู ุจุง <code>macro_rules!</code> ุจุฑุง ูุฑุงุจุฑูุงููโููุณ ุนูููโ</a><!-- ignore --> ุจุญุซ ุดุฏ ุชุนุฑู ุดููุฏ. ูุงฺฉุฑููุง ุดุจู ุชุงุจุน ฺฉ ูพุงุฑุงูุชุฑ <code>TokenStream</code> ูโฺฏุฑูุฏ ู ุชุนุฑู ุขูโูุง ุงู <code>TokenStream</code> ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ Rust ูุงููุฏ ุฏู ููุน ุฏฺฏุฑ ูุงฺฉุฑููุง ุฑููโุง ุฏุณุชฺฉุงุฑ ูโฺฉูุฏ. ูุซุงู ุงุฒ ฺฉ ูุงฺฉุฑู ุดุจู ุชุงุจุนุ ูุงฺฉุฑู <code>sql!</code> ุงุณุช ฺฉู ููฺฉู ุงุณุช ุจู ุงู ุตูุฑุช ูุฑุงุฎูุงู ุดูุฏ:</p>
<pre><code class="language-rust ignore">let sql = sql!(SELECT * FROM posts WHERE id=1);</code></pre>
<p>ุงู ูุงฺฉุฑู ุนุจุงุฑุช SQL ุฏุงุฎู ุฎูุฏ ุฑุง ุชุฌุฒู ฺฉุฑุฏู ู ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุงุฒ ูุธุฑ ูุญู ุฏุฑุณุช ุจุงุดุฏุ ฺฉู ูพุฑุฏุงุฒุด ุจุณุงุฑ ูพฺุฏูโุชุฑ ูุณุจุช ุจู ุขูฺู ฺฉ ูุงฺฉุฑู <code>macro_rules!</code> ูโุชูุงูุฏ ุงูุฌุงู ุฏูุฏุ ุฏุงุฑุฏ. ูุงฺฉุฑู <code>sql!</code> ุจู ุงู ุตูุฑุช ุชุนุฑู ูโุดูุฏ:</p>
<pre><code class="language-rust ignore">#[proc_macro]
pub fn sql(input: TokenStream) -&gt; TokenStream {</code></pre>
<p>ุงู ุชุนุฑู ูุดุงุจู ุงูุถุง ูุงฺฉุฑู ุณูุงุฑุด <code>derive</code> ุงุณุช: ูุง ุชูฺฉูโูุง ฺฉู ุฏุงุฎู ูพุฑุงูุชุฒูุง ูุฑุงุฑ ุฏุงุฑูุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูู ู ฺฉุฏ ุฑุง ฺฉู ูโุฎูุงูู ุชููุฏ ฺฉูู ุจุงุฒูโฺฏุฑุฏุงูู.</p>
<h2 id="ุฎูุงุตู-18"><a class="header" href="#ุฎูุงุตู-18">ุฎูุงุตู</a></h2>
<p>ูุง! ุงฺฉููู ุดูุง ุจุฑุฎ ุงุฒ ูฺฺฏโูุง Rust ุฑุง ุฏุฑ ุงุจุฒุงุฑ ุฎูุฏ ุฏุงุฑุฏ ฺฉู ุงุญุชูุงูุงู ุจู ูุฏุฑุช ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงูุง ูโุฏุงูุฏ ฺฉู ุฏุฑ ุดุฑุงุท ุฎุงุต ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ. ูุง ููุถูุนุงุช ูพฺุฏู ูุชุนุฏุฏ ุฑุง ูุนุฑู ฺฉุฑุฏู ุชุง ุฒูุงู ฺฉู ุจุง ูพุดููุงุฏุงุช ูพุงูโูุง ุฎุทุง ุง ฺฉุฏูุง ุฏฺฏุฑุงู ููุงุฌู ุดุฏุฏุ ุจุชูุงูุฏ ุงู ููุงูู ู ุณูุชฺฉุณ ุฑุง ุจุดูุงุณุฏ. ุงุฒ ุงู ูุตู ุจู ุนููุงู ูุฑุฌุน ุจุฑุง ุงูุชู ุฑุงูโุญูโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ุฏุฑ ุงุฏุงููุ ููู ฺุฒูุง ฺฉู ุฏุฑ ุทูู ฺฉุชุงุจ ุจุญุซ ฺฉุฑุฏู ุฑุง ุฏุฑ ุนูู ูพุงุฏูโุณุงุฒ ูโฺฉูู ู ฺฉ ูพุฑูฺู ุฏฺฏุฑ ุงูุฌุงู ุฎูุงูู ุฏุงุฏ!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ูพุฑูฺู-ููุง-ุณุงุฎุช-ฺฉ-ูุจ-ุณุฑูุฑ-ฺูุฏูุฎ"><a class="header" href="#ูพุฑูฺู-ููุง-ุณุงุฎุช-ฺฉ-ูุจ-ุณุฑูุฑ-ฺูุฏูุฎ">ูพุฑูฺู ููุง: ุณุงุฎุช ฺฉ ูุจ ุณุฑูุฑ ฺูุฏูุฎ</a></h1>
<p>ูุณุฑ ุทููุงูโุง ุฑุง ุท ฺฉุฑุฏูโุงูุ ุงูุง ุงฺฉููู ุจู ุงูุชูุง ฺฉุชุงุจ ุฑุณุฏูโุงู. ุฏุฑ ุงู ูุตูุ ฺฉ ูพุฑูฺู ุฏฺฏุฑ ุฑุง ุจุง ูู ูโุณุงุฒู ุชุง ุจุฑุฎ ุงุฒ ููุงูู ฺฉู ุฏุฑ ูุตูโูุง ูพุงุงู ูพูุดุด ุฏุงุฏูโุงู ุฑุง ูุดุงู ุฏูู ู ููฺูู ุฏุฑุณโูุง ูุจู ุฑุง ูุฑูุฑ ฺฉูู.</p>
<p>ุจุฑุง ูพุฑูฺู ููุงุ ฺฉ ูุจ ุณุฑูุฑ ุงุฌุงุฏ ูโฺฉูู ฺฉู ุนุจุงุฑุช โhelloโ ุฑุง ููุงุด ุฏูุฏ ู ุฏุฑ ฺฉ ูุฑูุฑฺฏุฑ ูุจ ุดุจู ุดฺฉู 21-1 ุจู ูุธุฑ ุจุฑุณุฏ.</p>
<p><img src="img/trpl21-01.png" alt="hello from rust" /></p>
<p><span class="caption">ุดฺฉู 21-1: ูพุฑูฺู ููุง ูุง</span></p>
<p>ุจุฑูุงูู ูุง ุจุฑุง ุณุงุฎุช ูุจ ุณุฑูุฑ ุจู ุงู ุตูุฑุช ุงุณุช:</p>
<div dir="rtl">
    <ul>
        <li>ฺฉู ุฏุฑุจุงุฑู TCP ู HTTP ุงุฏ ูโฺฏุฑู.</li>
        <li>ฺฏูุด ุฏุงุฏู ุจู ุงุชุตุงูุงุช TCP ุฑู ฺฉ ุณูฺฉุช ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูู.</li>
        <li>ุชุนุฏุงุฏ ฺฉู ุงุฒ ุฏุฑุฎูุงุณุชโูุง HTTP ุฑุง ุชุฌุฒู ูโฺฉูู.</li>
        <li>ฺฉ ูพุงุณุฎ HTTP ููุงุณุจ ุงุฌุงุฏ ูโฺฉูู.</li>
        <li>ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุฌููุนู ูุฎ (thread pool) ุชูุงู ุนููุงุช ุณุฑูุฑ ุฑุง ุจูุจูุฏ ูโุจุฎุดู.</li>
    </ul>
</div>
<p>ูุจู ุงุฒ ุดุฑูุนุ ุจุงุฏ ุจู ุฏู ูฺฉุชู ุงุดุงุฑู ฺฉูู: ุงููุ ุฑูุด ฺฉู ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ุจูุชุฑู ุฑูุด ุจุฑุง ุณุงุฎุช ฺฉ ูุจ ุณุฑูุฑ ุจุง Rust ูุฎูุงูุฏ ุจูุฏ. ุงุนุถุง ุฌุงูุนู Rust ุชุนุฏุงุฏ ุฒุงุฏ crate ุขูุงุฏู ุชููุฏ ุฏุฑ <a href="https://crates.io/">crates.io</a> ููุชุดุฑ ฺฉุฑุฏูโุงูุฏ ฺฉู ูพุงุฏูโุณุงุฒโูุง ฺฉุงููโุชุฑ ุงุฒ ูุจ ุณุฑูุฑ ู ูุฌููุนู ูุฎ ูุณุจุช ุจู ุขูฺู ฺฉู ูุง ุฎูุงูู ุณุงุฎุช ุงุฑุงุฆู ูโุฏููุฏ. ุจุง ุงู ุญุงูุ ูุฏู ูุง ุฏุฑ ุงู ูุตู ฺฉูฺฉ ุจู ุงุฏฺฏุฑ ุดูุงุณุชุ ูู ุงูุชุฎุงุจ ูุณุฑ ุขุณุงู. ุงุฒ ุขูุฌุง ฺฉู Rust ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุณุณุชู ุงุณุชุ ูโุชูุงูู ุณุทุญ ุงูุชุฒุงุน ฺฉู ูโุฎูุงูู ุจุง ุขู ฺฉุงุฑ ฺฉูู ุฑุง ุงูุชุฎุงุจ ฺฉูู ู ุจู ุณุทุญ ูพุงูโุชุฑ ุงุฒ ุขูฺู ุฏุฑ ุฒุจุงูโูุง ุฏฺฏุฑ ููฺฉู ุง ุนูู ุงุณุช ุจุฑูู.</p>
<p>ุฏููุ ูุง ุงูุฌุง ุงุฒ async ู await ุงุณุชูุงุฏู ูุฎูุงูู ฺฉุฑุฏ. ุณุงุฎุช ฺฉ ูุฌููุนู ูุฎ ุจู ุงูุฏุงุฒู ฺฉุงู ฺุงูุดโุจุฑุงูฺฏุฒ ุงุณุชุ ุจุฏูู ุงูฺฉู ุจู ุงุฌุงุฏ ฺฉ runtime async ุงุถุงูู ุดูุฏ! ุจุง ุงู ุญุงูุ ุงุดุงุฑู ุฎูุงูู ฺฉุฑุฏ ฺฉู async ู await ฺฺฏููู ููฺฉู ุงุณุช ุจุฑุง ุจุฑุฎ ุงุฒ ููุงู ูุดฺฉูุงุช ฺฉู ุฏุฑ ุงู ูุตู ุฎูุงูู ุฏุฏ ฺฉุงุฑุจุฑุฏ ุฏุงุดุชู ุจุงุดูุฏ. ุฏุฑ ููุงุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู 17 ุฐฺฉุฑ ฺฉุฑุฏูุ ุจุณุงุฑ ุงุฒ runtimeโูุง async ุงุฒ ูุฌููุนู ูุฎ ุจุฑุง ูุฏุฑุช ฺฉุงุฑูุง ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ.</p>
<p>ุจูุงุจุฑุงูุ ุณุฑูุฑ HTTP ุณุงุฏู ู ูุฌููุนู ูุฎ ุฑุง ุจู ุตูุฑุช ุฏุณุช ุฎูุงูู ููุดุช ุชุง ุจุชูุงูุฏ ุงุฏูโูุง ู ุชฺฉูฺฉโูุง ฺฉู ูพุดุช ุฌุนุจูโูุง (crates) ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุขูุฏู ุงุณุชูุงุฏู ฺฉูุฏ ุฑุง ุงุฏ ุจฺฏุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุณุงุฎุช-ฺฉ-ูุจ-ุณุฑูุฑ-single-threaded"><a class="header" href="#ุณุงุฎุช-ฺฉ-ูุจ-ุณุฑูุฑ-single-threaded">ุณุงุฎุช ฺฉ ูุจ ุณุฑูุฑ Single-Threaded</a></h2>
<p>ูุง ุจุง ุฑุงูโุงูุฏุงุฒ ฺฉ ูุจ ุณุฑูุฑ Single-Threaded ุดุฑูุน ุฎูุงูู ฺฉุฑุฏ. ูพุด ุงุฒ ุดุฑูุนุ ุจุงุฏ ฺฉ ูุฑูุฑ ุณุฑุน ุจุฑ ูพุฑูุชฺฉูโูุง ูุฑุชุจุท ุจุง ุณุงุฎุช ูุจ ุณุฑูุฑูุง ุฏุงุดุชู ุจุงุดู. ุฌุฒุฆุงุช ุงู ูพุฑูุชฺฉูโูุง ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุงู ฺฉุชุงุจ ุงุณุชุ ุงูุง ฺฉ ููุง ฺฉู ุงุทูุงุนุงุช ูุงุฒู ุฑุง ุจู ุดูุง ูโุฏูุฏ.</p>
<p>ุฏู ูพุฑูุชฺฉู ุงุตู ฺฉู ุฏุฑ ูุจ ุณุฑูุฑูุง ุฏุฑฺฏุฑ ูุณุชูุฏุ <em>Hypertext Transfer Protocol</em> <em>(HTTP)</em> ู <em>Transmission Control Protocol</em> <em>(TCP)</em> ูุณุชูุฏ. ูุฑ ุฏู ูพุฑูุชฺฉู <em>request-response</em> ูุณุชูุฏุ ุจู ุงู ูุนู ฺฉู ฺฉ <em>client</em> ุฏุฑุฎูุงุณุชโูุง ุฑุง ุขุบุงุฒ ูโฺฉูุฏ ู ฺฉ <em>server</em> ุจู ุฏุฑุฎูุงุณุชโูุง ฺฏูุด ูโุฏูุฏ ู ูพุงุณุฎ ุจู client ุงุฑุงุฆู ูโุฏูุฏ. ูุญุชูุง ุงู ุฏุฑุฎูุงุณุชโูุง ู ูพุงุณุฎโูุง ุชูุณุท ูพุฑูุชฺฉูโูุง ุชุนุฑู ุดุฏู ุงุณุช.</p>
<p>TCP ฺฉ ูพุฑูุชฺฉู ุณุทุญ ูพุงูโุชุฑ ุงุณุช ฺฉู ุฌุฒุฆุงุช ฺฺฏููฺฏ ุงูุชูุงู ุงุทูุงุนุงุช ุงุฒ ฺฉ ุณุฑูุฑ ุจู ุณุฑูุฑ ุฏฺฏุฑ ุฑุง ุชูุตู ูโฺฉูุฏ ุงูุง ูุดุฎุต ููโฺฉูุฏ ฺฉู ุขู ุงุทูุงุนุงุช ฺุณุช. HTTP ุจุฑ ุฑู TCP ุณุงุฎุชู ุดุฏู ุงุณุช ู ูุญุชูุง ุฏุฑุฎูุงุณุชโูุง ู ูพุงุณุฎโูุง ุฑุง ุชุนุฑู ูโฺฉูุฏ. ุงุฒ ูุญุงุธ ูู ุงูฺฉุงู ุงุณุชูุงุฏู ุงุฒ HTTP ุจุง ุณุงุฑ ูพุฑูุชฺฉูโูุง ูุฌูุฏ ุฏุงุฑุฏุ ุงูุง ุฏุฑ ุงฺฉุซุฑ ููุงุฑุฏุ HTTP ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ุจุฑ ุฑู TCP ุงุฑุณุงู ูโฺฉูุฏ. ูุง ุจุง ุจุงุชโูุง ุฎุงู ุฏุฑุฎูุงุณุชโูุง ู ูพุงุณุฎโูุง TCP ู HTTP ฺฉุงุฑ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="ฺฏูุด-ุฏุงุฏู-ุจู-ุงุชุตุงู-tcp"><a class="header" href="#ฺฏูุด-ุฏุงุฏู-ุจู-ุงุชุตุงู-tcp">ฺฏูุด ุฏุงุฏู ุจู ุงุชุตุงู TCP</a></h3>
<p>ูุจ ุณุฑูุฑ ูุง ูุงุฒ ุฏุงุฑุฏ ุจู ุงุชุตุงู TCP ฺฏูุด ุฏูุฏุ ุจูุงุจุฑุงู ุงู ุงููู ุจุฎุด ุงุณุช ฺฉู ุฑู ุขู ฺฉุงุฑ ูโฺฉูู. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฉ ูุงฺูู <code>std::net</code> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุจู ูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู. ุจุงุฏ ฺฉ ูพุฑูฺู ุฌุฏุฏ ุจู ุฑูุด ูุนููู ุงุฌุงุฏ ฺฉูู:</p>
<pre><code class="language-console">$ cargo new hello
     Created binary (application) `hello` project
$ cd hello
</code></pre>
<p>ุญุงูุง ฺฉุฏ ูุณุช ฒฑ-ฑ ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ูุงุฑุฏ ฺฉูุฏ ุชุง ุดุฑูุน ฺฉูู. ุงู ฺฉุฏ ุจู ุขุฏุฑุณ ูุญู <code>127.0.0.1:7878</code> ุจุฑุง ุฌุฑุงูโูุง ูุฑูุฏ TCP ฺฏูุด ูโุฏูุฏ. ููุช ฺฉ ุฌุฑุงู ูุฑูุฏ ุฏุฑุงูุช ูโฺฉูุฏุ ูพุงู <code>Connection established!</code> ุฑุง ฺุงูพ ูโฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use std::net::TcpListener;

fn main() {
    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();

    for stream in listener.incoming() {
        let stream = stream.unwrap();

        println!("Connection established!");
    }
}</code></pre></pre>
<figcaption>Listing 21-1: ฺฏูุด ุฏุงุฏู ุจู ุฌุฑุงูโูุง ูุฑูุฏ ู ฺุงูพ ฺฉ ูพุงู ููฺฏุงู ุฏุฑุงูุช ฺฉ ุฌุฑุงู</figcaption>
</figure>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ <code>TcpListener</code>ุ ูโุชูุงูู ุจู ุงุชุตุงูุงุช TCP ุฏุฑ ุขุฏุฑุณ <code>127.0.0.1:7878</code> ฺฏูุด ุฏูู. ุฏุฑ ุงู ุขุฏุฑุณุ ุจุฎุด ูุจู ุงุฒ ุฏูููุทู ฺฉ ุขุฏุฑุณ IP ุงุณุช ฺฉู ููุงุงูฺฏุฑ ฺฉุงููพูุชุฑ ุดูุง ุงุณุช (ุงู ุขุฏุฑุณ ุฑู ููู ฺฉุงููพูุชุฑูุง ฺฉุณุงู ุงุณุช ู ููุงุงูฺฏุฑ ฺฉุงููพูุชุฑ ููุณูุฏฺฏุงู ูุณุช) ู <code>7878</code> ูพูุฑุช ุงุณุช. ุงู ูพูุฑุช ุฑุง ุจู ุฏู ุฏูู ุงูุชุฎุงุจ ฺฉุฑุฏูโุงู: HTTP ูุนูููุงู ุฑู ุงู ูพูุฑุช ูพุฐุฑูุชู ููโุดูุฏุ ุจูุงุจุฑุงู ุงุญุชูุงูุงู ุณุฑูุฑ ูุง ุจุง ูฺ ูุจ ุณุฑูุฑ ุฏฺฏุฑ ฺฉู ููฺฉู ุงุณุช ุฑู ุฏุณุชฺฏุงู ุดูุง ุงุฌุฑุง ุดูุฏ ุชุฏุงุฎู ูุฎูุงูุฏ ุฏุงุดุชุ ู 7878 ุฑู ุชููู ุจู ุตูุฑุช <em>rust</em> ุชุงูพ ูโุดูุฏ.</p>
<p>ุชุงุจุน <code>bind</code> ุฏุฑ ุงู ุณูุงุฑู ูุงููุฏ ุชุงุจุน <code>new</code> ุนูู ูโฺฉูุฏ ุจู ุงู ุตูุฑุช ฺฉู ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>TcpListener</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ุชุงุจุน <code>bind</code> ูุงูุฏู ูโุดูุฏ ุฒุฑุง ุฏุฑ ุดุจฺฉูุ ุงุชุตุงู ุจู ฺฉ ูพูุฑุช ุจุฑุง ฺฏูุด ุฏุงุฏู ุจู ุขู ุจู ุนููุงู โbinding to a portโ ุดูุงุฎุชู ูโุดูุฏ.</p>
<p>ุชุงุจุน <code>bind</code> ฺฉ <code>Result&lt;T, E&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ูุดุงู ูโุฏูุฏ ุงูฺฉุงู ุฏุงุฑุฏ ูุฑุขูุฏ binding ุดฺฉุณุช ุจุฎูุฑุฏ. ุจู ุนููุงู ูุซุงูุ ุงุชุตุงู ุจู ูพูุฑุช 80 ูุงุฒ ุจู ุฏุณุชุฑุณ ูุฏุฑ (<em>administrator</em>) ุฏุงุฑุฏ (ฺฉุงุฑุจุฑุงู ุนุงุฏ ููุท ูโุชูุงููุฏ ุจู ูพูุฑุชโูุง ุจุงูุงุชุฑ ุงุฒ 1023 ฺฏูุด ุฏููุฏ)ุ ุจูุงุจุฑุงู ุงฺฏุฑ ุชูุงุด ฺฉูู ุจุฏูู ุฏุณุชุฑุณ ูุฏุฑ ุจู ูพูุฑุช 80 ูุชุตู ุดููุ ูุฑุขูุฏ binding ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ. ููฺูู ุงฺฏุฑ ุฏู ููููู ุงุฒ ุจุฑูุงูู ุฎูุฏ ุงุฌุฑุง ฺฉูู ู ุฏุฑ ูุชุฌู ุฏู ุจุฑูุงูู ุจู ููุงู ูพูุฑุช ฺฏูุด ุฏููุฏุ ูุฑุขูุฏ binding ุดฺฉุณุช ุฎูุงูุฏ ุฎูุฑุฏ. ุงุฒ ุขูุฌุง ฺฉู ูุง ฺฉ ุณุฑูุฑ ุณุงุฏู ููุท ุจุฑุง ุงูุฏุงู ุขููุฒุด ูโููุณูุ ูฺฏุฑุงูโุง ุฏุฑ ููุฑุฏ ูุฏุฑุช ุงู ููุน ุฎุทุงูุง ูุฎูุงูู ุฏุงุดุชุ ุฏุฑ ุนูุถ ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุง ุจุฑูุงูู ูุชููู ุดูุฏ.</p>
<p>ูุชุฏ <code>incoming</code> ุฑู <code>TcpListener</code> ฺฉ iterator ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุจู ูุง ุฏูุจุงููโุง ุงุฒ ุฌุฑุงูโูุง (<em>streams</em>) ูโุฏูุฏ (ุจู ุทูุฑ ุฎุงุตุ ุฌุฑุงูโูุง ุงุฒ ููุน <code>TcpStream</code>). ฺฉ <em>stream</em> ูุดุงูโุฏููุฏู ฺฉ ุงุชุตุงู ุจุงุฒ ุจู client ู server ุงุณุช. ฺฉ <em>connection</em> ุจู ูุฑุขูุฏ ฺฉุงูู ุฏุฑุฎูุงุณุช ู ูพุงุณุฎ ฺฏูุชู ูโุดูุฏ ฺฉู ุฏุฑ ุขู ฺฉ client ุจู ุณุฑูุฑ ูุชุตู ูโุดูุฏุ ุณุฑูุฑ ฺฉ ูพุงุณุฎ ุชููุฏ ูโฺฉูุฏุ ู ุณูพุณ ุงุชุตุงู ุชูุณุท ุณุฑูุฑ ุจุณุชู ูโุดูุฏ. ุจูุงุจุฑุงูุ ูุง ุงุฒ <code>TcpStream</code> ุจุฑุง ุฎูุงูุฏู ุขูฺู client ุงุฑุณุงู ฺฉุฑุฏู ุงุณุชูุงุฏู ูโฺฉูู ู ุณูพุณ ูพุงุณุฎ ุฎูุฏ ุฑุง ุจู ุฌุฑุงู ูโููุณู ุชุง ุฏุงุฏูโูุง ุฑุง ุจู client ุจุงุฒฺฏุฑุฏุงูู. ุจู ุทูุฑ ฺฉูุ ุงู ุญููู <code>for</code> ูุฑ ุงุชุตุงู ุฑุง ุจู ููุจุช ูพุฑุฏุงุฒุด ฺฉุฑุฏู ู ฺฉ ุณุฑ ุฌุฑุงูโูุง ุฑุง ุจุฑุง ูุฏุฑุช ุจู ูุง ูโุฏูุฏ.</p>
<p>ูุนูุงูุ ูุฏุฑุช ูุง ุฑู ุฌุฑุงู ุจู ูุฑุงุฎูุงู <code>unwrap</code> ูุญุฏูุฏ ูโุดูุฏ ุชุง ุฏุฑ ุตูุฑุช ฺฉู ุฌุฑุงู ุฏุงุฑุง ุฎุทุง ุจุงุดุฏุ ุจุฑูุงูู ูุชููู ุดูุฏ. ุงฺฏุฑ ุฎุทุง ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ ุจุฑูุงูู ฺฉ ูพุงู ฺุงูพ ูโฺฉูุฏ. ุฏุฑ ูุณุช ุจุนุฏุ ุนููฺฉุฑุฏ ุจุดุชุฑ ุจุฑุง ุญุงูุช ููููุช ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ. ุฏูู ุงูฺฉู ููฺฉู ุงุณุช ุงุฒ ูุชุฏ <code>incoming</code> ููฺฏุงู ุงุชุตุงู ฺฉ client ุจู ุณุฑูุฑ ุฎุทุง ุฏุฑุงูุช ฺฉูู ุงู ุงุณุช ฺฉู ูุง ุฏุฑ ูุงูุน ุฑู ุงุชุตุงูุงุช ุชฺฉุฑุงุฑ ููโฺฉููุ ุจูฺฉู ุฑู <em>ุชูุงุดโูุง ุงุชุตุงู</em> ุชฺฉุฑุงุฑ ูโฺฉูู. ุงุชุตุงู ููฺฉู ุงุณุช ุจู ุฏูุงู ูุฎุชูู ููููุชโุขูุฒ ูุจุงุดุฏ ฺฉู ุจุณุงุฑ ุงุฒ ุขูโูุง ูุฑุจูุท ุจู ุณุณุชูโุนุงูู ูุณุชูุฏ. ุจุฑุง ูุซุงูุ ุจุณุงุฑ ุงุฒ ุณุณุชูโุนุงููโูุง ูุญุฏูุฏุช ุจุฑุง ุชุนุฏุงุฏ ุงุชุตุงูุงุช ููุฒูุงู ุจุงุฒ ุฏุงุฑูุฏุ ุชูุงุดโูุง ุงุชุตุงู ุฌุฏุฏ ฺฉู ุจุด ุงุฒ ุงู ุชุนุฏุงุฏ ุจุงุดูุฏุ ุชุง ุฒูุงู ฺฉู ุจุฑุฎ ุงุฒ ุงุชุตุงูุงุช ุจุงุฒ ุจุณุชู ูุดููุฏุ ุฎุทุง ุชููุฏ ุฎูุงููุฏ ฺฉุฑุฏ.</p>
<p>ุจุงุฏ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูู! ุฏุณุชูุฑ <code>cargo run</code> ุฑุง ุฏุฑ ุชุฑููุงู ุงุฌุฑุง ฺฉูุฏ ู ุณูพุณ ุขุฏุฑุณ <em>127.0.0.1:7878</em> ุฑุง ุฏุฑ ฺฉ ูุฑูุฑฺฏุฑ ูุจ ุจุงุฒ ฺฉูุฏ. ูุฑูุฑฺฏุฑ ุจุงุฏ ูพุงู ุฎุทุง ูุงููุฏ โConnection resetโ ุฑุง ูุดุงู ุฏูุฏุ ุฒุฑุง ุณุฑูุฑ ุฏุฑ ุญุงู ุญุงุถุฑ ูฺ ุฏุงุฏูโุง ุจุงุฒ ููโฺฏุฑุฏุงูุฏ. ุงูุง ููุช ุจู ุชุฑููุงู ุฎูุฏ ูฺฏุงู ฺฉูุฏุ ุจุงุฏ ฺูุฏู ูพุงู ฺฉู ููฺฏุงู ุงุชุตุงู ูุฑูุฑฺฏุฑ ุจู ุณุฑูุฑ ฺุงูพ ุดุฏูโุงูุฏ ุฑุง ุจุจูุฏ:</p>
<pre><code class="language-text">     Running `target/debug/hello`
Connection established!
Connection established!
Connection established!
</code></pre>
<p>ฺฏุงู ููฺฉู ุงุณุช ุจุฑุง ฺฉ ุฏุฑุฎูุงุณุช ูุฑูุฑฺฏุฑ ฺูุฏู ูพุงู ฺุงูพ ุดูุฏุ ุฏูู ุขู ูโุชูุงูุฏ ุงู ุจุงุดุฏ ฺฉู ูุฑูุฑฺฏุฑ ุนูุงูู ุจุฑ ุฏุฑุฎูุงุณุช ุตูุญูุ ุฏุฑุฎูุงุณุชโูุง ุจุฑุง ููุงุจุน ุฏฺฏุฑ ูุฒ ุงุฑุณุงู ูโฺฉูุฏุ ูุงููุฏ ุขฺฉูู <em>favicon.ico</em> ฺฉู ุฏุฑ ุชุจ ูุฑูุฑฺฏุฑ ุธุงูุฑ ูโุดูุฏ.</p>
<p>ููฺูู ููฺฉู ุงุณุช ูุฑูุฑฺฏุฑ ุชูุงุด ฺฉูุฏ ฺูุฏู ุจุงุฑ ุจู ุณุฑูุฑ ูุชุตู ุดูุฏ ุฒุฑุง ุณุฑูุฑ ูฺ ุฏุงุฏูโุง ุจุงุฒ ููโฺฏุฑุฏุงูุฏ. ููุช <code>stream</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ ู ุฏุฑ ุงูุชูุง ุญููู ุญุฐู ูโุดูุฏุ ุงุชุตุงู ุจู ุนููุงู ุจุฎุด ุงุฒ ูพุงุฏูโุณุงุฒ <code>drop</code> ุจุณุชู ูโุดูุฏ. ูุฑูุฑฺฏุฑูุง ฺฏุงู ุจุง ุงุชุตุงูุงุช ุจุณุชู ุดุฏู ุจุง ุชูุงุด ูุฌุฏุฏ ููุงุจูู ูโฺฉููุฏุ ุฒุฑุง ููฺฉู ุงุณุช ูุดฺฉู ูููุช ุจุงุดุฏ. ูฺฉุชู ููู ุงู ุงุณุช ฺฉู ูุง ุจุง ููููุช ุจู ฺฉ ุงุชุตุงู TCP ุฏุณุช ูพุฏุง ฺฉุฑุฏูโุงู!</p>
<p>ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุฑูุงูู ุฑุง ุจุง ูุดุงุฑ ุฏุงุฏู ฺฉูุฏูุง <kbd>ctrl</kbd>-<kbd>c</kbd> ูุชููู ฺฉูุฏ ููุช ฺฉู ุงุฌุฑุง ูุณุฎู ุฎุงุต ุงุฒ ฺฉุฏ ุชูุงู ุดุฏ. ุณูพุณ ุจุฑูุงูู ุฑุง ุจุง ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo run</code> ูพุณ ุงุฒ ุงุฌุงุฏ ูุฑ ูุฌููุนู ุงุฒ ุชุบุฑุงุช ฺฉุฏุ ูุฌุฏุฏุงู ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ุฌุฏุฏุชุฑู ฺฉุฏ ุงุฌุฑุง ูโุดูุฏ.</p>
<h3 id="ุฎูุงูุฏู-ุฏุฑุฎูุงุณุช"><a class="header" href="#ุฎูุงูุฏู-ุฏุฑุฎูุงุณุช">ุฎูุงูุฏู ุฏุฑุฎูุงุณุช</a></h3>
<p>ุจุงุฏ ุนููฺฉุฑุฏ ุฎูุงูุฏู ุฏุฑุฎูุงุณุช ุงุฒ ูุฑูุฑฺฏุฑ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู! ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ูฺฏุฑุงูโูุง ุงุฒ ุงุชุตุงู ุงููู ู ุณูพุณ ุงูุฌุงู ุจุฑุฎ ุงูุฏุงูุงุช ุจุง ุงุชุตุงูุ ฺฉ ุชุงุจุน ุฌุฏุฏ ุจุฑุง ูพุฑุฏุงุฒุด ุงุชุตุงูุงุช ุงุฌุงุฏ ูโฺฉูู. ุฏุฑ ุงู ุชุงุจุน ุฌุฏุฏ <code>handle_connection</code>ุ ุฏุงุฏูโูุง ุฑุง ุงุฒ ุฌุฑุงู TCP ูโุฎูุงูู ู ุขูโูุง ุฑุง ฺุงูพ ูโฺฉูู ุชุง ุจุชูุงูู ุฏุงุฏูโูุง ฺฉู ุงุฒ ูุฑูุฑฺฏุฑ ุงุฑุณุงู ูโุดููุฏ ุฑุง ุจุจูู. ฺฉุฏ ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ุดุจู ูุณุช ฒฑ-ฒ ุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use std::{
    io::{prelude::*, BufReader},
    net::{TcpListener, TcpStream},
};

fn main() {
    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();

    for stream in listener.incoming() {
        let stream = stream.unwrap();

        handle_connection(stream);
    }
}

fn handle_connection(mut stream: TcpStream) {
    let buf_reader = BufReader::new(&amp;stream);
    let http_request: Vec&lt;_&gt; = buf_reader
        .lines()
        .map(|result| result.unwrap())
        .take_while(|line| !line.is_empty())
        .collect();

    println!("Request: {http_request:#?}");
}</code></pre></pre>
<figcaption>Listing 21-2: ุฎูุงูุฏู ุงุฒ <code>TcpStream</code> ู ฺุงูพ ุฏุงุฏูโูุง</figcaption>
</figure>
<p>ูุง <code>std::io::prelude</code> ู <code>std::io::BufReader</code> ุฑุง ูุงุฑุฏ ุฏุงููู ูโฺฉูู ุชุง ุจู ูฺฺฏโูุง ู ููุนโูุง ฺฉู ุจู ูุง ุงุฌุงุฒู ุฎูุงูุฏู ู ููุดุชู ุงุฒ ุฌุฑุงู ุฑุง ูโุฏููุฏ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู. ุฏุฑ ุญููู <code>for</code> ุฏุฑ ุชุงุจุน <code>main</code>ุ ุจู ุฌุง ฺุงูพ ฺฉ ูพุงู ฺฉู ูโฺฏูุฏ ฺฉ ุงุชุตุงู ุจุฑูุฑุงุฑ ฺฉุฑุฏูุ ุญุงูุง ุชุงุจุน ุฌุฏุฏ <code>handle_connection</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ู <code>stream</code> ุฑุง ุจู ุขู ุงุฑุณุงู ูโฺฉูู.</p>
<p>ุฏุฑ ุชุงุจุน <code>handle_connection</code>ุ ฺฉ ููููู ุฌุฏุฏ ุงุฒ <code>BufReader</code> ุงุฌุงุฏ ูโฺฉูู ฺฉู ฺฉ ุงุฑุฌุงุน ุจู <code>stream</code> ุฑุง ุฏุฑ ุฎูุฏ ูฺฏู ูโุฏุงุฑุฏ. <code>BufReader</code> ุจุง ูุฏุฑุช ูุฑุงุฎูุงู ูุชุฏูุง ูฺฺฏ <code>std::io::Read</code> ุจุฑุง ูุงุ ุจุงูุฑ ุฑุง ุงุถุงูู ูโฺฉูุฏ.</p>
<p>ูุง ฺฉ ูุชุบุฑ ุจู ูุงู <code>http_request</code> ุงุฌุงุฏ ูโฺฉูู ุชุง ุฎุทูุท ุฏุฑุฎูุงุณุช ุงุฑุณุงู ูุฑูุฑฺฏุฑ ุจู ุณุฑูุฑ ุฑุง ุฌูุนโุขูุฑ ฺฉูู. ูุดุฎุต ูโฺฉูู ฺฉู ูโุฎูุงูู ุงู ุฎุทูุท ุฑุง ุฏุฑ ฺฉ ุจุฑุฏุงุฑ ุฌูุนโุขูุฑ ฺฉูู ุจุง ุงุถุงูู ฺฉุฑุฏู ููุน <code>Vec&lt;_&gt;</code> ุจู ุนููุงู ุญุงุดูโููุณ.</p>
<p><code>BufReader</code> ูฺฺฏ <code>std::io::BufRead</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ฺฉู ูุชุฏ <code>lines</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ. ูุชุฏ <code>lines</code> ฺฉ iterator ุงุฒ ููุน <code>Result&lt;String, std::io::Error&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ฺฉู ุจุง ูุฑ ุจุงุฑ ูุดุงูุฏู ฺฉ ุจุงุช newline ุฌุฑุงู ุฏุงุฏู ุฑุง ุชูุณู ูโฺฉูุฏ. ุจุฑุง ุฏุฑุงูุช ูุฑ <code>String</code>ุ ูุฑ <code>Result</code> ุฑุง map ู <code>unwrap</code> ูโฺฉูู. ุงฺฏุฑ ุฏุงุฏูโูุง UTF-8 ูุนุชุจุฑ ูุจุงุดูุฏ ุง ุงฺฏุฑ ูุดฺฉู ุฏุฑ ุฎูุงูุฏู ุงุฒ ุฌุฑุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ููฺฉู ุงุณุช <code>Result</code> ุฎุทุง ุจุงุดุฏ. ุจุงุฒ ููุ ฺฉ ุจุฑูุงูู ุชููุฏ ุจุงุฏ ุงู ุฎุทุงูุง ุฑุง ุจู ุตูุฑุช ฺฉุงุฑุขูุฏุชุฑ ูุฏุฑุช ฺฉูุฏุ ุงูุง ุจุฑุง ุณุงุฏฺฏุ ูุง ุงูุชุฎุงุจ ูโฺฉูู ฺฉู ุฏุฑ ุญุงูุช ุฎุทุง ุจุฑูุงูู ูุชููู ุดูุฏ.</p>
<p>ูุฑูุฑฺฏุฑ ูพุงุงู ฺฉ ุฏุฑุฎูุงุณุช HTTP ุฑุง ุจุง ุงุฑุณุงู ุฏู ฺฉุงุฑุงฺฉุชุฑ newline ูุชูุงู ูุดุงู ูโุฏูุฏุ ุจูุงุจุฑุงู ุจุฑุง ุฏุฑุงูุช ฺฉ ุฏุฑุฎูุงุณุช ุงุฒ ุฌุฑุงูุ ุฎุทูุท ุฑุง ูโฺฏุฑู ุชุง ุฒูุงู ฺฉู ุจู ฺฉ ุฎุท ุฎุงู ุจุฑุณู. ูพุณ ุงุฒ ุฌูุนโุขูุฑ ุฎุทูุท ุฏุฑ ุจุฑุฏุงุฑุ ุขูโูุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑูุช ุฏุจุงฺฏ ุฒุจุง ฺุงูพ ูโฺฉูู ุชุง ุจุชูุงูู ุฏุณุชูุฑุงูุนููโูุง ฺฉู ูุฑูุฑฺฏุฑ ูุจ ุจู ุณุฑูุฑ ูุง ุงุฑุณุงู ูโฺฉูุฏ ุฑุง ุจุจูู.</p>
<p>ุจุงุฏ ุงู ฺฉุฏ ุฑุง ุงูุชุญุงู ฺฉูู! ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฏูุจุงุฑู ฺฉ ุฏุฑุฎูุงุณุช ุฏุฑ ูุฑูุฑฺฏุฑ ูุจ ุงุฑุณุงู ฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููฺูุงู ุฏุฑ ูุฑูุฑฺฏุฑ ฺฉ ุตูุญู ุฎุทุง ุฎูุงูู ุฏุฏุ ุงูุง ุฎุฑูุฌ ุจุฑูุงูู ุฏุฑ ุชุฑููุงู ุงฺฉููู ูุดุงุจู ุงู ุฎูุงูุฏ ุจูุฏ:</p>
<pre><code class="language-console">$ cargo run
   Compiling hello v0.1.0 (file:///projects/hello)
    Finished dev [unoptimized + debuginfo] target(s) in 0.42s
     Running `target/debug/hello`
Request: [
    "GET / HTTP/1.1",
    "Host: 127.0.0.1:7878",
    "User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:99.0) Gecko/20100101 Firefox/99.0",
    "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8",
    "Accept-Language: en-US,en;q=0.5",
    "Accept-Encoding: gzip, deflate, br",
    "DNT: 1",
    "Connection: keep-alive",
    "Upgrade-Insecure-Requests: 1",
    "Sec-Fetch-Dest: document",
    "Sec-Fetch-Mode: navigate",
    "Sec-Fetch-Site: none",
    "Sec-Fetch-User: ?1",
    "Cache-Control: max-age=0",
]
</code></pre>
<p>ุจุณุชู ุจู ูุฑูุฑฺฏุฑ ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏุ ููฺฉู ุงุณุช ุฎุฑูุฌ ฺฉู ูุชูุงูุช ุฏุฑุงูุช ฺฉูุฏ. ุงฺฉููู ฺฉู ุฏุงุฏูโูุง ุฏุฑุฎูุงุณุช ุฑุง ฺุงูพ ูโฺฉููุ ูโุชูุงูู ุฏูู ุฏุฑุงูุช ฺูุฏู ุงุชุตุงู ุงุฒ ฺฉ ุฏุฑุฎูุงุณุช ูุฑูุฑฺฏุฑ ุฑุง ุจุง ูฺฏุงู ฺฉุฑุฏู ุจู ูุณุฑ ุจุนุฏ ุงุฒ <code>GET</code> ุฏุฑ ุฎุท ุงูู ุฏุฑุฎูุงุณุช ูุชูุฌู ุดูู. ุงฺฏุฑ ุงุชุตุงูุงุช ุชฺฉุฑุงุฑ ููู <em>/</em> ุฑุง ุฏุฑุฎูุงุณุช ฺฉููุฏุ ูโุฏุงูู ฺฉู ูุฑูุฑฺฏุฑ ุณุน ุฏุงุฑุฏ <em>/</em> ุฑุง ุจุงุฑูุง ู ุจุงุฑูุง ุฏุฑุฎูุงุณุช ฺฉูุฏ ุฒุฑุง ูพุงุณุฎ ุงุฒ ุจุฑูุงูู ูุง ุฏุฑุงูุช ููโฺฉูุฏ.</p>
<p>ุจุงุฏ ุงู ุฏุงุฏูโูุง ุฏุฑุฎูุงุณุช ุฑุง ุชุฌุฒู ฺฉูู ุชุง ูุชูุฌู ุดูู ูุฑูุฑฺฏุฑ ุงุฒ ุจุฑูุงูู ูุง ฺู ฺุฒ ูโุฎูุงูุฏ.</p>
<h3 id="ูฺฏุงู-ุฏููุชุฑ-ุจู-ฺฉ-ุฏุฑุฎูุงุณุช-http"><a class="header" href="#ูฺฏุงู-ุฏููุชุฑ-ุจู-ฺฉ-ุฏุฑุฎูุงุณุช-http">ูฺฏุงู ุฏููโุชุฑ ุจู ฺฉ ุฏุฑุฎูุงุณุช HTTP</a></h3>
<p>HTTP ฺฉ ูพุฑูุชฺฉู ูุจุชู ุจุฑ ูุชู ุงุณุช ู ฺฉ ุฏุฑุฎูุงุณุช ูุฑูุช ุฒุฑ ุฑุง ุฏุงุฑุฏ:</p>
<pre><code class="language-text">Method Request-URI HTTP-Version CRLF
headers CRLF
message-body
</code></pre>
<p>ุฎุท ุงูู <em>ุฎุท ุฏุฑุฎูุงุณุช</em> ุงุณุช ฺฉู ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ุขูฺู client ุฏุฑุฎูุงุณุช ูโฺฉูุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ูุณูุช ุงูู ุฎุท ุฏุฑุฎูุงุณุชุ <em>method</em> ุงุณุชูุงุฏูโุดุฏู ุฑุง ูุดุงู ูโุฏูุฏุ ูุงููุฏ <code>GET</code> ุง <code>POST</code>ุ ฺฉู ุชูุถุญ ูโุฏูุฏ client ฺฺฏููู ุงู ุฏุฑุฎูุงุณุช ุฑุง ุงูุฌุงู ูโุฏูุฏ. client ูุง ุงุฒ ฺฉ ุฏุฑุฎูุงุณุช <code>GET</code> ุงุณุชูุงุฏู ฺฉุฑุฏู ุงุณุชุ ุจู ุงู ูุนู ฺฉู ุฏุฑ ุญุงู ุฏุฑุฎูุงุณุช ุงุทูุงุนุงุช ุงุณุช.</p>
<p>ูุณูุช ุจุนุฏ ุฎุท ุฏุฑุฎูุงุณุชุ <em>/</em> ุงุณุช ฺฉู ูุดุงูโุฏููุฏู <em>ุดูุงุณู ููุจุน ฺฉุณุงู</em> <em>(Uniform Resource Identifier ุง URI)</em> ุงุณุช ฺฉู client ุฏุฑุฎูุงุณุช ูโฺฉูุฏ: ฺฉ URI ุชูุฑุจุงู ุงูุง ูู ฺฉุงููุงู ููุงู <em>ูฺฉุงูโููุง ููุจุน ฺฉุณุงู</em> <em>(Uniform Resource Locator ุง URL)</em> ุงุณุช. ุชูุงูุช ุจู URIs ู URLs ุจุฑุง ุงูุฏุงู ูุง ุฏุฑ ุงู ูุตู ููู ูุณุชุ ุงูุง ุงุณุชุงูุฏุงุฑุฏ HTTP ุงุฒ ุงุตุทูุงุญ URI ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุฐูู URL ุฑุง ุจู ุฌุง URI ุฏุฑ ูุธุฑ ุจฺฏุฑู.</p>
<p>ูุณูุช ุขุฎุฑ ูุณุฎู HTTP ุงุณุช ฺฉู client ุงุณุชูุงุฏู ูโฺฉูุฏุ ู ุณูพุณ ุฎุท ุฏุฑุฎูุงุณุช ุจุง ฺฉ <em>ุฏูุจุงูู CRLF</em> ูพุงุงู ูโุงุจุฏ. (CRLF ุจู ูุนูุง <em>ุจุงุฒฺฏุดุช ุญุงูู</em> ู <em>ุชุบุฐู ุฎุท</em> ุงุณุช ฺฉู ุงุตุทูุงุญุงุช ุงุฒ ุฑูุฒูุง ูุงุดู ุชุงูพ ูุณุชูุฏ!) ุฏูุจุงูู CRLF ููฺูู ูโุชูุงูุฏ ุจู ุตูุฑุช <code>\r\n</code> ููุดุชู ุดูุฏุ ุฌุง ฺฉู <code>\r</code> ฺฉ ุจุงุฒฺฏุดุช ุญุงูู ู <code>\n</code> ฺฉ ุชุบุฐู ุฎุท ุงุณุช. ุฏูุจุงูู CRLF ุฎุท ุฏุฑุฎูุงุณุช ุฑุง ุงุฒ ุจูู ุฏุงุฏูโูุง ุฏุฑุฎูุงุณุช ุฌุฏุง ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููุช CRLF ฺุงูพ ูโุดูุฏุ ุจู ุฌุง <code>\r\n</code>ุ ฺฉ ุฎุท ุฌุฏุฏ ุดุฑูุน ูโุดูุฏ.</p>
<p>ุจุง ูฺฏุงู ฺฉุฑุฏู ุจู ุฏุงุฏูโูุง ุฎุท ุฏุฑุฎูุงุณุช ฺฉู ุชุงฺฉููู ุงุฒ ุงุฌุฑุง ุจุฑูุงูู ุฎูุฏ ุฏุฑุงูุช ฺฉุฑุฏูโุงูุ ูโุจูู ฺฉู <code>GET</code> ูุชุฏ ุงุณุชุ <em>/</em> ุดูุงุณู URI ุฏุฑุฎูุงุณุชโุดุฏู ุงุณุชุ ู <code>HTTP/1.1</code> ูุณุฎู ุงุณุช.</p>
<p>ุจุนุฏ ุงุฒ ุฎุท ุฏุฑุฎูุงุณุชุ ุฎุทูุท ุจุงูโูุงูุฏู ุงุฒ <code>Host:</code> ุจู ุจุนุฏ ูุฏุฑูุง ูุณุชูุฏ. ุฏุฑุฎูุงุณุชโูุง <code>GET</code> ุจุฏูู ูุฏุงุฑูุฏ.</p>
<p>ุณุน ฺฉูุฏ ฺฉ ุฏุฑุฎูุงุณุช ุงุฒ ูุฑูุฑฺฏุฑ ุฏฺฏุฑ ุง ุขุฏุฑุณ ูุชูุงูุชุ ูุงููุฏ <em>127.0.0.1:7878/test</em>ุ ุงุฑุณุงู ฺฉูุฏ ุชุง ุจุจูุฏ ุฏุงุฏูโูุง ุฏุฑุฎูุงุณุช ฺฺฏููู ุชุบุฑ ูโฺฉููุฏ.</p>
<p>ุงฺฉููู ฺฉู ูโุฏุงูู ูุฑูุฑฺฏุฑ ฺู ฺุฒ ูโุฎูุงูุฏุ ุจุงุฏ ุฏุงุฏูโุง ุฑุง ุจู ุขู ุจุงุฒฺฏุฑุฏุงูู!</p>
<h3 id="ููุดุชู-ฺฉ-ูพุงุณุฎ"><a class="header" href="#ููุดุชู-ฺฉ-ูพุงุณุฎ">ููุดุชู ฺฉ ูพุงุณุฎ</a></h3>
<p>ูุง ูุตุฏ ุฏุงุฑู ุงุฑุณุงู ุฏุงุฏู ุฏุฑ ูพุงุณุฎ ุจู ฺฉ ุฏุฑุฎูุงุณุช client ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู. ูพุงุณุฎโูุง ูุฑูุช ุฒุฑ ุฑุง ุฏุงุฑูุฏ:</p>
<pre><code class="language-text">HTTP-Version Status-Code Reason-Phrase CRLF
headers CRLF
message-body
</code></pre>
<p>ุฎุท ุงูู ฺฉ <em>ุฎุท ูุถุนุช</em> ุงุณุช ฺฉู ุดุงูู ูุณุฎู HTTP ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ูพุงุณุฎุ ฺฉ ฺฉุฏ ูุถุนุช ุนุฏุฏ ฺฉู ูุชุฌู ุฏุฑุฎูุงุณุช ุฑุง ุฎูุงุตู ูโฺฉูุฏุ ู ฺฉ ุนุจุงุฑุช ุฏูู ฺฉู ุชูุถุญ ูุชู ุจุฑุง ฺฉุฏ ูุถุนุช ุงุฑุงุฆู ูโุฏูุฏ. ูพุณ ุงุฒ ุฏูุจุงูู CRLFุ ูุฑ ูุฏุฑ ู ุณูพุณ ฺฉ ุฏูุจุงูู CRLF ุฏฺฏุฑ ู ุจุฏูู ูพุงุณุฎ ูุฑุงุฑ ูโฺฏุฑุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ูพุงุณุฎ ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ุงุฒ ูุณุฎู HTTP 1.1 ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉุฏ ูุถุนุช 200 ุฏุงุฑุฏุ ุนุจุงุฑุช ุฏูู โOKโ ุงุณุชุ ูฺ ูุฏุฑ ู ุจุฏููโุง ูุฏุงุฑุฏ:</p>
<pre><code class="language-text">HTTP/1.1 200 OK\r\n\r\n
</code></pre>
<p>ฺฉุฏ ูุถุนุช 200 ูพุงุณุฎ ุงุณุชุงูุฏุงุฑุฏ ููููุช ุงุณุช. ุงู ูุชู ฺฉ ูพุงุณุฎ HTTP ฺฉูฺฺฉ ู ููููุชโุขูุฒ ุงุณุช. ุจุงุฏ ุงู ุฑุง ุจู ุนููุงู ูพุงุณุฎ ุฎูุฏ ุจู ฺฉ ุฏุฑุฎูุงุณุช ูููู ุจู ุฌุฑุงู ุจููุณู! ุงุฒ ุชุงุจุน <code>handle_connection</code>ุ <code>println!</code> ฺฉู ุฏุงุฏูโูุง ุฏุฑุฎูุงุณุช ุฑุง ฺุงูพ ูโฺฉุฑุฏุ ุญุฐู ฺฉูุฏ ู ุขู ุฑุง ุจุง ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ณ ุฌุงฺฏุฒู ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">use std::{
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        handle_connection(stream);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn handle_connection(mut stream: TcpStream) {
    let buf_reader = BufReader::new(&amp;stream);
    let http_request: Vec&lt;_&gt; = buf_reader
        .lines()
        .map(|result| result.unwrap())
        .take_while(|line| !line.is_empty())
        .collect();

    let response = "HTTP/1.1 200 OK\r\n\r\n";

    stream.write_all(response.as_bytes()).unwrap();
}</code></pre></pre>
<figcaption>Listing 21-3: ููุดุชู ฺฉ ูพุงุณุฎ HTTP ฺฉูฺฺฉ ู ููููุชโุขูุฒ ุจู ุฌุฑุงู</figcaption>
</figure>
<p>ุฎุท ุฌุฏุฏ ุงูู ูุชุบุฑ <code>response</code> ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ุฏุงุฏู ูพุงู ููููุช ุฑุง ุฏุฑ ุฎูุฏ ูฺฏู ูโุฏุงุฑุฏ. ุณูพุณ ุจุง ูุฑุงุฎูุงู <code>as_bytes</code> ุฑู <code>response</code> ุฏุงุฏู ุฑุดุชูโุง ุฑุง ุจู ุจุงุชโูุง ุชุจุฏู ูโฺฉูู. ูุชุฏ <code>write_all</code> ุฑู <code>stream</code> ฺฉ <code>&amp;[u8]</code> ูโฺฏุฑุฏ ู ุขู ุจุงุชโูุง ุฑุง ูุณุชููุงู ุจู ุงุชุตุงู ุงุฑุณุงู ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ุนููุงุช <code>write_all</code> ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏุ ูุงููุฏ ูุจูุ ุฑู ูุฑ ูุชุฌู ุฎุทุง ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ูโฺฉูู. ุจุงุฒ ููุ ุฏุฑ ฺฉ ุจุฑูุงูู ูุงูุน ุจุงุฏ ุงูุฌุง ูุฏุฑุช ุฎุทุง ุงุถุงูู ฺฉูุฏ.</p>
<p>ุจุง ุงู ุชุบุฑุงุชุ ุจุงุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉูู ู ฺฉ ุฏุฑุฎูุงุณุช ุงุฑุณุงู ฺฉูู. ุฏฺฏุฑ ูฺ ุฏุงุฏูโุง ุจู ุชุฑููุงู ฺุงูพ ููโฺฉููุ ุจูุงุจุฑุงู ูฺ ุฎุฑูุฌโุง ุจู ุบุฑ ุงุฒ ุฎุฑูุฌ Cargo ูุฎูุงูุฏ ุฏุฏ. ููุช ุขุฏุฑุณ <em>127.0.0.1:7878</em> ุฑุง ุฏุฑ ฺฉ ูุฑูุฑฺฏุฑ ูุจ ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏุ ุจุงุฏ ฺฉ ุตูุญู ุฎุงู ุจู ุฌุง ฺฉ ุฎุทุง ุฏุฑุงูุช ฺฉูุฏ. ุดูุง ุงฺฉููู ุฏุฑุงูุช ฺฉ ุฏุฑุฎูุงุณุช HTTP ู ุงุฑุณุงู ฺฉ ูพุงุณุฎ ุฑุง ุจู ุตูุฑุช ุฏุณุช ฺฉุฏููุณ ฺฉุฑุฏูโุงุฏ!</p>
<h3 id="ุจุงุฒฺฏุฑุฏุงูุฏู-html-ูุงูุน-returning-real-html"><a class="header" href="#ุจุงุฒฺฏุฑุฏุงูุฏู-html-ูุงูุน-returning-real-html">ุจุงุฒฺฏุฑุฏุงูุฏู HTML ูุงูุน (Returning Real HTML)</a></h3>
<p>ุจุงุฏ ุนููฺฉุฑุฏ ุจุงุฒฺฏุฑุฏุงูุฏู ฺุฒ ุจุด ุงุฒ ฺฉ ุตูุญู ุฎุงู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู. ูุงู ุฌุฏุฏ ุจู ูุงู <em>hello.html</em> ุฏุฑ ุฑุดู ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู ุฎูุฏ ุงุฌุงุฏ ฺฉูุฏุ ูู ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>src</em>. ูโุชูุงูุฏ ูุฑ HTML ฺฉู ูโุฎูุงูุฏ ูุงุฑุฏ ฺฉูุฏุ ูุณุช ฒฑ-ด ฺฉ ููููู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: hello.html</span>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Hello!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello!&lt;/h1&gt;
    &lt;p&gt;Hi from Rust&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<figcaption>Listing 21-4: ฺฉ ูุงู ููููู HTML ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุฏุฑ ูพุงุณุฎ</figcaption>
</figure>
<p>ุงู ฺฉ ุณูุฏ HTML5 ุญุฏุงูู ุจุง ฺฉ ุนููุงู ู ููุฏุงุฑ ูุชู ุงุณุช. ุจุฑุง ุจุงุฒฺฏุฑุฏุงูุฏู ุงู ูุงู ุงุฒ ุณุฑูุฑ ููฺฏุงู ุฏุฑุงูุช ฺฉ ุฏุฑุฎูุงุณุชุ ฺฉุฏ <code>handle_connection</code> ุฑุง ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฒฑ-ต ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ุชุบุฑ ูโุฏูู ุชุง ูุงู HTML ุฑุง ุจุฎูุงูุฏุ ุขู ุฑุง ุจู ุนููุงู ุจุฏูู ูพุงุณุฎ ุงุถุงูู ฺฉูุฏ ู ุงุฑุณุงู ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use std::{
    fs,
    io::{prelude::*, BufReader},
    net::{TcpListener, TcpStream},
};
// --snip--

<span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        handle_connection(stream);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn handle_connection(mut stream: TcpStream) {
    let buf_reader = BufReader::new(&amp;stream);
    let http_request: Vec&lt;_&gt; = buf_reader
        .lines()
        .map(|result| result.unwrap())
        .take_while(|line| !line.is_empty())
        .collect();

    let status_line = "HTTP/1.1 200 OK";
    let contents = fs::read_to_string("hello.html").unwrap();
    let length = contents.len();

    let response =
        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");

    stream.write_all(response.as_bytes()).unwrap();
}</code></pre></pre>
<figcaption>Listing 21-5: ุงุฑุณุงู ูุญุชูุง <em>hello.html</em> ุจู ุนููุงู ุจุฏูู ูพุงุณุฎ</figcaption>
</figure>
<p>ูุง <code>fs</code> ุฑุง ุจู ุฏุณุชูุฑ <code>use</code> ุงุถุงูู ฺฉุฑุฏูโุงู ุชุง ูุงฺูู ุณุณุชู ูุงู ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑุง ูุงุฑุฏ ุฏุงููู ฺฉูู. ฺฉุฏ ฺฉู ูุญุชูุง ฺฉ ูุงู ุฑุง ุจู ฺฉ ุฑุดุชู ูโุฎูุงูุฏ ุจุงุฏ ุขุดูุง ุจู ูุธุฑ ุจุฑุณุฏุ ูุง ุฏุฑ ูุตู ฑฒ ุฒูุงู ฺฉู ูุญุชูุง ฺฉ ูุงู ุฑุง ุจุฑุง ูพุฑูฺู ูุฑูุฏ/ุฎุฑูุฌ ุฎูุฏ ุฎูุงูุฏู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏู (ูุณุช ฑฒ-ด).</p>
<p>ุณูพุณุ ุงุฒ <code>format!</code> ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ูุญุชูุง ูุงู ุจู ุนููุงู ุจุฏูู ูพุงุณุฎ ููููุช ุงุณุชูุงุฏู ูโฺฉูู. ุจุฑุง ุงุทููุงู ุงุฒ ฺฉ ูพุงุณุฎ HTTP ูุนุชุจุฑุ ูุฏุฑ <code>Content-Length</code> ุฑุง ุงุถุงูู ูโฺฉูู ฺฉู ุจู ุงูุฏุงุฒู ุจุฏูู ูพุงุณุฎ ูุง ุชูุธู ุดุฏู ุงุณุชุ ฺฉู ุฏุฑ ุงู ููุฑุฏ ุงูุฏุงุฒู ูุงู <code>hello.html</code> ุงุณุช.</p>
<p>ุงู ฺฉุฏ ุฑุง ุจุง ุฏุณุชูุฑ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ ู ุขุฏุฑุณ <em>127.0.0.1:7878</em> ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏ ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏุ ุจุงุฏ HTML ุฎูุฏ ุฑุง ฺฉู ุจู ุฏุฑุณุช ุฑูุฏุฑ ุดุฏู ุงุณุช ุจุจูุฏ!</p>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง ุฏุงุฏูโูุง ุฏุฑุฎูุงุณุช ุฏุฑ <code>http_request</code> ุฑุง ูุงุฏุฏู ูโฺฏุฑู ู ููุท ูุญุชูุง ูุงู HTML ุฑุง ุจุฏูู ุดุฑุท ุจุงุฒูโฺฏุฑุฏุงูู. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุงฺฏุฑ ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏ ุขุฏุฑุณ <em>127.0.0.1:7878/something-else</em> ุฑุง ุฏุฑุฎูุงุณุช ฺฉูุฏุ ููฺูุงู ููู ูพุงุณุฎ HTML ุฑุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ. ุฏุฑ ุงู ูุญุธูุ ุณุฑูุฑ ูุง ุจุณุงุฑ ูุญุฏูุฏ ุงุณุช ู ฺฉุงุฑูุง ฺฉู ุงฺฉุซุฑ ูุจ ุณุฑูุฑูุง ุงูุฌุงู ูโุฏููุฏ ุฑุง ุงูุฌุงู ููโุฏูุฏ. ูุง ูโุฎูุงูู ูพุงุณุฎโูุง ุฎูุฏ ุฑุง ุจุฑ ุงุณุงุณ ุฏุฑุฎูุงุณุช ุณูุงุฑุด ฺฉูู ู ููุท ูุงู HTML ุฑุง ุจุฑุง ฺฉ ุฏุฑุฎูุงุณุช ุฎูุดโุณุงุฎุช ุจู <em>/</em> ุจุงุฒฺฏุฑุฏุงูู.</p>
<h3 id="ุงุนุชุจุงุฑุณูุฌ-ุฏุฑุฎูุงุณุช-ู-ูพุงุณุฎุฏู-ุงูุชุฎุงุจ"><a class="header" href="#ุงุนุชุจุงุฑุณูุฌ-ุฏุฑุฎูุงุณุช-ู-ูพุงุณุฎุฏู-ุงูุชุฎุงุจ">ุงุนุชุจุงุฑุณูุฌ ุฏุฑุฎูุงุณุช ู ูพุงุณุฎโุฏู ุงูุชุฎุงุจ</a></h3>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ูุจ ุณุฑูุฑ ูุง ูุญุชูุง ูุงู HTML ุฑุง ุจุฏูู ุชูุฌู ุจู ุฏุฑุฎูุงุณุช client ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุจุงุฏ ุนููฺฉุฑุฏ ุงุถุงูู ฺฉูู ุชุง ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุฑูุฑฺฏุฑ <em>/</em> ุฑุง ุฏุฑุฎูุงุณุช ฺฉุฑุฏู ุจุงุดุฏุ ุณูพุณ ูุงู HTML ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ ู ุงฺฏุฑ ูุฑูุฑฺฏุฑ ฺุฒ ุฏฺฏุฑ ุฏุฑุฎูุงุณุช ฺฉุฑุฏุ ฺฉ ุฎุทุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุจุฑุง ุงู ฺฉุงุฑ ุจุงุฏ ุชุงุจุน <code>handle_connection</code> ุฑุง ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฒฑ-ถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช ุชุบุฑ ุฏูู. ุงู ฺฉุฏ ุฌุฏุฏ ูุญุชูุง ุฏุฑุฎูุงุณุช ุฏุฑุงูุช ุฑุง ุจุง ุขูฺู ฺฉู ูโุฏุงูู ฺฉ ุฏุฑุฎูุงุณุช ุจุฑุง <em>/</em> ุจุงุฏ ุจู ูุธุฑ ุจุฑุณุฏ ููุงุณู ูโฺฉูุฏ ู ุจููฺฉโูุง <code>if</code> ู <code>else</code> ุฑุง ุงุถุงูู ูโฺฉูุฏ ุชุง ุฏุฑุฎูุงุณุชโูุง ุจู ุตูุฑุช ูุชูุงูุช ูุฏุฑุช ุดููุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        handle_connection(stream);
</span><span class="boring">    }
</span><span class="boring">}
</span>// --snip--

fn handle_connection(mut stream: TcpStream) {
    let buf_reader = BufReader::new(&amp;stream);
    let request_line = buf_reader.lines().next().unwrap().unwrap();

    if request_line == "GET / HTTP/1.1" {
        let status_line = "HTTP/1.1 200 OK";
        let contents = fs::read_to_string("hello.html").unwrap();
        let length = contents.len();

        let response = format!(
            "{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}"
        );

        stream.write_all(response.as_bytes()).unwrap();
    } else {
        // some other request
    }
}</code></pre></pre>
<figcaption>Listing 21-6: ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง <em>/</em> ุจู ุตูุฑุช ูุชูุงูุช ุจุง ุณุงุฑ ุฏุฑุฎูุงุณุชโูุง</figcaption>
</figure>
<p>ูุง ููุท ุจู ุฎุท ุงูู ุฏุฑุฎูุงุณุช HTTP ูฺฏุงู ุฎูุงูู ฺฉุฑุฏุ ุจูุงุจุฑุงู ุจู ุฌุง ุฎูุงูุฏู ฺฉู ุฏุฑุฎูุงุณุช ุฏุฑ ฺฉ ุจุฑุฏุงุฑุ ุงุฒ <code>next</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุงููู ุขุชู ุงุฒ iterator ุฑุง ุจฺฏุฑู. ุงููู <code>unwrap</code> ููุฏุงุฑ <code>Option</code> ุฑุง ูุฏุฑุช ูโฺฉูุฏ ู ุงฺฏุฑ iterator ูฺ ุขุชู ูุฏุงุดุชู ุจุงุดุฏ ุจุฑูุงูู ุฑุง ูุชููู ูโฺฉูุฏ. ุฏููู <code>unwrap</code> ููุฏุงุฑ <code>Result</code> ุฑุง ูุฏุฑุช ูโฺฉูุฏ ู ููุงู ุงุซุฑ ุฑุง ุฏุงุฑุฏ ฺฉู <code>unwrap</code> ุฏุฑ <code>map</code> ุงุถุงููโุดุฏู ุฏุฑ ูุณุช ฒฑ-ฒ ุฏุงุดุช.</p>
<p>ุณูพุณุ ููุฏุงุฑ <code>request_line</code> ุฑุง ุจุฑุฑุณ ูโฺฉูู ุชุง ุจุจูู ุขุง ุจุฑุงุจุฑ ุจุง ุฎุท ุฏุฑุฎูุงุณุช ฺฉ ุฏุฑุฎูุงุณุช GET ุจู ูุณุฑ <em>/</em> ุงุณุช ุง ุฎุฑ. ุงฺฏุฑ ุงูโุทูุฑ ุจุงุดุฏุ ุจููฺฉ <code>if</code> ูุญุชูุง ูุงู HTML ูุง ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ุงฺฏุฑ ููุฏุงุฑ <code>request_line</code> ุจุฑุงุจุฑ ุจุง ุฏุฑุฎูุงุณุช GET ุจู ูุณุฑ <em>/</em> ูุจุงุดุฏุ ุจู ุงู ูุนู ุงุณุช ฺฉู ฺฉ ุฏุฑุฎูุงุณุช ุฏฺฏุฑ ุฏุฑุงูุช ฺฉุฑุฏูโุงู. ุฏุฑ ุจููฺฉ <code>else</code> ฺฉุฏ ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ ุชุง ุจู ุณุงุฑ ุฏุฑุฎูุงุณุชโูุง ูพุงุณุฎ ุฏูุฏ.</p>
<p>ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุขุฏุฑุณ <em>127.0.0.1:7878</em> ุฑุง ุฏุฑุฎูุงุณุช ฺฉูุฏุ ุจุงุฏ HTML ููุฌูุฏ ุฏุฑ ูุงู <em>hello.html</em> ุฑุง ุฏุฑุงูุช ฺฉูุฏ. ุงฺฏุฑ ุฏุฑุฎูุงุณุช ุฏฺฏุฑ ูุงููุฏ <em>127.0.0.1:7878/something-else</em> ุงุฑุณุงู ฺฉูุฏุ ฺฉ ุฎุทุง ุงุชุตุงู ูุดุงุจู ุขูฺู ุฏุฑ ุงุฌุฑุง ฺฉุฏูุง ูุณุช ฒฑ-ฑ ู ฒฑ-ฒ ุฏุฏุฏ ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุญุงูุง ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ท ุฑุง ุจู ุจููฺฉ <code>else</code> ุงุถุงูู ฺฉูุฏ ุชุง ูพุงุณุฎ ุจุง ฺฉุฏ ูุถุนุช 404 ุจุงุฒฺฏุฑุฏุงูุฏุ ฺฉู ูุดุงู ูโุฏูุฏ ูุญุชูุง ุฏุฑุฎูุงุณุชโุดุฏู ูพุฏุง ูุดุฏ. ููฺูู ููุฏุงุฑ HTML ุจุฑุง ฺฉ ุตูุญู ุฎุทุง ุจุงุฒูโฺฏุฑุฏุงูู ุชุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจู ฺฉุงุฑุจุฑ ููุง ููุงุด ุฏุงุฏู ุดูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        handle_connection(stream);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn handle_connection(mut stream: TcpStream) {
</span><span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span><span class="boring">
</span><span class="boring">    if request_line == "GET / HTTP/1.1" {
</span><span class="boring">        let status_line = "HTTP/1.1 200 OK";
</span><span class="boring">        let contents = fs::read_to_string("hello.html").unwrap();
</span><span class="boring">        let length = contents.len();
</span><span class="boring">
</span><span class="boring">        let response = format!(
</span><span class="boring">            "{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}"
</span><span class="boring">        );
</span><span class="boring">
</span><span class="boring">        stream.write_all(response.as_bytes()).unwrap();
</span>    // --snip--
    } else {
        let status_line = "HTTP/1.1 404 NOT FOUND";
        let contents = fs::read_to_string("404.html").unwrap();
        let length = contents.len();

        let response = format!(
            "{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}"
        );

        stream.write_all(response.as_bytes()).unwrap();
    }
<span class="boring">}</span></code></pre></pre>
<figcaption>Listing 21-7: ูพุงุณุฎโุฏู ุจุง ฺฉุฏ ูุถุนุช 404 ู ฺฉ ุตูุญู ุฎุทุง ุงฺฏุฑ ฺุฒ ุจู ุบุฑ ุงุฒ <em>/</em> ุฏุฑุฎูุงุณุช ุดูุฏ</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ูพุงุณุฎ ูุง ฺฉ ุฎุท ูุถุนุช ุจุง ฺฉุฏ ูุถุนุช 404 ู ุนุจุงุฑุช ุฏูู <code>NOT FOUND</code> ุฏุงุฑุฏ. ุจุฏูู ูพุงุณุฎ HTML ููุฌูุฏ ุฏุฑ ูุงู <em>404.html</em> ุฎูุงูุฏ ุจูุฏ. ุจุงุฏ ูุงู <em>404.html</em> ุฑุง ุฏุฑ ฺฉูุงุฑ ูุงู <em>hello.html</em> ุจุฑุง ุตูุญู ุฎุทุง ุงุฌุงุฏ ฺฉูุฏุ ุจุงุฒ ููุ ูโุชูุงูุฏ ูุฑ HTML ฺฉู ูโุฎูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุง ุงุฒ HTML ููููู ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ธ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: 404.html</span>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Hello!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Oops!&lt;/h1&gt;
    &lt;p&gt;Sorry, I don't know what you're asking for.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<figcaption>Listing 21-8: ูุญุชูุง ููููู ุจุฑุง ุตูุญูโุง ฺฉู ุจุง ูุฑ ูพุงุณุฎ 404 ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ</figcaption>
</figure>
<p>ุจุง ุงู ุชุบุฑุงุชุ ุณุฑูุฑ ุฎูุฏ ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ. ุฏุฑุฎูุงุณุช ุขุฏุฑุณ <em>127.0.0.1:7878</em> ุจุงุฏ ูุญุชูุง ูุงู <em>hello.html</em> ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ู ูุฑ ุฏุฑุฎูุงุณุช ุฏฺฏุฑ ูุงููุฏ <em>127.0.0.1:7878/foo</em> ุจุงุฏ HTML ุฎุทุง ุงุฒ ูุงู <em>404.html</em> ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ.</p>
<h3 id="ฺฉู-ุจุงุฒุณุงุฒ-refactoring"><a class="header" href="#ฺฉู-ุจุงุฒุณุงุฒ-refactoring">ฺฉู ุจุงุฒุณุงุฒ (Refactoring)</a></h3>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุจููฺฉโูุง <code>if</code> ู <code>else</code> ููุฏุงุฑ ุฒุงุฏ ุชฺฉุฑุงุฑ ุฏุงุฑูุฏ: ูุฑ ุฏู ูุงูโูุง ุฑุง ูโุฎูุงููุฏ ู ูุญุชูุง ูุงูโูุง ุฑุง ุจู ุฌุฑุงู ูโููุณูุฏ. ุชููุง ุชูุงูุชโูุง ุฎุท ูุถุนุช ู ูุงู ูุงู ูุณุชูุฏ. ุจุงุฏ ฺฉุฏ ุฑุง ูุฎุชุตุฑุชุฑ ฺฉูู ู ุงู ุชูุงูุชโูุง ุฑุง ุจู ุฎุทูุท ุฌุฏุงฺฏุงูู <code>if</code> ู <code>else</code> ุงูุชูุงู ุฏูู ฺฉู ููุงุฏุฑ ุฎุท ูุถุนุช ู ูุงู ูุงู ุฑุง ุจู ูุชุบุฑูุง ุงุฎุชุตุงุต ุฏููุฏุ ุณูพุณ ูโุชูุงูู ุงุฒ ุงู ูุชุบุฑูุง ุจู ุทูุฑ ุดุฑุท ุจุฑุง ุฎูุงูุฏู ูุงู ู ููุดุชู ูพุงุณุฎ ุงุณุชูุงุฏู ฺฉูู. ูุณุช ฒฑ-น ฺฉุฏ ูุชุฌูโุดุฏู ูพุณ ุงุฒ ุฌุงฺฏุฒู ุจููฺฉโูุง ุจุฒุฑฺฏ <code>if</code> ู <code>else</code> ุฑุง ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        handle_connection(stream);
</span><span class="boring">    }
</span><span class="boring">}
</span>// --snip--

fn handle_connection(mut stream: TcpStream) {
    // --snip--
<span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span>
    let (status_line, filename) = if request_line == "GET / HTTP/1.1" {
        ("HTTP/1.1 200 OK", "hello.html")
    } else {
        ("HTTP/1.1 404 NOT FOUND", "404.html")
    };

    let contents = fs::read_to_string(filename).unwrap();
    let length = contents.len();

    let response =
        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");

    stream.write_all(response.as_bytes()).unwrap();
}</code></pre></pre>
<figcaption>Listing 21-9: ุจุงุฒุณุงุฒ ุจููฺฉโูุง <code>if</code> ู <code>else</code> ุจุฑุง ุดุงูู ุดุฏู ุชููุง ฺฉุฏ ฺฉู ุจู ุฏู ุญุงูุช ูุชูุงูุช ุงุณุช</figcaption>
</figure>
<p>ุงฺฉููู ุจููฺฉโูุง <code>if</code> ู <code>else</code> ุชููุง ููุงุฏุฑ ููุงุณุจ ุจุฑุง ุฎุท ูุถุนุช ู ูุงู ูุงู ุฑุง ุฏุฑ ฺฉ ุชุงูพู ุจุงุฒูโฺฏุฑุฏุงููุฏุ ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูฺฏู ุฏุฑ ุฏุณุชูุฑ <code>let</code>ุ ุงู ุฏู ููุฏุงุฑ ุจู <code>status_line</code> ู <code>filename</code> ุชุฎุตุต ุฏุงุฏู ูโุดููุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฑน ุจุญุซ ุดุฏ.</p>
<p>ฺฉุฏ ฺฉู ูุจูุงู ุชฺฉุฑุงุฑ ุจูุฏ ุงฺฉููู ุฎุงุฑุฌ ุงุฒ ุจููฺฉโูุง <code>if</code> ู <code>else</code> ูุฑุงุฑ ุฏุงุฑุฏ ู ุงุฒ ูุชุบุฑูุง <code>status_line</code> ู <code>filename</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุชุดุฎุต ุชูุงูุช ุจู ุฏู ุญุงูุช ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ ู ุจู ุงู ูุนู ุงุณุช ฺฉู ุงฺฏุฑ ุจุฎูุงูู ูุญูู ุฎูุงูุฏู ูุงู ู ููุดุชู ูพุงุณุฎ ุฑุง ุชุบุฑ ุฏููุ ุชููุง ฺฉ ูฺฉุงู ุจุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉุฏ ุฏุงุฑู. ุฑูุชุงุฑ ฺฉุฏ ุฏุฑ ูุณุช ฒฑ-น ุจุง ูุณุช ฒฑ-ท ฺฉุณุงู ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุนุงู! ุงฺฉููู ฺฉ ูุจ ุณุฑูุฑ ุณุงุฏู ุจุง ุชูุฑุจุงู ดฐ ุฎุท ฺฉุฏ Rust ุฏุงุฑู ฺฉู ุจู ฺฉ ุฏุฑุฎูุงุณุช ุจุง ฺฉ ุตูุญู ูุญุชูุง ูพุงุณุฎ ูโุฏูุฏ ู ุจู ุชูุงู ุฏุฑุฎูุงุณุชโูุง ุฏฺฏุฑ ฺฉ ูพุงุณุฎ 404 ูโุฏูุฏ.</p>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุณุฑูุฑ ูุง ุฏุฑ ฺฉ Thread ุงุฌุฑุง ูโุดูุฏุ ุจู ุงู ูุนู ฺฉู ุชููุง ูโุชูุงูุฏ ฺฉ ุฏุฑุฎูุงุณุช ุฑุง ุฏุฑ ฺฉ ุฒูุงู ุณุฑูุณ ุฏูุฏ. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ฺฺฏููู ุงู ููุถูุน ูโุชูุงูุฏ ูุดฺฉูโุณุงุฒ ุดูุฏุ ุจุง ุดุจูโุณุงุฒ ุจุฑุฎ ุฏุฑุฎูุงุณุชโูุง ฺฉูุฏ. ุณูพุณ ุณุฑูุฑ ุฑุง ุทูุฑ ุจูุจูุฏ ูโุฏูู ฺฉู ุจุชูุงูุฏ ฺูุฏู ุฏุฑุฎูุงุณุช ุฑุง ููุฒูุงู ูุฏุฑุช ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุชุจุฏู-ุณุฑูุฑ-single-threaded-ุจู-ฺฉ-ุณุฑูุฑ-multithreaded"><a class="header" href="#ุชุจุฏู-ุณุฑูุฑ-single-threaded-ุจู-ฺฉ-ุณุฑูุฑ-multithreaded">ุชุจุฏู ุณุฑูุฑ Single-Threaded ุจู ฺฉ ุณุฑูุฑ Multithreaded</a></h2>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ุณุฑูุฑ ูุฑ ุฏุฑุฎูุงุณุช ุฑุง ุจู ููุจุช ูพุฑุฏุงุฒุด ูโฺฉูุฏุ ุจู ุงู ูุนู ฺฉู ุชุง ุฒูุงู ฺฉู ูพุฑุฏุงุฒุด ุงููู ุงุชุตุงู ุชูุงู ูุดุฏู ุจุงุดุฏุ ุงุชุตุงู ุฏูู ูพุฑุฏุงุฒุด ููโุดูุฏ. ุงฺฏุฑ ุณุฑูุฑ ุฏุฑุฎูุงุณุชโูุง ุจุดุชุฑ ุฏุฑุงูุช ฺฉูุฏุ ุงู ุงุฌุฑุง ุณุฑุงู ฺฉูุชุฑ ู ฺฉูุชุฑ ุจููู ุฎูุงูุฏ ุจูุฏ. ุงฺฏุฑ ุณุฑูุฑ ุฏุฑุฎูุงุณุช ุฏุฑุงูุช ฺฉูุฏ ฺฉู ูพุฑุฏุงุฒุด ุขู ุฒูุงู ุฒุงุฏ ูโุจุฑุฏุ ุฏุฑุฎูุงุณุชโูุง ุจุนุฏ ุจุงุฏ ููุชุธุฑ ุจูุงููุฏ ุชุง ุฏุฑุฎูุงุณุช ุทููุงู ุชูุงู ุดูุฏุ ุญุช ุงฺฏุฑ ุจุชูุงู ุฏุฑุฎูุงุณุชโูุง ุฌุฏุฏ ุฑุง ุจู ุณุฑุนุช ูพุฑุฏุงุฒุด ฺฉุฑุฏ. ูุง ุจุงุฏ ุงู ูุดฺฉู ุฑุง ุฑูุน ฺฉููุ ุงูุง ุงุจุชุฏุง ุจู ุงู ูุดฺฉู ุฏุฑ ุนูู ูฺฏุงู ูโฺฉูู.</p>
<h3 id="ุดุจูุณุงุฒ-ฺฉ-ุฏุฑุฎูุงุณุช-ฺฉูุฏ-ุฏุฑ-ูพุงุฏูุณุงุฒ-ูุนู-ุณุฑูุฑ"><a class="header" href="#ุดุจูุณุงุฒ-ฺฉ-ุฏุฑุฎูุงุณุช-ฺฉูุฏ-ุฏุฑ-ูพุงุฏูุณุงุฒ-ูุนู-ุณุฑูุฑ">ุดุจูโุณุงุฒ ฺฉ ุฏุฑุฎูุงุณุช ฺฉูุฏ ุฏุฑ ูพุงุฏูโุณุงุฒ ูุนู ุณุฑูุฑ</a></h3>
<p>ูุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ฺฺฏููู ฺฉ ุฏุฑุฎูุงุณุช ุจุง ูพุฑุฏุงุฒุด ฺฉูุฏ ูโุชูุงูุฏ ุจุฑ ุณุงุฑ ุฏุฑุฎูุงุณุชโูุง ุงุฑุณุงูโุดุฏู ุจู ูพุงุฏูโุณุงุฒ ูุนู ุณุฑูุฑ ุชุฃุซุฑ ุจฺฏุฐุงุฑุฏ. ูุณุช ฒฑ-ฑฐ ูพุงุฏูโุณุงุฒ ูุฏุฑุช ฺฉ ุฏุฑุฎูุงุณุช ุจู <em>/sleep</em> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ูพุงุณุฎ ฺฉูุฏ ุดุจูโุณุงุฒโุดุฏู ุงุณุช ู ุจุงุนุซ ูโุดูุฏ ุณุฑูุฑ ูุจู ุงุฒ ูพุงุณุฎ ุฏุงุฏู ุจู ูุฏุช ต ุซุงูู ุจุฎูุงุจุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use std::{
    fs,
    io::{prelude::*, BufReader},
    net::{TcpListener, TcpStream},
    thread,
    time::Duration,
};
// --snip--
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        handle_connection(stream);
</span><span class="boring">    }
</span><span class="boring">}
</span>
fn handle_connection(mut stream: TcpStream) {
    // --snip--

<span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span><span class="boring">
</span>    let (status_line, filename) = match &amp;request_line[..] {
        "GET / HTTP/1.1" =&gt; ("HTTP/1.1 200 OK", "hello.html"),
        "GET /sleep HTTP/1.1" =&gt; {
            thread::sleep(Duration::from_secs(5));
            ("HTTP/1.1 200 OK", "hello.html")
        }
        _ =&gt; ("HTTP/1.1 404 NOT FOUND", "404.html"),
    };

    // --snip--
<span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(filename).unwrap();
</span><span class="boring">    let length = contents.len();
</span><span class="boring">
</span><span class="boring">    let response =
</span><span class="boring">        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");
</span><span class="boring">
</span><span class="boring">    stream.write_all(response.as_bytes()).unwrap();
</span>}</code></pre></pre>
<figcaption>Listing 21-10: ุดุจูโุณุงุฒ ฺฉ ุฏุฑุฎูุงุณุช ฺฉูุฏ ุจุง ุฎูุงุจุฏู ุณุฑูุฑ ุจู ูุฏุช ต ุซุงูู</figcaption>
</figure>
<p>ูุง ุงุฒ <code>if</code> ุจู <code>match</code> ุชุบุฑ ุฏุงุฏูโุงู ุฒุฑุง ุงฺฉููู ุณู ุญุงูุช ุฏุงุฑู. ุจุงุฏ ุจูโุทูุฑ ุตุฑุญ ุฑู ฺฉ ุจุฑุด ุงุฒ <code>request_line</code> ุงูฺฏู ุชุทุงุจู ุงุฌุงุฏ ฺฉูู ุชุง ููุงุฏุฑ ุฑุดุชูโุง ุฑุง ุชุทุงุจู ุฏููุ <code>match</code> ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุฑุฌุนโุฏู ู ุนุฏู ูุฑุฌุนโุฏู ุฑุง ูุงููุฏ ูุชุฏ ุจุฑุงุจุฑ ุงูุฌุงู ููโุฏูุฏ.</p>
<p>ุจุงุฒู ุงูู ููุงู ุจููฺฉ <code>if</code> ุงุฒ ูุณุช ฒฑ-น ุงุณุช. ุจุงุฒู ุฏูู ฺฉ ุฏุฑุฎูุงุณุช ุจู <em>/sleep</em> ุฑุง ุชุทุงุจู ูโุฏูุฏ. ููุช ุขู ุฏุฑุฎูุงุณุช ุฏุฑุงูุช ุดูุฏุ ุณุฑูุฑ ุจู ูุฏุช ต ุซุงูู ูโุฎูุงุจุฏ ูุจู ุงุฒ ุงูฺฉู ุตูุญู HTML ููููุชโุขูุฒ ุฑุง ููุงุด ุฏูุฏ. ุจุงุฒู ุณูู ููุงู ุจููฺฉ <code>else</code> ุงุฒ ูุณุช ฒฑ-น ุงุณุช.</p>
<p>ูโุชูุงูุฏ ุจุจูุฏ ฺฉู ุณุฑูุฑ ูุง ฺูุฏุฑ ุงุจุชุฏุง ุงุณุช: ฺฉุชุงุจุฎุงููโูุง ูุงูุน ูุฏุฑุช ุชุดุฎุต ุฏุฑุฎูุงุณุชโูุง ูุชุนุฏุฏ ุฑุง ุจู ุฑูุด ุจุณุงุฑ ฺฉูุชุฑ ูพุฑุญุฑู ุงูุฌุงู ูโุฏููุฏ!</p>
<p>ุณุฑูุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo run</code> ุงุฌุฑุง ฺฉูุฏ. ุณูพุณ ุฏู ูพูุฌุฑู ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ: ฺฉ ุจุฑุง ุขุฏุฑุณ <em>http://127.0.0.1:7878/</em> ู ุฏฺฏุฑ ุจุฑุง ุขุฏุฑุณ <em>http://127.0.0.1:7878/sleep</em>. ุงฺฏุฑ ฺูุฏ ุจุงุฑ ุขุฏุฑุณ <em>/</em> ุฑุง ูุงุฑุฏ ฺฉูุฏุ ูโุจูุฏ ฺฉู ุณุฑุน ูพุงุณุฎ ูโุฏูุฏ. ุงูุง ุงฺฏุฑ ุขุฏุฑุณ <em>/sleep</em> ุฑุง ูุงุฑุฏ ฺฉูุฏ ู ุณูพุณ <em>/</em> ุฑุง ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏุ ุฎูุงูุฏ ุฏุฏ ฺฉู <em>/</em> ููุชุธุฑ ูโูุงูุฏ ุชุง ุฏุฑุฎูุงุณุช <em>/sleep</em> ุจุฑุง ต ุซุงูู ฺฉุงูู ุจุฎูุงุจุฏ ู ุณูพุณ ุจุงุฑฺฏุฐุงุฑ ุดูุฏ.</p>
<h3 id="ุจูุจูุฏ-ุชูุงู-ุนููุงุช-ุจุง-ฺฉ-thread-pool"><a class="header" href="#ุจูุจูุฏ-ุชูุงู-ุนููุงุช-ุจุง-ฺฉ-thread-pool">ุจูุจูุฏ ุชูุงู ุนููุงุช ุจุง ฺฉ Thread Pool</a></h3>
<p>ฺฉ <em>Thread Pool</em> ฺฏุฑูู ุงุฒ Threadูุง ุงุฌุงุฏุดุฏู ุงุณุช ฺฉู ููุชุธุฑ ู ุขูุงุฏู ุจุฑุง ูุฏุฑุช ฺฉ ูุธูู ูุณุชูุฏ. ููุช ุจุฑูุงูู ฺฉ ูุธูู ุฌุฏุฏ ุฏุฑุงูุช ูโฺฉูุฏุ ฺฉ ุงุฒ Threadูุง ููุฌูุฏ ุฏุฑ Pool ุจู ูุธูู ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏ ู ุขู Thread ูุธูู ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏ. Threadูุง ุจุงูโูุงูุฏู ุฏุฑ Pool ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ ุชุง ูุฑ ูุธูู ุฏฺฏุฑ ฺฉู ูุงุฑุฏ ุดูุฏ ุฑุง ุฏุฑ ุญุงู ฺฉู Thread ุงูู ูุธูู ุฎูุฏ ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏุ ูุฏุฑุช ฺฉููุฏ. ููุช Thread ุงูู ูพุฑุฏุงุฒุด ูุธูู ุฎูุฏ ุฑุง ุจู ูพุงุงู ูโุฑุณุงูุฏุ ุจู Pool Threadูุง ุจฺฉุงุฑ ุจุงุฒูโฺฏุฑุฏุฏ ู ุขูุงุฏู ุจุฑุง ูุฏุฑุช ฺฉ ูุธูู ุฌุฏุฏ ุงุณุช. ฺฉ Thread Pool ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุงุชุตุงูุงุช ุฑุง ุจู ุตูุฑุช ููุฒูุงู ูพุฑุฏุงุฒุด ฺฉูุฏ ู ุชูุงู ุนููุงุช ุณุฑูุฑ ุฎูุฏ ุฑุง ุงูุฒุงุด ุฏูุฏ.</p>
<p>ูุง ุชุนุฏุงุฏ Threadูุง ููุฌูุฏ ุฏุฑ Pool ุฑุง ุจู ฺฉ ุนุฏุฏ ฺฉูฺฺฉ ูุญุฏูุฏ ุฎูุงูู ฺฉุฑุฏ ุชุง ุงุฒ ุญููุงุช Denial of Service (DoS) ูุญุงูุธุช ฺฉููุ ุงฺฏุฑ ุจุฑูุงูู ูุง ุจุฑุง ูุฑ ุฏุฑุฎูุงุณุช ุฌุฏุฏ ฺฉ Thread ุงุฌุงุฏ ฺฉูุฏุ ฺฉุณ ฺฉู ฑฐ ูููู ุฏุฑุฎูุงุณุช ุจู ุณุฑูุฑ ูุง ุงุฑุณุงู ฺฉูุฏ ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุงู ููุงุจุน ุณุฑูุฑุ ูพุฑุฏุงุฒุด ุฏุฑุฎูุงุณุชโูุง ุฑุง ูุชููู ฺฉูุฏ.</p>
<p>ุจู ุฌุง ุงุฌุงุฏ ุชุนุฏุงุฏ ูุงูุญุฏูุฏ ุงุฒ Threadูุงุ ุชุนุฏุงุฏ ุซุงุจุช ุงุฒ Threadูุง ุฑุง ุฏุฑ Pool ุฎูุงูู ุฏุงุดุช ฺฉู ููุชุธุฑ ูพุฑุฏุงุฒุด ูุธุงู ูุณุชูุฏ. ุฏุฑุฎูุงุณุชโูุง ฺฉู ูุงุฑุฏ ูโุดููุฏ ุจู Pool ุงุฑุณุงู ูโุดููุฏ. Pool ฺฉ ุตู ุงุฒ ุฏุฑุฎูุงุณุชโูุง ูุฑูุฏ ุฑุง ูุฏุฑุช ุฎูุงูุฏ ฺฉุฑุฏ. ูุฑ ฺฉ ุงุฒ Threadูุง ุฏุฑ Pool ฺฉ ุฏุฑุฎูุงุณุช ุงุฒ ุตู ุจุฑุฏุงุดุชูุ ุฏุฑุฎูุงุณุช ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏ ู ุณูพุณ ุฏุฑุฎูุงุณุช ุฏฺฏุฑ ุงุฒ ุตู ุฏุฑุฎูุงุณุช ูโฺฉูุฏ. ุจุง ุงู ุทุฑุงุญุ ูโุชูุงูู ุญุฏุงฺฉุซุฑ ุชุง <code>N</code> ุฏุฑุฎูุงุณุช ุฑุง ุจู ุตูุฑุช ููุฒูุงู ูพุฑุฏุงุฒุด ฺฉููุ ุฌุง ฺฉู <code>N</code> ุชุนุฏุงุฏ Threadูุง ุงุณุช. ุงฺฏุฑ ูุฑ Thread ุจู ฺฉ ุฏุฑุฎูุงุณุช ุทููุงู ูพุงุณุฎ ุฏูุฏุ ุฏุฑุฎูุงุณุชโูุง ุจุนุฏ ููฺฉู ุงุณุช ุฏุฑ ุตู ูพุดุชุจุงู ุดููุฏุ ุงูุง ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุทููุงู ฺฉู ูโุชูุงูู ูุจู ุงุฒ ุฑุณุฏู ุจู ุงู ููุทู ูุฏุฑุช ฺฉูู ุงูุฒุงุด ุงูุชู ุงุณุช.</p>
<p>ุงู ุชฺฉูฺฉ ุชููุง ฺฉ ุงุฒ ุฑุงูโูุง ุจูุจูุฏ ุชูุงู ุนููุงุช ฺฉ ูุจ ุณุฑูุฑ ุงุณุช. ฺฏุฒููโูุง ุฏฺฏุฑ ฺฉู ููฺฉู ุงุณุช ุจุฑุฑุณ ฺฉูุฏ ุดุงูู <em>ูุฏู fork/join</em>ุ <em>ูุฏู I/O async ุชฺฉโThreaded</em>ุ ุง <em>ูุฏู I/O async ฺูุฏThreaded</em> ูุณุชูุฏ. ุงฺฏุฑ ุจู ุงู ููุถูุน ุนูุงูู ุฏุงุฑุฏุ ูโุชูุงูุฏ ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุฑุงูโุญูโูุง ุฏฺฏุฑ ุจุฎูุงูุฏ ู ุขูโูุง ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุจุง ฺฉ ุฒุจุงู ุณุทุญ ูพุงู ูุงููุฏ Rustุ ููู ุงู ฺฏุฒููโูุง ููฺฉู ูุณุชูุฏ.</p>
<p>ูพุด ุงุฒ ุขูฺฉู ูพุงุฏูโุณุงุฒ ฺฉ Thread Pool ุฑุง ุดุฑูุน ฺฉููุ ุจุงุฏ ุฏุฑ ููุฑุฏ ูุญูู ุงุณุชูุงุฏู ุงุฒ Pool ุตุญุจุช ฺฉูู. ููุช ูุตุฏ ุทุฑุงุญ ฺฉุฏ ุฑุง ุฏุงุฑุฏุ ุงุจุชุฏุง ููุดุชู ุฑุงุจุท ฺฉุงุฑุจุฑ (client interface) ูโุชูุงูุฏ ุจู ุทุฑุงุญ ุดูุง ฺฉูฺฉ ฺฉูุฏ. API ฺฉุฏ ุฑุง ุจู ฺฏูููโุง ุจููุณุฏ ฺฉู ุณุงุฎุชุงุฑ ุจุฑุง ูุญูู ูุฑุงุฎูุงู ุขู ุฏุงุดุชู ุจุงุดุฏุ ุณูพุณ ูุงุจูุชโูุง ุฑุง ุฏุฑ ุขู ุณุงุฎุชุงุฑ ูพุงุฏูโุณุงุฒ ฺฉูุฏ ุจู ุฌุง ุงูฺฉู ุงุจุชุฏุง ูุงุจูุชโูุง ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ ู ุณูพุณ API ุนููู ุฑุง ุทุฑุงุญ ฺฉูุฏ.</p>
<p>ูุดุงุจู ุฑูุด ุชูุณุนู ูุจุชู ุจุฑ ุชุณุช ฺฉู ุฏุฑ ูพุฑูฺู ูุตู ฑฒ ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุงูุฌุง ุงุฒ ุชูุณุนู ูุจุชู ุจุฑ ฺฉุงููพุงูุฑ ุงุณุชูุงุฏู ูโฺฉูู. ฺฉุฏ ุฑุง ฺฉู ุชูุงุจุน ููุฑุฏ ูุธุฑูุงู ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏุ ูโููุณู ู ุณูพุณ ุจู ุฎุทุงูุง ฺฉุงููพุงูุฑ ูฺฏุงู ูโฺฉูู ุชุง ูุดุฎุต ฺฉูู ฺู ุชุบุฑุงุช ุจุงุฏ ุงูุฌุงู ุฏูู ุชุง ฺฉุฏ ฺฉุงุฑ ฺฉูุฏ. ุจุง ุงู ุญุงูุ ูพุด ุงุฒ ุงูุฌุงู ุงู ฺฉุงุฑุ ุฑูุด ุฏฺฏุฑ ุฑุง ฺฉู ูุฑุงุฑ ูุณุช ุงุณุชูุงุฏู ฺฉููุ ุจู ุนููุงู ููุทู ุดุฑูุน ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.</p>
<h4 id="ุงุฌุงุฏ-ฺฉ-thread-ุฌุฏุฏ-ุจุฑุง-ูุฑ-ุฏุฑุฎูุงุณุช"><a class="header" href="#ุงุฌุงุฏ-ฺฉ-thread-ุฌุฏุฏ-ุจุฑุง-ูุฑ-ุฏุฑุฎูุงุณุช">ุงุฌุงุฏ ฺฉ Thread ุฌุฏุฏ ุจุฑุง ูุฑ ุฏุฑุฎูุงุณุช</a></h4>
<p>ุงุจุชุฏุงุ ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู ุงฺฏุฑ ฺฉุฏ ูุง ุจุฑุง ูุฑ ุงุชุตุงู ฺฉ Thread ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏุ ฺฺฏููู ุจู ูุธุฑ ูโุฑุณุฏ. ููุงูโุทูุฑ ฺฉู ูุจูุงู ุฐฺฉุฑ ุดุฏุ ุงู ุทุฑุญ ููุง ูุง ูุณุช ุจู ุฏูู ูุดฺฉูุงุช ฺฉู ููฺฉู ุงุณุช ุจุง ุงุฌุงุฏ ุชุนุฏุงุฏ ูุงูุญุฏูุฏ ุงุฒ Threadูุง ูพุด ุจุงุฏุ ุงูุง ุงู ฺฉ ููุทู ุดุฑูุน ุจุฑุง ุงุฌุงุฏ ฺฉ ุณุฑูุฑ Multithreaded ฺฉุงุฑุง ุงุณุช. ุณูพุณ Thread Pool ุฑุง ุจู ุนููุงู ฺฉ ุจูุจูุฏ ุงุถุงูู ุฎูุงูู ฺฉุฑุฏุ ู ููุงุณู ุงู ุฏู ุฑุงูโุญู ุขุณุงูโุชุฑ ุฎูุงูุฏ ุจูุฏ. ูุณุช ฒฑ-ฑฑ ุชุบุฑุงุช ุฑุง ฺฉู ุจุงุฏ ุฏุฑ <code>main</code> ุงูุฌุงู ุฏูู ุชุง ุจุฑุง ูุฑ ุฌุฑุงู ุฏุฑ ุญููู <code>for</code> ฺฉ Thread ุฌุฏุฏ ุงุฌุงุฏ ฺฉููุ ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">    thread,
</span><span class="boring">    time::Duration,
</span><span class="boring">};
</span><span class="boring">
</span>fn main() {
    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();

    for stream in listener.incoming() {
        let stream = stream.unwrap();

        thread::spawn(|| {
            handle_connection(stream);
        });
    }
}
<span class="boring">
</span><span class="boring">fn handle_connection(mut stream: TcpStream) {
</span><span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span><span class="boring">
</span><span class="boring">    let (status_line, filename) = match &amp;request_line[..] {
</span><span class="boring">        "GET / HTTP/1.1" =&gt; ("HTTP/1.1 200 OK", "hello.html"),
</span><span class="boring">        "GET /sleep HTTP/1.1" =&gt; {
</span><span class="boring">            thread::sleep(Duration::from_secs(5));
</span><span class="boring">            ("HTTP/1.1 200 OK", "hello.html")
</span><span class="boring">        }
</span><span class="boring">        _ =&gt; ("HTTP/1.1 404 NOT FOUND", "404.html"),
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(filename).unwrap();
</span><span class="boring">    let length = contents.len();
</span><span class="boring">
</span><span class="boring">    let response =
</span><span class="boring">        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");
</span><span class="boring">
</span><span class="boring">    stream.write_all(response.as_bytes()).unwrap();
</span><span class="boring">}</span></code></pre></pre>
<figcaption>Listing 21-11: ุงุฌุงุฏ ฺฉ Thread ุฌุฏุฏ ุจุฑุง ูุฑ ุฌุฑุงู</figcaption>
</figure>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฑถ ุงุฏ ฺฏุฑูุชุฏุ <code>thread::spawn</code> ฺฉ Thread ุฌุฏุฏ ุงุฌุงุฏ ฺฉุฑุฏู ู ุณูพุณ ฺฉุฏ ููุฌูุฏ ุฏุฑ ฺฉููุฒุฑ ุฑุง ุฏุฑ Thread ุฌุฏุฏ ุงุฌุฑุง ูโฺฉูุฏ. ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏ <em>/sleep</em> ุฑุง ุจุงุฒ ฺฉูุฏุ ุณูพุณ <em>/</em> ุฑุง ุฏุฑ ุฏู ุชุจ ุฏฺฏุฑ ุจุงุฒ ฺฉูุฏุ ุฎูุงูุฏ ุฏุฏ ฺฉู ุฏุฑุฎูุงุณุชโูุง <em>/</em> ูุงุฒู ูุณุช ููุชุธุฑ ูพุงุงู ุฏุฑุฎูุงุณุช <em>/sleep</em> ุจุงุดูุฏ. ุจุง ุงู ุญุงูุ ููุงูโุทูุฑ ฺฉู ุฐฺฉุฑ ุดุฏุ ุงู ุฑูุด ุฏุฑ ููุงุช ุณุณุชู ุฑุง ุชุญุช ูุดุงุฑ ูุฑุงุฑ ูโุฏูุฏ ุฒุฑุง ุดูุง ุชุนุฏุงุฏ ูุงูุญุฏูุฏ Thread ุจุฏูู ูุญุฏูุฏุช ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<p>ููฺฉู ุงุณุช ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุงู ุฏููุงู ููุงู ุดุฑุงุท ุงุณุช ฺฉู async ู await ุฏุฑ ุขู ูโุฏุฑุฎุดูุฏ! ุงู ูฺฉุชู ุฑุง ุฏุฑ ุฐูู ุฏุงุดุชู ุจุงุดุฏ ุฏุฑ ุญุงู ฺฉู Thread Pool ุฑุง ูโุณุงุฒู ู ุจู ุงู ูฺฉุฑ ฺฉูุฏ ฺฉู ฺฺฏููู ุงู ุดุฑุงุท ุจุง async ูุชูุงูุช ุง ูุดุงุจู ุฎูุงูุฏ ุจูุฏ.</p>
<!-- Old headings. Do not remove or links may break. -->
<p><a id="creating-a-similar-interface-for-a-finite-number-of-threads"></a></p>
<h4 id="creating-a-finite-number-of-threads"><a class="header" href="#creating-a-finite-number-of-threads">Creating a Finite Number of Threads</a></h4>
<p>ูุง ูโุฎูุงูู Thread Pool ูุง ุจู ุฑูุด ูุดุงุจู ู ุขุดูุง ฺฉุงุฑ ฺฉูุฏุ ุจู ุทูุฑ ฺฉู ุชุบุฑ ุงุฒ ุงุณุชูุงุฏู ุงุฒ Threadูุง ุจู Thread Pool ูุงุฒ ุจู ุชุบุฑุงุช ุฒุงุฏ ุฏุฑ ฺฉุฏ ฺฉู ุงุฒ API ูุง ุงุณุชูุงุฏู ูโฺฉูุฏ ูุฏุงุดุชู ุจุงุดุฏ. ูุณุช ฒฑ-ฑฒ ุฑุงุจุท ูุฑุถ ุจุฑุง ฺฉ ุณุงุฎุชุงุฑ <code>ThreadPool</code> ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ูโุฎูุงูู ุจู ุฌุง <code>thread::spawn</code> ุงุณุชูุงุฏู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">    thread,
</span><span class="boring">    time::Duration,
</span><span class="boring">};
</span><span class="boring">
</span>fn main() {
    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
    let pool = ThreadPool::new(4);

    for stream in listener.incoming() {
        let stream = stream.unwrap();

        pool.execute(|| {
            handle_connection(stream);
        });
    }
}
<span class="boring">
</span><span class="boring">fn handle_connection(mut stream: TcpStream) {
</span><span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span><span class="boring">
</span><span class="boring">    let (status_line, filename) = match &amp;request_line[..] {
</span><span class="boring">        "GET / HTTP/1.1" =&gt; ("HTTP/1.1 200 OK", "hello.html"),
</span><span class="boring">        "GET /sleep HTTP/1.1" =&gt; {
</span><span class="boring">            thread::sleep(Duration::from_secs(5));
</span><span class="boring">            ("HTTP/1.1 200 OK", "hello.html")
</span><span class="boring">        }
</span><span class="boring">        _ =&gt; ("HTTP/1.1 404 NOT FOUND", "404.html"),
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(filename).unwrap();
</span><span class="boring">    let length = contents.len();
</span><span class="boring">
</span><span class="boring">    let response =
</span><span class="boring">        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");
</span><span class="boring">
</span><span class="boring">    stream.write_all(response.as_bytes()).unwrap();
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 21-12: ุฑุงุจุท ุงุฏูโุขู ุจุฑุง <code>ThreadPool</code></figcaption>
</figure>
<p>ูุง ุงุฒ <code>ThreadPool::new</code> ุจุฑุง ุงุฌุงุฏ ฺฉ Thread Pool ุฌุฏุฏ ุจุง ุชุนุฏุงุฏ ูุงุจู ุชูุธู Threadูุง ุงุณุชูุงุฏู ูโฺฉููุ ฺฉู ุฏุฑ ุงูุฌุง ฺูุงุฑ ุงุณุช. ุณูพุณุ ุฏุฑ ุญููู <code>for</code>ุ ูุชุฏ <code>pool.execute</code> ุฑุงุจุท ูุดุงุจู ุจุง <code>thread::spawn</code> ุฏุงุฑุฏุ ุจู ุทูุฑ ฺฉู ฺฉ Closure ุฑุง ูโฺฏุฑุฏ ฺฉู Pool ุจุงุฏ ุจุฑุง ูุฑ ุฌุฑุงู ุงุฌุฑุง ฺฉูุฏ. ูุง ูุงุฒ ุฏุงุฑู <code>pool.execute</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู ุชุง Closure ุฑุง ุจฺฏุฑุฏ ู ุจู ฺฉ ุงุฒ Threadูุง ููุฌูุฏ ุฏุฑ Pool ุจุฑุง ุงุฌุฑุง ุจุฏูุฏ. ุงู ฺฉุฏ ูููุฒ ฺฉุงููพุงู ููโุดูุฏุ ุงูุง ุขู ุฑุง ุงูุชุญุงู ูโฺฉูู ุชุง ฺฉุงููพุงูุฑ ุฑุงูููุง ฺฉูุฏ ฺฉู ฺฺฏููู ุขู ุฑุง ุงุตูุงุญ ฺฉูู.</p>
<h4 id="ุณุงุฎุช-threadpool-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุชูุณุนู-ูุจุชู-ุจุฑ-ฺฉุงููพุงูุฑ"><a class="header" href="#ุณุงุฎุช-threadpool-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-ุชูุณุนู-ูุจุชู-ุจุฑ-ฺฉุงููพุงูุฑ">ุณุงุฎุช <code>ThreadPool</code> ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุณุนู ูุจุชู ุจุฑ ฺฉุงููพุงูุฑ</a></h4>
<p>ุชุบุฑุงุช ูุณุช ฒฑ-ฑฒ ุฑุง ุฏุฑ ูุงู <em>src/main.rs</em> ุงุนูุงู ฺฉูุฏ ู ุณูพุณ ุงุฒ ุฎุทุงูุง ฺฉุงููพุงูุฑ ฺฉู ุชูุณุท <code>cargo check</code> ุงุฑุงุฆู ูโุดูุฏ ุจุฑุง ูุฏุงุช ุชูุณุนู ุงุณุชูุงุฏู ฺฉูุฏ. ุงููู ุฎุทุง ฺฉู ุฏุฑุงูุช ูโฺฉูู ุจู ุตูุฑุช ุฒุฑ ุงุณุช:</p>
<pre><code class="language-console">$ cargo check
    Checking hello v0.1.0 (file:///projects/hello)
error[E0433]: failed to resolve: use of undeclared type `ThreadPool`
  --&gt; src/main.rs:11:16
   |
11 |     let pool = ThreadPool::new(4);
   |                ^^^^^^^^^^ use of undeclared type `ThreadPool`

For more information about this error, try `rustc --explain E0433`.
error: could not compile `hello` (bin "hello") due to 1 previous error
</code></pre>
<p>ุนุงู! ุงู ุฎุทุง ุจู ูุง ูโฺฏูุฏ ฺฉู ุจู ฺฉ ููุน ุง ูุงฺูู <code>ThreadPool</code> ูุงุฒ ุฏุงุฑูุ ุจูุงุจุฑุงู ุงฺฉููู ุขู ุฑุง ุฎูุงูู ุณุงุฎุช. ูพุงุฏูโุณุงุฒ <code>ThreadPool</code> ูุง ูุณุชูู ุงุฒ ููุน ฺฉุงุฑ ุงุณุช ฺฉู ูุจ ุณุฑูุฑ ูุง ุงูุฌุงู ูโุฏูุฏ. ุจูุงุจุฑุงูุ ุจุงุฏ crate <code>hello</code> ุฑุง ุงุฒ ฺฉ crate ุจุงูุฑ ุจู ฺฉ crate ฺฉุชุงุจุฎุงููโุง ุชุบุฑ ุฏูู ุชุง ูพุงุฏูโุณุงุฒ <code>ThreadPool</code> ุฎูุฏ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูู. ูพุณ ุงุฒ ุชุบุฑ ุจู ฺฉ crate ฺฉุชุงุจุฎุงููโุงุ ูโุชูุงูู ุงุฒ ฺฉุชุงุจุฎุงูู Thread Pool ุฌุฏุงฺฏุงูู ุจุฑุง ูุฑ ฺฉุงุฑ ฺฉู ูโุฎูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ Thread Pool ุงูุฌุงู ุฏูู ุงุณุชูุงุฏู ฺฉููุ ูู ููุท ุจุฑุง ุณุฑูุณโุฏู ุจู ุฏุฑุฎูุงุณุชโูุง ูุจ.</p>
<p>ูุงู ุจู ูุงู <em>src/lib.rs</em> ุงุฌุงุฏ ฺฉูุฏ ฺฉู ุดุงูู ุชุนุฑู ุฒุฑ ุจุงุดุฏุ ฺฉู ุณุงุฏูโุชุฑู ุชุนุฑู ููฺฉู ุจุฑุง ฺฉ ุณุงุฎุชุงุฑ <code>ThreadPool</code> ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub struct ThreadPool;</code></pre>
</figure>
<p>ุณูพุณ ูุงู <em>main.rs</em> ุฑุง ูุฑุงุด ฺฉูุฏ ุชุง <code>ThreadPool</code> ุฑุง ุงุฒ crate ฺฉุชุงุจุฎุงููโุง ูุงุฑุฏ ุฏุงููู ฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑ ฺฉุฏ ุฒุฑ ุฑุง ุจู ุจุงูุง ูุงู <em>src/main.rs</em> ุงุถุงูู ฺฉูุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use hello::ThreadPool;
<span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">    thread,
</span><span class="boring">    time::Duration,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
</span><span class="boring">    let pool = ThreadPool::new(4);
</span><span class="boring">
</span><span class="boring">    for stream in listener.incoming() {
</span><span class="boring">        let stream = stream.unwrap();
</span><span class="boring">
</span><span class="boring">        pool.execute(|| {
</span><span class="boring">            handle_connection(stream);
</span><span class="boring">        });
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn handle_connection(mut stream: TcpStream) {
</span><span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span><span class="boring">
</span><span class="boring">    let (status_line, filename) = match &amp;request_line[..] {
</span><span class="boring">        "GET / HTTP/1.1" =&gt; ("HTTP/1.1 200 OK", "hello.html"),
</span><span class="boring">        "GET /sleep HTTP/1.1" =&gt; {
</span><span class="boring">            thread::sleep(Duration::from_secs(5));
</span><span class="boring">            ("HTTP/1.1 200 OK", "hello.html")
</span><span class="boring">        }
</span><span class="boring">        _ =&gt; ("HTTP/1.1 404 NOT FOUND", "404.html"),
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(filename).unwrap();
</span><span class="boring">    let length = contents.len();
</span><span class="boring">
</span><span class="boring">    let response =
</span><span class="boring">        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");
</span><span class="boring">
</span><span class="boring">    stream.write_all(response.as_bytes()).unwrap();
</span><span class="boring">}</span></code></pre>
</figure>
<p>ุงู ฺฉุฏ ููฺูุงู ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏุ ุงูุง ุจุงุฏ ุฏูุจุงุฑู ุขู ุฑุง ุจุฑุฑุณ ฺฉูู ุชุง ุฎุทุง ุจุนุฏ ฺฉู ุจุงุฏ ุจุฑุทุฑู ฺฉูู ุฑุง ุจุจูู:</p>
<pre><code class="language-console">$ cargo check
    Checking hello v0.1.0 (file:///projects/hello)
error[E0599]: no function or associated item named `new` found for struct `ThreadPool` in the current scope
  --&gt; src/main.rs:12:28
   |
12 |     let pool = ThreadPool::new(4);
   |                            ^^^ function or associated item not found in `ThreadPool`

For more information about this error, try `rustc --explain E0599`.
error: could not compile `hello` (bin "hello") due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ุจุงุฏ ุชุงุจุน ูุงุจุณุชูโุง ุจู ูุงู <code>new</code> ุจุฑุง <code>ThreadPool</code> ุงุฌุงุฏ ฺฉูู. ููฺูู ูโุฏุงูู ฺฉู <code>new</code> ุจุงุฏ ฺฉ ูพุงุฑุงูุชุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุจุชูุงูุฏ ููุฏุงุฑ <code>4</code> ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุจูพุฐุฑุฏ ู ฺฉ ููููู ุงุฒ <code>ThreadPool</code> ุจุงุฒฺฏุฑุฏุงูุฏ. ุจุงุฏ ุณุงุฏูโุชุฑู ุชุงุจุน <code>new</code> ฺฉู ุงู ุฎุตูุตุงุช ุฑุง ุฏุงุฑุฏ ูพุงุฏูโุณุงุฒ ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">pub struct ThreadPool;

impl ThreadPool {
    pub fn new(size: usize) -&gt; ThreadPool {
        ThreadPool
    }
}</code></pre>
</figure>
<p>ูุง ููุน <code>usize</code> ุฑุง ุจุฑุง ูพุงุฑุงูุชุฑ <code>size</code> ุงูุชุฎุงุจ ฺฉุฑุฏูุ ุฒุฑุง ูโุฏุงูู ฺฉู ุชุนุฏุงุฏ ููู Threadูุง ููุทู ูุณุช. ููฺูู ูโุฏุงูู ฺฉู ุงู ููุฏุงุฑ <code>4</code> ุฑุง ุจู ุนููุงู ุชุนุฏุงุฏ ุนูุงุตุฑ ุฏุฑ ฺฉ ูุฌููุนู ุงุฒ Threadูุง ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏุ ฺฉู ููุน <code>usize</code> ุจุฑุง ุขู ููุงุณุจ ุงุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch03-02-data-types.html#integer-types">โููุนโูุง ุนุฏุฏ ุตุญุญโ</a><!-- ignore --> ุงุฒ ูุตู ณ ุชูุถุญ ุฏุงุฏู ุดุฏ.</p>
<p>ุจุงุฏ ุฏูุจุงุฑู ฺฉุฏ ุฑุง ุจุฑุฑุณ ฺฉูู:</p>
<pre><code class="language-console">$ cargo check
    Checking hello v0.1.0 (file:///projects/hello)
error[E0599]: no method named `execute` found for struct `ThreadPool` in the current scope
  --&gt; src/main.rs:17:14
   |
17 |         pool.execute(|| {
   |         -----^^^^^^^ method not found in `ThreadPool`

For more information about this error, try `rustc --explain E0599`.
error: could not compile `hello` (bin "hello") due to 1 previous error
</code></pre>
<p>ุงฺฉููู ุฎุทุง ุจู ุงู ุฏูู ุงุณุช ฺฉู ูุชุฏ <code>execute</code> ุฑู <code>ThreadPool</code> ุชุนุฑู ูุดุฏู ุงุณุช. ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch21-02-multithreaded.html#creating-a-finite-number-of-threads">โุงุฌุงุฏ ุชุนุฏุงุฏ ูุญุฏูุฏ ุงุฒ Threadูุงโ</a><!-- ignore --> ุชุตูู ฺฏุฑูุชู ฺฉู Thread Pool ูุง ุจุงุฏ ุฑุงุจุท ูุดุงุจู <code>thread::spawn</code> ุฏุงุดุชู ุจุงุดุฏ. ุนูุงูู ุจุฑ ุงูุ ูุชุฏ <code>execute</code> ุฑุง ุทูุฑ ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ ฺฉู Closure ุฏุงุฏู ุดุฏู ุฑุง ุจฺฏุฑุฏ ู ุขู ุฑุง ุจู ฺฉ Thread ุจฺฉุงุฑ ุฏุฑ Pool ุจุฑุง ุงุฌุฑุง ุจุฏูุฏ.</p>
<p>ูุง ูุชุฏ <code>execute</code> ุฑุง ุฑู <code>ThreadPool</code> ุชุนุฑู ูโฺฉูู ุชุง ฺฉ Closure ุฑุง ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุจูพุฐุฑุฏ. ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ุฏุฑ ุจุฎุด <a href="ch13-01-closures.html#moving-captured-values-out-of-the-closure-and-the-fn-traits">โุงูุชูุงู ููุงุฏุฑ ฺฏุฑูุชูโุดุฏู ุงุฒ Closure ู ูฺฺฏโูุง <code>Fn</code>โ</a><!-- ignore --> ุงุฒ ูุตู ฑณ ุชูุถุญ ุฏุงุฏู ุดุฏ ฺฉู ูโุชูุงูู Closureูุง ุฑุง ุจุง ุณู ูฺฺฏ ูุฎุชูู ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุจูพุฐุฑู: <code>Fn</code>ุ <code>FnMut</code>ุ ู <code>FnOnce</code>. ุจุงุฏ ุชุตูู ุจฺฏุฑู ฺฉู ุฏุฑ ุงูุฌุง ุงุฒ ฺฉุฏุงู ููุน Closure ุงุณุชูุงุฏู ฺฉูู. ูโุฏุงูู ฺฉู ฺุฒ ูุดุงุจู ุจุง ูพุงุฏูโุณุงุฒ <code>thread::spawn</code> ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุงูุฌุงู ุฎูุงูู ุฏุงุฏุ ุจูุงุจุฑุงู ูโุชูุงูู ุจู ูุญุฏูุฏุชโูุง ุงูุถุง <code>thread::spawn</code> ุฑู ูพุงุฑุงูุชุฑุด ูฺฏุงู ฺฉูู. ูุณุชูุฏุงุช ุจู ูุง ููุงุฑุฏ ุฒุฑ ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<pre><code class="language-rust ignore">pub fn spawn&lt;F, T&gt;(f: F) -&gt; JoinHandle&lt;T&gt;
    where
        F: FnOnce() -&gt; T,
        F: Send + 'static,
        T: Send + 'static,</code></pre>
<p>ููุน ูพุงุฑุงูุชุฑ <code>F</code> ููุงู ฺุฒ ุงุณุช ฺฉู ุฏุฑ ุงูุฌุง ุจู ุขู ุชูุฌู ุฏุงุฑูุ ูพุงุฑุงูุชุฑ ููุน <code>T</code> ูุฑุจูุท ุจู ููุฏุงุฑ ุจุงุฒฺฏุดุช ุงุณุช ู ูุง ุจู ุขู ุชูุฌู ูุฏุงุฑู. ูโุชูุงูู ุจุจูู ฺฉู <code>spawn</code> ุงุฒ <code>FnOnce</code> ุจู ุนููุงู ูุญุฏูุฏุช ูฺฺฏ ุฑู <code>F</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ุงุญุชูุงูุงู ฺุฒ ุงุณุช ฺฉู ูุง ูุฒ ูโุฎูุงููุ ุฒุฑุง ุฏุฑ ููุงุช ุขุฑฺฏููุงู ุฏุฑุงูุช ุฏุฑ <code>execute</code> ุฑุง ุจู <code>spawn</code> ูพุงุณ ูโุฏูู. ูุง ุงุทููุงู ุจุดุชุฑ ุฏุงุฑู ฺฉู <code>FnOnce</code> ููุงู ูฺฺฏ ููุฑุฏ ูุธุฑ ูุง ุงุณุชุ ุฒุฑุง Thread ุจุฑุง ุงุฌุฑุง ฺฉ ุฏุฑุฎูุงุณุช ููุท Closure ูุฑุจูุท ุจู ุขู ุฏุฑุฎูุงุณุช ุฑุง ฺฉ ุจุงุฑ ุงุฌุฑุง ูโฺฉูุฏุ ฺฉู ุจุง โOnceโ ุฏุฑ <code>FnOnce</code> ูุทุงุจูุช ุฏุงุฑุฏ.</p>
<p>ูพุงุฑุงูุชุฑ ููุน <code>F</code> ููฺูู ุฏุงุฑุง ูุญุฏูุฏุช ูฺฺฏ <code>Send</code> ู ูุญุฏูุฏุช ุทูู ุนูุฑ <code>'static</code> ุงุณุชุ ฺฉู ุฏุฑ ูุถุนุช ูุง ููุฏ ูุณุชูุฏ: ูุง ุจู <code>Send</code> ูุงุฒ ุฏุงุฑู ุชุง Closure ุฑุง ุงุฒ ฺฉ Thread ุจู Thread ุฏฺฏุฑ ููุชูู ฺฉูู ู ุจู <code>'static</code> ูุงุฒ ุฏุงุฑู ุฒุฑุง ููโุฏุงูู ุงุฌุฑุง Thread ฺู ูุฏุช ุทูู ูโฺฉุดุฏ. ุจุงุฏ ฺฉ ูุชุฏ <code>execute</code> ุฑู <code>ThreadPool</code> ุงุฌุงุฏ ฺฉูู ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ุนููู ุงุฒ ููุน <code>F</code> ุจุง ุงู ูุญุฏูุฏุชโูุง ุจูพุฐุฑุฏ:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct ThreadPool;
</span><span class="boring">
</span>impl ThreadPool {
    // --snip--
<span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        ThreadPool
</span><span class="boring">    }
</span><span class="boring">
</span>    pub fn execute&lt;F&gt;(&amp;self, f: F)
    where
        F: FnOnce() + Send + 'static,
    {
    }
}</code></pre>
</figure>
<p>ูุง ููฺูุงู ุงุฒ <code>()</code> ูพุณ ุงุฒ <code>FnOnce</code> ุงุณุชูุงุฏู ูโฺฉูู ุฒุฑุง ุงู <code>FnOnce</code> ูุดุงูโุฏููุฏู ฺฉ Closure ุงุณุช ฺฉู ูฺ ูพุงุฑุงูุชุฑ ููโฺฏุฑุฏ ู ููุน <code>()</code> ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุฏุฑุณุช ูุงููุฏ ุชุนุฑู ุชูุงุจุนุ ูโุชูุงู ููุน ุจุงุฒฺฏุดุช ุฑุง ุงุฒ ุงูุถุง ุญุฐู ฺฉุฑุฏุ ุงูุง ุญุช ุงฺฏุฑ ูฺ ูพุงุฑุงูุชุฑ ูุฏุงุดุชู ุจุงุดูุ ููฺูุงู ุจู ูพุฑุงูุชุฒูุง ูุงุฒ ุฏุงุฑู.</p>
<p>ุฏูุจุงุฑูุ ุงู ุณุงุฏูโุชุฑู ูพุงุฏูโุณุงุฒ ููฺฉู ุจุฑุง ูุชุฏ <code>execute</code> ุงุณุช: ุงู ูุชุฏ ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏูุฏุ ุงูุง ูุง ููุท ุชูุงุด ูโฺฉูู ฺฉุฏ ุฎูุฏ ุฑุง ฺฉุงููพุงู ฺฉูู. ุจุงุฏ ุฏูุจุงุฑู ฺฉุฏ ุฑุง ุจุฑุฑุณ ฺฉูู:</p>
<pre><code class="language-console">$ cargo check
    Checking hello v0.1.0 (file:///projects/hello)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.24s
</code></pre>
<p>ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏ! ุงูุง ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงฺฏุฑ <code>cargo run</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฏุฑ ูุฑูุฑฺฏุฑ ฺฉ ุฏุฑุฎูุงุณุช ุงุฑุณุงู ฺฉูุฏุ ุฎุทุงูุง ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุงูุฏ ุฏุฏ ฺฉู ุฏุฑ ุงุจุชุฏุง ูุตู ุฏุฏู ุจูุฏู. ฺฉุชุงุจุฎุงูู ูุง ูููุฒ Closure ูพุงุณโุฏุงุฏูโุดุฏู ุจู <code>execute</code> ุฑุง ูุฑุงุฎูุงู ููโฺฉูุฏ!</p>
<blockquote>
<p>ูฺฉุชู: ฺฉ ุถุฑุจโุงููุซู ุฏุฑุจุงุฑู ุฒุจุงูโูุง ุจุง ฺฉุงููพุงูุฑูุง ุณุฎุชโฺฏุฑุ ูุงููุฏ Haskell ู Rustุ ุงู ุงุณุช ฺฉู โุงฺฏุฑ ฺฉุฏ ฺฉุงููพุงู ุดูุฏุ ฺฉุงุฑ ูโฺฉูุฏ.โ ุงูุง ุงู ุถุฑุจโุงููุซู ููุดู ุฏุฑุณุช ูุณุช. ูพุฑูฺู ูุง ฺฉุงููพุงู ูโุดูุฏุ ุงูุง ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏูุฏ! ุงฺฏุฑ ุฏุฑ ุญุงู ุณุงุฎุช ฺฉ ูพุฑูฺู ูุงูุน ู ฺฉุงูู ุจูุฏูุ ุงฺฉููู ุฒูุงู ุฎูุจ ุจุฑุง ุดุฑูุน ููุดุชู ุชุณุชโูุง ูุงุญุฏ ุจูุฏ ุชุง ุจุฑุฑุณ ฺฉูู ฺฉู ฺฉุฏ ูู ฺฉุงููพุงู ูโุดูุฏ <em>ู</em> ุฑูุชุงุฑ ููุฑุฏ ูุธุฑ ูุง ุฑุง ุฏุงุฑุฏ.</p>
</blockquote>
<p><strong>ุชูุฌู:</strong> ุงฺฏุฑ ูุตุฏ ุฏุงุดุชู ุจู ุฌุง ฺฉ Closureุ ฺฉ <em>future</em> ุงุฌุฑุง ฺฉููุ ฺู ุชูุงูุช ุฏุฑ ุงูุฌุง ูุฌูุฏ ุฏุงุดุชุ</p>
<h4 id="ุงุนุชุจุงุฑุณูุฌ-ุชุนุฏุงุฏ-threadูุง-ุฏุฑ-new"><a class="header" href="#ุงุนุชุจุงุฑุณูุฌ-ุชุนุฏุงุฏ-threadูุง-ุฏุฑ-new">ุงุนุชุจุงุฑุณูุฌ ุชุนุฏุงุฏ Threadูุง ุฏุฑ <code>new</code></a></h4>
<p>ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง ูฺ ฺฉุงุฑ ุจุง ูพุงุฑุงูุชุฑูุง <code>new</code> ู <code>execute</code> ุงูุฌุงู ููโุฏูู. ุจุงุฏ ุจุฏูู ุงู ุชูุงุจุน ุฑุง ุจุง ุฑูุชุงุฑ ููุฑุฏ ูุธุฑ ุฎูุฏ ูพุงุฏูโุณุงุฒ ฺฉูู. ุงุจุชุฏุงุ ุจู ุชุงุจุน <code>new</code> ูฺฉุฑ ฺฉูู. ูุจูุงู ฺฉ ููุน ุนุฏุฏ ุตุญุญ ุจุฏูู ุนูุงูุช ุจุฑุง ูพุงุฑุงูุชุฑ <code>size</code> ุงูุชุฎุงุจ ฺฉุฑุฏูุ ุฒุฑุง ฺฉ Pool ุจุง ุชุนุฏุงุฏ ููู Thread ููุทู ูุณุช. ุจุง ุงู ุญุงูุ ฺฉ Pool ุจุง ุตูุฑ Thread ูุฒ ููุทู ูุณุชุ ุงูุง ุตูุฑ ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุจุฑุง <code>usize</code> ุงุณุช. ฺฉุฏ ุงุถุงูู ุฎูุงูู ฺฉุฑุฏ ุชุง ุจุฑุฑุณ ฺฉูุฏ ฺฉู ููุฏุงุฑ <code>size</code> ุจุดุชุฑ ุงุฒ ุตูุฑ ุจุงุดุฏ ูุจู ุงุฒ ุงูฺฉู ฺฉ ููููู ุงุฒ <code>ThreadPool</code> ุจุงุฒฺฏุฑุฏุงูู ู ุฏุฑ ุตูุฑุช ุฏุฑุงูุช ููุฏุงุฑ ุตูุฑุ ุจุฑูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert!</code> ูุชููู ุดูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฒฑ-ฑณ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">pub struct ThreadPool;
</span><span class="boring">
</span>impl ThreadPool {
    /// Create a new ThreadPool.
    ///
    /// The size is the number of threads in the pool.
    ///
    /// # Panics
    ///
    /// The `new` function will panic if the size is zero.
    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        ThreadPool
    }

    // --snip--
<span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">    }
</span>}</code></pre>
<figcaption>Listing 21-13: ูพุงุฏูโุณุงุฒ <code>ThreadPool::new</code> ุจุฑุง ุชููู ุจุฑูุงูู ุฏุฑ ุตูุฑุช ุตูุฑ ุจูุฏู <code>size</code></figcaption>
</figure>
<p>ูุง ููฺูู ุจุฑุฎ ูุณุชูุฏุงุช ุจุฑุง <code>ThreadPool</code> ุฎูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุธุฑุงุช ุฏุงฺฉูููุช (<em>doc comments</em>) ุงุถุงูู ฺฉุฑุฏูโุงู. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง ุงุฒ ุงุตูู ุฎูุจ ูุณุชูุฏุณุงุฒ ูพุฑู ฺฉุฑุฏูโุงู ู ุจุฎุด ุฑุง ุงุถุงูู ฺฉุฑุฏูโุงู ฺฉู ุดุฑุงุท ฺฉู ุชุงุจุน ูุง ููฺฉู ุงุณุช ุจู ูุญุดุช ุจูุชุฏ (<em>panic</em>) ุฑุง ุชูุถุญ ูโุฏูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฑด ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุช. ุฏุณุชูุฑ <code>cargo doc --open</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฑู ุณุงุฎุชุงุฑ <code>ThreadPool</code> ฺฉูฺฉ ฺฉูุฏ ุชุง ุจุจูุฏ ูุณุชูุฏุงุช ุชููุฏุดุฏู ุจุฑุง <code>new</code> ฺฺฏููู ุจู ูุธุฑ ูโุฑุณูุฏ!</p>
<p>ุจู ุฌุง ุงุถุงูู ฺฉุฑุฏู ูุงฺฉุฑู <code>assert!</code> ููุงูโุทูุฑ ฺฉู ุงูุฌุง ุงูุฌุงู ุฏุงุฏูุ ูโุชูุงูุณุชู <code>new</code> ุฑุง ุจู <code>build</code> ุชุบุฑ ุฏูู ู ฺฉ <code>Result</code> ุจุงุฒฺฏุฑุฏุงููุ ูุงููุฏ ุขูฺู ุจุง <code>Config::build</code> ุฏุฑ ูพุฑูฺู I/O ุฏุฑ ูุณุช ฑฒ-น ุงูุฌุงู ุฏุงุฏู. ุงูุง ุฏุฑ ุงู ููุฑุฏ ุชุตูู ฺฏุฑูุชูโุงู ฺฉู ุชูุงุด ุจุฑุง ุงุฌุงุฏ ฺฉ Thread Pool ุจุฏูู ูฺ Thread ุจุงุฏ ฺฉ ุฎุทุง ุบุฑูุงุจู ุจุงุฒุงุจ ุจุงุดุฏ. ุงฺฏุฑ ุงุญุณุงุณ ุฌุงูโุทูุจ ูโฺฉูุฏุ ุณุน ฺฉูุฏ ุชุงุจุน ุจู ูุงู <code>build</code> ุจุง ุงูุถุง ุฒุฑ ุจููุณุฏ ุชุง ุจุง ุชุงุจุน <code>new</code> ููุงุณู ฺฉูุฏ:</p>
<pre><code class="language-rust ignore">pub fn build(size: usize) -&gt; Result&lt;ThreadPool, PoolCreationError&gt; {</code></pre>
<h4 id="ุงุฌุงุฏ-ูุถุง-ุจุฑุง-ุฐุฎุฑู-threadูุง"><a class="header" href="#ุงุฌุงุฏ-ูุถุง-ุจุฑุง-ุฐุฎุฑู-threadูุง">ุงุฌุงุฏ ูุถุง ุจุฑุง ุฐุฎุฑู Threadูุง</a></h4>
<p>ุงฺฉููู ฺฉู ุฑูุด ุจุฑุง ุงุทููุงู ุงุฒ ุชุนุฏุงุฏ ูุนุชุจุฑ Threadูุง ฺฉู ุฏุฑ Pool ุฐุฎุฑู ูโุดููุฏ ุฏุงุฑูุ ูโุชูุงูู ุงู Threadูุง ุฑุง ุงุฌุงุฏ ฺฉุฑุฏู ู ุขูโูุง ุฑุง ุฏุฑ ุณุงุฎุชุงุฑ <code>ThreadPool</code> ูุจู ุงุฒ ุจุงุฒฺฏุฑุฏุงูุฏู ุณุงุฎุชุงุฑ ุฐุฎุฑู ฺฉูู. ุงูุง ฺฺฏููู ูโุชูุงูู ฺฉ Thread ุฑุง โุฐุฎุฑูโ ฺฉููุ ุจุงุฏ ุฏูุจุงุฑู ุจู ุงูุถุง <code>thread::spawn</code> ูฺฏุงู ฺฉูู:</p>
<pre><code class="language-rust ignore">pub fn spawn&lt;F, T&gt;(f: F) -&gt; JoinHandle&lt;T&gt;
    where
        F: FnOnce() -&gt; T,
        F: Send + 'static,
        T: Send + 'static,</code></pre>
<p>ุชุงุจุน <code>spawn</code> ฺฉ <code>JoinHandle&lt;T&gt;</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุฌุง ฺฉู <code>T</code> ููุน ุงุณุช ฺฉู Closure ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุจุงุฏ ูุง ูู ุงุฒ <code>JoinHandle</code> ุงุณุชูุงุฏู ฺฉูู ู ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ. ุฏุฑ ููุฑุฏ ูุงุ Closureูุง ฺฉู ุจู Thread Pool ุงุฑุณุงู ูโฺฉูู ุงุชุตุงู ุฑุง ูุฏุฑุช ฺฉุฑุฏู ู ฺุฒ ุจุงุฒููโฺฏุฑุฏุงููุฏุ ุจูุงุจุฑุงู <code>T</code> ุจุฑุงุจุฑ ุจุง ููุน ูุงุญุฏ <code>()</code> ุฎูุงูุฏ ุจูุฏ.</p>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ฑด ฺฉุงููพุงู ูโุดูุฏ ุงูุง ูููุฒ ูฺ Thread ุงุฌุงุฏ ููโฺฉูุฏ. ูุง ุชุนุฑู <code>ThreadPool</code> ุฑุง ุชุบุฑ ุฏุงุฏูโุงู ุชุง ฺฉ ุจุฑุฏุงุฑ ุงุฒ ูููููโูุง <code>thread::JoinHandle&lt;()&gt;</code> ุฑุง ูฺฏู ุฏุงุฑุฏุ ุจุฑุฏุงุฑ ุฑุง ุจุง ุธุฑูุช ุจุฑุงุจุฑ ุจุง <code>size</code> ููุฏุงุฑุฏู ุงููู ฺฉุฑุฏูโุงูุ ฺฉ ุญููู <code>for</code> ุชูุธู ฺฉุฑุฏูโุงู ฺฉู ฺฉุฏ ุจุฑุง ุงุฌุงุฏ Threadูุง ุงุฌุฑุง ูโฺฉูุฏุ ู ฺฉ ููููู ุงุฒ <code>ThreadPool</code> ฺฉู ุขูโูุง ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore not_desired_behavior">use std::thread;

pub struct ThreadPool {
    threads: Vec&lt;thread::JoinHandle&lt;()&gt;&gt;,
}

impl ThreadPool {
    // --snip--
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span>    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        let mut threads = Vec::with_capacity(size);

        for _ in 0..size {
            // create some threads and store them in the vector
        }

        ThreadPool { threads }
    }
    // --snip--
<span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">    }
</span>}</code></pre>
<figcaption>Listing 21-14: ุงุฌุงุฏ ฺฉ ุจุฑุฏุงุฑ ุจุฑุง <code>ThreadPool</code> ุจุฑุง ูฺฏูุฏุงุฑ Threadูุง</figcaption>
</figure>
<p>ูุง <code>std::thread</code> ุฑุง ุฏุฑ crate ฺฉุชุงุจุฎุงููโุง ูุงุฑุฏ ุฏุงููู ฺฉุฑุฏูโุงูุ ุฒุฑุง ุงุฒ <code>thread::JoinHandle</code> ุจู ุนููุงู ููุน ุขุชูโูุง ููุฌูุฏ ุฏุฑ ุจุฑุฏุงุฑ ุฏุฑ <code>ThreadPool</code> ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ููฺฏุงู ฺฉู ฺฉ ููุฏุงุฑ ูุนุชุจุฑ ุจุฑุง <code>size</code> ุฏุฑุงูุช ุดูุฏุ <code>ThreadPool</code> ูุง ฺฉ ุจุฑุฏุงุฑ ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ูโุชูุงูุฏ <code>size</code> ุขุชู ุฑุง ุฏุฑ ุฎูุฏ ุฌุง ุฏูุฏ. ุชุงุจุน <code>with_capacity</code> ููุงู ฺฉุงุฑ <code>Vec::new</code> ุฑุง ุงูุฌุงู ูโุฏูุฏ ุงูุง ุจุง ฺฉ ุชูุงูุช ููู: ูุถุง ูุงุฒู ุฑุง ุงุฒ ูุจู ุฏุฑ ุจุฑุฏุงุฑ ุชุฎุตุต ูโุฏูุฏ. ฺูู ูโุฏุงูู ฺฉู ุจุงุฏ <code>size</code> ุนูุตุฑ ุฑุง ุฏุฑ ุจุฑุฏุงุฑ ุฐุฎุฑู ฺฉููุ ุงูุฌุงู ุงู ุชุฎุตุต ุงุฒ ุงุจุชุฏุง ฺฉู ฺฉุงุฑุขูุฏุชุฑ ุงุฒ ุงุณุชูุงุฏู ุงุฒ <code>Vec::new</code> ุงุณุช ฺฉู ุฎูุฏุด ุฏุฑ ุญู ุงุถุงูู ุดุฏู ุนูุงุตุฑ ุชุบุฑ ุงูุฏุงุฒู ูโุฏูุฏ.</p>
<p>ููุช ุฏูุจุงุฑู <code>cargo check</code> ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุจุงุฏ ุจุง ููููุช ุงูุฌุงู ุดูุฏ.</p>
<h4 id="ุณุงุฎุชุงุฑ-worker-ูุณุฆูู-ุงุฑุณุงู-ฺฉุฏ-ุงุฒ-threadpool-ุจู-ฺฉ-thread"><a class="header" href="#ุณุงุฎุชุงุฑ-worker-ูุณุฆูู-ุงุฑุณุงู-ฺฉุฏ-ุงุฒ-threadpool-ุจู-ฺฉ-thread">ุณุงุฎุชุงุฑ <code>Worker</code> ูุณุฆูู ุงุฑุณุงู ฺฉุฏ ุงุฒ <code>ThreadPool</code> ุจู ฺฉ Thread</a></h4>
<p>ุฏุฑ ุญููู <code>for</code> ุฏุฑ ูุณุช ฒฑ-ฑดุ ูุธุฑ ุฏุฑ ููุฑุฏ ุงุฌุงุฏ Threadูุง ฺฏุฐุงุดุชู. ุฏุฑ ุงูุฌุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ูุงูุนุงู Threadูุง ุฑุง ุงุฌุงุฏ ูโฺฉูู. ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ <code>thread::spawn</code> ุฑุง ุจู ุนููุงู ุฑูุด ุจุฑุง ุงุฌุงุฏ Threadูุง ุงุฑุงุฆู ูโุฏูุฏุ ู <code>thread::spawn</code> ุงูุชุธุงุฑ ุฏุงุฑุฏ ฺฉุฏ ุฏุฑุงูุช ฺฉูุฏ ฺฉู Thread ุจูุงูุงุตูู ูพุณ ุงุฒ ุงุฌุงุฏ ุงุฌุฑุง ฺฉูุฏ. ุจุง ุงู ุญุงูุ ุฏุฑ ููุฑุฏ ูุงุ ูโุฎูุงูู Threadูุง ุฑุง ุงุฌุงุฏ ฺฉูู ู ุขูโูุง ุฑุง ููุชุธุฑ ูฺฏู ุฏุงุฑู ุชุง ฺฉุฏ ฺฉู ุจุนุฏุงู ุงุฑุณุงู ูโฺฉูู ุฑุง ุงุฌุฑุง ฺฉููุฏ. ูพุงุฏูโุณุงุฒ Threadูุง ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ูฺ ุฑุงู ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ุงุฑุงุฆู ููโุฏูุฏุ ุจูุงุจุฑุงู ุจุงุฏ ุขู ุฑุง ุจู ุตูุฑุช ุฏุณุช ูพุงุฏูโุณุงุฒ ฺฉูู.</p>
<p>ูุง ุงู ุฑูุชุงุฑ ุฑุง ุจุง ูุนุฑู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฌุฏุฏ ุจู <code>ThreadPool</code> ู Threadูุง ฺฉู ุงู ุฑูุชุงุฑ ุฌุฏุฏ ุฑุง ูุฏุฑุช ูโฺฉูุฏุ ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ. ุงู ุณุงุฎุชุงุฑ ุฏุงุฏู ุฌุฏุฏ ุฑุง <em>Worker</em> ูโูุงูู ฺฉู ฺฉ ุงุตุทูุงุญ ุฑุงุฌ ุฏุฑ ูพุงุฏูโุณุงุฒโูุง Pool ุงุณุช. Worker ฺฉุฏ ุฑุง ฺฉู ุจุงุฏ ุงุฌุฑุง ุดูุฏ ุฏุฑุงูุช ูโฺฉูุฏ ู ุขู ุฑุง ุฏุฑ Thread ูุฑุจูุท ุจู Worker ุงุฌุฑุง ูโฺฉูุฏ. ูโุชูุงูุฏ ุจู ุงูุฑุงุฏ ฺฉู ุฏุฑ ุขุดูพุฒุฎุงูู ฺฉ ุฑุณุชูุฑุงู ฺฉุงุฑ ูโฺฉููุฏ ูฺฉุฑ ฺฉูุฏ: Workerูุง ููุชุธุฑ ูโูุงููุฏ ุชุง ุณูุงุฑุดโูุง ุงุฒ ูุดุชุฑุงู ุฏุฑุงูุช ฺฉููุฏุ ู ุณูพุณ ูุณุฆูู ฺฏุฑูุชู ุงู ุณูุงุฑุดโูุง ู ุงูุฌุงู ุขูโูุง ูุณุชูุฏ.</p>
<p>ุจู ุฌุง ุฐุฎุฑู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ูููููโูุง <code>JoinHandle&lt;()&gt;</code> ุฏุฑ Thread Poolุ ูุง ูููููโูุง ุงุฒ ุณุงุฎุชุงุฑ <code>Worker</code> ุฑุง ุฐุฎุฑู ุฎูุงูู ฺฉุฑุฏ. ูุฑ <code>Worker</code> ฺฉ ููููู <code>JoinHandle&lt;()&gt;</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุณูพุณ ฺฉ ูุชุฏ ุฑู <code>Worker</code> ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฉ Closure ุงุฒ ฺฉุฏ ุจุฑุง ุงุฌุฑุง ุจฺฏุฑุฏ ู ุขู ุฑุง ุจู Thread ุฏุฑ ุญุงู ุงุฌุฑุง Worker ุจุฑุง ุงุฌุฑุง ุงุฑุณุงู ฺฉูุฏ. ููฺูู ุจู ูุฑ Worker ฺฉ <code>id</code> ุงุฎุชุตุงุต ูโุฏูู ุชุง ููฺฏุงู ุซุจุช ูุงฺฏ ุง ุงุดฺฉุงูโุฒุฏุง ุจุชูุงูู ุจู Workerูุง ูุฎุชูู ุฏุฑ Pool ุชูุงุฒ ูุงุฆู ุดูู.</p>
<p>ุงู ูุฑุขูุฏ ุฌุฏุฏ ุงุณุช ฺฉู ููฺฏุงู ุงุฌุงุฏ ฺฉ <code>ThreadPool</code> ุงุชูุงู ูโุงูุชุฏ. ฺฉุฏ ฺฉู Closure ุฑุง ุจู Thread ุงุฑุณุงู ูโฺฉูุฏุ ูพุณ ุงุฒ ุชูุธู <code>Worker</code> ุจู ุงู ุดฺฉู ูพุงุฏูโุณุงุฒ ุฎูุงูุฏ ุดุฏ:</p>
<ol>
<li>ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ <code>Worker</code> ฺฉู ฺฉ <code>id</code> ู ฺฉ <code>JoinHandle&lt;()&gt;</code> ูฺฏู ูโุฏุงุฑุฏ.</li>
<li>ุชุบุฑ <code>ThreadPool</code> ุจู ุทูุฑ ฺฉู ฺฉ ุจุฑุฏุงุฑ ุงุฒ ูููููโูุง <code>Worker</code> ุฑุง ุฐุฎุฑู ฺฉูุฏ.</li>
<li>ุชุนุฑู ฺฉ ุชุงุจุน <code>Worker::new</code> ฺฉู ฺฉ ุนุฏุฏ <code>id</code> ูโฺฏุฑุฏ ู ฺฉ ููููู <code>Worker</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุดุงูู <code>id</code> ู ฺฉ Thread ุงุฌุงุฏุดุฏู ุจุง ฺฉ Closure ุฎุงู ุงุณุช.</li>
<li>ุฏุฑ <code>ThreadPool::new</code>ุ ุงุฒ ุดูุงุฑูุฏู ุญููู <code>for</code> ุจุฑุง ุชููุฏ ฺฉ <code>id</code> ุงุณุชูุงุฏู ฺฉุฑุฏูุ ฺฉ <code>Worker</code> ุฌุฏุฏ ุจุง ุขู <code>id</code> ุงุฌุงุฏ ฺฉุฑุฏู ู Worker ุฑุง ุฏุฑ ุจุฑุฏุงุฑ ุฐุฎุฑู ูโฺฉูู.</li>
</ol>
<p>ุงฺฏุฑ ุขูุงุฏู ฺฉ ฺุงูุด ูุณุชุฏุ ุณุน ฺฉูุฏ ุงู ุชุบุฑุงุช ุฑุง ุฎูุฏุชุงู ูพุงุฏูโุณุงุฒ ฺฉูุฏ ูุจู ุงุฒ ุงูฺฉู ุจู ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ฑต ูฺฏุงู ฺฉูุฏ.</p>
<p>ุขูุงุฏูโุงุฏุ ุฏุฑ ุงูุฌุง ูุณุช ฒฑ-ฑต ุจุง ฺฉ ุฑูุด ุจุฑุง ุงูุฌุงู ุงุตูุงุญุงุช ูุจู ุขูุฑุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::thread;

pub struct ThreadPool {
    workers: Vec&lt;Worker&gt;,
}

impl ThreadPool {
    // --snip--
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span>    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        let mut workers = Vec::with_capacity(size);

        for id in 0..size {
            workers.push(Worker::new(id));
        }

        ThreadPool { workers }
    }
    // --snip--
<span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">    }
</span>}

struct Worker {
    id: usize,
    thread: thread::JoinHandle&lt;()&gt;,
}

impl Worker {
    fn new(id: usize) -&gt; Worker {
        let thread = thread::spawn(|| {});

        Worker { id, thread }
    }
}</code></pre>
<figcaption>Listing 21-15: ุชุบุฑ <code>ThreadPool</code> ุจุฑุง ูฺฏูุฏุงุฑ ูููููโูุง <code>Worker</code> ุจู ุฌุง ูฺฏูุฏุงุฑ ูุณุชูู Threadูุง</figcaption>
</figure>
<p>ูุง ูุงู ููุฏ ููุฌูุฏ ุฏุฑ <code>ThreadPool</code> ุฑุง ุงุฒ <code>threads</code> ุจู <code>workers</code> ุชุบุฑ ุฏุงุฏูโุงู ุฒุฑุง ุงฺฉููู ูููููโูุง <code>Worker</code> ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ูู ูููููโูุง <code>JoinHandle&lt;()&gt;</code>. ุงุฒ ุดูุงุฑูุฏู ุญููู <code>for</code> ุจู ุนููุงู ุขุฑฺฏููุงู ุจุฑุง <code>Worker::new</code> ุงุณุชูุงุฏู ูโฺฉูู ู ูุฑ <code>Worker</code> ุฌุฏุฏ ุฑุง ุฏุฑ ุจุฑุฏุงุฑ ุจู ูุงู <code>workers</code> ุฐุฎุฑู ูโฺฉูู.</p>
<p>ฺฉุฏ ุฎุงุฑุฌ (ูุงููุฏ ุณุฑูุฑ ูุง ุฏุฑ <em>src/main.rs</em>) ูุงุฒ ูุฏุงุฑุฏ ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ูุฑุจูุท ุจู ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑ <code>Worker</code> ุฏุฑ ุฏุงุฎู <code>ThreadPool</code> ุฑุง ุจุฏุงูุฏุ ุจูุงุจุฑุงู ุณุงุฎุชุงุฑ <code>Worker</code> ู ุชุงุจุน <code>new</code> ุขู ุฑุง ุฎุตูุต ูโฺฉูู. ุชุงุจุน <code>Worker::new</code> ุงุฒ <code>id</code> ุฏุงุฏูโุดุฏู ุงุณุชูุงุฏู ฺฉุฑุฏู ู ฺฉ ููููู <code>JoinHandle&lt;()&gt;</code> ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุจุง ุงุฌุงุฏ ฺฉ Thread ุฌุฏุฏ ุจุง ฺฉ Closure ุฎุงู ุชููุฏ ูโุดูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุงฺฏุฑ ุณุณุชูโุนุงูู ูุชูุงูุฏ ุจู ุฏูู ฺฉูุจูุฏ ููุงุจุน ุณุณุชูุ ฺฉ Thread ุงุฌุงุฏ ฺฉูุฏุ <code>thread::spawn</code> ุจู ูุญุดุช ุฎูุงูุฏ ุงูุชุงุฏ (<em>panic</em>). ุงู ุจุงุนุซ ูโุดูุฏ ฺฉู ุณุฑูุฑ ูุง ุจู ูุญุดุช ุจูุชุฏุ ุญุช ุงฺฏุฑ ุงุฌุงุฏ ุจุฑุฎ Threadูุง ูููู ุจุงุดุฏ. ุจุฑุง ุณุงุฏฺฏุ ุงู ุฑูุชุงุฑ ูุดฺฉู ูุฏุงุฑุฏุ ุงูุง ุฏุฑ ฺฉ ูพุงุฏูโุณุงุฒ ุชููุฏ ุจุฑุง Thread Poolุ ุงุญุชูุงูุงู ุงุฒ <a href="https://doc.rust-lang.org/std/thread/struct.Builder.html"><code>std::thread::Builder</code></a><!-- ignore --> ู ูุชุฏ <a href="https://doc.rust-lang.org/std/thread/struct.Builder.html#method.spawn"><code>spawn</code></a><!-- ignore --> ฺฉู ฺฉ <code>Result</code> ุจุงุฒูโฺฏุฑุฏุงูุฏุ ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
</blockquote>
<p>ุงู ฺฉุฏ ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ ู ุชุนุฏุงุฏ ูููููโูุง <code>Worker</code> ุฑุง ฺฉู ุจู ุนููุงู ุขุฑฺฏููุงู ุจู <code>ThreadPool::new</code> ูุดุฎุต ฺฉุฑุฏูโุงู ุฐุฎุฑู ูโฺฉูุฏ. ุงูุง ูุง <em>ูููุฒ</em> Closure ฺฉู ุฏุฑ <code>execute</code> ุฏุฑุงูุช ูโฺฉูู ุฑุง ูพุฑุฏุงุฒุด ููโฺฉูู. ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฺฏููู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู.</p>
<h4 id="ุงุฑุณุงู-ุฏุฑุฎูุงุณุชูุง-ุจู-threadูุง-ุงุฒ-ุทุฑู-channelูุง"><a class="header" href="#ุงุฑุณุงู-ุฏุฑุฎูุงุณุชูุง-ุจู-threadูุง-ุงุฒ-ุทุฑู-channelูุง">ุงุฑุณุงู ุฏุฑุฎูุงุณุชโูุง ุจู Threadูุง ุงุฒ ุทุฑู Channelูุง</a></h4>
<p>ูุดฺฉู ุจุนุฏ ฺฉู ุจู ุขู ูโูพุฑุฏุงุฒู ุงู ุงุณุช ฺฉู Closureูุง ฺฉู ุจู <code>thread::spawn</code> ุฏุงุฏู ุดุฏูโุงูุฏุ ูฺ ฺฉุงุฑ ุงูุฌุงู ููโุฏููุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ Closure ฺฉู ูโุฎูุงูู ุงุฌุฑุง ฺฉูู ุฑุง ุฏุฑ ูุชุฏ <code>execute</code> ุฏุฑุงูุช ูโฺฉูู. ุงูุง ูุงุฒ ุฏุงุฑู ฺฉู ฺฉ Closure ุจู <code>thread::spawn</code> ุจุฏูู ุชุง ุฏุฑ ููฺฏุงู ุงุฌุงุฏ ูุฑ <code>Worker</code> ุฏุฑ ุญู ุงุฌุงุฏ <code>ThreadPool</code> ุงุฌุฑุง ุดูุฏ.</p>
<p>ูโุฎูุงูู ุณุงุฎุชุงุฑูุง <code>Worker</code> ฺฉู ุจู ุชุงุฒฺฏ ุงุฌุงุฏ ฺฉุฑุฏูโุงูุ ฺฉุฏ ุฑุง ฺฉู ุจุงุฏ ุงุฌุฑุง ุดูุฏ ุงุฒ ฺฉ ุตู ฺฉู ุฏุฑ <code>ThreadPool</code> ูฺฏูุฏุงุฑ ูโุดูุฏ ุฏุฑุงูุช ฺฉุฑุฏู ู ุขู ฺฉุฏ ุฑุง ุจู Thread ุฎูุฏ ุจุฑุง ุงุฌุฑุง ุงุฑุณุงู ฺฉููุฏ.</p>
<p>Channelูุง ฺฉู ุฏุฑ ูุตู ฑถ ุงุฏ ฺฏุฑูุชูโุฑุงู ุณุงุฏู ุจุฑุง ุงุฑุชุจุงุท ุจู ุฏู Threadโุจุฑุง ุงู ููุฑุฏ ุงุณุชูุงุฏู ููุงุณุจ ูุณุชูุฏ. ูุง ุงุฒ ฺฉ Channel ุจู ุนููุงู ุตู ฺฉุงุฑูุง ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ู <code>execute</code> ฺฉ ฺฉุงุฑ ุฑุง ุงุฒ <code>ThreadPool</code> ุจู ูููููโูุง <code>Worker</code> ุงุฑุณุงู ูโฺฉูุฏุ ฺฉู ุงู ฺฉุงุฑ ุฑุง ุจู Thread ุฎูุฏ ุงุฑุณุงู ูโฺฉููุฏ. ุจุฑูุงูู ุจู ุดุฑุญ ุฒุฑ ุฎูุงูุฏ ุจูุฏ:</p>
<ol>
<li><code>ThreadPool</code> ฺฉ Channel ุงุฌุงุฏ ฺฉุฑุฏู ู ูฺฏูุฏุงุฑูุฏู sender ุขู ุฎูุงูุฏ ุจูุฏ.</li>
<li>ูุฑ <code>Worker</code> ูฺฏูุฏุงุฑูุฏู receiver ุฎูุงูุฏ ุจูุฏ.</li>
<li>ฺฉ ุณุงุฎุชุงุฑ <code>Job</code> ุฌุฏุฏ ุงุฌุงุฏ ุฎูุงูู ฺฉุฑุฏ ฺฉู Closureูุง ฺฉู ูโุฎูุงูู ุงุฒ ุทุฑู Channel ุงุฑุณุงู ฺฉูู ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</li>
<li>ูุชุฏ <code>execute</code> ฺฉุงุฑ ฺฉู ูโุฎูุงูุฏ ุงุฌุฑุง ฺฉูุฏ ุฑุง ุงุฒ ุทุฑู sender ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ.</li>
<li>ุฏุฑ Thread ุฎูุฏุ <code>Worker</code> ุจุฑ receiver ุฎูุฏ ุญููู ุฒุฏู ู Closureูุง ูุฑ ฺฉุงุฑ ฺฉู ุฏุฑุงูุช ูโฺฉูุฏ ุฑุง ุงุฌุฑุง ุฎูุงูุฏ ฺฉุฑุฏ.</li>
</ol>
<p>ุจุงุฏ ุจุง ุงุฌุงุฏ ฺฉ Channel ุฏุฑ <code>ThreadPool::new</code> ู ูฺฏูุฏุงุฑ sender ุฏุฑ ููููู <code>ThreadPool</code> ุดุฑูุน ฺฉููุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุช ฒฑ-ฑถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุณุงุฎุชุงุฑ <code>Job</code> ุฏุฑ ุญุงู ุญุงุถุฑ ฺุฒ ูฺฏู ููโุฏุงุฑุฏุ ุงูุง ููุน ุขุชู ุฎูุงูุฏ ุจูุฏ ฺฉู ุงุฒ ุทุฑู Channel ุงุฑุณุงู ูโฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::{sync::mpsc, thread};

pub struct ThreadPool {
    workers: Vec&lt;Worker&gt;,
    sender: mpsc::Sender&lt;Job&gt;,
}

struct Job;

impl ThreadPool {
    // --snip--
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span>    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        let (sender, receiver) = mpsc::channel();

        let mut workers = Vec::with_capacity(size);

        for id in 0..size {
            workers.push(Worker::new(id));
        }

        ThreadPool { workers, sender }
    }
    // --snip--
<span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">    }
</span>}
<span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Worker {
</span><span class="boring">    fn new(id: usize) -&gt; Worker {
</span><span class="boring">        let thread = thread::spawn(|| {});
</span><span class="boring">
</span><span class="boring">        Worker { id, thread }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 21-16: ุชุบุฑ <code>ThreadPool</code> ุจุฑุง ุฐุฎุฑู sender ฺฉ Channel ฺฉู ูููููโูุง <code>Job</code> ุฑุง ููุชูู ูโฺฉูุฏ</figcaption>
</figure>
<p>ุฏุฑ <code>ThreadPool::new</code>ุ ฺฉ Channel ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูู ู Pool ูฺฏูุฏุงุฑูุฏู sender ุฎูุงูุฏ ุจูุฏ. ุงู ฺฉุฏ ุจุง ููููุช ฺฉุงููพุงู ูโุดูุฏ.</p>
<p>ุจุงุฏ ุชูุงุด ฺฉูู ฺฉ receiver ุงุฒ Channel ุฑุง ุจู ูุฑ Worker ุฏุฑ ููฺฏุงู ุงุฌุงุฏ Channel ุชูุณุท Thread Pool ุงุฑุณุงู ฺฉูู. ูโุฏุงูู ฺฉู ูโุฎูุงูู receiver ุฑุง ุฏุฑ Thread ฺฉู Workerูุง ุงุฌุงุฏ ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉููุ ุจูุงุจุฑุงู ุจู ูพุงุฑุงูุชุฑ <code>receiver</code> ุฏุฑ Closure ุงุฑุฌุงุน ูโุฏูู. ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ฑท ูููุฒ ฺฉุงููุงู ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::{sync::mpsc, thread};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Job;
</span><span class="boring">
</span>impl ThreadPool {
    // --snip--
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span>    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        let (sender, receiver) = mpsc::channel();

        let mut workers = Vec::with_capacity(size);

        for id in 0..size {
            workers.push(Worker::new(id, receiver));
        }

        ThreadPool { workers, sender }
    }
    // --snip--
<span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">    }
</span>}

// --snip--

<span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>impl Worker {
    fn new(id: usize, receiver: mpsc::Receiver&lt;Job&gt;) -&gt; Worker {
        let thread = thread::spawn(|| {
            receiver;
        });

        Worker { id, thread }
    }
}</code></pre>
<figcaption>Listing 21-17: ุงุฑุณุงู receiver ุจู Workerูุง</figcaption>
</figure>
<p>ูุง ุชุบุฑุงุช ฺฉูฺฺฉ ู ูุงุถุญ ุงุฌุงุฏ ฺฉุฑุฏูโุงู: receiver ุฑุง ุจู <code>Worker::new</code> ุงุฑุณุงู ฺฉุฑุฏูโุงู ู ุณูพุณ ุงุฒ ุขู ุฏุฑ ุฏุงุฎู Closure ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู.</p>
<p>ููฺฏุงู ฺฉู ุชูุงุด ูโฺฉูู ุงู ฺฉุฏ ุฑุง ุจุฑุฑุณ ฺฉููุ ุจุง ุงู ุฎุทุง ููุงุฌู ูโุดูู:</p>
<pre><code class="language-console">$ cargo check
    Checking hello v0.1.0 (file:///projects/hello)
error[E0382]: use of moved value: `receiver`
  --&gt; src/lib.rs:26:42
   |
21 |         let (sender, receiver) = mpsc::channel();
   |                      -------- move occurs because `receiver` has type `std::sync::mpsc::Receiver&lt;Job&gt;`, which does not implement the `Copy` trait
...
25 |         for id in 0..size {
   |         ----------------- inside of this loop
26 |             workers.push(Worker::new(id, receiver));
   |                                          ^^^^^^^^ value moved here, in previous iteration of loop
   |
note: consider changing this parameter type in method `new` to borrow instead if owning the value isn't necessary
  --&gt; src/lib.rs:47:33
   |
47 |     fn new(id: usize, receiver: mpsc::Receiver&lt;Job&gt;) -&gt; Worker {
   |        --- in this method       ^^^^^^^^^^^^^^^^^^^ this parameter takes ownership of the value
help: consider moving the expression out of the loop so it is only moved once
   |
25 ~         let mut value = Worker::new(id, receiver);
26 ~         for id in 0..size {
27 ~             workers.push(value);
   |

For more information about this error, try `rustc --explain E0382`.
error: could not compile `hello` (lib) due to 1 previous error
</code></pre>
<p>ฺฉุฏ ุฏุฑ ุชูุงุด ุงุณุช <code>receiver</code> ุฑุง ุจู ฺูุฏู ููููู <code>Worker</code> ููุชูู ฺฉูุฏ. ุงู ฺฉุงุฑ ุงูฺฉุงูโูพุฐุฑ ูุณุชุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฑถ ุจุญุซ ุดุฏ: ูพุงุฏูโุณุงุฒ ฺฉุงูุงู (channel) ฺฉู Rust ุงุฑุงุฆู ูโุฏูุฏุ ุงุฒ ููุน ฺูุฏ ุชููุฏฺฉููุฏู (<em>multiple producer</em>) ู ฺฉ ูุตุฑูโฺฉููุฏู (<em>single consumer</em>) ุงุณุช. ุงู ุจู ุงู ูุนู ุงุณุช ฺฉู ููโุชูุงูู ุจู ุณุงุฏฺฏ ุจุฎุด ูุตุฑูโฺฉููุฏู ฺฉุงูุงู ุฑุง ุจุฑุง ุฑูุน ุงู ฺฉุฏ ฺฉูพ ฺฉูู. ููฺูู ููโุฎูุงูู ฺฉ ูพุงู ุฑุง ฺูุฏู ุจุงุฑ ุจู ฺูุฏ ูุตุฑูโฺฉููุฏู ุงุฑุณุงู ฺฉููุ ุจูฺฉู ูโุฎูุงูู ฺฉ ูุณุช ุงุฒ ูพุงูโูุง ุฏุงุดุชู ุจุงุดู ฺฉู ฺูุฏู Worker ุขู ุฑุง ูพุฑุฏุงุฒุด ฺฉููุฏ ุจูโฺฏูููโุง ฺฉู ูุฑ ูพุงู ููุท ฺฉ ุจุงุฑ ูพุฑุฏุงุฒุด ุดูุฏ.</p>
<p>ุนูุงูู ุจุฑ ุงูุ ุจุฑุฏุงุดุชู ฺฉ ฺฉุงุฑ ุงุฒ ุตู ฺฉุงูุงู ุดุงูู ุชุบุฑ <code>receiver</code> ูโุดูุฏุ ุจูุงุจุฑุงู Threadูุง ุจู ฺฉ ุฑูุด ุงูู ุจุฑุง ุงุดุชุฑุงฺฉ ู ุชุบุฑ <code>receiver</code> ูุงุฒ ุฏุงุฑูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ููฺฉู ุงุณุช ุจุง ุดุฑุงุท ุฑูุงุจุช (<em>race conditions</em>) ููุงุฌู ุดูู (ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฑถ ุชูุถุญ ุฏุงุฏู ุดุฏ).</p>
<p>ุจุง ุงุฏุขูุฑ ุงุดุงุฑูโฺฏุฑ (Pointer)ูุง ููุดููุฏ ุงูู ุจุฑุง Threadูุง ฺฉู ุฏุฑ ูุตู ฑถ ูุนุฑู ุดุฏูุฏ: ุจุฑุง ุงุดุชุฑุงฺฉ ูุงูฺฉุช ูุงู ฺูุฏู Thread ู ุงุฌุงุฒู ุชุบุฑ ููุฏุงุฑุ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ <code>Arc&lt;Mutex&lt;T&gt;&gt;</code> ุฏุงุฑู. ููุน <code>Arc</code> ุจู ฺูุฏู Worker ุงุฌุงุฒู ูโุฏูุฏ ูุงูฺฉุช <code>receiver</code> ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑูุฏ ู <code>Mutex</code> ุชุถูู ูโฺฉูุฏ ฺฉู ููุท ฺฉ Worker ุฏุฑ ูุฑ ูุญุธู ฺฉ ฺฉุงุฑ ุฑุง ุงุฒ <code>receiver</code> ุฏุฑุงูุช ฺฉูุฏ. ูุณุช ฒฑ-ฑธ ุชุบุฑุงุช ุฑุง ฺฉู ุจุงุฏ ุงุนูุงู ฺฉูู ูุดุงู ูโุฏูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::{
    sync::{mpsc, Arc, Mutex},
    thread,
};
// --snip--

<span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Job;
</span><span class="boring">
</span>impl ThreadPool {
    // --snip--
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span>    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        let (sender, receiver) = mpsc::channel();

        let receiver = Arc::new(Mutex::new(receiver));

        let mut workers = Vec::with_capacity(size);

        for id in 0..size {
            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
        }

        ThreadPool { workers, sender }
    }

    // --snip--
<span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">    }
</span>}

// --snip--

<span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>impl Worker {
    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
        // --snip--
<span class="boring">        let thread = thread::spawn(|| {
</span><span class="boring">            receiver;
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        Worker { id, thread }
</span>    }
}</code></pre>
<figcaption>Listing 21-18: ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ <code>receiver</code> ุจู Workerูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Arc</code> ู <code>Mutex</code></figcaption>
</figure>
<p>ุฏุฑ <code>ThreadPool::new</code>ุ <code>receiver</code> ุฑุง ุฏุฑ ฺฉ <code>Arc</code> ู ฺฉ <code>Mutex</code> ูุฑุงุฑ ูโุฏูู. ุจุฑุง ูุฑ Worker ุฌุฏุฏุ <code>Arc</code> ุฑุง ฺฉูพ ูโฺฉูู ุชุง ุดูุงุฑูุฏู ูุฑุฌุน ุงูุฒุงุด ุงุจุฏ ู Workerูุง ุจุชูุงููุฏ ูุงูฺฉุช <code>receiver</code> ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑูุฏ.</p>
<p>ุจุง ุงู ุชุบุฑุงุชุ ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏ! ุจู ูุชุฌู ูุฒุฏฺฉโุชุฑ ูโุดูู!</p>
<h4 id="ูพุงุฏูุณุงุฒ-ูุชุฏ-execute"><a class="header" href="#ูพุงุฏูุณุงุฒ-ูุชุฏ-execute">ูพุงุฏูโุณุงุฒ ูุชุฏ <code>execute</code></a></h4>
<p>ุฏุฑ ููุงุชุ ุจุงุฏ ูุชุฏ <code>execute</code> ุฑุง ุฑู <code>ThreadPool</code> ูพุงุฏูโุณุงุฒ ฺฉูู. ููฺูู <code>Job</code> ุฑุง ุงุฒ ฺฉ ุณุงุฎุชุงุฑ ุจู ฺฉ ูุงู ูุณุชุนุงุฑ ููุน (<em>type alias</em>) ุจุฑุง ฺฉ ุดุก ูฺฺฏ ุชุบุฑ ุฎูุงูู ุฏุงุฏ ฺฉู ููุน Closure ฺฉู <code>execute</code> ุฏุฑุงูุช ูโฺฉูุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch20-03-advanced-types.html#creating-type-synonyms-with-type-aliases">โุงุฌุงุฏ ูุชุฑุงุฏูโูุง ููุน ุจุง ูุงู ูุณุชุนุงุฑโ</a><!-- ignore --> ุงุฒ ูุตู ฒฐ ุจุญุซ ุดุฏุ ูุงูโูุง ูุณุชุนุงุฑ ููุน ุจู ูุง ุงูฺฉุงู ูโุฏููุฏ ุชุงูพโูุง ุทููุงู ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุขุณุงูโุชุฑ ฺฉูุชุงู ฺฉูู. ุจู ูุณุช ฒฑ-ฑน ูฺฏุงู ฺฉูุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>// --snip--

type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;

impl ThreadPool {
    // --snip--
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span><span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        ThreadPool { workers, sender }
</span><span class="boring">    }
</span>
    pub fn execute&lt;F&gt;(&amp;self, f: F)
    where
        F: FnOnce() + Send + 'static,
    {
        let job = Box::new(f);

        self.sender.send(job).unwrap();
    }
}

// --snip--
<span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Worker {
</span><span class="boring">    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
</span><span class="boring">        let thread = thread::spawn(|| {
</span><span class="boring">            receiver;
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        Worker { id, thread }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 21-19: ุงุฌุงุฏ ฺฉ ูุงู ูุณุชุนุงุฑ <code>Job</code> ุจุฑุง ฺฉ <code>Box</code> ฺฉู ูุฑ Closure ุฑุง ูฺฏู ูโุฏุงุฑุฏ ู ุณูพุณ ุงุฑุณุงู ฺฉุงุฑ ุงุฒ ุทุฑู ฺฉุงูุงู</figcaption>
</figure>
<p>ูพุณ ุงุฒ ุงุฌุงุฏ ฺฉ ููููู ุฌุฏุฏ <code>Job</code> ุจุง ุงุณุชูุงุฏู ุงุฒ Closure ฺฉู ุฏุฑ <code>execute</code> ุฏุฑุงูุช ูโฺฉููุ ุขู ฺฉุงุฑ ุฑุง ุงุฒ ุทุฑู ุจุฎุด ุงุฑุณุงูโฺฉููุฏู ฺฉุงูุงู ุงุฑุณุงู ูโฺฉูู. ูุง ุจุฑุง ุญุงูุช ฺฉู ุงุฑุณุงู ุดฺฉุณุช ุจุฎูุฑุฏุ ุฑู <code>send</code> ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ูโฺฉูู. ุงู ุญุงูุช ููฺฉู ุงุณุช ุฑุฎ ุฏูุฏุ ุงฺฏุฑ ูุซูุงู ููู Threadูุง ูุง ุงุฒ ุงุฌุฑุง ูุชููู ุดููุฏุ ุจู ุงู ูุนู ฺฉู ุจุฎุด ุฏุฑุงูุชโฺฉููุฏู ุฏฺฏุฑ ูพุงูโูุง ุฌุฏุฏ ุฑุง ุฏุฑุงูุช ููโฺฉูุฏ. ุฏุฑ ุญุงู ุญุงุถุฑุ ููโุชูุงูู Threadูุง ุฎูุฏ ุฑุง ุงุฒ ุงุฌุฑุง ูุชููู ฺฉูู: Threadูุง ูุง ุชุง ุฒูุงู ฺฉู Pool ูุฌูุฏ ุฏุงุฑุฏ ุงุฌุฑุง ูโุดููุฏ. ุฏูู ุงุณุชูุงุฏู ุงุฒ <code>unwrap</code> ุงู ุงุณุช ฺฉู ูโุฏุงูู ุญุงูุช ุดฺฉุณุช ุฑุฎ ูุฎูุงูุฏ ุฏุงุฏุ ุงูุง ฺฉุงููพุงูุฑ ุงู ููุถูุน ุฑุง ููโุฏุงูุฏ.</p>
<p>ุงูุง ูููุฒ ฺฉุงููุงู ฺฉุงุฑ ุชูุงู ูุดุฏู ุงุณุช! ุฏุฑ Workerุ Closure ฺฉู ุจู <code>thread::spawn</code> ุงุฑุณุงู ูโุดูุฏ ููฺูุงู ููุท ุจู ุจุฎุด ุฏุฑุงูุชโฺฉููุฏู ฺฉุงูุงู <em>ุงุดุงุฑู ูโฺฉูุฏ</em>. ุฏุฑ ุนูุถุ ุจุงุฏ Closure ุจู ุทูุฑ ูุฏุงูู ุญููู ุจุฒูุฏุ ุงุฒ ุจุฎุด ุฏุฑุงูุชโฺฉููุฏู ฺฉุงูุงู ุฏุฑุฎูุงุณุช ฺฉ ฺฉุงุฑ ฺฉูุฏ ู ฺฉุงุฑ ุฑุง ููฺฏุงู ุฏุฑุงูุช ุงุฌุฑุง ฺฉูุฏ. ุจุงุฏ ุชุบุฑุงุช ูุดุงู ุฏุงุฏูโุดุฏู ุฏุฑ ูุณุช ฒฑ-ฒฐ ุฑุง ุจู <code>Worker::new</code> ุงุนูุงู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;
</span><span class="boring">
</span><span class="boring">impl ThreadPool {
</span><span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span><span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        ThreadPool { workers, sender }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">        let job = Box::new(f);
</span><span class="boring">
</span><span class="boring">        self.sender.send(job).unwrap();
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>// --snip--

impl Worker {
    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
        let thread = thread::spawn(move || loop {
            let job = receiver.lock().unwrap().recv().unwrap();

            println!("Worker {id} got a job; executing.");

            job();
        });

        Worker { id, thread }
    }
}</code></pre>
<figcaption>Listing 21-20: ุฏุฑุงูุช ู ุงุฌุฑุง ฺฉุงุฑูุง ุฏุฑ Thread ูุฑุจูุท ุจู Worker</figcaption>
</figure>
<p>ุฏุฑ ุงูุฌุงุ ุงุจุชุฏุง <code>lock</code> ุฑุง ุฑู <code>receiver</code> ูุฑุงุฎูุงู ูโฺฉูู ุชุง mutex ุฑุง ุจู ุฏุณุช ุขูุฑูุ ู ุณูพุณ <code>unwrap</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุฑฺฏููู ุฎุทุงุ ุจุฑูุงูู ูุชููู ุดูุฏ. ุจู ุฏุณุช ุขูุฑุฏู ฺฉ ููู ููฺฉู ุงุณุช ุดฺฉุณุช ุจุฎูุฑุฏ ุงฺฏุฑ mutex ุฏุฑ ฺฉ ูุถุนุช <em>poisoned</em> ุจุงุดุฏุ ฺฉู ููฺฉู ุงุณุช ุงุชูุงู ุจูุชุฏ ุงฺฏุฑ ฺฉ Thread ุฏฺฏุฑ ุฏุฑ ุญุงู ฺฉู ููู ุฑุง ูฺฏู ุฏุงุดุชู ุงุณุช ุจู ุฌุง ุขุฒุงุฏ ฺฉุฑุฏู ุขู ูุชููู ุดุฏู ุจุงุดุฏ. ุฏุฑ ุงู ุดุฑุงุทุ ูุฑุงุฎูุงู <code>unwrap</code> ุจุฑุง ูุชููู ฺฉุฑุฏู ุงู Thread ุงูุฏุงู ุฏุฑุณุช ุงุณุช. ูโุชูุงูุฏ ุงู <code>unwrap</code> ุฑุง ุจู ฺฉ <code>expect</code> ุจุง ฺฉ ูพุงู ุฎุทุง ูุนูุงุฏุงุฑ ุจุฑุง ุฎูุฏ ุชุบุฑ ุฏูุฏ.</p>
<p>ุงฺฏุฑ ููู ุฑู mutex ุฑุง ุจู ุฏุณุช ุขูุฑูุ <code>recv</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู ุชุง ฺฉ <code>Job</code> ุฑุง ุงุฒ ฺฉุงูุงู ุฏุฑุงูุช ฺฉูู. ฺฉ <code>unwrap</code> ููุง ูุฒ ุฏุฑ ุงูุฌุง ูุฑ ฺฏููู ุฎุทุง ุฑุง ุจุฑุทุฑู ูโฺฉูุฏุ ฺฉู ููฺฉู ุงุณุช ุฑุฎ ุฏูุฏ ุงฺฏุฑ Thread ฺฉู sender ุฑุง ูฺฏู ุฏุงุดุชู ุงุณุช ุฎุงููุด ุดูุฏุ ูุดุงุจู ูุญููโุง ฺฉู ูุชุฏ <code>send</code> ุฏุฑ ุตูุฑุช ุฎุงููุด ุดุฏู receiver ฺฉ <code>Err</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุฑุงุฎูุงู <code>recv</code> ูุณุฏูุฏ ูโุดูุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ูููุฒ ูฺ ฺฉุงุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ Thread ูุนู ููุชุธุฑ ูโูุงูุฏ ุชุง ฺฉ ฺฉุงุฑ ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ฺฏุฑุฏ. <code>Mutex&lt;T&gt;</code> ุชุถูู ูโฺฉูุฏ ฺฉู ุฏุฑ ูุฑ ูุญุธู ููุท ฺฉ Thread <code>Worker</code> ุฏุฑ ุชูุงุด ุจุฑุง ุฏุฑุฎูุงุณุช ฺฉ ฺฉุงุฑ ุงุณุช.</p>
<p>Thread Pool ูุง ุงฺฉููู ุฏุฑ ูุถุนุช ฺฉุงุฑ ูุฑุงุฑ ุฏุงุฑุฏ! ุฏุณุชูุฑ <code>cargo run</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ฺูุฏู ุฏุฑุฎูุงุณุช ุงุฑุณุงู ฺฉูุฏ:</p>
<!-- manual-regeneration
cd listings/ch21-web-server/listing-21-20
cargo run
make some requests to 127.0.0.1:7878
Can't automate because the output depends on making requests
-->
<pre><code class="language-console">$ cargo run
   Compiling hello v0.1.0 (file:///projects/hello)
warning: field `workers` is never read
 --&gt; src/lib.rs:7:5
  |
6 | pub struct ThreadPool {
  |            ---------- field in this struct
7 |     workers: Vec&lt;Worker&gt;,
  |     ^^^^^^^
  |
  = note: `#[warn(dead_code)]` on by default

warning: fields `id` and `thread` are never read
  --&gt; src/lib.rs:48:5
   |
47 | struct Worker {
   |        ------ fields in this struct
48 |     id: usize,
   |     ^^
49 |     thread: thread::JoinHandle&lt;()&gt;,
   |     ^^^^^^

warning: `hello` (lib) generated 2 warnings
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 4.91s
     Running `target/debug/hello`
Worker 0 got a job; executing.
Worker 2 got a job; executing.
Worker 1 got a job; executing.
Worker 3 got a job; executing.
Worker 0 got a job; executing.
Worker 2 got a job; executing.
Worker 1 got a job; executing.
Worker 3 got a job; executing.
Worker 0 got a job; executing.
Worker 2 got a job; executing.
</code></pre>
<p>ููููุช! ุงฺฉููู ฺฉ Thread Pool ุฏุงุฑู ฺฉู ุงุชุตุงูุงุช ุฑุง ุจู ุตูุฑุช ููุฒูุงู ุงุฌุฑุง ูโฺฉูุฏ. ูุฑฺฏุฒ ุจุด ุงุฒ ฺูุงุฑ Thread ุงุฌุงุฏ ููโุดูุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ุณุฑูุฑ ุฏุฑุฎูุงุณุชโูุง ุฒุงุฏ ุฏุฑุงูุช ฺฉูุฏุ ุณุณุชู ูุง ุจุงุฑฺฏุฐุงุฑ ุจุด ุงุฒ ุญุฏ ูุฎูุงูุฏ ุดุฏ. ุงฺฏุฑ ฺฉ ุฏุฑุฎูุงุณุช ุจู <em>/sleep</em> ุงุฑุณุงู ฺฉููุ ุณุฑูุฑ ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ Thread ุฏฺฏุฑ ุจู ุณุงุฑ ุฏุฑุฎูุงุณุชโูุง ูพุงุณุฎ ุฏูุฏ.</p>
<blockquote>
<p>ูฺฉุชู: ุงฺฏุฑ <em>/sleep</em> ุฑุง ุจู ุทูุฑ ููุฒูุงู ุฏุฑ ฺูุฏู ูพูุฌุฑู ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏุ ููฺฉู ุงุณุช ฺฉ ูพุณ ุงุฒ ุฏฺฏุฑ ุฏุฑ ููุงุตู ต ุซุงููโุง ุจุงุฑฺฏุฐุงุฑ ุดููุฏ. ุจุฑุฎ ูุฑูุฑฺฏุฑูุง ูุจ ุจู ุฏูุงู ูุฑุจูุท ุจู ฺฉุดุ ฺูุฏู ููููู ุงุฒ ููุงู ุฏุฑุฎูุงุณุช ุฑุง ุจู ุตูุฑุช ูุชูุงู ุงุฌุฑุง ูโฺฉููุฏ. ุงู ูุญุฏูุฏุช ุชูุณุท ูุจ ุณุฑูุฑ ูุง ุงุฌุงุฏ ูุดุฏู ุงุณุช.</p>
</blockquote>
<p>ุงู ุฒูุงู ุฎูุจ ุงุณุช ฺฉู ูฺฉุซ ฺฉูู ู ุจุฑุฑุณ ฺฉูู ฺฺฏููู ฺฉุฏูุง ูุณุชโูุง ฒฑ-ฑธุ ฒฑ-ฑน ู ฒฑ-ฒฐ ุงฺฏุฑ ุจู ุฌุง Closure ุงุฒ futures ุจุฑุง ุงูุฌุงู ฺฉุงุฑ ุงุณุชูุงุฏู ูโฺฉุฑุฏูุ ูุชูุงูุช ูโุจูุฏ. ฺู ููุนโูุง ุชุบุฑ ูโฺฉุฑุฏูุฏุ ุขุง ุงูุถุงูุง ูุชุฏูุง ุชุบุฑ ูโฺฉุฑุฏูุฏุ ฺฉุฏุงู ุจุฎุดโูุง ฺฉุฏ ููุงูโฺฏููู ุจุงู ูโูุงูุฏูุฏุ</p>
<p>ูพุณ ุงุฒ ุงุฏฺฏุฑ ุญููู <code>while let</code> ุฏุฑ ูุตูโูุง ฑท ู ฑธุ ููฺฉู ุงุณุช ุชุนุฌุจ ฺฉูุฏ ฺุฑุง ฺฉุฏ Thread Worker ุฑุง ูุงููุฏ ูุณุช ฒฑ-ฒฑ ูููุดุชู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore not_desired_behavior"><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;
</span><span class="boring">
</span><span class="boring">impl ThreadPool {
</span><span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span><span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        ThreadPool { workers, sender }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">        let job = Box::new(f);
</span><span class="boring">
</span><span class="boring">        self.sender.send(job).unwrap();
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span>// --snip--

impl Worker {
    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
        let thread = thread::spawn(move || {
            while let Ok(job) = receiver.lock().unwrap().recv() {
                println!("Worker {id} got a job; executing.");

                job();
            }
        });

        Worker { id, thread }
    }
}</code></pre>
<figcaption>Listing 21-21: ฺฉ ูพุงุฏูโุณุงุฒ ุฌุงฺฏุฒู ุจุฑุง <code>Worker::new</code> ุจุง ุงุณุชูุงุฏู ุงุฒ <code>while let</code></figcaption>
</figure>
<p>ุงู ฺฉุฏ ฺฉุงููพุงู ูโุดูุฏ ู ุงุฌุฑุง ูโุดูุฏุ ุงูุง ููุฌุฑ ุจู ุฑูุชุงุฑ ููุฑุฏ ูุธุฑ ุจุฑุง threading ููโุดูุฏ: ฺฉ ุฏุฑุฎูุงุณุช ฺฉูุฏ ููฺูุงู ุจุงุนุซ ูโุดูุฏ ุณุงุฑ ุฏุฑุฎูุงุณุชโูุง ุจุฑุง ูพุฑุฏุงุฒุด ููุชุธุฑ ุจูุงููุฏ. ุฏูู ุขู ฺฉู ุธุฑู ุงุณุช: ุณุงุฎุชุงุฑ <code>Mutex</code> ูุชุฏ ุนููู <code>unlock</code> ูุฏุงุฑุฏุ ุฒุฑุง ูุงูฺฉุช ููู ุจุฑ ุงุณุงุณ ุทูู ุนูุฑ <code>MutexGuard&lt;T&gt;</code> ุฏุฑูู <code>LockResult&lt;MutexGuard&lt;T&gt;&gt;</code> ฺฉู ูุชุฏ <code>lock</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ ุงุณุช. ุฏุฑ ุฒูุงู ฺฉุงููพุงูุ ุจุฑุฑุณโฺฉููุฏู ูุงู ูโุชูุงูุฏ ุงู ูุงููู ุฑุง ุงุนูุงู ฺฉูุฏ ฺฉู ููุจุน ฺฉู ุชูุณุท ฺฉ <code>Mutex</code> ูุญุงูุธุช ูโุดูุฏ ููโุชูุงูุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ ูฺฏุฑ ุงูฺฉู ููู ุฑุง ูฺฏู ุฏุงุดุชู ุจุงุดู. ุจุง ุงู ุญุงูุ ุงู ูพุงุฏูโุณุงุฒ ููฺูู ูโุชูุงูุฏ ููุฌุฑ ุจู ูฺฏูโุฏุงุดุชู ููู ุจุด ุงุฒ ุญุฏ ุงูุชุธุงุฑ ุดูุฏ ุงฺฏุฑ ุจู ุทูู ุนูุฑ <code>MutexGuard&lt;T&gt;</code> ุชูุฌู ูฺฉูู.</p>
<p>ฺฉุฏ ููุฌูุฏ ุฏุฑ ูุณุช ฒฑ-ฒฐ ฺฉู ุงุฒ <code>let job = receiver.lock().unwrap().recv().unwrap();</code> ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉุงุฑ ูโฺฉูุฏ ุฒุฑุง ุจุง <code>let</code>ุ ูุฑ ููุฏุงุฑ ูููุช ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ุนุจุงุฑุช ุณูุช ุฑุงุณุช ุนูุงูุช ุจุฑุงุจุฑ ุจูุงูุงุตูู ูพุณ ุงุฒ ูพุงุงู ุฏุณุชูุฑ <code>let</code> ุญุฐู ูโุดูุฏ. ุจุง ุงู ุญุงูุ <code>while let</code> (ู ููฺูู <code>if let</code> ู <code>match</code>) ููุงุฏุฑ ูููุช ุฑุง ุชุง ูพุงุงู ุจููฺฉ ูุฑุชุจุท ุญุฐู ููโฺฉูุฏ. ุฏุฑ ูุณุช ฒฑ-ฒฑุ ููู ุฏุฑ ุทูู ูุฑุงุฎูุงู ุจู <code>job()</code> ูฺฏู ุฏุงุดุชู ูโุดูุฏุ ุจู ุงู ูุนู ฺฉู ุณุงุฑ Workerูุง ููโุชูุงููุฏ ฺฉุงุฑ ุฏุฑุงูุช ฺฉููุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุฎุงููุด-ู-ูพุงฺฉุณุงุฒ-ููุธู"><a class="header" href="#ุฎุงููุด-ู-ูพุงฺฉุณุงุฒ-ููุธู">ุฎุงููุด ู ูพุงฺฉโุณุงุฒ ููุธู</a></h2>
<p>ฺฉุฏ ฺฉู ุฏุฑ ูุณุชูฺฏ 21-20 ูุฌูุฏ ุฏุงุฑุฏุ ููุงูโุทูุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุดุชูุ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุฌููุนู ูุฎ (thread pool) ุจู ุฏุฑุฎูุงุณุชโูุง ุจู ุตูุฑุช ุบุฑููุฒูุงู ูพุงุณุฎ ูโุฏูุฏ. ูุง ูุดุฏุงุฑูุง ุฏุฑ ููุฑุฏ ููุฏูุง <code>workers</code>ุ <code>id</code> ู <code>thread</code> ุฏุฑุงูุช ูโฺฉูู ฺฉู ุจู ุทูุฑ ูุณุชูู ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ููโฺฉูู ู ุจู ูุง ุงุฏุขูุฑ ูโฺฉููุฏ ฺฉู ูฺ ฺุฒ ุฑุง ูพุงฺฉโุณุงุฒ ููโฺฉูู. ููุช ุงุฒ ุฑูุด ฺฉูโุธุฑุงูุช <kbd>ctrl</kbd>-<kbd>c</kbd> ุจุฑุง ูุชููู ฺฉุฑุฏู ูุฎ ุงุตู ุงุณุชูุงุฏู ูโฺฉููุ ุชูุงู ูุฎโูุง ุฏฺฏุฑ ูุฒ ุจูุงูุงุตูู ูุชููู ูโุดููุฏุ ุญุช ุงฺฏุฑ ุฏุฑ ูุงูู ุงุฑุงุฆู ฺฉ ุฏุฑุฎูุงุณุช ุจุงุดูุฏ.</p>
<p>ุณูพุณุ ูุง <code>Drop</code> trait ุฑุง ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ ุชุง <code>join</code> ุฑุง ุฑู ูุฑ ฺฉ ุงุฒ ูุฎโูุง ููุฌูุฏ ุฏุฑ ูุฌููุนู ูุฎ ูุฑุงุฎูุงู ฺฉูู ุชุง ุจุชูุงููุฏ ุฏุฑุฎูุงุณุชโูุง ฺฉู ุฏุฑ ุญุงู ฺฉุงุฑ ุฑู ุขูโูุง ูุณุชูุฏ ุฑุง ูุจู ุงุฒ ุจุณุชูโุดุฏู ุชฺฉูู ฺฉููุฏ. ุณูพุณ ุฑูุด ุจุฑุง ุงุทูุงุน ุจู ูุฎโูุง ฺฉู ูุจุงุฏ ุฏุฑุฎูุงุณุชโูุง ุฌุฏุฏ ุจูพุฐุฑูุฏ ู ุจุงุฏ ุฎุงููุด ุดููุฏุ ูพุงุฏูโุณุงุฒ ุฎูุงูู ฺฉุฑุฏ. ุจุฑุง ูุดุงูุฏู ุนููฺฉุฑุฏ ุงู ฺฉุฏุ ุณุฑูุฑ ุฎูุฏ ุฑุง ุชุบุฑ ูโุฏูู ุชุง ููุท ุฏู ุฏุฑุฎูุงุณุช ุฑุง ูุจู ุงุฒ ุฎุงููุด ููุธู ูุฌููุนู ูุฎโูุง ุจูพุฐุฑุฏ.</p>
<p>ฺุฒ ฺฉู ุจุงุฏ ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ุงู ุงุณุช ฺฉู ูฺโฺฉุฏุงู ุงุฒ ุงู ููุงุฑุฏ ุจุฎุดโูุง ุงุฒ ฺฉุฏ ุฑุง ฺฉู ูุฏุฑุช ุงุฌุฑุง closureูุง ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑูุฏุ ุชุญุช ุชุฃุซุฑ ูุฑุงุฑ ููโุฏููุฏุ ุจูุงุจุฑุงู ููู ฺุฒ ุฏุฑ ุงูุฌุง ููุงูโุทูุฑ ุจุงู ูโูุงูุฏ ุงฺฏุฑ ุงุฒ ฺฉ ูุฌููุนู ูุฎ ุจุฑุง ฺฉ runtime ุบุฑููุฒูุงู ุงุณุชูุงุฏู ูโฺฉุฑุฏู.</p>
<h3 id="ูพุงุฏูุณุงุฒ-drop-trait-ุฑู-threadpool"><a class="header" href="#ูพุงุฏูุณุงุฒ-drop-trait-ุฑู-threadpool">ูพุงุฏูโุณุงุฒ <code>Drop</code> Trait ุฑู <code>ThreadPool</code></a></h3>
<p>ุจุงุฏ ุจุง ูพุงุฏูโุณุงุฒ <code>Drop</code> ุฑู ูุฌููุนู ูุฎ ุดุฑูุน ฺฉูู. ููุช ูุฌููุนู ูุฎ ุญุฐู ูโุดูุฏุ ุชูุงู ูุฎโูุง ูุง ุจุงุฏ ุจู ฺฉุฏฺฏุฑ ููุญู ุดููุฏ ุชุง ูุทูุฆู ุดูู ฺฉุงุฑ ุฎูุฏ ุฑุง ุชฺฉูู ูโฺฉููุฏ. ูุณุชูฺฏ 21-22 ุงููู ุชูุงุด ุจุฑุง ูพุงุฏูโุณุงุฒ <code>Drop</code> ุฑุง ูุดุงู ูโุฏูุฏุ ุงู ฺฉุฏ ูููุฒ ุจู ุฏุฑุณุช ฺฉุงุฑ ูุฎูุงูุฏ ฺฉุฑุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;
</span><span class="boring">
</span><span class="boring">impl ThreadPool {
</span><span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span><span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        ThreadPool { workers, sender }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">        let job = Box::new(f);
</span><span class="boring">
</span><span class="boring">        self.sender.send(job).unwrap();
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl Drop for ThreadPool {
    fn drop(&amp;mut self) {
        for worker in &amp;mut self.workers {
            println!("Shutting down worker {}", worker.id);

            worker.thread.join().unwrap();
        }
    }
}
<span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Worker {
</span><span class="boring">    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
</span><span class="boring">        let thread = thread::spawn(move || loop {
</span><span class="boring">            let job = receiver.lock().unwrap().recv().unwrap();
</span><span class="boring">
</span><span class="boring">            println!("Worker {id} got a job; executing.");
</span><span class="boring">
</span><span class="boring">            job();
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        Worker { id, thread }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 21-22: ููุญู ฺฉุฑุฏู ูุฑ ูุฎ ููุช ูุฌููุนู ูุฎ ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ</figcaption>
</figure>
<p>ุงุจุชุฏุงุ ูุง ุงุฒ ูุงู ูุฑ ฺฉ ุงุฒ <code>workers</code> ููุฌูุฏ ุฏุฑ ูุฌููุนู ูุฎ ุญููู ูโุฒูู. ูุง ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ <code>&amp;mut</code> ุงุณุชูุงุฏู ูโฺฉูู ุฒุฑุง <code>self</code> ฺฉ ุงุฑุฌุงุน ูุงุจู ุชุบุฑ ุงุณุช ู ูุง ููฺูู ูุงุฒ ุฏุงุฑู ฺฉู ุจุชูุงูู <code>worker</code> ุฑุง ุชุบุฑ ุฏูู. ุจุฑุง ูุฑ <code>worker</code>ุ ูพุงู ฺุงูพ ูโฺฉูู ฺฉู ูุดุงู ูโุฏูุฏ ุงู <code>worker</code> ุฎุงุต ุฏุฑ ุญุงู ุฎุงููุดโุดุฏู ุงุณุชุ ู ุณูพุณ <code>join</code> ุฑุง ุฑู ูุฎ ุขู <code>worker</code> ูุฑุงุฎูุงู ูโฺฉูู. ุงฺฏุฑ ูุฑุงุฎูุงู <code>join</code> ุดฺฉุณุช ุจุฎูุฑุฏุ ุงุฒ <code>unwrap</code> ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุงุนุซ panic ุดูุฏ ู ุฎุงููุด ุบุฑููุธู ุงุชูุงู ุจูุชุฏ.</p>
<p>ุงูุฌุง ุฎุทุง ฺฉู ููฺฏุงู ฺฉุงููพุงู ุงู ฺฉุฏ ุฏุฑุงูุช ูโฺฉูู ุขูุฏู ุงุณุช:</p>
<pre><code class="language-console">$ cargo check
    Checking hello v0.1.0 (file:///projects/hello)
error[E0507]: cannot move out of `worker.thread` which is behind a mutable reference
    --&gt; src/lib.rs:52:13
     |
52   |             worker.thread.join().unwrap();
     |             ^^^^^^^^^^^^^ ------ `worker.thread` moved due to this method call
     |             |
     |             move occurs because `worker.thread` has type `JoinHandle&lt;()&gt;`, which does not implement the `Copy` trait
     |
note: `JoinHandle::&lt;T&gt;::join` takes ownership of the receiver `self`, which moves `worker.thread`
    --&gt; file:///home/.rustup/toolchains/1.82/lib/rustlib/src/rust/library/std/src/thread/mod.rs:1763:17
     |
1763 |     pub fn join(self) -&gt; Result&lt;T&gt; {
     |                 ^^^^

For more information about this error, try `rustc --explain E0507`.
error: could not compile `hello` (lib) due to 1 previous error
</code></pre>
<p>ุงู ุฎุทุง ุจู ูุง ูโฺฏูุฏ ฺฉู ููโุชูุงูู <code>join</code> ุฑุง ูุฑุงุฎูุงู ฺฉูู ุฒุฑุง ููุท ฺฉ ูุฑุถ ูุงุจู ุชุบุฑ ุงุฒ ูุฑ <code>worker</code> ุฏุงุฑู ู <code>join</code> ูุงูฺฉุช ุขุฑฺฏููุงู ุฎูุฏ ุฑุง ูโฺฏุฑุฏ. ุจุฑุง ุญู ุงู ูุดฺฉูุ ุจุงุฏ ูุฎ ุฑุง ุงุฒ ููููู <code>Worker</code> ฺฉู ูุงูฺฉ <code>thread</code> ุงุณุช ุฎุงุฑุฌ ฺฉูู ุชุง <code>join</code> ุจุชูุงูุฏ ูุฎ ุฑุง ูุตุฑู ฺฉูุฏ. ฺฉ ุฑุงู ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ุงุณุชูุงุฏู ุงุฒ ููุงู ุฑูฺฉุฑุฏ ุงุณุช ฺฉู ุฏุฑ ูุณุชูฺฏ 18-15 ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงฺฏุฑ <code>Worker</code> ฺฉ <code>Option&lt;thread::JoinHandle&lt;()&gt;&gt;</code> ูฺฏู ูโุฏุงุดุชุ ูโุชูุงูุณุชู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>take</code> ููุฏุงุฑ ุฑุง ุงุฒ ููุน <code>Some</code> ุจู ููุน <code>None</code> ููุชูู ฺฉูู.</p>
<p>ุจุง ุงู ุญุงูุ ุชููุง ุฒูุงู ฺฉู ุงู ูุณุฆูู ูุทุฑุญ ูโุดูุฏ ุฒูุงู ุงุณุช ฺฉู <code>Worker</code> ุญุฐู ูโุดูุฏ. ุฏุฑ ุนูุถุ ุจุงุฏ ุจุง ฺฉ <code>Option&lt;thread::JoinHandle&lt;()&gt;&gt;</code> ุฏุฑ ููู ุฌุง ุณุฑ ู ฺฉุงุฑ ุฏุงุดุชู ุจุงุดู. Rust ุงุฏุฆููุงุชฺฉ ุงุบูุจ ุงุฒ <code>Option</code> ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงูุง ุฒูุงู ฺฉู ูุชูุฌู ุดูุฏ ฺุฒ ุฑุง ุฏุฑ <code>Option</code> ูุฑุงุฑ ูโุฏูุฏ ุจู ุนููุงู ฺฉ ุฑุงูโุญู ูููุชุ ุญุช ุงฺฏุฑ ุจุฏุงูุฏ ุขู ููุฑุฏ ููุดู ุญุถูุฑ ุฏุงุฑุฏุ ุงุฏู ุฎูุจ ุงุณุช ฺฉู ุจู ุฏูุจุงู ุฑูุดโูุง ุฌุงฺฏุฒู ุจุงุดุฏ.</p>
<p>ุฏุฑ ุงู ุญุงูุชุ ฺฉ ุฌุงฺฏุฒู ุจูุชุฑ ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <code>Vec::drain</code> ุงุณุช. ุงู ูุชุฏ ฺฉ ูพุงุฑุงูุชุฑ ูุญุฏูุฏู ูโฺฏุฑุฏ ุชุง ูุดุฎุต ฺฉูุฏ ฺฉุฏุงู ุขุชูโูุง ุจุงุฏ ุงุฒ <code>Vec</code> ุญุฐู ุดููุฏ ู ฺฉ ุชฺฉุฑุงุฑฺฏุฑ ุงุฒ ุขู ุขุชูโูุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงุณุชูุงุฏู ุงุฒ <code>..</code> ุจุฑุง ูุญุฏูุฏู ุชูุงู ููุงุฏุฑ ุฑุง ุงุฒ <code>Vec</code> ุญุฐู ุฎูุงูุฏ ฺฉุฑุฏ.</p>
<p>ุจูุงุจุฑุงู ุจุงุฏ ูพุงุฏูโุณุงุฒ <code>drop</code> ุฏุฑ <code>ThreadPool</code> ุฑุง ุจู ุงู ุตูุฑุช ุจูโุฑูุฒุฑุณุงู ฺฉูู:</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: mpsc::Sender&lt;Job&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;
</span><span class="boring">
</span><span class="boring">impl ThreadPool {
</span><span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span><span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        ThreadPool { workers, sender }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">        let job = Box::new(f);
</span><span class="boring">
</span><span class="boring">        self.sender.send(job).unwrap();
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl Drop for ThreadPool {
    fn drop(&amp;mut self) {
        for worker in self.workers.drain(..) {
            println!("Shutting down worker {}", worker.id);

            worker.thread.join().unwrap();
        }
    }
}
<span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Worker {
</span><span class="boring">    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
</span><span class="boring">        let thread = thread::spawn(move || loop {
</span><span class="boring">            let job = receiver.lock().unwrap().recv().unwrap();
</span><span class="boring">
</span><span class="boring">            println!("Worker {id} got a job; executing.");
</span><span class="boring">
</span><span class="boring">            job();
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        Worker { id, thread }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">}</span></code></pre></pre>
</figure>
<p>ุงู ุชุบุฑ ุฎุทุง ฺฉุงููพุงูุฑ ุฑุง ุจุฑุทุฑู ูโฺฉูุฏ ู ูุงุฒ ุจู ุชุบุฑุงุช ุฏฺฏุฑ ุฏุฑ ฺฉุฏ ูุง ูุฏุงุฑุฏ.</p>
<h3 id="ุนูุงูุชุฏู-ุจู-ูุฎูุง-ุจุฑุง-ุชููู-ฺฏูุด-ุฏุงุฏู-ุจู-ูุธุงู"><a class="header" href="#ุนูุงูุชุฏู-ุจู-ูุฎูุง-ุจุฑุง-ุชููู-ฺฏูุด-ุฏุงุฏู-ุจู-ูุธุงู">ุนูุงูุชโุฏู ุจู ูุฎโูุง ุจุฑุง ุชููู ฺฏูุด ุฏุงุฏู ุจู ูุธุงู</a></h3>
<p>ุจุง ุชูุงู ุชุบุฑุงุช ฺฉู ุงุนูุงู ฺฉุฑุฏูโุงูุ ฺฉุฏ ูุง ุจุฏูู ูฺ ูุดุฏุงุฑ ฺฉุงููพุงู ูโุดูุฏ. ุจุง ุงู ุญุงูุ ุฎุจุฑ ุจุฏ ุงู ุงุณุช ฺฉู ุงู ฺฉุฏ ูููุฒ ุจู ุฏุฑุณุช ฺฉุงุฑ ููโฺฉูุฏ. ฺฉูุฏ ูุดฺฉู ุฏุฑ ููุทู ููุฌูุฏ ุฏุฑ closureูุง ุงุณุช ฺฉู ุชูุณุท ูุฎโูุง ูููููโูุง <code>Worker</code> ุงุฌุฑุง ูโุดููุฏ: ุฏุฑ ุญุงู ุญุงุถุฑุ ูุง <code>join</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉููุ ุงูุง ุงู ฺฉุงุฑ ูุฎโูุง ุฑุง ุฎุงููุด ููโฺฉูุฏ ุฒุฑุง ุขูโูุง ุจุฑุง ููุดู ุฏุฑ ุฌุณุชุฌู ูุธุงู <code>loop</code> ูโุฒููุฏ. ุงฺฏุฑ ุจุง ูพุงุฏูโุณุงุฒ ูุนู <code>drop</code>ุ <code>ThreadPool</code> ุฎูุฏ ุฑุง ุญุฐู ฺฉููุ ูุฎ ุงุตู ุจุฑุง ููุดู ููุชุธุฑ ูโูุงูุฏ ุชุง ุงููู ูุฎ ุชฺฉูู ุดูุฏ.</p>
<p>ุจุฑุง ุญู ุงู ูุดฺฉูุ ุจุงุฏ ุชุบุฑ ุฏุฑ ูพุงุฏูโุณุงุฒ <code>drop</code> ุฏุฑ <code>ThreadPool</code> ู ุณูพุณ ุชุบุฑ ุฏุฑ ุญููู <code>Worker</code> ุงุฌุงุฏ ฺฉูู.</p>
<p>ุงุจุชุฏุงุ ูพุงุฏูโุณุงุฒ <code>drop</code> ุฏุฑ <code>ThreadPool</code> ุฑุง ุชุบุฑ ูโุฏูู ุชุง <code>sender</code> ุฑุง ูุจู ุงุฒ ููุชุธุฑ ูุงูุฏู ุจุฑุง ุชฺฉูู ูุฎโูุง ุจู ุตูุฑุช ุตุฑุญ ุญุฐู ฺฉูู. ูุณุชูฺฏ 21-23 ุชุบุฑุงุช ุฏุฑ <code>ThreadPool</code> ุจุฑุง ุญุฐู ุตุฑุญ <code>sender</code> ุฑุง ูุดุงู ูโุฏูุฏ. ุจุฑุฎูุงู <code>workers</code>ุ ุงูุฌุง ูุง ุจุงุฏ ุงุฒ ฺฉ <code>Option</code> ุงุณุชูุงุฏู ฺฉูู ุชุง ุจุชูุงูู <code>sender</code> ุฑุง ุจุง <code>Option::take</code> ุงุฒ <code>ThreadPool</code> ููุชูู ฺฉูู.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground not_desired_behavior"><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span>pub struct ThreadPool {
    workers: Vec&lt;Worker&gt;,
    sender: Option&lt;mpsc::Sender&lt;Job&gt;&gt;,
}
// --snip--
<span class="boring">
</span><span class="boring">type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;
</span><span class="boring">
</span>impl ThreadPool {
<span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span>    pub fn new(size: usize) -&gt; ThreadPool {
        // --snip--

<span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span>        ThreadPool {
            workers,
            sender: Some(sender),
        }
    }

    pub fn execute&lt;F&gt;(&amp;self, f: F)
    where
        F: FnOnce() + Send + 'static,
    {
        let job = Box::new(f);

        self.sender.as_ref().unwrap().send(job).unwrap();
    }
}

impl Drop for ThreadPool {
    fn drop(&amp;mut self) {
        drop(self.sender.take());

        for worker in self.workers.drain(..) {
            println!("Shutting down worker {}", worker.id);

            worker.thread.join().unwrap();
        }
    }
}
<span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Worker {
</span><span class="boring">    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
</span><span class="boring">        let thread = thread::spawn(move || loop {
</span><span class="boring">            let job = receiver.lock().unwrap().recv().unwrap();
</span><span class="boring">
</span><span class="boring">            println!("Worker {id} got a job; executing.");
</span><span class="boring">
</span><span class="boring">            job();
</span><span class="boring">        });
</span><span class="boring">
</span><span class="boring">        Worker { id, thread }
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 21-23: ุญุฐู ุตุฑุญ <code>sender</code> ูุจู ุงุฒ ููุญู ฺฉุฑุฏู ูุฎโูุง worker</figcaption>
</figure>
<p>ุญุฐู <code>sender</code> ฺฉุงูุงู ุฑุง ูโุจูุฏุฏุ ฺฉู ูุดุงู ูโุฏูุฏ ุฏฺฏุฑ ูฺ ูพุงู ุงุฑุณุงู ูุฎูุงูุฏ ุดุฏ. ููุช ุงู ุงุชูุงู ูโุงูุชุฏุ ุชูุงู ูุฑุงุฎูุงูโูุง <code>recv</code> ฺฉู workers ุฏุฑ ุญููู ุจโููุงุช ุงูุฌุงู ูโุฏููุฏ ฺฉ ุฎุทุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุฏุฑ ูุณุชูฺฏ 21-24ุ ุญููู <code>Worker</code> ุฑุง ุชุบุฑ ูโุฏูู ุชุง ุฏุฑ ฺูู ุญุงูุช ุจู ุตูุฑุช ููุธู ุงุฒ ุญููู ุฎุงุฑุฌ ุดูุฏุ ฺฉู ุจู ุงู ูุนูุงุณุช ฺฉู ูุฎโูุง ููุช ูพุงุฏูโุณุงุฒ <code>drop</code> ุฏุฑ <code>ThreadPool</code> ุฑู ุขูโูุง <code>join</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชฺฉูู ุฎูุงููุฏ ุดุฏ.</p>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground"><span class="boring">use std::{
</span><span class="boring">    sync::{mpsc, Arc, Mutex},
</span><span class="boring">    thread,
</span><span class="boring">};
</span><span class="boring">
</span><span class="boring">pub struct ThreadPool {
</span><span class="boring">    workers: Vec&lt;Worker&gt;,
</span><span class="boring">    sender: Option&lt;mpsc::Sender&lt;Job&gt;&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;
</span><span class="boring">
</span><span class="boring">impl ThreadPool {
</span><span class="boring">    /// Create a new ThreadPool.
</span><span class="boring">    ///
</span><span class="boring">    /// The size is the number of threads in the pool.
</span><span class="boring">    ///
</span><span class="boring">    /// # Panics
</span><span class="boring">    ///
</span><span class="boring">    /// The `new` function will panic if the size is zero.
</span><span class="boring">    pub fn new(size: usize) -&gt; ThreadPool {
</span><span class="boring">        assert!(size &gt; 0);
</span><span class="boring">
</span><span class="boring">        let (sender, receiver) = mpsc::channel();
</span><span class="boring">
</span><span class="boring">        let receiver = Arc::new(Mutex::new(receiver));
</span><span class="boring">
</span><span class="boring">        let mut workers = Vec::with_capacity(size);
</span><span class="boring">
</span><span class="boring">        for id in 0..size {
</span><span class="boring">            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
</span><span class="boring">        }
</span><span class="boring">
</span><span class="boring">        ThreadPool {
</span><span class="boring">            workers,
</span><span class="boring">            sender: Some(sender),
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    pub fn execute&lt;F&gt;(&amp;self, f: F)
</span><span class="boring">    where
</span><span class="boring">        F: FnOnce() + Send + 'static,
</span><span class="boring">    {
</span><span class="boring">        let job = Box::new(f);
</span><span class="boring">
</span><span class="boring">        self.sender.as_ref().unwrap().send(job).unwrap();
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Drop for ThreadPool {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        drop(self.sender.take());
</span><span class="boring">
</span><span class="boring">        for worker in self.workers.drain(..) {
</span><span class="boring">            println!("Shutting down worker {}", worker.id);
</span><span class="boring">
</span><span class="boring">            worker.thread.join().unwrap();
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Worker {
</span><span class="boring">    id: usize,
</span><span class="boring">    thread: thread::JoinHandle&lt;()&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>impl Worker {
    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
        let thread = thread::spawn(move || loop {
            let message = receiver.lock().unwrap().recv();

            match message {
                Ok(job) =&gt; {
                    println!("Worker {id} got a job; executing.");

                    job();
                }
                Err(_) =&gt; {
                    println!("Worker {id} disconnected; shutting down.");
                    break;
                }
            }
        });

        Worker { id, thread }
    }
}</code></pre>
<figcaption>Listing 21-24: ุฎุฑูุฌ ุตุฑุญ ุงุฒ ุญููู ููุช <code>recv</code> ฺฉ ุฎุทุง ุจุฑูโฺฏุฑุฏุงูุฏ</figcaption>
</figure>
<p>ุจุฑุง ุฏุฏู ุงู ฺฉุฏ ุฏุฑ ุนููุ ุจุงุฏ <code>main</code> ุฑุง ุชุบุฑ ุฏูู ุชุง ููุท ุฏู ุฏุฑุฎูุงุณุช ุฑุง ูุจู ุงุฒ ุฎุงููุดโุดุฏู ููุธู ุณุฑูุฑ ุจูพุฐุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุณุชูฺฏ 21-25 ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore"><span class="boring">use hello::ThreadPool;
</span><span class="boring">use std::{
</span><span class="boring">    fs,
</span><span class="boring">    io::{prelude::*, BufReader},
</span><span class="boring">    net::{TcpListener, TcpStream},
</span><span class="boring">    thread,
</span><span class="boring">    time::Duration,
</span><span class="boring">};
</span><span class="boring">
</span>fn main() {
    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
    let pool = ThreadPool::new(4);

    for stream in listener.incoming().take(2) {
        let stream = stream.unwrap();

        pool.execute(|| {
            handle_connection(stream);
        });
    }

    println!("Shutting down.");
}
<span class="boring">
</span><span class="boring">fn handle_connection(mut stream: TcpStream) {
</span><span class="boring">    let buf_reader = BufReader::new(&amp;stream);
</span><span class="boring">    let request_line = buf_reader.lines().next().unwrap().unwrap();
</span><span class="boring">
</span><span class="boring">    let (status_line, filename) = match &amp;request_line[..] {
</span><span class="boring">        "GET / HTTP/1.1" =&gt; ("HTTP/1.1 200 OK", "hello.html"),
</span><span class="boring">        "GET /sleep HTTP/1.1" =&gt; {
</span><span class="boring">            thread::sleep(Duration::from_secs(5));
</span><span class="boring">            ("HTTP/1.1 200 OK", "hello.html")
</span><span class="boring">        }
</span><span class="boring">        _ =&gt; ("HTTP/1.1 404 NOT FOUND", "404.html"),
</span><span class="boring">    };
</span><span class="boring">
</span><span class="boring">    let contents = fs::read_to_string(filename).unwrap();
</span><span class="boring">    let length = contents.len();
</span><span class="boring">
</span><span class="boring">    let response =
</span><span class="boring">        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");
</span><span class="boring">
</span><span class="boring">    stream.write_all(response.as_bytes()).unwrap();
</span><span class="boring">}</span></code></pre>
<figcaption>Listing 21-25: ุฎุงููุดโฺฉุฑุฏู ุณุฑูุฑ ูพุณ ุงุฒ ุงุฑุงุฆู ุฏู ุฏุฑุฎูุงุณุช ุจุง ุฎุฑูุฌ ุงุฒ ุญููู</figcaption>
</figure>
<p>ุดูุง ููโุฎูุงูุฏ ฺฉ ุณุฑูุฑ ูุจ ูุงูุน ูพุณ ุงุฒ ููุท ุฏู ุฏุฑุฎูุงุณุช ุฎุงููุด ุดูุฏ. ุงู ฺฉุฏ ููุท ูุดุงู ูโุฏูุฏ ฺฉู ุฎุงููุด ููุธู ู ูพุงฺฉโุณุงุฒ ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ูุชุฏ <code>take</code> ฺฉู ุฏุฑ trait <code>Iterator</code> ุชุนุฑู ุดุฏู ุงุณุชุ ุชฺฉุฑุงุฑ ุฑุง ุจู ุญุฏุงฺฉุซุฑ ุฏู ุขุชู ูุญุฏูุฏ ูโฺฉูุฏ. <code>ThreadPool</code> ุฏุฑ ุงูุชูุง <code>main</code> ุงุฒ ูุญุฏูุฏู ุฎุงุฑุฌ ูโุดูุฏ ู ูพุงุฏูโุณุงุฒ <code>drop</code> ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ.</p>
<p>ุณุฑูุฑ ุฑุง ุจุง ุฏุณุชูุฑ <code>cargo run</code> ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ ู ุณู ุฏุฑุฎูุงุณุช ุงุฑุณุงู ฺฉูุฏ. ุฏุฑุฎูุงุณุช ุณูู ุจุงุฏ ุจุง ุฎุทุง ููุงุฌู ุดูุฏ ู ุฏุฑ ุชุฑููุงู ุฎูุฏ ุจุงุฏ ุฎุฑูุฌ ูุดุงุจู ุฒุฑ ุฑุง ุจุจูุฏ:</p>
<!-- manual-regeneration
cd listings/ch21-web-server/listing-21-25
cargo run
curl http://127.0.0.1:7878
curl http://127.0.0.1:7878
curl http://127.0.0.1:7878
third request will error because server will have shut down
copy output below
Can't automate because the output depends on making requests
-->
<pre><code class="language-console">$ cargo run
   Compiling hello v0.1.0 (file:///projects/hello)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.41s
     Running `target/debug/hello`
Worker 0 got a job; executing.
Shutting down.
Shutting down worker 0
Worker 3 got a job; executing.
Worker 1 disconnected; shutting down.
Worker 2 disconnected; shutting down.
Worker 3 disconnected; shutting down.
Worker 0 disconnected; shutting down.
Shutting down worker 1
Shutting down worker 2
Shutting down worker 3
</code></pre>
<p>ููฺฉู ุงุณุช ุชุฑุชุจ ูุชูุงูุช ุงุฒ ฺฉุงุฑฺฏุฑุงู ู ูพุงูโูุง ฺุงูพโุดุฏู ุฑุง ูุดุงูุฏู ฺฉูุฏ. ุงุฒ ูพุงูโูุง ูโุชูุงู ูููุฏ ฺฉู ุงู ฺฉุฏ ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ: ฺฉุงุฑฺฏุฑุงู 0 ู 3 ุงููู ุฏู ุฏุฑุฎูุงุณุช ุฑุง ุฏุฑุงูุช ฺฉุฑุฏูุฏ. ุณุฑูุฑ ูพุณ ุงุฒ ุงุชุตุงู ุฏูู ุฏฺฏุฑ ุงุชุตุงูโูุง ุฑุง ููโูพุฐุฑุฏ ู ูพุงุฏูโุณุงุฒ <code>Drop</code> ุฑู <code>ThreadPool</code> ุดุฑูุน ุจู ุงุฌุฑุง ูโฺฉูุฏ ูุจู ุงุฒ ุงูฺฉู ฺฉุงุฑฺฏุฑ 3 ุญุช ฺฉุงุฑ ุฎูุฏ ุฑุง ุดุฑูุน ฺฉูุฏ. ุญุฐู <code>sender</code> ุชูุงู ฺฉุงุฑฺฏุฑุงู ุฑุง ูุทุน ฺฉุฑุฏู ู ุจู ุขูโูุง ูโฺฏูุฏ ฺฉู ุฎุงููุด ุดููุฏ. ูุฑ ฺฉุงุฑฺฏุฑ ููฺฏุงู ูุทุน ุดุฏู ฺฉ ูพุงู ฺุงูพ ูโฺฉูุฏ ู ุณูพุณ ูุฌููุนู ูุฎ (thread pool) <code>join</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ููุชุธุฑ ุชฺฉูู ูุฑ ูุฎ ฺฉุงุฑฺฏุฑ ุจูุงูุฏ.</p>
<p>ุจู ฺฉ ุฌูุจู ุฌุงูุจ ุงุฒ ุงู ุงุฌุฑุง ุฎุงุต ุชูุฌู ฺฉูุฏ: <code>ThreadPool</code> ูุฑุณุชูุฏู ุฑุง ุญุฐู ฺฉุฑุฏุ ู ูุจู ุงุฒ ุงูฺฉู ูุฑ ฺฉุงุฑฺฏุฑ ุฎุทุง ุฏุฑุงูุช ฺฉูุฏุ ูุง ุณุน ฺฉุฑุฏู ุจู ฺฉุงุฑฺฏุฑ 0 ููุญู ุดูู. ฺฉุงุฑฺฏุฑ 0 ูููุฒ ุงุฒ <code>recv</code> ุฎุทุง ุฏุฑุงูุช ูฺฉุฑุฏู ุจูุฏุ ุจูุงุจุฑุงู ูุฎ ุงุตู ููุชุธุฑ ูุงูุฏ ุชุง ฺฉุงุฑฺฏุฑ 0 ฺฉุงุฑ ุฎูุฏ ุฑุง ุจู ูพุงุงู ุจุฑุณุงูุฏ. ุฏุฑ ููู ุญุงูุ ฺฉุงุฑฺฏุฑ 3 ฺฉ ฺฉุงุฑ ุฏุฑุงูุช ฺฉุฑุฏ ู ุณูพุณ ุชูุงู ูุฎโูุง ุฎุทุง ุฏุฑุงูุช ฺฉุฑุฏูุฏ. ููุช ฺฉุงุฑฺฏุฑ 0 ุชูุงู ุดุฏุ ูุฎ ุงุตู ููุชุธุฑ ูุงูุฏ ุชุง ุจูู ฺฉุงุฑฺฏุฑุงู ฺฉุงุฑ ุฎูุฏ ุฑุง ุชูุงู ฺฉููุฏ. ุฏุฑ ุขู ุฒูุงูุ ููู ุขูโูุง ุงุฒ ุญูููโูุง ุฎูุฏ ุฎุงุฑุฌ ุดุฏู ู ูุชููู ุดุฏู ุจูุฏูุฏ.</p>
<p>ุชุจุฑฺฉ ูโฺฏูู! ูพุฑูฺู ุฎูุฏ ุฑุง ฺฉุงูู ฺฉุฑุฏุฏุ ูุง ฺฉ ุณุฑูุฑ ูุจ ุณุงุฏู ุฏุงุฑู ฺฉู ุงุฒ ฺฉ ูุฌููุนู ูุฎ ุจุฑุง ูพุงุณุฎโุฏู ุบุฑููุฒูุงู ุงุณุชูุงุฏู ูโฺฉูุฏ. ูุง ุชูุงูุณุชู ุณุฑูุฑ ุฑุง ุจู ุตูุฑุช ููุธู ุฎุงููุด ฺฉูู ู ุชูุงู ูุฎโูุง ุฏุฑ ูุฌููุนู ุฑุง ูพุงฺฉโุณุงุฒ ฺฉูู.</p>
<p>ุฏุฑ ุงูุฌุง ฺฉุฏ ฺฉุงูู ุจุฑุง ูุฑุฌุน ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><code class="language-rust ignore">use hello::ThreadPool;
use std::{
    fs,
    io::{prelude::*, BufReader},
    net::{TcpListener, TcpStream},
    thread,
    time::Duration,
};

fn main() {
    let listener = TcpListener::bind("127.0.0.1:7878").unwrap();
    let pool = ThreadPool::new(4);

    for stream in listener.incoming().take(2) {
        let stream = stream.unwrap();

        pool.execute(|| {
            handle_connection(stream);
        });
    }

    println!("Shutting down.");
}

fn handle_connection(mut stream: TcpStream) {
    let buf_reader = BufReader::new(&amp;stream);
    let request_line = buf_reader.lines().next().unwrap().unwrap();

    let (status_line, filename) = match &amp;request_line[..] {
        "GET / HTTP/1.1" =&gt; ("HTTP/1.1 200 OK", "hello.html"),
        "GET /sleep HTTP/1.1" =&gt; {
            thread::sleep(Duration::from_secs(5));
            ("HTTP/1.1 200 OK", "hello.html")
        }
        _ =&gt; ("HTTP/1.1 404 NOT FOUND", "404.html"),
    };

    let contents = fs::read_to_string(filename).unwrap();
    let length = contents.len();

    let response =
        format!("{status_line}\r\nContent-Length: {length}\r\n\r\n{contents}");

    stream.write_all(response.as_bytes()).unwrap();
}</code></pre>
</figure>
<figure class="listing">
<span class="file-name">Filename: src/lib.rs</span>
<pre><code class="language-rust noplayground">use std::{
    sync::{mpsc, Arc, Mutex},
    thread,
};

pub struct ThreadPool {
    workers: Vec&lt;Worker&gt;,
    sender: Option&lt;mpsc::Sender&lt;Job&gt;&gt;,
}

type Job = Box&lt;dyn FnOnce() + Send + 'static&gt;;

impl ThreadPool {
    /// Create a new ThreadPool.
    ///
    /// The size is the number of threads in the pool.
    ///
    /// # Panics
    ///
    /// The `new` function will panic if the size is zero.
    pub fn new(size: usize) -&gt; ThreadPool {
        assert!(size &gt; 0);

        let (sender, receiver) = mpsc::channel();

        let receiver = Arc::new(Mutex::new(receiver));

        let mut workers = Vec::with_capacity(size);

        for id in 0..size {
            workers.push(Worker::new(id, Arc::clone(&amp;receiver)));
        }

        ThreadPool {
            workers,
            sender: Some(sender),
        }
    }

    pub fn execute&lt;F&gt;(&amp;self, f: F)
    where
        F: FnOnce() + Send + 'static,
    {
        let job = Box::new(f);

        self.sender.as_ref().unwrap().send(job).unwrap();
    }
}

impl Drop for ThreadPool {
    fn drop(&amp;mut self) {
        drop(self.sender.take());

        for worker in &amp;mut self.workers {
            println!("Shutting down worker {}", worker.id);

            if let Some(thread) = worker.thread.take() {
                thread.join().unwrap();
            }
        }
    }
}

struct Worker {
    id: usize,
    thread: Option&lt;thread::JoinHandle&lt;()&gt;&gt;,
}

impl Worker {
    fn new(id: usize, receiver: Arc&lt;Mutex&lt;mpsc::Receiver&lt;Job&gt;&gt;&gt;) -&gt; Worker {
        let thread = thread::spawn(move || loop {
            let message = receiver.lock().unwrap().recv();

            match message {
                Ok(job) =&gt; {
                    println!("Worker {id} got a job; executing.");

                    job();
                }
                Err(_) =&gt; {
                    println!("Worker {id} disconnected; shutting down.");
                    break;
                }
            }
        });

        Worker {
            id,
            thread: Some(thread),
        }
    }
}</code></pre>
</figure>
<p>ูโุชูุงูุณุชู ุจุดุชุฑ ุงูุฌุง ุงูุฌุงู ุฏูู! ุงฺฏุฑ ูโุฎูุงูุฏ ุงู ูพุฑูฺู ุฑุง ุจุดุชุฑ ฺฏุณุชุฑุด ุฏูุฏุ ุงูุฌุง ฺูุฏ ุงุฏู ุขูุฏู ุงุณุช:</p>
<ul>
<li>ูุณุชูุฏุงุช ุจุดุชุฑ ุจู <code>ThreadPool</code> ู ูุชุฏูุง ุนููู ุขู ุงุถุงูู ฺฉูุฏ.</li>
<li>ุชุณุชโูุง ุจุฑุง ุนููฺฉุฑุฏ ฺฉุชุงุจุฎุงูู ุงุถุงูู ฺฉูุฏ.</li>
<li>ูุฑุงุฎูุงูโูุง <code>unwrap</code> ุฑุง ุจู ูุฏุฑุช ุฎุทุง ููโุชุฑ ุชุบุฑ ุฏูุฏ.</li>
<li>ุงุฒ <code>ThreadPool</code> ุจุฑุง ุงูุฌุงู ุจุฑุฎ ฺฉุงุฑูุง ุจู ุบุฑ ุงุฒ ุงุฑุงุฆู ุฏุฑุฎูุงุณุชโูุง ูุจ ุงุณุชูุงุฏู ฺฉูุฏ.</li>
<li>ฺฉ crate ูุฌููุนู ูุฎ ุงุฒ <a href="https://crates.io/">crates.io</a> ูพุฏุง ฺฉูุฏ ู ฺฉ ุณุฑูุฑ ูุจ ูุดุงุจู ุจุง ุงุณุชูุงุฏู ุงุฒ ุขู crate ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุณูพุณ API ู ููุงููุช ุขู ุฑุง ุจุง ูุฌููุนู ูุฎ ฺฉู ูุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ููุงุณู ฺฉูุฏ.</li>
</ul>
<h2 id="ุฎูุงุตู-19"><a class="header" href="#ุฎูุงุตู-19">ุฎูุงุตู</a></h2>
<p>ุขูุฑู! ุดูุง ุจู ุงูุชูุง ุงู ฺฉุชุงุจ ุฑุณุฏุฏ! ุงุฒ ุดูุง ุจุงุจุช ูพูุณุชู ุจู ูุง ุฏุฑ ุงู ุณูุฑ ุจุง Rust ุณูพุงุณฺฏุฒุงุฑู. ุงฺฉููู ุขูุงุฏูโุงุฏ ฺฉู ูพุฑูฺูโูุง Rust ุฎูุฏ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ ู ุจู ูพุฑูฺูโูุง ุฏฺฏุฑุงู ฺฉูฺฉ ฺฉูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฌุงูุนูโุง ุฎูุดโุขูุฏฺฏู ุงุฒ Rustaceans ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุดุชุงูุงูู ููุชุธุฑ ฺฉูฺฉ ุจู ุดูุง ุฏุฑ ูุฑ ฺุงูุด ูุณุชูุฏ ฺฉู ุฏุฑ ูุณุฑ Rust ุฎูุฏ ุจุง ุขู ููุงุฌู ูโุดูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ุถููู"><a class="header" href="#ุถููู">ุถููู</a></h1>
<p>ุจุฎุดโูุง ุฒุฑ ุญุงู ูุทุงูุจ ูุฑุฌุน ูุณุชูุฏ ฺฉู ููฺฉู ุงุณุช ุฏุฑ ูุณุฑ ุงุฏฺฏุฑ Rust ุจุฑุง ุดูุง ููุฏ ุจุงุดูุฏ.</p>
</div><div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู-ุงูู-ฺฉููุงุช-ฺฉูุฏ"><a class="header" href="#ุถููู-ุงูู-ฺฉููุงุช-ฺฉูุฏ">ุถููู ุงูู: ฺฉููุงุช ฺฉูุฏ</a></h2>
<p>ูุณุช ุฒุฑ ุดุงูู ฺฉููุงุช ฺฉูุฏ ุงุณุช ฺฉู ุจุฑุง ุงุณุชูุงุฏู ูุนู ุง ุขูุฏู ุชูุณุท ุฒุจุงู Rust ุฑุฒุฑู ุดุฏูโุงูุฏ. ุจู ููู ุฏููุ ููโุชูุงู ุงุฒ ุขูโูุง ุจู ุนููุงู ุดูุงุณู ุงุณุชูุงุฏู ฺฉุฑุฏ (ูฺฏุฑ ุจู ุนููุงู ุดูุงุณู ุฎุงูุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด โ<a href="appendix-01-keywords.html#raw-identifiers">ุดูุงุณูโูุง ุฎุงู</a>โ ุชูุถุญ ุฏุงุฏู ุฎูุงูุฏ ุดุฏ). ุดูุงุณูโูุง ูุงูโูุง ูุณุชูุฏ ฺฉู ุจุฑุง ุชูุงุจุนุ ูุชุบุฑูุงุ ูพุงุฑุงูุชุฑูุงุ ููุฏูุง ุณุงุฎุชุงุฑุ ูุงฺููโูุงุ ุฌุนุจูโูุง (crates)ุ ุซุงุจุชโูุงุ ูุงฺฉุฑููุงุ ููุงุฏุฑ ุงุณุชุงุชฺฉุ ูฺฺฏโูุงุ ุงููุงุนุ ูฺฺฏโูุงุ ุง ุทูู ุนูุฑูุง ุงุณุชูุงุฏู ูโุดููุฏ.</p>
<h3 id="ฺฉููุงุช-ฺฉูุฏ-ุฏุฑ-ุญุงู-ุงุณุชูุงุฏู"><a class="header" href="#ฺฉููุงุช-ฺฉูุฏ-ุฏุฑ-ุญุงู-ุงุณุชูุงุฏู">ฺฉููุงุช ฺฉูุฏ ุฏุฑ ุญุงู ุงุณุชูุงุฏู</a></h3>
<p>ููุฑุณุช ุฒุฑ ุดุงูู ฺฉููุงุช ฺฉูุฏ ุงุณุช ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุงุณุชูุงุฏู ูโุดููุฏุ ููุฑุงู ุจุง ุชูุถุญ ุนููฺฉุฑุฏ ุขูโูุง:</p>
<ul>
<li><code>as</code> - ุงูุฌุงู ุชุจุฏู ุงูููุ ูุดุฎุต ฺฉุฑุฏู ูฺฺฏ ุฎุงุต ุญุงู ฺฉ ุขุชูุ ุง ุชุบุฑ ูุงู ุขุชูโูุง ุฏุฑ ุฏุณุชูุฑุงุช <code>use</code></li>
<li><code>async</code> - ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉ <code>Future</code> ุจู ุฌุง ูุณุฏูุฏ ฺฉุฑุฏู Thread ูุนู</li>
<li><code>await</code> - ูุชููู ฺฉุฑุฏู ุงุฌุฑุง ุชุง ุฒูุงู ฺฉู ูุชุฌู ฺฉ <code>Future</code> ุขูุงุฏู ุดูุฏ</li>
<li><code>break</code> - ุฎุฑูุฌ ููุฑ ุงุฒ ฺฉ ุญููู</li>
<li><code>const</code> - ุชุนุฑู ุขุชูโูุง ุซุงุจุช ุง ุงุดุงุฑูโฺฏุฑูุง ุฎุงู ุซุงุจุช</li>
<li><code>continue</code> - ุงุฏุงูู ุจู ุชฺฉุฑุงุฑ ุจุนุฏ ุญููู</li>
<li><code>crate</code> - ุฏุฑ ูุณุฑ ูุงฺููุ ุจู ุฑุดู crate ุงุดุงุฑู ุฏุงุฑุฏ</li>
<li><code>dyn</code> - ุชูุฒุน ุฏุงูุงูฺฉ ุจู ฺฉ ุดุก ูฺฺฏ</li>
<li><code>else</code> - ุญุงูุช ุฌุงฺฏุฒู ุจุฑุง ุณุงุฒูโูุง ุฌุฑุงู ฺฉูุชุฑู <code>if</code> ู <code>if let</code></li>
<li><code>enum</code> - ุชุนุฑู ฺฉ ุดูุงุฑุด</li>
<li><code>extern</code> - ููฺฉ ฺฉุฑุฏู ฺฉ ุชุงุจุน ุง ูุชุบุฑ ุฎุงุฑุฌ</li>
<li><code>false</code> - ููุฏุงุฑ ุจูู <code>false</code></li>
<li><code>fn</code> - ุชุนุฑู ฺฉ ุชุงุจุน ุง ููุน ุงุดุงุฑูโฺฏุฑ ุชุงุจุน</li>
<li><code>for</code> - ุญููู ุจุฑ ุฑู ุขุชูโูุง ฺฉ iteratorุ ูพุงุฏูโุณุงุฒ ฺฉ ูฺฺฏุ ุง ูุดุฎุต ฺฉุฑุฏู ุทูู ุนูุฑ ุณุทุญ ุจุงูุงุชุฑ</li>
<li><code>if</code> - ุงูุดุนุงุจ ุจุฑ ุงุณุงุณ ูุชุฌู ฺฉ ุนุจุงุฑุช ุดุฑุท</li>
<li><code>impl</code> - ูพุงุฏูโุณุงุฒ ูุงุจูุชโูุง ุฐุงุช ุง ูฺฺฏ</li>
<li><code>in</code> - ุจุฎุด ุงุฒ ุณูุชฺฉุณ ุญููู <code>for</code></li>
<li><code>let</code> - ูุชุตู ฺฉุฑุฏู ฺฉ ูุชุบุฑ</li>
<li><code>loop</code> - ุญููู ุจุฏูู ุดุฑุท</li>
<li><code>match</code> - ุชุทุงุจู ฺฉ ููุฏุงุฑ ุจุง ุงูฺฏููุง</li>
<li><code>mod</code> - ุชุนุฑู ฺฉ ูุงฺูู</li>
<li><code>move</code> - ูุงูฺฉุช ูุชุบุฑูุง ฺฏุฑูุชูโุดุฏู ุชูุณุท Closure ุฑุง ููุชูู ูโฺฉูุฏ</li>
<li><code>mut</code> - ูุดุงู ุฏุงุฏู ูุงุจูุช ุชุบุฑ ุฏุฑ ูุฑุงุฌุนุ ุงุดุงุฑูโฺฏุฑูุง ุฎุงูุ ุง ุจุงูุฏูฺฏ ุงูฺฏููุง</li>
<li><code>pub</code> - ูุดุงู ุฏุงุฏู ูุงุจูุช ูุดุงูุฏู ุนููู ุฏุฑ ููุฏูุง structุ ุจููฺฉโูุง <code>impl</code>ุ ุง ูุงฺููโูุง</li>
<li><code>ref</code> - ุจุงูุฏ ฺฉุฑุฏู ุจุง ูุฑุฌุน</li>
<li><code>return</code> - ุจุงุฒฺฏุฑุฏุงูุฏู ุงุฒ ุชุงุจุน</li>
<li><code>Self</code> - ฺฉ ูุงู ูุณุชุนุงุฑ ุจุฑุง ููุน ฺฉู ุฏุฑ ุญุงู ุชุนุฑู ุง ูพุงุฏูโุณุงุฒ ุขู ูุณุชู</li>
<li><code>self</code> - ููุถูุน ูุชุฏ ุง ูุงฺูู ูุนู</li>
<li><code>static</code> - ูุชุบุฑ ุฌูุงู ุง ุทูู ุนูุฑ ุทููุงู ุชุง ุฒูุงู ุงุฌุฑุง ฺฉุงูู ุจุฑูุงูู</li>
<li><code>struct</code> - ุชุนุฑู ฺฉ ุณุงุฎุชุงุฑ</li>
<li><code>super</code> - ูุงฺูู ูุงูุฏ ูุงฺูู ูุนู</li>
<li><code>trait</code> - ุชุนุฑู ฺฉ ูฺฺฏ</li>
<li><code>true</code> - ููุฏุงุฑ ุจูู <code>true</code></li>
<li><code>type</code> - ุชุนุฑู ฺฉ ูุงู ูุณุชุนุงุฑ ููุน ุง ููุน ูุงุจุณุชู</li>
<li><code>union</code> - ุชุนุฑู ฺฉ <a href="../reference/items/unions.html">union</a><!-- ignore -->ุ ููุท ููฺฏุงู ุงุณุชูุงุฏู ุฏุฑ ฺฉ ุงุนูุงู union ฺฉ ฺฉููู ฺฉูุฏ ุงุณุช</li>
<li><code>unsafe</code> - ูุดุงู ุฏุงุฏู ฺฉุฏุ ุชูุงุจุนุ ูฺฺฏโูุง ุง ูพุงุฏูโุณุงุฒโูุง ูุงุงูู</li>
<li><code>use</code> - ุขูุฑุฏู ููุงุฏูุง ุจู ุฏุงูููุ ูุดุฎุต ฺฉุฑุฏู ุจุฑุฏุงุดุช ุฏูู ุจุฑุง ูุญุฏูุฏุชโูุง ุนููู ู ุทูู ุนูุฑ</li>
<li><code>where</code> - ูุดุฎุต ฺฉุฑุฏู ุจูุฏูุง ฺฉู ฺฉ ููุน ุฑุง ูุญุฏูุฏ ูโฺฉููุฏ</li>
<li><code>while</code> - ุญููู ุดุฑุท ุจุฑ ุงุณุงุณ ูุชุฌู ฺฉ ุนุจุงุฑุช</li>
</ul>
<h3 id="ฺฉููุงุช-ฺฉูุฏ-ุฑุฒุฑู-ุดุฏู-ุจุฑุง-ุงุณุชูุงุฏู-ุฏุฑ-ุขูุฏู"><a class="header" href="#ฺฉููุงุช-ฺฉูุฏ-ุฑุฒุฑู-ุดุฏู-ุจุฑุง-ุงุณุชูุงุฏู-ุฏุฑ-ุขูุฏู">ฺฉููุงุช ฺฉูุฏ ุฑุฒุฑู ุดุฏู ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุขูุฏู</a></h3>
<p>ฺฉููุงุช ฺฉูุฏ ุฒุฑ ูููุฒ ูฺ ฺฉุงุฑุจุฑุฏ ูุฏุงุฑูุฏ ุงูุง ุชูุณุท Rust ุจุฑุง ุงุณุชูุงุฏู ุงุญุชูุงู ุฏุฑ ุขูุฏู ุฑุฒุฑู ุดุฏูโุงูุฏ:</p>
<ul>
<li><code>abstract</code></li>
<li><code>become</code></li>
<li><code>box</code></li>
<li><code>do</code></li>
<li><code>final</code></li>
<li><code>gen</code></li>
<li><code>macro</code></li>
<li><code>override</code></li>
<li><code>priv</code></li>
<li><code>try</code></li>
<li><code>typeof</code></li>
<li><code>unsized</code></li>
<li><code>virtual</code></li>
<li><code>yield</code></li>
</ul>
<h3 id="ุดูุงุณููุง-ุฎุงู"><a class="header" href="#ุดูุงุณููุง-ุฎุงู">ุดูุงุณูโูุง ุฎุงู</a></h3>
<p><em>ุดูุงุณูโูุง ุฎุงู</em> ุณูุชฺฉุณ ูุณุชูุฏ ฺฉู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุงุฒ ฺฉููุงุช ฺฉูุฏ ุฏุฑ ุฌุง ฺฉู ูุนูููุงู ูุฌุงุฒ ูุณุชูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุดูุงุณู ุฎุงูุ ฺฉ <code>r#</code> ูุจู ุงุฒ ฺฉููู ฺฉูุฏ ุงุถุงูู ฺฉูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ <code>match</code> ฺฉ ฺฉููู ฺฉูุฏ ุงุณุช. ุงฺฏุฑ ุจุฎูุงูุฏ ุชุงุจุน ุฒุฑ ุฑุง ฺฉู ุงุฒ <code>match</code> ุจู ุนููุงู ูุงู ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉุงููพุงู ฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn match(needle: &amp;str, haystack: &amp;str) -&gt; bool {
    haystack.contains(needle)
}</code></pre>
<p>ุดูุง ุงู ุฎุทุง ุฑุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<pre><code class="language-text">error: expected identifier, found keyword `match`
 --&gt; src/main.rs:4:4
  |
4 | fn match(needle: &amp;str, haystack: &amp;str) -&gt; bool {
  |    ^^^^^ expected identifier, found keyword
</code></pre>
<p>ุงู ุฎุทุง ูุดุงู ูโุฏูุฏ ฺฉู ููโุชูุงูุฏ ุงุฒ ฺฉููู ฺฉูุฏ <code>match</code> ุจู ุนููุงู ุดูุงุณู ุชุงุจุน ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ <code>match</code> ุจู ุนููุงู ูุงู ุชุงุจุนุ ุจุงุฏ ุงุฒ ุณูุชฺฉุณ ุดูุงุณู ุฎุงู ุจู ุงู ุดฺฉู ุงุณุชูุงุฏู ฺฉูุฏ:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn r#match(needle: &amp;str, haystack: &amp;str) -&gt; bool {
    haystack.contains(needle)
}
<span class="boring">}</span></code></pre></pre>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn r#match(needle: &amp;str, haystack: &amp;str) -&gt; bool {
    haystack.contains(needle)
}

fn main() {
    assert!(r#match("foo", "foobar"));
}</code></pre></pre>
<p>ุงู ฺฉุฏ ุจุฏูู ูฺ ุฎุทุง ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ. ุจู ูพุดููุฏ <code>r#</code> ุฑู ูุงู ุชุงุจุน ุฏุฑ ุชุนุฑู ุขู ู ููฺูู ุฌุง ฺฉู ุชุงุจุน ุฏุฑ <code>main</code> ูุฑุงุฎูุงู ูโุดูุฏุ ุชูุฌู ฺฉูุฏ.</p>
<p>ุดูุงุณูโูุง ุฎุงู (<em>Raw identifiers</em>) ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏููุฏ ฺฉู ุงุฒ ูุฑ ฺฉูููโุง ฺฉู ุงูุชุฎุงุจ ูโฺฉูุฏ ุจู ุนููุงู ุดูุงุณู ุงุณุชูุงุฏู ฺฉูุฏุ ุญุช ุงฺฏุฑ ุขู ฺฉููู ุจูโุทูุฑ ูุนููู ฺฉ ฺฉููู ฺฉูุฏ ุฑุฒุฑูโุดุฏู ุจุงุดุฏ. ุงู ูฺฺฏ ุขุฒุงุฏ ุจุดุชุฑ ุจุฑุง ุงูุชุฎุงุจ ูุงู ุดูุงุณูโูุง ูุฑุงูู ูโฺฉูุฏ ู ููฺูู ุงูฺฉุงู ุงุฏุบุงู ุจุง ุจุฑูุงููโูุง ฺฉู ุจู ุฒุจุงู ููุดุชู ุดุฏูโุงูุฏ ฺฉู ุงู ฺฉููุงุช ุฏุฑ ุขู ุฒุจุงู ฺฉููุงุช ฺฉูุฏ ูุณุชูุฏุ ุฑุง ูโุฏูุฏ. ุนูุงูู ุจุฑ ุงูุ ุดูุงุณูโูุง ุฎุงู ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุจุง ูุณุฎูโุง ุงุฒ Rust ููุดุชู ุดุฏูโุงูุฏ ฺฉู ุจุง ูุณุฎู ููุฑุฏ ุงุณุชูุงุฏู ุดูุง ูุชูุงูุช ุงุณุช.</p>
<p>ุจุฑุง ูุซุงูุ <code>try</code> ุฏุฑ ูุณุฎู ฒฐฑต ฺฉููู ฺฉูุฏ ูุณุชุ ุงูุง ุฏุฑ ูุณุฎูโูุง ฒฐฑธุ ฒฐฒฑ ู ฒฐฒด ฺฉููู ฺฉูุฏ ุงุณุช. ุงฺฏุฑ ุจู ฺฉุชุงุจุฎุงููโุง ูุงุจุณุชู ุจุงุดุฏ ฺฉู ุจุง ูุณุฎู ฒฐฑต ููุดุชู ุดุฏู ู ฺฉ ุชุงุจุน ุจู ูุงู <code>try</code> ุฏุงุฑุฏุ ุจุงุฏ ุงุฒ ุณูุชฺฉุณ ุดูุงุณู ุฎุงูุ ุนู <code>r#try</code>ุ ุจุฑุง ูุฑุงุฎูุงู ุขู ุชุงุจุน ุงุฒ ฺฉุฏ ูุณุฎู ฒฐฑธ ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ูุณุฎูโูุง ุจู <a href="appendix-05-editions.html">ุถููู ู</a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู-ุจ-ุนููฺฏุฑูุง-ู-ููุงุฏูุง"><a class="header" href="#ุถููู-ุจ-ุนููฺฏุฑูุง-ู-ููุงุฏูุง">ุถููู ุจ: ุนููฺฏุฑูุง ู ููุงุฏูุง</a></h2>
<p>ุงู ุถููู ุดุงูู ูุงฺูโูุงููโุง ุงุฒ ุณูุชฺฉุณ ุฒุจุงู Rust ุงุณุชุ ุงุฒ ุฌููู ุนููฺฏุฑูุง ู ุณุงุฑ ููุงุฏูุง ฺฉู ุจู ุชููุง ุง ุฏุฑ ุฒููู ูุณุฑูุงุ ุฌูุฑฺฉโูุงุ ูุญุฏูุฏุชโูุง ูฺฺฏุ ูุงฺฉุฑููุงุ ูฺฺฏโูุงุ ูุธุฑุงุชุ ุชุงูพูโูุง ู ุจุฑุงฺฉุชโูุง ุธุงูุฑ ูโุดููุฏ.</p>
<h3 id="ุนููฺฏุฑูุง"><a class="header" href="#ุนููฺฏุฑูุง">ุนููฺฏุฑูุง</a></h3>
<p>ุฌุฏูู B-1 ุนููฺฏุฑูุง ููุฌูุฏ ุฏุฑ Rustุ ฺฉ ูุซุงู ุงุฒ ฺฺฏููฺฏ ุธุงูุฑ ุดุฏู ุนููฺฏุฑ ุฏุฑ ุฒูููุ ุชูุถุญ ฺฉูุชุงู ู ุงูฺฉู ุขุง ุขู ุนููฺฏุฑ ูุงุจู ุงุถุงููโุจุงุฑฺฏุฐุงุฑ ุงุณุช ุง ูู ุฑุง ูุดุงู ูโุฏูุฏ. ุงฺฏุฑ ฺฉ ุนููฺฏุฑ ูุงุจู ุงุถุงููโุจุงุฑฺฏุฐุงุฑ ุจุงุดุฏุ ูฺฺฏ ูุฑุชุจุท ุจุฑุง ุงุถุงููโุจุงุฑฺฏุฐุงุฑ ุขู ุนููฺฏุฑ ุฐฺฉุฑ ุดุฏู ุงุณุช.</p>
<p><span class="caption">ุฌุฏูู B-1: ุนููฺฏุฑูุง</span></p>
<div class="table-wrapper"><table><thead><tr><th>ุนููฺฏุฑ</th><th>ูุซุงู</th><th>ุชูุถุญ</th><th>Overloadableุ</th></tr></thead><tbody>
<tr><td><code>!</code></td><td><code>ident!(...)</code>, <code>ident!{...}</code>, <code>ident![...]</code></td><td>ฺฏุณุชุฑุด ูุงฺฉุฑู</td><td></td></tr>
<tr><td><code>!</code></td><td><code>!expr</code></td><td>ูฺฉูู ุจุช ุง ููุทู</td><td><code>Not</code></td></tr>
<tr><td><code>!=</code></td><td><code>expr != expr</code></td><td>ููุงุณู ูุงุจุฑุงุจุฑ</td><td><code>PartialEq</code></td></tr>
<tr><td><code>%</code></td><td><code>expr % expr</code></td><td>ุจุงูโูุงูุฏู ุญุณุงุจ</td><td><code>Rem</code></td></tr>
<tr><td><code>%=</code></td><td><code>var %= expr</code></td><td>ุจุงูโูุงูุฏู ุญุณุงุจ ู ุงูุชุณุงุจ</td><td><code>RemAssign</code></td></tr>
<tr><td><code>&amp;</code></td><td><code>&amp;expr</code>, <code>&amp;mut expr</code></td><td>ุงุฑุฌุงุน</td><td></td></tr>
<tr><td><code>&amp;</code></td><td><code>&amp;type</code>, <code>&amp;mut type</code>, <code>&amp;'a type</code>, <code>&amp;'a mut type</code></td><td>ููุน ุงุดุงุฑูโฺฏุฑ (Pointer) ุงุฑุฌุงุน</td><td></td></tr>
<tr><td><code>&amp;</code></td><td><code>expr &amp; expr</code></td><td>AND ุจุช</td><td><code>BitAnd</code></td></tr>
<tr><td><code>&amp;=</code></td><td><code>var &amp;= expr</code></td><td>AND ุจุช ู ุงูุชุณุงุจ</td><td><code>BitAndAssign</code></td></tr>
<tr><td><code>&amp;&amp;</code></td><td><code>expr &amp;&amp; expr</code></td><td>AND ููุทู ฺฉูุชุงู</td><td></td></tr>
<tr><td><code>*</code></td><td><code>expr * expr</code></td><td>ุถุฑุจ ุญุณุงุจ</td><td><code>Mul</code></td></tr>
<tr><td><code>*=</code></td><td><code>var *= expr</code></td><td>ุถุฑุจ ุญุณุงุจ ู ุงูุชุณุงุจ</td><td><code>MulAssign</code></td></tr>
<tr><td><code>*</code></td><td><code>*expr</code></td><td>ุฑูุน ุงุฑุฌุงุน</td><td><code>Deref</code></td></tr>
<tr><td><code>*</code></td><td><code>*const type</code>, <code>*mut type</code></td><td>ุงุดุงุฑูโฺฏุฑ (Pointer) ุฎุงู</td><td></td></tr>
<tr><td><code>+</code></td><td><code>trait + trait</code>, <code>'a + trait</code></td><td>ูุญุฏูุฏุช ููุน ุชุฑฺฉุจ</td><td></td></tr>
<tr><td><code>+</code></td><td><code>expr + expr</code></td><td>ุฌูุน ุญุณุงุจ</td><td><code>Add</code></td></tr>
<tr><td><code>+=</code></td><td><code>var += expr</code></td><td>ุฌูุน ุญุณุงุจ ู ุงูุชุณุงุจ</td><td><code>AddAssign</code></td></tr>
<tr><td><code>,</code></td><td><code>expr, expr</code></td><td>ุฌุฏุงฺฉููุฏู ุขุฑฺฏููุงู ู ุนูุตุฑ</td><td></td></tr>
<tr><td><code>-</code></td><td><code>- expr</code></td><td>ูู ุญุณุงุจ</td><td><code>Neg</code></td></tr>
<tr><td><code>-</code></td><td><code>expr - expr</code></td><td>ุชูุฑู ุญุณุงุจ</td><td><code>Sub</code></td></tr>
<tr><td><code>-=</code></td><td><code>var -= expr</code></td><td>ุชูุฑู ุญุณุงุจ ู ุงูุชุณุงุจ</td><td><code>SubAssign</code></td></tr>
<tr><td><code>-&gt;</code></td><td><code>fn(...) -&gt; type</code>, <code>|โฆ| -&gt; type</code></td><td>ููุน ุจุงุฒฺฏุดุช ุชุงุจุน ู closure</td><td></td></tr>
<tr><td><code>.</code></td><td><code>expr.ident</code></td><td>ุฏุณุชุฑุณ ุจู ุนุถู</td><td></td></tr>
<tr><td><code>..</code></td><td><code>..</code>, <code>expr..</code>, <code>..expr</code>, <code>expr..expr</code></td><td>ูุญุฏูุฏู ุฑุงุณุชโุงูุญุตุงุฑ</td><td><code>PartialOrd</code></td></tr>
<tr><td><code>..=</code></td><td><code>..=expr</code>, <code>expr..=expr</code></td><td>ูุญุฏูุฏู ุฑุงุณุชโุดุงูู</td><td><code>PartialOrd</code></td></tr>
<tr><td><code>..</code></td><td><code>..expr</code></td><td>ุณูุชฺฉุณ ุจูโุฑูุฒุฑุณุงู literal ุณุงุฎุชุงุฑ</td><td></td></tr>
<tr><td><code>..</code></td><td><code>variant(x, ..)</code>, <code>struct_type { x, .. }</code></td><td>ุงูฺฏู โู ุจููโ</td><td></td></tr>
<tr><td><code>...</code></td><td><code>expr...expr</code></td><td>(ููุณูุฎโุดุฏูุ ุงุฒ <code>..=</code> ุจู ุฌุง ุขู ุงุณุชูุงุฏู ฺฉูุฏ) ูุญุฏูุฏู ุดุงูู ุฏุฑ ุงูฺฏู</td><td></td></tr>
<tr><td><code>/</code></td><td><code>expr / expr</code></td><td>ุชูุณู ุญุณุงุจ</td><td><code>Div</code></td></tr>
<tr><td><code>/=</code></td><td><code>var /= expr</code></td><td>ุชูุณู ุญุณุงุจ ู ุงูุชุณุงุจ</td><td><code>DivAssign</code></td></tr>
<tr><td><code>:</code></td><td><code>pat: type</code>, <code>ident: type</code></td><td>ูุญุฏูุฏุชโูุง</td><td></td></tr>
<tr><td><code>:</code></td><td><code>ident: expr</code></td><td>ููุฏุงุฑุฏู ุงููู ููุฏ ุณุงุฎุชุงุฑ</td><td></td></tr>
<tr><td><code>:</code></td><td><code>'a: loop {...}</code></td><td>ุจุฑฺุณุจ ุญููู</td><td></td></tr>
<tr><td><code>;</code></td><td><code>expr;</code></td><td>ูพุงุงูโุฏููุฏู ุนุจุงุฑุช ู ุขุชู</td><td></td></tr>
<tr><td><code>;</code></td><td><code>[...; len]</code></td><td>ุจุฎุด ุงุฒ ุณูุชฺฉุณ ุขุฑุงู ุจุง ุงูุฏุงุฒู ุซุงุจุช</td><td></td></tr>
<tr><td><code>&lt;&lt;</code></td><td><code>expr &lt;&lt; expr</code></td><td>ุดูุช ุจู ฺูพ</td><td><code>Shl</code></td></tr>
<tr><td><code>&lt;&lt;=</code></td><td><code>var &lt;&lt;= expr</code></td><td>ุดูุช ุจู ฺูพ ู ุงูุชุณุงุจ</td><td><code>ShlAssign</code></td></tr>
<tr><td><code>&lt;</code></td><td><code>expr &lt; expr</code></td><td>ููุงุณู ฺฉูฺฺฉุชุฑ</td><td><code>PartialOrd</code></td></tr>
<tr><td><code>&lt;=</code></td><td><code>expr &lt;= expr</code></td><td>ููุงุณู ฺฉูฺฺฉุชุฑ ุง ูุณุงู</td><td><code>PartialOrd</code></td></tr>
<tr><td><code>=</code></td><td><code>var = expr</code>, <code>ident = type</code></td><td>ุงูุชุณุงุจ/ุจุฑุงุจุฑ</td><td></td></tr>
<tr><td><code>==</code></td><td><code>expr == expr</code></td><td>ููุงุณู ุจุฑุงุจุฑ</td><td><code>PartialEq</code></td></tr>
<tr><td><code>=&gt;</code></td><td><code>pat =&gt; expr</code></td><td>ุจุฎุด ุงุฒ ุณูุชฺฉุณ ุจุงุฒู match</td><td></td></tr>
<tr><td><code>&gt;</code></td><td><code>expr &gt; expr</code></td><td>ููุงุณู ุจุฒุฑฺฏุชุฑ</td><td><code>PartialOrd</code></td></tr>
<tr><td><code>&gt;=</code></td><td><code>expr &gt;= expr</code></td><td>ููุงุณู ุจุฒุฑฺฏุชุฑ ุง ูุณุงู</td><td><code>PartialOrd</code></td></tr>
<tr><td><code>&gt;&gt;</code></td><td><code>expr &gt;&gt; expr</code></td><td>ุดูุช ุจู ุฑุงุณุช</td><td><code>Shr</code></td></tr>
<tr><td><code>&gt;&gt;=</code></td><td><code>var &gt;&gt;= expr</code></td><td>ุดูุช ุจู ุฑุงุณุช ู ุงูุชุณุงุจ</td><td><code>ShrAssign</code></td></tr>
<tr><td><code>@</code></td><td><code>ident @ pat</code></td><td>ุจุงูุฏ ุงูฺฏู</td><td></td></tr>
<tr><td><code>^</code></td><td><code>expr ^ expr</code></td><td>XOR ุจุช</td><td><code>BitXor</code></td></tr>
<tr><td><code>^=</code></td><td><code>var ^= expr</code></td><td>XOR ุจุช ู ุงูุชุณุงุจ</td><td><code>BitXorAssign</code></td></tr>
<tr><td><code>|</code></td><td><code>pat | pat</code></td><td>ุฌุงฺฏุฒูโูุง ุงูฺฏู</td><td></td></tr>
<tr><td><code>|</code></td><td><code>expr | expr</code></td><td>OR ุจุช</td><td><code>BitOr</code></td></tr>
<tr><td><code>|=</code></td><td><code>var |= expr</code></td><td>OR ุจุช ู ุงูุชุณุงุจ</td><td><code>BitOrAssign</code></td></tr>
<tr><td><code>||</code></td><td><code>expr || expr</code></td><td>OR ููุทู ฺฉูุชุงู</td><td></td></tr>
<tr><td><code>?</code></td><td><code>expr?</code></td><td>ุงูุชุดุงุฑ ุฎุทุง</td><td></td></tr>
</tbody></table>
</div>
<h3 id="ููุงุฏูุง-ุบุฑุนููฺฏุฑ"><a class="header" href="#ููุงุฏูุง-ุบุฑุนููฺฏุฑ">ููุงุฏูุง ุบุฑุนููฺฏุฑ</a></h3>
<p>ูุณุช ุฒุฑ ุดุงูู ุชูุงู ููุงุฏูุง ุงุณุช ฺฉู ุจู ุนููุงู ุนููฺฏุฑ ุนูู ููโฺฉููุฏุ ุนู ูุงููุฏ ฺฉ ุชุงุจุน ุง ูุฑุงุฎูุงู ูุชุฏ ุฑูุชุงุฑ ููโฺฉููุฏ.</p>
<p>ุฌุฏูู B-2 ููุงุฏูุง ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุจู ุชููุง ุธุงูุฑ ูโุดููุฏ ู ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ูุนุชุจุฑ ูุณุชูุฏ.</p>
<p><span class="caption">ุฌุฏูู B-2: ุณูุชฺฉุณ ูุณุชูู</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>'ident</code></td><td>ุทูู ุนูุฑ ูุงูโฺฏุฐุงุฑโุดุฏู ุง ุจุฑฺุณุจ ุญููู</td></tr>
<tr><td><code>...u8</code>, <code>...i32</code>, <code>...f64</code>, <code>...usize</code>, etc.</td><td>ูุชุฑุงู ุนุฏุฏ ุจุง ููุน ูุดุฎุต</td></tr>
<tr><td><code>"..."</code></td><td>ูุชุฑุงู ุฑุดุชู</td></tr>
<tr><td><code>r"..."</code>, <code>r#"..."#</code>, <code>r##"..."##</code>, etc.</td><td>ูุชุฑุงู ุฑุดุชู ุฎุงูุ ฺฉุงุฑุงฺฉุชุฑูุง escape ูพุฑุฏุงุฒุด ููโุดููุฏ</td></tr>
<tr><td><code>b"..."</code></td><td>ูุชุฑุงู ุฑุดุชู ุจุงุชุ ุขุฑุงูโุง ุงุฒ ุจุงุชโูุง ุจู ุฌุง ุฑุดุชู ูโุณุงุฒุฏ</td></tr>
<tr><td><code>br"..."</code>, <code>br#"..."#</code>, <code>br##"..."##</code>, etc.</td><td>ูุชุฑุงู ุฑุดุชู ุฎุงู ุจุงุชุ ุชุฑฺฉุจ ุงุฒ ุฑุดุชู ุฎุงู ู ุฑุดุชู ุจุงุช</td></tr>
<tr><td><code>'...'</code></td><td>ูุชุฑุงู ฺฉุงุฑุงฺฉุชุฑ</td></tr>
<tr><td><code>b'...'</code></td><td>ูุชุฑุงู ุจุงุช ASCII</td></tr>
<tr><td><code>|โฆ| expr</code></td><td>closure</td></tr>
<tr><td><code>!</code></td><td>ููุดู ุฎุงูุ ููุน bottom ุจุฑุง ุชูุงุจุน ูุงฺฏุฑุง</td></tr>
<tr><td><code>_</code></td><td>ุจุงูุฏ ุงูฺฏู โูุงุฏุฏูโฺฏุฑูุชูโุดุฏูโุ ููฺูู ุจุฑุง ุฎูุงูุงุชุฑ ฺฉุฑุฏู ูุชุฑุงูโูุง ุนุฏุฏ ุงุณุชูุงุฏู ูโุดูุฏ</td></tr>
</tbody></table>
</div>
<p>ุฌุฏูู B-3 ููุงุฏูุง ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุฑ ุฒููู ูุณุฑุงุจ ุงุฒ ุณูุณููโูุฑุงุชุจ ูุงฺูู ุจู ฺฉ ุขุชู ุธุงูุฑ ูโุดููุฏ.</p>
<p><span class="caption">ุฌุฏูู B-3: ุณูุชฺฉุณ ูุฑุชุจุท ุจุง ูุณุฑ</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>ident::ident</code></td><td>ูุณุฑ ูุถุง ูุงู</td></tr>
<tr><td><code>::path</code></td><td>ูุณุฑ ูุณุจ ุจู ูพุดโููุฏ ุฎุงุฑุฌุ ุฌุง ฺฉู ุชูุงู ุฌุนุจูโูุง (crates) ุฏฺฏุฑ ุฑุดู ุฏุงุฑูุฏ (ุนู ฺฉ ูุณุฑ ูุทูู ฺฉู ุจู ูุถูุญ ุดุงูู ูุงู ุฌุนุจู (crate) ุงุณุช)</td></tr>
<tr><td><code>self::path</code></td><td>ูุณุฑ ูุณุจ ุจู ูุงฺูู ุฌุงุฑ (ุนู ฺฉ ูุณุฑ ูุณุจ ุจู ูุถูุญ ูุดุฎุตโุดุฏู).</td></tr>
<tr><td><code>super::path</code></td><td>ูุณุฑ ูุณุจ ุจู ูุงูุฏ ูุงฺูู ุฌุงุฑ</td></tr>
<tr><td><code>type::ident</code>, <code>&lt;type as trait&gt;::ident</code></td><td>ุซุงุจุชโูุงุ ุชูุงุจุนุ ู ุงููุงุน ูุฑุชุจุท</td></tr>
<tr><td><code>&lt;type&gt;::...</code></td><td>ุขุชู ูุฑุชุจุท ุจุฑุง ููุน ฺฉู ููโุชูุงู ุจู ุทูุฑ ูุณุชูู ุขู ุฑุง ูุงูโฺฏุฐุงุฑ ฺฉุฑุฏ (ูุซูุงู <code>&lt;&amp;T&gt;::...</code>ุ <code>&lt;[T]&gt;::...</code>ุ ู ุบุฑู)</td></tr>
<tr><td><code>trait::method(...)</code></td><td>ูุดุฎุต ฺฉุฑุฏู ูุฑุงุฎูุงู ูุชุฏ ุจุง ูุงูโฺฏุฐุงุฑ ูฺฺฏโุง ฺฉู ุขู ุฑุง ุชุนุฑู ฺฉุฑุฏู ุงุณุช</td></tr>
<tr><td><code>type::method(...)</code></td><td>ูุดุฎุต ฺฉุฑุฏู ูุฑุงุฎูุงู ูุชุฏ ุจุง ูุงูโฺฏุฐุงุฑ ููุน ฺฉู ุจุฑุง ุขู ุชุนุฑู ุดุฏู ุงุณุช</td></tr>
<tr><td><code>&lt;type as trait&gt;::method(...)</code></td><td>ูุดุฎุต ฺฉุฑุฏู ูุฑุงุฎูุงู ูุชุฏ ุจุง ูุงูโฺฏุฐุงุฑ ูฺฺฏ ู ููุน</td></tr>
</tbody></table>
</div>
<p>ุฌุฏูู B-4 ููุงุฏูุง ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุฑ ุฒููู ุงุณุชูุงุฏู ุงุฒ ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุธุงูุฑ ูโุดููุฏ.</p>
<p><span class="caption">ุฌุฏูู B-4: ุฌูุฑฺฉโูุง</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>path&lt;...&gt;</code></td><td>ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑูุง ุจุฑุง ููุน ุฌูุฑฺฉ ุฏุฑ ฺฉ ููุน (ูุซูุงู <code>Vec&lt;u8&gt;</code>)</td></tr>
<tr><td><code>path::&lt;...&gt;</code>, <code>method::&lt;...&gt;</code></td><td>ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑูุง ุจุฑุง ููุน ุฌูุฑฺฉุ ุชุงุจุนุ ุง ูุชุฏ ุฏุฑ ฺฉ ุนุจุงุฑุชุ ฺฉู ูุนูููุงู ุจู ุขู turbofish ูโฺฏููุฏ (ูุซูุงู <code>"42".parse::&lt;i32&gt;()</code>)</td></tr>
<tr><td><code>fn ident&lt;...&gt; ...</code></td><td>ุชุนุฑู ุชุงุจุน ุฌูุฑฺฉ</td></tr>
<tr><td><code>struct ident&lt;...&gt; ...</code></td><td>ุชุนุฑู ุณุงุฎุชุงุฑ ุฌูุฑฺฉ</td></tr>
<tr><td><code>enum ident&lt;...&gt; ...</code></td><td>ุชุนุฑู ุดูุงุฑุด ุฌูุฑฺฉ</td></tr>
<tr><td><code>impl&lt;...&gt; ...</code></td><td>ุชุนุฑู ูพุงุฏูโุณุงุฒ ุฌูุฑฺฉ</td></tr>
<tr><td><code>for&lt;...&gt; type</code></td><td>ูุญุฏูุฏุช ุทูู ุนูุฑ ุจุง ุฑุชุจู ุจุงูุงุชุฑ</td></tr>
<tr><td><code>type&lt;ident=type&gt;</code></td><td>ููุน ุฌูุฑฺฉ ฺฉู ฺฉ ุง ฺูุฏ ููุน ูุฑุชุจุท ุจุง ุขู ุฏุงุฑุง ููุงุฏุฑ ูุดุฎุต ูุณุชูุฏ (ูุซูุงู <code>Iterator&lt;Item=T&gt;</code>)</td></tr>
</tbody></table>
</div>
<p>ุฌุฏูู B-5 ููุงุฏูุง ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ุฏุฑ ุฒููู ูุญุฏูุฏ ฺฉุฑุฏู ูพุงุฑุงูุชุฑูุง ููุน ุฌูุฑฺฉ ุจุง ูุญุฏูุฏุชโูุง ูฺฺฏ ุธุงูุฑ ูโุดููุฏ.</p>
<p><span class="caption">ุฌุฏูู B-5: ูุญุฏูุฏุชโูุง ูฺฺฏ</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>T: U</code></td><td>ูพุงุฑุงูุชุฑ ุฌูุฑฺฉ <code>T</code> ูุญุฏูุฏ ุจู ุงููุงุน ฺฉู <code>U</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ</td></tr>
<tr><td><code>T: 'a</code></td><td>ููุน ุฌูุฑฺฉ <code>T</code> ุจุงุฏ ุทูู ุนูุฑ ุจุดุชุฑ ุงุฒ ุทูู ุนูุฑ <code>'a</code> ุฏุงุดุชู ุจุงุดุฏ (ุนู ููุน ููโุชูุงูุฏ ุจู ุตูุฑุช ฺฏุฐุฑุง ุดุงูู ุงุฑุฌุงุนุงุช ุจุง ุทูู ุนูุฑ ฺฉูุชุงูโุชุฑ ุงุฒ <code>'a</code> ุจุงุดุฏ)</td></tr>
<tr><td><code>T: 'static</code></td><td>ููุน ุฌูุฑฺฉ <code>T</code> ุดุงูู ุงุฑุฌุงุนุงุช ูุฑุถโฺฏุฑูุชูโุดุฏูโุง ุจู ุฌุฒ ุงุฑุฌุงุนุงุช <code>'static</code> ูุณุช</td></tr>
<tr><td><code>'b: 'a</code></td><td>ุทูู ุนูุฑ ุฌูุฑฺฉ <code>'b</code> ุจุงุฏ ุทูู ุนูุฑ ุจุดุชุฑ ุงุฒ ุทูู ุนูุฑ <code>'a</code> ุฏุงุดุชู ุจุงุดุฏ</td></tr>
<tr><td><code>T: ?Sized</code></td><td>ุงุฌุงุฒู ุฏุงุฏู ุจู ูพุงุฑุงูุชุฑ ููุน ุฌูุฑฺฉ ุจุฑุง ุงูฺฉู ููุน ุจุง ุงูุฏุงุฒู ูพูุง ุจุงุดุฏ</td></tr>
<tr><td><code>'a + trait</code>, <code>trait + trait</code></td><td>ูุญุฏูุฏุช ููุน ุชุฑฺฉุจ</td></tr>
</tbody></table>
</div>
<p><span class="caption">ุฌุฏูู B-6: ูุงฺฉุฑููุง ู ูฺฺฏโูุง</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>#[meta]</code></td><td>ูฺฺฏ ุฎุงุฑุฌ</td></tr>
<tr><td><code>#![meta]</code></td><td>ูฺฺฏ ุฏุงุฎู</td></tr>
<tr><td><code>$ident</code></td><td>ุฌุงฺฏุฒู ูุงฺฉุฑู</td></tr>
<tr><td><code>$ident:kind</code></td><td>ฺฏุฑูุชู ูุงฺฉุฑู</td></tr>
<tr><td><code>$(โฆ)โฆ</code></td><td>ุชฺฉุฑุงุฑ ูุงฺฉุฑู</td></tr>
<tr><td><code>ident!(...)</code>, <code>ident!{...}</code>, <code>ident![...]</code></td><td>ูุฑุงุฎูุงู ูุงฺฉุฑู</td></tr>
</tbody></table>
</div>
<p><span class="caption">ุฌุฏูู B-7: ูุธุฑุงุช</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>//</code></td><td>ูุธุฑ ุชฺฉโุฎุท</td></tr>
<tr><td><code>//!</code></td><td>ูุธุฑ ูุณุชูุฏ ุฏุงุฎู ุชฺฉโุฎุท</td></tr>
<tr><td><code>///</code></td><td>ูุธุฑ ูุณุชูุฏ ุฎุงุฑุฌ ุชฺฉโุฎุท</td></tr>
<tr><td><code>/*...*/</code></td><td>ูุธุฑ ุจููฺฉ</td></tr>
<tr><td><code>/*!...*/</code></td><td>ูุธุฑ ูุณุชูุฏ ุฏุงุฎู ุจููฺฉ</td></tr>
<tr><td><code>/**...*/</code></td><td>ูุธุฑ ูุณุชูุฏ ุฎุงุฑุฌ ุจููฺฉ</td></tr>
</tbody></table>
</div>
<p><span class="caption">ุฌุฏูู B-8: ุชุงูพูโูุง</span></p>
<div class="table-wrapper"><table><thead><tr><th>ููุงุฏ</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>()</code></td><td>ุชุงูพู ุฎุงู (ูุนุฑูู ุจู ูุงุญุฏ)ุ ูู ุจู ุนููุงู ูุชุฑุงู ู ูู ููุน</td></tr>
<tr><td><code>(expr)</code></td><td>ุนุจุงุฑุช ูพุฑุงูุชุฒุฏุงุฑ</td></tr>
<tr><td><code>(expr,)</code></td><td>ุนุจุงุฑุช ุชุงูพู ุชฺฉโุนูุตุฑ</td></tr>
<tr><td><code>(type,)</code></td><td>ููุน ุชุงูพู ุชฺฉโุนูุตุฑ</td></tr>
<tr><td><code>(expr, ...)</code></td><td>ุนุจุงุฑุช ุชุงูพู</td></tr>
<tr><td><code>(type, ...)</code></td><td>ููุน ุชุงูพู</td></tr>
<tr><td><code>expr(expr, ...)</code></td><td>ุนุจุงุฑุช ูุฑุงุฎูุงู ุชุงุจุนุ ููฺูู ุจุฑุง ููุฏุงุฑุฏู ุงููู ุจู <code>struct</code>โูุง ุชุงูพู ู ูุงุฑุงูุชโูุง <code>enum</code> ุชุงูพู ุงุณุชูุงุฏู ูโุดูุฏ</td></tr>
<tr><td><code>expr.0</code>, <code>expr.1</code>, etc.</td><td>ุงูุฏุณโฺฏุฐุงุฑ ุชุงูพู</td></tr>
</tbody></table>
</div>
<p><span class="caption">ุฌุฏูู B-9: ฺฉุฑูุดูโูุง</span></p>
<div class="table-wrapper"><table><thead><tr><th>ุฒููู</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>{...}</code></td><td>ุนุจุงุฑุช ุจููฺฉ</td></tr>
<tr><td><code>Type {...}</code></td><td>ูุชุฑุงู <code>struct</code></td></tr>
</tbody></table>
</div>
<p><span class="caption">ุฌุฏูู B-10: ุจุฑุงฺฉุชโูุง</span></p>
<div class="table-wrapper"><table><thead><tr><th>ุฒููู</th><th>ุชูุถุญ</th></tr></thead><tbody>
<tr><td><code>[...]</code></td><td>ูุชุฑุงู ุขุฑุงู</td></tr>
<tr><td><code>[expr; len]</code></td><td>ูุชุฑุงู ุขุฑุงู ฺฉู ุดุงูู <code>len</code> ูุณุฎู ุงุฒ <code>expr</code> ุงุณุช</td></tr>
<tr><td><code>[type; len]</code></td><td>ููุน ุขุฑุงู ฺฉู ุดุงูู <code>len</code> ููููู ุงุฒ <code>type</code> ุงุณุช</td></tr>
<tr><td><code>expr[expr]</code></td><td>ุงูุฏุณโฺฏุฐุงุฑ ูุฌููุนู. ูุงุจู ุงุถุงููโุจุงุฑฺฏุฐุงุฑ (<code>Index</code>, <code>IndexMut</code>)</td></tr>
<tr><td><code>expr[..]</code>, <code>expr[a..]</code>, <code>expr[..b]</code>, <code>expr[a..b]</code></td><td>ุงูุฏุณโฺฏุฐุงุฑ ูุฌููุนู ฺฉู ุดุจู ุจู ุจุฑุด ูุฌููุนู ุนูู ูโฺฉูุฏุ ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Range</code>ุ <code>RangeFrom</code>ุ <code>RangeTo</code>ุ ุง <code>RangeFull</code> ุจู ุนููุงู โุงูุฏุณโ</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู-ุฌ-ูฺฺฏูุง-ูุงุจู-ุงุดุชูุงู"><a class="header" href="#ุถููู-ุฌ-ูฺฺฏูุง-ูุงุจู-ุงุดุชูุงู">ุถููู ุฌ: ูฺฺฏโูุง ูุงุจู ุงุดุชูุงู</a></h2>
<p>ุฏุฑ ุจุฎุดโูุง ูุฎุชูู ฺฉุชุงุจุ ูุง ุฏุฑุจุงุฑู ูฺฺฏ <code>derive</code> ุตุญุจุช ฺฉุฑุฏู ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ุจู ุชุนุฑู ฺฉ struct ุง enum ุงุนูุงู ฺฉูุฏ. ูฺฺฏ <code>derive</code> ฺฉุฏ ุชููุฏ ูโฺฉูุฏ ฺฉู ฺฉ ูฺฺฏ ุฑุง ุจุง ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุฎูุฏ ุฑู ููุน ฺฉู ุจุง ุณูุชฺฉุณ <code>derive</code> ุญุงุดูโููุณ ฺฉุฑุฏูโุงุฏุ ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</p>
<p>ุฏุฑ ุงู ุถูููุ ูุฑุฌุน ุงุฒ ุชูุงู ูฺฺฏโูุง ููุฌูุฏ ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุจุง <code>derive</code> ุงุณุชูุงุฏู ฺฉูุฏ ุงุฑุงุฆู ูโุดูุฏ. ูุฑ ุจุฎุด ุดุงูู ููุงุฑุฏ ุฒุฑ ุงุณุช:</p>
<ul>
<li>ฺู ุนููฺฏุฑูุง ู ูุชุฏูุง ุจุง ูุดุชูโุณุงุฒ ุงู ูฺฺฏ ูุนุงู ูโุดููุฏ</li>
<li>ูพุงุฏูโุณุงุฒ ูฺฺฏ ฺฉู ุชูุณุท <code>derive</code> ุงุฑุงุฆู ูโุดูุฏ ฺู ูโฺฉูุฏ</li>
<li>ูพุงุฏูโุณุงุฒ ูฺฺฏ ฺู ููููู ุฏุฑุจุงุฑู ููุน ุฏุงุฑุฏ</li>
<li>ุดุฑุงุท ฺฉู ุฏุฑ ุขู ุงุฌุงุฒู ุง ุนุฏู ุงุฌุงุฒู ูพุงุฏูโุณุงุฒ ูฺฺฏ ุฏุงุฏู ูโุดูุฏ</li>
<li>ูุซุงูโูุง ุงุฒ ุนููุงุชโูุง ฺฉู ุจู ุงู ูฺฺฏ ูุงุฒ ุฏุงุฑูุฏ</li>
</ul>
<p>ุงฺฏุฑ ุฑูุชุงุฑ ูุชูุงูุช ุงุฒ ุขูฺู ูฺฺฏ <code>derive</code> ุงุฑุงุฆู ูโุฏูุฏ ูโุฎูุงูุฏุ ุจู ูุณุชูุฏุงุช <a href="https://doc.rust-lang.org/std/index.html">ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ</a><!-- ignore --> ุจุฑุง ูุฑ ูฺฺฏ ูุฑุงุฌุนู ฺฉูุฏ ุชุง ุฌุฒุฆุงุช ูุฑุจูุท ุจู ูุญูู ูพุงุฏูโุณุงุฒ ุฏุณุช ุขู ุฑุง ุจุงุจุฏ.</p>
<p>ุงู ูฺฺฏโูุง ฺฉู ุฏุฑ ุงูุฌุง ููุฑุณุช ุดุฏูโุงูุฏ ุชููุง ูฺฺฏโูุง ูุณุชูุฏ ฺฉู ุชูุณุท ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ุดุฏูโุงูุฏ ู ูโุชูุงููุฏ ุฑู ุงููุงุน ุดูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>derive</code> ูพุงุฏูโุณุงุฒ ุดููุฏ. ูฺฺฏโูุง ุฏฺฏุฑ ุชุนุฑูโุดุฏู ุฏุฑ ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ ุฑูุชุงุฑ ูพุดโูุฑุถ ูุนููู ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ุดูุง ุจุงุฏ ุขูโูุง ุฑุง ุจู ูุญู ูพุงุฏูโุณุงุฒ ฺฉูุฏ ฺฉู ุจุง ุขูฺู ูโุฎูุงูุฏ ุงูุฌุงู ุฏูุฏ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.</p>
<p>ูุซุงู ุงุฒ ฺฉ ูฺฺฏ ฺฉู ููโุชูุงูุฏ ูุดุชู ุดูุฏุ <code>Display</code> ุงุณุช ฺฉู ูุฑูุชโุฏู ุจุฑุง ฺฉุงุฑุจุฑุงู ููุง ุฑุง ูุฏุฑุช ูโฺฉูุฏ. ุดูุง ุจุงุฏ ููุดู ุฑุงู ููุงุณุจ ุจุฑุง ููุงุด ฺฉ ููุน ุจู ฺฉุงุฑุจุฑ ููุง ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. ฺู ุจุฎุดโูุง ุงุฒ ููุน ุจุงุฏ ุจู ฺฉุงุฑุจุฑ ููุง ูุดุงู ุฏุงุฏู ุดูุฏุ ฺู ุจุฎุดโูุง ุจุฑุง ุงู ูุฑุชุจุท ุงุณุชุ ฺู ูุฑูุช ุงุฒ ุฏุงุฏู ุจุฑุง ุงู ุจุดุชุฑู ุงููุช ุฑุง ุฏุงุฑุฏุ ฺฉุงููพุงูุฑ Rust ุงู ุจูุด ุฑุง ูุฏุงุฑุฏุ ุจูุงุจุฑุงู ููโุชูุงูุฏ ุฑูุชุงุฑ ูพุดโูุฑุถ ููุงุณุจ ุฑุง ุจุฑุง ุดูุง ูุฑุงูู ฺฉูุฏ.</p>
<p>ูุณุช ูฺฺฏโูุง ูุงุจู ุงุดุชูุงู ุงุฑุงุฆูโุดุฏู ุฏุฑ ุงู ุถููู ุฌุงูุน ูุณุช: ฺฉุชุงุจุฎุงููโูุง ูโุชูุงููุฏ <code>derive</code> ุฑุง ุจุฑุง ูฺฺฏโูุง ุฎูุฏ ูพุงุฏูโุณุงุฒ ฺฉููุฏ ู ูุณุช ูฺฺฏโูุง ฺฉู ูโุชูุงูุฏ ุจุง <code>derive</code> ุงุณุชูุงุฏู ฺฉูุฏ ุฑุง ุจูโุทูุฑ ูุงูุน ุจุงุฒ ุจฺฏุฐุงุฑูุฏ. ูพุงุฏูโุณุงุฒ <code>derive</code> ุดุงูู ุงุณุชูุงุฏู ุงุฒ ฺฉ ูุงฺฉุฑู ูุฑุขูุฏ ุงุณุช ฺฉู ุฏุฑ ุจุฎุด <a href="ch20-05-macros.html#macros">โูุงฺฉุฑููุงโ</a><!-- ignore --> ุงุฒ ูุตู 20 ูพูุดุด ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<h3 id="debug-ุจุฑุง-ุฎุฑูุฌ-ุจุฑูุงููููุณ"><a class="header" href="#debug-ุจุฑุง-ุฎุฑูุฌ-ุจุฑูุงููููุณ"><code>Debug</code> ุจุฑุง ุฎุฑูุฌ ุจุฑูุงููโููุณ</a></h3>
<p>ูฺฺฏ <code>Debug</code> ูุฑูุชโุฏู ุฏุจุงฺฏ ุฑุง ุฏุฑ ุฑุดุชูโูุง ูุฑูุช ูุนุงู ูโฺฉูุฏ ฺฉู ุจุง ุงูุฒูุฏู <code>:?</code> ุฏุฑูู ูฺฏูโุฏุงุฑูุฏูโูุง <code>{}</code> ูุดุฎุต ูโฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Debug</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ูููููโูุง ุงุฒ ฺฉ ููุน ุฑุง ุจุฑุง ููุงุตุฏ ุฏุจุงฺฏ ฺุงูพ ฺฉูุฏุ ุจูโุทูุฑโฺฉู ุดูุง ู ุณุงุฑ ุจุฑูุงููโููุณุงู ฺฉู ุงุฒ ููุน ุดูุง ุงุณุชูุงุฏู ูโฺฉููุฏ ุจุชูุงูุฏ ูููููโุง ุฑุง ุฏุฑ ฺฉ ููุทู ุฎุงุต ุงุฒ ุงุฌุฑุง ุจุฑูุงูู ุจุฑุฑุณ ฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Debug</code>ุ ุจุฑุง ูุซุงูุ ุฏุฑ ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert_eq!</code> ููุฑุฏ ูุงุฒ ุงุณุช. ุงู ูุงฺฉุฑู ููุงุฏุฑ ูููููโูุง ุฏุงุฏูโุดุฏู ุจูโุนููุงู ุขุฑฺฏููุงูโูุง ุฑุง ฺุงูพ ูโฺฉูุฏ ุงฺฏุฑ ุงุฏุนุง ุจุฑุงุจุฑ ุดฺฉุณุช ุจุฎูุฑุฏ ุชุง ุจุฑูุงููโููุณุงู ุจุชูุงููุฏ ุจุจููุฏ ฺุฑุง ุฏู ููููู ุจุฑุงุจุฑ ูุณุชูุฏ.</p>
<h3 id="partialeq-ู-eq-ุจุฑุง-ููุงุณู-ุจุฑุงุจุฑ"><a class="header" href="#partialeq-ู-eq-ุจุฑุง-ููุงุณู-ุจุฑุงุจุฑ"><code>PartialEq</code> ู <code>Eq</code> ุจุฑุง ููุงุณู ุจุฑุงุจุฑ</a></h3>
<p>ูฺฺฏ <code>PartialEq</code> ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ูููููโูุง ฺฉ ููุน ุฑุง ุจุฑุง ุจุฑุฑุณ ุจุฑุงุจุฑ ููุงุณู ฺฉูุฏ ู ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑูุง <code>==</code> ู <code>!=</code> ุฑุง ููฺฉู ูโุณุงุฒุฏ.</p>
<p>ูุดุชูโุณุงุฒ <code>PartialEq</code> ูุชุฏ <code>eq</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ููุช <code>PartialEq</code> ุฑู structโูุง ูุดุชู ูโุดูุฏุ ุฏู ููููู ููุท ุฒูุงู ุจุฑุงุจุฑ ูุณุชูุฏ ฺฉู <em>ุชูุงู</em> ููุฏูุง ุจุฑุงุจุฑ ุจุงุดูุฏ ู ูููููโูุง ุจุฑุงุจุฑ ูุณุชูุฏ ุงฺฏุฑ ูุฑ ฺฉ ุงุฒ ููุฏูุง ุจุฑุงุจุฑ ูุจุงุดูุฏ. ููุช ุฑู enumโูุง ูุดุชู ูโุดูุฏุ ูุฑ ูุงุฑุงูุช ุจุง ุฎูุฏุด ุจุฑุงุจุฑ ุงุณุช ู ุจุง ุณุงุฑ ูุงุฑุงูุชโูุง ุจุฑุงุจุฑ ูุณุช.</p>
<p>ูฺฺฏ <code>PartialEq</code>ุ ุจุฑุง ูุซุงูุ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงฺฉุฑู <code>assert_eq!</code> ููุฑุฏ ูุงุฒ ุงุณุช ฺฉู ุจุงุฏ ุจุชูุงูุฏ ุฏู ููููู ุงุฒ ฺฉ ููุน ุฑุง ุจุฑุง ุจุฑุงุจุฑ ููุงุณู ฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Eq</code> ูฺ ูุชุฏ ูุฏุงุฑุฏ. ูุฏู ุขู ุงู ุงุณุช ฺฉู ูุดุงู ุฏูุฏ ุจุฑุง ูุฑ ููุฏุงุฑ ุงุฒ ููุน ุญุงุดูโููุณโุดุฏูุ ููุฏุงุฑ ุจุง ุฎูุฏุด ุจุฑุงุจุฑ ุงุณุช. ูฺฺฏ <code>Eq</code> ููุท ูโุชูุงูุฏ ุจู ููุนโูุง ุงุนูุงู ุดูุฏ ฺฉู ููฺูู <code>PartialEq</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดูุฏุ ุงฺฏุฑฺู ููู ููุนโูุง ฺฉู <code>PartialEq</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงูุฏ ููโุชูุงููุฏ <code>Eq</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ. ูุซุงู ุงุฒ ุงู ููุฑุฏ ููุนโูุง ุนุฏุฏ ููุฒ ุดูุงูุฑ ูุณุชูุฏ: ูพุงุฏูโุณุงุฒ ุงุนุฏุงุฏ ููุฒ ุดูุงูุฑ ุจุงู ูโฺฉูุฏ ฺฉู ุฏู ููููู ุงุฒ ููุฏุงุฑ ุบุฑุนุฏุฏ (<code>NaN</code>) ุจุฑุงุจุฑ ูุณุชูุฏ.</p>
<p>ูุซุงู ุงุฒ ุฒูุงู ฺฉู <code>Eq</code> ููุฑุฏ ูุงุฒ ุงุณุชุ ุจุฑุง ฺฉูุฏูุง ุฏุฑ <code>HashMap&lt;K, V&gt;</code> ุงุณุช ุชุง <code>HashMap&lt;K, V&gt;</code> ุจุชูุงูุฏ ุชุนู ฺฉูุฏ ฺฉู ุขุง ุฏู ฺฉูุฏ ฺฉุณุงู ูุณุชูุฏ ุง ูู.</p>
<h3 id="partialord-ู-ord-ุจุฑุง-ููุงุณู-ูุฑุชุจุณุงุฒ"><a class="header" href="#partialord-ู-ord-ุจุฑุง-ููุงุณู-ูุฑุชุจุณุงุฒ"><code>PartialOrd</code> ู <code>Ord</code> ุจุฑุง ููุงุณู ูุฑุชุจโุณุงุฒ</a></h3>
<p>ูฺฺฏ <code>PartialOrd</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ูููููโูุง ฺฉ ููุน ุฑุง ุจุฑุง ุงูุฏุงู ูุฑุชุจโุณุงุฒ ููุงุณู ฺฉูุฏ. ููุน ฺฉู ูฺฺฏ <code>PartialOrd</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ูโุชูุงูุฏ ุจุง ุนููฺฏุฑูุง <code>&lt;</code>ุ <code>&gt;</code>ุ <code>&lt;=</code> ู <code>&gt;=</code> ุงุณุชูุงุฏู ุดูุฏ. ุดูุง ููุท ูโุชูุงูุฏ ูฺฺฏ <code>PartialOrd</code> ุฑุง ุจู ููุนโูุง ุงุนูุงู ฺฉูุฏ ฺฉู ููฺูู <code>PartialEq</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดูุฏ.</p>
<p>ูุดุชูโุณุงุฒ <code>PartialOrd</code> ูุชุฏ <code>partial_cmp</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ฺฉู ฺฉ <code>Option&lt;Ordering&gt;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุฏุฑ ุตูุฑุช ฺฉู ููุงุฏุฑ ุฏุงุฏูโุดุฏู ุชุฑุชุจโุจูุฏ ุชููุฏ ูฺฉููุฏุ <code>None</code> ุฎูุงูุฏ ุจูุฏ. ูุซุงู ุงุฒ ููุฏุงุฑ ฺฉู ุชุฑุชุจโุจูุฏ ุชููุฏ ููโฺฉูุฏุ ุญุช ุงฺฏุฑ ุจุดุชุฑ ููุงุฏุฑ ุขู ููุน ูุงุจู ููุงุณู ุจุงุดูุฏุ ููุฏุงุฑ ููุทู ุดูุงูุฑ ุบุฑุนุฏุฏ (<code>NaN</code>) ุงุณุช. ูุฑุงุฎูุงู <code>partial_cmp</code> ุจุง ูุฑ ุนุฏุฏ ุดูุงูุฑ ู ููุฏุงุฑ <code>NaN</code> ููุทู ุดูุงูุฑ <code>None</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
<p>ููุช ุฑู structโูุง ูุดุชู ูโุดูุฏุ <code>PartialOrd</code> ุฏู ููููู ุฑุง ุจุง ููุงุณู ููุฏุงุฑ ูุฑ ููุฏ ุจู ุชุฑุชุจ ุธุงูุฑ ุดุฏู ููุฏูุง ุฏุฑ ุชุนุฑู struct ููุงุณู ูโฺฉูุฏ. ููุช ุฑู enumโูุง ูุดุชู ูโุดูุฏุ ูุงุฑุงูุชโูุง enum ฺฉู ุฒูุฏุชุฑ ุฏุฑ ุชุนุฑู enum ุงุนูุงู ุดุฏูโุงูุฏุ ฺฉูุชุฑ ุงุฒ ูุงุฑุงูุชโูุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดููุฏ ฺฉู ุจุนุฏุงู ููุฑุณุช ุดุฏูโุงูุฏ.</p>
<p>ูฺฺฏ <code>PartialOrd</code>ุ ุจุฑุง ูุซุงูุ ุจุฑุง ูุชุฏ <code>gen_range</code> ุงุฒ crate <code>rand</code> ููุฑุฏ ูุงุฒ ุงุณุช ฺฉู ฺฉ ููุฏุงุฑ ุชุตุงุฏู ุฏุฑ ูุญุฏูุฏู ูุดุฎุตโุดุฏู ุชูุณุท ฺฉ ุนุจุงุฑุช ูุญุฏูุฏู ุชููุฏ ูโฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Ord</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุจุฏุงูุฏ ฺฉู ุจุฑุง ูุฑ ุฏู ููุฏุงุฑ ุงุฒ ููุน ุญุงุดูโููุณโุดุฏูุ ฺฉ ุชุฑุชุจโุจูุฏ ูุนุชุจุฑ ูุฌูุฏ ุฎูุงูุฏ ุฏุงุดุช. ูฺฺฏ <code>Ord</code> ูุชุฏ <code>cmp</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ฺฉู ุจู ุฌุง <code>Option&lt;Ordering&gt;</code>ุ ฺฉ <code>Ordering</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ุฒุฑุง ฺฉ ุชุฑุชุจโุจูุฏ ูุนุชุจุฑ ููุดู ููฺฉู ุฎูุงูุฏ ุจูุฏ. ุดูุง ููุท ูโุชูุงูุฏ ูฺฺฏ <code>Ord</code> ุฑุง ุจู ููุนโูุง ุงุนูุงู ฺฉูุฏ ฺฉู ููฺูู <code>PartialOrd</code> ู <code>Eq</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุจุงุดูุฏ (ู <code>Eq</code> ูุงุฒููุฏ <code>PartialEq</code> ุงุณุช). ููุช ุฑู structโูุง ู enumโูุง ูุดุชู ูโุดูุฏุ <code>cmp</code> ุจู ููุงู ุดฺฉู ุนูู ูโฺฉูุฏ ฺฉู ูพุงุฏูโุณุงุฒ ูุดุชูโุดุฏู ุจุฑุง <code>partial_cmp</code> ุฏุฑ <code>PartialOrd</code> ุนูู ูโฺฉูุฏ.</p>
<p>ูุซุงู ุงุฒ ุฒูุงู ฺฉู <code>Ord</code> ููุฑุฏ ูุงุฒ ุงุณุชุ ููฺฏุงู ุฐุฎุฑู ููุงุฏุฑ ุฏุฑ <code>BTreeSet&lt;T&gt;</code> ุงุณุชุ ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ฺฉู ุฏุงุฏูโูุง ุฑุง ุจุฑ ุงุณุงุณ ุชุฑุชุจ ูุฑุชุจโุณุงุฒ ููุงุฏุฑ ุฐุฎุฑู ูโฺฉูุฏ.</p>
<h3 id="clone-ู-copy-ุจุฑุง-ุชฺฉุซุฑ-ููุงุฏุฑ"><a class="header" href="#clone-ู-copy-ุจุฑุง-ุชฺฉุซุฑ-ููุงุฏุฑ"><code>Clone</code> ู <code>Copy</code> ุจุฑุง ุชฺฉุซุฑ ููุงุฏุฑ</a></h3>
<p>ูฺฺฏ <code>Clone</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุจู ุทูุฑ ุตุฑุญ ฺฉ ฺฉูพ ุนูู ุงุฒ ฺฉ ููุฏุงุฑ ุงุฌุงุฏ ฺฉูุฏุ ู ูุฑุงูุฏ ุชฺฉุซุฑ ููฺฉู ุงุณุช ุดุงูู ุงุฌุฑุง ฺฉุฏ ุฏูุฎูุงู ู ฺฉูพ ุฏุงุฏูโูุง heap ุจุงุดุฏ. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู <code>Clone</code>ุ ุจู ุจุฎุด <a href="ch04-01-what-is-ownership.html#ways-variables-and-data-interact-clone">โุฑุงูโูุง ุชุนุงูู ูุชุบุฑูุง ู ุฏุงุฏูโูุง: Cloneโ</a><!-- ignore --> ุฏุฑ ูุตู 4 ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ูุดุชูโุณุงุฒ <code>Clone</code> ูุชุฏ <code>clone</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ฺฉู ููฺฏุงู ูพุงุฏูโุณุงุฒ ุจุฑุง ฺฉู ููุนุ ูุชุฏ <code>clone</code> ุฑุง ุฑู ูุฑ ฺฉ ุงุฒ ุจุฎุดโูุง ููุน ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุชูุงู ููุฏูุง ุง ููุงุฏุฑ ุฏุฑ ููุน ูุฒ ุจุงุฏ <code>Clone</code> ุฑุง ุจุฑุง ูุดุชูโุณุงุฒ <code>Clone</code> ูพุงุฏูโุณุงุฒ ฺฉููุฏ.</p>
<p>ูุซุงู ุงุฒ ุฒูุงู ฺฉู <code>Clone</code> ููุฑุฏ ูุงุฒ ุงุณุชุ ููฺฏุงู ูุฑุงุฎูุงู ูุชุฏ <code>to_vec</code> ุฑู ฺฉ slice ุงุณุช. slice ูุงูฺฉ ูููููโูุง ููุน ฺฉู ุดุงูู ุงุณุช ุฑุง ูุฏุงุฑุฏุ ุงูุง ูฺฉุชูุฑ ฺฉู ุงุฒ <code>to_vec</code> ุจุฑฺฏุฑุฏุงูุฏู ูโุดูุฏ ุจุงุฏ ูุงูฺฉ ูููููโูุง ุฎูุฏ ุจุงุดุฏุ ุจูุงุจุฑุงู <code>to_vec</code> ุฑู ูุฑ ุขุชู <code>clone</code> ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุจูุงุจุฑุงูุ ููุน ุฐุฎุฑูโุดุฏู ุฏุฑ slice ุจุงุฏ <code>Clone</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Copy</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉ ููุฏุงุฑ ุฑุง ุจุง ฺฉูพ ฺฉุฑุฏู ุจุชโูุง ุฐุฎุฑูโุดุฏู ุฑู stack ุชฺฉุซุฑ ฺฉูุฏุ ูฺ ฺฉุฏ ุฏูุฎูุงู ูุงุฒู ูุณุช. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู <code>Copy</code>ุ ุจู ุจุฎุด <a href="ch04-01-what-is-ownership.html#stack-only-data-copy">โุฏุงุฏูโูุง ููุท stack: Copyโ</a><!-- ignore --> ุฏุฑ ูุตู 4 ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Copy</code> ูฺ ูุชุฏ ุฑุง ุชุนุฑู ููโฺฉูุฏ ุชุง ุงุฒ ุงุถุงููโุจุงุฑฺฏุฐุงุฑ ุขู ูุชุฏูุง ุชูุณุท ุจุฑูุงููโููุณุงู ู ููุถ ูุฑุถ ฺฉู ูฺ ฺฉุฏ ุฏูุฎูุงู ุงุฌุฑุง ููโุดูุฏ ุฌููฺฏุฑ ฺฉูุฏ. ุจู ุงู ุชุฑุชุจุ ุชูุงู ุจุฑูุงููโููุณุงู ูโุชูุงููุฏ ูุฑุถ ฺฉููุฏ ฺฉู ฺฉูพ ฺฉุฑุฏู ฺฉ ููุฏุงุฑ ุจุณุงุฑ ุณุฑุน ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุดูุง ูโุชูุงูุฏ <code>Copy</code> ุฑุง ุฑู ูุฑ ููุน ูุดุชู ฺฉูุฏ ฺฉู ุชูุงู ุงุฌุฒุง ุขู <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ููุน ฺฉู <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุจุงุฏ ููฺูู <code>Clone</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุฒุฑุง ููุน ฺฉู <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุฏุงุฑุง ูพุงุฏูโุณุงุฒ ุณุงุฏูโุง ุงุฒ <code>Clone</code> ุงุณุช ฺฉู ููุงู ูุธูู ุฑุง ุจู ุนููุงู <code>Copy</code> ุงูุฌุงู ูโุฏูุฏ.</p>
<p>ูฺฺฏ <code>Copy</code> ุจู ูุฏุฑุช ููุฑุฏ ูุงุฒ ุงุณุชุ ููุนโูุง ฺฉู <code>Copy</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุจูููโุณุงุฒโูุง ุฏุฑ ุฏุณุชุฑุณ ุฏุงุฑูุฏุ ุจู ุงู ูุนูุง ฺฉู ุดูุง ูุงุฒ ุจู ูุฑุงุฎูุงู <code>clone</code> ูุฏุงุฑุฏุ ฺฉู ฺฉุฏ ุฑุง ูุฎุชุตุฑุชุฑ ูโฺฉูุฏ.</p>
<p>ูุฑ ฺุฒ ฺฉู ุจุง <code>Copy</code> ููฺฉู ุงุณุช ุฑุง ูโุชูุงูุฏ ุจุง <code>Clone</code> ูุฒ ุงูุฌุงู ุฏูุฏุ ุงูุง ฺฉุฏ ููฺฉู ุงุณุช ฺฉูุฏุชุฑ ุจุงุดุฏ ุง ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ <code>clone</code> ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ุฏุงุดุชู ุจุงุดุฏ.</p>
<h3 id="hash-ุจุฑุง-ูฺฏุงุดุช-ููุฏุงุฑ-ุจู-ููุฏุงุฑ-ุจุง-ุงูุฏุงุฒู-ุซุงุจุช"><a class="header" href="#hash-ุจุฑุง-ูฺฏุงุดุช-ููุฏุงุฑ-ุจู-ููุฏุงุฑ-ุจุง-ุงูุฏุงุฒู-ุซุงุจุช"><code>Hash</code> ุจุฑุง ูฺฏุงุดุช ููุฏุงุฑ ุจู ููุฏุงุฑ ุจุง ุงูุฏุงุฒู ุซุงุจุช</a></h3>
<p>ูฺฺฏ <code>Hash</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉ ููููู ุงุฒ ููุน ุจุง ุงูุฏุงุฒู ุฏูุฎูุงู ุจฺฏุฑุฏ ู ุขู ููููู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุชุงุจุน ูุด ุจู ููุฏุงุฑ ุจุง ุงูุฏุงุฒู ุซุงุจุช ูฺฏุงุดุช ฺฉูุฏ. ูุดุชูโุณุงุฒ <code>Hash</code> ูุชุฏ <code>hash</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ูพุงุฏูโุณุงุฒ ูุดุชูโุดุฏู ูุชุฏ <code>hash</code> ูุชุฌู ูุฑุงุฎูุงู <code>hash</code> ุฑู ูุฑ ฺฉ ุงุฒ ุจุฎุดโูุง ููุน ุฑุง ุชุฑฺฉุจ ูโฺฉูุฏุ ุจู ุงู ูุนู ฺฉู ุชูุงู ููุฏูุง ุง ููุงุฏุฑ ูุฒ ุจุงุฏ <code>Hash</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ ุชุง <code>Hash</code> ูุดุชู ุดูุฏ.</p>
<p>ูุซุงู ุงุฒ ุฒูุงู ฺฉู <code>Hash</code> ููุฑุฏ ูุงุฒ ุงุณุชุ ููฺฏุงู ุฐุฎุฑู ฺฉูุฏูุง ุฏุฑ <code>HashMap&lt;K, V&gt;</code> ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุจู ุตูุฑุช ฺฉุงุฑุขูุฏ ุงุณุช.</p>
<h3 id="default-ุจุฑุง-ููุงุฏุฑ-ูพุดูุฑุถ"><a class="header" href="#default-ุจุฑุง-ููุงุฏุฑ-ูพุดูุฑุถ"><code>Default</code> ุจุฑุง ููุงุฏุฑ ูพุดโูุฑุถ</a></h3>
<p>ูฺฺฏ <code>Default</code> ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ฺฉ ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ฺฉ ููุน ุงุฌุงุฏ ฺฉูุฏ. ูุดุชูโุณุงุฒ <code>Default</code> ุชุงุจุน <code>default</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ. ูพุงุฏูโุณุงุฒ ูุดุชูโุดุฏู ุชุงุจุน <code>default</code> ุชุงุจุน <code>default</code> ุฑุง ุฑู ูุฑ ุจุฎุด ุงุฒ ููุน ูุฑุงุฎูุงู ูโฺฉูุฏุ ุจู ุงู ูุนู ฺฉู ุชูุงู ููุฏูุง ุง ููุงุฏุฑ ุฏุฑ ููุน ูุฒ ุจุงุฏ <code>Default</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ ุชุง <code>Default</code> ูุดุชู ุดูุฏ.</p>
<p>ุชุงุจุน <code>Default::default</code> ูุนูููุงู ุจู ููุฑุงู ุณูุชฺฉุณ ุจูโุฑูุฒุฑุณุงู ุณุงุฎุชุงุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="ch05-01-defining-structs.html#creating-instances-from-other-instances-with-struct-update-syntax">โุงุฌุงุฏ ูููููโูุง ุงุฒ ูููููโูุง ุฏฺฏุฑ ุจุง ุณูุชฺฉุณ ุจูโุฑูุฒุฑุณุงู ุณุงุฎุชุงุฑโ</a><!-- ignore --> ุฏุฑ ูุตู 5 ููุฑุฏ ุจุญุซ ูุฑุงุฑ ฺฏุฑูุชู ุงุณุชุ ุงุณุชูุงุฏู ูโุดูุฏ. ูโุชูุงูุฏ ฺูุฏ ููุฏ ุงุฒ ฺฉ ุณุงุฎุชุงุฑ ุฑุง ุณูุงุฑุด ฺฉูุฏ ู ุณูพุณ ฺฉ ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ุจูู ููุฏูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>..Default::default()</code> ุชูุธู ู ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<p>ูฺฺฏ <code>Default</code>ุ ุจุฑุง ูุซุงูุ ุฒูุงู ููุฑุฏ ูุงุฒ ุงุณุช ฺฉู ุงุฒ ูุชุฏ <code>unwrap_or_default</code> ุฑู ูููููโูุง <code>Option&lt;T&gt;</code> ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงฺฏุฑ <code>Option&lt;T&gt;</code> ุจุฑุงุจุฑ ุจุง <code>None</code> ุจุงุดุฏุ ูุชุฏ <code>unwrap_or_default</code> ูุชุฌู <code>Default::default</code> ุฑุง ุจุฑุง ููุน <code>T</code> ุฐุฎุฑูโุดุฏู ุฏุฑ <code>Option&lt;T&gt;</code> ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู-ุฏ---ุงุจุฒุงุฑูุง-ููุฏ-ุชูุณุนู"><a class="header" href="#ุถููู-ุฏ---ุงุจุฒุงุฑูุง-ููุฏ-ุชูุณุนู">ุถููู ุฏ - ุงุจุฒุงุฑูุง ููุฏ ุชูุณุนู</a></h2>
<p>ุฏุฑ ุงู ุถูููุ ูุง ุฏุฑุจุงุฑู ุจุฑุฎ ุงุจุฒุงุฑูุง ููุฏ ุชูุณุนู ฺฉู ูพุฑูฺู Rust ุงุฑุงุฆู ูโุฏูุฏ ุตุญุจุช ูโฺฉูู. ุจู ูุฑูุชโุฏู ุฎูุฏฺฉุงุฑุ ุฑูุดโูุง ุณุฑุน ุจุฑุง ุงุนูุงู ุงุตูุงุญุงุช ูุดุฏุงุฑูุงุ ฺฉ ุชุญููฺฏุฑ ฺฉุฏ (linter) ู ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ูุญุทโูุง ุชูุณุนู ฺฉูพุงุฑฺู (IDE) ุฎูุงูู ูพุฑุฏุงุฎุช.</p>
<h3 id="ูุฑูุชุฏู-ุฎูุฏฺฉุงุฑ-ุจุง-rustfmt"><a class="header" href="#ูุฑูุชุฏู-ุฎูุฏฺฉุงุฑ-ุจุง-rustfmt">ูุฑูุชโุฏู ุฎูุฏฺฉุงุฑ ุจุง <code>rustfmt</code></a></h3>
<p>ุงุจุฒุงุฑ <code>rustfmt</code> ฺฉุฏ ุดูุง ุฑุง ุจุฑ ุงุณุงุณ ุณุจฺฉ ฺฉุฏููุณ ุฌุงูุนู ูุฑูุช ูโฺฉูุฏ. ุจุณุงุฑ ุงุฒ ูพุฑูฺูโูุง ูุดุชุฑฺฉ ุงุฒ <code>rustfmt</code> ุงุณุชูุงุฏู ูโฺฉููุฏ ุชุง ุงุฒ ุจุญุซ ุฏุฑ ููุฑุฏ ุณุจฺฉ ฺฉุฏููุณ ุฏุฑ ููฺฏุงู ููุดุชู ฺฉุฏูุง Rust ุฌููฺฏุฑ ุดูุฏ: ููู ฺฉุฏูุง ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงุจุฒุงุฑ ูุฑูุช ูโฺฉููุฏ.</p>
<p>ุจุฑุง ูุตุจ <code>rustfmt</code>ุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ rustup component add rustfmt
</code></pre>
<p>ุงู ุฏุณุชูุฑ ุงุจุฒุงุฑูุง <code>rustfmt</code> ู <code>cargo-fmt</code> ุฑุง ุจู ุดูุง ูโุฏูุฏุ ูุดุงุจู ุจู ุงูฺฉู Rust ุงุจุฒุงุฑูุง <code>rustc</code> ู <code>cargo</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ. ุจุฑุง ูุฑูุช ฺฉุฑุฏู ูุฑ ูพุฑูฺูโุง ฺฉู ุงุฒ Cargo ุงุณุชูุงุฏู ูโฺฉูุฏุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo fmt
</code></pre>
<p>ุงุฌุฑุง ุงู ุฏุณุชูุฑ ุชูุงู ฺฉุฏูุง Rust ุฏุฑ crate ูุนู ุฑุง ูุฌุฏุฏุงู ูุฑูุช ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุจุงุฏ ููุท ุณุจฺฉ ฺฉุฏููุณ ุฑุง ุชุบุฑ ุฏูุฏุ ูู ูุนูุง ฺฉุฏ ุฑุง. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ <code>rustfmt</code>ุ ุจู <a href="https://github.com/rust-lang/rustfmt">ูุณุชูุฏุงุช ุขู</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<h3 id="ุงุตูุงุญ-ฺฉุฏ-ุดูุง-ุจุง-rustfix"><a class="header" href="#ุงุตูุงุญ-ฺฉุฏ-ุดูุง-ุจุง-rustfix">ุงุตูุงุญ ฺฉุฏ ุดูุง ุจุง <code>rustfix</code></a></h3>
<p>ุงุจุฒุงุฑ <code>rustfix</code> ฺฉู ููุฑุงู ุจุง ูุตุจโูุง Rust ุงุฑุงุฆู ูโุดูุฏุ ูโุชูุงูุฏ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุดุฏุงุฑูุง ฺฉุงููพุงูุฑ ุฑุง ฺฉู ฺฉ ุฑุงู ุญู ูุงุถุญ ุจุฑุง ุฑูุน ูุดฺฉู ุฏุงุฑูุฏ ู ุงุญุชูุงูุงู ููุงู ฺุฒ ุงุณุช ฺฉู ูโุฎูุงูุฏุ ุงุตูุงุญ ฺฉูุฏ. ุงุญุชูุงูุงู ูุจูุงู ูุดุฏุงุฑูุง ฺฉุงููพุงูุฑ ุฑุง ุฏุฏูโุงุฏ. ุจู ุนููุงู ูุซุงูุ ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn do_something() {}

fn main() {
    for i in 0..100 {
        do_something();
    }
}</code></pre></pre>
<p>ุฏุฑ ุงูุฌุงุ ูุง ุชุงุจุน <code>do_something</code> ุฑุง 100 ุจุงุฑ ูุฑุงุฎูุงู ูโฺฉููุ ุงูุง ูุฑฺฏุฒ ูุชุบุฑ <code>i</code> ุฑุง ุฏุฑ ุจุฏูู ุญููู <code>for</code> ุงุณุชูุงุฏู ููโฺฉูู. Rust ุฏุฑ ุงู ููุฑุฏ ุจู ูุง ูุดุฏุงุฑ ูโุฏูุฏ:</p>
<pre><code class="language-console">$ cargo build
   Compiling myprogram v0.1.0 (file:///projects/myprogram)
warning: unused variable: `i`
 --&gt; src/main.rs:4:9
  |
4 |     for i in 0..100 {
  |         ^ help: consider using `_i` instead
  |
  = note: #[warn(unused_variables)] on by default

    Finished dev [unoptimized + debuginfo] target(s) in 0.50s
</code></pre>
<p>ูุดุฏุงุฑ ูพุดููุงุฏ ูโุฏูุฏ ฺฉู ุจู ุฌุง ุขู ุงุฒ ูุงู <code>_i</code> ุงุณุชูุงุฏู ฺฉูู: ุฎุท ุฒุฑููุณ ูุดุงู ูโุฏูุฏ ฺฉู ูุตุฏ ุฏุงุฑู ุงู ูุชุบุฑ ุงุณุชูุงุฏู ูุดุฏู ุจุงู ุจูุงูุฏ. ูุง ูโุชูุงูู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงู ูพุดููุงุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑ <code>rustfix</code> ู ุงุฌุฑุง ุฏุณุชูุฑ <code>cargo fix</code> ุงุนูุงู ฺฉูู:</p>
<pre><code class="language-console">$ cargo fix
    Checking myprogram v0.1.0 (file:///projects/myprogram)
      Fixing src/main.rs (1 fix)
    Finished dev [unoptimized + debuginfo] target(s) in 0.59s
</code></pre>
<p>ููุช ุฏูุจุงุฑู ูุงู <em>src/main.rs</em> ุฑุง ุจุฑุฑุณ ฺฉููุ ุฎูุงูู ุฏุฏ ฺฉู <code>cargo fix</code> ฺฉุฏ ุฑุง ุชุบุฑ ุฏุงุฏู ุงุณุช:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn do_something() {}

fn main() {
    for _i in 0..100 {
        do_something();
    }
}</code></pre></pre>
<p>ุงฺฉููู ูุชุบุฑ ุญููู <code>for</code> ุจู ูุงู <code>_i</code> ุชุบุฑ ุงูุชู ุงุณุช ู ูุดุฏุงุฑ ุฏฺฏุฑ ููุงุด ุฏุงุฏู ููโุดูุฏ.</p>
<p>ููฺูู ูโุชูุงูุฏ ุงุฒ ุฏุณุชูุฑ <code>cargo fix</code> ุจุฑุง ุงูุชูุงู ฺฉุฏ ุฎูุฏ ุจู ูุณุฎูโูุง ูุฎุชูู Rust ุงุณุชูุงุฏู ฺฉูุฏ. ูุณุฎูโูุง ุฏุฑ <a href="appendix-05-editions.html">ุถููู ู</a> ูพูุดุด ุฏุงุฏู ุดุฏูโุงูุฏ.</p>
<h3 id="ููุชูุง-ุจุดุชุฑ-ุจุง-clippy"><a class="header" href="#ููุชูุง-ุจุดุชุฑ-ุจุง-clippy">ููุชโูุง ุจุดุชุฑ ุจุง Clippy</a></h3>
<p>ุงุจุฒุงุฑ Clippy ูุฌููุนูโุง ุงุฒ ุชุญููฺฏุฑูุง ฺฉุฏ (ููุชโูุง) ุงุณุช ฺฉู ฺฉุฏ ุดูุง ุฑุง ุชุญูู ูโฺฉููุฏ ุชุง ุจุชูุงูุฏ ุงุดุชุจุงูุงุช ุฑุงุฌ ุฑุง ูพุฏุง ฺฉุฑุฏู ู ฺฉุฏ Rust ุฎูุฏ ุฑุง ุจูุจูุฏ ุฏูุฏ.</p>
<p>ุจุฑุง ูุตุจ Clippyุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ rustup component add clippy
</code></pre>
<p>ุจุฑุง ุงุฌุฑุง ุชุญููฺฏุฑูุง Clippy ุฑู ูุฑ ูพุฑูฺู Cargoุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre><code class="language-console">$ cargo clippy
</code></pre>
<p>ุจู ุนููุงู ูุซุงูุ ูุฑุถ ฺฉูุฏ ุจุฑูุงููโุง ูโููุณุฏ ฺฉู ุงุฒ ฺฉ ููุฏุงุฑ ุชูุฑุจ ุจุฑุง ฺฉ ุซุงุจุช ุฑุงุถุ ูุงููุฏ piุ ุงุณุชูุงุฏู ูโฺฉูุฏุ ููุงูุทูุฑ ฺฉู ุงู ุจุฑูุงูู ุงูุฌุงู ูโุฏูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 3.1415;
    let r = 8.0;
    println!("the area of the circle is {}", x * r * r);
}</code></pre></pre>
<p>ุงุฌุฑุง <code>cargo clippy</code> ุฑู ุงู ูพุฑูฺู ุจู ุงู ุฎุทุง ููุฌุฑ ูโุดูุฏ:</p>
<pre><code class="language-text">error: approximate value of `f{32, 64}::consts::PI` found
 --&gt; src/main.rs:2:13
  |
2 |     let x = 3.1415;
  |             ^^^^^^
  |
  = note: `#[deny(clippy::approx_constant)]` on by default
  = help: consider using the constant directly
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant
</code></pre>
<p>ุงู ุฎุทุง ุจู ุดูุง ุงุทูุงุน ูโุฏูุฏ ฺฉู Rust ุงุฒ ูุจู ฺฉ ุซุงุจุช ุฏููโุชุฑ <code>PI</code> ุชุนุฑู ฺฉุฑุฏู ุงุณุช ู ุจุฑูุงูู ุดูุง ุงฺฏุฑ ุงุฒ ุงู ุซุงุจุช ุงุณุชูุงุฏู ฺฉูุฏุ ุตุญุญโุชุฑ ุฎูุงูุฏ ุจูุฏ. ุณูพุณ ฺฉุฏ ุฎูุฏ ุฑุง ุชุบุฑ ูโุฏูุฏ ุชุง ุงุฒ ุซุงุจุช <code>PI</code> ุงุณุชูุงุฏู ฺฉูุฏ. ฺฉุฏ ุฒุฑ ูฺ ุฎุทุง ุง ูุดุฏุงุฑ ุงุฒ Clippy ุชููุฏ ููโฺฉูุฏ:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = std::f64::consts::PI;
    let r = 8.0;
    println!("the area of the circle is {}", x * r * r);
}</code></pre></pre>
<p>ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู Clippyุ ุจู <a href="https://github.com/rust-lang/rust-clippy">ูุณุชูุฏุงุช ุขู</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<h3 id="ฺฉูพุงุฑฺูุณุงุฒ-ide-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-rust-analyzer"><a class="header" href="#ฺฉูพุงุฑฺูุณุงุฒ-ide-ุจุง-ุงุณุชูุงุฏู-ุงุฒ-rust-analyzer">ฺฉูพุงุฑฺูโุณุงุฒ IDE ุจุง ุงุณุชูุงุฏู ุงุฒ <code>rust-analyzer</code></a></h3>
<p>ุจุฑุง ฺฉูฺฉ ุจู ฺฉูพุงุฑฺูโุณุงุฒ ุจุง IDEุ ุฌุงูุนู Rust ุงุณุชูุงุฏู ุงุฒ <a href="https://rust-analyzer.github.io"><code>rust-analyzer</code></a><!-- ignore --> ุฑุง ุชูุตู ูโฺฉูุฏ. ุงู ุงุจุฒุงุฑ ูุฌููุนูโุง ุงุฒ ุงุจุฒุงุฑูุง ูุชูุฑฺฉุฒ ุจุฑ ฺฉุงููพุงูุฑ ุงุณุช ฺฉู ุจุง <a href="http://langserver.org/">ูพุฑูุชฺฉู ุฒุจุงู ุณุฑูุฑ</a><!-- ignore --> ฺฉุงุฑ ูโฺฉูุฏุ ฺฉู ฺฉ ูุดุฎุตู ุจุฑุง ุงุฑุชุจุงุท IDEูุง ู ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุจุง ฺฉุฏฺฏุฑ ุงุณุช. ูุดุชุฑโูุง ูุฎุชูู ูโุชูุงููุฏ ุงุฒ <code>rust-analyzer</code> ุงุณุชูุงุฏู ฺฉููุฏุ ูุงููุฏ <a href="https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer">ูพูุงฺฏู Rust analyzer ุจุฑุง Visual Studio Code</a>.</p>
<p>ุจุฑุง ุฏุณุชูุฑุงูุนููโูุง ูุตุจุ ุจู <a href="https://rust-analyzer.github.io">ุตูุญู ุงุตู ูพุฑูฺู <code>rust-analyzer</code></a><!-- ignore --> ูุฑุงุฌุนู ฺฉูุฏุ ุณูพุณ ูพุดุชุจุงู ุงุฒ ุณุฑูุฑ ุฒุจุงู ุฑุง ุฏุฑ IDE ุฎุงุต ุฎูุฏ ูุตุจ ฺฉูุฏ. IDE ุดูุง ูุงุจูุชโูุง ูุงููุฏ ุชฺฉูู ุฎูุฏฺฉุงุฑุ ูพุฑุด ุจู ุชุนุฑู ู ููุงุด ุฎุทุงูุง ุจู ุตูุฑุช ุฏุฑููโุฎุท ุฑุง ุจู ุฏุณุช ุฎูุงูุฏ ุขูุฑุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู-ู---ูุณุฎููุง"><a class="header" href="#ุถููู-ู---ูุณุฎููุง">ุถููู ู - ูุณุฎูโูุง</a></h2>
<p>ุฏุฑ ูุตู 1 ุฏุฏุฏ ฺฉู <code>cargo new</code> ฺฉู ูุชุงุฏุงุฏู ุจู ูุงู <em>Cargo.toml</em> ุดูุง ุงุถุงูู ูโฺฉูุฏ ฺฉู ุฏุฑุจุงุฑู ูุณุฎู ุงุณุช. ุงู ุถููู ุชูุถุญ ูโุฏูุฏ ฺฉู ุงู ุจู ฺู ูุนูุงุณุช!</p>
<p>ุฒุจุงู Rust ู ฺฉุงููพุงูุฑ ุขู ฺฉ ฺุฑุฎู ุงูุชุดุงุฑ ุดุดโููุชูโุง ุฏุงุฑูุฏุ ุจู ุงู ูุนู ฺฉู ฺฉุงุฑุจุฑุงู ุจู ุทูุฑ ูุฏุงูู ุจู ูฺฺฏโูุง ุฌุฏุฏ ุฏุณุชุฑุณ ูพุฏุง ูโฺฉููุฏ. ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏฺฏุฑ ุชุบุฑุงุช ุจุฒุฑฺฏ ุฑุง ฺฉูุชุฑ ููุชุดุฑ ูโฺฉููุฏุ ุฏุฑ ุญุงู ฺฉู Rust ุจู ุทูุฑ ูุฑุชุจ ุจูโุฑูุฒุฑุณุงูโูุง ฺฉูฺฺฉ ุงุฑุงุฆู ูโุฏูุฏ. ูพุณ ุงุฒ ูุฏุชุ ููู ุงู ุชุบุฑุงุช ฺฉูฺฺฉ ุฌูุน ูโุดููุฏ. ุงูุง ุงุฒ ุงูุชุดุงุฑ ุจู ุงูุชุดุงุฑุ ููฺฉู ุงุณุช ุณุฎุช ุจุงุดุฏ ฺฉู ุจฺฏูุฏ: ยซูุงุ ุจู Rust 1.10 ู Rust 1.31ุ Rust ุฎู ุชุบุฑ ฺฉุฑุฏู ุงุณุช!ยป</p>
<p>ูุฑ ุฏู ุง ุณู ุณุงูุ ุชู Rust ฺฉ ูุณุฎู ุฌุฏุฏ ุงุฒ Rust ุงุฑุงุฆู ูโุฏูุฏ. ูุฑ ูุณุฎู ูฺฺฏโูุง ฺฉู ุงุฑุงุฆู ุดุฏูโุงูุฏ ุฑุง ุฏุฑ ฺฉ ุจุณุชูโุจูุฏ ูุงุถุญ ุจุง ูุณุชูุฏุงุช ู ุงุจุฒุงุฑูุง ฺฉุงููุงู ุจูโุฑูุฒุดุฏู ุฌูุน ูโฺฉูุฏ. ูุณุฎูโูุง ุฌุฏุฏ ุจูโุนููุงู ุจุฎุด ุงุฒ ูุฑุขูุฏ ุงูุชุดุงุฑ ูุนููู ุดุดโููุชูโุง ููุชุดุฑ ูโุดููุฏ.</p>
<p>ูุณุฎูโูุง ุงูุฏุงู ูุฎุชูู ุจุฑุง ุงูุฑุงุฏ ูุฎุชูู ุฏุงุฑูุฏ:</p>
<ul dir="rtl">
  <li>ุจุฑุง ฺฉุงุฑุจุฑุงู ูุนุงู Rustุ ฺฉ ูุณุฎู ุฌุฏุฏ ุชุบุฑุงุช ุชุฏุฑุฌ ุฑุง ุฏุฑ ฺฉ ุจุณุชู ุขุณุงู ุจุฑุง ุฏุฑฺฉ ุฌูุน ูโฺฉูุฏ.</li>
  <li>ุจุฑุง ุบุฑฺฉุงุฑุจุฑุงูุ ฺฉ ูุณุฎู ุฌุฏุฏ ูุดุงูโุฏููุฏู ุงู ุงุณุช ฺฉู ูพุดุฑูุชโูุง ุนูุฏูโุง ุงูุฌุงู ุดุฏู ุงุณุช ฺฉู ููฺฉู ุงุณุช ุงุฑุฒุด ุฏุงุดุชู ุจุงุดุฏ Rust ุฑุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉููุฏ.</li>
  <li>ุจุฑุง ฺฉุณุงู ฺฉู Rust ุฑุง ุชูุณุนู ูโุฏููุฏุ ฺฉ ูุณุฎู ุฌุฏุฏ ููุทูโุง ุจุฑุง ฺฏุฑุฏููุง ูพุฑูฺู ุจู ุนููุงู ฺฉ ฺฉู ูุฑุงูู ูโฺฉูุฏ.</li>
</ul>
<p>ุฏุฑ ุฒูุงู ูฺฏุงุฑุด ุงู ูุชูุ ฺูุงุฑ ูุณุฎู ุงุฒ Rust ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ: Rust 2015ุ Rust 2018ุ Rust 2021ุ ู Rust 2024. ุงู ฺฉุชุงุจ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฏููุง ู ููุงุนุฏ ูุณุฎู Rust 2024 ููุดุชู ุดุฏู ุงุณุช.</p>
<p>ฺฉูุฏ <code>edition</code> ุฏุฑ ูุงู <em>Cargo.toml</em> ูุดุงู ูโุฏูุฏ ฺฉู ฺฉุงููพุงูุฑ ุจุงุฏ ุงุฒ ฺฉุฏุงู ูุณุฎู ุจุฑุง ฺฉุฏ ุดูุง ุงุณุชูุงุฏู ฺฉูุฏ. ุงฺฏุฑ ุงู ฺฉูุฏ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ Rust ุจู ุฏูุงู ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎูโูุง ูุจู ุงุฒ ููุฏุงุฑ <code>2015</code> ุจูโุนููุงู ูุณุฎู ูพุดโูุฑุถ ุงุณุชูุงุฏู ูโฺฉูุฏ.</p>
<p>ูุฑ ูพุฑูฺู ูโุชูุงูุฏ ุจู ฺฉ ูุณุฎู ุบุฑ ุงุฒ ูุณุฎู ูพุดโูุฑุถ 2015 ููุงุฌุฑุช ฺฉูุฏ. ูุณุฎูโูุง ูโุชูุงููุฏ ุชุบุฑุงุช ูุงุณุงุฒฺฏุงุฑ ุฏุงุดุชู ุจุงุดูุฏุ ูุงููุฏ ุงุถุงูู ฺฉุฑุฏู ฺฉ ฺฉููู ฺฉูุฏ ุฌุฏุฏ ฺฉู ุจุง ุดูุงุณูโูุง ุฏุฑ ฺฉุฏ ุชุฏุงุฎู ุฏุงุฑุฏ. ุงูุง ุชุง ุฒูุงู ฺฉู ุจู ุงู ุชุบุฑุงุช ููุงุฌุฑุช ูฺฉูุฏุ ฺฉุฏ ุดูุง ููฺูุงู ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ ุญุช ุงฺฏุฑ ูุณุฎู ฺฉุงููพุงูุฑ Rust ุฎูุฏ ุฑุง ุงุฑุชูุง ุฏูุฏ.</p>
<p>ุชูุงู ูุณุฎูโูุง ฺฉุงููพุงูุฑ Rust ุงุฒ ูุฑ ูุณุฎูโุง ฺฉู ูพุด ุงุฒ ุงูุชุดุงุฑ ุขู ฺฉุงููพุงูุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ูพุดุชุจุงู ูโฺฉููุฏ ู ูโุชูุงููุฏ ฺฉุชุงุจุฎุงููโูุง ุงุฒ ูุฑ ูุณุฎู ูพุดุชุจุงูโุดุฏู ุฑุง ุจู ฺฉุฏฺฏุฑ ููฺฉ ฺฉููุฏ. ุชุบุฑุงุช ูุณุฎู ููุท ุจุฑ ูุญูู ุชุฌุฒู ุงููู ฺฉุฏ ุชูุณุท ฺฉุงููพุงูุฑ ุชุฃุซุฑ ูโฺฏุฐุงุฑุฏ. ุจูุงุจุฑุงูุ ุงฺฏุฑ ุงุฒ Rust 2015 ุงุณุชูุงุฏู ูโฺฉูุฏ ู ฺฉ ุงุฒ ูุงุจุณุชฺฏโูุง ุดูุง ุงุฒ Rust 2018 ุงุณุชูุงุฏู ูโฺฉูุฏุ ูพุฑูฺู ุดูุง ฺฉุงููพุงู ุฎูุงูุฏ ุดุฏ ู ูโุชูุงูุฏ ุงุฒ ุขู ูุงุจุณุชฺฏ ุงุณุชูุงุฏู ฺฉูุฏ. ูุถุนุช ูุนฺฉูุณุ ุฌุง ฺฉู ูพุฑูฺู ุดูุง ุงุฒ Rust 2018 ู ฺฉ ูุงุจุณุชฺฏ ุงุฒ Rust 2015 ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุฒ ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ุจุฑุง ุฑูุดู ุดุฏู: ุจุดุชุฑ ูฺฺฏโูุง ุฏุฑ ููู ูุณุฎูโูุง ุฏุฑ ุฏุณุชุฑุณ ุฎูุงููุฏ ุจูุฏ. ุชูุณุนูโุฏููุฏฺฏุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑ ูุณุฎูโุง ุงุฒ Rust ููฺูุงู ุจูุจูุฏูุง ุฑุง ุจุง ุงูุชุดุงุฑูุง ูพุงุฏุงุฑ ุฌุฏุฏ ูุดุงูุฏู ุฎูุงููุฏ ฺฉุฑุฏ. ุงูุง ุฏุฑ ุจุฑุฎ ููุงุฑุฏุ ุนูุฏุชุงู ุฒูุงู ฺฉู ฺฉููุงุช ฺฉูุฏ ุฌุฏุฏ ุงุถุงูู ูโุดููุฏุ ุจุฑุฎ ูฺฺฏโูุง ุฌุฏุฏ ููฺฉู ุงุณุช ููุท ุฏุฑ ูุณุฎูโูุง ุจุนุฏ ุฏุฑ ุฏุณุชุฑุณ ุจุงุดูุฏ. ุงฺฏุฑ ูโุฎูุงูุฏ ุงุฒ ฺูู ูฺฺฏโูุง ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ุจู ูุณุฎูโูุง ุฌุฏุฏุชุฑ ููุงุฌุฑุช ฺฉูุฏ.</p>
<p>ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑุ <a href="https://doc.rust-lang.org/stable/edition-guide/"><em>ุฑุงูููุง ูุณุฎูโูุง</em></a> ฺฉุชุงุจ ฺฉุงูู ุฏุฑุจุงุฑู ูุณุฎูโูุง ุงุณุช ฺฉู ุชูุงูุชโูุง ุจู ูุณุฎูโูุง ุฑุง ููุฑุณุช ูโฺฉูุฏ ู ุชูุถุญ ูโุฏูุฏ ฺฉู ฺฺฏููู ูโุชูุงูุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>cargo fix</code> ุจู ูุณุฎู ุฌุฏุฏ ุงุฑุชูุง ุฏูุฏ.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู-ู-ุชุฑุฌูููุง-ฺฉุชุงุจ"><a class="header" href="#ุถููู-ู-ุชุฑุฌูููุง-ฺฉุชุงุจ">ุถููู ู: ุชุฑุฌููโูุง ฺฉุชุงุจ</a></h2>
<p>ุจุฑุง ููุงุจุน ุจู ุฒุจุงูโูุง ุบุฑ ุงุฒ ุงูฺฏูุณ. ุจุดุชุฑ ุขูโูุง ูููุฒ ุฏุฑ ุญุงู ูพุดุฑูุช ูุณุชูุฏุ ุจุฑุง ฺฉูฺฉ ุง ุงุทูุงุน ุฏุงุฏู ุงุฒ ุชุฑุฌูู ุฌุฏุฏุ ุจู <a href="https://github.com/rust-lang/book/issues?q=is%3Aopen+is%3Aissue+label%3ATranslations">ุจุฑฺุณุจ ุชุฑุฌููโูุง</a> ูุฑุงุฌุนู ฺฉูุฏ!</p>
<ul>
<li><a href="https://github.com/rust-br/rust-book-pt-br">Portuguรชs</a> (BR)</li>
<li><a href="https://github.com/nunojesus/rust-book-pt-pt">Portuguรชs</a> (PT)</li>
<li>็ฎไฝไธญๆ: <a href="https://github.com/KaiserY/trpl-zh-cn">KaiserY/trpl-zh-cn</a>, <a href="https://github.com/gnu4cn/rust-lang-Zh_CN">gnu4cn/rust-lang-Zh_CN</a></li>
<li><a href="https://github.com/rust-tw/book-tw">ๆญฃ้ซไธญๆ</a></li>
<li><a href="https://rust-lang-ua.github.io/rustbook_ukrainian">ะฃะบัะฐัะฝััะบะฐ</a></li>
<li><a href="https://github.com/thecodix/book">Espaรฑol</a>, <a href="https://github.com/ManRR/rust-book-es">alternate</a>, <a href="https://github.com/RustLangES/rust-book-es">Espaรฑol por RustLangES</a></li>
<li><a href="https://github.com/rust-lang-ru/book">ะัััะบะธะน</a></li>
<li><a href="https://github.com/rust-kr/doc.rust-kr.org">ํ๊ตญ์ด</a></li>
<li><a href="https://github.com/rust-lang-ja/book-ja">ๆฅๆฌ่ช</a></li>
<li><a href="https://github.com/Jimskapt/rust-book-fr">Franรงais</a></li>
<li><a href="https://github.com/paytchoo/book-pl">Polski</a></li>
<li><a href="https://github.com/agentzero1/book">Cebuano</a></li>
<li><a href="https://github.com/josephace135/book">Tagalog</a></li>
<li><a href="https://github.com/psychoslave/Rust-libro">Esperanto</a></li>
<li><a href="https://github.com/TChatzigiannakis/rust-book-greek">ฮตฮปฮปฮทฮฝฮนฮบฮฎ</a></li>
<li><a href="https://github.com/sebras/book">Svenska</a></li>
<li><a href="https://github.com/RustFarsi/book">Farsi</a>, <a href="https://github.com/persian-rust/book">Persian (FA)</a></li>
<li><a href="https://github.com/rust-lang-de/rustbook-de">Deutsch</a></li>
<li><a href="https://github.com/venkatarun95/rust-book-hindi">เคนเคฟเคเคฆเฅ</a></li>
<li><a href="https://github.com/rust-lang-th/book-th">เนเธเธข</a></li>
<li><a href="https://github.com/DanKHansen/book-dk">Danske</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ุถููู----ฺฺฏููฺฏ-ุชูุณุนู-rust-ู-rust-nightly"><a class="header" href="#ุถููู----ฺฺฏููฺฏ-ุชูุณุนู-rust-ู-rust-nightly">ุถููู  - ฺฺฏููฺฏ ุชูุณุนู Rust ู โRust Nightlyโ</a></h2>
<p>ุงู ุถููู ุฏุฑุจุงุฑู ฺฺฏููฺฏ ุชูุณุนู Rust ู ุชุฃุซุฑ ุขู ุจุฑ ุดูุง ุจู ุนููุงู ฺฉ ุชูุณุนูโุฏููุฏู Rust ุงุณุช.</p>
<h3 id="ุซุจุงุช-ุจุฏูู-ุฑฺฉูุฏ"><a class="header" href="#ุซุจุงุช-ุจุฏูู-ุฑฺฉูุฏ">ุซุจุงุช ุจุฏูู ุฑฺฉูุฏ</a></h3>
<p>ุจู ุนููุงู ฺฉ ุฒุจุงูุ Rust ุจู <em>ุซุจุงุช</em> ฺฉุฏ ุดูุง ุจุณุงุฑ ุงููุช ูโุฏูุฏ. ูุง ูโุฎูุงูู Rust ฺฉ ูพุงู ูุญฺฉู ู ูุงุจู ุงุนุชูุงุฏ ุจุงุดุฏ ฺฉู ุจุชูุงูุฏ ุจุฑ ุฑู ุขู ุจุณุงุฒุฏุ ู ุงฺฏุฑ ููู ฺุฒ ุจู ุทูุฑ ูุฏุงูู ุชุบุฑ ูโฺฉุฑุฏุ ุงู ุงูฺฉุงูโูพุฐุฑ ูุจูุฏ. ุฏุฑ ุนู ุญุงูุ ุงฺฏุฑ ูุชูุงูู ุจุง ูฺฺฏโูุง ุฌุฏุฏ ุขุฒูุงุด ฺฉููุ ููฺฉู ุงุณุช ูุดฺฉูุงุช ููู ุฑุง ุชุง ุจุนุฏ ุงุฒ ุงูุชุดุงุฑ ุขูโูุง ฺฉุดู ูฺฉููุ ุฒูุงู ฺฉู ุฏฺฏุฑ ููโุชูุงู ุชุบุฑุงุช ุงุฌุงุฏ ฺฉุฑุฏ.</p>
<p>ุฑุงูโุญู ูุง ุจุฑุง ุงู ูุดฺฉู ฺุฒ ุงุณุช ฺฉู ูุง ุขู ุฑุง โุซุจุงุช ุจุฏูู ุฑฺฉูุฏโ ูโูุงููุ ู ุงุตู ุฑุงูููุง ูุง ุงู ุงุณุช: ุดูุง ูุฑฺฏุฒ ูุจุงุฏ ุงุฒ ุงุฑุชูุงุก ุจู ฺฉ ูุณุฎู ุฌุฏุฏ ุงุฒ Rust ูพุงุฏุงุฑ ุจุชุฑุณุฏ. ูุฑ ุงุฑุชูุงุก ุจุงุฏ ุจุฏูู ุฏุฑุฏุณุฑ ุจุงุดุฏุ ุงูุง ููฺูู ูฺฺฏโูุง ุฌุฏุฏุ ุจุงฺฏโูุง ฺฉูุชุฑุ ู ุฒูุงูโูุง ฺฉุงููพุงู ุณุฑุนโุชุฑ ุฑุง ุจุฑุง ุดูุง ุจู ุงุฑูุบุงู ุจุงูุฑุฏ.</p>
<h3 id="ฺู-ฺู-ฺฉุงูุงููุง-ุงูุชุดุงุฑ-ู-ุญุฑฺฉุช-ูุทุงุฑูุง"><a class="header" href="#ฺู-ฺู-ฺฉุงูุงููุง-ุงูุชุดุงุฑ-ู-ุญุฑฺฉุช-ูุทุงุฑูุง">ฺูุ ฺู! ฺฉุงูุงูโูุง ุงูุชุดุงุฑ ู ุญุฑฺฉุช ูุทุงุฑูุง</a></h3>
<p>ุชูุณุนู Rust ุจุฑ ุงุณุงุณ ฺฉ <em>ุจุฑูุงูู ุฒูุงู ูุทุงุฑ</em> ุนูู ูโฺฉูุฏ. ุนู ุชูุงู ุชูุณุนูโูุง ุฏุฑ ุดุงุฎู <code>master</code> ูุฎุฒู Rust ุงูุฌุงู ูโุดูุฏ. ุงูุชุดุงุฑูุง ุงุฒ ูุฏู ูุทุงุฑ ุงูุชุดุงุฑ ูุฑูโุงูุฒุงุฑ ูพุฑู ูโฺฉููุฏุ ูุฏู ฺฉู ุชูุณุท Cisco IOS ู ูพุฑูฺูโูุง ูุฑูโุงูุฒุงุฑ ุฏฺฏุฑ ุงุณุชูุงุฏู ุดุฏู ุงุณุช. ุณู <em>ฺฉุงูุงู ุงูุชุดุงุฑ</em> ุจุฑุง Rust ูุฌูุฏ ุฏุงุฑุฏ:</p>
<ul>
<li>Nightly</li>
<li>Beta</li>
<li>Stable</li>
</ul>
</div>
<p>ุจุดุชุฑ ุชูุณุนูโุฏููุฏฺฏุงู Rust ุนูุฏุชุงู ุงุฒ ฺฉุงูุงู ูพุงุฏุงุฑ ุงุณุชูุงุฏู ูโฺฉููุฏุ ุงูุง ฺฉุณุงู ฺฉู ูโุฎูุงููุฏ ูฺฺฏโูุง ุขุฒูุงุด ุฌุฏุฏ ุฑุง ุงูุชุญุงู ฺฉููุฏ ููฺฉู ุงุณุช ุงุฒ ฺฉุงูุงูโูุง nightly ุง beta ุงุณุชูุงุฏู ฺฉููุฏ.</p>
<p>ุฏุฑ ุงูุฌุง ูุซุงู ุงุฒ ูุญูู ฺฉุงุฑ ูุฑุขูุฏ ุชูุณุนู ู ุงูุชุดุงุฑ ุขูุฑุฏู ุดุฏู ุงุณุช: ูุฑุถ ฺฉูุฏ ุชู Rust ุฑู ุงูุชุดุงุฑ ูุณุฎู Rust 1.5 ฺฉุงุฑ ูโฺฉูุฏ. ุขู ุงูุชุดุงุฑ ุฏุฑ ุฏุณุงูุจุฑ 2015 ุงุชูุงู ุงูุชุงุฏุ ุงูุง ุงุนุฏุงุฏ ูุณุฎูโุง ูุงูุน ุจู ูุง ุงุฑุงุฆู ูโุฏูุฏ. ฺฉ ูฺฺฏ ุฌุฏุฏ ุจู Rust ุงุถุงูู ูโุดูุฏ: ฺฉ commit ุฌุฏุฏ ุจู ุดุงุฎู <code>master</code> ุงุถุงูู ูโุดูุฏ. ูุฑ ุดุจุ ฺฉ ูุณุฎู ุฌุฏุฏ nightly ุงุฒ Rust ุชููุฏ ูโุดูุฏ. ูุฑ ุฑูุฒ ฺฉ ุฑูุฒ ุงูุชุดุงุฑ ุงุณุชุ ู ุงู ูุณุฎูโูุง ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชูุณุท ุฒุฑุณุงุฎุช ุงูุชุดุงุฑ ูุง ุงุฌุงุฏ ูโุดููุฏ. ุจูุงุจุฑุงู ุจุง ฺฏุฐุดุช ุฒูุงูุ ุงูุชุดุงุฑูุง ูุง ุจู ุงู ุตูุฑุช ุฎูุงููุฏ ุจูุฏุ ูุฑ ุดุจ:</p>
<pre><code class="language-text">nightly: * - - * - - *
</code></pre>
<p>ูุฑ ุดุด ููุชูุ ุฒูุงู ุขูุงุฏูโุณุงุฒ ฺฉ ุงูุชุดุงุฑ ุฌุฏุฏ ุงุณุช! ุดุงุฎู <code>beta</code> ูุฎุฒู Rust ุงุฒ ุดุงุฎู <code>master</code> ฺฉู ุจุฑุง nightly ุงุณุชูุงุฏู ูโุดูุฏ ููุดุนุจ ูโุดูุฏ. ุงฺฉููู ุฏู ูุณุฎู ูุฌูุฏ ุฏุงุฑุฏ:</p>
<pre><code class="language-text">nightly: * - - * - - *
                     |
beta:                *
</code></pre>
<p>ุจุดุชุฑ ฺฉุงุฑุจุฑุงู Rust ุจู ุทูุฑ ูุนุงู ุงุฒ ูุณุฎูโูุง beta ุงุณุชูุงุฏู ููโฺฉููุฏุ ุงูุง ุฏุฑ ุณุณุชู CI ุฎูุฏ ุนูู beta ุชุณุช ูโฺฏุฑูุฏ ุชุง ุจู Rust ฺฉูฺฉ ฺฉููุฏ ฺฉู ูุดฺฉูุงุช ุงุญุชูุงู ุฑุง ุดูุงุณุง ฺฉูุฏ. ุฏุฑ ููู ุญุงูุ ูููุฒ ูุฑ ุดุจ ฺฉ ูุณุฎู nightly ููุชุดุฑ ูโุดูุฏ:</p>
<pre><code class="language-text">nightly: * - - * - - * - - * - - *
                     |
beta:                *
</code></pre>
<p>ูุฑุถ ฺฉูุฏ ฺฉ ูุดฺฉู (regression) ูพุฏุง ุดูุฏ. ุฎูุดุจุฎุชุงูู ูุง ุฒูุงู ุจุฑุง ุชุณุช ูุณุฎู beta ุฏุงุดุชู ูุจู ุงุฒ ุงูฺฉู ูุดฺฉู ูุงุฑุฏ ูุณุฎู ูพุงุฏุงุฑ ุดูุฏ! ุงุตูุงุญ ุจู ุดุงุฎู <code>master</code> ุงุนูุงู ูโุดูุฏุ ุจูุงุจุฑุงู nightly ุงุตูุงุญ ูโุดูุฏุ ู ุณูพุณ ุงู ุงุตูุงุญ ุจู ุดุงุฎู <code>beta</code> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏุ ู ฺฉ ูุณุฎู ุฌุฏุฏ ุงุฒ beta ุชููุฏ ูโุดูุฏ:</p>
<pre><code class="language-text">nightly: * - - * - - * - - * - - * - - *
                     |
beta:                * - - - - - - - - *
</code></pre>
<p>ุดุด ููุชู ูพุณ ุงุฒ ุงุฌุงุฏ ุงููู ูุณุฎู betaุ ุฒูุงู ุงูุชุดุงุฑ ูุณุฎู ูพุงุฏุงุฑ ุงุณุช! ุดุงุฎู <code>stable</code> ุงุฒ ุดุงุฎู <code>beta</code> ุชููุฏ ูโุดูุฏ:</p>
<pre><code class="language-text">nightly: * - - * - - * - - * - - * - - * - * - *
                     |
beta:                * - - - - - - - - *
                                       |
stable:                                *
</code></pre>
<p>ููุฑุง! Rust 1.5 ุขูุงุฏู ุงุณุช! ุงูุง ฺฉ ฺุฒ ุฑุง ูุฑุงููุด ฺฉุฑุฏูโุงู: ฺูู ุดุด ููุชู ฺฏุฐุดุชู ุงุณุชุ ูุง ุจู ูุณุฎู beta ุฌุฏุฏ ุงุฒ <em>ูุณุฎู ุจุนุฏ</em> Rustุ ุนู 1.6ุ ูุงุฒ ุฏุงุฑู. ุจูุงุจุฑุงู ูพุณ ุงุฒ ุงูฺฉู ุดุงุฎู <code>stable</code> ุงุฒ <code>beta</code> ุฌุฏุง ุดุฏุ ูุณุฎู ุจุนุฏ <code>beta</code> ุฏูุจุงุฑู ุงุฒ <code>nightly</code> ููุดุนุจ ูโุดูุฏ:</p>
<pre><code class="language-text">nightly: * - - * - - * - - * - - * - - * - * - *
                     |                         |
beta:                * - - - - - - - - *       *
                                       |
stable:                                *
</code></pre>
<p>ุงู ูุฏู โูุทุงุฑโ ูุงูุฏู ูโุดูุฏุ ุฒุฑุง ูุฑ ุดุด ููุชูุ ฺฉ ุงูุชุดุงุฑ โุงุณุชฺฏุงู ุฑุง ุชุฑฺฉ ูโฺฉูุฏโุ ุงูุง ููฺูุงู ุจุงุฏ ุงุฒ ฺฉุงูุงู beta ุนุจูุฑ ฺฉูุฏ ุชุง ุจู ฺฉ ุงูุชุดุงุฑ ูพุงุฏุงุฑ ุชุจุฏู ุดูุฏ.</p>
<p>ุงูุชุดุงุฑูุง Rust ูุฑ ุดุด ููุชูุ ูุงููุฏ ุณุงุนุช ุฏูู ุงูุฌุงู ูโุดููุฏ. ุงฺฏุฑ ุชุงุฑุฎ ฺฉ ุงูุชุดุงุฑ Rust ุฑุง ุจุฏุงูุฏุ ูโุชูุงูุฏ ุชุงุฑุฎ ุงูุชุดุงุฑ ุจุนุฏ ุฑุง ุจุฏุงูุฏ: ุดุด ููุชู ุจุนุฏ. ฺฉ ุงุฒ ุฌูุจูโูุง ุฎูุจ ุฏุงุดุชู ุงูุชุดุงุฑูุง ุจุฑูุงููโุฑุฒโุดุฏู ูุฑ ุดุด ููุชู ุงู ุงุณุช ฺฉู ูุทุงุฑ ุจุนุฏ ุจู ุฒูุฏ ูโุขุฏ. ุงฺฏุฑ ฺฉ ูฺฺฏ ุจู ุทูุฑ ุงุชูุงู ฺฉ ุงูุชุดุงุฑ ุฎุงุต ุฑุง ุงุฒ ุฏุณุช ุจุฏูุฏุ ูุงุฒ ุจู ูฺฏุฑุงู ูุณุช: ุงูุชุดุงุฑ ุจุนุฏ ุฏุฑ ูุฏุช ฺฉูุชุงู ุงุชูุงู ูโุงูุชุฏ! ุงู ุงูุฑ ุจู ฺฉุงูุด ูุดุงุฑ ุจุฑุง ุงูุฒูุฏู ูฺฺฏโูุง ุงุญุชูุงูุงู ูุงูุต ูุฒุฏฺฉ ุจู ูููุช ุงูุชุดุงุฑ ฺฉูฺฉ ูโฺฉูุฏ.</p>
<p>ุจุง ุชุดฺฉุฑ ุงุฒ ุงู ูุฑุขูุฏุ ุดูุง ููุดู ูโุชูุงูุฏ ูุณุฎู ุจุนุฏ Rust ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู ู ุจุฑุง ุฎูุฏ ุชุฃุฏ ฺฉูุฏ ฺฉู ุงุฑุชูุงุก ุจู ุขู ุขุณุงู ุงุณุช: ุงฺฏุฑ ฺฉ ูุณุฎู beta ูุทุงุจู ุงูุชุธุงุฑ ุนูู ูฺฉูุฏุ ูโุชูุงูุฏ ุขู ุฑุง ุจู ุชู ฺฏุฒุงุฑุด ุฏูุฏ ู ูุจู ุงุฒ ุงูฺฉู ุงูุชุดุงุฑ ูพุงุฏุงุฑ ุจุนุฏ ุงูุฌุงู ุดูุฏุ ุขู ุฑุง ุงุตูุงุญ ฺฉูุฏ! ุดฺฉุณุชู ุฏุฑ ฺฉ ูุณุฎู beta ูุณุจุชุงู ูุงุฏุฑ ุงุณุชุ ุงูุง <code>rustc</code> ููฺูุงู ฺฉ ูุฑูโุงูุฒุงุฑ ุงุณุช ู ุจุงฺฏโูุง ูุฌูุฏ ุฏุงุฑูุฏ.</p>
<h3 id="ุฒูุงู-ูฺฏูุฏุงุฑ"><a class="header" href="#ุฒูุงู-ูฺฏูุฏุงุฑ">ุฒูุงู ูฺฏูุฏุงุฑ</a></h3>
<p>ูพุฑูฺู Rust ุงุฒ ุขุฎุฑู ูุณุฎู ูพุงุฏุงุฑ ูพุดุชุจุงู ูโฺฉูุฏ. ููุช ฺฉ ูุณุฎู ูพุงุฏุงุฑ ุฌุฏุฏ ููุชุดุฑ ูโุดูุฏุ ูุณุฎู ูุฏู ุจู ูพุงุงู ุนูุฑ ุฎูุฏ (EOL) ูโุฑุณุฏ. ุงู ุจู ุงู ูุนู ุงุณุช ฺฉู ูุฑ ูุณุฎู ุจุฑุง ุดุด ููุชู ูพุดุชุจุงู ูโุดูุฏ.</p>
<h3 id="ูฺฺฏูุง-ูุงูพุงุฏุงุฑ"><a class="header" href="#ูฺฺฏูุง-ูุงูพุงุฏุงุฑ">ูฺฺฏโูุง ูุงูพุงุฏุงุฑ</a></h3>
<p>ฺฉ ูฺฉุชู ุฏฺฏุฑ ุฏุฑ ุงู ูุฏู ุงูุชุดุงุฑ ูุฌูุฏ ุฏุงุฑุฏ: ูฺฺฏโูุง ูุงูพุงุฏุงุฑ. Rust ุงุฒ ุชฺฉูฺฉ ุจู ูุงู โูพุฑฺูโูุง ูฺฺฏโ (feature flags) ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุชุนู ฺฉูุฏ ฺู ูฺฺฏโูุง ุฏุฑ ฺฉ ุงูุชุดุงุฑ ูุนุงู ูุณุชูุฏ. ุงฺฏุฑ ฺฉ ูฺฺฏ ุฌุฏุฏ ุชุญุช ุชูุณุนู ูุนุงู ุจุงุดุฏุ ุฑู ุดุงุฎู <code>master</code> ูุฑุงุฑ ูโฺฏุฑุฏ ู ุจูุงุจุฑุงูุ ุฏุฑ nightlyุ ุงูุง ูพุดุช ฺฉ <em>ูพุฑฺู ูฺฺฏ</em> ูุฑุงุฑ ูโฺฏุฑุฏ. ุงฺฏุฑ ุจูโุนููุงู ฺฉุงุฑุจุฑุ ูุงูุฏ ูฺฺฏ ุฏุฑ ุญุงู ุชูุณุนู ุฑุง ุงูุชุญุงู ฺฉูุฏุ ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏุ ุงูุง ุจุงุฏ ุงุฒ ูุณุฎู nightly Rust ุงุณุชูุงุฏู ฺฉุฑุฏู ู ฺฉุฏ ููุจุน ุฎูุฏ ุฑุง ุจุง ูพุฑฺู ููุงุณุจ ุจุฑุง ูุนุงูโุณุงุฒ ุขู ุนูุงูุชโฺฏุฐุงุฑ ฺฉูุฏ.</p>
<p>ุงฺฏุฑ ุงุฒ ูุณุฎู beta ุง ูพุงุฏุงุฑ Rust ุงุณุชูุงุฏู ูโฺฉูุฏุ ููโุชูุงูุฏ ุงุฒ ูพุฑฺูโูุง ูฺฺฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ูฺฉุชูโุง ุงุณุช ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ูฺฺฏโูุง ุฌุฏุฏ ุจู ุตูุฑุช ุนูู ุงุณุชูุงุฏู ฺฉูู ูุจู ุงุฒ ุงูฺฉู ุขูโูุง ุฑุง ุจุฑุง ููุดู ูพุงุฏุงุฑ ุงุนูุงู ฺฉูู. ฺฉุณุงู ฺฉู ูุงููุฏ ุงุฒ ูฺฺฏโูุง ูพุดุฑูุชู ุงุณุชูุงุฏู ฺฉููุฏุ ูโุชูุงููุฏ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุฏุ ู ฺฉุณุงู ฺฉู ุชุฌุฑุจูโุง ูพุงุฏุงุฑ ู ูุงุจู ุงุนุชูุงุฏ ูโุฎูุงููุฏ ูโุชูุงููุฏ ุจุง ูุณุฎู ูพุงุฏุงุฑ ุจูุงููุฏ ู ูุทูุฆู ุจุงุดูุฏ ฺฉู ฺฉุฏ ุขูโูุง ุฎุฑุงุจ ูุฎูุงูุฏ ุดุฏ. ุซุจุงุช ุจุฏูู ุฑฺฉูุฏ.</p>
<p>ุงู ฺฉุชุงุจ ููุท ุดุงูู ุงุทูุงุนุงุช ูุฑุจูุท ุจู ูฺฺฏโูุง ูพุงุฏุงุฑ ุงุณุชุ ุฒุฑุง ูฺฺฏโูุง ุฏุฑ ุญุงู ุชูุณุนู ููฺูุงู ุฏุฑ ุญุงู ุชุบุฑ ูุณุชูุฏ ู ูุทูุฆูุงู ุจู ุฒูุงู ฺฉู ุงู ฺฉุชุงุจ ููุดุชู ุดุฏู ู ุฒูุงู ฺฉู ุฏุฑ ูุณุฎูโูุง ูพุงุฏุงุฑ ูุนุงู ูโุดููุฏุ ูุชูุงูุช ุฎูุงููุฏ ุจูุฏ. ูโุชูุงูุฏ ูุณุชูุฏุงุช ูุฑุจูุท ุจู ูฺฺฏโูุง ฺฉู ููุท ุฏุฑ nightly ููุฌูุฏ ูุณุชูุฏ ุฑุง ุจู ุตูุฑุช ุขููุงู ูพุฏุง ฺฉูุฏ.</p>
<h3 id="rustup-ู-ููุด-rust-nightly"><a class="header" href="#rustup-ู-ููุด-rust-nightly">Rustup ู ููุด Rust Nightly</a></h3>
<p>ุงุจุฒุงุฑ Rustup ุชุบุฑ ุจู ฺฉุงูุงูโูุง ูุฎุชูู ุงูุชุดุงุฑ Rust ุฑุงุ ุจู ุตูุฑุช ุฌูุงู ุง ุจุฑ ุงุณุงุณ ูุฑ ูพุฑูฺูุ ุขุณุงู ูโฺฉูุฏ. ุจู ุทูุฑ ูพุดโูุฑุถุ Rust ูพุงุฏุงุฑ ูุตุจ ุฎูุงูุฏ ุจูุฏ. ุจุฑุง ูุตุจ ูุณุฎู nightlyุ ุจู ุนููุงู ูุซุงู:</p>
<pre><code class="language-console">$ rustup toolchain install nightly
</code></pre>
<p>ููฺูู ูโุชูุงูุฏ ุชูุงู <em>ุงุจุฒุงุฑูุง ููุฌูุฏ</em> (ูุณุฎูโูุง Rust ู ุงุฌุฒุง ูุฑุชุจุท) ฺฉู ุจุง <code>rustup</code> ูุตุจ ฺฉุฑุฏูโุงุฏ ุฑุง ุจุจูุฏ. ุฏุฑ ุงูุฌุง ูุซุงู ุงุฒ ฺฉ ฺฉุงููพูุชุฑ ููุฏูุฒ ฺฉ ุงุฒ ููุณูุฏฺฏุงู ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<pre><code class="language-powershell">&gt; rustup toolchain list
stable-x86_64-pc-windows-msvc (default)
beta-x86_64-pc-windows-msvc
nightly-x86_64-pc-windows-msvc
</code></pre>
<p>ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ ุงุจุฒุงุฑ stable ุจู ุทูุฑ ูพุดโูุฑุถ ุชูุธู ุดุฏู ุงุณุช. ุจุดุชุฑ ฺฉุงุฑุจุฑุงู Rust ุจุดุชุฑ ููุช ุฎูุฏ ุงุฒ stable ุงุณุชูุงุฏู ูโฺฉููุฏ. ููฺฉู ุงุณุช ุจุฎูุงูุฏ ุจุดุชุฑ ููุช ุฎูุฏ ุงุฒ stable ุงุณุชูุงุฏู ฺฉูุฏุ ุงูุง ุฏุฑ ฺฉ ูพุฑูฺู ุฎุงุต ุงุฒ nightly ุงุณุชูุงุฏู ฺฉูุฏุ ุฒุฑุง ุจู ฺฉ ูฺฺฏ ูพุดุฑูุชู ุนูุงูู ุฏุงุฑุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ูโุชูุงูุฏ ุงุฒ <code>rustup override</code> ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุขู ูพุฑูฺู ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุจุฒุงุฑ nightly ุฑุง ุจูโุนููุงู ุงุจุฒุงุฑ ููุฑุฏ ุงุณุชูุงุฏู <code>rustup</code> ุฏุฑ ุขู ุฏุงุฑฺฉุชูุฑ ุชูุธู ฺฉูุฏ:</p>
<pre><code class="language-console">$ cd ~/projects/needs-nightly
$ rustup override set nightly
</code></pre>
<p>ุงฺฉูููุ ูุฑ ุจุงุฑ ฺฉู ุฏุฑ ุฏุงุฑฺฉุชูุฑ <em>~/projects/needs-nightly</em> ุฏุณุชูุฑ <code>rustc</code> ุง <code>cargo</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ <code>rustup</code> ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุดูุง ุงุฒ Rust nightly ุงุณุชูุงุฏู ูโฺฉูุฏุ ูู ูุณุฎู ูพุงุฏุงุฑ ูพุดโูุฑุถ. ุงู ูฺฺฏ ุฒูุงู ฺฉู ูพุฑูฺูโูุง ุฒุงุฏ ุจุง Rust ุฏุงุฑุฏุ ุจุณุงุฑ ููุฏ ุงุณุช!</p>
<h3 id="ูุฑุขูุฏ-rfc-ู-ุชููุง"><a class="header" href="#ูุฑุขูุฏ-rfc-ู-ุชููุง">ูุฑุขูุฏ RFC ู ุชูโูุง</a></h3>
<p>ฺฺฏููู ูโุชูุงูุฏ ุฏุฑุจุงุฑู ุงู ูฺฺฏโูุง ุฌุฏุฏ ุงุทูุงุนุงุช ฺฉุณุจ ฺฉูุฏุ ูุฏู ุชูุณุนู Rust ุงุฒ ฺฉ ูุฑุขูุฏ <em>ุฏุฑุฎูุงุณุช ูุธุฑุงุช (RFC)</em> ูพุฑู ูโฺฉูุฏ. ุงฺฏุฑ ุจูุจูุฏ ุฎุงุต ุฏุฑ Rust ูโุฎูุงูุฏุ ูโุชูุงูุฏ ฺฉ ูพุดููุงุฏ ุจููุณุฏ ฺฉู ุจู ุขู RFC ฺฏูุชู ูโุดูุฏ.</p>
<p>ูุฑ ฺฉุณ ูโุชูุงูุฏ RFC ุจููุณุฏ ุชุง Rust ุฑุง ุจูุจูุฏ ุฏูุฏุ ู ุงู ูพุดููุงุฏูุง ุชูุณุท ุชู Rust ฺฉู ุงุฒ ฺูุฏู ุฒุฑุชู ููุถูุน ุชุดฺฉู ุดุฏู ุงุณุชุ ุจุฑุฑุณ ู ุจุญุซ ูโุดููุฏ. ูุณุช ฺฉุงูู ุชูโูุง <a href="https://www.rust-lang.org/governance">ุฏุฑ ูุจโุณุงุช Rust</a> ููุฌูุฏ ุงุณุชุ ฺฉู ุดุงูู ุชูโูุง ุจุฑุง ูุฑ ุจุฎุด ุงุฒ ูพุฑูฺู ูโุดูุฏ: ุทุฑุงุญ ุฒุจุงูุ ูพุงุฏูโุณุงุฒ ฺฉุงููพุงูุฑุ ุฒุฑุณุงุฎุชุ ูุณุชูุฏุงุช ู ููุงุฑุฏ ุฏฺฏุฑ. ุชู ูุฑุจูุทู ูพุดููุงุฏ ู ูุธุฑุงุช ุฑุง ูโุฎูุงูุฏุ ูุธุฑุงุช ุฎูุฏ ุฑุง ูโููุณุฏุ ู ุฏุฑ ููุงุชุ ุชูุงูู ุจุฑุง ูพุฐุฑุด ุง ุฑุฏ ูฺฺฏ ุญุงุตู ูโุดูุฏ.</p>
<p>ุงฺฏุฑ ูฺฺฏ ูพุฐุฑูุชู ุดูุฏุ ฺฉ issue ุฏุฑ ูุฎุฒู Rust ุจุงุฒ ูโุดูุฏ ู ฺฉุณ ูโุชูุงูุฏ ุขู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ูุฑุฏ ฺฉู ุขู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ููฺฉู ุงุณุช ููุงู ูุฑุฏ ูุจุงุดุฏ ฺฉู ูฺฺฏ ุฑุง ุงุจุชุฏุง ูพุดููุงุฏ ุฏุงุฏู ุงุณุช! ููุช ูพุงุฏูโุณุงุฒ ุขูุงุฏู ุดุฏุ ุฑู ุดุงุฎู <code>master</code> ูพุดุช ฺฉ ูพุฑฺู ูฺฺฏ ูุฑุงุฑ ูโฺฏุฑุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุฎุด <a href="appendix-07-nightly-rust.html#unstable-features">โูฺฺฏโูุง ูุงูพุงุฏุงุฑโ</a><!-- ignore --> ุจุญุซ ุดุฏ.</p>
<p>ูพุณ ุงุฒ ูุฏุชุ ุฒูุงู ฺฉู ุชูุณุนูโุฏููุฏฺฏุงู Rust ฺฉู ุงุฒ ูุณุฎูโูุง nightly ุงุณุชูุงุฏู ูโฺฉููุฏ ุชูุงูุณุชูโุงูุฏ ูฺฺฏ ุฌุฏุฏ ุฑุง ุงูุชุญุงู ฺฉููุฏุ ุงุนุถุง ุชู ุฏุฑุจุงุฑู ุงู ูฺฺฏุ ูุญูู ุนููฺฉุฑุฏ ุขู ุฏุฑ nightly ู ุชุตููโฺฏุฑ ูโฺฉููุฏ ฺฉู ุขุง ุจุงุฏ ูุงุฑุฏ Rust ูพุงุฏุงุฑ ุดูุฏ ุง ูู. ุงฺฏุฑ ุชุตูู ุจุฑ ุงุฏุงูู ุจุงุดุฏุ ูพุฑฺู ูฺฺฏ ุญุฐู ูโุดูุฏ ู ูฺฺฏ ุงฺฉููู ูพุงุฏุงุฑ ุชูู ูโุดูุฏ! ุณูพุณ ุงู ูฺฺฏ ูุงุฑุฏ ูุณุฎู ูพุงุฏุงุฑ ุฌุฏุฏ Rust ูโุดูุฏ.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="ferris.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
