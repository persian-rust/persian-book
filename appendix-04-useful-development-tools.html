<!DOCTYPE HTML>
<html lang="fa" class="light sidebar-visible" dir="rtl">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>د - ابزارهای توسعه مفید - The Rust Programming Language</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="ferris.css">
        <link rel="stylesheet" href="theme/2018-edition.css">
        <link rel="stylesheet" href="theme/semantic-notes.css">
        <link rel="stylesheet" href="theme/listing.css">
        <link rel="stylesheet" href="theme/custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/persian-rust/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="ضمیمه-د---ابزارهای-مفید-توسعه"><a class="header" href="#ضمیمه-د---ابزارهای-مفید-توسعه">ضمیمه د - ابزارهای مفید توسعه</a></h2>
<p>در این ضمیمه، ما درباره برخی ابزارهای مفید توسعه که پروژه Rust ارائه می‌دهد صحبت می‌کنیم. به فرمت‌دهی خودکار، روش‌های سریع برای اعمال اصلاحات هشدارها، یک تحلیلگر کد (linter) و یکپارچه‌سازی با محیط‌های توسعه یکپارچه (IDE) خواهیم پرداخت.</p>
<h3 id="فرمتدهی-خودکار-با-rustfmt"><a class="header" href="#فرمتدهی-خودکار-با-rustfmt">فرمت‌دهی خودکار با <code>rustfmt</code></a></h3>
<p>نصب‌های Rust به‌صورت پیش‌فرض شامل <code>rustfmt</code>
هستند، بنابراین احتمالاً هم‌اکنون برنامه‌های
<code>rustfmt</code> و <code>cargo-fmt</code> روی سیستم شما
نصب شده‌اند. این دو دستور همانند <code>rustc</code> و <code>cargo</code>
هستند؛ به این صورت که <code>rustfmt</code> کنترل دقیق‌تری
ارائه می‌دهد و <code>cargo-fmt</code> با ساختار و قراردادهای
پروژه‌های مبتنی بر Cargo آشنایی دارد. برای قالب‌بندی
هر پروژه‌ی Cargo، دستور زیر را وارد کنید:</p>
<pre><code class="language-console">$ cargo fmt
</code></pre>
<p>اجرای این دستور تمام کدهای Rust در crate فعلی را مجدداً فرمت می‌کند. این کار باید فقط سبک کدنویسی را تغییر دهد، نه معنای کد را. برای اطلاعات بیشتر در مورد <code>rustfmt</code>، به <a href="https://github.com/rust-lang/rustfmt">مستندات آن</a> مراجعه کنید.</p>
<h3 id="اصلاح-کد-شما-با-rustfix"><a class="header" href="#اصلاح-کد-شما-با-rustfix">اصلاح کد شما با <code>rustfix</code></a></h3>
<p>ابزار <code>rustfix</code> همراه با نصب Rust ارائه می‌شود و
می‌تواند هشدارهای کامپایلر را به‌صورت خودکار
برطرف کند، آن هم در مواردی که راه‌حل مشخصی
برای رفع مشکل وجود دارد و احتمالاً همان چیزی است
که شما انتظار دارید. احتمالاً پیش از این با
هشدارهای کامپایلر روبه‌رو شده‌اید. برای مثال،
به کد زیر توجه کنید:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() {
    let mut x = 42;
    println!("{x}");
}</code></pre></pre>
<p>در اینجا، متغیر <code>x</code> را به‌صورت قابل‌تغییر (mutable)<br />
تعریف کرده‌ایم، اما در عمل هیچ‌گاه آن را تغییر نمی‌دهیم.<br />
Rust در این مورد به ما هشدار می‌دهد:</p>
<pre><code class="language-console">$ cargo build
   Compiling myprogram v0.1.0 (file:///projects/myprogram)
warning: variable does not need to be mutable
 --&gt; src/main.rs:2:9
  |
2 |     let mut x = 0;
  |         ----^
  |         |
  |         help: remove this `mut`
  |
  = note: `#[warn(unused_mut)]` on by default
</code></pre>
<p>هشدار پیشنهاد می‌دهد که کلمه‌ی کلیدی <code>mut</code>
را حذف کنیم. می‌توانیم این پیشنهاد را به‌صورت
خودکار با استفاده از ابزار <code>rustfix</code> و اجرای دستور
<code>cargo fix</code> اعمال کنیم:</p>
<pre><code class="language-console">$ cargo fix
    Checking myprogram v0.1.0 (file:///projects/myprogram)
      Fixing src/main.rs (1 fix)
    Finished dev [unoptimized + debuginfo] target(s) in 0.59s
</code></pre>
<p>وقتی دوباره فایل <em>src/main.rs</em> را بررسی کنیم، خواهیم دید که <code>cargo fix</code> کد را تغییر داده است:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() {
    let x = 42;
    println!("{x}");
}</code></pre></pre>
<p>متغیر <code>x</code> اکنون غیرقابل‌تغییر (immutable) شده است
و هشدار نیز دیگر نمایش داده نمی‌شود.</p>
<p>همچنین می‌توانید از دستور <code>cargo fix</code> برای انتقال کد خود بین نسخه‌های مختلف Rust استفاده کنید. نسخه‌ها در <a href="appendix-05-editions.html">ضمیمه ه</a> پوشش داده شده‌اند.</p>
<h3 id="لینتهای-بیشتر-با-clippy"><a class="header" href="#لینتهای-بیشتر-با-clippy">لینت‌های بیشتر با Clippy</a></h3>
<p>ابزار Clippy مجموعه‌ای از lintها برای تحلیل کد شماست
تا بتوانید خطاهای رایج را شناسایی کرده و کد Rust خود
را بهبود دهید. Clippy همراه با نصب استاندارد Rust
در دسترس است.</p>
<p>برای اجرای تحلیلگرهای Clippy روی هر پروژه Cargo، دستور زیر را وارد کنید:</p>
<pre><code class="language-console">$ cargo clippy
</code></pre>
<p>به عنوان مثال، فرض کنید برنامه‌ای می‌نویسید که از یک مقدار تقریبی برای یک ثابت ریاضی، مانند pi، استفاده می‌کند، همانطور که این برنامه انجام می‌دهد:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() {
    let x = 3.1415;
    let r = 8.0;
    println!("the area of the circle is {}", x * r * r);
}</code></pre></pre>
</figure>
<p>اجرای <code>cargo clippy</code> روی این پروژه منجر به این خطا می‌شود:</p>
<pre><code class="language-text">error: approximate value of `f{32, 64}::consts::PI` found
 --&gt; src/main.rs:2:13
  |
2 |     let x = 3.1415;
  |             ^^^^^^
  |
  = note: `#[deny(clippy::approx_constant)]` on by default
  = help: consider using the constant directly
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant
</code></pre>
<p>این خطا به شما اطلاع می‌دهد که Rust از پیش
ثابت <code>PI</code> دقیق‌تری را تعریف کرده است، و استفاده از
این ثابت در برنامه‌تان باعث درستی بیشتر کد می‌شود.
بنابراین باید کد خود را طوری تغییر دهید که از
ثابت <code>PI</code> استفاده کند.</p>
<p>کد زیر هیچ خطا یا هشداری از Clippy ایجاد نمی‌کند:</p>
<figure class="listing">
<span class="file-name">Filename: src/main.rs</span>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() {
    let x = std::f64::consts::PI;
    let r = 8.0;
    println!("the area of the circle is {}", x * r * r);
}</code></pre></pre>
</figure>
<p>برای اطلاعات بیشتر درباره Clippy، به <a href="https://github.com/rust-lang/rust-clippy">مستندات آن</a> مراجعه کنید.</p>
<h3 id="یکپارچهسازی-ide-با-استفاده-از-rust-analyzer"><a class="header" href="#یکپارچهسازی-ide-با-استفاده-از-rust-analyzer">یکپارچه‌سازی IDE با استفاده از <code>rust-analyzer</code></a></h3>
<p>برای یکپارچه‌سازی بهتر با محیط‌های توسعه (IDE)،
جامعه‌ی Rust استفاده از <a href="https://rust-analyzer.github.io"><code>rust-analyzer</code></a>
را توصیه می‌کند. این ابزار مجموعه‌ای از ابزارهای
وابسته به کامپایلر است که با <a href="http://langserver.org/">پروتکل زبان سرور (LSP)</a>
ارتباط برقرار می‌کند؛ این پروتکل مشخصاتی است برای
ارتباط میان IDEها و زبان‌های برنامه‌نویسی.
کلاینت‌های مختلفی می‌توانند از <code>rust-analyzer</code>
استفاده کنند، مانند <a href="https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer">افزونه‌ی Rust Analyzer برای
Visual Studio Code</a>.</p>
<p>برای دریافت دستورالعمل نصب، به <a href="https://rust-analyzer.github.io">صفحه‌ی اصلی
پروژه‌ی <code>rust-analyzer</code></a> مراجعه کنید،
سپس پشتیبانی از language server را در IDE خود نصب نمایید.
پس از آن، امکاناتی مانند تکمیل خودکار، پرش به تعریف،
و نمایش خطاها به‌صورت درون‌خطی به IDE شما اضافه خواهد شد.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="appendix-03-derivable-traits.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="appendix-05-editions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="appendix-03-derivable-traits.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="appendix-05-editions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="ferris.js"></script>



    </div>
    </body>
</html>
